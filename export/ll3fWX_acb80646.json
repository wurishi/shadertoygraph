{"ver":"0.1","info":{"id":"ll3fWX","date":"1541252675","viewed":233,"name":"Nadieh's sphere","username":"nicoptere","description":"rendition of the sphere discussed here : https://twitter.com/mattdesl/status/1058331809958760448","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["2d","gradient","hsl","bulge"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"mat2 getMat( float angle ){\n    return mat2( cos( angle ), -sin( angle ), sin( angle ), cos( angle ) );\n}\n\n//YI-Wen Lin:\n//https://gist.github.com/yiwenl/745bfea7f04c456e0101\nvec3 hsv2rgb(vec3 c)\n{\n    vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n    vec3 p = abs(fract(c.xxx + K.xyz) * 6. - 3.);\n    return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from -1 to 1)\n\tvec2 uv = ( fragCoord.xy / iResolution.xy ) * 2.0 - 1.0;\n\t\n    //preserve aspect ratio\n\tuv.x *= iResolution.x / iResolution.y;\n\n    //radius\n      float r = length(uv) * 1.618033988749894848; //1.618... = Golden ration\n\n      //grid pattern\n      vec2 chk = floor( uv * 8. );\n      vec3 col = vec3( 0.65 ) + mod( chk.x + chk.y, 2. ) * vec3(.25);\n\n      //sway\n      uv *= getMat( sin( iTime ) * .2 );\n\n      //bulge\n      uv *= ( ( 1. - sqrt( 1. - r ) ) / r );\n\n      //vertical shift\n      uv.y += iTime * .1;\n\n      //stripe\n      float stripes = 7.;\n      float hue = fract( floor( uv.y * stripes ) / stripes  );\n\n      \t//smooth-ish blend S > 1. / bloom-ish with S = 0.5\n    \t///*\n        float S = 0.5;\n        float prev = fract(  floor( uv.y * stripes ) / stripes ) - 1. / stripes;\n        float hueMix = clamp( fract( uv.y * stripes ) * S, 0.,1.);\n        hue = mix( prev, hue, hueMix );\n\t\t//*/\n\n      //convert Hue to RGB\n      vec3 hsv = hsv2rgb( vec3( hue, .75, 1. ) );\n\n      //blend\n      float alpha = smoothstep(  0.99, 1.,r );\n      fragColor.rgb = mix( hsv, col, alpha );\n      fragColor.a = 1.;\n}","name":"Image","description":"","type":"image"}]}