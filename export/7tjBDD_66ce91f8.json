{"ver":"0.1","info":{"id":"7tjBDD","date":"1652246528","viewed":148,"name":"painted eye","username":"ag","description":"Built following along with IQ's video: https://www.youtube.com/watch?v=emjuqqyq_qc","likes":6,"published":1,"flags":0,"usePreview":0,"tags":["eye"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGzn","filepath":"/media/a/0c7bf5fe9462d5bffbd11126e82908e39be3ce56220d900f633d58fb432e56f5.png","previewfilepath":"/media/ap/0c7bf5fe9462d5bffbd11126e82908e39be3ce56220d900f633d58fb432e56f5.png","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\nconst float pi = radians(180.0);\nconst mat2 r345 = mat2(0.8, 0.6, -0.6, 0.8);\n\n// fractional brownian motion\nfloat fbm(vec2 xy) {\n    xy *= 0.01;\n    float f = 0.0;\n    f += 0.5 * texture(iChannel0, xy).x; xy *= r345 * 2.01;\n    f += 0.25 * texture(iChannel0, xy).x; xy *= r345 * 2.03;\n    f += 0.125 * texture(iChannel0, xy).x; xy *= r345 * 1.99;\n    f += 0.0625 * texture(iChannel0, xy).x; xy *= r345 * 2.02;\n    return f / 0.9375;\n}\n\nfloat fbm_angular(vec2 rt) {\n    return fbm(vec2(rt.r, 100.0*sin(rt.t)));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 p = fragCoord/iResolution.xy;\n    p = 2.0 * p - 1.0;\n    p.x *= iResolution.x / iResolution.y;\n    \n    float r = length(p);\n    float a = atan(p.x, p.y);\n    \n    float ss = 10.0 - 0.5*pow(cos(0.5*iTime), 2.0);\n    float anim = 1.0 + 0.1*ss*clamp(1.0-r, 0.0, 1.0);\n    float rt = r*anim;\n    // \"effective radius\" for animated components\n    \n    vec3 col = vec3(1.0);\n    if (r < 0.82) {\n\n        // base eye color\n        col = vec3(0.2, 0.3, 0.4);\n        col = mix(col, vec3(0.2, 0.5, 0.4), fbm(4.0*p));\n        \n        a += fbm(p);\n        \n        // inner band\n        float f = 1.0 - smoothstep(0.25, 0.5, r);\n        col = mix(col, vec3(0.9, 0.6, 0.2), f);\n        \n        // white lines\n        f = smoothstep(0.3, 0.5, fbm_angular(vec2(3.2*rt + 0.1*(iTime + 2.0*ss), 0.15*a)));\n        col = mix(vec3(1.0), col, f);\n        \n        // black bits\n        f = smoothstep(0.45, 0.9, fbm_angular(vec2(2.9*rt - 0.1*(iTime - 2.4*ss), 0.03*a)));\n        col *= 1.0 - f;\n        \n        // pupil shadow\n        f = sqrt(smoothstep(0.35, 0.15, rt) * smoothstep(0.15, 0.25, rt));\n        col = mix(col, vec3(0.0), f);\n        \n        // pupil\n        col *= smoothstep(0.31, 0.35, rt);\n        \n        // outer shadow\n        f = smoothstep(0.6, 0.9, r);\n        col *= 1.0 - f;\n        \n        // blur around eye\n        f = smoothstep(0.75, 0.80, r);\n        col = mix(col, vec3(1), f);\n\n        // glow on eye\n        f = smoothstep(0.0, 0.5, length(p - vec2(0.23, 0.23)));\n        col += (1.0 - f)*vec3(1.0, 0.9, 0.8)*0.8;\n    }\n    \n    fragColor = vec4(col, 1.0);\n    \n}","name":"Image","description":"","type":"image"}]}