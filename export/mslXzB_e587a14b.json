{"ver":"0.1","info":{"id":"mslXzB","date":"1669163952","viewed":90,"name":"magic curtain","username":"vivavolt","description":"Looks even more lovely in fullscreen!","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["heart","sine","distance","tiling","cosine","hearts"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Fork of \"Lovely Curtain\" by DrLuke. https://shadertoy.com/view/MljczK\n// 2022-11-22 23:34:15\n\n/*\nWanted to make something with hearts, don't know why.\n\nThis work is licensed under a Creative Commons Attribution 4.0 International License.\nhttps://creativecommons.org/licenses/by/4.0/\n*/\n\nfloat vignette(vec2 uv) {\n    uv *=  1.0 - uv.yx;   //vec2(1.0)- uv.yx; -> 1.-u.yx; Thanks FabriceNeyret !\n    \n    float vig = uv.x*uv.y * 15.0; // multiply with sth for intensity\n    \n    vig = pow(vig, 0.25); // change pow for modifying the extend of the  vignette\n    return vig;\n}\n\nvec2 rotate(vec2 v, float a) {\n\tfloat s = sin(a);\n\tfloat c = cos(a);\n\tmat2 m = mat2(c, -s, s, c);\n\treturn m * v;\n}\n\n// Resolution dependent cell-size\n#define cellsize (iResolution.x / 23.)\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\n\tvec2 uv = (fragCoord.xy*3. / iResolution.xy)-vec2(1);\n    vec2 rawUv = fragCoord.xy / iResolution.xy;\n    uv = rotate(uv, 0.025);\n    float k = (sin(iTime / 1.0) + 1.0)/4.0 + 0.75;\n   \n    #define heartoffset vec2(sin(uv.x + iTime)*10., cos(uv.x * 10. + 0.01*sin(iTime) + iTime)*15.*(1.5-uv.y)*0.4)\n    #define heartcoord fract(((fragCoord.xy + heartoffset) - iResolution.xy/2.) / cellsize)\n    \n    vec3 col = vec3(0.2588235294, 0.1254901961, 0.2549019608);\n\n    \n    // Add a bit of shading to make things seem more 3-dimensional\n    col -= (heartoffset.y + heartoffset.x) * 0.01 * k * (1.-uv.y)*0.4;\n    col -= vec3((1.-uv.y)*0.1*k,0,0);\n    col -= (vec3(uv.y, uv.y * 0.8, uv.y)) / 8.0;\n    col *= vignette(rawUv);\n    \n\tfragColor = vec4(col, 1);\n}","name":"Image","description":"","type":"image"}]}