{"ver":"0.1","info":{"id":"7ddGzX","date":"1630484031","viewed":171,"name":"Colour Pencils","username":"bitless","description":"Colour Pencils","likes":24,"published":1,"flags":0,"usePreview":0,"tags":["2d"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Author: bitless\n// Title: Colour Pencils\n\n// Thanks to Patricio Gonzalez Vivo & Jen Lowe for \"The Book of Shaders\"\n// and Fabrice Neyret (FabriceNeyret2) for https://shadertoyunofficial.wordpress.com/\n// and Inigo Quilez (iq) for  https://iquilezles.org/www/index.htm\n// and whole Shadertoy community for inspiration.\n\n#define s(sm,p,i,j) smoothstep (p+sm,p-sm,abs(i)+j)\n\nvec3 p(vec2 uv, vec2 l, vec2 sh, float sm, out float a)\n{\n        float ys = fract(sin(dot(floor(uv),vec2(12.9898,78.233)))*43758.5453123); //random y-shift and color for cell\n        vec3 c = .6 + .6 * cos(6.3*(ys) + vec3(0.,23.,21.)); //base color HUE\n        ys += (sin(iTime*ys*2.+ys*3.)-1.)*.25; //y-shift moving \n        l.x += sh.x;\n        ys += sh.y;\n        \n        a = (smoothstep(1.,.5,abs(l.x)+(l.y-ys))*.6 + s(sm,.5,l.x,l.y-ys)*.4)*s(sm,.5,l.x,0.); //alpha mask\n        vec3 f = l.y < ys ? c*.6 :vec3(0.); //base color\n        f = mix (f,vec3(.9,.9,.6), s(sm,.5,l.x,abs(l.y-ys))); //yellow nib\n        f = mix (f,c, s(sm,.2,l.x,abs(l.y-ys-.3))); //color nib\n        f *= (1.-abs(l.x)) * (smoothstep(sm,-sm,l.x)+1.5)/2.; //light & shadow \n        return f; \n}\n\nvoid mainImage( out vec4 C, in vec2 g)\n{\n    vec2 r = iResolution.xy\n        ,uv = ((g+g-r)/r.y+vec2(0.,-iTime*0.3))*vec2(4, 1)*vec2(.75)\n        ,l = fract(uv); //cell local coords \n    float  sm = 3./r.y //smoothing factor\n            ,a; //alpha\n    \n    l.x -= .5;\n    l.y *= 4.;\n    \n    vec3 f = p(uv+vec2(0.,1.),l,vec2(0.,4.5),sm,a); //top neighbor\n    f = mix (f,p(uv+vec2(9.,0.),l,vec2(-.5,2.),sm,a),a); //left neighbor\n    f = mix(f,p(uv+vec2(8.,0.),l,vec2(.5,2.),sm,a),a); //right neighbor\n    f = mix(f,p(uv,l,vec2(0.,.5),sm,a),a); \n    C = vec4(f,1.);\n}","name":"Image","description":"","type":"image"}]}