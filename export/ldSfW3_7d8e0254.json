{"ver":"0.1","info":{"id":"ldSfW3","date":"1502411191","viewed":216,"name":"Mesmerizing Spiral","username":"Homaniac","description":"Interesting effect from modulating the amplitude and frequency of sin waves over time.","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["simple","sin","rgb"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.14159265359\n#define NUM_PI_DIVS 8.0\n\n#define PI_DIV PI/NUM_PI_DIVS\n#define HALF_PI_DIV PI_DIV*0.5\n#define THIRD_PI_DIV PI_DIV/3.0\n\n#define SMOOTH_HALF_INTERVAL HALF_PI_DIV*0.5\n\n#define SIN_AMP_MAX HALF_PI_DIV*3.0\n#define SIN_AMP_TIME_AMP 3.0\n#define SIN_FREQ_MAX 10.0\n#define SIN_FREQ_TIME_AMP 0.5\n\n#define SIN_TIME_AMP 10.0\n#define MOD_TIME_AMP 1.5\n\nfloat posSin(float x) {\n  return (sin(x)/2.0 + 0.5);\n}\n\nfloat plot(float pct, vec2 st){\n  return smoothstep(pct - SMOOTH_HALF_INTERVAL, pct, st.y)\n      - smoothstep(pct, pct + SMOOTH_HALF_INTERVAL, st.y);\n}\n\nfloat computeAmp(float time_factor) {\n  return SIN_AMP_MAX*(sin(iTime*time_factor*SIN_AMP_TIME_AMP)/2.0 + 0.5);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n  vec2 st = vec2(fragCoord.x /iResolution.x, fragCoord.y/iResolution.y);\n  st = (st - 0.5) * 2.0;\n  st.x *= iResolution.x/iResolution.y;\n\n  // Determine the polar coordinate\n  float oTheta = atan(st.y, st.x);\n  float r = length(st);\n\n  float theta = mod(oTheta + iTime*MOD_TIME_AMP, PI_DIV) - HALF_PI_DIV;\n  float theta2 = mod(oTheta - THIRD_PI_DIV + iTime*MOD_TIME_AMP*2.0/3.0, PI_DIV) - HALF_PI_DIV;\n  float theta3 = mod(oTheta - 2.0*THIRD_PI_DIV + iTime*MOD_TIME_AMP/3.0, PI_DIV) - HALF_PI_DIV;\n\n  float freq = SIN_FREQ_MAX*posSin(iTime*SIN_FREQ_TIME_AMP);\n\n  float ampR = computeAmp(1.0/3.0);\n  float ampG = computeAmp(2.0/3.0);\n  float ampB = computeAmp(1.0);\n\n  float polarPct = plot(ampR*sin(r*freq - iTime*SIN_TIME_AMP), vec2(theta));\n  float polarPct2 = plot(ampG*sin(r*freq - iTime*SIN_TIME_AMP/3.0), vec2(theta2));\n  float polarPct3 = plot(ampB*sin(r*freq - iTime*SIN_TIME_AMP*2.0/3.0), vec2(theta3));\n\n  vec3 color = vec3(polarPct, polarPct2, polarPct3);\n  // vec3 color = vec3(polarPct*posSin(u_time*2.0/3.0), polarPct2*posSin(u_time), polarPct3*posSin(u_time/3.0));\n\n  fragColor = vec4(color, 1.0);\n}\n","name":"Image","description":"","type":"image"}]}