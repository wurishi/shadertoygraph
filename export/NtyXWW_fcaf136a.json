{"ver":"0.1","info":{"id":"NtyXWW","date":"1640651360","viewed":82,"name":"ImageProcessing Sample _Blur","username":"dhayward","description":"ImageProcessing Sample Blur","likes":3,"published":1,"flags":2,"usePreview":0,"tags":["webcam"],"hasliked":0,"parentid":"stySD1","parentname":"ImageProcessing Sample Color 1"},"renderpass":[{"inputs":[{"id":"4sf3zn","filepath":"/presets/webcam.png","previewfilepath":"/presets/webcam.png","type":"webcam","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// https://www.shadertoy.com/new\n//\n\nfloat hash_01( float n )\n{\n    return fract(sin(n)*43758.5453);\n}\n\nfloat hash( float n )\n{\n    return hash_01(n)*2.0 - 1.0;\n}\n\n\nvec4 textureWithBlur( sampler2D s, vec2 pNorm, vec2 blur)\n{\n    vec4 c = vec4(0.0);\n    int maxcount=30, maxtry = 50, trycount=0, count = 0;\n    while (count < maxcount)\n    {\n        trycount++;\n        float dx = hash(pNorm.x+pNorm.y+iTime+float(count));\n        float dy = hash(pNorm.x+pNorm.y+iTime+float(count)+40.0);\n        vec2 delta = vec2(dx,dy);\n        \n        if (trycount>maxtry && dx*dx + dy*dy > 1.0)\n           continue;\n        c += texture(s, pNorm + blur*delta);\n        count ++;\n    }\n    \n    c /= float(maxcount);;\n    \n    return c;\n}\n\nvec3 DrawSlider (vec2 pos, vec2 mouse, vec3 rgb)\n{\n    if (pos.x>0.05)\n        return rgb;\n\n    if (abs(pos.y - mouse.y)<0.01)\n        return vec3(1.0);\n    return rgb * 0.5;\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 mouse = iMouse.xy / iResolution.xy;\n\tvec2 pos = fragCoord.xy / iResolution.xy;\n    \n    vec4 c = texture(iChannel0,pos);\n    \n    vec2 blurDims = 20.0 * mouse.y / iResolution.xy;\n    vec4 bc = textureWithBlur( iChannel0, pos, blurDims);\n\n    c.rgb = DrawSlider(pos, mouse, bc.rgb);\n\n\tfragColor = c;\n}","name":"Image","description":"","type":"image"}]}