{"ver":"0.1","info":{"id":"clcBDX","date":"1701641000","viewed":79,"name":"HEXA!","username":"Elsio","description":"rumo ao hexa ","likes":13,"published":1,"flags":0,"usePreview":0,"tags":["glass","refract","object","vidro","chanfro","copa"],"hasliked":0,"parentid":"dtdfRl","parentname":"Hexasticks"},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define chanfro(a)  dot(cos(a + vec2(0, -11.)), q.xy)\n#define wmod(p, w) mod(p, w) - w/2.\n#define rot(a) mat2(cos(a + vec4(0, 11, 33, 0)))\n#define cor    (cos(id * 6. + vec4(0, 23, 21, 0)) + (i/5.)) / 90.\n#define t      iTime\n#define PI     3.1415\n\nfloat id;\nfloat tambor(vec3 p, float a, float b){\n    float s, r = 1.;\n    vec3 k, q = p; \n    \n    id = wmod(atan(p.x, p.y) + a, PI / 3.);\n\n    s = length(                 //domain\n            q.xy = cos(                                        \n                       wmod(                                   \n                           atan(p.x, p.y) + a,\n                           PI / 3.\n                       ) + vec2(0, 11)\n                   ) * length(p.xy)                            \n                   - vec2(b, 0)) - r;   // cyl \n\n    s = max(s, abs(q.z) - 1.); // size\n    \n    k = abs( // chanfro hexa\n            vec3(\n                dot(cos(a +    PI/3. + vec2(0, -11.)), q.xy), \n                dot(cos(a + 2.*PI/3. + vec2(0, -11.)), q.xy),\n                dot(cos(a +    PI    + vec2(0, -11.)), q.xy)\n            ));\n    \n    return max(s, \n               max(k.x, max(k.y, k.z))\n                    + cos(7. * t) * .1 - .4); \n}\n\n\nfloat map(vec3 p) {\n    float s = 1., d, l;\n\n    // rot\n    p.z -= 3.5;\n    p.zy *= rot((t * 1.7) * .7);\n    p.xz *= rot((t * 1.5) * .7);\n\n    // map in 2 fases\n    s = min(\n            tambor(p, 0., 2.), \n            tambor(p, PI/2., sqrt(3.))\n        );\n\n    // glass\n    return abs(s) - .005;\n}\n\n\nvoid mainImage(out vec4 o, vec2 u) {\n    float d = 1., s, i; o *= 0.;\n          \n    vec3 R = iResolution, \n         rd = vec3((u.xy - R.xy * .5) / R.y, 1), p;\n    \n    while(i++ < 34.) \n        s = map(p),\n        d += max(s, 7e-3),\n        p = d * rd,\n        p.z += -2.5, \n        s < .003 ? o += .003 / d * i + cor : o;\n}","name":"Image","description":"","type":"image"}]}