{"ver":"0.1","info":{"id":"3dXBWj","date":"1589036261","viewed":82,"name":"Paradise fish","username":"Nashoute","description":"My fish paradise !","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["fish"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec4 fish(in vec2 fragCoord, float x, float y, float fishSize, float decalTime,float decalTiming,\n          float decalSpeed, float decalPos){\n    float dist = 0.;\n    vec2 uv;\n    \n    \n    //fishEye\n    uv =fragCoord/iResolution.xy;\n    uv.x -= decalTime;\n    uv.x-=0.04 ;\n    uv.x-= mod(iTime/decalSpeed,decalTiming);\n    uv.y-=(sin(x-decalPos)+1.)/(decalPos+0.5);\n    dist = length(uv)*100.;\n    if(dist < fishSize/3.){\n\t\treturn vec4(vec3(0.),1.);\n    }\n    \n    //fish body\n    uv =fragCoord/iResolution.xy;\n    uv.x -= decalTime;\n    uv.x-= mod(iTime/decalSpeed,decalTiming);\n    uv.y-=(sin(x-decalPos)+1.)/(decalPos+0.5);\n    dist = length(uv)*100.;\n    if(dist < fishSize){\n\t\treturn vec4(1.);\n    }\n    //fishTail\n    uv =fragCoord/iResolution.xy;\n    uv.x -= decalTime;\n    uv.x+=0.07;\n    uv.x-= mod(iTime/decalSpeed,decalTiming);\n    uv.y-=(sin(x-decalPos)+1.)/(decalPos+0.5);\n    dist = length(uv)*100.;\n    if(dist < fishSize/2.){\n\t\treturn vec4(1.);\n    }\n    \n    return vec4(0.1,0.1,0.1,0.1);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    \n    float waveNumbers = 4.;\n    float waterRes = 150.;\n    float waveHeight = 1.3;\n    float fishSize = 6.;\n    \n    \n    //waves\n    vec2 uv = fragCoord/iResolution.xy;\n    float y = uv.y*=16.*waterRes;\n    float x = uv.x*=waveNumbers;\n    y = floor(uv.y);\n    float col = y/waterRes+sin(x+iTime*3.)*waveHeight;\n    \n    \n    //fish\n\tvec4 myfish = fish(fragCoord, x, y, fishSize, -1.,5.,1.2,1.5);\n    if(myfish != vec4(0.1,0.1,0.1,0.1)){\n        fragColor = myfish;\n        return;\n    }\n    \n    myfish = fish(fragCoord, x, y, fishSize, 0.,4.,1.1,1.);\n    if(myfish != vec4(0.1,0.1,0.1,0.1)){\n        fragColor = myfish;\n        return;\n    }\n    \n    myfish = fish(fragCoord, x, y, fishSize, -4.2,3.,1.1,0.7);\n    if(myfish != vec4(0.1,0.1,0.1,0.1)){\n        fragColor = myfish;\n        return;\n    }\n    \n    myfish = fish(fragCoord, x, y, fishSize, -3.4,4.,1.,1.2);\n    if(myfish != vec4(0.1,0.1,0.1,0.1)){\n        fragColor = myfish;\n        return;\n    }\n    \n    //colorWaves\n    if(col < 0.1){\n        fragColor = vec4(0.6,0.6,-col+3.,1.0);\n        return;\n    }else if(col > 2.4){\n        fragColor = vec4(1.,0.6,0.8,1.0);\n        return;\n    }else{\n        fragColor = vec4(0.4,0.4,-col+3.,1.0);\n        return;\n    }    \n}","name":"Image","description":"","type":"image"}]}