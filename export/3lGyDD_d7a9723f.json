{"ver":"0.1","info":{"id":"3lGyDD","date":"1610990290","viewed":78,"name":"Mandelbrot^10","username":"christoms98","description":"Evolves the mandelbrot fractal from power 2 to power 10","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["mandelbrot"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const float PI = 3.1415926535897932384626433832795;\n\n//calculates the power for the mandolbrot fractal equation (which increases over time)\nvec2 Power(vec2 z,float power)\n{\t\n\tfloat real = cos(power * atan(z.x / z.y) - power * PI * sign(z.y) * 0.5) * pow(z.x * z.x + z.y * z.y, power / 2.0 );\n\tfloat imag = -sin(power * atan(z.x / z.y) - power * PI * sign(z.y) * 0.5) * pow(z.x * z.x + z.y * z.y, power / 2.0 );\n\t\n\treturn vec2(real, imag);\t\n}\n\n// color gradient that was given in the lab.\nvec4 hsv2rgb(vec3 c) {\n  vec3 rgb = clamp(abs(mod(c.x*6.+vec3(0.,1.,2.),4.)-3.)-1.,0.,1.);\n  rgb = rgb * rgb * (3.0 - 2.0 * rgb);\n  vec3 color = c.z * mix(vec3(1.0), rgb, c.y);\n   return vec4(color,1);\n}\n\n// color mapping that was given in the lab.\nvec4 colorMap(int i)\n{\n    if (i==256)\n        return vec4(0,0,0,1);\n    vec3 hsv = vec3(float(i)/256.0,1,1);\n    return hsv2rgb(hsv); \n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // we use sin to calculate the new power by doing ( 0 to 2) *4.0 + 2.0 = max:power=10 min:power=2\n    float time = (sin(iTime / 6.0*PI)+1.0) * 4.0 + 2.0 ;\n\tfloat power = time;\n   \n    vec2 uv = fragCoord.xy / iResolution.xy;\n    uv = uv * vec2(2.4,1.4) - vec2 (1.2, 0.7); \n\n    vec2 z = vec2(0);\n    fragColor = vec4(0);\n    \n    for (int i=0;i<256;i++)\n    {\n        if (z.x * z.x + z.y * z.y >= 4.) \n        {\n            // Color maps the Mandelbrot fractal\n            fragColor = colorMap(i);\n            break;\n        } \n           \n        // calls the power function to update the power of the fractal with the \"time\" value\n        z = Power(z,power) + uv;\n        \n    }\n}","name":"Image","description":"","type":"image"}]}