{"ver":"0.1","info":{"id":"MsG3Wm","date":"1454781629","viewed":471,"name":"Dune Stripes","username":"tholzer","description":"Dune Stripes using Gabor Noise\nchanging mouse.x -> scale waves","likes":14,"published":1,"flags":0,"usePreview":0,"tags":["2d","noise","animated","stripes","pattern","gabor","dunes","desert"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//---------------------------------------------------------\n//\n// DuneStripes.glsl               by tholzer     2016-02-06   \n//\n// inspired from https://www.shadertoy.com/view/XsBGDc\n//\n// Tags: 2d, noise, stripes, dunes, desert, animated, pattern\n//---------------------------------------------------------\nvec2 hash( vec2 p )                       // rand in [-1,1]\n{\n  p = vec2(dot(p,vec2(127.1,311.7)),\n           dot(p,vec2(269.5,183.3)));\n  return -1. + 2.*fract(sin(p+20.)*53758.5453123);\n}\n\n// 2d noise functions from https://www.shadertoy.com/view/XslGRr\nfloat noise( in int i, in int j )\n{\n  vec2 n = vec2(i,j); \n  vec2 p = floor(n);\n  vec2 f = fract(n);\n  f = f*f*(3.0-2.0*f);\n  vec2 uv = (p+vec2(37.0,17.0)) + f;\n  vec2 rg = hash( uv/256.0 ).yx;\n  return 0.5*mix( rg.x, rg.y, 0.5 );\n}\n\n//---------------------------------------------------------\n#define NB 100      // number or gabor blobs\n#define SIZE 0.25   // size of gabor blobs\n                    // freq tuned by mouse.x\n\nfloat DuneStripes (vec2 uv, float d, float freq, float time)\n{\n  float hv = 0.;\n  for (int i=0; i<NB; i++) \n  {\n    vec2 pos = vec2(noise(i,0), noise(i,1));\n    vec2 dir = (1.+d)*vec2(noise(i,2),noise(i,3)) - d;\n    hv += SIZE * sin(dot(uv-pos, freq*dir) * 6. + time);\n  }\n  return hv;\n}\n//---------------------------------------------------------\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n  vec2 uv = fragCoord.xy / iResolution.y;\n  float frequence = mix(10., iResolution.x/10., iMouse.x/iResolution.x);\n  float h = DuneStripes(uv, -1.5, frequence, - 2.5*iTime);\n  vec3 col = vec3(0.7,0.6,0.2)*h;\n  fragColor = vec4(col,1.0);\n}\n                  \n","name":"Image","description":"","type":"image"}]}