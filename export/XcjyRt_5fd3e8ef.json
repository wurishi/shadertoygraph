{"ver":"0.1","info":{"id":"XcjyRt","date":"1722834231","viewed":49,"name":"Fractal explorer","username":"Elsio","description":"em algum momento a gente precisa ao menos ter ideia dos n√∫meros exatos","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["fractal","kifs","duckball","monnier","ballfold"],"hasliked":0,"parentid":"XfjyRW","parentname":"kifs study "},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define NUM_ITER 30.\n\n// formula creditada a \n// Samuel Monnier's Ducks e Tglad's ballfold\nvec2 duckball(vec2 p, vec2 param) {\n    float i; \n    vec2 acc, m;\n    while(i++ < NUM_ITER) \n        p /= dot(p, p),\n        p = abs(p) - param,\n        acc += p;\n    \n    m = -log(acc / NUM_ITER);\n    return m / (m + 1.);\n}\n\n\n#define draw(f, cor) k = smoothstep(.01, .0, f); if(k > .5) o.rgb = k * cor\n#define grid(f) draw(f, .4 * vec3(1,1,1))\n#define mark(x, y) draw(abs(length(u - vec2(x, y)) - .03), vec3(0,0,1))\n#define pointer(p) draw(length(u - p) - .02, vec3(1))\n//#define pointer(p) draw(abs(length(u - p) - .35), vec3(1))\n\nvoid mainImage(out vec4 o, vec2 u) {\n    float t = iTime, k, t2 = cos(t) * .3 + 3.14/6.,\n          scale = 1. + .99 * sin(t / 17.);\n    \n    vec2 r = iResolution.xy, m, \n         center = .0 * vec2(cos(3. * t), sin(2. * t)),\n         //param = vec2(cos(t * .3), sin(t * .2)) * .5 + .5;\n         //param = vec2(cos(t2), sin(t2)) * 1.73;\n         param = vec2(.7, .4) + vec2(cos(.5 * t), sin(.4 * t)) * .3;\n         \n    o *= 0.;\n    u = (u + u - r) / r.y  + center;\n    m = (2. * iMouse.xy - r) / r.y  + center;\n    \n    if(iMouse.z > 40.){\n        param = m;\n        \n        o.g = duckball(u, param).y;\n        \n    } else o.rg = duckball(u, param);\n    \n        grid(abs(u.y) - .002);\n        grid(abs(u.x) - .002);\n        grid(mod(u.x, .1));\n        grid(mod(u.y, .1));\n        grid(abs(length(u) - 1.));\n        grid(abs(length(u) - sqrt(2.)));\n        grid(abs(length(u) - sqrt(3.)));\n        \n    pointer(param);\n    \n    mark(.272, .272);\n    mark(.4, .1);\n    mark(.2, .1);\n    mark(.2, .9);\n    mark(.2, .4);\n    mark(.83, .66);\n    mark(1.7, .3);\n    mark(.995, .1);\n    mark(1.05, .3);\n    mark(1., .5);\n    mark(.4, .5);\n    mark(cos(3.14/3.), sin(3.14/3.));\n    mark(cos(3.14/4.), sin(3.14/4.));\n\n    mark(1.73 * cos(3.14/6.), 1.73 * sin(3.14/6.));\n}","name":"Image","description":"","type":"image"}]}