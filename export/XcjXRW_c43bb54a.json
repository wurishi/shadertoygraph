{"ver":"0.1","info":{"id":"XcjXRW","date":"1706179164","viewed":157,"name":"itch & scratch","username":"nnniiannn","description":"2d, points, noisee\n","likes":11,"published":1,"flags":0,"usePreview":0,"tags":["2d","noise"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//non-comercial only\n//@nnniiannn\n\n#define POINTS 111\n#define MODE 0 //change from 0~2\n\nfloat t;\n\n// Functions\nfloat dist2(vec2 P0, vec2 P1) { vec2 D=P1-P0; return dot(D,D); }\n\nfloat hash (float i) { return 2.*fract(sin(i*3725.25)*1e5) - 1.; }\nvec2  hash2(float i) { return vec2(hash(i),hash(i-.1)); }\nvec4  hash4(float i) { return vec4(hash(i),hash(i-.1),hash(i-.33),hash(i+.11)); }\t\n\n// noise\nvec2 P(float i) {\n\tvec4 c = hash4(i);\n\treturn vec2(cos(t*c.x-c.z)+.5*cos(1.1*t*c.y+c.w),\n\t\t\t   (sin(t*c.y-c.w)+.5*sin(3.7*t*c.x+c.z) )/1.5);\n}\n\nmat2 rotate2D(float a) {\n    return mat2(cos(a), sin(a), -sin(a), cos(a));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    t = .75 * iTime;\n\tvec2 uv = 1.1*(fragCoord.xy / iResolution.y - vec2(.6,.5));\n\tfloat m = .5/6.283;\n\tfloat fMODE;\n    if(MODE == 0) fMODE = 0.58;\n    if(MODE == 1) fMODE = (1.-cos(6.283*m))/2.;\n\tconst int R = 3;\n\t\n\tfloat v=0.; vec2 V=vec2(0.);\n\tfor (int i=1; i<POINTS; i++) {\n\t\tvec2 p = P(float(i));\n\t\tvec2 d = p+2.*vec2(0)-uv; // possible input \n\t\tfloat r2 = fMODE * dot(d,d);\n        V += d/r2;\n                \n        if(MODE == 2){\n        V -= d/r2;\n        float r1 = clamp(.2 - r2,d.y,1e5); // organic scratches\n\t\tV += .1 * d /sin(mix(d.x, d.y, r1)); \n        }\n    }\n\t\n\tv = length(V);\n\tv *= 1./(11.3 *float(POINTS));\n\tv = clamp(v,0.0,.3);\n\t\n\tfragColor = vec4(.8+.9*sin(2.*v)) + .5*vec4(cos(.5*v));\n\n    vec3 Pink = vec3(0.511, 0.171, 0.111);\n    vec3 White = vec3(1.0, 1.0, 1.0);\n    fragColor = vec4(mix(White, Pink, fragColor.x),1);\n    fragColor = mix(fragColor, vec4(1,0,0,0), fragColor.r+0.135);\n    fragColor = mix(vec4(Pink,1)+0.655, fragColor, 0.675- fragColor.r); // pimples\n    if(MODE == 2) fragColor = mix(vec4(Pink,1)+0.855, fragColor * 1.1, fragColor.r); //scratches\n    \n    // flesh based on https://twitter.com/zozuar/status/1621229990267310081 \n    vec2 uv_n = (fragCoord-.5*iResolution.xy)/iResolution.y;\n    vec3 finalcolor = vec3(0);\n    float tt = iTime;\n    \n    vec2 n = vec2(0);\n    vec2 q = vec2(0);\n    vec2 p = uv_n;\n    float d = dot(p,p);\n    float S = 12.;\n    float a = 0.0;\n    mat2 mt = rotate2D(45.);\n\n    for (float j = 0.; j < 13.7; j++) {\n        p *= mt;\n        n *= mt;\n        q = p * S + tt * .5 + sin(t * 3. - d * 5.) * .8 + j + n; \n        a += dot(1.2 * cos(q)/S, vec2(.2));\n        n -= sin(q);\n        S *= 1.21;\n    }\n\n    finalcolor = vec3(.95, 1.2, 0.5) * (a + .2) + 2. * a - d; //flesh    \n    if(MODE == 0) fragColor += .45 * fragColor * vec4(finalcolor,1.0); \n    \n    fragColor = clamp(fragColor, 0.0, 1.0);\n}","name":"Image","description":"","type":"image"}]}