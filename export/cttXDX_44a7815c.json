{"ver":"0.1","info":{"id":"cttXDX","date":"1686093903","viewed":89,"name":"mandelbrot77","username":"77Tigers","description":"mandelbrot","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["mandelbrot"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n    vec3 camera = vec3(0.0, 1.0, -5.0);\n    vec2 uv = fragCoord/iResolution.xy;\n    vec2 p = 2.0*(fragCoord - vec2(iResolution.x/2.0, iResolution.y/2.0))/iResolution.y - vec2(0.5, 0.0);\n    //p = 0.01 * p - vec2(1.4, 0.0);\n    \n    float x, y, cx, cy;\n    x = .0;\n    y = .0;\n    \n    cx = p.x;\n    cy = p.y;\n    \n    // loop\n    int i;\n    for (i = 0; i < 80; i++) {\n        float nx = x*x - y*y + cx;\n        float ny = 2.0 * x * y + cy;\n        x = nx;\n        y = ny;\n        if (x*x + y*y >= 128.0) {\n            break;\n        }\n    }\n    \n    vec3 col = vec3(0.0);\n\n    // Output to screen\n    if (x*x + y*y >= 128.0) {\n        col = vec3(float(i) / 50.0, 0.0, 0.0);//, 1./( (0.5 / log(2.0)) * log(log(x*x + y*y) + float(i))), 0.0);\n    } else {\n        col = vec3(1.0);\n    }\n    \n    \n    {// mouse thingy\n    x = 0.;\n    y = 0.;\n    \n    cx = p.x;\n    cy = p.y;\n    \n    vec2 mouse = 2.0*(iMouse.xy - vec2(iResolution.x/2.0, iResolution.y/2.0))/iResolution.y - vec2(0.5, 0.0);\n    float extra = 0.;\n    for (int i = 0; i < 20; i++) {\n        float nx = x*x - y*y + cx;\n        float ny = 2.0 * x * y + cy;\n        x = nx;\n        y = ny;\n        float dx, dy;\n        dx = x - mouse.x;\n        dy = y - mouse.y;\n        //if (dx*dx + dy*dy < 0.2*0.2) {\n            extra += 0.001 / (dx*dx + dy*dy); //col = vec3(0.0, 1.0, 0.0);\n        //}\n        \n        if (x*x + y*y >= 128.0) {\n            break;\n        }\n    }\n    extra = clamp(extra, 0., 1.);\n    col = vec3(extra, extra, 0.0) + (1.-extra)*col;}\n    \n    {// mouse thingy 2\n    vec2 mouse = 2.0*(iMouse.xy - vec2(iResolution.x/2.0, iResolution.y/2.0))/iResolution.y - vec2(0.5, 0.0);\n    \n    x = 0.;\n    y = 0.;\n    \n    cx = mouse.x;\n    cy = mouse.y;\n    \n    float extra = 0.;\n    for (int i = 0; i < 200; i++) {\n        float nx = x*x - y*y + cx;\n        float ny = 2.0 * x * y + cy;\n        x = nx;\n        y = ny;\n        float dx, dy;\n        dx = x - p.x;\n        dy = y - p.y;\n        if (dx*dx + dy*dy < 0.01*0.01) {\n            extra = 1.;\n        }\n        \n        if (x*x + y*y >= 128.0) {\n            break;\n        }\n    }\n    extra = clamp(extra, 0., 1.);\n    col = vec3(0.0, extra, 0.0) + (1.-extra)*col;}\n    \n    fragColor = vec4(col, 1.0);\n    \n}","name":"Image","description":"","type":"image"}]}