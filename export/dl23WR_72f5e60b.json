{"ver":"0.1","info":{"id":"dl23WR","date":"1673169191","viewed":270,"name":"Birthday Balloons","username":"ABCDEFG","description":"Birthday balloons . Transparency is faked btw \n\n","likes":16,"published":1,"flags":32,"usePreview":0,"tags":["birthday","balloon","balloons"],"hasliked":0,"parentid":"DtS3Wz","parentname":"Birthday Balloons Private"},"renderpass":[{"inputs":[{"id":"Xdf3zn","filepath":"/media/a/85a6d68622b36995ccb98a89bbb119edf167c914660e4450d313de049320005c.png","previewfilepath":"/media/ap/85a6d68622b36995ccb98a89bbb119edf167c914660e4450d313de049320005c.png","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define SAMPLES 50.\n\nvoid mainImage( out vec4 O , in vec2 u )\n{\n\tvec2 U = u.xy / iResolution.xy;\n    vec2 U2 = (U*2.-1.)*vec2(1.7,1);\n    float o = texture(iChannel0, U).w; \n    vec3 cc = texture(iChannel0, U).xyz;\n    float d = texture(iChannel1, u.xy/8.).r;   \n    vec2 dtc = (U-0.5)*(1./SAMPLES);\n    for(int i=0; i<int(SAMPLES); i++)\n    {\n        U -= dtc;\n        float s = texture(iChannel0, U+dtc*d).w; \n        o += s;\n    }\n    o = 2.*o/SAMPLES;\n    cc += exp(1.-length(U2*3.2))/2.;\n    O= vec4(pow(cc*o, vec3(1./2.2)),1.);\n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[{"id":"4dXGR8","channel":0}],"code":"#define LAYERS 3             // More balloons behind each other \n#define DENSITY vec2(1.,2.)  // Higher number is more space apart\n#define THRESSHOLD 0.2       // Higher number is fewer balloons \n\n#define PI 3.1415\n#define L(u) length(u)\n#define S(p,r) smoothstep( 20./R.y, 0.,  L(uv-p) - r )  \n\nfloat h(vec2 d) {\n\n    vec2 r =  fract(d*vec2(123.23,234.534));\n    r += dot(r, r+23.4);\n    return fract(r.x*r.y);\n}\n\nvoid mainImage( out vec4 O, in vec2 u )\n{\n    vec2 R = iResolution.xy, U = (u-R.xy/2.)/R.y, NUV = u / iResolution.xy;\n    vec3 col = vec3(0);\n    float gM = 0., t = iTime+PI;\n  \nfor(float i = float(LAYERS); i > 0.; i-=1.){\n    \n    vec2 uv = U*6.*i;\n    uv.y -= t*(h((floor(uv).xx))*0.3+0.5);\n    vec2 d = floor(uv*(1./DENSITY));\n    if(h(d+21.)>=THRESSHOLD) {\n        uv = mod(uv, DENSITY)-DENSITY/vec2(DENSITY.x*2.,2.);\n        float r = h(d), ss = 4.125*(r+0.5);\n        uv += vec2(clamp(r, 0.05, 0.25))*vec2(sin(r*t)*0.5, cos(r*t)*1.5);\n        uv*=ss;\n        float sig = sign(uv.y);\n        vec2 uv2 = 2.*uv-vec2(0., -3.4);\n        float f = step(mix(1., L(vec2(abs(uv2.x)+1.*uv2.y, uv2.y*0.9)), max(0.,-sig)), 0.3);\n        uv.y = mix(uv.y*0.6, uv.y, max(0.,(sig)));\n        float lM = S(vec2(0.), 1.) + f; \n        gM += lM;\n        vec3 rb = (cos(6.*(r+0.3333*vec3(0,1,-1)))+0.5)*0.5;\n        vec3 lC =  mix(rb*0.3,rb, smoothstep(-0.92, 0.2, uv.y));\n        lC = mix(lC, rb*2.+vec3(0.5), max(0., smoothstep(0.1*(1.-uv.y*1.5), 0.4,L(uv*1.3)-1.) ));\n        lC = mix(lC, rb*0.3, f);\n        lC += exp(1.-L((uv-normalize(0.5-NUV))*6.));\n        col = mix(col,mix(vec3(0.4,0.2,0.4)/ss, lC, 1.-i/float(LAYERS)),lM); \n    }\n        else continue;\n    }\n   \n   float l = L(U),\n         y = log(l)*10., \n         x = (atan(U.y, U.x)+PI)/(2.*PI)*20.+0.33*mix(t,-t,mod(floor(y),2.)),\n         s = abs(fract(x) - 0.5);\n   col = mix( mix(vec3(0.2,0.1,0.2)*0.8 * (1.-0.3*l*vec3(step(length(fract(U*35.*mat2(1,1,-1,1))-0.5),0.3)))\n   ,vec3(2.,0,1), step( s + fract(y)+0.2, 1.)* (max(l-0.56,0.))*(1.-step( s + fract(y)+0.4, 1.))),col, \n   clamp(gM,0.,1.3));\n   col *= min(0.+((NUV.x*NUV.y*(1.-NUV.y)*(1.-NUV.x))/.01),1.);\n   O = vec4(col, max(0., (l <= .2 ? 1. : 0.)-gM));\n}","name":"Buffer A","description":"","type":"buffer"}]}