{"ver":"0.1","info":{"id":"fttcR8","date":"1659261764","viewed":173,"name":"varying width stripes effect","username":"grevel","description":"Inspired by a shirt of a stranger that I saw during my holidays.","likes":3,"published":3,"flags":0,"usePreview":0,"tags":["video","effect","bands","stripes"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4df3zn","filepath":"/media/a/3405e48f74815c7baa49133bdc835142948381fbe003ad2f12f5087715731153.ogv","previewfilepath":"/media/ap/3405e48f74815c7baa49133bdc835142948381fbe003ad2f12f5087715731153.ogv","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define lines 20.0\n#define widthMin 0.1\n#define widthMax 0.6\n\nfloat map(float inp, float inMin, float inMax, float outMin, float outMax) {\n    return (inp - inMin) / (inMax - inMin) * (outMax - outMin) + outMin;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    \n    vec2 uvClamped = uv;\n    uvClamped.y *= lines;\n    uvClamped.y = floor(uvClamped.y);\n    uvClamped.y /= lines;\n\n    vec4 texCol = vec4(texture(iChannel0, uvClamped));\n    float brightness = (texCol.x + texCol.y + texCol.z)/3.0;\n    \n    \n    float col = step(2.0*abs(fract(uv.y * lines)-0.5), map(brightness, 0.0, 1.0, widthMin, widthMax));\n    \n    fragColor = vec4(vec3(col),1.0);\n}","name":"Image","description":"","type":"image"}]}