{"ver":"0.1","info":{"id":"ctVfRz","date":"1703101418","viewed":103,"name":"Glyph wheel","username":"Shalexder","description":"somewhat inspired by some generated runes I'v seen on https://twitter.com/cmzw_ i think\n\nupdate 1: added antialiasing as suggested by FabriceNeyret in the comments","likes":19,"published":1,"flags":0,"usePreview":0,"tags":["wheel","runes","glyphs","rotationaldomainrepetition"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define B(v) col = mix( col, vec3(1), smoothstep(20./iResolution.y, 0., v) )\n\nvec2 rotate(vec2 p, float a){\n    float c = cos(a);\n    float s = sin(a);\n    mat2 m = mat2(c, -s, s, c);\n    return m*p;\n}\n\nfloat sdSegment( in vec2 p, in vec2 a, in vec2 b )\n{\n    vec2 pa = p-a, ba = b-a;\n    float h = clamp( dot(pa,ba)/dot(ba,ba), 0.0, 1.0 );\n    return length( pa - ba*h );\n}\n\nfloat glyph(vec2 p, float seed){\n   float r1 = fract(172.722*sin(seed*72.263));\n   float r2 = fract(53.72*r1);\n   \n   float r3 = fract(72.64*r2);\n   float r4 = fract(19.31*r3);\n   \n   float r5 = fract(65.19*r4);\n   float r6 = fract(55.04*r5);\n   \n   p.x = (abs(p.x-.5));\n   p.y = (abs(p.y-.5));\n   p *= 2.;\n   \n   float s1 = sdSegment(p, floor(vec2(r1, r2)*3.)/3.+.5/3., floor(vec2(r3, r4)*3.)/3.+.5/3.)-.07;\n   float s2 = sdSegment(p, floor(vec2(r3, r4)*3.)/3.+.5/3., floor(vec2(r5, r6)*3.)/3.+.5/3.)-.07;\n   \n   return min(s1, s2);\n}\n\nfloat glyphWheel(vec2 p, float n){\n    \n    float sp = 6.283185/float(n);\n    float an = atan(p.y,p.x);\n    float id = floor(an/sp);\n    \n    float a = sp*id;\n    \n    p = rotate(p, a);\n    \n    p.x -= n*.2;\n\n    p = rotate(p, sp/2.);\n    vec2 cp = p;\n    cp.x *= .5;\n    float c = max((abs(cp.y-.5)-.02), abs(cp.x+.15)-.05);\n    \n    return min(glyph(p, id+n), c);\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord-iResolution.xy*.5)/iResolution.y;\n\n    uv *= 13.;\n    \n    vec3 col = vec3(0);\n    \n    float ct = 0.025;\n    \n    B(abs(length(uv)-6.)-ct);   //outer circle\n    \n    B(glyphWheel(rotate(uv, sin(iTime*.8)), 24.)); //1st wheel\n    B(abs(length(uv)-4.35)-ct);\n    \n    B(glyphWheel(rotate(uv, sin((-iTime+2.))), 16.) ); //2nd wheel\n    B(abs(length(uv)-2.73)-ct);\n        \n    B(glyphWheel(rotate(uv, sin(iTime*1.5+82.28)), 8.)); //3rd wheel\n    B(abs(length(uv)-1.07)-ct);\n      \n    B(glyph(uv+.5, floor(iTime*2.))); //center glyph\n    \n    fragColor = vec4(col,1);\n\n}","name":"Image","description":"","type":"image"}]}