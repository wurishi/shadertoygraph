{"ver":"0.1","info":{"id":"XltSz7","date":"1478793059","viewed":979,"name":"stars in space","username":"schtiefel","description":"drag mouse to move","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["space","stars"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sf3Rn","filepath":"/media/a/0a40562379b63dfb89227e6d172f39fdce9022cba76623f1054a2c83d6c0ba5d.png","previewfilepath":"/media/ap/0a40562379b63dfb89227e6d172f39fdce9022cba76623f1054a2c83d6c0ba5d.png","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XdXGzn","filepath":"/media/a/3083c722c0c738cad0f468383167a0d246f91af2bfa373e9c5c094fb8c8413e0.png","previewfilepath":"/media/ap/3083c722c0c738cad0f468383167a0d246f91af2bfa373e9c5c094fb8c8413e0.png","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGzn","filepath":"/media/a/0c7bf5fe9462d5bffbd11126e82908e39be3ce56220d900f633d58fb432e56f5.png","previewfilepath":"/media/ap/0c7bf5fe9462d5bffbd11126e82908e39be3ce56220d900f633d58fb432e56f5.png","type":"texture","channel":2,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define maxSize 1. / 10.\n#define minSize .1\n#define zScale 5.\n#define texStep 1. / 64.\n\nvec4 light(vec3 star, vec2 coord)\n{\n    vec3 color = fract(star) * .4 + .6;\n    \n    float intensity = star.x * star.y;\n    intensity = 2. * (fract(intensity) + .1);\n    \n    float z = pow(star.z, zScale);\n    star.xy += z * (.5 * iResolution.xy - iMouse.xy);\n    float size = distance(coord, star.xy);\n    size *= maxSize;\n    size /= max(minSize, z);\n    size = max(0., 1. - size);\n    \n    return vec4(size * intensity * color, 1.);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    fragColor = vec4(0);\n    fragColor.rgb = texture(iChannel2, fragCoord / 256.).rrr * max(.8, texture(iChannel1, fragCoord / 512.).r);\n    fragColor.rgb = pow(fragColor.rgb, vec3(10.)) * .9;\n    \n    for (float y = 0.; y < .25; y += texStep) {\n        for (float x = 0.; x < 1.; x += texStep) {\n            vec3 star = texture(iChannel0, vec2(x, y)).xyz;\n            star.xy = (star.xy - .5) * 2. + .5;\n            star.xy *= iResolution.xy;\n            fragColor += light(star, fragCoord);\n        }\n    }\n}","name":"Image","description":"","type":"image"}]}