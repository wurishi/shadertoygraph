{"ver":"0.1","info":{"id":"3sdfDf","date":"1606156515","viewed":38,"name":"Komet rain","username":"Voldemar","description":"Komet rain","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["kometrain"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"mat2 rot(float a){float s=sin(a),c=cos(a);return mat2(c,-s,s,c);}\n\nfloat dist(vec3 p){\n    float scale=2.0;\n\n    int i;\n    for(i=0;i<29;i++){\n        if(i>0){\n        \tp.xz*=rot(iTime/20.);\n        \tp.xy*=rot(iTime/20.);\n        }\n        p*=scale;\n        p=abs(p);\n        p-=20.3;\n\t}\n\treturn (length(p)-.5)/pow(scale,float(i))*.7;\n}\n\nvec3 norm(vec3 p){\n    vec2 e=vec2(.0001,0.);\n    float dp=dist(p);\n\treturn normalize(vec3(\n    \tdp-dist(p-e.xyy),\n    \tdp-dist(p-e.yxy),\n        dp-dist(p-e.yyx)\n    ));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 FC )\n{\n    vec2 uv=(FC*2.-iResolution.xy)/iResolution.y;\n    float e,d=0.;\n    vec3 p,rd=normalize(vec3(uv,1)),ro=vec3(0.,0.,.7);\n    ro.xz*=rot(iTime/10.);\n    rd.xz*=rot(iTime/10.);\n    int i;\n    for(i=0;i<99;i++){\n        p=rd*d-ro;\n        d+=e=dist(p);\n        if(e<.002)break;\n    }\n    //p.xz*=rot(iTime);\n    vec3 col=vec3(0.);\n    if(d<999.) col+=norm(p)*.9+.7;\n    fragColor = vec4(vec3(col),1.0);\n}","name":"Image","description":"","type":"image"}]}