{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[{"channel":0,"type":"texture","id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"}}],"code":"//by mu6k\n//License Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.\n//A simple sharpening filter. Useful in some situations. Perfect for low resolution movies.\n//muuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuusk!\n\nfloat r = 1.0/512.0; //    1/texture_resolution\nfloat strength = 9.0; //  effect strength\n\nvec4 sharp(sampler2D sampler,vec2 uv)\n{\n\tvec4 c0 = texture(sampler,uv);\n\tvec4 c1 = texture(sampler,uv-vec2(r,.0));\n\tvec4 c2 = texture(sampler,uv+vec2(r,.0));\n\tvec4 c3 = texture(sampler,uv-vec2(.0,r));\n\tvec4 c4 = texture(sampler,uv+vec2(.0,r));\n\tvec4 c5 = c0+c1+c2+c3+c4;\n\tc5*=0.2;\n\tvec4 mi = min(c0,c1); mi = min(mi,c2); mi = min(mi,c3); mi = min(mi,c4);\n\tvec4 ma = max(c0,c1); ma = max(ma,c2); ma = max(ma,c3); ma = max(ma,c4);\n\treturn clamp(mi,(strength+1.0)*c0-c5*strength,ma);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n\tvec2 tex = vec2(1.0,1.0)/ iResolution.xy;\n\tvec2 m = iMouse.xy / iResolution.xy;\n\n\tvec2 zoom_uv = (uv-m)*(0.5-cos(iTime*0.3)*0.4)-m;\n\tzoom_uv.y = - zoom_uv.y;\n\tvec4 color;\n\n\n\tvec4 col0 = sharp(iChannel0,zoom_uv);\n\n\tvec4 col1 = texture(iChannel0,zoom_uv);\n\t\n\tfloat mode = clamp(0.0,sin(0.5+-uv.x*2.0+uv.y+iTime*0.71)*10.0+0.5,1.0);\n\tfloat mode_trans = abs(mode-0.5); mode_trans*=2.0;\n\t\n\tvec4 final = mix(col0,col1,mode);\n\t\n\tfragColor = mix(abs(col0-col1)*8.0,final,mode_trans);\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"lsX3Dn","date":"1367167236","viewed":1105,"name":"Sharpening filter","username":"mu6k","description":"A simple sharpening filter. Useful in some situations. Perfect for low resolution movies.","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["2d","texture","filter","sharp"],"hasliked":0,"parentid":"","parentname":""}}