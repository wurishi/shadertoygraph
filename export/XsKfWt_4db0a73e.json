{"ver":"0.1","info":{"id":"XsKfWt","date":"1531051843","viewed":360,"name":"Sunrise Sunset and Sine Waves","username":"JohanFlod","description":"continued work on the parallax waves. ","likes":8,"published":1,"flags":0,"usePreview":0,"tags":["2d","waves","fun","summer"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\nconst int NUM_WAVES = 5;\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 st = fragCoord/iResolution.xy;\n    \n   \tfloat wave1;\n    vec3 colour = vec3(0.5);\n    st.x=8.0*st.x-2.8;\n    st.y=5.0*st.y-1.8;\n    float combined_colour;\n    // the sun body\n    \n    float moving_sun = 2.5*abs(sin(0.2*iTime))-0.8;\n    float dist_sun = (distance(st,vec2(0.,moving_sun)));\n    float sun_colour= (smoothstep(0.2,0.55,1.-dist_sun));\n   \t\n   \n    // glow from the sun\n    float glow_size = (dist_sun/3.0);\n    float glow_frequence = abs(cos(.2*iTime));\n    float glow_intensity = abs(cos(.2*iTime));\n   \n    float strength = 0.5;\n    \n    float glow =strength*(1.- glow_intensity*glow_frequence*glow_size);\n   \n    // combine sun and the glow from the sun\n    \n    combined_colour= mix(glow,0.6+0.9*st.y/2.5,sun_colour);\n    colour= vec3(combined_colour);\n    \n  \n  \t\n    vec3 grey=vec3(.5);\n    for(int j = NUM_WAVES; j >0; j--)\n    {\n        float i = float(j);\n    \tfloat wave_input= .6/(2.5*i)*(sin(+iTime))*(sin(0.5*(i*.432)*st.x*4.+iTime*.8+st.y))-.8/i-1.+1.;\n    \twave1 = smoothstep(wave_input-0.1/i,wave_input,st.y);\n        colour.b = mix((1.-st.y/2.5)*(.15*i)*(1.-0.5*abs(cos(.2*iTime))),colour.b,wave1);\n    }\n\t\n    colour = vec3(colour.b);\n\t\n    fragColor = vec4(colour,1.0);\n}\n\n\n\n","name":"Image","description":"","type":"image"}]}