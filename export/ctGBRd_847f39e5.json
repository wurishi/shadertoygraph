{"ver":"0.1","info":{"id":"ctGBRd","date":"1702397091","viewed":57,"name":"Noiseplanet","username":"ZoldLeo","description":"Planet w/ noisy motion-blur","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["raymarching"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sf3Rn","filepath":"/media/a/0a40562379b63dfb89227e6d172f39fdce9022cba76623f1054a2c83d6c0ba5d.png","previewfilepath":"/media/ap/0a40562379b63dfb89227e6d172f39fdce9022cba76623f1054a2c83d6c0ba5d.png","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4sfGRr","filepath":"/media/a/27012b4eadd0c3ce12498b867058e4f717ce79e10a99568cca461682d84a4b04.bin","previewfilepath":"/media/ap/27012b4eadd0c3ce12498b867058e4f717ce79e10a99568cca461682d84a4b04.bin","type":"volume","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define STEPL .01\n#define STEPD 3.65\n\nfloat rand(vec2 co) { return fract(sin(dot(co, vec2(12.9898*iTime, 78.233*iTime))) * 43758.5453); }\n\nfloat height(vec3 uv) {\n    uv /= 10.;\n    float h = texture(iChannel0,uv).x;\n    h += texture(iChannel0,uv*2.).x/2.;\n    h += texture(iChannel0,uv*4.).x/4.;\n    return h/1.75/2.;\n}\n\nvec4 hCol(float h) {\n    h*=2.;\n    if (h<=.4) return vec4(0,0,1,1);\n    if (h<=.5) return vec4(.2,.2,1,1);\n    if (h<=.52) return vec4(.9,.9,.2,1);\n    if (h<=.6) return vec4(.2,.7,.2,1);\n    if (h<=.72) return vec4(.6,.6,.6,1);\n    return vec4(1);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord*2.-iResolution.xy)/iResolution.x;\n    if (rand(uv)>=.75) discard;\n    float st = sin(.5*iTime);\n    float ct = cos(.5*iTime);\n    vec3 ro = vec3(ct,0,st)*2.65;\n    vec3 rd = vec3(uv,1);\n    rd = vec3(-rd.x*st-rd.z*ct,rd.y,rd.x*ct-rd.z*st);\n    int l = int(STEPD/STEPL);\n    if (abs(uv.x)<.5&&abs(uv.y)<.5)\n        for (int i=0;i<l;i++) {\n            ro += rd*STEPL;\n            float h = height(normalize(ro))/2.+1.;\n            float h1 = max(h,.25);\n            if (dot(ro,ro)<=h1*h1) {\n                fragColor = vec4(hCol(h*2.-2.));\n                return;\n            }\n        }\n\n    fragColor = vec4(0);\n    \n}","name":"Image","description":"","type":"image"}]}