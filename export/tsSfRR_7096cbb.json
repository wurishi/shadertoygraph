{"ver":"0.1","info":{"id":"tsSfRR","date":"1589340766","viewed":59,"name":"CMPM163_Lab6","username":"cpeeters","description":"Shader for lab6","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["lab6"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XdfGRn","filepath":"/media/a/e6e5631ce1237ae4c05b3563eda686400a401df4548d0f9fad40ecac1659c46c.jpg","previewfilepath":"/media/ap/e6e5631ce1237ae4c05b3563eda686400a401df4548d0f9fad40ecac1659c46c.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//tests the distance to a single point\n//distance from point to line\nfloat DistLine(vec3 ro, vec3 rd, vec3 p){\n\treturn length(cross(p-ro,rd))/length(rd);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord.xy/iResolution.xy;\n    \n    //move uv to orgin of screen\n    uv -= .5;\n    \n    //acount for aspect ratio\n    uv.x *= iResolution.x/iResolution.y;\n    \n    //makes ray orgin for the camera positon\n    vec3 ro = vec3 (0.,0.,-2.);\n    \n    //makes vec3 for ray distance to the screen using uv cordinates as input\n    vec3 rd = vec3(uv.x, uv.y, 0.)-ro;\n    \n    //get time to use to move the disk in a circle\n    float t = iTime;\n    \n    //point to calculate distance to\n    vec3 p = vec3(sin(t),0.,1.+cos(t));\n    \n    //calculates distance from point\n    float d = DistLine(ro,rd,p);\n    \n    //makes disc out of the rays\n    d = smoothstep(.1,.09,d);\n    \n    //gets the channel0 image\n    vec4 sampledColor = texture(iChannel0, uv);\n    \n    // make disk with background\n    fragColor = vec4(sampledColor * d);\n\n}","name":"Image","description":"","type":"image"}]}