{"ver":"0.1","info":{"id":"MfKcRK","date":"1732116491","viewed":98,"name":"change color spiral","username":"nayk","description":"source fractal by gaz","likes":3,"published":3,"flags":0,"usePreview":0,"tags":["spiral","color"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define Q(p) p *= 2.*r(round(atan(p.x, p.y) * 4.) / 4.)\n#define r(a) mat2(cos(a + asin(vec4(0,1,-1,0))))\nvoid rot(inout vec3 p,vec3 a,float t){\n\ta=normalize(a);\n\tvec3 u=cross(a,p),v=cross(a,u);\n\tp=u*sin(t)+v*cos(t)+a*dot(a,p);   \n}\n\nvoid mainImage(out vec4 O, vec2 C) {\n    O=vec4(0);\n    \n\tfor(float n,g,e,j,i;i++<50.;){\n    \tvec3 p=g*vec3((C*2.-iResolution.xy)/iResolution.y,1);\n       \n       float time=mod(iTime,10.);\n       p.z+=iTime*0.001;\n       if(time<3.){ \n        n=ceil(p.x);\n        }\n         if(time>3.){ \n        n=ceil(p.y);\n        }\n        if(time>6.){ \n        n=ceil(p.z);\n        }\n         Q(p.xy);\n        rot(p, vec3(0.,1.,1.), iTime);\n        p.xy+=fract(p.xy);\n        p=fract(p)-.5;\n         Q(p.xy);\n        for(j=0.;j++<3.+mod(n,2.);)\n       \n            p.xy=abs(p.xy)-.05,\n            p.xy=vec2(p.x+p.y,p.x-p.y)*.7;\n        g+=e=.5*length(p.yz)-.001;\n        e<.01?O.xyz+=abs(sin(vec3(1,2,3)+n))*.6/i:p;\n    }\n}","name":"Image","description":"","type":"image"}]}