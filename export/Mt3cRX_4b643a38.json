{"ver":"0.1","info":{"id":"Mt3cRX","date":"1533392490","viewed":235,"name":"(Temporal) Dithering - Noise","username":"matt77hias","description":"Noise for (Temporal) Dithering\n\nPart of MAGE (https://github.com/matt77hias/MAGE; https://github.com/matt77hias/MAGE/blob/master/MAGE/Shaders/shaders/backbuffer/back_buffer_PS.hlsl\n\nSee also: https://www.shadertoy.com/view/lt3yDS","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["dithering","temporaldithering"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"uint Hash_Wang(uint key) {\n\tkey = (key ^ 61u) ^ (key >> 16u);\n\tkey = key + (key << 3u);\n\tkey = key ^ (key >> 4u);\n\tkey = key * 0x27D4EB2Du;\n\tkey = key ^ (key >> 15u);\n\treturn key;\n}\n\nfloat UniformUintToFloat(uint u) {\n\t// IEEE-754: 2^-32 = 0x2F800000\n\treturn float(u) * uintBitsToFloat(0x2F800000u);\n}\n\n//#define DISABLE_DITHERING\n//#define DISABLE_TEMPORAL_DITHERING\n\nvoid mainImage(out vec4 color, in vec2 fragCoord) {\n    uint  index = uint(fragCoord.y * iResolution.x + fragCoord.x);\n    \n    #ifdef DISABLE_DITHERING\n    float noise = 0.0f;\n\t#else  // DISABLE_DITHERING\n    \n    #ifdef DISABLE_TEMPORAL_DITHERING\n    uint  key   = index;\n    #else  // DISABLE_TEMPORAL_DITHERING\n    uint  key   = index ^ floatBitsToUint(iTime);\n\t#endif // DISABLE_TEMPORAL_DITHERING\n    \n    uint  state = Hash_Wang(key);\n    float noise = UniformUintToFloat(state);\n    #endif  // DISABLE_DITHERING\n    \n    color       = vec4(vec3(noise), 1.0f);\n}","name":"Image","description":"","type":"image"}]}