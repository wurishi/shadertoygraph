{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[{"channel":0,"type":"texture","id":"Xsf3zn","filepath":"/media/a/f735bee5b64ef98879dc618b016ecf7939a5756040c2cde21ccb15e69a6e1cfb.png","sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"}}],"code":"float mlength(vec2 v) {\n\treturn abs(v.x) + abs(v.y);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n\tuv *= vec2(iResolution.x/iResolution.y, 1.0);\n\tvec2 rp = vec2(4.0+sin(iTime+uv.y), 4.0+cos(iTime+uv.x))+iChannelResolution[0].x*uv/(iChannelResolution[0].x/8.0);\n\tvec2 p = floor(rp);\n\tvec4 tex = vec4(0.0);\n\tfloat minLen = 100000.0;\n\tfor (float y=-1.0; y<2.0; y++) {\n\t\tfor (float x=-1.0; x<2.0; x++) {\n\t\t\tvec2 np = p+vec2(x,y);\n\t\t\tvec2 tv = mod(np/iChannelResolution[0].x, 1.0);\n\t\t\tvec4 t = texture(iChannel0, tv);\n\t\t\tfloat l = mlength(rp - (np+(0.5-t.xy)*2.0));\n\t\t\tif (l < minLen) {\n\t\t\t\ttex = t;\n\t\t\t\tminLen = l;\n\t\t\t}\n\t\t}\n\t}\n\t\n\tfragColor = tex;\n}\n","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"MdS3Dh","date":"1386870721","viewed":311,"name":"2D Voronoi map","username":"kig","description":"Quick try at generating a Voronoi map.","likes":6,"published":1,"flags":0,"usePreview":0,"tags":["voronoi","simple"],"hasliked":0,"parentid":"","parentname":""}}