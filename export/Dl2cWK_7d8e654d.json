{"ver":"0.1","info":{"id":"Dl2cWK","date":"1692301994","viewed":203,"name":"honeyX","username":"Del","description":"grid","likes":13,"published":3,"flags":0,"usePreview":0,"tags":["grid"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\nvec4 HexGrid(vec2 uv, out vec2 id)\n{\n    uv *= mat2(1.1547,0.0,-0.5773503,1.0);\n    vec2 f = fract(uv);\n    float triid = 1.0;\n\tif((f.x+f.y) > 1.0)\n    {\n        f = 1.0 - f;\n     \ttriid = -1.0;\n    }\n    vec2 co = step(f.yx,f) * step(1.0-f.x-f.y,max(f.x,f.y));\n    id = floor(uv) + (triid < 0.0 ? 1.0 - co : co);\n    co = (f - co) * triid * mat2(0.866026,0.0,0.5,1.0);    \n    uv = abs(co);\n    id*=inverse(mat2(1.1547,0.0,-0.5773503,1.0)); // optional unskew IDs\n    return vec4(0.5-max(uv.y,abs(dot(vec2(0.866026,0.5),uv))),length(co),co);\n}\nmat2 rotate2D(float r) {\n    return mat2(cos(r), sin(r), -sin(r), cos(r));\n}\n\nvec3 gridnoise(vec2 uv)\n{\n\n    float t = iTime*1.5;\n    vec2 n = vec2(0);\n    vec2 q = vec2(0);\n    vec2 p = uv;\n    float d = dot(p,p);\n    float S = 7.;\n    float a = 0.0;\n    mat2 m = rotate2D(5.0);\n    for (float j = 0.; j < 6.; j++)\n    {\n        p *= m;\n        n *= m;\n        q = p * S + t * 0.55 + sin(t * 0.65 - d * 4.0) * 4.0 + j + a - n; \n        a += dot(cos(q)/S, vec2(0.4));\n        n -= sin(q+q*0.05);\n        S *= 1.4;\n\t    m=m*1.01;\n    }\n\n    vec3 col = vec3(1.9, 2.8, 1.6) * ((a*3.0)+0.3 ) + a + a - d;\n    return col;\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = (fragCoord.xy - 0.5 * iResolution.xy) / iResolution.y;\n    vec3 col = gridnoise(uv);\n\t\n\tuv *= rotate2D(iTime*0.075);\n    \n    \n\tvec3 finalcol = vec3(0.3);\n\tvec3 bordercol = col;\n\tvec2 id;\n \tvec4 h = HexGrid(uv*7.0, id);\t\n    \tfloat vv = smoothstep(0.01, 0.085, h.x);\n        vv=vv*vv;\n\t\n\tfloat xx = 1.0-vv;\n\t\n   \t  finalcol = xx*mix(bordercol,finalcol,vv); // white edge\t\n\tfinalcol += vec3(0.3)-xx;\n\n    // Output to screen\n    fragColor = vec4(finalcol,1.0);\n}","name":"Image","description":"","type":"image"}]}