{"ver":"0.1","info":{"id":"fdd3Wf","date":"1630773111","viewed":108,"name":"CA Progression","username":"oneshade","description":"Messing with cellular automata.","likes":5,"published":3,"flags":32,"usePreview":0,"tags":["ca","cellularautomata"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"nearest","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    fragColor = texture(iChannel0, fragCoord / iResolution.xy);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4sXGRn","filepath":"/media/a/95b90082f799f48677b4f206d856ad572f1d178c676269eac6347631d4447258.jpg","previewfilepath":"/media/ap/95b90082f799f48677b4f206d856ad572f1d178c676269eac6347631d4447258.jpg","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"nearest","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"void mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    fragColor = vec4(0.0);\n    if (iFrame == 0) {\n        fragColor.x = float(texture(iChannel1, fragCoord / iResolution.xy).x > 0.49);\n    }\n\n    if (iFrame > 0) {\n        ivec2 iFragCoord = ivec2(fragCoord);\n        fragColor = texelFetch(iChannel0, iFragCoord, 0);\n\n        int neighbors = 0;\n        float total = 0.0;\n        for (int i=-1; i < 2; i++) {\n            for (int j=-1; j < 2; j++) {\n                if (i == 0 && j == 0) continue;\n                float state = texelFetch(iChannel0, iFragCoord + ivec2(i, j), 0).x;\n                neighbors += state > 0.5 ? 1 : 0;\n                total += state;\n            }\n        }\n\n        if (fragCoord.x > 0.5) {\n            fragColor.x += 0.1 * float(neighbors > 0 && neighbors < 6);\n            if (iTime > 5.0 && iTime < 8.0) fragColor.x -= total / 9.0;\n            if (iTime > 8.0 && iTime < 8.5) fragColor.x += total / 9.0;\n            if (iTime > 10.0) fragColor.x = clamp(fragColor.x, 0.0, 1.0);\n        }\n\n        else fragColor.x = float(neighbors == 3);\n    }\n}","name":"Buffer A","description":"","type":"buffer"}]}