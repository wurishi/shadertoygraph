{"ver":"0.1","info":{"id":"tlKSWw","date":"1582891390","viewed":106,"name":"StrangeFoam","username":"olli666","description":"Foam of colourful bubbles.","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["foam"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// strange foam of coloured bubbles. wonderfully wasteful calculation.\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{   \n    float timeScale = iTime * 0.1;\n    \n    fragColor = vec4(0.2,0.4,0.8,0.0);\n    // draw N bubbles. use fragColor.a channel to plot only the highest bubble.\n    for (float i = 0.0 ; i < 50.0; i ++) {\n        // bubble's coordinate\n        vec2 ax = vec2(0.9+0.7*cos(timeScale+i*23.0), 0.7+0.6*sin(timeScale+i*17.0));       \n        \n        // current pixel \"height\" vs. the given bubble\n\t    vec2 uv = fragCoord/iResolution.y - ax;\n        float sizeScale = 5.0 + 5.0*(1.0+cos(5.0*(timeScale + i)));\n        float height = 1.0 - sizeScale*(uv.x*uv.x + uv.y*uv.y);\n        \n        if (height > fragColor.a) {\n            // highest bubble so far, colorize & apply\n\t\t\tfragColor = height*vec4(                \n                0.6+0.4*cos(i+timeScale), \n                0.6+0.4*sin(i+timeScale), \n                0.8+0.4*(sin(3.0*i)+cos(2.0*i)),\n                1.0\n            );\n        }\n    }\n    fragColor.a = 1.0;\n}","name":"Image","description":"","type":"image"}]}