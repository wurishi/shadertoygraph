{"ver":"0.1","info":{"id":"dlB3zt","date":"1673721870","viewed":141,"name":"tex3d fixed","username":"starea","description":"trilinear filtering 2d atlas","likes":3,"published":3,"flags":0,"usePreview":0,"tags":["trilinearfiltering"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGzr","filepath":"/media/a/08b42b43ae9d3c0605da11d0eac86618ea888e62cdd9518ee8b9097488b31560.png","previewfilepath":"/media/ap/08b42b43ae9d3c0605da11d0eac86618ea888e62cdd9518ee8b9097488b31560.png","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Fork of \"tex3d\" by tikabom. https://shadertoy.com/view/sd3fDN\n// Quick fix of its plain cyan.\n// 2023-01-14 18:44:04\n\nvec2 get_2D_atlas_coordinate(in vec3 uvw) {\n    float z = uvw.z * 64.0;\n    float c = floor(mod(z, 8.0));\n    float r = floor(uvw.z * 8.0);\n    float normalized_x = (c + uvw.x) / 8.0;\n    float normalized_y = (r + uvw.y) / 8.0;\n    return vec2(normalized_x, normalized_y);\n}\n\nvec4 tex3D(in sampler2D atlas, in vec3 uvw) {\n    vec2 sample1 = get_2D_atlas_coordinate(uvw); \n    vec2 sample2 = get_2D_atlas_coordinate(vec3(uvw.xy, min(1.0, uvw.z + (1.0 / 64.0))));\n    \n    vec4 color1 = texture(atlas, sample1);\n    vec4 color2 = texture(atlas, sample2);\n    \n    float z = uvw.z * 64.0;\n    float fraction = fract(z);\n    vec4 colorz = color1 * (1.0 - fraction)  + color2 * (fraction);\n    \n    return colorz;\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec3 uvw = vec3(fragCoord / iResolution.xy, fract(iTime * 0.01));\n    \n    fragColor = tex3D(iChannel0, uvw);\n}\n","name":"Image","description":"","type":"image"}]}