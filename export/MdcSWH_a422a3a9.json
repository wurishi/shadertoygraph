{"ver":"0.1","info":{"id":"MdcSWH","date":"1459018228","viewed":233,"name":"24pi","username":"vamoss","description":"Original work: http://flotsam.sellingwaves.com/post/137845201876/24%CF%80","likes":11,"published":1,"flags":0,"usePreview":0,"tags":["circles","line","spinning"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// original work: http://flotsam.sellingwaves.com/post/137845201876/24%CF%80\n\nconst float zoom = 8.;\nconst float outlines = 4.;\nconst float edges = 5.0;\nconst float edgeDistance = outlines-0.5;\nconst float cropAngle = 3.7;//0-2*PI\n\n#define PI 3.14159265359\n#define HALF_PI 1.57079632679\n#define TWO_PI 6.28318530718\n\nfloat circles(vec2 uv){\n    float circle = length(uv);\n    circle *= 1.-step(outlines, circle);\n    float angle = atan(uv.y, uv.x)+PI;\n    if(angle<cropAngle) return smoothstep(.05, .1, abs(fract(circle)-.5));\n    return 1.0;\n}\n\n//*\n//Vamoss version 939 chars\nmat2 rotate2d(float _angle){\n    return mat2(cos(_angle),-sin(_angle),\n                sin(_angle),cos(_angle));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = zoom * (fragCoord*2.-iResolution.xy)/iResolution.y;\n    \n    //bg\n    vec3 color = vec3(0.2, 0.1, 0.25);\n    \n    //circles\n    for(float i=0.; i<edges; i++){    \n        float angle = i/edges*TWO_PI-HALF_PI;\n        vec2 pos = uv + vec2(cos(angle)*edgeDistance, sin(angle)*edgeDistance);\n    \tif(iMouse.z>0.) pos *= rotate2d(-iMouse.x/iResolution.x*10.-angle);\n        else pos *= rotate2d(-iTime-angle);\n\t    color = mix(vec3(0, 1, 0.8), color, circles(pos));\n    }\n    \n\tfragColor = vec4(color,1.0);\n}\n/**/\n/*\n//FabriceNeyret2 version 720 chars\n#define rot(a) mat2(cos(a),-sin(a), sin(a),cos(a))\nvoid mainImage( out vec4 O, vec2 U )\n{\n    float t=iTime, a;\n    vec2 R = iResolution.xy, \n        pos, D = edgeDistance*vec2(cos(-t), sin(-t));\n    U = zoom * (U+U-R)/R.y;\n    \n    O = vec4(.2, .1, .25, 1);\n    \n    for(float i=0.; i<1.; i+=1./edges){    \n        a = i*TWO_PI - HALF_PI;\n        pos = U*rot(-t-a) + D;\n\t    O = mix(vec4(0, 1, .8,1), O, circles(pos));\n    } \n}\n/**/","name":"Image","description":"","type":"image"}]}