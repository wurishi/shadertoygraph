{"ver":"0.1","info":{"id":"XXyXzK","date":"1720145312","viewed":45,"name":"Weird reciprocals","username":"xld3","description":"tried to do something interesting with 'infinity' on the screen.","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["mouse","reciprocal"],"hasliked":0,"parentid":"4XK3DG","parentname":"Ziggy zags"},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage(out vec4 o, in vec2 f)\n{\n    f = (f+f)/iResolution.xy - 1.; // NDC (-1.0 -> 1.0)\n    vec2 M = (iMouse.z != 0.) ? (iMouse.xy+iMouse.xy)/iResolution.xy - 1. : vec2(0.);\n    \n    float lF = length(f),\n        T = iTime*.1,\n        sT = sin(T),\n        lM = length(M),\n        // rotation angle\n        A = radians((sT - M.x) * lF * 90. ) - M.x, \n        B = sin(A),\n        C = cos(A),\n        nT = .5+.5*sT; // ( 0 -> 1) \n        \n    // this transform is pretty cool\n    //                  (0 -> 1), 0->1 + mouse dist\n    f = mix(f, f*(.5+.5*lF), nT + lM);\n\n    // weird reciprocals\n    f = mix(f, f*1./(lF+M.y-.5), nT + lM);\n\n    // rotate, zoom +- mouse.y\n    f *= mat2(C, B, -B, C) * (2.5 + nT + M.y);\n\n    // wave\n    float wave = T + abs(f.x * f.y) + cos(T) * sT*dot(f, f),\n        // edge\n        edge = sin(wave + 3.*lM);\n        \n    o = vec4(\n    // rgb waves\n    2.*cos(wave + lM + vec3(1, 2, 3))\n\n    // this darkens the \"noisy\" areas\n    *smoothstep(2., -2., fwidth(wave))\n\n    // black edges\n    * (smoothstep(1., -1., (abs(edge) - .5) / fwidth(edge))\n        // edge glow\n        + smoothstep(3., -3., abs(edge))), 1.);\n}","name":"Image","description":"","type":"image"}]}