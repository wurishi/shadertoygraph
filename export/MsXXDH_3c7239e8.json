{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[{"channel":0,"type":"video","id":"4sX3Rn","filepath":"/media/a/c3a071ecf273428bc72fc72b2dd972671de8da420a2d4f917b75d20e1c24b34c.ogv","sampler":{"filter":"linear","wrap":"clamp","vflip":"false","srgb":"false","internal":"byte"}}],"code":"float luma (vec3 rgb) {\n\treturn (rgb.r + rgb.g + rgb.b)/3.0;\n}\n\nconst float T = 0.04;\nconst float M = 1.0;\nconst float L = 0.002;\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = (fragCoord.xy / iResolution.xy);\n\tvec4 tc = texture(iChannel0, uv);\n\tfloat l = luma (tc.rgb) ;\n\t\n\tfloat q0 = fwidth (l);\n\tfloat q1 = abs (dFdx (l)); \n\tfloat q2 = abs (dFdy (l));\n\n\tvec4 ct = vec4 (1.0, 1.0, 1.0, 0.0);\n\tvec4 c0 = mix (ct, vec4 (1.0, 0.0, 0.0, 1.0), \n\t\tsmoothstep (T * (1.0 - M), T * (1.0 + M), q0));\n\t\n\tvec4 c1 = mix (ct, vec4 (0.0, 0.0, 1.0, 1.0), \t\t\t\t   \n\t\tsmoothstep (T * (1.0 - M), T * (1.0 + M), q1));\n\t\n\tvec4 c2 = mix (ct, vec4 (0.0, 1.0, 0.0, 1.0),\n\t\tsmoothstep (T * (1.0 - M), T * (1.0 + M), q2));\n\t\t\n\t\n\tfloat line0 = uv.x - 0.5;\n\tfloat line1 = uv.y - 0.5;\n\t\n\tvec4 cl = vec4 (1.0, 1.0, 0.0, 1.0);\t\n\tvec4 cr = mix (cl, mix (c1, c2, step (0.0, line1)), step (L, abs (line1)));\t\n\tvec4 cd = mix (cr, c0, step (0.0, line0));\t\n\tvec4 cf = mix (cl, cd, step (L, abs(line0)));\n\t\n\tfragColor = mix (tc, cf, cf.a);\n\t\t\n\t\t\n\t\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"MsXXDH","date":"1400067117","viewed":442,"name":"Cheap edge detection","username":"Coldberg","description":"cheap edge detection with dFdx, dFdy, fwidth","likes":7,"published":1,"flags":0,"usePreview":0,"tags":["detection","edge","dfdx","dddy","fwidth"],"hasliked":0,"parentid":"","parentname":""}}