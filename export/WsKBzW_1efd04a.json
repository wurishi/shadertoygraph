{"ver":"0.1","info":{"id":"WsKBzW","date":"1606684094","viewed":138,"name":"You Spin Me Round","username":"mard","description":"Bunch of spinning and moving circles. But are these really moving?","likes":8,"published":1,"flags":0,"usePreview":0,"tags":["opticalillusion"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float edgesize = 0.005;\nfloat PI = 3.1415926536;\n\nint DrawCircle(float x, float y, float cx, float cy, float r1, float r2, float sx, float sy, float sz)\n{\n    float r = (x-cx)*(x-cx) + (y-cy)*(y-cy);\n    float arc;\n    if (r<(r1-edgesize)*(r1-edgesize)) return 0; // hole inside the circle\n    \n    if (r<(r2+edgesize)*(r2+edgesize)) {\n        // handling the edges\n        float diff = 0.0;\n        if     (r < r1*r1) diff = (r1*r1 - r)*(sz + sx*(x-cx)*4.0 + sy*(y-cy)*4.0)*100.0;\n        else if(r > r2*r2) diff = (r2*r2 - r)*(sz + sx*(x-cx)*4.0 + sy*(y-cy)*4.0)*100.0;\n            \n        arc = atan(x-cx,y-cy) - iTime*10.0 + diff;\n        return mod(arc,PI) < PI/2.0 ? 1 : 2;\n    }\n    return 0; // outside the circle\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    float y=uv.y-0.5;\n    float x=(uv.x-0.5)*iResolution.x/iResolution.y;\n\n    int c;\n    for(float a=0.0; a<2.0*PI; a+=PI/4.5) {\n        if(c==0) c = DrawCircle(x, y, cos(a)*0.37, sin(a)*0.37, 0.08, 0.12, sin(a)*20.0, -cos(a)*20.0,  0.0);\n    }\n    \n    vec3 color;\n    if(c==0) color = vec3(0.5, 0.5, 0.5);\n    else if(c==1) color = vec3(0.0, 0.0, 0.8);\n    else color = vec3(1.0, 0.7, 0.0);\n\n    fragColor = vec4(color, 1.0);\n}\n","name":"Image","description":"","type":"image"}]}