{"ver":"0.1","info":{"id":"4sXXz4","date":"1456829756","viewed":133,"name":"perlinmeh","username":"cafe","description":"Absolutely terrible perlin implementation, don't look at it.\n\nMay cause:\n- Headache or pain behind or above the eye\n- Nausea/Vomiting\n- Loss of consciousness\n- Numbness, weakness or paralysis of one side of the face","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["ohgodmyeyes"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float rand(vec2 co){\n    return fract(sin(dot(co.xy ,vec2(12.9898,8.233))) * 43758.5453);\n}\n\nfloat interp(float a, float b, float x){\n\tx=smoothstep(0.,1.,x);\n\treturn a*(1.-x)+b*x;\n}\n\nfloat snoise(vec2 p,float mul){\n\t\n\t//float mul=10.;\n\t\n\tvec2 i = fract(p*mul);\n\t\n\tvec2 p1 = floor(p*mul),\n\t\t p2 = floor(p1+vec2(1.,0.)),\n\t\t p3 = floor(p1+vec2(0.,1.)),\n\t\t p4 = floor(p1+vec2(1.,1.));\n\t\n\tfloat v11 = rand(p1),\n\t\t  v12 = rand(p2),\n\t\t  v21 = rand(p3),\n\t\t  v22 = rand(p4);\n\n\tfloat v1 = interp(v11,v12,i.x),\n\t\t  v2 = interp(v21,v22,i.x),\n\t\t  v  = interp(v1,v2,i.y);\n\t\n\treturn v;\n}\n\nfloat perlin(vec2 p){\n\t\n\tfloat v =  snoise(p+iTime/256.,2. )/2. +\n\t\t\t   snoise(p+sin(iTime/128.),4. )/4. +\n\t\t\t   snoise(p+cos(iTime/64.),8. )/8. +\n\t\t\t   snoise(p+iTime/32.,16.)/16.+\n\t\t\t   snoise(p+iTime/16.,32.)/32.+\n\t\t\t   snoise(p+iTime/32.,64.)/128.;;\n\t\n\treturn v;\t\n}\n\nfloat hnormal(mat2 v, float inc){\n\t\n\tvec2 sl=vec2(mix(v[0][1],v[1][1],0.5)-mix(v[0][0],v[1][0],0.5),\n\t\t\t\t mix(v[1][0],v[1][1],0.5)-mix(v[0][0],v[0][1],0.5));\n\t\n\tvec3 n = normalize(vec3(-sl.x,-sl.y,inc));\n\t\n\treturn 1.-pow(length(sl),1.)*20.;\n\t\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tfloat ratio = iResolution.x/iResolution.y;\n\tvec2 uv = (fragCoord.xy / iResolution.y - vec2(ratio/2.,0.5))*2.;\n\t\n\t//vec3 color = vec3(perlin(uv+iTime/32.));\n\t\n\tfloat inc=0.01;\n\t\n\tvec3 color = vec3(hnormal(mat2(perlin(uv+vec2(-inc, inc)),\n\t\t\t\t\t\t\t       perlin(uv+vec2( inc, inc)),\n\t\t\t\t\t\t\t       perlin(uv+vec2(-inc,-inc)),\n\t\t\t\t\t\t\t       perlin(uv+vec2( inc,-inc))),inc));\n\t\n\tcolor.r=2.-abs(color.r-0.5)*10.;\n\tcolor.g=1.-abs(color.g-0.5)*10.;\n\tfloat stripes=8.;\n\tcolor.b=mod(color.b,1./stripes)*stripes*(color.b-0.5)*5.;\n\t\n\tfragColor = vec4(color,1.0);\n}","name":"Image","description":"","type":"image"}]}