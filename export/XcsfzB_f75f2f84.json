{"ver":"0.1","info":{"id":"XcsfzB","date":"1723947793","viewed":48,"name":"fractal experiment #4802","username":"Elsio","description":"3d projection of 4d raymarch","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["raymarch","4d","mandelbox"],"hasliked":0,"parentid":"MXVSDm","parentname":"bubble trouble"},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define rot(x) mat2(cos(x + vec4(0, 11, 33, 0)))\n#define H(h)  (cos(h + vec3(8, 4, 1)) * .5 + .5)\n#define H2(h) (cos(h + vec3(1, 2, 3)) * .5 + .5)\n\nvoid mainImage(out vec4 o, vec2 u) {\n    o *= 0.;\n    \n    vec2 R = iResolution.xy;\n    vec4 q, p, rd = normalize(\n                      vec4(u - .5 * R.xy, R.y, R.y)\n                  ) * 50.;\n    \n    float sc, c, i, j, d, t = iTime,\n          s, blink = cos(t * 4.) > -.0? .2:.0;\n    \n    while(i++ < 70.) {\n        \n        p = vec4(rd * d) + vec4(0, 0, -1000, 0);\n        \n        p.zy *= rot(t * .1);\n        p.zx *= rot(t * .2);\n         \n        p.yzw = p.xyz;\n        \n        sc = 1.;\n        \n        q = p;\n        \n        j = 0.;\n        while(j++ < 6.) {\n            c = max(1. / dot(q, q), cos(t * .25) * .2 + .2);\n            p = abs(p) * .65;\n            sc *= c;\n            p *= c;\n            p -= .75;\n            q = .3 * log(1. + abs(p) * p * p) - .2;\n        }\n        \n        d += s = abs(length(p) - blink) / sc / 8.;\n        \n        o.rgb += \n               +1e-2 * H(atan(p.x, p.z)) \n               + (H2(log(sc)) + 1.)\n                   * .01 * exp(-30. * s * s);\n    }\n    \n    o = pow(o, vec4(3.));\n}","name":"Image","description":"","type":"image"}]}