{"ver":"0.1","info":{"id":"3dsyRj","date":"1586455378","viewed":59,"name":"LAB colorspace hue shift","username":"dysposin","description":"Hue shift of image in CIElab color space.","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["lab"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n\n    // Time varying pixel color\n    vec3 col = 0.5 + 0.5*cos(iTime+uv.xyx+vec3(0,2,4));\n\n    // Output to screen\n    fragColor = vec4(col,1.0);\n}\n\nvec3 rgb2xyz(vec3 rgb)\n{\n    vec3 xyz = vec3(0.0);\n\n    for ( int i = 0; i < 2; i += 1 )\n    {\n        if ( rgb[i] > 0.04045 ) { rgb[i] = pow((rgb[i] + 0.055) / 1.055, 2.4); }\n        else { rgb[i] / 12.92; }\n        rgb[i] *= 100.;\n        \t\n    }\n    \n    xyz.x = rgb.x * 0.4124 + rgb.y * 0.3576 + rgb.z * 0.1805;\n    xyz.y = rgb.x * 0.2126 + rgb.y * 0.7152 + rgb.z * 0.0722;\n    xyz.z = rgb.x * 0.0193 + rgb.y * 0.1192 + rgb.z * 0.9505;\n    \n    return xyz;\n}\n\nvec3 xyz2lab(vec3 xyz)\n{\n    vec3 lab = vec3(0.0);\n    // Observer= 2Â°, Illuminant= D65\n    xyz.x /= 95.047;\n    xyz.y /= 100.;\n    xyz.z /= 108.883;\n    \n    for ( int i = 0; i < 2; i += 1 )\n    {\n        if ( xyz[i] > 0.008856 ) { xyz[i] = pow(xyz[i], 0.3333333333333333) ; }\n\t\telse { xyz[i] = ( xyz[i] * 7.787 ) + ( 16. / 116.) ; }\n    }\n\t\n    lab.x = 116. * xyz.y - 16.;\n    lab.y = 500. * ( xyz.x - xyz.y );\n    lab.x = 200. * ( xyz.y - xyz.z );\n\n\treturn lab;\n}\n","name":"Image","description":"","type":"image"}]}