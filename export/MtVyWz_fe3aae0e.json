{"ver":"0.1","info":{"id":"MtVyWz","date":"1535869533","viewed":327,"name":"Mucous Membrane","username":"tholzer","description":"Something that looks like a mucous membrane...\nDon't touch it, if you have weak nerves!","likes":9,"published":1,"flags":0,"usePreview":0,"tags":["2d","organic","pattern","membrane","mucous"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\n//---------------------------------------------------------\n// Mucous_Membrane.glsl  by Antony Holzer\n// version:   v1.0  9/2018  initial release\n// original:  http://glslsandbox.com/e#48575.4 by Catzpaw\n// info:      Something that looks like a mucous membrane...\n// tags:      2d, membrane, mucous, organic, pattern\n//---------------------------------------------------------\n\n#define D 0.6\n\n#define time iTime\n#define R iResolution\n\nfloat wave(vec2 p)\n{\n  float v = sin(p.x + sin(p.y*2.) + sin(p.y * 0.43));\n  return v * v;\n}\n\nconst mat2 rot = mat2(0.5, 0.86, -0.86, 0.5);\n\nfloat map(vec2 p)\n{\n  float v = wave(p);\n  p.x += time * 0.224;  p *= rot;  v += wave(p);\n  p.x += time * 0.333;  p *= rot;  v += wave(p);\n  return abs(1.5 - v);\n}\n\nvec3 Mucous_Membrane (vec2 pos)\n{\n  vec2 uv = (pos * 2.0 - R.xy) / R.y;\n  vec2 mp = iMouse.xy / R.xy;\n  uv.y += mp.y;\n  float zoom = 18.0 - 14.0 * mp.x;\n  vec2 p = normalize(vec3(uv.xy, 2.3)).xy * zoom;\n  p.y += time * 0.2;\n  float v = map(p);\n  vec3 c = mix(vec3(0.3, 0.0, 0.1), vec3(1.0, 0.3 + map(p * 3.5) * 0.6, 0.5), v);\n  vec3 n = normalize(vec3(v - map(vec2(p.x + D, p.y)), v - map(vec2(p.x, p.y + D)), -D));\n  vec3 l = normalize(vec3(0.1, 0.2, -0.5));\n  v = dot(l, n) + pow(dot(l, n), 88.0);\n  c.g *= v*v;\n  return c;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n  vec3 color = Mucous_Membrane (gl_FragCoord.xy);\n  color = color * 0.9 +vec3(0.1);   // desaturate a bit\n  fragColor = vec4(color, 1);\n}","name":"Image","description":"","type":"image"}]}