{"ver":"0.1","info":{"id":"ttfBRr","date":"1595828284","viewed":73,"name":"Neural2By4","username":"AdamLuhring","description":"Neural architecture hopefully sped up","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["neural"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float TAU = 6.28318530718;\nfloat PI = 3.14159265359;\nfloat ROOT2 = 1.41421356237;\n\nfloat q( in int toQ ) {\n    float freq = pow(2.,mod(pow(1.29,float(toQ)),1.));\n    if(toQ<32){\n        return .5*sin(iTime*TAU*freq*.015);\n    }\n    else{\n        return .04*cos(iTime*TAU*freq*.012);\n    }\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    vec4 coor1 = vec4(cos(uv.x*PI),sin(uv.x*PI),cos(uv.y*PI),sin(uv.y*PI));\n    vec4 coor2 = coor1;\n    vec4 newCoor1 = vec4(1.);\n    vec4 newCoor2 = vec4(1.);\n    \n    mat4 weight1 = mat4(\n        vec4(q(0),q(4),q(5),q(6)),\n        vec4(q(7),q(1),q(8),q(9)),\n        vec4(q(10),q(11),q(2),q(12)),\n        vec4(q(13),q(14),q(15),q(3))\n    );\n    mat4 weight2 = mat4(\n        vec4(q(16),q(20),q(21),q(22)),\n        vec4(q(23),q(17),q(24),q(25)),\n        vec4(q(26),q(27),q(18),q(28)),\n        vec4(q(29),q(30),q(31),q(19))\n    );\n    \n    vec4 bias1 = vec4(q(32),q(33),q(34),q(35));\n    vec4 bias2 = vec4(q(36),q(37),q(38),q(39));\n    \n    for( int a = 0 ; a < 30; a++ ){\n        newCoor1 = (weight1*coor1)+(weight1*coor2);\n        newCoor2 = (weight2*coor1)+(weight2*coor2);\n        coor1 = newCoor1+bias1;\n        coor2 = newCoor2+bias2;\n        coor1 = 1./(1.+0.9*exp(13.*coor1));\n        coor2 = 1./(1.+0.9*exp(13.*coor2));\n    }\n    \n    vec3 col = vec3(coor1.x,coor1.yz);\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}