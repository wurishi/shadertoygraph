{"ver":"0.1","info":{"id":"ltVXD1","date":"1484251454","viewed":167,"name":"Wrought iron","username":"guil","description":"Use mouse to explore","likes":6,"published":1,"flags":0,"usePreview":0,"tags":["2d","fractal"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define AA 3\n#define time iTime\n#define ITER 256\n\n\n#define csqr(z)  mat2(z,-z.y,z.x) * z \n\nfloat bailout = 1e8;\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec3 col = vec3(0.0);\n    for( int m=0; m<AA; m++ )\n    for( int n=0; n<AA; n++ )\n    {\n        vec2 p = -1.0 + 2.0 * ((fragCoord.xy-iMouse.xy)+vec2(float(m),float(n))/float(AA)) / iResolution.xy;\n       \n        p.x *= iResolution.x/iResolution.y;\n        bailout = bailout * 4.;\n        \n        float zoom = 32.;\n        \n        vec2 c = vec2(-p.y-0.5,p.x);\n        c= c/dot(c,c);\n        c -= vec2(-2.5,3.5)/8.0*zoom;\n        c /= zoom;\n        vec2 z = vec2(0.0);\n        \n    \tint k=0;\n        vec2 oldz1 = vec2(1);       \n\t    float curv = 0.;\n        float rz = 0.;\n        vec2 tmp = vec2(1.,1.);\n        for(int i=0; i<ITER; i++ )\n    \t{\n            z = c + csqr(z);            \n            \n            if (i > 0)\n\t\t\t{\n                tmp = z/oldz1;                \n\t\t\t}                      \t\t\t        \n            oldz1 = z;\n            if( dot(z,z)>bailout){k=i;break;}\n        }\n        curv = atan(tmp.y,tmp.x);\n        curv=sin(curv*6.)+1.;               \n        rz = exp(-5.+3.4*exp(-curv));\n        if(dot(z,z)>bailout)\n            col +=vec3(0.59,0.22,0.0)*(float(k)/50.0)+vec3(2.2*rz,2.7*rz,2.*rz);\n    }\n    col /= float(AA*AA);\n    col = clamp(col,0.,1.);\n    fragColor = vec4( col, 1.0 );\n}","name":"Image","description":"","type":"image"}]}