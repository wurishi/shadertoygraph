{"ver":"0.1","info":{"id":"slKfzw","date":"1664277890","viewed":159,"name":"Raindrop heightmap test","username":"JeanPaulSoftware","description":"Sketch for something I'll be adding to the Jean-Paul Software Screen Explosion","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["heightmap","rain"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float easeInExpo(float x) {\n    return x == 0.0 ? 0.0 : pow(2.0, 10.0 * x - 10.0);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    \n    \n    float PI = 3.14159265359;\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = (fragCoord - .5*iResolution.xy) / min(iResolution.x, iResolution.y);\n    uv *= 100.0;\n    \n    float cycleLength = 20.0;\n    float speedUp = 16.0;\n    float adjustedTime = iTime * speedUp;//0.0 * speedUp;\n    \n    float boundedProgress = mod(adjustedTime, cycleLength);\n    float fadeInTime = 0.5;\n    float fade = 1.0 - (boundedProgress) / (cycleLength);\n    \n    if (boundedProgress < fadeInTime) {\n        fade = easeInExpo(boundedProgress / fadeInTime);\n    }\n    else {\n       fade = 1.0 - (boundedProgress - fadeInTime) / (cycleLength - fadeInTime);\n    }\n    \n    float radius = boundedProgress;\n\n    // Time varying pixel color\n    float dist = length(uv) - radius;\n    //vec3 col = vec3(((cos(dist)) * (0.5) + .5));\n    vec3 col = vec3(1.0);\n    \n    float edgeWidth = 30.0;\n    \n    if (dist > edgeWidth) { \n        col = vec3(0.5);\n    }\n    \n    else if (dist >= 0.0) {\n    \n        float distFromCenter = dist - (edgeWidth / 2.0);\n        \n        float normalisedDistance = distFromCenter / (edgeWidth / PI);\n        float decay = cos(normalisedDistance);\n        float numWaves = 3.0;\n        float repeated = normalisedDistance * numWaves * 2.0;\n        col = (sin(repeated) * decay * fade + 1.0) * 0.5 * vec3(1.0) ;\n    }\n    \n    else {\n        col = vec3(0.5);\n    }\n\n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}