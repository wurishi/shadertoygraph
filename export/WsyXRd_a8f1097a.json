{"ver":"0.1","info":{"id":"WsyXRd","date":"1574695485","viewed":89,"name":"2D Islands","username":"jlagarespo","description":"Some nice islands (just a test, kinda ugly but ok)","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["islands"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float random (in vec2 st) {\n    return fract(sin(dot(st.xy, vec2(12.9898,78.233)))* 43758.5453123);\n}\n\nfloat noise (in vec2 st) {\n    vec2 i = floor(st);\n    vec2 f = fract(st);\n\n    float a = random(i);\n    float b = random(i + vec2(1.0, 0.0));\n    float c = random(i + vec2(0.0, 1.0));\n    float d = random(i + vec2(1.0, 1.0));\n\n    vec2 u = f * f * (3.0 - 2.0 * f);\n   \n    return mix(a, b, u.x) +\n            (c - a)* u.y * (1.0 - u.x) +\n            (d - b) * u.x * u.y;\n}\n\n#define OCTAVES 6\nfloat fbm (in vec2 st) {\n    float value = 0.0;\n    float amplitude = .5;\n    float frequency = 0.;\n    for (int i = 0; i < OCTAVES; i++) {\n        value += amplitude * noise(st);\n        st *= 2.;\n        amplitude *= .5;\n    }\n    return value;\n}\n\nfloat remap(float low1, float high1, float low2, float high2, float value) {\n\treturn low2 + (value - low1) * (high2 - low2) / (high1 - low1);\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    vec2 pos = iMouse.xy / 50.0;\n    float z = 10.0 * texelFetch(iChannel0, ivec2(38, 2), 0).x + 5.0;\n    vec2 uv = fragCoord / iResolution.xy * z + pos;\n    vec4 grass = vec4(0.2, 0.8, 0.2, 1) * (-fbm(uv) + 1.0) + fbm(uv.yx + iTime / 3.0) / 5.0;\n    vec4 ocean = vec4(0, 0.3, 1.0, 1) * (-fbm(uv) + 1.75);\n    vec4 sand = vec4(0.929, 0.788, 0.68, 1);\n    vec4 stone = vec4(0.75, 0.75, 0.75, 1) * (-fbm(uv) + 1.25);\n    vec4 fire = vec4(1.0, 0.5, 0.0, 1);\n    float f = fbm(uv);\n   \n    if (f < 0.4) {\n        if (f > 0.37) {\n            fragColor = mix(sand, ocean, remap(0.38, 0.4, 0.0, 1.0, f));\n        } else {\n            float f2 = fbm(vec2(uv.yx + 1.0)) / 2.25;\n            fragColor = mix(grass, sand, remap(0.25, 0.38, 0.0, 1.0, f - 0.06));\n            \n            // Bad slope detector\n            if (f < f2) {\n            \tfragColor = stone;\n            } else {\n\t\t\t\t// Wildfires\n                /*\n                if (f2 > 0.5) {\n                    float fireAmount = 1.0 - f;\n    \t\t\t\tfireAmount = clamp((-fireAmount + 1.7) * 3.0 - 2.25, 0.0, 1.0);\n                \tfragColor = mix(fragColor, fire, fireAmount);\n\t\t\t\t}\n\t\t\t\t*/\n            }\n        }\n    } else {\n        fragColor = ocean;\n    }\n    \n    // Clouds\n    float clouds = sin(fbm(uv.yx + (iTime / 4.0) / 5.0 + 1000.0 + sin(fbm(uv * -iTime / 100.0))));\n    clouds = clamp((-clouds + 1.7) * 3.0 - 4.4, 0.0, 1.0);\n    fragColor = mix(fragColor, vec4(1.0, 1.0, 1.0, 1.0), clouds / 2.0);\n}","name":"Image","description":"","type":"image"}]}