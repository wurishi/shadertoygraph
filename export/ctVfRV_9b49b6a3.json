{"ver":"0.1","info":{"id":"ctVfRV","date":"1702289229","viewed":20,"name":"LCG Uniformity Test (UINT)","username":"stagakis","description":"This is a test for uniformity/visualization of the LCG","likes":0,"published":1,"flags":32,"usePreview":0,"tags":["shift","rng","lcg"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// ^^ [Buffer A] is what you're looking for\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    \n    fragColor = texelFetch(iChannel0, ivec2(fragCoord), 0);\n}\n","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"uint global_starting_offset = 0u;\n\nuint rand(inout uint seed) {\n    uint LCG_A = 1664525u;\n    uint LCG_C  = 1013904223u;\n    \n    seed = (LCG_A * seed + LCG_C);\n\treturn (seed>>8);\n}\n\nuvec2 get_random_dir(inout uint seed) {\n    uint x = rand(seed) % uint(iResolution.x);\n    uint y = rand(seed) % uint(iResolution.y);\n    return uvec2(x,y);\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    vec2 uv = fragCoord/iResolution.xy;\n    \n    uint seed = global_starting_offset + uint(iFrame);\n    uvec2 p = get_random_dir(seed);\n    fragColor.rgb = vec3(0.);\n    \n    if(p.x == uint(fragCoord.x) && p.y == uint(fragCoord.y))\n        fragColor.rgb += 1.;\n\n    vec3 prev_color = texelFetch(iChannel0, ivec2(fragCoord), 0).rgb;\n    fragColor.rgb += texelFetch(iChannel0, ivec2(fragCoord), 0).rgb;\n    fragColor.a   = 0.1;\n}\n","name":"Buffer A","description":"","type":"buffer"}]}