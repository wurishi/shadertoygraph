{"ver":"0.1","info":{"id":"MsVSRw","date":"1463598585","viewed":256,"name":"Another game of life","username":"DanielPettersso","description":"Just yet another implementation of game of life. Draw on screen to make things happen.","likes":2,"published":1,"flags":32,"usePreview":0,"tags":["feedback","conway"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord.xy / iResolution.xy;\n    fragColor = texture(iChannel0, uv);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"float vv(vec2 uv, vec2 duv, vec2 texel) { \n    return texture(iChannel0, uv + (duv * texel)).x; \n}\n\nint countNeighbors(vec2 uv, vec2 texel) {\n   \treturn int(\n        vv(uv, vec2(0., -1.), texel) + vv(uv, vec2(1., -1.), texel) + vv(uv, vec2(1., 0.), texel) +\n        vv(uv, vec2(1., 1.), texel) + vv(uv, vec2(0., 1.), texel) + vv(uv, vec2(-1., 1.), texel) +\n        vv(uv, vec2(-1., 0.), texel) + vv(uv, vec2(-1., -1.), texel));\n}\n\nvec4 white() { return vec4(1., 1., 1., 1.); }\nvec4 black() { return vec4(0., 0., 0., 1.); }\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n\n    vec2 uv = fragCoord.xy / iResolution.xy;\n    vec2 texel = 1. / iResolution.xy;\n    vec4 m = iMouse / iResolution.xyxy;\n    \n    if (iFrame < 30) {\n    \tfragColor = black();\n    } else if (m.z > 0. && length(m.xy-uv) < .01) {\n        fragColor = white();\n    } else {\n    \n        float col = vv(uv, vec2(0., 0.), texel);\n        int nn = countNeighbors(uv, texel);\n        \n        if (col == 1. && nn == 2 || nn == 3) {\n            fragColor = white();\n        } else {\n            fragColor = black();\n        }\n    }\n}","name":"Buf A","description":"","type":"buffer"}]}