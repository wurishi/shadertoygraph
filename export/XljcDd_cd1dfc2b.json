{"ver":"0.1","info":{"id":"XljcDd","date":"1510660243","viewed":121,"name":"Sound experiments","username":"lukeamaral","description":"Experimentations with sound texture","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["sound","experiment"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4df3Rn","filepath":"/media/a/3c33c415862bb7964d256f4749408247da6596f2167dca2c86cc38f83c244aa6.mp3","previewfilepath":"/media/ap/3c33c415862bb7964d256f4749408247da6596f2167dca2c86cc38f83c244aa6.mp3","type":"music","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float bar(vec2 freq, float pos, vec2 uv, float thick) {\n    float vol = texture(iChannel0, freq).x;\n    \n    uv.x -= pos;\n    \n    float blur = thick / 5.;\n    float topblur = thick;\n    \n    return smoothstep(thick+blur, thick, abs(uv.x)) * smoothstep(vol+topblur, vol, uv.y);\n}\n\nfloat wave(vec2 uv, float v) {\n\tvec2 freq = vec2(uv.x, v);\n    float vol = texture(iChannel0, freq).x;\n    \n    uv.y -= vol;\n    \n    return smoothstep(0., 0.005, abs(uv.y));\n}\n\nvec3 barcolor(vec2 freqr, vec2 freqg, vec2 freqb) {\n\tfloat volr = texture(iChannel0, freqr).x;\n    float volg = texture(iChannel0, freqg).x;\n    float volb = texture(iChannel0, freqb).x;\n    \n    return vec3(volr, volg, volb);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    //uv.x *= 512.;\n    \n    vec3 background = vec3(wave(uv, 0.75));\n    background = mix(background, vec3(0.), 1. - wave(uv, 0.25));\n    //uv.x *= 1.715 * iResolution.x / iResolution.y;\n    vec3 barcol = vec3(.3, .1, .95);\n    \n    vec3 col = background;\n    \n    int bars = 50;\n    \n    for (int i = 0; i < bars; i++) {\n        float vol = float(i+1) / float(bars);\n        float r = float(i) / float(bars);\n        float b = 1.0 - r;\n        float g = b * 0.5;\n        float thick = 0.5 / float(bars);\n    \tcol = mix(col, barcolor(vec2(r, 0.25), vec2(g, 0.25), vec2(b, 0.25)), bar(vec2(r + thick, 0.25), r + thick, uv, thick * 0.8));\n    }\n    \n    \n\tfragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}