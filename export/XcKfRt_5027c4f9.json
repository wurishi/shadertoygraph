{"ver":"0.1","renderpass":[{"outputs":[{"channel":0,"id":"4dfGRr"}],"inputs":[{"channel":0,"type":"music","id":"4df3Rn","filepath":"/media/a/3c33c415862bb7964d256f4749408247da6596f2167dca2c86cc38f83c244aa6.mp3","sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}}],"code":"#define PI 3.14159265359\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 coord = fragCoord.xy;\n    vec2 center = iResolution.xy * 0.5;\n    vec2 offset = center - coord;\n    float dist = length(offset);\n    float alpha1 = 0.0;\n    float alpha2 = 0.0;\n\n    if (dist > 0.0) {\n        float freq = 0.0;\n        if (offset.x > 0.0) {\n            freq = acos(offset.y / dist) * 0.5 / PI;\n        } else {\n            freq = 0.5 + acos(-offset.y / dist) * 0.5 / PI;\n        }\n        freq = mod(freq + iTime / -25.0, 1.0);\n        \n        float near = floor(freq * 64.0) / 64.0;\n        float band1 = texture(iChannel0, vec2(near, 0.25)).x;\n        float band2 = texture(iChannel0, vec2(near + 1.0 / 64.0, 0.25)).x;\n        float band = mix(band1, band2, (freq - near) * 64.0);\n        \n        float wave = 0.008 * (1.0 + sin(mod(freq + iTime / 8.0, 1.0) * 16.0 * PI));\n        wave *= (1.0 + sin(mod(freq + iTime / -10.0, 1.0) * 7.0 * PI));\n\n        alpha1 = clamp(iResolution.y * (0.35 + wave) - dist, 0.0, 1.0);\n        alpha2 = clamp(iResolution.y * (0.35 + 0.2 * band) - dist, 0.0, 1.0);\n    }\n\n    vec4 color1 = vec4(1.0, 0.5, 0.0, 1.0) * 0.7;\n    vec4 color2 = vec4(1.0, 0.5, 0.0, 1.0) * 0.7;\n\n    vec4 c = color1 * alpha1 + color2 * alpha2 * (1.0 - alpha1 * color1.a);\n    c *= clamp(dist - 0.34 * iResolution.y, 0.0, 1.0);\n    \n    // c *= min(1.75 - dist * 2.25 / iResolution.y, 1.0);\n\n    fragColor = c;\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"XcKfRt","date":"1734355087","viewed":47,"name":"P5R Spectrum (Mode A)","username":"GPBeta","description":"TAKE YOUR TiME\n\nMode B: https://www.shadertoy.com/view/X3dyRH","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["2d","spectrum","visualization","circle","audio","analyzer","persona"],"hasliked":0,"parentid":"","parentname":""}}