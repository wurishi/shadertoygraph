{"ver":"0.1","info":{"id":"MtfcDS","date":"1506217779","viewed":141,"name":"Op Art Heart","username":"g4b0r","description":"Op Art Heart","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["2d","opart"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Created by Gabor Nagy (gabor.nagy@me.com)\n// September 23, 2017\n//\n// Op Art Heart\n\nfloat sqr(float x) {\n    return x*x;\n}\n\nfloat heart(vec2 p)\n{\n    float n = sqr(p.x) + sqr(5.*(p.y+.25)/3.8 - sqrt(abs(p.x))) - 1.;\n    return 0. - n;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float t = iTime;\n    vec3 r = iResolution;\n    \n    vec2 uv = (2. * fragCoord.xy - r.xy) / r.y;\n    vec2 uv_sin = vec2(uv.x + .33 * sin(uv.y * 5.), uv.y);\n    \n    // Rotate\n    uv_sin *= mat2(cos(t), sin(t), -sin(t), cos(t));\n    \n    // Stripes\n    float color = smoothstep(.5, .5 + 50./r.y, .5 + .5 * sin(uv_sin.x * 30.));\n    \n    // Scale heart\n    uv *= (2. - pow(sin(t * 4.),8.) * .6);  \n    \n    // Invert color inside heart\n    color = mix(color, 1.-color, smoothstep(-0.01, 0.01, heart(uv)));\n\t\n    fragColor = vec4(vec3(color), 1.);\n}","name":"Image","description":"","type":"image"}]}