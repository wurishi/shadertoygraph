{"ver":"0.1","info":{"id":"7sc3Wr","date":"1629614040","viewed":109,"name":"bumpy stripe spiral ♯","username":"HaleyHalcyon","description":"a-z","likes":6,"published":1,"flags":0,"usePreview":0,"tags":["a"],"hasliked":0,"parentid":"ssc3Wr","parentname":"nyooooooom"},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define TURN 6.2831853071795\n#define STRIPECOUNT 8.0\n#define DENSITY 0.4\n#define SLOPE 0.6\n#define COLORCYCLE 2.\n#define HEX(x) (vec3((x >> 16) & 255, (x >> 8) & 255, x & 255) / 255.)\n\nvec3 getColor(float r) {\n    r = fract(r);\n    float mix0 = step(0.00, r);\n    float mix1 = step(0.25, r);\n    float mix2 = step(0.50, r);\n    float mix3 = step(0.75, r);\n    \n    vec3 color0 = HEX(0x009be8);\n    vec3 color1 = HEX(0xeb0072);\n    vec3 color2 = HEX(0xfff100);\n    vec3 color3 = HEX(0x010a31);\n    \n    return (\n        color0 * (mix0 - mix1) +\n        color1 * (mix1 - mix2) +\n        color2 * (mix2 - mix3) +\n        color3 * (mix3 - mix0 + 1.)\n    );\n}\n\nfloat zigzag(float x) {\n    return 1. - abs(1. - 2. * fract(x));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float time = fract(iTime / 8.);\n    // Scales coords so that the diagonals are all dist 1 from center\n    float scale = length(iResolution.xy);\n    vec2 uv = (2. * fragCoord - iResolution.xy) / scale;\n    \n    // use this for fractal zoom effect\n    //float r = log(length(uv));\n    // use this for perspesctive effect\n    float r = 0.2 / length(uv);\n    \n    // \"too far to render\" dist\n    const float TOOFAR = 0.04;\n    \n    // if you want the angle in range [0, 1) and not (-π, π]\n    // divide angle by 2pi and mod1 it\n    float theta = fract(atan(uv.y, uv.x) / TURN);\n    \n    // splits the screen in spiral strips based on angle + dist\n    float ofs = floor((-time + r * SLOPE + theta * COLORCYCLE) * STRIPECOUNT) / STRIPECOUNT;\n    // concentric rings\n    float rings = r * DENSITY + time;\n\n    // Time varying pixel color\n    vec3 col = getColor(ofs + rings);\n    col = mix(\n        col, mix(HEX(0xC4D7F0), vec3(1), step(.5, zigzag(5. * time))),\n        step(length(uv), TOOFAR)\n    );\n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}