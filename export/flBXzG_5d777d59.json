{"ver":"0.1","info":{"id":"flBXzG","date":"1627896214","viewed":65,"name":"3 point circle","username":"TLC123","description":"Circle defined by 3 points\nJust a S.M.O.P to isolate out a 3 point arc.\n","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["sdf","distance","sdfsdf","arc","3point"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float xdot(vec2 a, vec2 b) {\n    return a.x * b.y - a.y * b.x;\n}\nfloat ndot(vec2 a, vec2 b) {\n    return a.x * b.x - a.y * b.y;\n} \n\nfloat SDF_circle_by_three_points(vec2 p, vec2 A, vec2 B, vec2 C) {\n\n    vec2 AB0 = .5 * (A + B);\n    vec2 BC0 = .5 * (B + C);\n    vec2 AB1 = AB0 + vec2(-(B - A).y, (B - A).x);\n    vec2 BC1 = BC0 + vec2(-(C - B).y, (C - B).x);\n    vec2 da = AB0 - AB1;\n    vec2 db = BC0 - BC1;\n    float the = xdot(da, db);\n    \n    if (the == 0.) {          return 1. / 0.;      } /* colinear points */\n    \n    vec2 D = vec2(xdot(AB0, AB1), xdot(BC0, BC1));\n    vec2 center = vec2(ndot(D, vec2(db.x, da.x)), ndot(D, vec2(db.y, da.y))) / the;\n\n    return  (length(p - center) - length(A - center));\n }\n \n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    // normalized pixel coordinates\n    vec2 p = (fragCoord * 2.0 - iResolution.xy) / iResolution.y;\n\n\n    // driver code \n    float r = 1.;\n    vec2 A = vec2(sin(iTime / 3.), cos(iTime / 7.));\n    vec2 B = vec2(sin(iTime / 7.), cos(iTime / 3.));\n    vec2 C = vec2(sin(iTime / -3.), cos(iTime));\n\n\n    // distance\n    float d = SDF_circle_by_three_points(p, A, B, C);\n    // show  A, B and C\n    d = min(d, abs(length(p - A) - .03) * 2.);\n    d = min(d, abs(length(p - B) - .02) * 2.);\n    d = min(d, abs(length(p - C) - .03) * 2.);\n    // coloring\n    vec3 col = vec3(1.0) - sign(d) * vec3(0.1, 0.4, 0.7);\n    col *= 1.0 - exp(-2.0 * abs(d));\n    col *= 0.8 + 0.2 * cos(128.0 * abs(d));\n    col = mix(col, vec3(1.0), 1.0 - smoothstep(0.0, 0.015, abs(d)));\n\n\n    fragColor = vec4(col, 1.0);\n}","name":"Image","description":"","type":"image"}]}