{"ver":"0.1","info":{"id":"clXfWB","date":"1693387114","viewed":56,"name":"2d noise terrain with water","username":"ramansinghdhiman","description":"2D terrain with water based on noise","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["2d","noise","game","terrain"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define smooth 0.002\n\nfloat random(vec2 uv)\n{\n    return fract(sin(dot(uv.x * 153.215, uv.y *659.815)) * 513531.156115);\n}\n\nfloat vNoise(vec2 uv, float scale)\n{\n    uv *= scale;\n    \n    vec2 luv = smoothstep(0.0, 1.0, fract(uv));\n    vec2 lid = floor(uv);\n    \n    float b = mix(random(lid), random(lid + vec2(1.0, 0.0)), luv.x);\n    \n    float t = mix(random(lid + vec2(0.0, 1.0)), random(lid + vec2(1.0, 1.0)), luv.x);\n    \n    return mix(b, t, luv.y);\n}\n\nfloat fbm(vec2 uv, float scale, int quality)\n{\n    float n;\n    \n    for(float i = 1.0; i <= float(quality); i++)\n    {\n        n += vNoise(uv, scale * i) / i;\n    }\n    \n    n /= 2.0;\n    \n    return n;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    \n    uv -= 0.5;\n    uv.x *= iResolution.x / iResolution.y;\n    uv += 0.5;\n    \n    uv += 5.0;\n    \n    uv += vec2(iTime * 0.05, iTime * 0.0125);\n\n    float r = fbm(uv, 3.0, 6);\n    \n    vec3 col = vec3(0.2, 0.4, 0.8);\n    \n    float wd = 60.0;\n    float ws = 1.0;\n    float fb = 0.05;\n    float ripples = (sin(iTime * ws + r * wd) + 1.0) / 2.0;\n    ripples = smoothstep(0.5, 0.51, ripples);\n    \n    float land = 0.5;\n    \n    float rf = land - 0.1;\n    \n    col += ripples * fb * (1.0 - smoothstep(rf, rf - 0.01, r));\n    \n    col = mix(col, vec3(0.8, 0.5, 0.25), smoothstep(land - smooth, land + smooth, r));\n    \n    float grass = land + 0.1;\n    col = mix(col, vec3(0.5, 0.8, 0.25), smoothstep(grass - smooth, grass + smooth , r));\n    \n    float ice = land + 0.3;\n    col = mix(col, vec3(1.0), smoothstep(ice - smooth, ice + smooth , r));\n\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}