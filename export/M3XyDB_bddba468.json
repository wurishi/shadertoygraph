{"ver":"0.1","info":{"id":"M3XyDB","date":"1726609020","viewed":15,"name":"(((шейдеры)))","username":"donerfornothing","description":"Вдохновлено гайдами с инета","likes":1,"published":1,"flags":32,"usePreview":0,"tags":["ornament"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float sdHex( in vec2 p, in float r )\n{\n    const vec4 k = vec4(-0.5,0.8660254038,0.5773502692,1.7320508076);\n    p = abs(p);\n    p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;\n    p -= 2.0*min(dot(k.yx,p),0.0)*k.yx;\n    p -= vec2(clamp(p.x,r*k.z,r*k.w),r);\n    return length(p)*sign(p.y);\n}\n\nvec3 acid_trip(float time, vec2 mp)\n{\n    vec3 g = vec3(0.278, 0.668, 0.718);\n    vec3 dg = vec3(0.638, 0.308, 0.468);\n    vec3 w = vec3(-0.332, 1.058, 1.668);\n    vec3 p = vec3(0.198, -0.032, 1.138);\n    \n    return g + dg * cos(6.28318 * (w * time + p));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = (2.0f * fragCoord - iResolution.xy) / iResolution.y;\n    vec2 uv0 = uv;\n    vec2 offset = texelFetch(iChannel0, ivec2(0, 0), 0).xy;\n    uv += offset;\n    vec2 uv1 = fract(uv * 1.4f) - 0.5;\n    \n    \n    float hex = sdHex(uv1 - vec2(0.f, 0.f), 0.49) + smoothstep(0.05, 0.95, sin(iTime)) - 0.9;\n    float hexval = smoothstep(0.71f, 0.78f, sin(hex * 70.f + 2.0 * iTime));\n    vec3 hexcol = acid_trip(hex + iTime / 10.f, iMouse.xy) * hexval * smoothstep(0.12, 0.64, exp(-length(uv0)));\n\n    \n    // Time varying pixel color\n    vec3 col = 0.5 + 0.5*cos(iTime+uv.xyx+vec3(0,2,4));\n\n    // Output to screen\n    if (hex <= 0.f)\n    {\n        fragColor = vec4(hexcol, 1.0);\n    }\n    else\n    {\n        fragColor = vec4(0.0);\n    }\n}\n","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 min_of = vec2(0.01, 0.01);\n    \n    vec2 offset = texelFetch(iChannel0, ivec2(0, 0), 0).xy;\n    if (offset.x <= 0.0)\n    {\n        offset = min_of;\n    }\n    \n    offset += vec2(0.001, 0.001);\n    \n    fragColor = vec4(offset,1.0,1.0);\n}","name":"Buffer A","description":"","type":"buffer"}]}