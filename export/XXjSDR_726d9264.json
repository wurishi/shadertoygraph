{"ver":"0.1","info":{"id":"XXjSDR","date":"1710460153","viewed":107,"name":"ZN Filmic Tonemapper","username":"Zentient","description":"A custom tonemapping curve hand fitted to a mix between various digital cameras. ACES on left, ZN in center, Reinhardt on right.","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["hdr","tonemap"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"/* Copy Paste HLSL code;\nfloat3 ZNFilmic(float3 z)\n{\n    float a = 0.1;\n    float b = 1.1;\n    float c = 0.5;\n    float d = 0.02;\n    float e = 1.3;\n    float f = 4.8;\n    float g = 0.3;\n    float h = 2.0;\n    float i = 0.2;\n    float j = 0.6;\n    float k = 1.3;\n    float l = 2.5;\n    \n    z *= 20.0;\n    \n    z = h*(c+pow(a*z,b)-d*(sin(e*z)-j)/((k*z-f)*(k*z-f)+g));\n    z = pow(z, l);\n    z = i*log(z);\n    \n    return saturate(z);\n}\n*/\n\nvec3 ZNFilmic(vec3 z)\n{\n    float a = 0.1;\n    float b = 1.1;\n    float c = 0.5;\n    float d = 0.02;\n    float e = 1.3;\n    float f = 4.8;\n    float g = 0.3;\n    float h = 2.0;\n    float i = 0.2;\n    float j = 0.6;\n    float k = 1.3;\n    float l = 2.5;\n    \n    z *= 20.0;\n    \n    z = h*(c+pow(a*z,vec3(b))-d*(sin(e*z)-j)/((k*z-f)*(k*z-f)+g));\n    z = pow(z, vec3(l));\n    z = i * log(z);\n    \n    return clamp(z,0.0,1.0);\n}\n\nvec3 ACESFilm(vec3 x)\n{\nfloat a = 2.51f;\nfloat b = 0.03f;\nfloat c = 2.43f;\nfloat d = 0.59f;\nfloat e = 0.14f;\nreturn clamp((x*(a*x+b))/(x*(c*x+d)+e), 0.0, 1.0);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n    vec3 col = texture(iChannel0, uv).rgb;\n    col = pow(col, vec3(2.2));\n    col = -col / (col - 1.4);\n    \n    if(uv.x <= 0.334) {col = ACESFilm(col);}\n    else if(uv.x <= 0.667) {col = ZNFilmic(col);}\n    else {col = col / (col + 1.0);}\n    \n    col = pow(col, vec3(1.0 / 2.2));\n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}