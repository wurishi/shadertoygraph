{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[{"channel":0,"type":"music","id":"4df3Rn","filepath":"/media/a/3c33c415862bb7964d256f4749408247da6596f2167dca2c86cc38f83c244aa6.mp3","sampler":{"filter":"linear","wrap":"clamp","vflip":"false","srgb":"false","internal":"byte"}}],"code":"// math const\nconst float PI = 3.14159265359;\nconst float DEG_TO_RAD = PI / 180.0;\n\nvec3 ray_dir( float fov, vec2 size, vec2 pos ) {\n\tvec2 xy = pos - size * 0.5;\n\n\tfloat cot_half_fov = tan( ( 90.0 - fov * 0.5 ) * DEG_TO_RAD );\t\n\tfloat z = size.y * 0.5 * cot_half_fov;\n\t\n\treturn normalize( vec3( xy, -z ) );\n}\n\nvec3 calcOrder( vec3 dir )\n{\n    int signs;\n\n    bool  sx = dir.x<0.0;\n    bool  sy = dir.y<0.0;\n    bool  sz = dir.z<0.0;\n    float ax = abs( dir.x );\n    float ay = abs( dir.y );\n    float az = abs( dir.z );\n\n    if( ax>ay && ax>az )\n        {\n        if( ay>az )\n            return vec3(0.0,0.5,0.0);\n        else\n        \treturn vec3(0.5,1.0,0.0);\n        }\n    else if( ay>ax && ay>az )\n        {\n        if( ax>az )\n        \treturn vec3(0.0,1.0,0.4);\n        else\n             return vec3(0.0,1.0,1.0);\n        }\n    else\n        {\n        if( ax>ay )\n             return vec3(1.0,1.0,0.0);\n        else\n             return vec3(1.0,0.0,1.0);\n        }\n\n    \n}\n// pitch, yaw\nmat3 rot3xy( vec2 angle ) {\n\tvec2 c = cos( angle );\n\tvec2 s = sin( angle );\n\t\n\treturn mat3(\n\t\tc.y      ,  0.0, -s.y,\n\t\ts.y * s.x,  c.x,  c.y * s.x,\n\t\ts.y * c.x, -s.x,  c.y * c.x\n\t);\n}\n\nfloat hash( float n ) { return fract(sin(n)*458.5453123); }\nfloat noise( in vec3 x )\n{\n\tfloat modifier = sin(iTime/34.0)+10.0;\n    vec3 p = floor(x*modifier);\n    vec3 f = fract(x*modifier);\n    f = f*f*(3.0-2.0*f);\n\t\n    float n = p.x + p.y*157.0 + 113.0*p.z;\n    return mix(mix(mix( hash(n+  0.0), hash(n+  1.0),f.x),\n                   mix( hash(n+157.0), hash(n+158.0),f.x),f.y),\n               mix(mix( hash(n+113.0), hash(n+114.0),f.x),\n                   mix( hash(n+270.0), hash(n+271.0),f.x),f.y),f.z);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n\tvec3 dir = ray_dir( 90.0, iResolution.xy, fragCoord.xy );\n\tmat3 rot = rot3xy(-iMouse.yx/32.0);\n\tdir = rot*dir;\n\tvec4 albedo = vec4(  mod(cos(iTime/3.33),noise(dir+iTime)),mod(cos(iTime/34.6),noise(dir+iTime/40.0))+cos(iTime)/2.0,mod(cos(iTime/3.33),noise(dir+iTime/6.34)),1.0);\n\tvec4 contrast = vec4(  mod(cos(iTime/37.33),noise(dir+iTime/400.0)),mod(cos(iTime/34.6),noise(dir+iTime/40.0))+cos(iTime)/2.0,mod(cos(iTime/3.33),noise(dir+iTime/6.34)),1.0);\n\tif (contrast.x >.2){\n\tfragColor = mix(albedo, contrast,cos(iTime)/5.5);\n\t}else{\n\t\tfragColor = mix(albedo, contrast,sin(iTime)*5.5);\n\t}\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"MssSzr","date":"1396237747","viewed":196,"name":"Something trippy","username":"Panoptics","description":"CEV floaters","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["noise"],"hasliked":0,"parentid":"","parentname":""}}