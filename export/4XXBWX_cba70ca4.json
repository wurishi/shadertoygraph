{"ver":"0.1","info":{"id":"4XXBWX","date":"1728970384","viewed":42,"name":"Retro Style Screensaver","username":"StormOfTheVoid","description":"a","likes":4,"published":1,"flags":32,"usePreview":0,"tags":["a"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage(out vec4 fragColor, in vec2 fragCoord) {\n\n    float factor = 5.;\n    \n    fragCoord.x = fragCoord.x - (mod(fragCoord.x, factor*.5));\n    fragCoord.y = fragCoord.y - (mod(fragCoord.y, factor*.5));\n\tvec2 px = fragCoord.xy / iResolution.xy;\n    \n    fragColor = texture(iChannel1, vec2(px.x, px.y));\n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"const ivec2 FS_ADDR = ivec2(0.0);\n\nconst vec4 fs_stt = vec4(1.0);\n\nuint seed = 0u;\n\nvoid setSeed(uint s) {\n    seed = s;\n}\n\nuint hash(uint s) {\n    s ^= 2747636419u;\n    s *= 2654435769u;\n    s ^= s >> 16;\n    s *= 2654435769u;\n    s ^= s >> 16;\n    s *= 2654435769u;\n    return s;\n}\n\nuint randI() {\n    seed = hash(seed);\n    return seed;\n}\n\nfloat rand() {\n    uint rn = randI();\n    rn %= 1000000000u;\n    float rs = float(rn);\n    rs /= 1000000000.0;\n    return rs;\n}\n\n#define setNSeed() setSeed(uint(iResolution.x*fragCoord.y+fragCoord.x + float(hash(uint(iTime*1000.0))%1000u)))\n\n","name":"Common","description":"","type":"common"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"vec3 rotx(vec3 n,float theta){\n    float x=n.x;\n    float y=n.y;\n    float z=n.z;\n    return vec3(x,cos(theta)*y-sin(theta)*z,sin(theta)*y+cos(theta)*z);\n}\n\nvec3 roty(vec3 n,float theta){\n    float x=n.x;\n    float y=n.y;\n    float z=n.z;\n    return vec3(cos(theta)*x+sin(theta)*z,y,-sin(theta)*x+cos(theta)*z);\n}\n\nvec3 rotz(vec3 n,float theta){\n    float x=n.x;\n    float y=n.y;\n    float z=n.z;\n    return vec3(cos(theta)*x-sin(theta)*y,sin(theta)*x+cos(theta)*y,z);\n}\n\n\n\n\nvoid mainImage( out vec4 color, in vec2 uv )\n{\n    vec2 fragCoord=uv;\n    if(float(iFrame)==0.){\n        setNSeed();\n        color=vec4(0.)+2.*vec4(0.5-rand(),0.5-rand(),0.5-rand(),1.)/1.;\n    }else{\n\n        vec3 color2=texture(iChannel0,uv/iResolution.xy).xyz;\n        color2=roty(color2,0.001);\n        color=vec4(color2,1.);\n    }\n\n}","name":"Buffer A","description":"","type":"buffer"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"XsXGR8","channel":0}],"code":"void mainImage( out vec4 color, in vec2 uv )\n{\n        color=vec4(0.);\n        uv=1.25*uv/iResolution.xy;\n        float g=10.;\n        float n1=floor(float(iFrame)/60.)+0.;\n        float n2=0.;\n        for(float i2=n1-50.;i2<=n1;i2+=1.){\n        for(float j=0.;j<=n2;j+=1.){\n\n        \n        float i=i2;\n        vec3 p1=texture(iChannel0,vec2(i,i)/iResolution.xy).xyz;\n        //vec3 p2=texture(iChannel0,vec2(j+mod(i+1.,n1+1.),mod(i+1.,n1+1.))/iResolution.xy).xyz;\n        vec3 p2=texture(iChannel0,vec2(i+1.,i+1.)/iResolution.xy).xyz;\n        p1+=0.66*vec3(1.,0.8,1.);\n        p2+=0.66*vec3(1.,0.8,1.);        \n        float m=(p2.y-p1.y)/(p2.x-p1.x);\n        \n        \n\n        \n        float x1=min(p1.x,p2.x);\n        float x2=max(p1.x,p2.x);\n        if(x1<=uv.x && uv.x<=x2){\n             float c=float(iFrame)/60.;\n            \n           // vec2 between=vec2(m*(uv.x-p1.x)+p1.y,uv.y);\n            color+=g*0.08*vec4(pow(2.,-100.*abs(uv.y-(m*(uv.x-p1.x)+p1.y))))*vec4(0.5+0.5*cos(2.*p1),1.)*min(max(abs(1./m),0.25),1.);\n\n        }\n            float c=float(iFrame)/60.+j/(n2+1.);\n            \n            vec3 between=(1.-mod(c,1.))*p1+mod(c,1.)*p2;        \n         if(mod(floor(c),n1+1.)==i){\n            color+=2.*pow(2.,-200.*length(uv-between.xy));\n            }\n\n        }\n        }\n\n}","name":"Buffer B","description":"","type":"buffer"}]}