{"ver":"0.1","info":{"id":"wsfSDs","date":"1552519165","viewed":89,"name":"HSV curtain","username":"gyabo","description":"HSV robot curtain effect.","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["curtain"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec3 hsv(float h, float s, float v) {\n    vec4 t = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n    vec3 p = abs(fract(vec3(h) + t.xyz) * 6.0 - vec3(t.w));\n    return v * mix(vec3(t.x), clamp(p - vec3(t.x), 0.0, 1.0), s);\n}\n\nvec3 gcol(vec2 uv) {\n    uv = uv * vec2(2.0, 1.5);\n    return hsv(uv.x, uv.y, uv.x * uv.y) + 0.5;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n    vec2 uv = fragCoord/iResolution.xy;\n\tfloat bt = fract((iTime * 1.6666 * 0.5) / 4.0) * 4.0;\n\n\t//float tm0 = clamp(bt - 0.0, 0.0, 1.0);\n\t//float tm1 = clamp(bt - 1.0, 0.0, 1.0);\n\t//float tm2 = clamp(bt - 2.0, 0.0, 1.0);\n\t//float tm3 = clamp(bt - 3.0, 0.0, 1.0);\n\t//uv.x += smoothstep(0.05, 0.995, tm0 - tm2);\n\t//uv.y += smoothstep(0.05, 0.995, tm1 - tm3);\n\t\n\t//rewrite\n\tfor(int i = 0; i < 4; i++) {\n\t    float tm = clamp(bt - 1.0 * float(i), 0.0, 1.0);\n    \tuv.x += smoothstep(0.05, 0.995, tm) * (i >= 2 ? -1.0 : 1.0);\n    \tuv = uv.yx;\n\t}\n\tfragColor = vec4(gcol(uv), 1.0);\n}\n","name":"Image","description":"","type":"image"}]}