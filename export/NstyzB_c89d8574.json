{"ver":"0.1","info":{"id":"NstyzB","date":"1653950590","viewed":154,"name":"Mixed-texture kaleidoscope","username":"rucksack","description":"Toying with kaleidoscope effect for the first time. It was quite a bit easier than I had thought.","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["kaleidoscope"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sfGRn","filepath":"/media/a/fb918796edc3d2221218db0811e240e72e340350008338b0c07a52bd353666a6.jpg","previewfilepath":"/media/ap/fb918796edc3d2221218db0811e240e72e340350008338b0c07a52bd353666a6.jpg","type":"texture","channel":2,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XdX3Rn","filepath":"/media/a/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg","previewfilepath":"/media/ap/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg","type":"texture","channel":0,"sampler":{"filter":"linear","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dX3Rn","filepath":"/media/a/bd6464771e47eed832c5eb2cd85cdc0bfc697786b903bfd30f890f9d4fc36657.jpg","previewfilepath":"/media/ap/bd6464771e47eed832c5eb2cd85cdc0bfc697786b903bfd30f890f9d4fc36657.jpg","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const float PI = 3.14159265359;\nconst float period = PI/10.;\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n    \n    // To [-1, 1]\n    uv = (uv-.5)*2.;\n\n    // To polar coordinates\n    float a = atan(uv.x, uv.y);\n    float r = length(uv);\n\n    // Transform angle\n    a = mod(a, period*2.) > period ? period - mod(a, period) : mod(a, period); // Kaleidoscope!\n    a += mod(iTime, PI*2.); // Rotate\n    r *= .8 + .4*sin(.3*iTime); // Scale\n\n    // And back again\n    uv = vec2(r * sin(a), r * cos(a));\n\n    // Blend between two textures\n    vec3 col = mix(texture(iChannel0, uv).rgb, texture(iChannel1, uv).rgb, .6 + .2*cos(.5*iTime));\n    col = mix(col, texture(iChannel2, uv).rgb, .4 + log(abs(tan(.7*iTime))));\n\n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}