{"ver":"0.1","info":{"id":"msK3DG","date":"1679019067","viewed":230,"name":"Fluid simulation [0x0000]","username":"SID37","description":"Small fluid test\n\n(you can control the smoke source with mouse)","likes":9,"published":1,"flags":32,"usePreview":0,"tags":["fluid","smoke","fluidsimulation"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage(out vec4 fragColor, in vec2 fragCoord )\n{\n    vec4 f = texture(iChannel0, fragCoord/iResolution.xy);\n    fragColor = vec4(f.www, 1.0);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"\nvoid mainImage( out vec4 fragColor, in vec2 coord )\n{\n    vec2 r = 1. / iResolution.xy;\n    vec4 v = texture(iChannel0, coord * r);\n    coord -= v.xy;\n    v = texture(iChannel0, coord * r);\n    vec4 px = texture(iChannel0, (coord + vec2(8, 0)) * r);\n    vec4 py = texture(iChannel0, (coord + vec2(0, 8)) * r);\n    vec4 nx = texture(iChannel0, (coord - vec2(8, 0)) * r);\n    vec4 ny = texture(iChannel0, (coord - vec2(0, 8)) * r);\n\n    float p = (px.z + nx.z + py.z + ny.z) / 4.0 - (px.x - nx.x + py.y - ny.y) / 8.0;\n    fragColor = vec4(v.xy - vec2(px.z - nx.z, py.z - ny.z) / 2.0, p, v.w*.995);\n\n    vec2 dir = sin(vec2(iTime, iTime + 1.6))*.1;\n    vec2 center = iMouse.z > 0.0 ? iMouse.xy : (iResolution.xy * 0.5);\n    if (length(center - coord) < 50.0) {\n        fragColor += vec4(dir.x, abs(dir.y), 0.0, 0.1);\n    }\n}\n","name":"Buffer A","description":"","type":"buffer"}]}