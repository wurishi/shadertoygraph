{"ver":"0.1","info":{"id":"7ldcDn","date":"1659630638","viewed":80,"name":"Chaikin","username":"TheTUFGuy","description":"asdm","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["graphics"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define POINT_COUNT 6\n\n    \nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord-.5*iResolution.xy)/iResolution.y;\n    //vec2 uv = fragCoord;\n    \n    vec2 points[POINT_COUNT];\n    points[0]=vec2(-0.4,0.2);\n    points[1]=vec2(0.6,0.2);\n    points[2]=vec2(-0.2,-0.4);\n    points[3]=vec2(0.2,0.4);\n    points[4]=vec2(0.4,-0.4);\n    points[5]=vec2(-0.4,0.2);\n\n    \n    //vec4 m = (iMouse-vec4(.5*iResolution.xy,.5*iResolution.xy))/iResolution.x;\n    vec4 m = iMouse/iResolution.y;\n    vec2 m_t = (iMouse.zw-.5*iResolution.xy)/iResolution.y;\n    vec2 mouse_debug = (iMouse.xy-iResolution.xy*0.5)/iResolution.y;\n    for(int i=0;i<POINT_COUNT;i++)\n    {\n        \n        if(length(mouse_debug-points[i])<=0.35)\n        {\n            if(m.z>0.0)\n            points[i]=(mouse_debug);\n        }\n    }\n    \n    vec3 point_color = vec3(0.2,0.2,0.7);\n    vec3 line_color = vec3(0.6,0.2,0.3);\n    vec3 color;\n    \n    float c = 0.0;\n    for(int i=0;i<POINT_COUNT-1;i++)\n    {\n        //float m = (points[i].y-points[i+1].y)/(points[i].x-points[i+1].x);\n        //float check = uv.y-points[i].y-m*(uv.x-points[i].x);\n        //float check = (points[i].x-points[i+1].x)*(uv.y-points[i].y)-(points[i].y-points[i+1].y)*(uv.x-points[i].x);\n        //if(check<0.001&&check>=-0.001)\n        //{\n        //    if((uv.x>=min(points[i].x,points[i+1].x))&&(uv.x<=max(points[i].x,points[i+1].x)))\n        //    c=1.0;\n        //}\n        vec2 ap = uv-points[i];\n        vec2 ab = points[i+1]-points[i];\n        float t = dot(ap,ab)/dot(ab,ab);\n        t = clamp(t,0.,1.);\n        float d = length(ap-t*ab);\n        color += line_color*smoothstep(0.75,-0.75,d*iResolution.y/2.0-1.0);\n        \n    }\n    for(int i=0;i<POINT_COUNT;i++)\n    {\n       color += point_color*smoothstep(0.75,-0.75,(length(uv-points[i]))*iResolution.y/2.0-8.0);\n       //if(length((uv-points[i]))<0.02) color=point_color;\n    }\n    //vec2 mouse_debug = (iMouse.xy-iResolution.xy*0.5)/iResolution.y;\n    float d = length(uv-mouse_debug);\n    if(d<0.015) color = vec3(1.0,0.0,0.0);\n    \n    // Output to screen\n    fragColor = vec4(vec3(color), 1.0);\n}","name":"Image","description":"","type":"image"}]}