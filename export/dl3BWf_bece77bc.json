{"ver":"0.1","info":{"id":"dl3BWf","date":"1702266021","viewed":37,"name":"Ellipse blinds","username":"Scratchboard","description":"Iteration of x := x - y / 2, y := y + x / 2 makes a simple kaleidoscope pattern","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["iterative"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"ivec2 f(ivec2 p, int a, int b)\n{\n    int x = (p.x - p.y / 2) % a;\n    int y = (p.y + x / 2) % b;\n    return ivec2(x, y);\n}\n\n#define DSCALE 1000.\n\nvoid mainImage( out vec4 c, in vec2 q)\n{\n    vec2 m = iMouse.xy;\n    ivec2 p = ivec2(q - m);\n    int b = 91;\n    int a = int(60.*iTime);\n    for (int i = 0; i < 64; i++){\n        p = f(p, a, b);\n    }\n    vec2 fp = vec2(p);\n    float d = length(fp - q + m);\n    float sr = 1. - d/DSCALE;\n    \n    p = f(p, a, b);\n    fp = vec2(p);\n    d = length(fp - q + m);\n    float sg = 1. - d/DSCALE;\n    \n    p = f(p, a, b);\n    fp = vec2(p);\n    d = length(fp - q + m);\n    float sb = 1. - d/DSCALE;\n    \n    c = vec4(sr*sr, sg*sg, sb*sb, 1.0);\n}","name":"Image","description":"","type":"image"}]}