{"ver":"0.1","info":{"id":"cdyXWR","date":"1680900571","viewed":91,"name":"HSL Circle Zoom + Moiré","username":"Xonatron","description":"HSL circle zoom with Moiré patterns coming in eventually. Adjust ZOOM_SPEED to be larger to get there faster. Many optical illusions (rather, visual phenomena) in these type of effects. Set SPLIT to \"true\" to see inverted split.\n","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["zoom","circle","moire","hsl","moirepattern"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Matthew Doucette, Xona Games\n// https://xona.com/\n// Friday, April 7th, 2023\n// ----------------------------\n\n// credits:\n// --------\n//\n//   hsl2rgb() method\n//\n//     https://www.shadertoy.com/view/XljXzV (by freerunnering)\n//     (original source presently unknown)\n\n// constants\n\n#define ZOOM_SPEED 0.0000025\n#define SPLIT false\n\nvec3 hsl2rgb( in vec3 c ){\n    vec3 rgb = clamp( abs(mod(c.x*6.0+vec3(0.0,4.0,2.0),6.0)-3.0)-1.0, 0.0,1.0);\n    return c.z + c.y * (rgb-0.5)*(1.0-abs(2.0*c.z-1.0));\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n    // calculate zoom\n    float zoom = iTime * ZOOM_SPEED;\n\n    // calculate center offset\n    vec2 centerOffset;\n    centerOffset.x = iResolution.x / 2.0;\n    centerOffset.y = iResolution.y / 2.0;\n\n    // calculate distance^2 from center\n    float distSqr = pow(distance(fragCoord, centerOffset), 2.0);\n    \n    // calculate hsl\n    float h = distSqr * zoom; // hue; 0.0..1.0\n    float s = 1.0; // saturation; 0.0..1.0\n    float l = 0.5; // lightness; 0.0..1.0\n    \n    // adjust bottom half\n    if (SPLIT)\n        if (fragCoord.y / iResolution.y < 0.5) // 0.0..1.0 --> bottom..top\n            h = 1.0 - h; // invert hue\n    \n    // convert hsl to rgb\n    vec3 rgb = hsl2rgb(vec3(h, s, l));\n\n    // convert rgb to rgba (rgb with alpha)\n    vec4 rgba;\n    rgba.r = rgb.r;\n    rgba.g = rgb.g;\n    rgba.b = rgb.b;\n    rgba.a = 1.0;\n    \n    fragColor = rgba;\n}","name":"Image","description":"","type":"image"}]}