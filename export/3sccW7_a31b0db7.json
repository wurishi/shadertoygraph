{"ver":"0.1","info":{"id":"3sccW7","date":"1600990753","viewed":90,"name":"4bit palette lookup","username":"zproxy","description":"pixelart","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["2d"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const float zoom = 10.0;\n\nvec3 pal[] = vec3[]( vec3(0,0,0), vec3(1,0,0), vec3(0,1,0), vec3(0,0,1)\n                   , vec3(0,1,1),  vec3(1,1,0),  vec3(1,0,1), vec3(0.5,0.5,0.5) \n                   , vec3(1,1,1) \n                   );\n\n// 32bit / 8 = 4bit pal\n// 3x8 = 24pixels for 3 uint\nuint xy[] = uint[]( \n    0x83770303u,0x03030303u, 0x53030728u, // 0\n\t0x33700000u,0x00000000u, 0x05007722u, // 1\n    0x77000000u,0x00000000u, 0x00577111u, // 2\n\t0x70000000u,0x00000000u, 0x00751117u, // 3\n    0x00000000u,0x00000000u, 0x07715177u, // 4\n\t0x00000000u,0x00000000u, 0x77111570u, // 5\n\t0x00000000u,0x00000007u, 0x71117750u, // 6\n\t0x00000000u,0x00000077u, 0x11177005u, // 7\n\t0x60000000u,0x00000771u, 0x11770000u, // 8\n\t0x06000000u,0x00007711u, 0x17700000u, // 9\n\t0x00600000u,0x00077111u, 0x77000000u, // 10\n\t0x00060000u,0x00771117u, 0x70000000u, // 11\n\t0x00006000u,0x07711177u, 0x00000000u, // 12\n\t0x00000600u,0x77111770u, 0x00000000u, // 13\n\t0x00000067u,0x71117700u, 0x00000000u, // 14\n\t0x00000076u,0x11177000u, 0x00000000u, // 15\n\t0x00000771u,0x61770000u, 0x00000000u, // 16\n\t0x00007711u,0x16700000u, 0x00000000u, // 17\n\t0x00077111u,0x77600000u, 0x00000000u, // 18\n\t0x00771117u,0x70060000u, 0x00000000u, // 19\n\t0x07711177u,0x00006000u, 0x00000000u, // 20\n\t0x77111770u,0x00000600u, 0x00000000u, // 21\n\t0x22117700u,0x00000060u, 0x00000033u, // 22\n\t0x82177020u,0x20202026u, 0x20202038u  // 23\n\n);\n    \nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    int zy = int(floor(fragCoord.y / zoom)) \n        // make it repeat...\n        % (xy.length() / 3);\n\n  \n    \n    int zx = int(fragCoord.x / zoom) % (8 * 3);\n    int i = (zx % (8 * xy.length())) / 8;\n    \n    if (zy > 0)\n    {\n        i += 3 * zy;\n    }\n       \n    int x = 7 - (zx % 8); // fixup lsb \n    \n    fragColor.rgb = pal[(xy[i] >> (4 * x)) & (0xfu )] ;\n}","name":"Image","description":"","type":"image"}]}