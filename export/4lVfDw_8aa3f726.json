{"ver":"0.1","info":{"id":"4lVfDw","date":"1542773082","viewed":277,"name":"sphere field","username":"khlorghaal","description":" ","likes":9,"published":1,"flags":1,"usePreview":0,"tags":["volume","raymarch","vr"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define ETA 1e-5\n\n#define PI 3.14159265359\n#define TAU (PI*2.)\n\n#define time float(iTime)\n\n#define ITERS 1024\n\nprecision highp float;\n\nvec3 sumv(vec2 v){ return vec3(dot(v,vec2(1))); }\nvec3 sumv(vec3 v){ return vec3(dot(v,vec3(1))); }\nvec3 sumv(vec4 v){ return vec3(dot(v,vec4(1))); }\nfloat sums(vec2 v){ return dot(v,vec2(1)); }\nfloat sums(vec3 v){ return dot(v,vec3(1)); }\nfloat sums(vec4 v){ return dot(v,vec4(1)); }\n\n#define CA vec4(\\\n    3411.23,\\\n    3415.23,\\\n    3421.34,\\\n    3401.34)\n#define CB vec4(\\\n    5061.11,\\\n    5021.43,\\\n    5043.13,\\\n    5051.13)\nfloat rand4_1(vec4 x){\n    return fract(\n        sin(sin(dot(x,CB))*CA.x)\n    );\n}\n\nvec4 psmooth(vec4 x){\n\treturn x*x*(3.-2.*x);\n    //return x;\n}\n\nfloat f(vec3 p){\n\n    p.z+= time*-2.7;\n    p.x+= time* 2.3;\n\n    /*\n    vec3 wind= vec3(\n    noise( vec4(p,time   ),vec4(.2,.1,.1,1.)),\n    noise( vec4(p,time+4.),vec4(.2,.1,.1,1.)),\n    noise( vec4(p,time+8.),vec4(.2,.1,.1,1.))\n    );\n    p+= wind*.2;\n    */\n\n    p= mod(p,2.)-1.;\n\treturn dot(p,p)>.2? 0.:1.;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ){\n    vec2 uv= fragCoord/iResolution.xy;\n    vec2 uvn= uv*2.-1.;\n    uvn.x*= iResolution.x/iResolution.y;\n    \n    vec2 xy= uvn;\n    vec3 c= vec3(0.);\n    \n\tfloat t= 0.;\n    for(int i=0; i!=ITERS; i++){\n        t+= .006*(t+1.);\n        vec3 p= vec3(xy,1.)*t;\n        #define COLORA vec3(0.,.9,.0)\n        #define COLORB vec3(0.,.1,1.)\n        float ab= clamp(t*.01,0.,1.);\n        c+= log(t)*f(p)*mix(COLORA,COLORB,ab);\n    }\n    c/=float(ITERS)*.2;\n    c= pow(c,vec3(1./2.2));\n        \n    fragColor= vec4(c,1.0);\n}\n\nvoid mainVR( out vec4 fragColor, in vec2 fragCoord, in vec3 fragRayOri, in vec3 fragRayDir )\n{    \n    vec3 c= vec3(0.);\n    \n\tfloat t= 0.;\n    for(int i=0; i!=ITERS; i++){\n        t+= .006*(t+1.);\n        vec3 p= fragRayOri+fragRayDir*t;\n        #define COLORA vec3(0.,.9,.0)\n        #define COLORB vec3(0.,.1,1.)\n        float ab= clamp(t*.01,0.,1.);\n        c+= log(t)*f(p)*mix(COLORA,COLORB,ab);\n    }\n    c/=float(ITERS)*.2;\n    c= pow(c,vec3(1./2.2));\n        \n    fragColor= vec4(c,1.0);\n}","name":"Image","description":"","type":"image"}]}