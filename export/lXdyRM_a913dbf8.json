{"ver":"0.1","renderpass":[{"outputs":[{"channel":0,"id":"4dfGRr"}],"inputs":[{"channel":0,"type":"buffer","id":"4dXGR8","filepath":"/media/previz/buffer00.png","sampler":{"filter":"linear","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"}},{"channel":1,"type":"buffer","id":"XsXGR8","filepath":"/media/previz/buffer01.png","sampler":{"filter":"linear","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"}},{"channel":2,"type":"buffer","id":"4sXGR8","filepath":"/media/previz/buffer02.png","sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}}],"code":"// Fork of \"Actual Fluid\" by Txoka. https://shadertoy.com/view/ttGXDV\n// 2024-12-22 19:03:30\n\nvoid mainImage(out vec4 Q,in vec2 U){\n  \tQ=vec4(A(U));\n    //Q+=vec4(B(U).xy,A(U).w,0)*2.;\n    //Q=vec4(C(U));\n}","name":"Image","description":"","type":"image"},{"outputs":[],"inputs":[],"code":"const float h=1.;\t//advection step size\nconst float dt=.25;\nconst float k=5e-3;\t//mouse fluid generation radius\n\t\t\t\t\t//(not actual radius)\n\n#define R iResolution.xy\n#define M iMouse\n\n#define A(u) texture(iChannel0,(u)/R)\n#define B(u) texture(iChannel1,(u)/R)\n#define C(u) texture(iChannel2,(u)/R)\n\n#define colors vec3(sin(iTime),sin(iTime*1.6180),sin(iTime*2.7182))*0.5+0.5\n\nfloat dot2(vec2 k){return dot(k,k);}\n\n#define RK4 vec2 k1=B(U).xy,k2=B(U-0.5*h*k1).xy,k3=B(U-0.5*h*k2).xy,k4=B(U-h*k3).xy;\n#define V h*(k1+2.*(k2+k3)+k4)/6.;","name":"Common","description":"","type":"common"},{"outputs":[{"channel":0,"id":"4dXGR8"}],"inputs":[{"channel":0,"type":"buffer","id":"4dXGR8","filepath":"/media/previz/buffer00.png","sampler":{"filter":"linear","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"}},{"channel":1,"type":"buffer","id":"XsXGR8","filepath":"/media/previz/buffer01.png","sampler":{"filter":"linear","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"}},{"channel":2,"type":"buffer","id":"4sXGR8","filepath":"/media/previz/buffer02.png","sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}}],"code":"void mainImage(out vec4 Q,in vec2 U){\n    RK4\n\tU-=V;\n    Q=A(U)*0.999;\n    \n    Q.w-=dt*(B(U+vec2(1,0)).x-B(U-vec2(1,0)).x+B(U+vec2(0,1)).y-B(U-vec2(0,1)).y);\n\n    \n\tif(U.y<2.||U.y>R.y-2.){\n        float x = C(U).r;\n        vec3 col = (0.7+sin(iTime*0.5)*0.3*sin(x*4.+vec3(1,2,3)));\n        Q=vec4(col,x*0.2);\n    }\n}","name":"Buffer A","description":"","type":"buffer"},{"outputs":[{"channel":0,"id":"XsXGR8"}],"inputs":[{"channel":0,"type":"buffer","id":"4dXGR8","filepath":"/media/previz/buffer00.png","sampler":{"filter":"linear","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"}},{"channel":1,"type":"buffer","id":"XsXGR8","filepath":"/media/previz/buffer01.png","sampler":{"filter":"linear","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"}},{"channel":2,"type":"buffer","id":"4sXGR8","filepath":"/media/previz/buffer02.png","sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}}],"code":"void mainImage(out vec4 Q,in vec2 U){\n    Q.zw=B(U).zw;\n    RK4\n    U-=V;\n    Q.xy=B(U).xy;\n\n    Q.xy-=dt*vec2(A(U+vec2(1,0)).w-A(U-vec2(1,0)).w,A(U+vec2(0,1)).w-A(U-vec2(0,1)).w);\n    \n    \n    \n\tif(U.y<1.){\n        Q.xy=vec2(0,0.1);\n    }else if(U.y>R.y-1.){\n        Q.xy=vec2(0,-0.1);\n    }\n        \n}","name":"Buffer B","description":"","type":"buffer"},{"outputs":[{"channel":0,"id":"4sXGR8"}],"inputs":[{"channel":0,"type":"music","id":"4df3Rn","filepath":"/media/a/3c33c415862bb7964d256f4749408247da6596f2167dca2c86cc38f83c244aa6.mp3","sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord ){\n    vec2 uv = abs((fragCoord * 2.-R.xy)/R.x);\n    \n    fragColor = vec4(texture(iChannel0,vec2(uv.x,0.25)).r);\n}","name":"Buffer C","description":"","type":"buffer"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":true,"mFlagMusicStream":false},"info":{"id":"lXdyRM","date":"1734896331","viewed":134,"name":"Actual Audio Responsive Fluid","username":"Txoka","description":"Audio responsive fluid, play in x8 speed if you can.\nInspired by wyatt","likes":5,"published":3,"flags":32,"usePreview":0,"tags":["wave","simulation","fluid","advection","physics","air","pressure"],"hasliked":0,"parentid":"","parentname":""}}