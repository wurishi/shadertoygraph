{"ver":"0.1","info":{"id":"MtsXDr","date":"1436081308","viewed":362,"name":"rainbowland","username":"substack","description":"rainbows etc","likes":7,"published":1,"flags":0,"usePreview":0,"tags":["rainbows"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[],"code":"float diric (float n, float x);\nvec3 hsl2rgb (float h, float s, float l);\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n  float x = fragCoord.x - 400.0;\n  float y = fragCoord.y - 800.0;\n  float t = iTime*2.0;\n  float z = 200.0 - (1.0 + sin(t/20.0)) / 20.0 * 40.0;\n  float z0 = 350.0 - (1.0 + sin(t/20.0)) / 2.0 * 40.0;\n  \n  float h = diric(10.0, 10.0*(y/10.0/z*t/20.0-40.0 + x/10.0/z*t/120.0)/80.0)\n    + diric(10.0, 2.0 * sin(x/z * y/z + t/40.0) + sin(t/2.0 + y/4.0/z) * 2.0)\n  ;\n  float s = 1.0;\n  float l = diric(10.0, 100.0*(y/z0*t/20.0-40.0 + x/z0*t/120.0)/20.0)\n    + diric(10.0, 4.0 * sin(x/z0 * y/z0 + t/4.0) + sin(t/2.0 + y/z0 + x/z0*3.0) * 2.0)\n    + diric(10.0, 1.0 * sin((x*2.0) * (y*2.2) / (800.0 + sin((x/2.0+sin(t))/(y/3.0+cos(t))*200.0+t) + t/40.0)))\n  ;\n  fragColor = vec4(hsl2rgb(h,s,l),1.0);\n}\n\nfloat EPSILON = 0.00001;\nfloat PI = 3.141592654;\n\nfloat diric(float n, float x) {\n  float denom = sin(PI * x / n);\n  if(-EPSILON <= denom && denom <= EPSILON) {\n    return 1.0;\n  }\n  return sin(PI * x) / (n * denom);\n}\n\nvec3 hsl2rgb(in float h, float s, float l) {\n  vec3 rgb = clamp( abs(mod(h*6.0+vec3(0.0,4.0,2.0),6.0)-3.0)-1.0, 0.0, 1.0 );\n  return l + s * (rgb-0.5)*(1.0-abs(2.0*l-1.0));\n}","name":"","description":"","type":"image"}]}