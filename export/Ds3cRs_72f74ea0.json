{"ver":"0.1","info":{"id":"Ds3cRs","date":"1695335715","viewed":37,"name":"Fractal + zoom study","username":"vlahovivan","description":"I forked my own Sierpinski triangle study, played a bit with it, and got this cool animation","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["fractal","sierpinski"],"hasliked":0,"parentid":"cs3cRs","parentname":"Fractal study"},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 st = fragCoord / iResolution.xy;\n    \n    vec2 original_st = st;\n    \n    float aspect_ratio = iResolution.x / iResolution.y;\n    st.x *= aspect_ratio;\n    \n    // x=0 in the middle\n    st.x -= aspect_ratio / 2.;\n    st.y -= 0.5;\n    st.y *= 2.;\n    st.x *= 2.;\n    st.y = abs(st.y);\n    st.x = abs(st.x);\n    \n    \n    float zoom = 2.;\n    float zoom_position = (iTime + 90.0 + 11.4)*0.005;\n    \n    float zoom_exponent = step(1.0, zoom_position) + mod(zoom_position, 2.0);\n    float zoom_final = pow(zoom, zoom_exponent);\n    st /= zoom_final;\n    \n    for(float i=0.0; i<10. + mod(zoom_position, 2.0); i+=1.0) {\n        // Make a 4-square grid\n        st *= 2.0;\n\n        // Move the upper row 0.5 to the right\n        float upper_row_offset = 0.;\n        //float upper_row_offset = (sin(iTime * .5) * .5 + .5);\n        \n        st.x -= upper_row_offset * step(1.0, st.y);\n        \n        // Paint top right square black\n        vec2 st_cpy = st;\n        st_cpy.x = (st_cpy.x + 1.) * .5;\n        st_cpy.y = (st_cpy.y) * .5;\n        \n        \n        st = mod(st + vec2(1., 0), 2.0);\n        st *= 1. - step(1., st.x) * step(1., st.y);\n        st = fract(st);\n        st -= vec2(0.5, 0.0);\n    }\n    \n    float pct = step(-.0, st.x + st.y);\n    vec3 color = vec3(original_st.x, original_st.y, sin(iTime * 2.5) * 0.25 + 0.75);\n    fragColor = vec4(pct * color,1.0);\n    \n    // Used for testing only\n    // fragColor = vec4(st.x, st.y, 0.0, 1.0);\n}","name":"Image","description":"","type":"image"}]}