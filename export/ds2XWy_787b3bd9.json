{"ver":"0.1","info":{"id":"ds2XWy","date":"1670856887","viewed":460,"name":"subpixel parallax scrolling","username":"d7samurai","description":"smooth subpixel aa parallax scrolling for pixel art (\"fat pixel\" aesthetics)\noriginal non-parallax subpixel aa shader: [url]https://www.shadertoy.com/view/MlB3D3[/url]","likes":6,"published":1,"flags":0,"usePreview":0,"tags":["2d","texture","antialiasing","parallax","bitmap","filtering","sampling","subpixel","pixelart"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"Xsf3Rn","filepath":"/media/a/cbcbb5a6cfb55c36f8f021fbb0e3f69ac96339a39fa85cd96f2017a2192821b5.png","previewfilepath":"/media/ap/cbcbb5a6cfb55c36f8f021fbb0e3f69ac96339a39fa85cd96f2017a2192821b5.png","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const float pixels =    4.00; // \"fat pixel\" size\nconst float radius =  128.00; // planar movement radius\nconst float xspeed =    0.25; // x speed\nconst float yspeed =    0.10; // y speed\nconst float zspeed =    0.10; // z speed\nconst int   layers =    3;    // parallax layers\n\n////////////////////////////////////////////////////////////////////////////////////////////////////\n\nvec4 sampleTexture(vec2 pixel, vec2 offset, float zoom)\n{\n    vec2  center = iResolution.xy / 2.0;\n\tfloat scale  = pixels * zoom;\n\n    pixel = ((pixel + offset * zoom) - center) / scale + center;\n\n    vec2 aa = floor(pixel) + min(fract(pixel) / fwidth(pixel), 1.0) - 0.5;\n\n    return texture(iChannel0, aa / iChannelResolution[0].xy);\n}\n\nvec4 mixColors(vec4 color1, vec4 color2)\n{\n    return mix(vec4(color1.rgb * color1.a, 1), vec4(color2.rgb * color2.a, 1), color2.a);\n}\n\nvoid mainImage(out vec4 color, in vec2 pixel)\n{\n\tvec2  offset = vec2(cos(iTime * xspeed), sin(iTime * yspeed)) * radius;\n    float zoom   = sin(iTime * zspeed) * 0.5 + 1.5;\n\n    color = vec4(1);\n    \n    for (int i = 0; i < layers; i++)\n    {\n        color = mixColors(color, sampleTexture(pixel, offset, zoom));\n        zoom *= 1.25;\n    }\n}\n\n////////////////////////////////////////////////////////////////////////////////////////////////////\n\n// original non-parallax subpixel aa shader:\n// https://www.shadertoy.com/view/MlB3D3\n\n////////////////////////////////////////////////////////////////////////////////////////////////////\n","name":"Image","description":"","type":"image"}]}