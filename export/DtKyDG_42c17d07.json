{"ver":"0.1","info":{"id":"DtKyDG","date":"1700598365","viewed":29,"name":"Wobble hypno +colorchange","username":"brainsandwich","description":"It's an hypno sipral that wobbles with time","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["sinus","geometric","hypno"],"hasliked":0,"parentid":"ctS3W1","parentname":"Wobble hypno (inspi @maxdrekker)"},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define pi 3.14159265359\n\n// @FabriceNeyret2 antialias\nfloat antialias(in float value)\n{\n    return smoothstep(-1., 1., (value-.5)/fwidth(value));\n}\n\n// Generate oscillation in the range [0, 1]\n// with specified frequency \"freq\" (1/rad)\n// at frame \"theta\"\nfloat oscillator(in float theta, in float freq)\n{\n    return 0.5*sin(theta*freq*2.0/pi)+0.5;\n}\n\nfloat wobble(in float d)\n{\n    float c1 = sin(0.2*iTime+d*10.0);\n    float c2 = sin(-0.1*iTime+d*24.0);\n    float c3 = sin(-0.5*iTime+d*2.0*sin(c1));\n    return 0.5*(3.0*c1 + 1.0*c2 + 5.0*c3 + d);\n}\n\nfloat wobble2(in float d)\n{\n    float w = 0.0;\n    for (int i = 0; i < 4; i++)\n    {\n        w += 0.2*wobble(d) * (1.0 + sin(w*w));\n    }\n    return w;\n}\n\n#define dark vec3(0.1, 0.0, 0.15)\n#define light vec3(0.94, 0.95, 1.0)\n#define limit vec3(1.0, 0.4, 0.1)\n\nvec3 colors[5] = vec3[5](\n    vec3(1.0, 0.4, 0.1),\n    vec3(0.2, 0.1, 0.1),\n    vec3(0.03, 0.8, 0.4),\n    vec3(0.03, 0.01, 0.08),\n    vec3(0.4, 0.02, 1.0)\n);\n\n#define hour 3600.0\n#define minute 60.0\n#define whole_set_time (1.0 * hour + 20.0 * minute)\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    // + Moved to center, no asymetric stretch\n    vec2 uv = (fragCoord - iResolution.xy/2.0)/iResolution.x;\n\n    // Theta/Radius at current pixel\n    float tin = atan(uv.y, uv.x);\n    float rin = length(uv);\n    \n    // Phase offset theta in function of radius at current pixel\n    float theta = tin + (1.0 + wobble2(rin));\n    \n    // Generate B/W spiral\n    float v = oscillator(theta, 7.0*pi);\n    v = smoothstep(-1., 1., (v-.5)/fwidth(v));\n    \n    float ttol = 5.0 * (iTime) / whole_set_time;\n    int tl = int(ttol) % 5;\n    int tm = tl + 1 % 5;\n    float tf = fract(ttol);\n    vec3 ca = colors[tl];\n    vec3 cb = colors[tm];\n    vec3 c = mix(ca, cb, tf);\n    \n    // \n    vec3 col = mix(dark, light, v);\n    col = mix(col, c, smoothstep(0., 1.5/iResolution.x, rin-.24)); // @FabriceNeyret2 antialiased mix\n    \n    // Output\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}