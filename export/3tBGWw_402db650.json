{"ver":"0.1","info":{"id":"3tBGWw","date":"1559695616","viewed":193,"name":"Circular Displacement","username":"Rackdoll","description":"Displacement","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["displacement"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XdXGzn","filepath":"/media/a/3083c722c0c738cad0f468383167a0d246f91af2bfa373e9c5c094fb8c8413e0.png","previewfilepath":"/media/ap/3083c722c0c738cad0f468383167a0d246f91af2bfa373e9c5c094fb8c8413e0.png","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    //coordinates.\n    vec2 uv          = fragCoord.xy/iResolution.xy - 0.5;\n    float aspect     = iResolution.x / iResolution.y;\n    uv.x             = aspect * uv.x;\n    vec2 middle      = vec2( (cos(iTime) + sin(iTime * .5)) * 0.2,(sin(iTime) + cos(iTime * .5))* 0.2 );\n    vec2 delta       = uv.xy - middle;\n    float len        = length( delta );\n    float angle      = atan( delta.y , delta.x );\n    float radius     = 0.15 + cos(iTime) * sin(iTime * .5) * 0.1;\n    float ringRadius = radius - radius*.85;\n    vec2 newUV       = uv - vec2(cos(angle) * radius, sin(angle) * radius);\n    newUV.x          = newUV.x *(1.0 - radius)*.65; //correct uv based on radius.\n    \n   \n    //coloring.\n    vec4 sampled_color = texture( iChannel0, newUV - 0.5);\n\tif(len < (radius - ringRadius))\n    {\n        sampled_color =  texture( iChannel0, fragCoord.xy/iResolution.xy );\n    }\n    else if(len >= (radius - ringRadius) && len <(radius))\n    {\n        sampled_color =  texture( iChannel1, newUV - 0.5 );\n    }\n  \n    //output.\n\tfragColor  = vec4(sampled_color.rgb, 1.0);\n}","name":"Image","description":"","type":"image"}]}