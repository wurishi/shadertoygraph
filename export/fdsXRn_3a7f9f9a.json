{"ver":"0.1","info":{"id":"fdsXRn","date":"1618190885","viewed":97,"name":"tractor-beam","username":"tijit","description":"draw a tri with texture coords (0,0) (1,0) (0,1)","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["tractor"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// gif in game : https://twitter.com/yourbirlfriend/status/1381199731943120899\n\n//uniform float u_time;\n\nconst int LINES = 8;\nconst float LINE_WIDTH = .33;\n//const float PI = 3.14159;\nconst float PI_INV = 0.31830988;\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    //vec3 col = v_vColour.rgb;\n    vec3 col = vec3(.62, .74, 1.);\n    vec3 col2 = vec3(1.);\n    //vec2 st = v_vTexcoord.xy;\n    vec2 st = vec2(fragCoord.x, fragCoord.y) / min(iResolution.x, iResolution.y); //fragCoord;\n    //float alpha = 0.5 * v_vColour.a;\n    float alpha = .5;\n    // convert angle as a ratio from 0-1\n    float angle = fract(atan(st.y,st.x) * 2. * PI_INV);\n    \n    \n    float mixval = 0.;\n    \n    float r = length(st);\n    //float t = u_time / 120.;\n    float t = iTime / 2.;\n    \n    \n    \n    // lighten edge/sides\n    \n    float v2 = 0.25 * smoothstep(LINE_WIDTH, 0., abs(2.*abs(angle-.5) - 1.+LINE_WIDTH));\n    alpha += v2;\n    mixval += v2;\n    \n    \n    // lighten random lines\n    \n    \n    for (int i = 0; i < LINES; i++) {\n        float l = fract( sign(mod(float(i),2.) - .5 ) * t * sqrt(float(i)+1.) );\n        \n        v2 = 0.25 * smoothstep(LINE_WIDTH, 0., 2.*abs(angle-l));\n        \n        alpha += v2;\n        \n        v2 = 0.25 * smoothstep(LINE_WIDTH * .25, 0., 2.*abs(angle-l));\n        \n        mixval += v2 * .5;\n    }\n    \n    \n    // fade out approaching endpoint\n    alpha = clamp(alpha, 0., 1.);\n    alpha *= smoothstep(1., .75, st.x+st.y);\n    \n    alpha *= smoothstep(1., 1. - LINE_WIDTH * .5, 2.*abs(angle-.5));\n    \n    mixval = clamp(mixval, 0., 1.);\n    \n    col = mix(col, col2, mixval);\n    \n    //gl_FragColor = vec4(col, alpha) * texture2D( gm_BaseTexture, v_vTexcoord );\n    fragColor = vec4(col, 1.);\n    fragColor = vec4(col * alpha, 1.);\n}\n","name":"Image","description":"","type":"image"}]}