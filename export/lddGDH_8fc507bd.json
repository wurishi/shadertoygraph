{"ver":"0.1","info":{"id":"lddGDH","date":"1449498430","viewed":367,"name":"AbsDuct","username":"jt","description":"Simple abs-planes duct with perspective - intended as building-block for more complex effects. Variants:\n[url]https://www.shadertoy.com/view/Xd33W8[/url]\n[url]https://www.shadertoy.com/view/ldtGD8[/url]","likes":18,"published":1,"flags":0,"usePreview":0,"tags":["perspective","planes","duct"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sXGRn","filepath":"/media/a/95b90082f799f48677b4f206d856ad572f1d178c676269eac6347631d4447258.jpg","previewfilepath":"/media/ap/95b90082f799f48677b4f206d856ad572f1d178c676269eac6347631d4447258.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[],"code":"// Abs Duct - written 2015 by JT\n// License Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.\n\nvoid mainImage( out vec4 O, vec2 I ) // codegolfed 233chars version by FabriceNeyret2\n{\n    O.xy = abs( I = (I+I-(O.xy=iResolution.xy))/O.y ); \n \n    float d = max(O.x, O.y); \n\n    if (d==O.x) I = I.yx;\n    I.x *= .5*sign(I.y) / d;\n    I.y = fract(iDate.w + 1./d);\n\n    O = d * texture(iChannel0, d==O.x ? I.yx : I) \n          * step(0.,sin(I*=12.6).x*sin(I.y));\n}\n/*\nvoid mainImage( out vec4 O, vec2 I ) // codegolfed 235chars version by FabriceNeyret2\n{\n    vec2 A = abs( I = (I+I-(O.xy=iResolution.xy))/O.y ); \n \n    float d = max(A.x, A.y); \n\n    if (d==A.x) I = I.yx;\n    I.x *= .5*sign(I.y) / d;\n    I.y = fract(iDate.w + 1./d);\n\n    O = d * texture(iChannel0, d==A.x ? I.yx : I) \n          * step(0.,sin(I*=12.6).x*sin(I.y));\n}\n*/\n/*\n// original version\nvec4 C(vec2 v)\n{\n    return texture(iChannel0, .5*v+.5) * step(0.,sin(v.x*6.28)*sin(v.y*6.28));\n}\n\nvoid mainImage( out vec4 O, in vec2 I )\n{\n\tvec2 R = iResolution.xy;\n    I = (I+I-R)/R.y;\n    vec2 A = abs(I);\n    float s = step(0., A.x - A.y);\n    float d = mix(A.y, A.x, s);\n    I /= mix(vec2(2.*sign(I.y), I.y) * A.y, vec2(I.x, 2.*sign(I.x)) * A.x, s);\n    I.x = mix(I.x, fract(iDate.w+I.x), s);\n    I.y = mix(fract(iDate.w+I.y), I.y, s);\n    O = C(I*2.)*d;\n}\n*/\n","name":"","description":"","type":"image"}]}