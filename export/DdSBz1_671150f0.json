{"ver":"0.1","info":{"id":"DdSBz1","date":"1689400832","viewed":245,"name":"Array use case 1","username":"vete","description":"Trying to find a reason to arrays ","likes":8,"published":1,"flags":0,"usePreview":0,"tags":["sine","array","hsl"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define rot(a) mat2(cos(a),sin(a),-sin(a),cos(a))\nfloat sdf(vec2 st, float A, float offset, float f, float phi){\n    return abs((st.y - offset) + sin(st.x * f + phi) * A);\n} //https://www.shadertoy.com/view/ldKyW1\nvec3 hsl( in vec3 c )\n{\n    vec3 rgb = clamp( abs(mod(c.x*6.0+vec3(0.0,4.0,2.0),6.0)-3.0)-1.0, 0.0, 1.0 );\n\n    return c.z + c.y * (rgb-0.5)*(1.0-abs(2.0*c.z-1.0));\n}\n\n\nvoid mainImage( out vec4 O, in vec2 F )\n{\n\n    vec2 uv = (F-.5*iResolution.xy)/iResolution.y;\n    uv.x *=.4;\n    uv.x += .650;\n\n\n    const int n = 8;\n    \n    float curves[n];\n    for(int i=0;i<n;i++){\n        \n        float ii = float(i)/(32.+4.5*sin(iTime));\n        uv *= rot(.03*sin(uv.y+iTime*2.));\n        curves[i] = sdf(uv,\n                        sin(12.2*uv.x/(1.+ii)+ii)/4.,\n                        .0,\n                        4.+20.*ii,iTime*1.5);\n    }\n    \n    float prod = 1.;\n    for(int i=0;i<n;i++)\n        prod *= curves[i];\n\n\n    float e = pow(20., -float(n));\n    float o = e/prod;\n    \n    o = clamp(o,.0,1.)/.1;\n    O = vec4(1.-hsl(vec3(sin(o))),1.);\n    O *= O-.9*O*o;\n    \n}\n\n\n/* WITHOUT ARRAYS\nvoid mainImage( out vec4 O, in vec2 F )\n{\n\n    vec2 uv = (F-.5*iResolution.xy)/iResolution.y;\n    uv.x *=.4;\n    uv.x += .650;\n\n\n    const int n = 8;\n    float prod = 1.;\n    for(int i=0;i<n;i++){\n        float ii = float(i)/(32.+4.5*sin(iTime));\n        uv *= rot(.03*sin(uv.y+iTime*2.));\n        prod *= sdf(uv, sin(12.2*uv.x/(1.+ii)+ii)/4.,.0,4.+20.*ii,iTime*1.5);\n    }\n    \n\n\n    float e = pow(20., -float(n));\n    float o = e/prod;\n    \n    o = clamp(o,.0,1.)/.1;\n    O = vec4(1.-hsl(vec3(sin(o))),1.);\n    O *= O-.9*O*o;\n    \n}*/","name":"Image","description":"","type":"image"}]}