{"ver":"0.1","info":{"id":"3l2BDd","date":"1600180991","viewed":346,"name":"Abstract Rectangles","username":"bitless","description":"A small experiment with rectangular cells","likes":19,"published":1,"flags":0,"usePreview":0,"tags":["2d","grid","rectangle","pattern"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Author: bitless\n// Title: Abstract Rectangles\n\n// Thanks to Patricio Gonzalez Vivo & Jen Lowe for \"The Book of Shaders\"\n// and Fabrice Neyret (FabriceNeyret2) for https://shadertoyunofficial.wordpress.com/\n// and Inigo Quilez (iq) for  https://iquilezles.org/www/index.htm\n// and whole Shadertoy community for inspiration.\n\n\n#define p(t, a, b, c, d) ( a + b*cos( 6.28318*(c*t+d) ) ) //palette function (https://iquilezles.org/articles/palettes)\n#define S(x,y,z) smoothstep(x,y,z)\n\nvoid mainImage( out vec4 f, in vec2 g)\n{\n    vec2 r = iResolution.xy\n        ,s = (g+g-r)/r.y*(1.3+sin(iTime)*.2);\n    s.x += s.x*abs(s.x)*.4+.5;\n    float y = s.y*(1.+abs(floor(s.x))*.2);\n    s.y = y+iTime;\n    vec2 l = floor(s)\n        ,u = fract(s);\n    \n    float \tm = fwidth(s.y)\n        \t,c = (1.-abs(l.x)*.1) \t\t\t//edge faiding\n                *(1.2-length(u-.5)*.5) \t\t//center spot\n                *S(.5,.49-m,abs(.5-u.x))\t//vertical borders\n                *S(.5,.49-m,abs(.5-u.y))\t// horizontal borders\n        \t\t*(1.-((l.x > 0.) ? S(.4,0.,u.x): //right side shadow\n        \t\t(l.x < 0.) ? S(.6,1.,u.x):0.)*.5)* //left side shadow\n    \t\t\t(1.-S(y*.3,0.,u.y)*max(0.,y*2.)*.2    //top shadow\n         \t\t-S(1.+(y)*.3,1.,u.y)*abs(min(0.,y*2.))*.2); //bottom shadow\n    f = vec4(p(sin(l.x*.2),vec3(.5),vec3(.3),vec3(.6+sin(l.y)*.2),vec3(.1,.2,.3))*c,1.);\n}","name":"Image","description":"","type":"image"}]}