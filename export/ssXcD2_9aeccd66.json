{"ver":"0.1","info":{"id":"ssXcD2","date":"1643307321","viewed":200,"name":"zinnekebeat","username":"louis_C","description":"some fun with wavenerd - love this little soft!","likes":18,"published":1,"flags":8,"usePreview":0,"tags":["2d","sound","beat","song"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float dot2( in vec2 v ) { return dot(v,v); }\nfloat cross2( in vec2 a, in vec2 b ) { return a.x*b.y - a.y*b.x; }\nfloat cu( in vec2 pos, in vec2 A, in vec2 B, in vec2 C )\n{    \n    vec2 a = B - A;\n    vec2 b = A - 2.0*B + C;\n    vec2 c = a * 2.0;\n    vec2 d = A - pos;\n    float kk = 1.0/dot(b,b);\n    float kx = kk * dot(a,b);\n    float ky = kk * (2.0*dot(a,a)+dot(d,b)) / 3.0;\n    float kz = kk * dot(d,a);      \n    float res = 0.0;\n    float p = ky - kx*kx;\n    float p3 = p*p*p;\n    float q = kx*(2.0*kx*kx-3.0*ky) + kz;\n    float h = q*q + 4.0*p3;\n    if( h >= 0.0) \n    { \n        h = sqrt(h);\n        vec2 x = (vec2(h,-h)-q)/2.0;\n        vec2 uv = sign(x)*pow(abs(x), vec2(1.0/3.0));\n        float t = clamp( uv.x+uv.y-kx, 0.0, 1.0 );\n        res = dot2(d + (c + b*t)*t);\n    }\n    else\n    {\n        float z = sqrt(-p);\n        float v = acos( q/(p*z*2.0) ) / 3.0;\n        float m = cos(v);\n        float n = sin(v)*1.732050808;\n        vec3  t = clamp(vec3(m+m,-n-m,n-m)*z-kx,0.0,1.0);\n        res = min( dot2(d+(c+b*t.x)*t.x),\n                   dot2(d+(c+b*t.y)*t.y) );\n    }\n    return sqrt( res );\n}\nfloat rd(float t){ return fract(sin(dot(floor(t),45.))*7845.236);}\nfloat no(float t){return mix(rd(t),rd(t+1.),smoothstep(0.,1.,fract(t)))-0.5;}\nvec2 vt(vec2 t){return t+vec2(no(iTime*60.+t.x*12.36),no(iTime*60.+t.y*14.65))*0.1;}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n   \n    vec2 uv = fragCoord/iResolution.xy;\n    uv.x *= iResolution.x/iResolution.y;\n    uv *= 1.+no(iTime*12.+95.)*0.1;\n    uv.x -=0.2;\n    vec2 f1 = vt(vec2(0.7,0.7));vec2 f2 = vt(vec2(0.77,0.75));\n    vec2 f3 = vt(vec2(0.85,0.75));vec2 f4 = vt(vec2(0.92,0.65));\n    vec2 f5 = vt(vec2(0.85,0.55));vec2 f6 = vt(vec2(0.73,0.38));\n    vec2 f7 = vt(vec2(0.63,0.43));vec2 f8 = vt(vec2(0.45,0.3));\n    vec2 f9 = vt(vec2(0.38,0.28));vec2 f10 = vt(vec2(0.7,0.7));\n    float v1 = cu(uv,vt(vec2(0.2,0.15)),vt(vec2(0.25,0.5)),f1);\n    v1 =min(v1, cu(uv,f1,vt(vec2(0.72,1.)),f2));\n    v1 =min(v1, cu(uv,f2,vt(vec2(0.85,1.)),f3));\n    v1 =min(v1, cu(uv,f3,vt(vec2(1.3,0.8)),f4));\n    v1 =min(v1, cu(uv,f4,vt(vec2(1.2,0.68)),f5));\n    v1 =min(v1, cu(uv,f5,vt(vec2(0.7,-0.1)),f6));\n    v1 =min(v1, cu(uv,f6,vt(vec2(0.6,-0.12)),f7));\n    v1 =min(v1, cu(uv,f7,vt(vec2(0.57,0.4)),f8));\n    v1 =min(v1, cu(uv,f8,vt(vec2(0.4,0.)),f9));\n    v1 =min(v1, cu(uv,f9,vec2(0.3,0.),vt(vec2(0.3,0.35))));\n    vec2 f11 = vt(vec2(0.97,0.69));vec2 f12 = vt(vec2(1.02,0.71));\n    vec2 f13 = vt(vec2(0.76,0.66));vec2 f14 = vt(vec2(0.8,0.66));\n    vec2 f15 = vt(vec2(1.16,0.8));\n    v1 =min(v1, cu(uv,vt(vec2(0.93,0.67)),vt(vec2(0.99,0.6)),f11));\n    v1 =min(v1, cu(uv,f11,vt(vec2(1.04,0.6)),f12));\n    v1 =min(v1, cu(uv,f12,vt(vec2(1.1,0.6)),vt(vec2(1.06,0.73))));\n    v1 =min(v1, cu(uv,vt(vec2(0.84,0.69)),vec2(0.78,0.69),f13));\n    v1 =min(v1, cu(uv,f13,vt(vec2(0.75,0.64)),f14));\n    v1 =min(v1, cu(uv,f14,vt(vec2(0.8,0.68)),vt(vec2(0.78,0.668))));\n    v1 =min(v1, cu(uv,vt(vec2(1.11,0.76)),vt(vec2(1.1,0.79)),f15));\n    v1 =min(v1, cu(uv,f15,vt(vec2(1.2,0.79)),vt(vec2(1.12,0.77))));\n    float r1 = smoothstep(pow(no(iTime*24.),3.),pow(no(iTime*24.+563.),3.),v1);\n    float e = step(48.,iTime)*step(iTime,56.)+step(96.,iTime)*step(iTime,104.)\n    +step(144.,iTime)*step(iTime,152.);\n    vec3 r2 = 3.*abs(1.-2.*fract(r1*0.5+iTime*7.+vec3(0.,-1./3.,1./3.)))-1.;\n    fragColor = vec4(mix(vec3(r1),r2,e),1.);\n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"float hs(float t){return fract(sin(dot(t,45.))*7845.236);}\nfloat rd(float t){ return fract(sin(dot(floor(t),45.))*7845.236);}\nfloat no(float t){return mix(rd(t),rd(t+1.),smoothstep(0.,1.,fract(t)));}\nfloat it(float t, int n){float r = 0.;float a = 0.5;for(int i=0 ; i <n ;i++){\nr += no(t/a)*a; a*=0.5;} return (r-0.5)*2.;}\n\nvec2 e2(float t,float e){float tt2 = 0.25*floor(fract(t*0.25)*3.+1.);                           \n  float t2 = t*mix(mix(6.,8.,step(0.5,fract(t*mix(4.,6.,step(tt2,fract(t)))))),4.,\n  step(0.5,fract(t)*step(0.5,fract(t*0.125+0.5))))+0.5;     \n  float t3 = mix(t2,t*2.,e);\n  vec2 s2 = vec2(sin(hs(t)*t3*10.),sin(hs(t+45.)*t3*10.))*0.1\n   *pow(clamp(vec2(fract(t3),fract(t3))*2.-1.,0.,1.),\n  vec2( mix(0.01,10.,step(0.5,fract(t*8.))))); \n                 return s2;}\nvec2 e3(float t,float e){float h = it(t*40.,4);\n  vec2 r = vec2(0.); for(int i = 0 ; i < 6 ; i++){\n    r += e2 (t+float(i)*1.5,e)/(1.+float(i));\n  }return r;}\nvec2 e4(float t,float e){float tt2 = 0.25*floor(fract(t*0.25)*3.+1.);                           \n  float t2 = t*mix(mix(6.,8.,step(0.5,fract(t*mix(4.,6.,step(tt2,fract(t)))))),4.,\n  step(0.5,fract(t)*step(0.5,fract(t*0.125+0.5))))+0.5; \n                  float t3 = mix(t2,t*2.,e);\n  vec2 s2 = vec2(rd(t*5000.-t3*1000.),rd(t*5000.-t3*1000.+45.))*0.1\n   *pow(clamp(vec2(fract(t3),fract(t3))*2.-1.,0.,1.),\n  vec2( mix(0.01,10.,step(0.5,fract(t*8.))))); \n                 return s2;}\nvec2 e5(float t,float e){\n  vec2 r = vec2(0.); for(int i = 0 ; i < 3 ; i++){\n    r += pow(e4 (t+float(i)*(0.015),e),vec2(1.+float(i)*0.05));\n  }return (clamp(r,0.,1.)-0.5)*2.;}\n \nfloat voc(float t, float f, float ft,float ta){float x = fract(t * f) / f;\nfloat e=(fract(x*3.*ft)+fract(x*22.*ft)+fract(x*28.*ft)); \nfloat a=(sin(x*6.5*ft)+sin(x*13.*ft)+sin(x*24.*ft));\nreturn mix(e,a,ta)* min(x * 1000., 1.) * exp(x * -200.);}\nfloat hash(float x){return fract(sin(x) * 897612.531);}\nvec2 vo(float t, float var,float ta){vec2 v = vec2(0., 0.);\n    for(int i = 0; i < 16; ++i){\n        float h = float(i);\n       \tfloat m = voc(t+h,40.+pow(2.01,(h-8.)*.2),var,ta);\n        float pan = hash(h);\n        v.x += m * pan;v.y += m * (1.-pan);\n    }return v *.1;}\nvec2 e6(float t,float ep){vec2 r = vec2(0.); \n      float e = step(0.5,fract(t*0.03125));                    \n      float tv = mix(0.5,mix(1.,2.,step(0.5,fract(t*0.5))),e)*\n        mix(mix(1.,4.,step(0.75,fract(t*0.03125))),0.25,step(0.875,fract(t*0.03125+0.5)));\n      float tv2 = mix(tv,1.,ep);\n      float tt = mix(0.5,mix(1.,2.,step(0.5,fract(t*0.25)))*tv,e);   \n      float tt2 =mix(0.5,mix((1.+floor(fract(t/6.)*3.))/3.,1.,step(0.5,fract(t*0.125+0.5))),e);\n      float tt3 = mix(tt,4.,ep);    \n      float tt4 = mix(tt2,0.1,ep);  \n      vec2 f1 = vec2(no(pow(fract(t*tt3),0.7*tt4/tv2)*140000./tt3),\n      no(pow(fract(t*tt3),0.7*tt4/tv2)*140000./tt3)) -0.5; \n      float tta = mix(2.,mix(4.,1.,step(0.5,fract(t*0.25))),step(0.5,fract(t*0.125+0.5)));                         \n      float tp = 0.25+fract(t*0.25)*0.5;\n      float tp2 = 0.25+fract(t*0.25+0.5)*0.5;\n      float ta = mix(mix(pow(fract(t*0.25+0.5),tp),pow(fract(t+0.5),tp),\n       step(0.5,fract(t*0.5))),max(smoothstep(0.225,0.25,1.-fract(t*0.0625)),\n       step(0.5,fract(t*0.5)))*pow(fract(t*tta+0.5),tp),e);\n      float ta2 = mix(mix(pow(fract(t*0.25+0.5),tp2),pow(fract(t+0.5),tp2),\n       step(0.5,fract(t*0.5))),max(smoothstep(0.225,0.25,1.-fract(t*0.0625)),\n       step(0.5,fract(t*0.5)))*pow(fract(t*tta+0.5),tp2),e);\n       return  r += f1*mix(vec2(ta,ta2),vec2(1.),e);}\nfloat e1(float t,float e){\n   float tt1 = mix(1.,2.,step(0.75,fract(t*0.25)));\n  float t1 = t*mix(mix(4.,3.,step(0.5,fract(t*2.)))*tt1,2.,step(0.875,fract(t*0.125+0.5)));\n  t1 *= 1.+step(0.8125,fract(t*0.125+0.75)); \n  float t2 = mix(t1,t*4.,e);\n  float s1 = sin(pow(fract(t2),0.5)*100.)*mix(0.5,0.25,step(0.5,fract(t*6.\n  +floor(fract(t*0.0625)*4.)/4.)));\n  s1 += it(pow(fract(t2),(1.-fract(tt1+0.5))*0.5)*70.,5);  \n  return s1;}\nfloat sfract (float t){ return 1.-fract(t);}\nvec2 e7(float t,float e){\n  float bt = sfract(t*mix(0.25,1.,step(0.5,fract(t*0.25)))*mix(1.,2.,step(0.5,fract(t*0.5))));\n  float tt = pow(mix(1.-bt,bt,step(0.5,sfract(t*4.))),\n                 mix(0.25,0.5,step(0.5,sfract(t*0.25+0.5))));\n  float tti = t*2.;\n  float ti = (floor(fract(tti/8.)*8.+1.)+sfract(tti))*100.+400.;\n  float tta = step(0.25,fract(t*0.125+step(0.5,fract(t*0.25+0.5))*0.5));\n  float ta = fract(t*mix(1.,2.,step(0.5,fract(t*0.0625)))\n                   *mix(mix(1.,4.,step(0.5,fract(t*0.125+0.5))),\n                        2.,step(0.75,fract(t*0.125+0.5))))*tta;\n  return vo(t,mix(tt*ti,500.,e), mix(ta,fract(t*2.+0.5),e))*mix(fract(t*4.),1.,tta);}\nvec2 mainSound( int samp, float time )\n{float t = time;\n vec2 d  = vec2(0.);\n float e = step(48.,time)*step(time,56.)+step(96.,time)*step(time,104.)\n +step(144.,time)*step(time,152.);\n    float s1 = e1(t,e)*0.5;\n  vec2 s2 = e3(t*max(step(0.5,fract(t*0.125)),step(0.5,fract(t*0.5))),e)*0.5;  \n  vec2 s3 = e5(t,e)*0.5;\n  vec2 s4 = e6(t,e) *0.4;\n  vec2 s5 = e7(t,e);\n  float ttp = smoothstep(0.125,2.5,time);\n  d += s1*smoothstep(0.25,0.5,time);\n  d += s2*ttp;\n  d += s3*ttp;\n  d += s4*smoothstep(8.,12.,time);\n  d += s5*smoothstep(16.,24.,time);\n  return (d+0.5)*smoothstep(180.,175.,time);\n}\n","name":"Sound","description":"","type":"sound"}]}