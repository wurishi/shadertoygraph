{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"// Created by beautypi - beautypi/2012\n// License Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.\n\n// modify by dark poulpo to make a real eye\n\n\n\nmat2 m = mat2( 0.80,  0.60, -0.60,  0.80 );\nconst float Tau = 6.2831853;\nfloat hash( float n )\n{\n    return fract(sin(n)*43758.5453);\n}\n\nfloat snoise(vec3 uv, float res)\n{\n\tconst vec3 s = vec3(1e0, 1e2, 1e4);\n\t\n\tuv *= res;\n\t\n\tvec3 uv0 = floor(mod(uv, res))*s;\n\tvec3 uv1 = floor(mod(uv+vec3(1.), res))*s;\n\t\n\tvec3 f = fract(uv);\n\tf = f*f*(3.0-2.0*f);\n\n\tvec4 v = vec4(uv0.x+uv0.y+uv0.z, uv1.x+uv0.y+uv0.z,\n\t\t      uv0.x+uv1.y+uv0.z, uv1.x+uv1.y+uv0.z);\n\n\tvec4 r = fract(sin(v*1e-3)*1e5);\n\tfloat r0 = mix(mix(r.x, r.y, f.x), mix(r.z, r.w, f.x), f.y);\n\t\n\tr = fract(sin((v + uv1.z - uv0.z)*1e-3)*1e5);\n\tfloat r1 = mix(mix(r.x, r.y, f.x), mix(r.z, r.w, f.x), f.y);\n\t\n\treturn mix(r0, r1, f.z)*2.-1.;\n}\n\nfloat noise( in vec2 x )\n{\n    vec2 p = floor(x);\n    vec2 f = fract(x);\n\n    f = f*f*(3.0-2.0*f);\n\n    float n = p.x + p.y*57.0;\n\n    float res = mix(mix( hash(n+  0.0), hash(n+  1.0),f.x),\n                    mix( hash(n+ 57.0), hash(n+ 58.0),f.x),f.y);\n    return res;\n}\n\nfloat fbm( vec2 p )\n{\n    float f = 0.0;\n\n    f += 0.50000*noise( p ); p = m*p*2.02;\n    f += 0.25000*noise( p ); p = m*p*2.03;\n    f += 0.12500*noise( p ); p = m*p*2.01;\n    f += 0.06250*noise( p ); p = m*p*2.04;\n    f += 0.03125*noise( p );\n\n    return f/0.984375;\n}\n\n\n\nfloat length2( vec2 p )\n{\n    float ax = abs(p.x);\n    float ay = abs(p.y);\n\n    return pow( pow(ax,4.0) + pow(ay,4.0), 1.0/4.0 );\n}\n\n\nfloat shape2( vec2 p, float r )\n{\n    float a = atan(p.x,p.y);\n    float len = 1.-length(p);\n\t\n\t\n\t\n\tfloat ba = sin(a*10.0)*r;\n\tfloat bb = sin(a*5.0)*r;\n\tfloat sa = sqrt(len+ba + len-bb ) + len;\n\t\n    return max(0.0,sa);\n}\n\n\nvoid saturation(inout vec3 color,float sat)\n{\n  float P = sqrt(color.r * color.r * .299 +\n\t\t\t\t color.g * color.g * 0.587 +\n\t\t\t\t color.b * color.b * 0.114 );\n  color = P + (color - P) * sat;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 q = fragCoord.xy / iResolution.xy;\n    vec2 p = -1.0 + 2.0 * q;\n\t\n\t//p *= 1.5; // coeff to scale\n\t\n    p.x *= iResolution.x/iResolution.y;\n\n    float d = length( p );\n    float aa = atan( p.y, p.x );\n\n    float dd = 0.2*sin(4.0);\n    float ss = 1.0 + clamp(1.0-d,0.0,1.0)*dd;\n\n    float r = d * ss;\n\n\tfloat intensite = 0.5+sin(iTime)*0.55;  // 0.0<-> 1.0  intensite = 0.51 by default\n\t\n\t\n\tfloat neurologique = 0.00; // 0.0 = pas de detresse, -0.35 <-> 0.5\n\n\tintensite = clamp(intensite, 0.0,1.0);\n\n\tneurologique = clamp(neurologique, -0.35,0.5);\n\n\n\tfloat size = 0.61 + (1.1-0.61) * intensite ; \n\n\tsize += 2.4 * neurologique;\n\t\n\t\n\t//float size = 0.35 + (1.6-0.35) * intensite; //1.6 0.35\n\n\tsize = clamp(size,0.35,1.6);\n\t\n\t// you can invert the color rgb to obtain any colors vec3()\n    vec3 col = vec3(76.0/255.0,110.0/255.0,147.0/255.0  );\n\n    float a = aa + 0.05*fbm( 20.0*p );\n\tfloat f = 0.0;\n    \n\t\n\t\n\t// halo blanc\n\tif(d>=0.15 ) {\n\t\tfloat sa = shape2(p*2.75, 0.19);\n\t\tvec3 clr = 1. - vec3(sa*1.0, sa*1.0, sa*0.86); // // you can invert the value in vec3() \n\t\tcol = mix(col,2.* vec3( clr),r); \n\t}\n\t\n\t// you can invert the color rgb to obtain any colors mix()\n\tf = smoothstep( 0.30, 1.0, fbm( vec2(8.0*a,18.0*r) ) );\n    col = mix( col, vec3(173.0/255.0,179.0/255.0,205.0/255.0), f );\n\tf = smoothstep( 0.30, 1.0, fbm( vec2(8.0*a,6.0*r) ) );\n    col = mix( col, 0.5 * vec3(79.0/255.0,93.0/255.0,122.0/255.0), f );\n\t\n\tif (d > 0.39)\n\t{\n\t\t\n\t\t// you can invert the color rgb to obtain any colors mix()\n\t\tf = smoothstep( 0.30, 1.0, fbm( vec2(67.0*a,16.0*r) ) );\n    \tcol = mix( col, 0.85 * vec3(79.0/255.0,93.0/255.0,122.0/255.0), f );\n\t\t\n\t\t// you can invert the color rgb to obtain any colors mix()\n\t\tf = smoothstep( 0.30, 1.0, fbm( vec2(45.0*a,8.0*r) ) );\n\t\tcol = mix( col, 1.11*vec3(138.0/255.0,179.0/255.0,223.0/255.0), f );\n\t\t\n\t\t\n\t}\n\t\n\t\n\t\n\t\n\t\n\t\n\t// effet marron dont modify\n\tif (d < 0.35)\n\t{\n    \tf = smoothstep( 0.532, 1.01,fbm( vec2(10.0*a,1.10*r) ) );\n    \tcol= mix( col, 2.5 * vec3(91.0/255.0,45.0/255.0,20.0/255.0), f );\n\t}\n\t\n\n\t\n\t// effet blanc dont modify\n\tif (d > 0.39)\n\t{\n    \tf = smoothstep( 0.532, 1.01,fbm( vec2(4.0*a,0.84*r) ) );\n    \tcol= mix( col, 1.1*vec3(215.0/255.0,233.0/255.0,255.0/255.0), f );\t\t\n\t}\n\t\n\n\t\n\t\n\t\n\t//bordure iris\n    //col *= 1.0-0.715*smoothstep( 0.55,0.8,r ); // * vec3(05.0/255.0,00.0/255.0,15.0/255.0);\n\t\n\n\n    col *= 1.15;\n\n\t\n\t// trait marron dont modify\n    f = 1.0-smoothstep( 0.2, 0.25, r *size);\n    col = mix( col, vec3(0.2,0.1,0.05), f );\n\t\n\t\n\t\n\t//saturation(col,1.51);\n\t\n\t// specular\n   // f = 1.0-smoothstep( 0.0, 0.6, length2( mat2(0.9,0.95,-0.9,0.95)*(p-vec2(0.5,0.5) )*vec2(1.0,2.0)) );\n   // col += vec3(1.0,0.9,0.9)*f*0.985;\n\n\t\n\t//bordure iris dont modify\n   \tf = smoothstep( 0.57, 0.8,r);\n   \tcol= mix( col, 1.42* vec3(35.0/255.0,36.0/255.0,54.0/255.0), f );\n\t// pupille dont modify\n\tf = 1.0-smoothstep( 0.19, 0.22, r * size );\n    col = mix( col, vec3(0.0), f );\n\t\n\t// blanc des yeux dont modify\n    f = smoothstep( 0.79, 0.82, r );\n    col = mix( col, vec3(1.0), f );\n\n\t\n\t// ombrage du blanc dont modify\n    //col *= 0.5 + 0.5*pow(16.0*q.x*q.y*(1.0-q.x)*(1.0-q.y),0.1);\n \n\tfragColor = vec4(col,1.0);\n}\n\n\n\n\n\n\n\n\n\n\n","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"XslGR8","date":"1362437712","viewed":1119,"name":"real eye ball","username":"darkpoulpo","description":"// Created by beautypi - beautypi/2012 and modify by dark poulpo to add a real effect of eye. Adding to the intensity of the light, neurological distress and size of the uv","likes":15,"published":1,"flags":0,"usePreview":0,"tags":["eye"],"hasliked":0,"parentid":"","parentname":""}}