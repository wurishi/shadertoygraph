{"ver":"0.1","info":{"id":"msSfRW","date":"1689471407","viewed":150,"name":"Shadows [295 Chars]","username":"Xor","description":"Experimenting with soft shadows in tiny shaders.","likes":17,"published":1,"flags":0,"usePreview":0,"tags":["3d","shadows","golf"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"/*\n    \"Shadows\" by @XorDev\n\n    Experimenting with soft shadows in tiny shaders.\n    \n    \n    <300 chars playlist: shadertoy.com/playlist/fXlGDN\n*/\n//-2 Thanks to FabriceNeyret2\n//-1 Thanks to coyote\nvoid mainImage(out vec4 O, vec2 I )\n{\n    vec3 d = -iResolution.xyy, p,q;\n    d.xy += I+I;\n    p.z += 2.;\n    \n    for(  float i,e,T,j = exp(mod(ceil(iTime),3.)+2.); \n          i++<2e2 && T<9.;\n          q=p, q.xz *= mat2(cos(iTime*.2 +vec4(0,11,33,0)))\n       )\n        e = min(p.y+2. , length( q += sin(q*j)/j ) -1. ),\n        i > 1e2         \n            ? d/=d, T += e += 1e-3, O *= pow(e/T,.03) // shadow ray\n            : O = vec4(1),                            // direct ray\n        p += d/length(d) *.9*e;\n}\n\n/*/\nvoid mainImage(out vec4 O, vec2 I )\n{\n    vec3 d=vec3(I+I,0)-iResolution.xyy,p,q;p.z+=2.;\n    O=O*0.+1.;\n    for(float i,e,T,j=exp(mod(ceil(iTime),3.)+2.); i++<2e2 && T<9.;\n    q=p,q.xz*=mat2(cos(iTime*.2+vec4(0,11,33,0))))\n        e=min(p.y+2.,length(q+=sin(q*j)/j)-1.),\n        i>1e2?\n        d/=d,T+=e+=1e-3,O*=pow(e/T,.03):\n        O,\n        p+=d/length(d)*.9*e;\n}\n*/","name":"Image","description":"","type":"image"}]}