{"ver":"0.1","info":{"id":"wsKyWR","date":"1602616276","viewed":158,"name":"Pixel-Perfect Zoom","username":"wilsnat","description":"Zoom for renders that are below the render resolution. Pixel perfect so no filtering.","likes":1,"published":1,"flags":32,"usePreview":0,"tags":["zoom","texelfetch","pixelperfect"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define xPixels 100.\n#define yPixels 100.\n\n//scaling only works when xPixels/iResolution.x<=yPixels/iResolution.y\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float scalar = iResolution.y/yPixels;\n    float halfPoint = iResolution.x/2.;\n    float offset = xPixels/2.*scalar;\n    if(fragCoord.x < halfPoint-offset || fragCoord.x >= halfPoint+offset) discard;\n    \n    vec2 fragOffset = vec2(halfPoint-offset,0);\n    ivec2 cCoord = ivec2((fragCoord-fragOffset)/scalar);\n    \n    fragColor = vec4(texelFetch(iChannel0,cCoord,0));\n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[{"id":"4dXGR8","channel":0}],"code":"#define xPixels 100.\n#define yPixels 100.\n\n//tiny render\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    if(fragCoord.x>xPixels ||fragCoord.y>yPixels) discard;\n\t\n    vec2 flooredCoord = floor(fragCoord);\n\n    if(fragCoord.y <= 50. && fragCoord.x <= 50.) fragColor = vec4(mod(flooredCoord.x,2.),0.,0.,1.);\n    else if(fragCoord.y <= 50. && fragCoord.x > 50.) fragColor = vec4(0.,mod(flooredCoord.y,2.),0.,1.);\n    else if(fragCoord.y > 50. && fragCoord.x <= 50.) fragColor = vec4(0.,0.,mod(flooredCoord.y,2.),1.);\n    else if(fragCoord.y > 50. && fragCoord.x > 50.) fragColor = vec4(mod(flooredCoord.x,2.));\n    \n    vec2 circleRot = vec2(cos(iTime),sin(iTime));\n    if(length(fragCoord-50.+25.*circleRot)<10.) fragColor = vec4(0.,0.,0.,1.);\n}","name":"Buffer A","description":"","type":"buffer"}]}