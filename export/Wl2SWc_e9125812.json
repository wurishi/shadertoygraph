{"ver":"0.1","info":{"id":"Wl2SWc","date":"1567340746","viewed":586,"name":"compare mic on music ","username":"FabriceNeyret2","description":"WIP.  How similar is the music signal when re-recorded by the mic ? (filtering, delay, sampling rate, etc).\ngreen: source  red: after mic re-record   blue: diff\ntop: temporal signal bottom: FFT\nMaybe total non-sense since sound buffers maybe not sync.","likes":4,"published":3,"flags":4,"usePreview":0,"tags":["sound","fft","microphone"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4df3Rn","filepath":"/media/a/3c33c415862bb7964d256f4749408247da6596f2167dca2c86cc38f83c244aa6.mp3","previewfilepath":"/media/ap/3c33c415862bb7964d256f4749408247da6596f2167dca2c86cc38f83c244aa6.mp3","type":"music","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XdXGRr","filepath":"/presets/mic.png","previewfilepath":"/presets/mic.png","type":"mic","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 O, vec2 u )\n{\n    if (u.y==5.5) { O.r = step(u.x , float(textureSize(iChannel0,0).x)); return; } \n    if (u.y==9.5) { O.g = step(u.x , float(textureSize(iChannel1,0).x)); return; } \n\n    vec2 R = iResolution.xy,\n         U = u /= R;\n    U.y = floor(2.*U.y)/2.+.25;   // (since nearest is ignored for sound)\n    O.g = texture(iChannel1,U).r; // green: source music \n    O.r = texture(iChannel0,U).r; // red: mic re-records music\n    O.b =  O.r-O.g;               // difference\n    \n    if ( U.y > .5 ) O.b += .5; else O.b = abs(O.b); // top: temporal\n    //if ( U.y > .5 ) O *= smoothstep(10./R.y,0.,abs(O-(2.*u.y-1.)) );\n    O = smoothstep(10./R.y,0.,abs(O-fract(2.*u.y)) );// bottom: FFT\n}","name":"Image","description":"","type":"image"}]}