{"ver":"0.1","info":{"id":"tlyXRG","date":"1708281768","viewed":57,"name":"B-spline","username":"ArmanD","description":"Try to move the white point with your mouse.","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["baba"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec3 point(vec2 uv ,vec2 pos){\nvec3 col = vec3(0.,0.,0.);\n    if(distance(uv,pos)<0.03 ){\n    \n    col = vec3(1.,1.,1);\n    }\n    return col;\n}\n\nvec3 line (vec2 uv,vec2 p1,vec2 p2){\nvec3 col = vec3(0.,0.,0.);\n    vec2 v1 = uv - p1 ;\n    vec2 v2 = uv - p2 ;\n    vec2 v = v1 -v2;\n\t\tfloat a = acos(\t\tdot(v,v1)/dot(length(v),length(v1))\t);    \n    \n    float h = sin(a)*length(v1);\n    if( h<0.005&&dot(normalize(v1),normalize(v2))<0.9){\n        col = vec3(1.,0.,0.);\n    }\n    return col;\n}\nvec3 curve(vec2 uv,vec2 first,vec2 p1,vec2 last){\nvec3 col = vec3(0.);\n vec2 vF = uv - first ;\n  vec2 vL = uv - last ;\n  vec2 vFtoL = first -last;\n\t\tfloat a = acos(\t\tdot(vFtoL,vF)/dot(length(vFtoL),length(vF))\t);    \n    \n    float h = sin(a)*length(vF);\n    if( h<0.005&& dot(normalize(vF),normalize(vL))<0.9){\n        col = vec3(0.,1.,0.);\n    }\n    \n    return col;\n}\nvec3 f(vec2 uv,vec2 first,vec2 p1,vec2 p2,vec2 last){\nvec3 col = vec3(0.);\n    float t = 0.;\n    for(int i=0;i<1000;i++){ t+=0.001;\n    \tvec2 eq = pow((1.-t),3.) * first   +   3.*pow((1.-t),2.)*t*p1 + 3.*(1.-t)*t*t*p2 +   t*t*t*last ;\n   if(distance(uv,eq)<0.01){\n    col = vec3(0.,0.,1.);\n    }\n    }\n    return col;\n}\n///////////////////////////////////////////////////////////////////////\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float mi = min(iResolution.x,iResolution.y);\n    float r = iResolution.y/iResolution.x;\n    vec2 uv = (fragCoord/mi);//-vec2(0.0*r,0.0);\n    float t = iTime*5.;\n\n    \n    vec2 p1 = vec2(0.10,0.5);\n    vec2 p2 = iMouse.xy/iResolution.xy;//vec2(0.9,0.9);\n    vec2 p3 = vec2(1.6,0.3);\n    vec2 p4 = vec2(0.5,0.13);\n\t\n   /* vec2 d1 = vec2(1.,0.);\n    vec2 d2 = vec2(-4.,-0.2);\n    vec2 d3 = vec2(6.,-0.72);\n p1 += vec2(sin(t),-cos(t))/10.;    \n p2 += vec2(-sin(t),cos(2.*t))/2.;\n p3 += vec2(cos(t),sin(t))/2.;\n*/\n    vec3 col = \n        point(uv,p1)\n        +point(uv,p2)\n        +point(uv,p3)\n        +point(uv,p4)\n        +line(uv,p1,p2)\n    \t+line(uv,p2,p3)\n        +line(uv,p3,p4)\n       // +line(uv,p1,p3)\n        //+curve(uv,p1,p2,p3)\n        +f(uv,p1,p2,p3,p4)\n        ;\n    \n    \n    \n\t\n    fragColor = vec4(col,1.0);\n}\n\n\n","name":"Image","description":"","type":"image"}]}