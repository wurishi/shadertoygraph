{"ver":"0.1","info":{"id":"4ttyz4","date":"1531804289","viewed":370,"name":"Fractal Reflections","username":"stb","description":"It moves slowly... enjoy :)","likes":13,"published":1,"flags":32,"usePreview":0,"tags":["fractal","video","psychedelic","chaos","feedback","trip"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 FO, in vec2 FC )\n{\n    vec2 res = iResolution.xy;\n    vec2 uv = FC / res;\n    \n    FO = vec4(texture(iChannel0, uv).rgb, 1.);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"float s, c;\n#define rotate(p, a) mat2(c=cos(a), s=-sin(a), -s, c) * p\n\nvoid mainImage( out vec4 FO, in vec2 FC )\n{\n    vec2 res = iResolution.xy;\n    vec2 p = (FC-res/2.) / res.y;\n    vec2 uv = FC / res;\n    \n    float f = .5;\n    \n    vec3 col = vec3(0.);\n    \n    // yea the code is pretty messy...\n    \n    float T = .7 * iTime;\n    \n    p += 3.*vec2(sin(.003*T), cos(.003*T));\n    p /= dot(p, p)/8.;\n    \n    \n    // various coord ops\n    p *= .85 + .333 * cos(.021*T);\n        \n    p = rotate(p, -.006912*T);\n    p += .02 * T;\n    p = abs(fract(p)-.5) * 1.6;\n    \n    p.x += .2 * cos(3.*p.y*sin(.1*T));\n    p.y += .2 * sin(4.*p.x*cos(.13*T));\n    \n    // building the color\n    col += texture(iChannel0, p).rgb-.5;\n    \n    col.r += min(abs(p.x)+.1, abs(p.x+p.y)/2.+.1);\n    col.g += min(abs(p.x-.25)+.2, abs(p.x-p.y)/1.+.1);\n    col.b += 1.2 * length(p-.5);\n    \n    col = clamp(col, vec3(0.), vec3(1.));\n    \n    col = mix(col, texture(iChannel0, uv).rgb, .7);\n    \n    FO = vec4(col, 1.);\n}","name":"Buf A","description":"","type":"buffer"}]}