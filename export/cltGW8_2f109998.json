{"ver":"0.1","info":{"id":"cltGW8","date":"1682346196","viewed":377,"name":"Flamboyant smash wobble inducer","username":"evvvvil","description":"Winning shader made at Revision 2023 Shader Showdown qualifiers. Live coded on stage in 22 minutes, 3 minutes spare lol.\nDesigned & coded using POSH BROLLY, the flamboyant shader editor:\nhttps://www.poshbrolly.net/shader/wdh0cfgKU4rLwP9mlqCI\n","likes":37,"published":1,"flags":0,"usePreview":0,"tags":["explosion","demoscene","particles","glow","robot","particle","bang","rigged","industrial","smash","arm"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Winning shader made at Revision 2023 Shader Showdown qualifiers, coded live on stage in 22 minutes, 3 minutes spare lol.\n// Video of the battle: https://youtu.be/55ybKWtfKjQ?t=1801\n\n// This shader was designed & coded using POSH BROLLY, the flamboyant shader editor.\n// See it in its flamboyant habitat: https://www.poshbrolly.net/shader/wdh0cfgKU4rLwP9mlqCI\n\n// Influenced by blackle's amazing rigged shaders.\n// Thankx a lot for the inspiration blackle. We missed you at Revision, see you soon my friend!\n\nvec2 z,e=vec2(.00035,-.00035);float tt,b,r,c,s,ss,di,g,glo;vec3 pp;vec4 np,d;\nfloat smin(float a,float b,float k){float h=max(0.,k-abs(a-b));return min(a,b)-h*h*.25/k;}\nfloat box(vec3 p,vec3 r){p=abs(p)-r;return max(max(p.x,p.y),p.z);}\nfloat cy(vec3 p,vec3 r){return max(abs(length(p.xz-r.z)-r.x)-r.y,abs(p.y)-5.);}\nmat2 r2(float r){return mat2(cos(r),sin(r),-sin(r),cos(r));}\nvec2 fb( vec3 p,int i,float s )\n{\n    p.y-=5.;\n    r=1.;\n    np=vec4(p,1);\n    for(int i=0;i<4;i++){\n    np.xz=abs(np.xz)-20.;\n    np*=1.566;\n    r=min(r,clamp(sin(np.x+np.y),-.2,.2)/np.w*s);\n    }\n    di=cos(p.y*.5)*.5;\n    vec2 h,t=vec2(cy(p,vec3(1.5+di,.3,r)),i);\n    t.x=max(t.x,-.7*box(abs(p+p.y+r)-2.5,vec3(2,5,2)));\n    if(i<3) t.x=min(t.x,cy(p,vec3(.4+di+r,.1,0)));\n    p.xz*=r2(.785);\n    glo=mix(length(abs(p)-vec3(0,5,0))-1.,length(p.xz)-.5+p.y*.03,b);\n    p.xz=abs(p.xz)-1.-di;\n    glo=min(glo,cy(p,vec3(0,.01,0)));\n    if(i<2) glo=min(glo,(length(np.xyz)+.1-b)/np.w);\n    t.x=smin(t.x,glo,.5);\n    g+=0.1/(0.1+glo*glo*40.);\n    d[i]=-r;\n\treturn t;\n}\nvec2 mp( vec3 p )\n{\n    pp=p;\n    pp.yz*=r2(mix(-.6+s*.4,1.4,b));\n    pp.xy*=r2(mix(.9,.3,b));\n    vec2 h,t=fb(pp,0,1.);\n    pp.y-=10.;\n    pp.xy*=r2(mix(-1.6+ss*.4,-.7,b));\n    h=fb(pp,1,1.);\n    t=t.x<h.x?t:h;\n    pp.y-=10.;\n    pp*=2.;\n    pp.xz*=r2(s*6.28);\n    pp.xz=abs(pp.xz)-.5;\n    pp.yz*=r2(.3);\n    pp.xy*=r2(-.3);\n    h=fb(pp,2,1.);\n    h.x/=2.;\n    t=t.x<h.x?t:h;\n    pp=p+vec3(0,52,0);\n    pp.xz*=r2(.785);\n    h=fb(pp*.1,3,.7);\n    h.x/=.1;\n    h.x=smin(h.x,0.7*(p.y+1.+d[3]*15.+max(b-.5,0.)*sin(-c*25.+length(p-vec3(0,0,20.)))),5.);\n    t=t.x<h.x?t:h;\n    t.x*=0.8;\n\treturn t;\n}\nvec2 tr( vec3 ro,vec3 rd )\n{\n  vec2 h,t=vec2(.1);\n  for(int i=0;i<128;i++){\n    h=mp(ro+rd*t.x);\n    if(h.x<.0001||t.x>80.) break;\n    t.x+=h.x;t.y=h.y;\n  }\n  if(t.x>80.) t.y=-1.;\n\treturn t;\n}\nvoid mainImage(out vec4 fragColor,in vec2 fragCoord){\n    vec2 uv=(fragCoord/iResolution.xy-0.5)/vec2(iResolution.y/iResolution.x,1);\n    tt=mod(iTime+17.0,62.82);\n    s=sin(tt),ss=sin(tt-2.);\n    b=smoothstep(0.,1.,(clamp(s,.8,.9)-.8)*10.);\n    c=smoothstep(0.,1.,(clamp(fract((tt-1.1)/6.28),0.0,0.1))*10.);\n    vec3 ro=mix(vec3(cos(tt*.4)*10.,6.-sin(tt*.4)*6.,10.+b*15.),\n    vec3(sin(tt*.4)*10.,8.+cos(tt*.4)*6.,25.+b*5.),\n    ceil(sin(tt*.4+1.)));\n    ro.xy+=sin(c*15.708);\n    vec3 cw=normalize(vec3(0,5,0)-ro),\n    cu=normalize(cross(cw,vec3(0,1,0))),\n    cv=normalize(cross(cu,cw)),\n    rd=mat3(cu,cv,cw)*normalize(vec3(uv,.5)),co,fo,po,no,al,ld,re;\n    co=fo=vec3(.17,.12,.14)-b*.2-length(uv)*.15-rd.y*.2;\n\tz=tr(ro,rd);\n    if(z.y>-1.){\n        po=ro+rd*z.x;\n        no=normalize(e.xyy*mp(po+e.xyy).x+\n        e.yyx*mp(po+e.yyx).x+\n        e.yxy*mp(po+e.yxy).x+\n        e.xxx*mp(po+e.xxx).x);\n        al=clamp(mix(vec3(0),vec3(0.5,-.2,-.5),sin(d[int(z.y)]*90.)*.5+.5),0.,1.);\n        if(z.y==2.) al=vec3(0.);\n        ld=normalize(vec3(-.1,.2,.3));\n        re=reflect(rd,no);\n        float dif=max(0.,dot(no,ld)),\n        sp=length(sin(re*4.)*.5+.5)/sqrt(3.),\n        fr=1.-pow(dot(rd,no),2.),\n        ao=clamp(mp(po+no*.1).x/.1,0.,1.),\n        ss=smoothstep(0.,1.,mp(po+ld*.4).x/.4);\n        co=pow(sp,10.)*fr+al*(ao+.2)*(dif+ss*.5);\n        co=mix(fo,co,exp(-.00001*z.x*z.x*z.x));\n    }\n    co+=g*.3*mix(vec3(0,.1,.7),vec3(0.7,.1,.0),b);\n    fragColor=vec4(pow(co,vec3(.45)),1);\n}","name":"Image","description":"","type":"image"}]}