{"ver":"0.1","info":{"id":"ttcXR7","date":"1580634161","viewed":91,"name":"Conway's Game of Life 123","username":"arifr123","description":"Conway's Game of Life\nhttps://en.wikipedia.org/wiki/Conway%27s_Game_of_Life","likes":1,"published":1,"flags":32,"usePreview":0,"tags":["cellularautomaton"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    fragColor = vec4( texelFetch(iChannel0, ivec2(fragCoord)/13, 0).xxx, 1.0 );\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"ivec2 ires = ivec2(0, 0);\n\nivec2 wrap(ivec2 p)\n{\n    return (p + ires) % ires;\n}\n\nvec4 get(ivec2 p)\n{\n    return texelFetch(iChannel0, wrap(p), 0);\n}\n\nbool cell(ivec2 p)\n{\n    return get(p).x > 0.5;\n}\n\nbool gameOfLife(ivec2 p)\n{\n    int n = 0;\n    for(int x = -1; x <= 1; x++)\n        for(int y = -1; y <= 1; y++)\n            if(x != 0 || y != 0)\n                n += int(cell(p + ivec2(x, y)));\n\t\n    bool t = cell(p);\n    \n    return n == 3 || (t && n == 2);\n}\n\nfloat hash1(float n)\n{\n    return fract(sin(n)*138.5453123);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    if(ires == ivec2(0, 0)) ires = ivec2(iResolution);\n    \n    if(iFrame == 0)\n    {\n        fragColor = vec4(step(0.5, hash1(fragCoord.x*13.0+hash1(fragCoord.y*71.1))) > 0.5, 0, 0, 0);\n    }\n    else\n    {\n        ivec2 p = ivec2(fragCoord);\n\n        fragColor = vec4(gameOfLife(p), 0, 0, 0);\n    }\n}","name":"Buffer A","description":"","type":"buffer"}]}