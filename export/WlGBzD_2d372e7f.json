{"ver":"0.1","info":{"id":"WlGBzD","date":"1613940463","viewed":271,"name":"shadertoy bug in cubMapA","username":"FabriceNeyret2","description":"( bug now fixed ).\nDisplay this at resolution 640x360.\nsee CubeA:\nin cubeMap, all buffers iChannelResolution are wrongly set to 1024.\n( Beside, iMouse range is still windowResolution, which you can access here and thus can't normalize ).","likes":0,"published":3,"flags":32,"usePreview":0,"tags":["shadertoy","bug"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dX3Rr","filepath":"/media/a//media/previz/cubemap00.png","previewfilepath":"/media/ap//media/previz/cubemap00.png","type":"cubemap","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 O, vec2 U ) { \n   O = texture(iChannel0, vec3( 2.*U/iResolution.xy - 1., 1) );\n}\n","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[{"id":"4dXGR8","channel":0}],"code":"void mainImage( out vec4 O, vec2 U ) {\n    O.xy = iResolution.xy;  // store window resolution\n}","name":"Buffer A","description":"","type":"buffer"},{"inputs":[{"id":"4dX3Rr","filepath":"/media/a//media/previz/cubemap00.png","previewfilepath":"/media/ap//media/previz/cubemap00.png","type":"cubemap","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dX3Rr","channel":0}],"code":"void mainCubemap( out vec4 O, vec2 U, vec3 o, vec3 D ) {\n\n    vec2 R = texelFetch(iChannel0,ivec2(0),0).xy;  // read screen resolution\n    \n    if ( U.x < 512. ) \n        O.r = float( iChannelResolution[0].xy ==  vec2(640,360) ), // false !\n        O.g = float( iChannelResolution[0].xy ==  vec2(1024) ),    // true !\n        O.b = float( R == vec2(640,360) ); \n    if (U.x > 512. ) \n        O.r = float( R == iChannelResolution[0].xy ),              // false !\n        O.g = float( R == iChannelResolution[1].xy ), \n        O.b = float( R == iResolution.xy ); \n}\n","name":"Cube A","description":"","type":"cubemap"}]}