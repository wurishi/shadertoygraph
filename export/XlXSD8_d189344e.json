{"ver":"0.1","info":{"id":"XlXSD8","date":"1436116393","viewed":465,"name":"Pendulum Waves","username":"anastadunbar","description":"Pendulum wave. Based on: https://www.youtube.com/watch?v=7_AiV12XBbI","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["procedural","2d","wave","illusion","animation","physics"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float clamps(float val) {\n\treturn clamp(val,0.,1.);\t\n}\n\nfloat distanceToSegment( in vec2 p, in vec2 a, in vec2 b, float size )\n{\n    //iq's function\n\tvec2 pa = p - a;\n\tvec2 ba = b - a;\n\tfloat h = clamp( dot(pa,ba)/dot(ba,ba), 0.0, 1.0 );\n\t\n\treturn 1.-clamp((length( pa - ba*h )-size)*500.,0.,1.);\n}\nfloat rectangle(vec2 uv, vec2 pos, vec2 size) {\n    //Not really mine but edited, you can replace circles with rectangles maybe?\n    return 1.-clamp(length(max(abs(uv-pos)-size,0.))*500.,0.,1.);\n}\nfloat circle(vec2 uv, vec2 pos, float size) {\n    return 1.-clamp((length(uv-pos)-size)*500.,0.,1.);\n}\nvec3 RGB(int r1, int g1, int b1) {\n    return vec3(float(r1)/255.,float(g1)/255.,float(b1)/255.);\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n \tvec2 uv = fragCoord.xy / iResolution.xy;\n    vec2 suv = vec2(((uv.x-0.5)*(iResolution.x / iResolution.y))+0.5,uv.y);\n    float time = iTime*2.;\n    float drawing = 0.;\n    for (float i = 45.; i > 0.; i--) {\n        vec2 position = vec2((sin(time*((i/50.)+1.))/5.)+0.5,(0.2+(i*0.007))+((1.-cos(sin(time*((i/50.)+1.))))*0.08));\n        float drawingthis = (clamp(distanceToSegment(suv,vec2(0.5,1.),position,0.005-((i)/8000.))+circle(suv,position,0.04-(i*0.0004)),0.,1.));\n        drawing = mix(drawing,0.,drawingthis);\n        drawing += drawingthis/((i*0.02)+1.);\n    \n    }\n    \n    //CHANGE COLORS HERE! (0-255)\n    /*Pendulum: */   vec3 color1 = RGB(255,190,50); \n    /*Background: */ vec3 color2 = RGB(70,90,100);\n    //-------------------------\n    \n\tfragColor = vec4(mix(color2,color1,drawing),1.0);\n}","name":"Image","description":"","type":"image"}]}