{"ver":"0.1","info":{"id":"7dXGW2","date":"1617240549","viewed":80,"name":"bouncy dots","username":"Rloret","description":"Just some random weird repeat pattern ","likes":6,"published":1,"flags":0,"usePreview":0,"tags":["color","bouncy","dot","phase"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define CELLS 25.\n#define pi acos(-1.)\nmat2 rot2D(float a) {return mat2(cos(a),sin(a),-sin(a),cos(a));}\nfloat rand(float co) { return fract(sin(co*(91.3458)) * 47453.5453); }\nfloat s(float x){\n    return round(sin(x* pi/2.)*0.5 +0.5);\n}\nfloat stairCase(float t){\n   return s(t)*(t-floor(t/2.))+ (1.-s(t))*ceil(t/2.);\n}\n\nfloat paramStairCase(float t, float w, float h){\n    return stairCase(2.*t/w) *h/2.;\n}\nfloat smoothStairCase(float t){\n    return t-sin(t);\n}\n//https://iquilezles.org/articles/distfunctions\nfloat opSmoothUnion( float d1, float d2, float k ) {\n    float h = clamp( 0.5 + 0.5*(d2-d1)/k, 0.0, 1.0 );\n    return mix( d2, d1, h ) - k*h*(1.0-h); }\nfloat CircleSDF(vec2 p,vec2 c,float r){\n\n    return length(p-c) -r;\n}\n\nvec2 Reflect(vec2 val, vec2 min, vec2 max)\n{\n    vec2 R = (min + mod((val - min), max - min));\n    vec2 t = mod(ceil((val - min) / (max - min)), 2.0);\n    return R * (2.0 * t - 1.0) + (max + min) * (1. - t);\n}\nfloat Reflect(float val){\n    return mod(val*(round(mod(val/2.,1.))*2.-1.),1.);\n}\nfloat colorDots(float d,float r)\n{\n    float c = float(d);\n    float p = floor(mod(iTime,1.)*2.)*0.2;\n    c = 1.-step(r*(1.+p),c);\n    return c;\n}\nfloat dots(vec2 uv,float delay,inout float r){\n    float ar= iResolution.y/iResolution.x; \n    vec2 st = uv;\n    uv.y *= ar;\n    st.y *= ar;\n\n    vec2 cells = floor(st*CELLS);\n    cells.x/=CELLS;\n    cells.y/=CELLS *ar;\n    cells= cells*2.-1.;\n    float screenCells = CELLS *cells.x+cells.y;\n    float t = (-iTime - delay)*.3;\n  \n    float d = length(cells)*.6;\n    float delayedTime = paramStairCase(t + d,0.2,2.);\n     //delayedTime +=rand(delayedTime)/4.5;\n\tuv = mod( uv,1./CELLS )*vec2(CELLS);\n    r = 0.06 ;\n    vec2 D= normalize(vec2(1,0)*rot2D(ceil(t + d)));\n    vec2 ce = Reflect(D*delayedTime,vec2(r*1.8),vec2(1.-r*1.8));\n    \n    return CircleSDF(uv,ce,r);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord.xy/iResolution.xy;\n    \n    float ar= iResolution.y/iResolution.x; \n    float r =1.;\n    float d=1.;\n    float dt=0.09;\n   \n   vec4 c =\n        vec4(colorDots(dots(uv,d, r),r))*  vec4(242.,206.,223.,0)/255.;\n    c =mix(c,vec4(colorDots(dots(uv,d+=dt, r),r))*  vec4(242.,223.,230.,0)/255.,d-0.2);\n    c =mix(c,vec4(colorDots(dots(uv,d+=dt, r),r))*  vec4(242.,207.,194.,0)/255.,d-.4);\n    c =mix(c,vec4(colorDots(dots(uv,d+=dt, r),r))*  vec4(242.,230.,194.,0)/255.,d-.6);\n    c =mix(c,vec4(colorDots(dots(uv,d+=dt, r),r))*  vec4(190.,215.,209.,0)/255.,d-.8) ;\n\n   uv= uv*2.-1.;\n   uv*=ar*2.;\n   uv = 1.-abs(uv);\n   uv = min(vec2(1),uv+0.99);\n   uv = floor(uv);\n   \n   \n   fragColor = c *uv.x*uv.y;\n\n}","name":"Image","description":"","type":"image"}]}