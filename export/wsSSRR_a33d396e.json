{"ver":"0.1","info":{"id":"wsSSRR","date":"1552647527","viewed":103,"name":" Spiral of Lines","username":"themasmo","description":"A simple spiral of lines","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["lines","ipnoticeffect"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec2 rot(vec2 p, float a)\n{\n    float c = cos(a);\n    float s = sin(a);\n    return vec2(p.x*c + p.y*s,\n                -p.x*s + p.y*c);\n}\n\nfloat EvilLine(vec2 pos, vec2 start, vec2 finish)\n{\n    vec2 delta = finish - start;\n    vec2 n = normalize(delta);\n    float l = length(delta);\n    float d = sign(n.x);\n    \n    float angle = atan(n.y / n.x);\n    vec2 t = rot(-pos - start, angle);\n    \n    float s = d < 0.0 ? 0.0: d*l;\n    float f = d < 0.0 ? d*l : 0.0;\n    if(t.x > s || t.x < f)return 0.0;\n\n    return clamp(((1.0 - abs(t.y))-0.995)*100.0, 0.0, 1.0);\n}\n\nfloat line( in vec2 p, in vec2 a, in vec2 b )\n{\n    vec2 pa = -p - a;\n    vec2 ba = b - a;\n    float h = clamp( dot(pa,ba)/dot(ba,ba), 0.0, 1.0 );\n    float d = length( pa - ba*h );\n    \n    return clamp(((1.0 - d)-0.994)*100.0, 0.0, 1.0);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n//    vec2 uv = fragCoord/iResolution.xy;\n\n    // Time varying pixel color\n  //  vec3 col = 0.5 + 0.5*cos(iTime+uv.xyx+vec3(0,2,4));\n\n    // Output to screen\n    //fragColor = vec4(col,1.0);\n\n    \tfloat ox=0.0;\n\tfloat oy=0.0;\n\n\tvec2 uv = fragCoord/iResolution.xy;\n    vec2 p = -1.0 + 2.0 * uv;\n    p.x *= iResolution.x / iResolution.y;\n \n\tfloat color = 0.0;\n\t//float k=iMouse.x/10.0; \n\tfloat k=iTime/10.0;\n\t\n\tfor(float i=0.0;i<200.0;i++)\n\t{\n\t\tfloat an=k*i*0.1256636;\n\t\tfloat rg=i/200.0;\n\t\tfloat x=0.0+rg*cos(an);\n\t\tfloat y=0.0+rg*sin(an);\n\t\t\n\t\tcolor+=EvilLine(p,vec2(ox,oy),vec2(x,y));\n\t\t\n\t\tox=x;\n\t\toy=y;\n\t}\n\n\t\n\tfragColor = vec4( color,color,color, 1.0 );\n    \n}","name":"Image","description":"","type":"image"}]}