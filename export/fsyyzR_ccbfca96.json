{"ver":"0.1","info":{"id":"fsyyzR","date":"1654282471","viewed":290,"name":"video motion blur","username":"Jaan","description":"This shader does the motion blur to a video/texture in a set direction.\nYou can also change the blur strength(samples).\n\nMy first shader =)","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["postprocessing","postprocessing","video","blur","newbie","motionblur","motion"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sX3Rn","filepath":"/media/a/c3a071ecf273428bc72fc72b2dd972671de8da420a2d4f917b75d20e1c24b34c.ogv","previewfilepath":"/media/ap/c3a071ecf273428bc72fc72b2dd972671de8da420a2d4f917b75d20e1c24b34c.ogv","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// thanks a lot to:\n// https://triplepointfive.github.io/ogltutor/tutorials/tutorial41.html\n\n// this is my first useful shader =)\n\nvec2 MotionVector = vec2(0.0015,.001); // if you set it too high the blur might break\nint samples = 30; // idk, its more like strength\n// to have more quality but same strength you can lower MotionVector\n// but increase samples\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n     \n    // x+(x-y)+(x-2y)+(x-3y)+...=1\n    // i know x(starting weight)\n    // upd: i apparently dont and i need to find it\n    // finding y(and x) so that it will be = 1\n    \n    // so this code calculates weights for the blur\n    // so the original texture has the highest weight\n    // and others gradually decrease\n    \n    // also an important notice is that sum of all the weights\n    // should equal to 1 so the color is not changed\n    \n    int y_count = 0;\n    \n    for (int i = 0; i < samples; i++) {\n        y_count += i;\n    }\n    \n    float x = float(samples) / float(y_count);\n     \n    float y = x*x - 1./float(y_count);\n     \n    // blur part\n     \n    vec4 Color = vec4(0.0);\n     \n    for (int i = 0; i < (samples-1); i++) {\n        Color += texture(iChannel0, uv) * (x-y*float(i));\n        uv += MotionVector;\n    }\n     \n    fragColor = Color;\n}","name":"Image","description":"","type":"image"}]}