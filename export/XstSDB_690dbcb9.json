{"ver":"0.1","info":{"id":"XstSDB","date":"1461271300","viewed":204,"name":"Texture blend #1","username":"gigatron","description":"Tex Blend demo ...","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["grid","texture","light","square","blend"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"Xsf3Rn","filepath":"/media/a/cbcbb5a6cfb55c36f8f021fbb0e3f69ac96339a39fa85cd96f2017a2192821b5.png","previewfilepath":"/media/ap/cbcbb5a6cfb55c36f8f021fbb0e3f69ac96339a39fa85cd96f2017a2192821b5.png","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// stolen from somewhere in Arizona :)\n#define PI 3.14159265359\n#define SCALE 8.\n#define CORNER 4.\n\nvec3 hsv2rgb(vec3 c) {\n    vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n    vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n    return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    vec3 tc=texture(iChannel0,uv).xyz;\n    vec2 position = uv * SCALE;\n    float t=iTime*3.0;\n\tposition.x += position.x+0.5 ;\n    position.y += position.y+0.5 ;\n    \n  \n\tvec3 light = vec3(sin(t/8.) ,cos(t/4.), .005);\n\n\tvec3 normal = normalize(vec3(tan(position.x * PI), tan(position.y * PI), CORNER));\n\t\n\tfloat bright = dot(normal, normalize(light));\n\tbright = pow(bright, 0.5);\n\t//bright *= step(length(position), 0.5);\n\t\n\tvec3 color = hsv2rgb(vec3((floor(position.x + 0.5) )/SCALE, 1., 1.)) * bright;\n\t\n\t\t\n\tvec3 heif = normalize(light + vec3(0., 0., 2.));\n\tvec3 spec = vec3(pow(dot(heif, normal), 64.));\n\t\n\tcolor += spec;\n    color *=tc;\n\t// my tx ;\n    \n    \t \n\tfragColor = vec4(color, 1.);\n    \n    \n    \n}","name":"Image","description":"","type":"image"}]}