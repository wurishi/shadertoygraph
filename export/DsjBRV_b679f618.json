{"ver":"0.1","info":{"id":"DsjBRV","date":"1689893198","viewed":53,"name":"buffer-stack","username":"khlorghaal","description":"precursor to a frequency transform","likes":1,"published":1,"flags":32,"usePreview":0,"tags":["temporal","structure"],"hasliked":0,"parentid":"DsjfzD","parentname":"temporal bandpass"},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float sum(vec2 v){ return v.x+v.y; }\n\nvoid mainImage( out vec4 fragColor, in vec2 fc ){\n\tvec2 uv = fc/iResolution.xy;\n    \n\tvec4 tx= texture(iChannel0, uv);\n    fragColor= tx;\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"//MIT License\n//author @khlorghaal\n//attribution appreciated\n\nvoid mainImage( out vec4 color, in vec2 fcf ){\n    ivec2 fc= ivec2(fcf);\n    \n    vec4  T0= texelFetch(iChannel1,fc,0);\n            \n    color= T0;\n}","name":"Buffer A","description":"","type":"buffer"},{"inputs":[],"outputs":[],"code":"#define count(N) for(int i=0;i!=N;i++)\nfloat lum(vec3 c){ return dot(c,vec3(.3,.45,.25)); }\n\n\n\n//hacky, replace when not shadertoy\n#define SWAPCHAIN\\\n    void mainImage( out vec4 o, in vec2 f ){\\\n    vec3 c = texelFetch(iChannel0,ivec2(f),0).rgb;\\\n    vec4 t = texelFetch(iChannel1,ivec2(f),0);\\\n    o= vec4(lum(c),t.xyz);}\n//push scalar onto vector left/x, discarding right/w\n//should use a scalar-texture array instead\n\n//swapchain limited to length 4 because\n//i dont want to fuck with invocation ordering under this hack","name":"Common","description":"","type":"common"},{"inputs":[{"id":"4sX3Rn","filepath":"/media/a/c3a071ecf273428bc72fc72b2dd972671de8da420a2d4f917b75d20e1c24b34c.ogv","previewfilepath":"/media/ap/c3a071ecf273428bc72fc72b2dd972671de8da420a2d4f917b75d20e1c24b34c.ogv","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"XsXGR8","channel":0}],"code":"SWAPCHAIN","name":"Buffer B","description":"","type":"buffer"}]}