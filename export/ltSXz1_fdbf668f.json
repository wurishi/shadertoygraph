{"ver":"0.1","info":{"id":"ltSXz1","date":"1441503045","viewed":370,"name":"Color Correcter","username":"vincentpoc","description":"Advanced Color correct function","likes":8,"published":1,"flags":0,"usePreview":0,"tags":["colorcorrectcolorbalancehistogram"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"},"published":1}],"outputs":[],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\t\n   float SpeedA = (1.0+sin(iTime*0.25))*0.5; // 0.0 >> 1.0\n   float SpeedB = sin(iTime); // -1.0 >> 1.0\n   \n   //INPUT\n   vec2 uv = fragCoord.xy / iResolution.xy;\n   vec4 diff = texture(iChannel0, vec2(1.0)-uv);\n   float Lum = diff.r*0.299 + diff.g*0.587 +diff.b*0.114;\n    \n   // PARAMETERS //\n   vec4 GrayAmount = vec4((1.0+sin(iTime*0.13))*0.5);\n   vec4 VShadows = vec4(0.0,cos(iTime*0.12)*0.25,sin(iTime*0.3),SpeedA*0.25);\n   vec4 Vmid = vec4(sin(iTime*0.05),sin(iTime*0.6),0.0,0.0);\n   vec4 Vhigh = vec4(sin(iTime*0.9)*0.5,0.0,0.0,-0.25+cos(iTime*0.25)*0.25);\n   vec4 Gain = vec4(1.0,1.0+cos(iTime*0.12)*0.12,1.0+cos(iTime*0.1)*0.25,0.0);\n    \n    //Histogram split\n    vec4 FShadows = (0.5 + (cos(3.14159 * min(Lum,0.5) * 2.0)) * 0.5) * VShadows;\n\tvec4 FMid = (0.5 - (cos(3.14159 * Lum * 2.0)) * 0.5) * Vmid;\n\tvec4 FHigh = (0.5 + (cos(3.14159 * max(Lum,0.5) * 2.0)) * 0.5) * Vhigh; \n    \n    //Color Correct\n    diff = mix(diff, vec4(Lum), (GrayAmount)); //Desaturation\n    diff = diff + (FShadows * FShadows.a) + (FMid * FMid.a) + (FHigh * FHigh.a); //Color Balance\n    diff = diff * ( vec4(1.0)+FShadows ) * ( vec4(1.0)+FMid ) * ( vec4(1.0)+FHigh ); //Color lift\n    fragColor = diff * Gain; //ColorGain\n}","name":"","description":"","type":"image"}]}