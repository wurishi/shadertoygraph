{"ver":"0.1","info":{"id":"M3V3zW","date":"1718195382","viewed":27,"name":"Watercolour animation","username":"Chriscamplin","description":"Click anywhere along the x-axis to change the effect or palette.\n\nOriginally based on a shader by https://www.shadertoy.com/user/kishimisu","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["loop"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XsBSR3","filepath":"/media/a/cb49c003b454385aa9975733aff4571c62182ccdda480aaba9a8d250014f00ec.png","previewfilepath":"/media/ap/cb49c003b454385aa9975733aff4571c62182ccdda480aaba9a8d250014f00ec.png","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\n\nvec3 hsv(float h, float s, float v){\n    vec4 t = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n    vec3 p = abs(fract(vec3(h) + t.xyz) * 6.0 - vec3(t.w));\n    return v * mix(vec3(t.x), clamp(p - vec3(t.x), 0.0, 1.0), s);\n}\n\nmat2 rotate2D(float r){\n    return mat2(cos(r), sin(r), -sin(r), cos(r));\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 r  = iResolution.xy;\n    vec2 uv = fragCoord/iResolution.xy;\n    vec2 UV = (fragCoord.xy-.5*r)/r.y;\n    vec4 tex = texture(iChannel0,uv); \n\n    float m = (iMouse.x*.001+1.);\n    float t = iTime * .5;\n    float g,e,s;\n    for(float i; ++i<150.; fragColor.rgb+=hsv(m,e*m,s/2e3/m)) {\n        vec3 p=vec3(UV*1.5*(cos(t*.5*m)*.5+1.5*m),g-.6*m);\n        //p*=tex.rgb;\n        p.zy*=rotate2D(t*.5);\n        p.yz*=rotate2D(t*-.5);\n        //p.xy = abs(p.xy)/abs(dot(p,p))-vec2(.5);\n        s=20.5/m;\n        for(int i;i++<15;p=vec3(8,5,1)-abs(abs(p)*e-vec3(-4,2,2)))\n            e=max(1.0125,8.*m/dot(p,p));\n            s*=e;\n            fragColor=sin(s/.1+g/3.+vec4(-2.+m,2.-m,8,0))*.3+.7;\n            g+=mod(length(p.zx+m),p.y)/s;\n            //g+=floor(length(p.xy+m)*p.z)/s;\n            s/=log(s/m)/g;\n    }\n}","name":"Image","description":"","type":"image"}]}