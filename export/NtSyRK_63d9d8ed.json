{"ver":"0.1","info":{"id":"NtSyRK","date":"1649898538","viewed":64,"name":"Maryland Flag","username":"Kneebiter","description":"Originally for a 1k prod. Code might not be the most efficient and it was never designed to be readable. Edited for some clarity.\n\nThe 1k ran time from 110s down to 0s starting with plain gold screen and ending with the Maryland flag, at twice the speed.","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["flag","maryland"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// constructs the cross\nbool c(vec2 v) {\n    return v.y<.05&&(v.x<.4||length(vec2(.4,0)-v)<.05);\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n    float r = 19.2/10.8;\n    float t = iTime / 10.;\n    int p = -1;\n    float s = 1./6.;\n\n    vec2 v = -1. + fragCoord.xy/(iResolution.xy * 0.5);\n    vec2 v2 = vec2(v.x+sin(t*1.5), v.y-sin(t*1.5));\n\n    v2/=(sin(t)+1.03)/(1.03);\n    v2=vec2(v2.x*cos(t)-v2.y*sin(t),v2.y*cos(t)+v2.x*sin(t));\n    \n    // red/white flag portien\n    if(mod(floor(v2.x/3.)+floor(-v2.y/3.),2.)!=0. && t<9.42477){\n      v+=vec2(v.x*cos(t)-sin(t)*v.y,v.y*cos(t)+sin(t)*v.x);\n      v*=.5;\n      float b=floor(v2.x*2.)+floor((v2.y+sin(2.*t))*2.);\n      v2=abs(fract(v)-.5)*vec2(r,1);\n      if(c(vec2(v2.x-.4,v2.y))\n       ||c(vec2(v2.y,v2.x))\n       ||c(vec2(v2.x+.3,abs(v2.y-.3)))\n       ||c(vec2(v2.y+.3,abs(v2.x-.7)))) {\n            b+=1.;\n      }\n      fragColor=mod(b,2.) == 1. ? vec4(1):vec4(.8,.05,.25,1);\n    }\n    // gold/black flag portion\n    else {\n      t=iTime / 10.;\n      vec2 a;\n      for(float i=1.;i<=6.;i+=1.){\n        a=vec2(cos(t*(i*2.+1.)),sin(t*(i*2.+1.)));\n        if(abs(a.x*(v.x+(i-3.5)/3.+s/2.)+a.y*v.y)*2.<s) {\n          p *= -1;\n        }\n      }\n      \n      // diagonal gold bar\n      a=vec2(pow((225./4096.-(iTime/5719.))*4096./225.,20.));\n      if(abs(a.x*v.x+a.y*v.y)<s) {\n        p*=-1;\n      }\n      fragColor=(p==1)?vec4(.98,.72,.15,1):vec4(0);\n    }\n}","name":"Image","description":"","type":"image"}]}