{"ver":"0.1","info":{"id":"tlsSRl","date":"1563964386","viewed":81,"name":"Metaballs - dots","username":"nawafuji","description":"metaballs","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["metaball"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n\tvec2 mouse = iMouse.xy/iResolution.xy;\n    \n    float val = 0.0;\n    vec3 col = vec3(0);\n    for(int i=0; i<500; i++)\n    {\n        int j=i%10;\n        int k=int((i-j)/10);\n        vec3 c = vec3(abs(sin(float(i))),abs(sin(float(i+j))), abs(sin(float(i*j))));\n        vec2 pos = vec2(10*i, 100*j);\n        float rad = 20.0;\n        if(i==0)\n        {\n            pos = iMouse.xy;\n            rad = 100.0;\n            c = vec3(0.0,1.0,0.0);\n        }\n        float dist = length(fragCoord.xy-pos);\n        float v = clamp(pow(rad/dist/2.0,2.0),0.0,1.0);\n        val+=v;\n        col+=c*v;\n    }\n    \n    val = step(0.5, val);\n    fragColor = vec4(mix(vec3(0), col, val), 0);\n    \n    vec2 pos1 = iResolution.xy/2.0;\n    vec2 pos2 = iMouse.xy;\n    \n    float dist1 = length(fragCoord.xy-pos1);\n    float dist2 = length(fragCoord-pos2);\n    \n    float rad1 = 200.0f;\n    float rad2 = 80.0f;\n\n    vec3 color1 = vec3(1.0,0,0.5);\n    vec3 color2 = vec3(0.5,1.0,0);\n       \n    float val1 = clamp(pow(rad1 / dist1 / 2.0, 2.0),0.0, 1.0);\n    float val2 = clamp(pow(rad2 / dist2 / 2.0, 2.0),0.0, 1.0);\n    \n    float alpha = val1+val2; \n    alpha = step(0.5, alpha);\n    \n    //vec3 color = mix(color1, color2, clamp(val1/val2,0.0,1.0));\n    //vec3 color = mix(color1, color2, dist1/(dist1+dist2));\n    vec3 color = mix(color1, color2, clamp(smoothstep(0.0,1.0,dist1/(dist1+dist2)),0.2,0.8));\n    \n    //fragColor = vec4(mix(vec3(0), color, alpha), 0);\n    \n    // Time varying pixel color\n    //vec3 col = 0.5 + 0.5*cos(iTime+uv.xyx+vec3(0,2,4));\n\n    // Output to screen\n    //fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}