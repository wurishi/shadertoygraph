{"ver":"0.1","info":{"id":"tdd3Ds","date":"1569525549","viewed":136,"name":"Buffer & particle test","username":"darkeclipz","description":"Testing some stuff with buffers, and summing the neighbors of the pixels.","likes":7,"published":1,"flags":32,"usePreview":0,"tags":["lissajous","buffer","particle"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define R iResolution.xy\nvoid mainImage( out vec4 O, in vec2 U )\n{\n    O = vec4(texture(iChannel0, U/R));\n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[{"id":"4dXGR8","channel":0}],"code":"bool point(vec2 uv, vec2 M) {\n\treturn length(uv-M) < 0.0035;\n}\n\n#define R iResolution.xy\n#define PI 3.1415\nvoid mainImage( out vec4 O, in vec2 U )\n{\n    vec2 uv = 1.2*(2.*U-R) / R;\n    vec3 col = vec3(0);\n    float t = iTime / 24.;\n    float numberOfParticles = 600.;\n    for(float i=0.; i < numberOfParticles; i++) {\n        if(point(uv, sin(vec2((3.*sin(iTime/8.)  + 4.0 )*cos(t), \n                              (5.*sin(iTime/16.) + 5.)  *sin(t)  )))) \n        {\n    \t\tcol = 0.5 + 0.5*cos(i/numberOfParticles*uv.xyx+vec3(0,2,4));    \n    \t}\n        t += PI / (numberOfParticles / 2.);\n    }\n    \n    O = vec4(col, 0);\n}","name":"Buffer A","description":"","type":"buffer"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"XsXGR8","channel":0}],"code":"#define R iResolution.xy\nvoid mainImage( out vec4 O, in vec2 U )\n{\n    float b = 12.;\n    \n    vec4 sumOfNeighbours = \n        vec4(texture(iChannel0, (U + vec2(1, 0))/R)) +\n        vec4(texture(iChannel0, (U + vec2(0, 1))/R )) + \n        vec4(texture(iChannel0, (U + vec2(-1, 0))/R)) +\n        vec4(texture(iChannel0, (U + vec2(0, -1))/R)) +\n        \n        vec4(texture(iChannel0, (U + vec2(1, -1))/R)) +\n        vec4(texture(iChannel0, (U + vec2(-1, -1))/R)) +\n        vec4(texture(iChannel0, (U + vec2(-1, 1))/R)) +\n        vec4(texture(iChannel0, (U + vec2(1, 1))/R)) +\n    \n        vec4(texture(iChannel1, U/R))*b;\n   \t\n    float decay = 0.085;\n    \n    O = sumOfNeighbours  / (8. + decay);\n}","name":"Buffer B","description":"","type":"buffer"}]}