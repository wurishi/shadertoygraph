{"ver":"0.1","info":{"id":"WdVyWm","date":"1603013603","viewed":158,"name":"Trippy-dizzy-zebrafeet","username":"dyla","description":"The good-old Mandelbrot set again, but I like the mood.","likes":6,"published":1,"flags":96,"usePreview":0,"tags":["fractal","mandelbrot","music","orbit","trippy","white","trap","zebra","black","dizzy"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// https://soundcloud.com/trip-hop-nation/rape-me-nirvana-cover-by-lorelei-carlson\nfloat getDistance(vec2 uv) {\n    float r = 0.5*texelFetch(iChannel0, ivec2(0,100), 0).x+2.5;\n    //return abs(max(abs(uv.x)-r, abs(uv.y)-r*0.7));\n    return abs(length(uv) - r);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord-0.5*iResolution.xy)/iResolution.yy;\n\tfloat time = sin(iTime*0.125)*5.0+5.0;\n    \n    vec2 center = vec2(-0.1038,0.92502)+vec2(cos(-iTime*0.5)*0.01, sin(-iTime*0.5)*0.01);\n    highp float zoom = 0.07*exp(-time*0.5) + 0.02;\n    highp vec2 ii = normalize(vec2(cos(time), sin(time)))*zoom;\n    highp vec2 jj = vec2(-ii.y, ii.x);\n    highp mat2 m = mat2(ii.x,jj.x,ii.y,jj.y);\n    \n    highp vec2 z0 = m*uv + center;\n    highp vec2 z = z0;\n    \n    float maxit=30.0;\n    float i = 0.0;\n    \n    float mindist = 9999.0;\n    \n    for (i=0.0; i<maxit; i=i+1.0) {\n       z = vec2(z.x*z.x-z.y*z.y, 2.0*z.x*z.y) + z0;\n       mindist = min(mindist, getDistance(z));\n    }\n    \n    float c = smoothstep(0.0,0.5,mindist*1.0);\n    \n    vec3 col = vec3(c);\n    \n    \n\n    //fragColor = (texture(iChannel0, vec2(0.1,0.1)));\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"MtSGD3","filepath":"https://soundcloud.com/trip-hop-nation/rape-me-nirvana-cover-by-lorelei-carlson","previewfilepath":"https://soundcloud.com/trip-hop-nation/rape-me-nirvana-cover-by-lorelei-carlson","type":"musicstream","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":0}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float actual = texelFetch(iChannel0, ivec2(100,0), 0).x;\n    float prev = texture(iChannel1, vec2(0.0,0.0)).x;\n    if (fragCoord.y>55.0) {\n        float pp = texelFetch(iChannel1, ivec2(0,100), 0).x;\n    \tfragColor = vec4(abs(actual-prev)>0.032 ? max(pp+0.1,1.0) : pp*0.975);\n    } else {\n        fragColor = vec4(actual);\n    }\n}","name":"Buf A","description":"","type":"buffer"}]}