{"ver":"0.1","info":{"id":"7tcGzn","date":"1635589544","viewed":127,"name":"Old skool drive race","username":"Hatokuro","description":"shader inspiré par mattz www.shadertoy.com/view/XtlGW4#, code version longue, avec utilisation du clic de la souri pour les virages.","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["retrooldskooldriveroad"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\nvoid mainImage( out vec4 f, vec2 p ){\n    \n    vec3 q=iResolution;\n    vec3 d=vec3(p-.5*q.xy,q.y)/q.y;// /q.y = nombre de ligne (q.y représente la valeur de profondeur d.z)\n    \n    vec3 c=vec3(0,0.5,.7);//couleur du ciel\n    \n    \n    \n    q=d/(.1-d.y);//donne à q sa profondeur z\n    float a=iTime;\n    float translation = sin(a);//déplacement horisontal de la camera\n    float k=sin(iMouse.x/50.);\n    float w = q.x *= q.x-=.05*k*k*k*q.z*q.z+translation;\n    \n    float lenght_vehicule = 0.04; //profondeur du véhicule sur notre route\n    float pp = 0.04;\n    float w_vehicule = pp *= pp-=.05*k*k*k*q.z*q.z;\n    \n    float speed = 40.;\n    float depth = 4.;\n    \n    // Affichage \n    f.xyz = (d.y >0.04) ? c+d.y : (sin(depth*q.z+speed*a)>0.) ? (w>2.) ? vec3(0.,.5,0.) : (w>1.3) ? vec3(1.,0.,0.) :\n    (w<0.004) ? vec3(1.) : vec3(.7) : f.xyz= (w>2.) ? vec3(0.,.7,0.) : (w>1.3) ? vec3(1.) : vec3(.5) ;\n    \n    //Affichage version non condencé\n    /*\n    if(d.y >0.04)// affichage de la couleur du ciel si la valeur y est supérieur à 0.04 (valeur normal)\n    {\n    f.xyz=c+d.y;//+d.y pour le dégradée\n    }\n    else{//affichage bas de l'écran(route)\n\n        if(sin(depth*q.z+speed*a)>0.)// affichage line 1\n        {\n        \n            if(w>2.)//herbe clair\n            {\n            f.xyz=vec3(0.,.5,0.);\n            }\n            else if(w>1.3)//rebord route rouge\n            {\n            f.xyz=vec3(1.,0.,0.);\n            }\n            else\n            {            \n                if(w<0.004)//ligne central\n                {\n                f.xyz=vec3(1.,1.,1.);\n                }\n                else//route gris clair\n                {\n                f.xyz=vec3(.7,.7,.7);\n                }\n            }\n        }\n        else// affichage line 2\n        {\n            if(w>2.)//herbe foncé\n            {\n            f.xyz=vec3(0.,.7,0.);\n            }\n            else if(w>1.3)//rebord route blanc\n            {\n            f.xyz=vec3(1.,1.,1.);\n            }\n            else//route gris foncé\n            {\n            f.xyz=vec3(.5,.5,.5);\n            }\n        }\n    }*/\n    /*\n    //véhicule\n    if(q.z<abs(sin(a+.1)*15.) && q.z>abs(sin(a-.1)*15.))\n    { \n        if(w<0.2)\n            {\n            f.xyz=vec3(0.,.0,.5);\n            }\n    }\n    */\n}","name":"Image","description":"","type":"image"}]}