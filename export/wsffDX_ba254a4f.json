{"ver":"0.1","info":{"id":"wsffDX","date":"1590854363","viewed":71,"name":"test asdfvvaa","username":"Daniel_Jw","description":"1123123asdfasdf","likes":2,"published":1,"flags":32,"usePreview":0,"tags":["1123123"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//Created by Ben Skinner - @vochsel\n//Song - Mr Suicide Sheep - Falling\n#define PI 3.141592\n\n#define rgb(r, g, b) vec3(float(r)/255., float(g)/255., float(b)/255.)\n\n#define COL_A rgb(251,184,132)\n#define COL_B rgb(213,50,98) \n#define COL_C rgb(79,202,241)\n\n//HSV convertors http://lolengine.net/blog/2013/07/27/rgb-to-hsv-in-glsl\nvec3 rgb2hsv(vec3 c)\n{\n    vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\n    vec4 p = c.g < c.b ? vec4(c.bg, K.wz) : vec4(c.gb, K.xy);\n    vec4 q = c.r < p.x ? vec4(p.xyw, c.r) : vec4(c.r, p.yzx);\n\n    float d = q.x - min(q.w, q.y);\n    float e = 1.0e-10;\n    return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);\n}\n\nvec3 hsv2rgb(vec3 c)\n{\n    vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n    vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n    return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\nvec2 spec(float q)\n{\n    return texture(iChannel0, vec2(q, 0.0)).xy;\n}\n\nfloat line(vec2 p, vec2 p0, vec2 p1, float width) {\n    vec2 dir0 = p1 - p0; \n    vec2 dir1 = p - p0;\n    float h = clamp(dot(dir1, dir0)/dot(dir0, dir0), 0.0, 2.0);\n    float d = (length(dir1 - dir0 * h) - width * 0.2);\n    return d;\n}\n\nfloat drawline(vec2 p, vec2 p0, vec2 p1, float width) {   \t\t\n    float d = line(p, p0, p1, width);\n    float w = fwidth(d) * 1.0;\n    \n    return 1.-smoothstep(-w, w, d);\n}\n\nvec3 rand(float x)\n{\n    return texture(iChannel1, vec2(x, 0.0)).xyz;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 sc = fragCoord.xy / iResolution.xy;\n    vec2 uv = sc * 2.0 - 1.0;\n    float aspect = iResolution.x/iResolution.y;\n    uv.x *= aspect;\n    \n    float t = iTime;\n    \n    vec3 col = vec3(0.15);\n   \n    float cRad = 0.2;\n    const float res = 60.0;\n    \n    for(float i = PI*1.99; i > 0.0; i-=PI/res*2.0)\n    {\n        float t = float(i)/res * 2.;\n        \n        vec2 s = spec(t);\n        \n        float r = pow(s.x, 5.5)*.15 + 0.01;\n        //r *= (PI*2.75-i)*0.3;\n        \n        float x = sin(i) * cRad;\n        float y = cos(i) * cRad;\n\n        \n        vec2 b = vec2(sin(i) * (cRad  + r), cos(i) * (cRad +r));\n        float c = drawline(uv, vec2(x, y), b, 0.04);\n    \t       \n        vec3 cCol = hsv2rgb(vec3(s.y*0.75, 0.3, 0.85));    \n        \n    \tcol = mix(col, cCol, c);\n    }\n    col += texture(iChannel1, uv*2.).x*.05;\n    \n\tfragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4sXGzn","filepath":"/media/a/a6a1cf7a09adfed8c362492c88c30d74fb3d2f4f7ba180ba34b98556660fada1.mp3","previewfilepath":"/media/ap/a6a1cf7a09adfed8c362492c88c30d74fb3d2f4f7ba180ba34b98556660fada1.mp3","type":"music","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"float spec(float x)\n{\n    return texture(iChannel1, vec2(x, 0.0)).x;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 px = 1.0/iResolution.xy;\n   \tvec2 sc = fragCoord.xy / iResolution.xy; \n    \n    vec2 storage = vec2(0.0); \n    \n    if(sc.x < px.x) {\n        float m = spec(0.0);\n        for (float i = 0.0; i < 10.0; i++)\n            m = max(m, spec((i+1.0)*0.1));\n        //storage.x = (spec(0.7) + spec(0.52));\n        //float m = spec(5.0/34.0);\n        storage.x = m*1.2;\n        storage.y = iTime;\n    }\n    else {\n\t   storage = texture(iChannel0, sc - vec2(px.x, 0.0)).xy;\n       storage.x *= 0.995;\n    }\n  \n    fragColor = vec4(storage, 0.0, 0.0);\n}\n\n","name":"Buffer A","description":"","type":"buffer"}]}