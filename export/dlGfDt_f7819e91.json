{"ver":"0.1","info":{"id":"dlGfDt","date":"1702626925","viewed":80,"name":"circle_pattern_valueNoise","username":"yufengjie","description":"good afternoon","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["circle","valuenoise","pattern"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"precision mediump float;\n\nfloat size = 16.;\n\nfloat random(vec2 uv) {\n  // return fract(sin(dot(uv.xy, vec2(12.9898, 78.233))) * 43758.5453123);\n  return fract((sin(dot(uv, vec2(12.9898, 78.233))) + 1.) * 43758.5453123 + (iTime));\n}\n\nfloat noise(vec2 uv) {\n  vec2 i = floor(uv);\n  vec2 f = fract(uv);\n\n  float a = random(i);\n  float b = random(i + vec2(size, 0));\n  float c = random(i + vec2(0., size));\n  float d = random(i + vec2(size));\n\n  vec2 u = f * f * (3. - 2. * f);\n  // vec2 u = smoothstep(0., 1., f);\n\n  float v1 = mix(a, b, u.x);\n  float v2 = mix(c, d, u.x);\n  return mix(v1, v2, u.y);\n}\n\nvec3 palette(float t) {\n  vec3 a = vec3(0.000, 0.500, 0.500);\n  vec3 b = vec3(0.000, 0.500, 0.500);\n  vec3 c = vec3(0.000, 0.500, 0.333);\n  vec3 d = vec3(0.000, 0.500, 0.667);\n  return a + b * cos(6.28318 * (c * t + d));\n}\n\nfloat circle(vec2 uv, vec2 center, float r) {\n  float d = distance(uv, center);\n  return smoothstep(r * 0.4, 0., d - r);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 uv ){\n  vec3 color_fin = vec3(0.);\n\n  //float iy = floor(uv.y / size);\n  //float ix = floor(uv.x / size);\n  //float y = iy * size + size / 2.;\n  //float x = ix * size + size / 2.;\n  //vec2 center = vec2(x, y);\n\n  vec2 I = floor(uv / size),\n       center = I * size + size / 2.;\n\n  float n = noise(center);\n  float rn = (size / 2.) * n * 0.8;\n  vec3 color = palette(n);\n  float c = circle(uv, center, rn);\n  color_fin += color * c;\n\n  fragColor = vec4(color_fin, 1.);\n}","name":"Image","description":"","type":"image"}]}