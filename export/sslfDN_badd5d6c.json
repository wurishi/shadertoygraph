{"ver":"0.1","info":{"id":"sslfDN","date":"1644911334","viewed":54,"name":"oklab asdfasdfasdf","username":"sqwishy","description":"idk what im doing lol","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["oklab"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec3 oklch_to_oklab(in vec3 LCh)\n{\n    float L = LCh.x;\n    float C = LCh.y;\n    float h = LCh.z;\n\n    float a = C * cos(h);\n    float b = C * sin(h);\n\n    return vec3(L, a, b);\n}\n\nvec3 oklab_to_lsrgb(in vec3 lab)\n{\n    mat3 m1 = mat3( 1.0,           1.0,          1.0,\n                    0.3963377774, -0.1055613458, -0.0894841775,\n                    0.2158037573, -0.0638541728, -1.2914855480);\n    mat3 m2 = mat3( 4.0767416621, -1.2684380046, -0.0041960863,\n                   -3.3077115913,  2.6097574011, -0.7034186147,\n                    0.2309699292, -0.3413193965,  1.7076147010);\n    return m2 * pow(m1 * lab, vec3(3.0));\n\n\n}\n\nfloat rgb1_from_linear(in float x)\n{\n    if (x >= 0.0031308) {\n        return pow(1.055 * x,  1.0 / 2.4) - 0.055;\n    } else {\n        return 12.92 * x;\n    }\n}\n\nvec3 rgb1_from_linear(in vec3 rgb) {\n    return vec3(rgb1_from_linear(rgb.x),\n                rgb1_from_linear(rgb.y),\n                rgb1_from_linear(rgb.z));\n}\n\nvec3 clip_srgb(in vec3 rgb)\n{\n   return any(lessThan(rgb, vec3(0.0)))\n       || any(greaterThan(rgb, vec3(1.0)))\n           ? vec3(0.15)\n           : rgb;\n\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n\n    vec3 lch = vec3(uv.y+.05, uv.x / 3.0, iTime);\n    vec3 lab = oklch_to_oklab(lch);\n    vec3 col = oklab_to_lsrgb(lab);\n    col = rgb1_from_linear(col);\n    col = clip_srgb(col);\n\n    // Output to screen\n    fragColor = vec4(col, 1.0);\n}\n","name":"Image","description":"","type":"image"}]}