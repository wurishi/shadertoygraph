{"ver":"0.1","info":{"id":"tdfSzN","date":"1550754906","viewed":143,"name":"Sampled Plot","username":"valler","description":"Plotting experiment","likes":1,"published":1,"flags":32,"usePreview":0,"tags":["graph","sampling","function","plot","sample"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage (out vec4 c, vec2 p)\n{\n    c = t(iR.xy);\n    c = sqrt(1.-abs(2.*(c.zzzz/c.w)-1.));\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"#define rs iChannelResolution[0]\n#define s 500U\n#define st vec4(10,1.6,8,0)\n\n// https://www.shadertoy.com/view/4tXyWN\nfloat hash( uvec2 x )\n{\n  uvec2 q = 1103515245U * ( (x>>1U) ^ (x.yx   ) );\n  uint  n = 1103515245U * ( (q.x  ) ^ (q.y>>3U) );\n  return float(n)/float(0xffffffffU);\n}\n\n// https://www.shadertoy.com/view/4lVcRm\nvec2 aa(vec2 n)\n{\n  return fract(n * vec2(.7548777, .5698403));\n}\n\nfloat g (vec2 p)\n{\n  return sin(p.x)*sin(exp(p.x));\n}\n\nfloat f (vec2 x, vec2 dx, vec2 uv)\n{\n  float y = 0.;\n  for (uint i = 0U; i < s; ++i)\n  {\n    uvec2 h = uvec2(uv)+1000U*uint(iFrame)+i;\n    vec2 p = x+dx*(.5-hash(h));\n    y += step(p.y,g(p));\n  }\n  return y/float(s);\n}\n\nvoid mainImage (out vec4 c, vec2 p)\n{\n  vec4 a = t(rs.xy);\n  c = (a.x != iR.x || a.y != iR.y)\n    ? c = a = vec4(iR.xy,0,0)\n    : c = vec4(iR.xy,a.zw);\n  if (c.w <= lastFrame)\n  {\n    vec2 dx = vec2(st.xy/rs.xy);\n\tc.z += f((2.*(p-1.+2.*aa(vec2(c.w)))-rs.xy)*dx+st.zw,dx,p);\n    ++c.w;\n  }\n}","name":"Buffer A","description":"","type":"buffer"},{"inputs":[],"outputs":[],"code":"#define lastFrame 200.\n#define iR iResolution\n#define t(x) texture(iChannel0,p/x.xy)","name":"Common","description":"","type":"common"}]}