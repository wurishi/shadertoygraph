{"ver":"0.1","info":{"id":"4cBSDR","date":"1706682185","viewed":78,"name":"Flash of lightning","username":"SinGer","description":"First experiment with random function.","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["random","lightning"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float random (float x, float it) {\n    return fract(sin(x) * 1e4 * (it + 1.0));\n}\n\nmat2 rotate(float angle){\n    return mat2(cos(angle), -sin(angle),\n                sin(angle), cos(angle));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 st = (fragCoord.xy * 2. - iResolution.xy) / iResolution.y; \n    \n    vec3 col = vec3(0.);   \n    for (float it = 0.; it < 15.; it++){   \n        vec2 st0 = st;        \n        st0 *= rotate(it * 0.1 + ceil(sin(iTime)));        \n        float coef = 10.;\n        float i = floor(st0.x * coef) + (it + 1.);\n        float f = fract(st0.x * coef);            \n        st0.y += mix(random(i, it), random(i + 1.0, it), smoothstep(0.,1.0,f)) * 0.2;\n        st0.y += it / 10.;\n        st0.x += it / 10.;\n        float d = st0.y;       \n        d = 0.01 / d;\n        d = abs(d);\n        col += d; \n    }        \n    col *= vec3(0.5, 0.4, 2.0);\n    col *= -tan(iTime);\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}