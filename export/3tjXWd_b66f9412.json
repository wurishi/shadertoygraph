{"ver":"0.1","info":{"id":"3tjXWd","date":"1567519454","viewed":600,"name":"Megapolis - video transition","username":"FabriceNeyret2","description":"Video transition based on the 2D pattern extracted from skaplun \"Megapolis\" [url]https://shadertoy.com/view/MlKBWD[/url] (3D animated building growth).","likes":10,"published":3,"flags":0,"usePreview":0,"tags":["animation","pattern","videotransition"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"Xdf3Rn","filepath":"/media/a/e81e818ac76a8983d746784b423178ee9f6cdcdf7f8e8d719341a6fe2d2ab303.webm","previewfilepath":"/media/ap/e81e818ac76a8983d746784b423178ee9f6cdcdf7f8e8d719341a6fe2d2ab303.webm","type":"video","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4df3zn","filepath":"/media/a/3405e48f74815c7baa49133bdc835142948381fbe003ad2f12f5087715731153.ogv","previewfilepath":"/media/ap/3405e48f74815c7baa49133bdc835142948381fbe003ad2f12f5087715731153.ogv","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Fork of \"Megapolis - 2D pattern\" https://shadertoy.com/view/3t2SWd\n// extracted and refactored from skaplun 3D \"Megapolis\" https://shadertoy.com/view/MlKBWD\n\n#define TIME_MULT   .25\n#define IDLE_TIME   .05\n\n#define rnd(p) fract(sin(dot(p, vec2(12.9898,78.233))) * 43758.5453123)\n\nvoid mainImage( out vec4 O, vec2 u ){\n    vec2 R  = iResolution.xy, U=u, B;\n    float p = 6./R.y;\n    U *= p; u /= R;\n\tO-=O; \n    \n    float t = fract(iTime * TIME_MULT),\n         mt = ceil(iTime * TIME_MULT),\n        cellStartTime = rnd(ceil(U) * mt) * .5 + IDLE_TIME,\n          w = .25 + .75* smoothstep(0., .175, t-cellStartTime-.225);\n\n    B =  t < cellStartTime \n             ? vec2(0) \n             : smoothstep(p,0.,abs(fract(U)-.5) - w/2. );\n    O = mix(texture(iChannel0,u),texture(iChannel1,u), B.x*B.y);\n }","name":"Image","description":"","type":"image"}]}