{"ver":"0.1","info":{"id":"wdyXR1","date":"1573407282","viewed":179,"name":"Night Sky s","username":"icaroleles1","description":"A simple Night Sky","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["sky"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\nfloat N21(vec2 uv){\n\treturn fract(sin(uv.x*32342. + uv.y*4899999.)*11456.);    \n}\n\nfloat perlinNoise(vec2 uv){\n    \n\tvec2 gv = fract(uv);\t\n\tvec2 id = floor(uv);\n\t\n    \n    gv = gv*gv*gv*(3.-2.*gv);\n    \n    float bl = N21(id);\n    float br = N21(id+vec2(1,0));\n    float b = mix(bl,br,gv.x);\n    \n    float tl = N21(id+vec2(0,1));\n    float tr = N21(id+vec2(1,1));\n    float t = mix(tl,tr,gv.x);\n    \n    float c = mix(b,t,gv.y);\n     \n    \n    return c;\n}\n\n\n#define OCTAVES 3\nfloat fbm(vec2 gv,float frequency,float amplitude){\n\tfloat c=0.;\n\tfloat n=0.;\n\tfor(int i=0;i<OCTAVES;i++){\n\t\tc+=perlinNoise(gv*frequency*1.)*amplitude;\n\t\tfrequency*=2.14325434;\n\t\tamplitude*=.18124;\n\t\tn+=amplitude;\n\t}\n\tc/=n;\n\treturn c;\n\t\n}\nvec2 N22(vec2 p){\n    \n \tvec2 c = fract(p*vec2(84337.834,12.5465));\n    c+= (dot(p.y*12.3,p.x*7656756.4343));\n                   \n    return c;\n   \n}\n\n\nfloat star(vec2 gv,vec2 pos){\n    \n return smoothstep(.1,.06,distance(gv,pos));\n   \n    \n}\n\nvec2 getStarPos(vec2 id,vec2 offset){\n    vec2 starPos = N22(id+offset) ;\n\n    return  sin(starPos)*1.4;\n    \n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    \n    vec3 col = vec3(0);\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n    uv-=.5;\n    uv*=.47;\n    uv.x*=iResolution.x/iResolution.y;\n    vec2 iv = 5.*uv;\n    \n    uv.x += iTime*0.025;\n\tuv.y += (iTime*0.7)*0.1;\n    vec2 gv = fract(iv)-.5;\n    vec2 id = floor(iv);\n    \n    \n    \n    \n    vec2 starPos = getStarPos(id,vec2(0,1.));\n    \n  \n    \n    \n    float starPoint = star(gv,starPos);\n    vec4 outPut;\n    \n    if(true){\n    col =vec3(fbm(uv,5.,1.));\n\toutPut = vec4(col*.5*vec3(.4,.4,2.1),1.);\n    }\n    \n    \n               \n        \n      vec2 points[9];\n      int i=0;\n  \t  for(int y=-1;y<=1;y++){\n        \n        for(int x=-1;x<=1;x++){\n\t\t\tpoints[i++] = getStarPos(id,vec2(x,y));    \n\t\t\n        }\n        \n    }\n     for(int c=0;c<3;c++){\n            vec2 j = points[c] - gv;\n            j*=20.;\n            col+=1./length(9.*dot(j,j)) * vec3(1.3,.9,.3);\n            \n        }\n        \n        \n     outPut += vec4(col,1.);\n\n    fragColor = outPut*.165;\n    \n}","name":"Image","description":"","type":"image"}]}