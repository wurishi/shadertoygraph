{"ver":"0.1","info":{"id":"tlBfDV","date":"1599861557","viewed":64,"name":"JuliaSetCycling","username":"bignobody","description":"Playing with a Julia Set fractal and colour offsets.","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["juliaset"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Animating Julia Set shader. Based on a Mandlebrot shader I did a while ago: https://www.shadertoy.com/view/wlcXWH\n// Update 1: tweaked a few animation parameters and improved colour cycling\n\nmat2 rot(float a)\n{\n\treturn mat2(cos(a),-sin(a),sin(a),cos(a));    \n}\n\n//Credit where due! Got this technique from davethomas426 here: https://www.shadertoy.com/view/4slcz8\nvec2 complexmulti(vec2 x, vec2 y)\n{\n\treturn vec2(x.x * y.x - x.y * y.y, x.x * y.y + x.y * y.x);   \n}\n\nvec2 mandle(vec2 z, vec2 c)\n{\n\treturn complexmulti(z,z)+c;\n}\n\nfloat iterate(vec2 uv, float toff, float thresh)\n{\n\tint maxI = 256;\n    int i = 0;\n    float le = 0.0;\n    float t = iTime * 0.3;\n    vec2 c = vec2(-0.720 + sin(t+toff)* 0.28, 0.18 + cos(t+toff)*0.28);\n    vec2 z = uv;\n    while (i < maxI)\n    {\n\t\tz = mandle(z,c);\n        le = length(z);\n        if (le > thresh)\n        {\n            return (float (i)*((thresh * 0.038)+toff));\n        }\n        i ++;\n    }\n    return 0.1+toff;\n}\n\nvec3 mandlayer(vec2 uv, float t)\n{\n\tuv *= sin(t*0.1)*3.0;\n    uv.x += sin(t*1.5) * 0.5;\n    uv.y += cos(t*1.5 + 10.0) * 0.10;\n    uv *= rot(t * 0.3);\n    float off = (sin(t))*0.16;\n\tfloat off2 = (cos(t))*0.21;\n    float thresh = 2.0;\n   \n\treturn vec3(iterate(uv,off,thresh),iterate(uv,0.0,thresh),iterate(uv,off2,thresh));\n    \n     \n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = (fragCoord.xy - 0.5 * iResolution.xy)/iResolution.y;\n    vec2 mv = (iMouse.xy - 0.5 * iResolution.xy)/iResolution.y;\n    if (iMouse.z > 0.0)\n    {\n    \tuv += mv*-1.0;\n    }\n    fragColor = vec4(mandlayer(uv,iTime*0.5),1.0);\n}","name":"Image","description":"","type":"image"}]}