{"ver":"0.1","info":{"id":"mdfSWn","date":"1691485961","viewed":57,"name":"tiny planet from natron plugins","username":"axiomgraph","description":"tiny planet from natron plugins","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["360","tinyplanet","natron"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//\n//\n//                          MMMMMMMMMMMMMMMMMMMMMMMMMMMM\n//                        MM.                          .MM\n//                       MM.  .MMMMMMMMMMMMMMMMMMMMMM.  .MM\n//                      MM.  .MMMMMMMMMMMMMMMMMMMMMMMM.  .MM\n//                     MM.  .MMMM        MMMMMMM    MMM.  .MM\n//                    MM.  .MMM           MMMMMM     MMM.  .MM\n//                   MM.  .MmM              MMMM      MMM.  .MM\n//                  MM.  .MMM                 MM       MMM.  .MM\n//                 MM.  .MMM                   M        MMM.  .MM\n//                MM.  .MMM                              MMM.  .MM\n//                 MM.  .MMM                            MMM.  .MM\n//                  MM.  .MMM       M                  MMM.  .MM\n//                   MM.  .MMM      MM                MMM.  .MM\n//                    MM.  .MMM     MMM              MMM.  .MM\n//                     MM.  .MMM    MMMM            MMM.  .MM\n//                      MM.  .MMMMMMMMMMMMMMMMMMMMMMMM.  .MM\n//                       MM.  .MMMMMMMMMMMMMMMMMMMMMM.  .MM\n//                        MM.                          .MM\n//                          MMMMMMMMMMMMMMMMMMMMMMMMMMMM\n//\n//\n//\n//\n// Adaptation pour Natron par F. Fernandez\n// Code original : Ls_Tinyplanet Matchbox pour Autodesk Flame\n\n// Adapted to Natron by F.Fernandez\n// Original code : Ls_Tinyplanet Matchbox for Autodesk Flame\n\n\n// iChannel0: Source,filter=linear,wrap=repeat\n// BBox: iChannel0\n\n// Stereographic projection of a 360x180 latlong panorama, tiny planets style\n// lewis@lewissaunders.com\n\n\n\n\n float long0 = 0.25333333333; // Rotate X : , min=-10000.0, max=10000\n float lat1 = -0.70666666666; // Rotate Y : , min=-10000.0, max=10000\n float r = 0.17; // Zoom : , min=0.0001, max=2.0\n\n float latm = 0.31830988618379069; // Lal Mult : ,min=-30.0, max=30.0\n float longm = 0.15915494309189535; // Long Mult : ,min=-30.0, max=30.0\nfloat lato = -1.5707963267948966; // Lat Offset : ,min=-30.0, max=30.0\n float longo = -3.1415926535897932; // Long Offset : ,min=-30.0, max=30.0\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\nvec2 center = iMouse.xy /iResolution.xy;\n\tvec2 res = vec2(iResolution.x, iResolution.y);\n\tvec2 coords = fragCoord.xy / res;\n\tcoords.x -= 0.5;\n\tcoords.x *= (res.x / res.y);\n\tcoords.x += 0.5;\n\n\tfloat p = sqrt((coords.x-center.x)*(coords.x-center.x)+(coords.y-center.y)*(coords.y-center.y));\n\tfloat c = 2.0 * atan(p, 2.0 * r);\n\tfloat longg = (long0 + atan((coords.x-center.x)*sin(c), p*cos(lat1)*cos(c) - (coords.y-center.y)*sin(lat1)*sin(c)));\n\tfloat lat = asin(cos(c)*sin(lat1) + (((coords.y-center.y)*sin(c)*cos(lat1)) / p));\n\tvec2 uv;\n\tuv.x = (longg - longo) * longm;\n\tuv.y = (lat - lato) * latm;\n\n\tvec4 o = texture(iChannel0, uv);\n\n\tfragColor = o;\n}\n","name":"Image","description":"","type":"image"}]}