{"ver":"0.1","info":{"id":"ltSfRh","date":"1514510826","viewed":197,"name":"Interactive Julia Set Explorer","username":"2TallTim","description":"Click and drag to explore the Julia set. Reduced iterations while dragging.","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["fractal"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\nvec2 julia(vec2 z, vec2 c){\n    return vec2(z.x*z.x - z.y*z.y, 2.0*z.x*z.y)+c;\n}\n\n\nvec4 samplePixel(vec2 uv){\n    \n    uv *= (1.0)/iResolution.xy;\n    uv += vec2(-0.5,-0.5);\n    uv *= vec2(3.0,2.0);\n    \n    vec2 mouseuv = iMouse.xy / iResolution.xy;\n    mouseuv += vec2(-0.5,-0.5);\n    mouseuv *= vec2(2.5*(iResolution.x/iResolution.y),2.5);\n    \n    vec2 z = uv;\n    if(iMouse.z>0.0){\n        for(int i = 0;i<20; i++){\n            z = julia(z,mouseuv);\n            if(length(z)>100.0)\n                break;\n        }\n    }else{\n        for(int i = 0;i<100; i++){\n            z = julia(z,mouseuv);\n            if(length(z)>105.0)\n                break;\n        }\n    }\n    float lz = length(z);\n    float llz = log(length(z));\n    float i,j,k;\n    if(lz<105.0){\n        k = 0.0;\n        j = k;\n        i = k;\n    }else{\n    \tk = mod(llz,7.0)/7.0;\n        j = mod(llz,3.0)/3.0;\n    \ti = mod(llz,5.0)/5.0;\n    }\n    return vec4(i,j,k,1.0);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy;\n\tvec4 pixelsum;\n    if(iMouse.z>0.0){\n        pixelsum = samplePixel(uv);\n    }else{\n    //dirty anti aliasing\n        for(float i = -1.0;i<2.0;i++){\n            for(float j=-1.0; j<2.0; j++){\n                vec2 offset = vec2(i*0.66,j*0.66);\n                pixelsum += samplePixel(uv+offset);\n            }\n    }\n        pixelsum/=9.0;\n    }\n\n    \n\tfragColor = pixelsum;\n}\n","name":"Image","description":"","type":"image"}]}