{"ver":"0.1","info":{"id":"7dsBRB","date":"1645027793","viewed":709,"name":"Molten Cube [287 chars]","username":"Xor","description":"Inspired by [url=https://www.shadertoy.com/view/NlcSDS]gaz's hypercube[/url]","likes":29,"published":1,"flags":0,"usePreview":0,"tags":["golf"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//<300 chars playlist: https://www.shadertoy.com/playlist/fXlGDN\n\n// Based on gaz's hypercube:\n// https://www.shadertoy.com/view/NlcSDS\n\n// Twigl: https://t.co/MCkEtXRfYM\n// Tweet: https://twitter.com/XorDev/status/1493984559498768384\n\n//FabriceNeyret2 saved 3 chars\n//coyote save 9 chars\n\nvoid mainImage(out vec4 O, vec2 C)\n{\n    O-=O; //Clear color\n    vec3 R = iResolution, //Temporary resolution\n         p = 4./R, //Camera position\n         A = vec3(0,.6,.8), //Rotation axis\n         q = R-R; //Rotated position\n\n    for( float i=0.,s; i++<3e2; ) \n        q = int(i)% 3 > 1 ? //Step forward every 3 iterations\n                s = length(--q.xz)*.5 - .04, //Step distance\n                O += .9/exp(s*vec4(1,2,4,1))/i, //Color based on SDF\n                abs( mix(A*dot(p -= normalize(vec3(C+C,R)-R) * s,A), //Step forward\n                         p, cos(s=iTime))+sin(s)*cross(p,A) ) //Rotate cube\n            :    \n                q.x<q.y ? q.zxy : q.zyx; //gaz's clever axis sorting trick\n        \n    O *= O;\n}\n\n//Original in 299 chars:\n/*\nvoid mainImage(out vec4 O, vec2 C)\n{\n    O-=O; \n    \n    vec3 r = iResolution, \n    d = normalize(vec3(C+C-r.xy,r)),\n    q, p; //Initialize vectors\n    r = vec3(0,.6,.8); //Rotation axis\n    p.z -= 4.; //Move backward\n    \n    for(float i=0.,s,t=iTime; i++<3e2;)\n        \n        int(i)%3>1? //Step forward every 3 iterations\n            s = length(--q.xz)*.5-.04, //Step distance\n            p += d*s, //Step forward in ray direction\n            O += .9/exp(s*vec4(1,2,4,1))/i, //Color based on SDF\n            q = abs(mix(r*dot(p,r),p,cos(t))+sin(t)*cross(p,r)) //Rotate cube\n            :\n            //gaz's clever axis sorting trick\n            q = q.x<q.y?q.zxy:q.zyx;\n        \n    O *= O;\n}*/","name":"Image","description":"","type":"image"}]}