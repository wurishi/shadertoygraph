{"ver":"0.1","info":{"id":"Wd3fzN","date":"1604431405","viewed":76,"name":"Pulsing Heart [cardiolda]","username":"Osakazaur","description":"Heart-shaped line pulsing in hertbeat rythm.\nPulsing function is cardiolda.\n\nYou can also apply pulsing circle by chaging\nfragColor = cardio(center, xy, radius);    \nto\nfragColor = circle(center, xy, radius); \nin mainImage.\n","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["2d","red","pulsing"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec4 basCol = vec4(0.76, 0.07, 0.07, 1.0);\nfloat radius = .25;\nfloat pi = 3.14;\n\nfloat step2(float x){\n\treturn x*x;\n}\n\nfloat pulsing(){\n    float fi = fract(iTime)*2.*pi;\n\treturn (1. - cos(fi));\n}\n\n\nvec2 decToPolar(vec2 xy){\n    float x = xy.x; float y = xy.y;\n    \n    float r = sqrt(step2(x) + step2(y));\n    float fi = 0.;\n\n\tif (x > 0.){\n        if (y > 0.){fi = atan(y/x);}\n        else if (y < 0.){fi = atan(y/x) + 2.*pi;}\n        else if (y == 0.){fi = 0.;};\n    }\n    else if (x < 0.){\n        fi = atan(y/x) + pi;\n    }\n    else if (x == 0.){\n        if (y > 0.){fi = pi/2.;}\n        else if (y < 0.){fi = 3.*pi/2.;}\n        else if (y == 0.){fi = 0.;}\n    }\n    \n    return vec2(r, fi);\n}\n\nvec4 multColor(float m){\n\treturn vec4(basCol.r * m,\n               basCol.g * m,\n               basCol.b * m,\n               1.);\n}\n\nvec4 cardio(vec2 center, vec2 pos, float radius){\n    float dec = 7.5 * pulsing() + 2.5;\n    pos = vec2 ((pos.x - center.x), (pos.y - center.y));\n    vec2 rf = decToPolar(pos);\n   \n    float amp = radius * (1.-cos(rf.y - pi/2.));\n    float mult = 1. - distance(rf.x, amp) / dec;\n    \n   return multColor(mult);\n}\n\n\nvec4 circle(vec2 center, vec2 pos, float radius){\n    float dec = 10. * pulsing() + 5.;\n    pos = vec2 ((pos.x - center.x), (pos.y - center.y));\n    vec2 rf = decToPolar(pos);\n    float mult = 1. - distance(rf.x, radius) / dec;\n    \n   return multColor(mult);\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord)\n{\n    radius = radius * iResolution.y;\n    vec2 xy = fragCoord;\n\tvec2 center = vec2(iResolution.x * 0.5,\n                       iResolution.y * 0.75);\n\n\tfragColor = cardio(center, xy, radius);  \n    fragColor *= fragColor;\n}","name":"Image","description":"","type":"image"}]}