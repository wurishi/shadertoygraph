{"ver":"0.1","info":{"id":"lsjfzh","date":"1499553310","viewed":221,"name":"Atmospheric Shader for gd.se","username":"talyian","description":"https://gamedev.stackexchange.com/questions/143548","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["notmine"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord.xy / iResolution.y;\n\n\n    float sky = uv.y;\n    sky = 1.0 - abs(2.0 * sky - 1.0);\n\n    // animation\n    vec2 sunVec;\n    if (iMouse.x<20.0)\n    {\n        sunVec = vec2((0.8+0.5 * sin(iTime)),( 0.44 + 0.4 * cos( 2.0 * iTime)));\n    }else{\n        sunVec = iMouse.xy/iResolution.y;\n    }\n\n    float sy = sunVec.y;\n    sy = 1.0 - abs(2.0 * sy - 1.0);\n\n\n    //Mie mask\n    float sun = max(1.0 - (1.0 + 10.0 * sy + 1.0 * sky) * length(uv - sunVec),0.0)\n        + 0.3 * pow(1.0-sky,12.0) * (1.6-sy);\n\n    //the sauce\n    fragColor = vec4(mix(vec3(0.3984,0.5117,0.7305), vec3(0.7031,0.4687,0.1055), sun)\n              * ((0.5 + 1.0 * pow(sy,0.4)) * (1.5-sky) + pow(sun, 5.2)\n              * sy * (5.0 + 15.0 * sy)),1.0);\n}\n","name":"Image","description":"","type":"image"}]}