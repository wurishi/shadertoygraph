{"ver":"0.1","info":{"id":"ttyfzK","date":"1614707416","viewed":190,"name":"Simple smooth circle again","username":"Envy24","description":"Circle rendering with anti-aliasing.\n\nI think i did a lot of mistakes)","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["circle","antialiasing","aa","smoothstep"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"/*\n    fragCoord.x = [0.5f; 799.5f].\n    fragCoord.y = [0.5f; 449.5f].\n*/\nvoid mainImage( out vec4 fragColor, in vec2 P )\n{\n    vec2 R = iResolution.xy;\n    float smoothness = 8.0f;                                             \n    float radius = (R.y - smoothness) * 0.24f;             // Circle radius.\n    float modulated =                                      // Sine modulated radius.\n        (radius + 1.0f) + sin(iTime) * radius; \n    \n    \n    float x = P.x - R.x * 0.5;                             // Map x from [0.5f; 799.5f] to [-400.5f; 400.5f].\n    float y = P.y - R.y * 0.5;                             // Map y from [0.5f; 449.5f] to [-225.5f; 225.5f].\n\n    float distance = sqrt(x * x + y * y);                  // Distance from circle center to edge.\n    \n    float ratio =                                          // Inverse linear interpolation.\n        (distance - modulated) / \n        (smoothness);\n\n    float sw = min(1.0f, ratio);                           // Lock parameter in range (-inf, 1.0f].\n    sw = max(0.0f, sw);                                    // Lock parameter in range [0.0f, 1.0f].\n    \n    sw = sw * sw * (3.0f - 2.0f * sw);                     // Add curvature to parameter.\n\n    vec3 background = vec3(1.0f, 1.0f, 1.0f);              // Background rgb-color.\n    vec3 circle = vec3(0.0f, 0.0f, 0.0f);                  // Circle rgb-color.\n    vec3 color = mix(circle, background, sw);              // Pixel rgb-color.\n\n\n    fragColor = vec4(color, 1.0);                          // Pixel rgba-color.\n}","name":"Image","description":"","type":"image"}]}