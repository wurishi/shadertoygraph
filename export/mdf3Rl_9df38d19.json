{"ver":"0.1","info":{"id":"mdf3Rl","date":"1666624756","viewed":101,"name":"Eric's Metaballs","username":"nonrice","description":"My first GLSL program\n\nClick and drag","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["metaball","graphics"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec2 BALLS[3] = vec2[](vec2(0.5,0.25),vec2(-0.5,-0.25),vec2(0.0,-0.5));\n\n/* Thanks \"iq\"! */\nvec3 pal(float t, vec3 a, vec3 b, vec3 c, vec3 d){\n    return a + b*cos( 6.28318*(c*t+d) );\n}\n\nvec3 get_color(float v){\n    return pal(v, vec3(0.5,0.5,0.5), vec3(0.5,0.5,0.5), vec3(1.0,0.7,0.4), vec3(0.0,0.15,0.20));\n}\n/* ------------ */\n\nvec2 scale_coords(vec2 xy){\n    xy -= iResolution.xy/vec2(2,2);\n    float min_side = min(iResolution.x, iResolution.y)/2.0;\n    xy /= vec2(min_side, min_side);\n    return xy;\n}\n\nvoid mainImage(out vec4 colors, in vec2 xy) {\n    xy = scale_coords(xy);\n    \n    BALLS[BALLS.length()-1] = scale_coords(iMouse.xy);\n    \n    float h = 0.0;\n    for (int i=0; i<BALLS.length(); ++i){\n        float dx = (xy.x - BALLS[i].x);\n        float dy = (xy.y - BALLS[i].y);\n        h += 0.05/(dx*dx + dy*dy);\n    }\n\n    colors = vec4(get_color(min(h, 0.5)*2.0), 1.0);\n}","name":"Image","description":"","type":"image"}]}