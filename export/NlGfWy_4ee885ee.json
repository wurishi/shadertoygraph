{"ver":"0.1","info":{"id":"NlGfWy","date":"1665129337","viewed":95,"name":"FitInside or Outside from Center","username":"shiyuugo","description":"simple study to\nadjust texture scale to fit to screen inside / outside from the center keeping aspect ratio.\n\n","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["scale","stretch","fit"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XdX3Rn","filepath":"/media/a/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg","previewfilepath":"/media/ap/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define FIT_INSIDE\n//#define UV_PREVIEW\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 ScreenSize = iResolution.xy;\n    vec2 TextureSize = iChannelResolution[0].xy;\n    \n    float fitInside = min(ScreenSize.x/TextureSize.x, ScreenSize.y/TextureSize.y);\n    float fitOutside = max(ScreenSize.x/TextureSize.x, ScreenSize.y/TextureSize.y);\n    \n    vec2 uv = (2.*fragCoord - ScreenSize);\n    #ifdef FIT_INSIDE\n    uv /= TextureSize * fitInside;\n    #else\n    uv /= TextureSize * fitOutside;\n    #endif\n    uv += 1.0;\n    uv *= 0.5;\n    \n    float mask = 1.;\n    mask *= uv.x<0. ? 0. : uv.x>1.0 ? 0. : 1.;\n    mask *= uv.y<0. ? 0. : uv.y>1.0 ? 0. : 1.;\n    #ifdef UV_PREVIEW\n    uv = fract(uv) * mask;\n    fragColor = vec4(uv.x, uv.y, 0.,1.0);\n    #else\n    vec4 tex = texture(iChannel0, uv)  * mask;\n    fragColor = tex; \n    #endif\n}","name":"Image","description":"","type":"image"}]}