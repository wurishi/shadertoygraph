{"ver":"0.1","info":{"id":"4slcz8","date":"1487022283","viewed":308,"name":"Mandelbrot with zoom","username":"davidthomas426","description":"Simple mandlebrot set visualization","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["fractal","mandelbrot"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define MAX_ITERS 200\n#define THRESHOLD 2.0\n\nvec3 hsv2rgb(vec3 c)\n{\n    vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n    vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n    return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\nvec2 cmpl_mult(vec2 c1, vec2 c2) {\n \treturn vec2(c1.x*c2.x - c1.y*c2.y, c1.x*c2.y + c1.y*c2.x);   \n}\n\n\nfloat mandel(vec2 p) {\n    vec2 z = p;\n    int i = 0;\n    for (int j = 0; j < MAX_ITERS; j++) {\n        if (length(z) > THRESHOLD) {\n            break;\n        }\n\t\tz = cmpl_mult(z, z) + p;\n        i++;\n    }\n    return float(i) / float(MAX_ITERS);\n}\n\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float t = 4.5*sin(0.05 * iTime) + 3.5;\n    float scale = pow(0.25, t);\n    //scale = 0.001;\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    vec2 center = vec2(-0.412, 0.609);\n    uv = uv * vec2(3, 2) - vec2(1.5, 1);\n    uv *= scale;\n    uv += center;\n    float n = mandel(uv);\n    \n    vec3 c = vec3(0.95-0.9*n, n, n);\n\tfragColor = vec4(hsv2rgb(c), 1.0);\n}","name":"Image","description":"","type":"image"}]}