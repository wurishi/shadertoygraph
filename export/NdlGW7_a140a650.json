{"ver":"0.1","info":{"id":"NdlGW7","date":"1616072964","viewed":375,"name":"结合RGB Split的错位图块故障","username":"MarkarovZ","description":"借鉴浅墨大佬的实现，只是简单的将shaderlab转成GLSL\nhttps://qianmo.blog.csdn.net/article/details/106753402","likes":6,"published":1,"flags":0,"usePreview":0,"tags":["2dpostprocessing"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sX3Rn","filepath":"/media/a/c3a071ecf273428bc72fc72b2dd972671de8da420a2d4f917b75d20e1c24b34c.ogv","previewfilepath":"/media/ap/c3a071ecf273428bc72fc72b2dd972671de8da420a2d4f917b75d20e1c24b34c.ogv","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float speed =10.0;\nfloat blockSize=15.0;\nfloat maxRGBSplitX = 10.0;\nfloat maxRGBSplitY = 10.0;\nfloat randomNoise(vec2 seed){\n    return fract(sin(dot(seed*floor(iTime*speed),vec2(17.13,3.71)))*43758.5453);\n}\n\nfloat randomNoise(float seed){\n    return randomNoise(vec2(seed,1.0));\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n\n    float block = randomNoise(floor(uv*blockSize));\n    \n    float displaceNoise = pow(block,8.0)*pow(block,3.0);\n    float splitRGBNoise = pow(randomNoise(7.2341),17.0);\n    float offsetX = displaceNoise - splitRGBNoise * maxRGBSplitX;\n    float offsetY = displaceNoise - splitRGBNoise * maxRGBSplitY;\n    \n    float noiseX = 0.05 * randomNoise(13.0);\n    float noiseY = 0.05 * randomNoise(7.0);\n    vec2 offset = vec2(offsetX*noiseX,offsetY*noiseY);\n    \n    vec4 colorR = texture(iChannel0,uv);\n    vec4 colorG = texture(iChannel0,uv+offset);\n    vec4 colorB = texture(iChannel0,uv-offset);\n\n    vec4 color = vec4(colorR.r,colorG.g,colorB.b,1);\n    // Output to screen\n    fragColor = color;\n}","name":"Image","description":"","type":"image"}]}