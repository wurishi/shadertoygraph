{"ver":"0.1","info":{"id":"XXlfR7","date":"1728188620","viewed":35,"name":"QuÃ©bec flag for no good reason","username":"reddarkwh","description":"The worst way to draw a flag","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["sdf","flag","quebec"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\nfloat sdBox(vec2 p, vec2 b)\n{\n    vec2 d = abs(p) - b;\n    return length(max(d, vec2(0.0))) + min(max(d.x, d.y), 0.0);\n}\n\nfloat sdVesica(vec2 p, float r, float d)\n{\n    p = abs(p);\n    float b = sqrt(r * r - d * d);\n    return (p.y - b) * d > p.x * b\n        ? length(p - vec2(0.0, b))\n        : length(p - vec2(-d, 0.0)) - r;\n}\n\nfloat dot2(vec2 v) { return dot(v, v); }\n\nfloat sdRoundedCross(vec2 p, float h)\n{\n    float k = 0.5 * (h + 1.0 / h);\n    p = abs(p);\n    return p.x < 1.0 && p.y < p.x * (k - h) + h\n        ? k - sqrt(dot2(p - vec2(1.0, k)))\n        : sqrt(min(dot2(p - vec2(0.0, h)),\n                   dot2(p - vec2(1.0, 0.0))));\n}\n\nfloat sdEgg(vec2 p, float he, float ra, float rb)\n{\n    float ce = 0.5 * (he * he - (ra - rb) * (ra - rb)) / (ra - rb);\n    p.x = abs(p.x);\n    if (p.y < 0.0)\n        return length(p) - ra;\n    if (p.y * ce - p.x * he > he * ce)\n        return length(vec2(p.x, p.y - he)) - rb;\n    return length(vec2(p.x + ce, p.y)) - (ce + ra);\n}\n\nvec2 rotateUV(vec2 uv, float rotation)\n{\n    float mid = 0.5;\n    float cosAngle = cos(rotation);\n    float sinAngle = sin(rotation);\n    return vec2(\n        cosAngle * (uv.x - mid) + sinAngle * (uv.y - mid) + mid,\n        cosAngle * (uv.y - mid) - sinAngle * (uv.x - mid) + mid\n    );\n}\n\nfloat sdCircle(vec2 p, float r)\n{\n    return length(p) - r;\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n    vec2 uv = abs((fragCoord / iResolution.xy - 0.5));\n    vec2 uv2 = fract((fragCoord / iResolution.xy - 0.5) * vec2(1.7, 1.6));\n    vec2 uv3 = vec2(1.0 - uv2.x, uv2.y);\n\n    float s = 0.4;\n    float logoOffset = 0.5;\n    float smin = 0.1;\n    float smax = 0.2;\n\n    float sideIn = 1.0 - smoothstep(0.0, 0.005, sdCircle((uv2 - logoOffset + vec2(0.042, 0.094)) * 3.1 * vec2(1.0, 0.7), 0.1));\n    float sideIn2 = 1.0 - smoothstep(0.0, 0.005, sdCircle((uv3 - logoOffset + vec2(0.042, 0.094)) * 3.1 * vec2(1.0, 0.7), 0.1));\n\n    float sideOut = max(0.0, 1.0 - smoothstep(0.0, 0.01, sdCircle((uv2 - logoOffset + vec2(0.01, 0.13)) * 3.6, 0.1)) - (sideIn + sideIn2));\n    float sideOut2 = max(0.0, 1.0 - smoothstep(0.0, 0.01, sdCircle((uv3 - logoOffset + vec2(0.01, 0.13)) * 3.6, 0.1)) - (sideIn + sideIn2));\n\n    float eggIn = 1.0 - smoothstep(0.0, 0.12, sdEgg((rotateUV((uv2 - logoOffset + vec2(0.08, 0.075)) * 60.0 * vec2(0.9, 0.8), -2.43)), 2.0, 0.94, 0.0));\n    float eggOut = max(0.0, 1.0 - smoothstep(0.0, 0.07, sdEgg((rotateUV((uv2 - logoOffset + vec2(0.092, 0.07)) * 25.0 * vec2(1.1, 0.8), -2.43)), 2.0, 0.94, 0.0)) - eggIn);\n\n    float eggIn2 = 1.0 - smoothstep(0.0, 0.12, sdEgg((rotateUV((uv3 - logoOffset + vec2(0.08, 0.075)) * 60.0 * vec2(0.9, 0.8), -2.43)), 2.0, 0.94, 0.0));\n    float eggOut2 = max(0.0, 1.0 - smoothstep(0.0, 0.07, sdEgg((rotateUV((uv3 - logoOffset + vec2(0.092, 0.07)) * 25.0 * vec2(1.1, 0.8), -2.43)), 2.0, 0.94, 0.0)) - eggIn2);\n\n    float centerCross = 1.0 - smoothstep(0.0, 0.02, sdRoundedCross((rotateUV(uv2, 1.5707963267948966) - logoOffset + vec2(-0.04, 0.0)) * 10.0 * vec2(0.7, 1.0), 7.0) - 0.085);\n    float tailTop = 1.0 - smoothstep(0.0, 0.01, sdVesica((uv2 - logoOffset + vec2(0.0, -0.09)) * 5.0, 1.15, 1.0));\n    float tailBottom = 1.0 - smoothstep(0.0, 0.02, sdVesica((uv2 - logoOffset + vec2(0.0, 0.15)) * 12.0, 1.15, 1.0));\n    float bar = 1.0 - smoothstep(0.0, 0.001, sdBox(uv2 - logoOffset + vec2(0.0, 0.09), vec2(0.06, 0.015)));\n    float bg = 1.0 - smoothstep(0.0, 0.001, sdBox(uv - vec2(0.302, 0.314), vec2(0.22, 0.19))) - (tailTop + bar + tailBottom + centerCross + eggOut + eggOut2 + sideOut + sideOut2);\n\n    vec3 c = mix(vec3(1.0, 1.0, 1.0), vec3(0.0, 0.33, 0.64), bg);\n\n    fragColor = vec4(c, 1.0);\n}","name":"Image","description":"","type":"image"}]}