{"ver":"0.1","info":{"id":"XXsfR2","date":"1728636805","viewed":152,"name":"Your mouse is a flamethrower!","username":"barjin","description":"Turns your mouse into a flamethrower. Shader-only interactive simulation.","likes":3,"published":3,"flags":32,"usePreview":1,"tags":["simulation","interactive","fire"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n    \n    // Define (temperature -> color) mapping with gradient \"keypoints\"\n    mat4x4 gradient;\n    \n    gradient[0] = vec4(0.0);\n    gradient[1] = vec4(1.0, 0.0, 0.0, 0.5);\n    gradient[2] = vec4(1.0, 1.0, 0.0, 0.4);\n    gradient[3] = vec4(1.0, 1.0, 1.0, 0.8);\n\n    // Take the pixel temperature\n    fragColor = texture(iChannel0, uv);\n    \n    // Pick the right color based on the pixel temperature\n    if(fragColor.x < 0.25) {\n        fragColor = mix(gradient[0], gradient[1], fragColor.x);\n    } else if (fragColor.x < 0.50) {\n        fragColor = mix(gradient[1], gradient[2], fragColor.x);\n    } else {\n        fragColor = mix(gradient[2], gradient[3], fragColor.x);\n    }\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4sf3Rr","filepath":"/media/a/ad56fba948dfba9ae698198c109e71f118a54d209c0ea50d77ea546abad89c57.png","previewfilepath":"/media/ap/ad56fba948dfba9ae698198c109e71f118a54d209c0ea50d77ea546abad89c57.png","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    \n    // by default, all pixels have 0 temperature\n    fragColor = vec4(0.0);\n    \n    float diff = 0.008;\n    \n    // convection (spreading heat) based on convolution mask \n    // (heat rises, so each pixel's temperature is calculated as average of the pixels below)\n    fragColor = (\n        texture(iChannel0, vec2(uv.x, uv.y-3.0*diff)) + \n        texture(iChannel0, vec2(uv.x, uv.y)) + \n        texture(iChannel0, vec2(uv.x-diff, uv.y-3.0*diff)) + \n        texture(iChannel0, vec2(uv.x+diff, uv.y-3.0*diff))\n    ) / 4.0;\n  \n   // each pixel cools down based on the moving pebble texture, creating uneven pulses of flame\n    fragColor *= 1.0 - (0.1 * texture(iChannel1, vec2(uv.x, uv.y + iTime)).x);\n   \n   // moving source of heat\n        if(distance(iMouse.xy / iResolution.xy, uv) < 0.04 && iMouse.z > 0.0) {\n            fragColor = vec4(1.0);\n        }\n}","name":"Buffer A","description":"","type":"buffer"}]}