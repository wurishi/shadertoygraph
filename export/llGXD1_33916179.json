{"ver":"0.1","info":{"id":"llGXD1","date":"1484158729","viewed":134,"name":"wavewarp","username":"nexor","description":"wave warp","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["wave","warp"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"precision highp float;\n\n#define sin1(x) (.5+sin(x)*.5)\n#define cos1(x) (.5+cos(x)*.5)\n#define ss smoothstep\n\nconst float pi = 3.1415;\n#define resolution iResolution.xy\n#define time iTime\n\nvec2 mm(vec2 p)\n{\n\treturn vec2(min(p.x,p.y),max(p.x,p.y));\n}\nvec2 rc(vec2 p)\n{\n\tvec2 m=mm(p);\n\tfloat r=m.y/m.x;\n\tfloat s=step(p.y,p.x);\n\treturn vec2(mix(1.,r,s),mix(r,1.,s));\n}\n\nvec2 tr(vec2 p, vec2 res)\n{\n  p/=res;\n  p=-1.+2.*p;\n  return p*rc(res);\n}\n\nfloat gr(float t)\n{\n\treturn smoothstep(.0,1.,fract(time))*t+floor(time);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec3 col=vec3(.0);\n\tvec2 p=tr(fragCoord,resolution);\n    vec2 q=p;\n\tfloat a=atan(p.y,p.x);\n    p.x+=sin(q.y*50.+time)*.1;\n    p.y+=cos(q.x*50.+time)*.1;\n    p+=sin(a+1.2/length(q)-time)*.5;\n    p/=atan(1.,length(q));\n\tfloat d=1.2*length(p);\n\tfloat t=10.*sin(2.*pi*fract(time*.1));\n    col+= mix(\n        mix(vec3(1.,.5,.0),vec3(.0,1.,0),sin1(t+a*8.-d*20.)),\n        mix(vec3(1.,.0,.0),vec3(.0,.0,1.),sin1(t+a*8.-d*20.)),\n        1.-ss(1.,.99,d));\n    col *= ss(.1,.2,length(q));\n\tfragColor = vec4( col, 1.0 );\n}","name":"Image","description":"","type":"image"}]}