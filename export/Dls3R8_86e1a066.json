{"ver":"0.1","info":{"id":"Dls3R8","date":"1671291836","viewed":218,"name":"Emboss with Color Key","username":"MysteryPancake","description":"Made for a quick Discord demo","likes":6,"published":3,"flags":0,"usePreview":0,"tags":["color","greenscreen","emboss","key","claude","colorkey"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XdfGRr","filepath":"/media/a/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm","previewfilepath":"/media/ap/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage(out vec4 fragColor, in vec2 fragCoord) {\n\n    vec2 uv = fragCoord / iResolution.xy;\n    \n    // Sample foreground and background textures\n    vec4 fg = texture(iChannel0, uv);\n    vec4 bg = texture(iChannel1, uv);\n    \n    // Convert foreground color to greyscale\n\tfloat gray = length(fg.rgb);\n    // Emboss based on change in greyscale color\n    gray += 0.5 - (dFdy(gray) + dFdx(gray)) * 4.0 - gray;\n    \n    // Measure distance to green\n    float dist = distance(fg.rgb, vec3(0.0, 1.0, 0.0));\n    // Increase contrast, change 0.4 and 0.5 depending how close the green is\n    float factor = smoothstep(0.4, 0.5, dist);\n    \n    // Final composite, mix foreground and background\n    fragColor.rgb = mix(bg.rgb, vec3(gray), factor);\n}","name":"Image","description":"","type":"image"}]}