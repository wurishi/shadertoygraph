{"ver":"0.1","info":{"id":"wdVfWD","date":"1607198161","viewed":109,"name":"hoeled_bouncing_balls","username":"hoeled","description":"Some bouncing people.","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["balls"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define S smoothstep\n#define sat(x) clamp(x, 0., 1.)\n\nfloat remap(float a, float b, float c, float d, float t) {\n\treturn sat(((t-a)/(b-a)) * (d-c) + c);\n}\n\nvec4 Sphere(vec2 uv, float t, vec4 col) {\n    // deformation\n    uv.y += t;\n    uv.x *= S(4., -.1, t*4.5);\n    uv.y /= S(1., -1., t)+.3;\n    uv.y *= 1.-S(1., -1., t)*.05;\n    uv.x *= 1.-S(1., -.1, t)*-.6;\n\n    // ball\n    vec2 size = vec2(.2, .199);\n    float d = length(uv);\n    col.a = S(size.x, size.y, d);\n  \t\n    // gradient\n    d = length(uv-.05);\n    col += S(size.x, .0, d)*.2;\n    \n    // eye\n    uv.y += .045;\n    uv.x = abs(uv.x);\n    float eye = S(.06, .059, length(uv-.07));\n    col.rgb += mix(col.rgb, vec3(1), eye*1.5);\n    \n    // pupil\n    uv.y += t*.05;\n    eye = 1.-S(.035, .034, length(uv-.07));\n    eye *= remap(.04, -.39, .5, .0, uv.y);\n    col.rgb *= eye;\n   \n    // mouth\n    uv.y += .055;\n    uv.x *= .3;\n    eye = 1.-S(.015, .014, length(uv));\n    col.rgb *= eye;\n\n    return col;\n}\n\nvec4 Spheres(vec2 uv) {\n\tvec4 col = vec4(0.);\n    \n    float t = sin(iTime*4.4)*.25;\n    vec4 sphere = Sphere(uv, t*t*8.-.2, vec4(.3, .2, .9, 1.));\n    col = mix(col, sphere, sphere.a);\n    \n    uv.x += .5;\n    t = sin(iTime*4.7)*.25;\n    sphere = Sphere(uv, t*t*8.-.2, vec4(.9, .2, .3, 1.));\n    col = mix(col, sphere, sphere.a);\n    \n    uv.x -= 1.;\n    t = sin(iTime*5.1)*.25;\n    sphere = Sphere(uv, t*t*8.-.2, vec4(.7, .7, .2, 1.));\n    col = mix(col, sphere, sphere.a);\n    \n    return col;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord-.5*iResolution.xy)/iResolution.y;\n    vec4 col = Spheres(uv);\n    fragColor = col;\n}","name":"Image","description":"","type":"image"}]}