{"ver":"0.1","info":{"id":"4XySDw","date":"1721542649","viewed":28,"name":"barycentric","username":"arena","description":"Implement the barycentric coord <i,j,k> calculation and effect.","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["2d"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec3 GetAnotherTriangle(vec2 uv){\n    vec2 a = vec2(1.0,1.0);\n    vec2 b = vec2(-1.0,1.0);\n    vec2 c = vec2(1.0,-1.0);\n    \n    //p = i*a + j*b + k*c;\n    float i,j,k;\n    \n    i = (-(uv.x - b.x)*(c.y - b.y) + (uv.y - b.y)*(c.x - b.x))/\n    (-(a.x - b.x)*(c.y - b.y)+(a.y - b.y)*(c.x - b.x));\n    \n    j = (-(uv.x - c.x)*(a.y - c.y) + (uv.y - c.y)*(a.x - c.x))/\n    (-(b.x - c.x)*(a.y - c.y)+(b.y - c.y)*(a.x - c.x));;\n    \n    k = 1.0 - i - j ;\n    \n    if(i<.0 || j<.0 || k<.0){\n        i=.0;\n        j=.0;\n        k=.0;\n    }\n    return vec3(i,j,k);\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from -1 to 1)\n    vec2 uv = (2.0*fragCoord-iResolution.xy)/iResolution.y;\n    \n    vec2 a = vec2(-1.0,-1.0);\n    vec2 b = vec2(1.0,-1.0);\n    vec2 c = vec2(-1.0,1.0);\n    \n    //p = i*a + j*b + k*c;\n    float i,j,k;\n    \n    i = (-(uv.x - b.x)*(c.y - b.y) + (uv.y - b.y)*(c.x - b.x))/\n    (-(a.x - b.x)*(c.y - b.y)+(a.y - b.y)*(c.x - b.x));\n    \n    j = (-(uv.x - c.x)*(a.y - c.y) + (uv.y - c.y)*(a.x - c.x))/\n    (-(b.x - c.x)*(a.y - c.y)+(b.y - c.y)*(a.x - c.x));;\n    \n    k = 1.0 - i - j ;\n    \n    if(i<.0 || j<.0 || k<.0){\n        i=.0;\n        j=.0;\n        k=.0;\n    }\n    \n    \n    \n    vec3 col = vec3(i,j,k);\n    \n    col += GetAnotherTriangle(uv);\n    \n    // Output to screen\n    fragColor = vec4(col*2.0,1.0);\n}","name":"Image","description":"","type":"image"}]}