{"ver":"0.1","info":{"id":"wdGSzW","date":"1573516113","viewed":132,"name":"Cute MandelBulb","username":"sp4ghet","description":"Simple Mandelbulb","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["mandelbulb"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec3 rotate(vec3 p, float angle, vec3 axis)\n{\n    vec3 a = normalize(axis);\n    float s = sin(angle);\n    float c = cos(angle);\n    float r = 1.0 - c;\n    mat3 m = mat3(\n        a.x * a.x * r + c,\n        a.y * a.x * r + a.z * s,\n        a.z * a.x * r - a.y * s,\n        a.x * a.y * r - a.z * s,\n        a.y * a.y * r + c,\n        a.z * a.y * r + a.x * s,\n        a.x * a.z * r + a.y * s,\n        a.y * a.z * r - a.x * s,\n        a.z * a.z * r + c\n    );\n    return m * p;\n}\n\nfloat map(vec3 p){\n  vec3 w = p;\n  float m = dot(w,w);\n\n  vec4 trap = vec4(abs(w),m);\n\tfloat dz = 1.;\n    \n    \n\tfor( int i=0; i<4; i++ )\n  {\n    float power = 3. + 5. * abs(cos(iTime));\n    dz = power*pow(sqrt(m),power-1.)*dz + 1.0;\n\t\t// dz = 8.0*pow(m,3.5)*dz + 1.0;\n    \n    float r = length(w);\n    float b = power*acos( w.y/r) + iTime * 5.;\n    float a = power*atan( w.x, w.z ) + iTime * 2.;\n    w = p + pow(r,power) * vec3( sin(b)*sin(a), cos(b), sin(b)*cos(a) );\n    trap = min( trap, vec4(abs(w),m) );\n\n    m = dot(w,w);\n\t\tif( m > 256.0 )\n            break;\n  }\n\n  return 0.25*log(m)*sqrt(m)/dz;\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord){\n\n    vec2 uv = (fragCoord / iResolution.xy) * 2.0 - 1.0;\n    uv.x *= iResolution.x / iResolution.y;\n\n    vec4 c = vec4(uv, 0.75, 1.0);\n\n    vec3 ro = vec3(0. , 0., cos(0.)) * 2.;\n    vec3 rd = vec3(uv, (1.-dot(uv,uv)));\n    rd = rotate(rd, 3.14159265, vec3(1., 0., 0.));\n\n    // t is total distance\n    // d is step distance\n    float i = 0., t = 0., d = 0.;\n    vec3 p;\n    // raymarching loop\n    for(i = 0.; i < 100.; i++){\n      p = ro + rd * t;\n      d = map(p);\n      t += d*.75;\n      if(d < 0.001 || d > 100.){break;}\n    }\n\t\n    vec4 blue = vec4(0.5411, 0.90196, 0.8745, 1.);\n    vec4 pink = vec4(1.0, 0.72156, 0.7686, 1.0);\n    \n    c = (1. - vec4(i / 150.)) * blue * 1.2;\n    if(d > 100.) { c =  pink; }\n\n    fragColor = c;\n}","name":"Image","description":"","type":"image"}]}