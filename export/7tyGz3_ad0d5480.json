{"ver":"0.1","info":{"id":"7tyGz3","date":"1638060147","viewed":145,"name":"Fractal 92_gaz","username":"gaz","description":"fractal","likes":6,"published":1,"flags":0,"usePreview":0,"tags":["fractal"],"hasliked":0,"parentid":"Nl3GWf","parentname":"Fractal 91_gaz"},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define H(h)(cos((h)*6.3+vec3(0,23,21))*.5+.5)\n#define R(p,a,t)mix(a*dot(p,a),p,cos(t))+sin(t)*cross(p,a)\n#define Y p=p.x<p.y?p.zxy:p.zyx\n#define N p=p.x>p.y?p.zxy:p.zyx\n\n#define hash(p)fract(sin(p*12345.5))\n\nvec3 randVec(float s)\n{\n    vec2 n=hash(vec2(s,s+23715.3));\n    return vec3(cos(n.y)*cos(n.x),sin(n.y),cos(n.y)*sin(n.x));\n}\n\nvec3 randCurve(float t)\n{\n    t*=.5;\n    float n = 1234.567;\n    vec3 p = vec3(0);\n    for (int i=0; i<3; i++)    {\n        p += randVec(n+=365.)*sin((t*=1.3)+sin(t*0.6)*0.5);\n    }\n    return p*.8;\n}\n\nmat3 lookat(vec3 eye, vec3 ta)\n{\n    vec3 w=normalize(ta-eye), u=normalize(cross(w,vec3(0,1,0)));\n    return mat3(u,cross(u,w),w);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec3 p,ta,eye,\n    r=iResolution,\n    d=normalize(vec3((fragCoord-.5*r.xy)/r.y,1.)),\n    c=vec3(0);\n    float i=0.,g=0.,e,a,s,t=iTime*.5;  \n    for(;i++<120.;){\n        eye= randCurve(t-.3);\n        ta= randCurve(t+.3);\n        p=lookat(eye,ta)*g*d+eye;\n        a=dot(p,p);\n        p=abs(p)-.6;\n        N;\n        Y;\n        s=3.;\n        for(int i=0;i++<8;){\n            p=abs(p);\n            Y;\n            s*=e=1.8/min(dot(p,p),1.3);\n            p=abs(p)*e-vec3(1.5*a,3.,5.*a);\n        }\n        a=.3;\n        p-=clamp(p,-a,a);\n        g+=e=length(p.yz)/s;\n        if(e<.001)c+=mix(vec3(1),H(log(s)*.2+.2),.5)*.015*exp(-i*i*e);\n    }\n    c*=c*c;\n    fragColor=vec4(c,1);\n}\n\n","name":"Image","description":"","type":"image"}]}