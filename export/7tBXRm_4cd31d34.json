{"ver":"0.1","info":{"id":"7tBXRm","date":"1627308109","viewed":235,"name":"Fake Bokeh Effect","username":"Zerofile","description":"just a neat effect which runs pretty fast","likes":5,"published":1,"flags":32,"usePreview":0,"tags":["bokeh"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"/* by: sirbird / zerofile */\n\n// 27 July 2021 12:00AM GMT+10\n\n// try with \"Stars\" image in Buffer A\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    vec2 ov = uv;\n    \n    float luma = length(texture(iChannel0, uv).rgb);\n    \n    uv += vec2(dFdx(luma),dFdy(luma)) * 50.0 / iResolution.x;\n    \n    vec3 color = texture(iChannel0, uv).rgb;\n    \n    luma = 1.0-length(color)*0.577;\n    color = texture(iChannel0, mix(uv,ov,luma*luma)).rgb;\n    \n    fragColor = vec4(color ,1.0);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n\n{\n    float invResX = 1.0 / iResolution.x;\n    vec2 uv = fragCoord/iResolution.xy;\n    \n    vec3 color;\n    \n    for (int i = -7; i < 7; i++) {\n    \n        color += texture(iChannel0, uv + vec2(float(i)*invResX, 0.0)).rgb \n        * exp(float(i*i)*-0.008);\n    \n    }\n    \n    color *= 0.0735;\n    \n    fragColor = vec4(color ,1.0);\n}","name":"Buffer A","description":"","type":"buffer"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"XsXGR8","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n\n{\n    float invResX = 1.0 / iResolution.x;\n    vec2 uv = fragCoord/iResolution.xy;\n    \n    vec3 color;\n    \n    for (int i = -7; i < 7; i++) {\n    \n        color += texture(iChannel0, uv + vec2(0.0, float(i)*invResX)).rgb \n        * exp(float(i*i)*-0.008);\n    \n    }\n    \n    color *= 0.0909;\n    \n    fragColor = vec4(color ,1.0);\n}","name":"Buffer B","description":"","type":"buffer"}]}