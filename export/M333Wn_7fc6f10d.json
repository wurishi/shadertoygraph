{"ver":"0.1","renderpass":[{"outputs":[{"channel":0,"id":"4dfGRr"}],"inputs":[{"channel":0,"type":"texture","id":"4dXGzn","filepath":"/media/a/0c7bf5fe9462d5bffbd11126e82908e39be3ce56220d900f633d58fb432e56f5.png","sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"}}],"code":"vec4 truchet(in vec2 uv, in vec3 col, in float scale, in float thickness, in float F, in bool applyPattern)\n{\n    uv *= scale;\n    \n    vec2 GRID = fract(uv) - 0.5;\n    vec2 ID   = floor(uv);\n    \n    GRID.x = texture(iChannel0, 3.1*ID).r < 0.5 ? -GRID.x : GRID.x;\n    float signedness = 0.0<(GRID.x+GRID.y+0.001)\n        ? -1.0\n        :  1.0;\n        \n    vec2 C = (GRID+signedness*0.5);\n    float angle = atan(C.x, C.y);\n    float flow_direction = mod(ID.x + ID.y, 2.0)*2.0 - 1.0;\n    float K = 0.5+0.5*cos(4.0*angle+iTime*3.0*flow_direction);\n    \n    C = abs(C);\n    float d = pow(pow(C.x, F) + pow(C.y, F), 1.0/F);\n    float dedge = abs(d-0.5)-thickness;\n    \n    float blendFactor = 0.5+0.5*cos(2.0*angle);\n    col += mix(vec3(0),col, blendFactor);\n    col *= applyPattern?(0.5+0.5*sin(-22.0*flow_direction*angle+dedge*100.0+iTime*-14.0)):1.0;\n    \n    float s = smoothstep(0.012, -0.012, abs(d-0.5)-thickness);\n    return vec4(col, blendFactor)*s;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord-0.5*iResolution.xy)/iResolution.y;\n    vec3 col = vec3(.3);\n    \n    float scaleFactor = 0.85*smoothstep(1.0, 0.0, length(uv))\n                      * (0.75+0.25*smoothstep(0.0, 1.0, (0.5+0.5*cos(iTime*0.85))));\n    \n    uv.x += iTime*0.025;\n    uv.y += iTime*0.05;\n    \n    vec4 result0 = truchet(    uv,      vec3(.935,.247,.05), 7.0, 0.195*scaleFactor, 2.25, true);\n    vec4 result1 = truchet(uv+0.5, vec3( .76, .16,.16)*0.35, 7.0, 0.095*scaleFactor, 1.15, false);\n    col += result0.a > result1.a\n        ? result0.rgb\n        : result1.rgb;\n        \n    col *= scaleFactor*1.5;\n\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"M333Wn","date":"1716318107","viewed":48,"name":"{The Serpent}","username":"inverse_transpose","description":"Truchet","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["truchet"],"hasliked":0,"parentid":"","parentname":""}}