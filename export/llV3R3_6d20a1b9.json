{"ver":"0.1","info":{"id":"llV3R3","date":"1475968196","viewed":285,"name":"Some random lines","username":"stduhpf","description":"Just playing with noise","likes":7,"published":1,"flags":0,"usePreview":0,"tags":["colors","gradiantperlin"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XsX3zn","filepath":"/media/a/94284d43be78f00eb6b298e6d78656a1b34e2b91b34940d02f1ca8b22310e8a0.png","previewfilepath":"/media/ap/94284d43be78f00eb6b298e6d78656a1b34e2b91b34940d02f1ca8b22310e8a0.png","type":"cubemap","channel":0,"sampler":{"filter":"mipmap","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float rand(vec3 a)\n{\n    return fract(sin(dot(vec3(30,1.3,320)*a*a,vec3(12.9898,8.233,-19.848))*43758.5453))-.5;\n}\n\n\nvec3 g(vec3 co)//random gradiant\n{\n    return vec3(rand(co.xyz),rand(co.zxy),rand(co.yzx));\n}\n\nvec4 f1(vec3 a, vec3 b) //gradiant/position dot product for square vertex\n{\n    return vec4(dot(g(a),b),dot(g(a+vec3(1,0,0)),b-vec3(1,0,0)),dot(g(a+vec3(0,1,0)),b-vec3(0,1,0)),dot(g(a+vec3(1,1,0)),b-vec3(1,1,0)));\n}\nfloat ip(vec4 a,vec2 b)//interpolation for a square\n{\n    return mix(mix(a.r,a.g,smoothstep(0.,1.,b.x)),mix(a.b,a.a,smoothstep(0.,1.,b.x)),smoothstep(0.,1.,b.y));\n}\n    \nfloat perlin(vec3 p,float time)\n{\n    time+=iTime*.2;\n    p+=time;\n    vec3 r = fract(p);\n    vec3 l = floor(p);\n    vec4 a = f1(l,r);\n    float n1 = ip(a,r.xy);\n    a = f1(l+vec3(0,0,1),r-vec3(0,0,1));\n    return mix(n1,ip(a,r.xy),smoothstep(0.,1.,r.z));//inetrpolation for the cube\n}\nfloat fbm(vec3 p,float time)\n{\n     float b =perlin(p,time);\n    for (int i=0;i<5;i++){\n        p*=1.5;\n    b= mix(b,perlin(p,time),.05);\n    }\n    return b;\n}\nfloat max3(vec3 v)\n{\n    return max(max(v.x,v.y),v.z);\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.x-vec2(.5,.5*iResolution.y/iResolution.x);\n    vec2 mse = (iMouse.xy / iResolution.x-vec2(.5,.5*iResolution.y/iResolution.x))*12.3;\n    mat3 r = mat3(1,0,0,0,cos(mse.y),sin(mse.y),0,-sin(mse.y),cos(mse.y))*mat3(cos(mse.x),0,sin(mse.x),0,1,0,-sin(mse.x),0,cos(mse.x));\n    vec3 vd = normalize(vec3(uv,1.))*r;\n    vec3 col =vec3(max3(((90.*sin(500.*cross(vec3(fbm(vd,1.),fbm(vd,0.),fbm(vd,3.)),vd)))))>89.).rgb*sin(100.*cross(vec3(fbm(vd,1.),fbm(vd,0.),fbm(vd,3.)),vd));\n   // col = texture(iChannel0,90.*sin(cross(vec3(fbm(vd,1.),fbm(vd,0.),fbm(vd,3.)),vd))).rgb;\n\tfragColor = vec4(col,0.);\n}","name":"Image","description":"","type":"image"}]}