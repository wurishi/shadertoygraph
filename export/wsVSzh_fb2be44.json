{"ver":"0.1","info":{"id":"wsVSzh","date":"1573457957","viewed":150,"name":"Lennard-Jones black holes","username":"Roninkoi","description":"Just playing around with the Lennard-Jones potential. Kind of reminds me of black holes!","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["blackhole","lennardjones"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.141592653\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    uv = 2. * uv - 1.;\n    uv.y *= iResolution.y/iResolution.x; // [-1, 1] -> circ\n    \n    float x = uv.x;\n    float y = uv.y;\n    \n    float a = iTime;\n    \n    x = cos(a) * uv.x - sin(a) * uv.y; // rotation\n    y = sin(a) * uv.x + cos(a) * uv.y;\n    \n    x -= 0.4 + sin(a) * 0.1;\n    float r1 = sqrt(x*x + y*y);\n    r1 += sin(3. * atan(x, y) + a * 5.) * 0.00651 * \n        sin(a * 8.) * \n        sin(a * 7. + 0.74);\n    r1 *= 2.7;\n    \n    x += 0.8 + sin(a) * 0.1;\n    \n    float r2 = sqrt(x*x + y*y);\n    r2 += sin(3. * atan(x, y) + a * 5.) * 0.00651 * \n        sin(a * 8.) * \n        sin(a * 7. + 0.74);\n    r2 *= 2.6;\n    \n    float r = r1 * r2;\n    \n    float epsilon = 1.;\n    float m = 1.;\n    float z = epsilon*(pow(m/r, 12.) - 2. * pow(m/r, 6.) + 1.); // Lennard-Jones potential\n    \n    vec3 col = vec3(1.);\n    \n    float q = z * 2. + 0.8;\n    vec3 cm = vec3(\n        sin(q), sin(q + PI / 3.0), sin(q + 2. * (PI / 3.0)) // colors\n    );\n    cm = normalize(cm);\n    cm = cm * 0.5 + vec3(0.5);\n    col *= cm;\n    \n    col /= exp(z*r);\n\n    fragColor = vec4(col, 1.0);\n}","name":"Image","description":"","type":"image"}]}