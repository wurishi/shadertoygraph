{"ver":"0.1","info":{"id":"dtfXDH","date":"1674674164","viewed":97,"name":"Worm in your ear (audio)","username":"ianertson","description":"Takes a while for the audio to start","likes":2,"published":1,"flags":8,"usePreview":0,"tags":["audio","binaural"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XsXGRn","filepath":"/media/a/cd4c518bc6ef165c39d4405b347b51ba40f8d7a065ab0e8d2e4f422cbc1e8a43.jpg","previewfilepath":"/media/ap/cd4c518bc6ef165c39d4405b347b51ba40f8d7a065ab0e8d2e4f422cbc1e8a43.jpg","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4sf3Rr","filepath":"/media/a/ad56fba948dfba9ae698198c109e71f118a54d209c0ea50d77ea546abad89c57.png","previewfilepath":"/media/ap/ad56fba948dfba9ae698198c109e71f118a54d209c0ea50d77ea546abad89c57.png","type":"texture","channel":2,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = (fragCoord-0.5*iResolution.xy)/iResolution.y;\n    vec2 u = fragCoord / iResolution.xy;\n\n    vec2 pan = vec2(0.);\n    vec2 sound = getSound(iChannel0, iTime, pan);\n    float mag = max(abs(sound.x), abs(sound.y));\n    \n    \n    \n    float X = (pan.y)-(pan.x*(iResolution.x/iResolution.y));\n    X = clamp(X, -0.33, 0.33);\n\n    \n    vec3 fg = texture(iChannel1, (u-vec2(X*1.5, 0.)) + (sound*0.1)).rgb;\n    vec3 bg = texture(iChannel2, fg.xy+u-(0.1*sound)+fg.z).rgb;\n    \n    uv.x *= 0.1;\n    \n    float x = uv.x * cos(uv.y*200.)*sound.x;\n    float y = uv.y * cos(uv.x*200.)*sound.y;\n    \n    uv = mix(uv, vec2(x, y), 0.2);\n    \n    uv *= 4.5;\n    float d = distance(vec2(X, mag*mag), uv);\n    float radius = 0.2;\n    float feather = radius*0.02;\n    float c = 1.0 - smoothstep(radius-feather, radius+feather, d);\n    \n    vec3 col = vec3(c)*fg;\n    col = mix(col, bg, max(0.0, 1.0 - c));\n\n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[],"code":"vec2 mainSound( int samp, float time )\n{\n    // A 440 Hz wave that attenuates quickly overt time\n    \n    vec2 pan = vec2(0.);\n  \n    return getSound(iChannel0, time, pan);\n    \n    //return vec2( sin(6.2831*440.0*time)*exp(-3.0*time) );\n}","name":"Sound","description":"","type":"sound"},{"inputs":[],"outputs":[],"code":"vec2 getSound(sampler2D textu, float time, inout vec2 pan) {\n\n    float T = time;\n    vec2 uv = vec2(cos(T+3.14), sin(T+9.215));\n    \n    float L = 0.0;\n    float R = 0.0;\n    vec3 tex = texture(textu, uv*3.14).rgb;\n    L = sin(tex.r*(T*(1.0+tex.b+tex.g))*10.);\n    R = cos(tex.g*(T*(1.0+tex.b+tex.r))*10.);\n    \n    float panLeft = 0.5+(0.5*cos(0.5+T));\n    float panRight = 0.5+(0.5*sin(0.5+T));\n    \n\n    \n    L *= max(0.0001, panLeft);\n    R *= max(0.0001, panRight);\n    \n    pan = vec2(panLeft, panRight);\n    \n    \n    \n    return vec2(L, R);\n}","name":"Common","description":"","type":"common"}]}