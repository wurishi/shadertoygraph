{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[{"channel":0,"type":"video","id":"4df3zn","filepath":"/media/a/3405e48f74815c7baa49133bdc835142948381fbe003ad2f12f5087715731153.ogv","sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}},{"channel":1,"type":"video","id":"Xdf3Rn","filepath":"/media/a/e81e818ac76a8983d746784b423178ee9f6cdcdf7f8e8d719341a6fe2d2ab303.webm","sampler":{"filter":"linear","wrap":"clamp","vflip":"false","srgb":"false","internal":"byte"}}],"code":"float mask(vec2 p, vec2 c)\n{\n\tfloat r = length((p - c)*vec2(2.5, 2.0));\n\treturn smoothstep(0.6, 0.3, r);\n}\n\nfloat key(vec3 c)\n{\n\tconst vec3 green = vec3(0.15, 0.55, 0.1);\n\tfloat d = length(c - green);\n\treturn smoothstep(0.2, 0.3, d);\n}\n\nvec2 rotate(vec2 p, float a)\n{\n\treturn p * mat2(cos(a), sin(a), -sin(a), cos(a));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n\tvec2 mouse = iMouse.xy / iResolution.xy;\t\n\t\n\tvec2 centre = vec2(0.5, 0.6);\n\tif (iMouse.z > 0.0) {\n\t\tcentre = mouse;\n\t}\n\t\n\tvec2 uv2 = uv;\n\tuv2 -= centre;\t\n\tuv2 = rotate(uv2 - vec2(0.5), 0.2) + vec2(0.5);\n\tuv2 *= 1.8;\n\tuv2 += vec2(0.7, 0.48);\t// face centre\n\t\n\tvec4 vid0 = texture(iChannel0, uv);\n\tvec4 vid1 = texture(iChannel1, uv2);\n\tfloat k = key(vid1.rgb);\t\n\tfloat m = mask(uv, centre);\n\t\n\t// color correction\n\tvid1.rgb = vec3(dot(vid1.rgb, vec3(0.3, 0.59, 0.11)));\t// b/w\n\tvid1.rgb *= vec3(1.0, 1.0, 0.9);\t// yellowish\n\tvid1.rgb = vid1.rgb*0.8 + 0.2;\t\t// brightness/contrast\n\t\n\tfloat t = smoothstep(18.0, 16.5, mod(iTime, 30.0));\n\t\t\n\t//fragColor = vid0;\t\n\t//fragColor = vid1;\n\t//fragColor = (vid0 + vid1)*0.5;\n\t//fragColor = vec4(k);\n\t//fragColor = vec4(m);\t\n\t//fragColor = vec4(k*m);\n\t//fragColor = mix(vid0, vid1, mouse.x);\n\t//fragColor = mix(vid0, vid1, mouse.x*m*k);\n\t//fragColor = mix(vid0, vid1, k*m);\n\tfragColor = mix(vid0, vid1, t*m*k);\n}\n","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"MsX3RS","date":"1372942607","viewed":282,"name":"britney composite","username":"simesgreen","description":"just messing about, this looks funny if you at pause it at 16.0 seconds!","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["2d","video"],"hasliked":0,"parentid":"","parentname":""}}