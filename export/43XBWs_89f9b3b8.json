{"ver":"0.1","info":{"id":"43XBWs","date":"1729052341","viewed":44,"name":"Color Swoosh Vortex ","username":"StormOfTheVoid","description":"yeah","likes":4,"published":1,"flags":32,"usePreview":0,"tags":["a"],"hasliked":0,"parentid":"4XXBWX","parentname":"Retro Style Screensaver"},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage(out vec4 fragColor, in vec2 fragCoord) {\n\n    float factor = 1.;\n    float s=2.;\n    fragCoord.x = fragCoord.x - (mod(fragCoord.x, factor*.5));\n    fragCoord.y = fragCoord.y - (mod(fragCoord.y, factor*.5));\n\tvec2 px = fragCoord.xy / iResolution.xy;\n    float l=min(pow(2.,float(iFrame)/240.-1.),128.);\n    fragColor = pow(128./l,0.66)*2.5/s*texture(iChannel1, vec2(px.x, px.y));\n}\n\n","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"const ivec2 FS_ADDR = ivec2(0.0);\n\nconst vec4 fs_stt = vec4(1.0);\n\nuint seed = 0u;\n\nvoid setSeed(uint s) {\n    seed = s;\n}\n\nuint hash(uint s) {\n    s ^= 2747636419u;\n    s *= 2654435769u;\n    s ^= s >> 16;\n    s *= 2654435769u;\n    s ^= s >> 16;\n    s *= 2654435769u;\n    return s;\n}\n\nuint randI() {\n    seed = hash(seed);\n    return seed;\n}\n\nfloat rand() {\n    uint rn = randI();\n    rn %= 1000000000u;\n    float rs = float(rn);\n    rs /= 1000000000.0;\n    return rs;\n}\n\n#define setNSeed() setSeed(uint(iResolution.x*fragCoord.y+fragCoord.x + float(hash(uint(iTime*1000.0))%1000u)))\n\n","name":"Common","description":"","type":"common"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"vec3 rotx(vec3 n,float theta){\n    float x=n.x;\n    float y=n.y;\n    float z=n.z;\n    return vec3(x,cos(theta)*y-sin(theta)*z,sin(theta)*y+cos(theta)*z);\n}\n\nvec3 roty(vec3 n,float theta){\n    float x=n.x;\n    float y=n.y;\n    float z=n.z;\n    return vec3(cos(theta)*x+sin(theta)*z,y,-sin(theta)*x+cos(theta)*z);\n}\n\nvec3 rotz(vec3 n,float theta){\n    float x=n.x;\n    float y=n.y;\n    float z=n.z;\n    return vec3(cos(theta)*x-sin(theta)*y,sin(theta)*x+cos(theta)*y,z);\n}\n\n\n\n\n\nvoid mainImage( out vec4 color, in vec2 uv )\n{\n    vec2 fragCoord=uv;\n    if(float(iFrame)==0.){\n        setNSeed();\n        color=vec4(0.)+2.*vec4(0.5-rand(),0.5-rand(),0.5-rand(),1.)/1.;\n    }else{\n        \n        float s=2.;\n        vec3 color2=texture(iChannel0,uv/iResolution.xy).xyz;\n        color2=rotz(roty(color2,0.02/s),0.02/s);\n        color=vec4(color2,1.);\n    }\n\n}\n","name":"Buffer A","description":"","type":"buffer"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"XsXGR8","channel":0}],"code":"void mainImage( out vec4 color, in vec2 uv )\n{\n        float s=2.;\n        color=pow(0.99,1./s)*texture(iChannel1,uv/iResolution.xy);\n        //color=vec4(0.);\n        uv=1.25*uv/iResolution.xy;\n        float g=10.;\n        float n1=1.;\n        float n2=min(pow(2.,float(iFrame)/240.-1.),128.);\n      //  for(float i2=n1;i2<=n1;i2+=1.){\n        for(float j=0.;j<=n2;j+=1.){\n\n        \n        float i=1.;\n        float l=j*5.;\n        vec3 p1=texture(iChannel0,vec2(l+i,l+i)/iResolution.xy).xyz;\n        //vec3 p2=texture(iChannel0,vec2(j+mod(i+1.,n1+1.),mod(i+1.,n1+1.))/iResolution.xy).xyz;\n        vec3 p2=texture(iChannel0,vec2(l+i+1.,l+i+1.)/iResolution.xy).xyz;\n        p1+=0.66*vec3(0.975,0.9,1.);\n        p2+=0.66*vec3(0.975,0.9,1.);        \n        float m=(p2.y-p1.y)/(p2.x-p1.x);\n        \n        \n        float c=float(iFrame)/(s*240.)+j/100.;\n\n        vec3 between=(1.-mod(c,1.))*p1+mod(c,1.)*p2;        \n       \n        float x1=min(p1.x,p2.x);\n        float x2=max(p1.x,p2.x);\n        //x1=min(p2.x,between.x);\n       // x2=max(p1.x,between.x);\n       if(p1.x<p2.x){\n           x2=between.x;\n       }else{\n           x1=between.x;\n       }\n       \n        if(x1<=uv.x && uv.x<=x2){\n            \n           // vec2 between=vec2(m*(uv.x-p1.x)+p1.y,uv.y);\n            color+=g*0.001*vec4(pow(2.,-200.*abs(uv.y-(m*(uv.x-p1.x)+p1.y))))*vec4(0.5+0.5*cos(2.*p1),1.)*min(max(abs(1./m),0.25),1.);\n\n        }\n\n        }\n      //  }\n\n}\n\n\n","name":"Buffer B","description":"","type":"buffer"}]}