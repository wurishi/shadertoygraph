{"ver":"0.1","info":{"id":"MtscRs","date":"1506094288","viewed":120,"name":"Spiral Lines","username":"themasmo","description":"A simple spiral effect","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["2d","lines"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\nfloat _OutlineWidth = 0.02;\nfloat _LineWidth = 0.08;\nvec4 _OutlineColor = vec4(0.,0.,0.,0.);\nvec4 _FrontColor = vec4(1.0,1.0,1.0,1.0);\n\n//======================\n// Line functions\n//======================\nfloat line(vec2 pos, vec2 point1, vec2 point2, float width) {\n    vec2 dir0 = point2 - point1;\n    vec2 dir1 = pos - point1;\n    float h = clamp(dot(dir0, dir1)/dot(dir0, dir0), 0.0, 1.0);\n    float d = (length(dir1 - dir0 * h) - width * 0.5);\n    return d;\n}\n\nvec4 line_with_color(vec2 pos, vec2 point1, vec2 point2, float width) {   \t\t\n    float d = line(pos, point1, point2, width);\n    float w = fwidth(0.5*d) * 2.0;\n    vec4 layer0 = vec4(_OutlineColor.rgb, 1.-smoothstep(-w, w, d - _OutlineWidth));\n    vec4 layer1 = vec4(_FrontColor.rgb, 1.-smoothstep(-w, w, d));\n    \n    return mix(layer0, layer1, layer1.a);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = 2.0*( fragCoord.xy / iResolution.xy) -1.0;\n    \n    \n\tfloat color=1.0;\n\tfloat rg=0.0;\n\tfloat an=iTime*50.0;\n\tfloat dan=iTime;\n\tvec2 oldp=vec2(0.0,0.0);\n\t\n\tfor(int i=0;i<64;i++)\n\t{\n//\t\tvec2 p1=vec2(0.0,0.0);\n\t\tvec2 p2=vec2(rg*cos(an*3.141/180.0),rg*sin(an*3.141/180.0));\n\t\tvec4 linea=line_with_color(uv,oldp,p2,0.005);\n\t\n\t\tfragColor = mix(fragColor,linea,linea.a);\n\t\t\n\t\tan+=dan;\n\t\trg+=0.02;\n\t\toldp=p2;\n\t}    \n    \n}","name":"Image","description":"","type":"image"}]}