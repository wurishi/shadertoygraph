{"ver":"0.1","info":{"id":"XfjfDh","date":"1724884436","viewed":47,"name":"cool effect thing","username":"NameGoesThere","description":"test","likes":1,"published":3,"flags":2,"usePreview":0,"tags":["voronoi"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sf3zn","filepath":"/presets/webcam.png","previewfilepath":"/presets/webcam.png","type":"webcam","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//mini\nfloat noise1(float seed1,float seed2){\nreturn(\nfract(seed1+12.34567*\nfract(100.*(abs(seed1*0.91)+seed2+94.68)*\nfract((abs(seed2*0.41)+45.46)*\nfract((abs(seed2)+757.21)*\nfract(seed1*0.0171))))))\n* 1.0038 - 0.00185;\n}\n\n\n//3 seeds\nfloat noise2(float seed1,float seed2,float seed3){\nfloat buff1 = abs(seed1+100.81) + 1000.3;\nfloat buff2 = abs(seed2+100.45) + 1000.2;\nfloat buff3 = abs(noise1(seed1, seed2)+seed3) + 1000.1;\nbuff1 = (buff3*fract(buff2*fract(buff1*fract(buff2*0.146))));\nbuff2 = (buff2*fract(buff2*fract(buff1+buff2*fract(buff3*0.52))));\nbuff1 = noise1(buff1, buff2);\nreturn(buff1);\n}\n\nconst int MAXPOINTS = 16; // Will be squared in the final output\nvec2 points[MAXPOINTS * MAXPOINTS];\n\nint get_nearest(float x, float y)\n{\n    int nearest = 0;\n    for (int i = 0; i < MAXPOINTS * MAXPOINTS; ++i)\n    {\n        float point_distance = distance(vec2(x, y), points[i]);\n        if (point_distance < distance(vec2(x, y), points[nearest]))\n        {\n            nearest = i;\n        }\n    }\n    return nearest;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n\n    int i = 0;\n    for (int x = 0; x < MAXPOINTS; ++x)\n    {\n        for (int y = 0; y < MAXPOINTS; ++y)\n        {\n            points[i++] = vec2(\n            noise2(float(iFrame), float(x), float(y)),\n            noise2(float(iFrame), float(y), float(x))\n            );\n        }\n    }\n\n    vec4 col = texture(iChannel0, points[get_nearest(uv.x, uv.y)]);\n\n    fragColor = vec4(col);\n}","name":"Image","description":"","type":"image"}]}