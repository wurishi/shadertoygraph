{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"// License Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.\n// Created by S.Guillitte\n\n#define time  iTime*5.\n\nfloat hash( in vec2 p ) \n{\n    return fract(sin(p.x*15.32+p.y*35.78) * 43758.23);\n}\n\nvec2 hash2(vec2 p)\n{\n\treturn vec2(hash(p*.754),hash(1.5743*p.yx+4.5891))-.5;\n}\n\n\nvec2 add = vec2(1.0, 0.0);\n\nvec2 noise2(vec2 x)\n{\n    vec2 p = floor(x);\n    vec2 f = fract(x);\n    f = f*f*(3.0-2.0*f);\n    \n    return mix(mix( hash2(p),          hash2(p + add.xy),f.x),\n                    mix( hash2(p + add.yx), hash2(p + add.xx),f.x),f.y);\n    \n}\n\n\nfloat dseg( vec2 ba, vec2 pa )\n{\t\n\tfloat h = clamp( dot(pa,ba)/dot(ba,ba), 0., 1.5 );\t\n\treturn length( pa - ba*h );\n}\n\nfloat arc(vec2 x,vec2 p, vec2 dir)\n{\n    vec2 r = p;\n    float d=10.;\n    for (int i = 0; i < 5; i++)\n    {\n        vec2 s= noise2(r+time)+dir;\n        d=min(d,dseg(s,x-r));\n        r +=s;      \n    }\n    return d*3.;\n    \n}\n\n\n\nfloat thunderbolt(vec2 x)\n{\n    vec2 r = vec2(8.,1.);\n    float d=1000.;\n    if((x).y<abs((x-r).x))return d;    \n    for (int i = 0; i < 19; i++)\n    {\n        if(r.y>x.y+.5)break;\n        vec2 s= noise2(r+time)+vec2(0.,.7);\n        d=min(d,dseg(s,x-r));\n        r +=s;\n        if(i-(i/5)*5==0){\n            if(i-(i/10)*10==0)d=min(d,arc(x,r,vec2(.3,.5)));\n            else d=min(d,arc(x,r,vec2(-.3,.5)));\n        }\n    }\n    return d;\n   \n}\n\nvec2 fbm2(vec2 x)\n{\n    vec2 r = x; \n    for (int i = 0; i < 9; i++)\n    {\n        vec2 s= .5*noise2(r+time);\n        r +=s;\n             \n    }\n    return r-x;\n   \n}\n\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = 2.*fragCoord.xy / iResolution.yy;\n    uv*=5.;\n    float c = thunderbolt(uv+.02*fbm2(5.*uv));\n    c=exp(-5.*c);\n    vec3 col;\n    col=clamp(1.7*vec3(0.8,.7,.9)*c,0.,1.);\n\tfragColor = vec4(col,1.0);\n}\n\n\n\n\n\n","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"MllGRl","date":"1424436357","viewed":4644,"name":"Thunderbolt","username":"guil","description":"Lightning bolt","likes":35,"published":1,"flags":0,"usePreview":0,"tags":["2d","noise","lightning"],"hasliked":0,"parentid":"","parentname":""}}