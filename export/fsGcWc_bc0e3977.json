{"ver":"0.1","info":{"id":"fsGcWc","date":"1655695120","viewed":109,"name":"sdf写轮眼","username":"dongmo","description":"使用图形融合绘制写轮眼","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["smin"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float sdCircle(vec2 uv,float r){\n    return length(uv)-r;\n}\nfloat sdRect(vec2 uv,float r){\n    return max(abs(uv.x),abs(uv.y))-r;\n}\n\n//矩阵旋转\nmat2 rot(float angle){\n    float c= cos(angle);\n    float s=  sin(angle);\n    return mat2(c,-s,s,c);\n}\n\nfloat gouyu(vec2 p,float angle){\n    p*=rot(angle);\n    float w = 1.0/iResolution.y;\n    float c = sdCircle(p,0.2);\n    float c2 = sdCircle(p - vec2(-0.1,0.0),0.103);\n    float s = max(-c2,c);\n    s = max(s,p.y);\n    float c3 = sdCircle(p - vec2(0.102,0.0),0.099);\n    s = min(s,c3);\n    return smoothstep(w,-w,s);\n}\n\nfloat gouyu3(vec2 p){\n    p*=1.8;\n    float g = gouyu(p - vec2(0.0,0.4),radians(150.0));\n    g+=gouyu(p - vec2(1.732 * 0.2, -0.4 * 0.5),radians(250.0));\n    g+=gouyu(p - vec2(-1.732 * 0.2, - 0.4*0.5),radians(0.0));\n    return g;\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float w = 1.0/iResolution.y;\n    vec2 uv = fragCoord/iResolution.xy;\n    \n    uv-=0.5;\n    uv.x*=iResolution.x/iResolution.y;\n    vec3 col = vec3(1.0);\n    uv*=rot(iTime + -tan(iTime));\n    //背景红圈\n    \n    float backGround = smoothstep(+w,-w,sdCircle(uv,0.4));\n    col = mix(col,vec3(1.0,0.0,0.0),backGround);\n    \n    //黑色圆谎\n    float ring = abs(sdCircle(uv,0.4))-0.01;\n    float edge = smoothstep(+w,-w,ring);\n    //col = mix(col,vec3(0.0),edge);\n    \n    //圆环阴影\n    float d = length(uv);\n    float dark = step(d,0.4) * smoothstep(0.02,0.42,d);\n    col = mix(col,vec3(0.0),dark * 0.8);\n    \n    //中心小圆\n    float c = smoothstep(+w,-w,sdCircle(uv,0.08));\n    col = mix(col,vec3(0.0),c);\n    \n    //白色高光\n    d = length(uv - vec2(-0.18,0.15));\n    col = mix(col,vec3(1.0),smoothstep(0.15,0.0,d));\n    \n    \n    float gyline = abs(sdCircle(uv,0.2)) - 0.005;\n    float gylineEdge = smoothstep(+w,-w,gyline);\n    col = mix(col,vec3(0.0),gylineEdge);\n\n\n    //勾玉\n    float g= gouyu3(uv);\n    col = mix(col,vec3(0.0,0.0,0.0),g);\n    \n\n    \n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}