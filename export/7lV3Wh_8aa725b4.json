{"ver":"0.1","info":{"id":"7lV3Wh","date":"1637644330","viewed":94,"name":"Simple Vortex","username":"dissonant","description":"Another quick experiment to try and make some kind of simple 2d vortex/gravity effect.","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["blackhole","vortex"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XdfGRn","filepath":"/media/a/e6e5631ce1237ae4c05b3563eda686400a401df4548d0f9fad40ecac1659c46c.jpg","previewfilepath":"/media/ap/e6e5631ce1237ae4c05b3563eda686400a401df4548d0f9fad40ecac1659c46c.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float oscillate()\n{\n    // a value between 0 and 1\n    return (1. + sin(iTime)) / 2.;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // possible inputs\n    float radius = .3;\n    float minIntensity = radius * -0.05;\n    float maxIntensity = radius * 0.80;\n\n    // Normalized pixel coordinates 0 to 1\n    vec2 uv = fragCoord.xy / iResolution.xy;\n    vec2 origin = vec2(0.5, 0.5);\n    vec2 disp = vec2(\n        uv.x - origin.x,\n        (uv.y - origin.y) * (iResolution.y/iResolution.x)\n    );\n    float d = length(disp);\n    \n    // Points closer to the origin should be 'pulled' more intensely\n    float scale = (1. - d/radius); \n    float intensity = minIntensity + maxIntensity * oscillate() * scale;\n    vec2 pullDirection = disp/d; // normalize.\n       \n    // Limit the pull range to the provided radius\n    float pullImpact = max(0., scale) * intensity;\n    \n    // Limit the pull from the origin to the edges to avoid texture looping.\n    float pull = min(0.5, pullImpact);\n    uv = uv + pullDirection * pull;\n\n    vec3 col = texture(iChannel0, uv).rgb;\n    \n    // fade to black as we approach the center.\n    float darkenFactor = pow(d/(radius), 2.);\n    col = col * min(1., darkenFactor);\n    \n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}