{"ver":"0.1","info":{"id":"4ffyW8","date":"1721044869","viewed":32,"name":"UInt Right Shift ANGLE Bug 2","username":"TinyTexel","description":"Seems like ANGLE performs a signed right shift if the uint to be shifted is a literal and the shift amount isn't.","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["shader"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"/* \n    more detailed test: https://www.shadertoy.com/view/lcscDr#\n    \n    https://issues.angleproject.org/issues/353039526\n*/\n\n// uint to be shifted\n#define NUM 0x80000000u\n\n// shift amount\n#define SHIFT 31u\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    uint shift = SHIFT;\n    uint num = NUM;\n    \n    uint bits;\n    \n    bits = NUM >> shift;// this appears to perform a signed right shift (if ANGLE is active)\n    //bits = num >> SHIFT;\n    //bits = num >> shift;\n    //bits = NUM >> SHIFT;\n    \n    //bits = NUM;\n    float result = (bits & 0x10u) != 0u ? 1.0 : 0.0;\n\n    fragColor = vec4(result);// if white -> broken\n}","name":"Image","description":"","type":"image"}]}