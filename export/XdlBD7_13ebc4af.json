{"ver":"0.1","info":{"id":"XdlBD7","date":"1496553650","viewed":100,"name":"everyday 024/100","username":"kalin","description":"everyday 024/100","likes":0,"published":1,"flags":64,"usePreview":0,"tags":["everyday"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGzr","filepath":"/media/a/08b42b43ae9d3c0605da11d0eac86618ea888e62cdd9518ee8b9097488b31560.png","previewfilepath":"/media/ap/08b42b43ae9d3c0605da11d0eac86618ea888e62cdd9518ee8b9097488b31560.png","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dfXDH","filepath":"https://soundcloud.com/sendaiofficial/sod-012","previewfilepath":"https://soundcloud.com/sendaiofficial/sod-012","type":"musicstream","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":0}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float lined(vec2 p, vec2 pa, vec2 pb)\n{\n    return (p.x - pa.x) * (pb.y - pa.y) - (p.y - pa.y) * (pb.x - pa.x);\n}\n\nfloat trid(vec2 p, vec2 a, vec2 b, vec2 c)\n{\n    return \n        step(0.0, lined(p, a, b)) *\n        step(0.0, lined(p, b, c)) *\n        step(0.0, lined(p, c, a));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord.xy / iResolution.xy;\n    vec2 nuv = uv * 2.0 - 1.0;\n    vec2 nnv = vec2(nuv.x * (iResolution.x / iResolution.y), nuv.y);\n    \n    float t = iTime;\n    float bpm = 1.0 / 60.0 * 97.2;\n    float pi = 3.1415926535;\n    \n    vec2 p = uv;\n    float rres = iResolution.x / iResolution.y;\n    \n    float rt0 = t * bpm * pi * (2.5 - 0.05 * pow(texture(iChannel0, vec2(0.0, 0.25)).x, 8.0));\n    float rt1 = t * bpm * pi * (0.5 - 0.05 * pow(texture(iChannel0, vec2(0.3, 0.25)).x, 4.0));\n    mat2 r0 = mat2(cos(rt0), -sin(rt0), sin(rt0), cos(rt0));\n    mat2 r1 = mat2(cos(rt1), -sin(rt1), sin(rt1), cos(rt1));\n    \n    vec2 tp0 = vec2(0.15, 0.5);\n    vec2 tp1 = vec2(0.35, 0.5);\n    \n    vec2 pa = vec2(-0.125 * rres, -0.20);\n    vec2 pb = vec2(-0.0 * rres, +0.20);\n    vec2 pc = vec2(+0.125 * rres, -0.20);\n    \n    vec2 rpa0 = (r0 * pa);\n    vec2 rpb0 = (r0 * pb);\n    vec2 rpc0 = (r0 * pc);\n    \n    rpa0.x /= rres;\n    rpb0.x /= rres;\n    rpc0.x /= rres;\n    \n    rpa0 += tp0 * vec2(rres, 1.0);\n    rpb0 += tp0 * vec2(rres, 1.0);\n    rpc0 += tp0 * vec2(rres, 1.0);\n        \n    vec2 rpa1 = (r1 * pa);\n    vec2 rpb1 = (r1 * pb);\n    vec2 rpc1 = (r1 * pc);\n    \n    rpa1.x /= rres;\n    rpb1.x /= rres;\n    rpc1.x /= rres;\n    \n    rpa1 += tp1 * vec2(rres, 1.0);\n    rpb1 += tp1 * vec2(rres, 1.0);\n    rpc1 += tp1 * vec2(rres, 1.0);\n    \n    float m0 = texture(iChannel0, vec2(0.0, 0.25)).x;\n    m0 = pow(m0, 8.0) * 2.0;\n    float m1 = texture(iChannel0, vec2(0.3, 0.25)).x;\n    m1 = pow(m1, 8.0) * 12.0;\n    \n    rpb1 += texture(iChannel1, vec2(uv.x * m0, uv.y)).x * 12.0;\n    rpb1 -= texture(iChannel1, vec2(uv.x * 12.0 * m0, uv.y)).x * 12.0;\n\n    float ct0 = step(0.001, trid(p, rpa0 + m0, rpb0 + m0, rpc0 + m0 * vec2(0.0, 1.0)));\n    float ct1 = step(0.001, trid(p, rpa1*1.1, rpb1*1.1, rpc1*1.1));\n    \n    fragColor.xyz = vec3(0.2);\n    \n    fragColor.y += ct0 * 0.3;\n    fragColor.z += ct1 * 0.4 + ct1 * m0 * 2.5;\n    fragColor.x *= texture(iChannel1, vec2(uv.x * ct0 * sin(t * 20.0), uv.y)).x * 12.0;\n    \n    fragColor.yz += vec2(m0 * fragColor.x, m1 * fragColor.x * uv.x * 20.0 * fragColor.x * sin(t * 120.0));\n}","name":"Image","description":"","type":"image"}]}