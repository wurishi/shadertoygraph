{"ver":"0.1","info":{"id":"WllXzM","date":"1562444376","viewed":92,"name":"Classic Ebbinghaus illusion","username":"DrCosinus","description":"The left orange circle seems smaller than the right one.","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["opticalillusion"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const float tau = 6.283185307179586476925286766559;\nconst vec3 background_color = vec3(1.0);\nconst vec3 central_disc_color = vec3(1.0, 0.66, 0.33);\nconst vec3 external_disc_color = vec3(0.0);\n\nfloat disc(vec2 uv, vec2 center, float radius)\n{\n\tvec2 delta = (uv-center)/radius;\n    float sqDistance = dot(delta, delta);\n    return smoothstep(1.01, 0.99, (sqDistance));\n}\n\nvoid blob(\n    inout vec3 fragColor,\n    in vec2 uv,\n    in vec2 center,\n    in float radius,\n    in vec3 color,\n    in int e_count,\n    in float e_big_radius,\n    in float e_small_radius,\n\tin vec3 e_color)\n{\n    fragColor = mix(fragColor, color, disc( uv, center, radius));\n    for (int i = 0; i < e_count; ++i)\n    {\n        float angle = tau * float(i) / float(e_count);\n        vec2 e_center = center + e_big_radius * vec2( cos(angle), sin(angle) );\n        fragColor = mix(fragColor, e_color, disc( uv, e_center, e_small_radius ));\n    }\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = (fragCoord-iResolution.xy*0.5)/iResolution.yy;\n\n    vec3 col = background_color;\n    \n    vec3 e_color = mix( background_color, external_disc_color, clamp(cos(iTime)+0.5, 0., 1.) );\n    \n    blob(col, uv, vec2(-0.4,0), 0.1, central_disc_color, 6, 0.31, 0.14, e_color);\n    blob(col, uv, vec2( 0.4,0), 0.1, central_disc_color, 8, 0.16, 0.045, e_color);\n    \n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}