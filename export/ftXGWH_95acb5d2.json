{"ver":"0.1","info":{"id":"ftXGWH","date":"1621973914","viewed":60,"name":"pattern 02","username":"gunzes","description":"a pattern","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["pattern"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float square (float size,float feather,vec2 uv)\n{\n    float axis1 = smoothstep(-feather,-size,uv.x)*smoothstep(feather,size,uv.x);\n    float axis2 = smoothstep(-feather,-size,uv.y)*smoothstep(feather,size,uv.y);\n    return axis1*axis2;\n}\nfloat rTime(float rTmin,float rTmax,float speed,float phase)\n{\n    float rsTime = (sin(iTime*speed+phase)+1.)/2.;\n    return mix(rTmin,rTmax,rsTime);\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.x-.5;\n    uv.y+=0.225;\n    vec2 zv = uv*1000.;\n    uv*=50.;\n//uv = vec2(pow(uv.x,1.2),pow(uv.y,1.2));\n\n    vec2 gv = uv;\n    vec2 vv = uv;\n    zv.x = clamp(abs(sin(zv.y))*1.2,0.,1.);\n    //zv.x = pow(zv.x,0.98);\nzv.x *= -.1;\n\n    vv.x *= -1.;\n    \n    float phase = 0.0;\n    vec3 col = vec3(zv.x,0.,0.);\n\n    //small square number\n    int nSquare = 8;\n    float xOffset = 5.;\n    for(int y=-3;y<=3;y++)\n    {\n\n    phase += 0.35;\n\n    col *= vec3(1.,rTime(.7,1.,.5,phase*.1),rTime(.7,1.,.5,phase*.1));\n    \n        //draw the small pattern\n        for (int i=-nSquare;i<=nSquare;i++)\n        {\n        phase += .95;\n        vec2 offset = (vec2(float(i)+float(y)*xOffset,float(i)+0.));\n        //draw the square \n        //col += (1.-square(.6,.8,gv+offset))*square(.5,rTime(.9,2.,3.,phase),gv+offset);\n        //col += (1.-square(.6,.8,vv+offset))*square(.5,rTime(.9,2.,3.,phase),vv+offset);\n        \n\n        col += square(.85,rTime(.9,1.9,.5,phase+.6),gv+offset);\n        col += square(.85,rTime(.9,1.9,.5,phase+.2),vv+offset);\n        col -= square(.8,rTime(.85,1.,2.,phase+0.1),gv+offset);\n        col -= square(.8,rTime(.85,1.,1.,phase+.45),vv+offset);\n        \n        col *= 1.;\n\n        \n        }\n\n    }   col *= vec3(1.,rTime(.2,1.,.5,phase*5.),rTime(0.,1.,1.,phase*5.5));\n    \n   \n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}