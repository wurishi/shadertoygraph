{"ver":"0.1","info":{"id":"Mdt3Wf","date":"1452762809","viewed":213,"name":"CentreSpiral","username":"DLAGame","description":"CentreSpiral","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["spiral"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const vec2 Centre = vec2 (.5, .5);\nconst float Radius = 0.3;\n\n\nvec4 distortion (vec2 inPos)\n{\n\tvec4 outColor = vec4 (vec3 (.0), 1.0);\n\tfloat time =  50.0;\n\tfloat factor = time * 1.;\n\tvec2 outPos = inPos;\n\t//\n    float dis = distance (inPos, Centre);\n\tif (dis > Radius)\n\t\treturn outColor = texture (iChannel0, outPos + iTime/20.0);\n\n\t//\n\tfloat u,v;\n\tu = inPos.x - Centre.x;\n\tv = inPos.y - Centre.y;\n\tfloat lfactor = (Radius-dis) * (Radius-dis);\n\tvec2 uv = vec2 (u,v) + (vec2 (u,v) * lfactor / 0.3 * factor);\n\t//outPos = uv;\n\tfloat sin_factor = sin(factor * 0.5 * lfactor * 2.5);\n\tfloat cos_factor = cos(factor * 0.5 * lfactor * 2.5);\n\toutPos = vec2(uv) *  mat2(cos_factor, sin_factor, -sin_factor, cos_factor);\n\n\toutPos.x += Centre.x;\n    outPos.y += Centre.y;\n\t//\n\toutColor = texture (iChannel0, outPos + iTime/20.0);\n\toutColor *= dis / Radius;\n\n\t//\n\treturn outColor;\n}\n\nvoid mainImage (out vec4 fragColor, in vec2 fragCoord)\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n\n\t//vec2 pos = distortion (uv);\n\n\tfragColor = vec4 (distortion (uv));\n}","name":"Image","description":"","type":"image"}]}