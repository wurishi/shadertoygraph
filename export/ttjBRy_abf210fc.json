{"ver":"0.1","info":{"id":"ttjBRy","date":"1599260481","viewed":316,"name":"Color Trails","username":"exposure","description":"basic buffer trail\n\nI would love to know how I can have a full colour spectrum trail and not just red/blue without blowing out the green channel.\n\nI am only starting out so my code is terrible.","likes":10,"published":1,"flags":32,"usePreview":0,"tags":["chroma","color","colour","buffer","trails"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 m = iMouse.xy/iResolution.xy;\n    vec2 uv = fragCoord/iResolution.xy;\n   \n    //Chromatic Abberation Distance;\n    float a = .0;\n    \n    vec3 c = vec3(\n        \t\ttexture(iChannel0,uv-(m*a)).r,\n              \ttexture(iChannel0,uv).g,\n              \ttexture(iChannel0,uv+(m*a)).b\n    \t\t\t);\n \tc *= vec3(1., 0.75, 0.86);\n\tfragColor = vec4(c,1.);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"XdfGRr","filepath":"/media/a/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm","previewfilepath":"/media/ap/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm","type":"video","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    vec3 nb, ob, l, dist, c, cw, cr, cg, cb;\n    \n    // Trail length\n    l = vec3(0.95, 0.97, 0.99);\n    nb = vec3(texture(iChannel1,uv).rgb) * l;\n    ob = vec3(texture(iChannel0,uv).rgb) * l;\n    dist.r = distance(ob.r, nb.r);\n    dist.g = distance(ob.g, nb.b);\n    dist.b = distance(ob.b, nb.b);\n    \n    c = nb;\n    cw = nb;\n    cr = nb;\n    cg = nb;\n    cb = nb;\n    \n    //white trail\n    cw.rgb += dist;\n    \n    //red trail\n\tcr.r += dist.r;\n    cr.g = cr.r - dist.r;\n    cr.b = cr.r - dist.r;\n    \n    //green trail\n    cg.g += dist.g;\n    cg.r = cg.g - dist.g;\n    cg.b = cg.g - dist.g;\n    \n    //blue trail\n    cb.b += dist.b;\n    cb.r = cb.b - dist.b;\n    cb.g = cb.b - dist.b;\n    \n    c = clamp(vec3(cr.rg, cb.b), vec3(0.), vec3(1.));\n    fragColor = vec4(c, 1.);\n}","name":"Buffer A","description":"","type":"buffer"}]}