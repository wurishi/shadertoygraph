{"ver":"0.1","info":{"id":"WsycRh","date":"1602176667","viewed":1027,"name":"Technical collapse","username":"evvvvil","description":"Technical Collapse - Result of live shader coding performance at NODE - Forum for digital arts in Frankfurt.\nLive coded on stage in 30 minutes while chatting shit. Designed in about 4 hours.\nVideo of performance: https://youtu.be/ebF2oK1yvO8?t=23274\n","likes":44,"published":1,"flags":0,"usePreview":0,"tags":["demoscene","particles","glow","transition","wormhole","tech","technology","exp","vortex","scifi","techno","bend","industrial","techy"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//Technical Collapse - Result of live shader coding performance at NODE - Forum for digital arts in Frankfurt.\n//Live coded on stage in 30 minutes while chatting shit. Designed in about 4 hours.\n//Video of the live performance: https://youtu.be/ebF2oK1yvO8?t=23274\n\nvec2 z,v,e=vec2(.00035,-.00035);float t,tt,b,bb,g,gg;vec3 np,bp,pp,po,no,al,ld;\nfloat bo(vec3 p,vec3 r){p=abs(p)-r;return max(max(p.x,p.y),p.z);}\nmat2 r2(float r){ return mat2(cos(r),sin(r),-sin(r),cos(r));}\nvec2 mp( vec3 p,float ga )\n{\n    float ta=smoothstep(0.,1.,(clamp(sin(p.y*.01+tt*.5),-.25,.25)*2.+.5));\n    p=mix(p,p.xzy,ta);\n    pp=p;\n    pp=vec3(atan(pp.x,pp.z)*8.,abs(abs(pp.y)-25.)-7.,length(pp.xz)-5.-bb);\n    pp.yz-=.5*exp(pp.y*.1);\n    pp.yz*=r2(.3*exp(pp.y*.1));\n    pp.xy=mod(pp.xy+vec2(0,tt*5.),2.)-1.;\n    vec2 h,t=vec2(length(pp*vec3(1,.6,1))-.75,5); //PROJECTED SPHERES\n    t.x=min(t.x,length(pp.xz+vec2(0,2))-.5*sin(p.y*.2+tt*2.)); //TENTACLES\n    h=vec2(length(pp.yz)-1.,3);    //PROJECTED BLACK LINES\n    h.x=max(h.x,abs(abs(pp.y)-.3)-.15);\n    t=t.x<h.x?t:h; t.x*=0.7;\n    bp=p+vec3(0,sin(tt)*5.,0); ////////TOWER\n    bp.xz*=r2(tt-ta*3.1);\n    h=vec2(bo(bp,vec3(2.+bb,100,2)),8);  //MAIN GREY TOWER\n    vec2 d=vec2(bo(bp,vec3(1.8+bb,100,2.2)),6);   //YELLOW BIT\n    np=bp;\n    np.xy*=r2(.785*ta);\n    for(int i=0;i<5;i++){\n        np=abs(np)-2.;\n        np.yz*=r2(.785);\n        if(mod(float(i),2.)>0.)np.xz*=r2(.785*(bb+1.));\n        h.x=max(h.x,-(bo(np,vec3(.5,200,2.5))));\n        d.x=max(d.x,-(bo(np+vec3(2.,0,0),vec3(.7,200,2.5))));\n    }\n    t=t.x<h.x?t:h;\n    t=t.x<d.x?t:d;\n    h=vec2(bo(bp,vec3(1.+bb,100,1.)),3);\n    h.x=max(h.x,abs(np.y)-1.7);\n    t=t.x<h.x?t:h;\n    h=vec2(bo(bp,vec3(1.25+bb,100,.1)),7);   //GLOWY BIT\n    pp=p;\n    pp.xz*=r2(-ta*5.+tt-sin(p.y*.1)*.5);\n    pp.xz=abs(pp.xz)-2.-bb-cos(p.y*.1)*2.;\n    pp.y=mod(pp.y+tt*5.,3.)-1.5;\n    h.x=min(h.x,.8*length(pp));\n    g+=(0.1/(0.1+h.x*h.x*(100.-99.*sin(p.y*.1+tt+bb*6.))))*ga;\n    t=t.x<h.x?t:h;\n    return t;\n}\nvec2 tr( vec3 ro,vec3 rd )\n{\n    vec2 h,t=vec2(.1);\n    for(int i=0;i<128;i++){\n        h=mp(ro+rd*t.x,1.);\n        if(h.x<.0001||t.x>50.) break;\n        t.x+=h.x;t.y=h.y;\n    }\n    if(t.x>50.) t.y=0.;\n    return t;\n}\n#define a(d) clamp(mp(po+no*d,0.).x/d,0.,1.)\n#define s(d) smoothstep(0.,1.,mp(po+ld*d,0.).x/d)\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv=(fragCoord.xy/iResolution.xy-0.5)/vec2(iResolution.y/iResolution.x,1);\n    tt=mod(iTime,40.);\n    bb=max(0.,-3.+floor(tt*.25)+smoothstep(0.,1.,min(fract(tt*.25),.25)*4.));\n    b=smoothstep(0.,1.,clamp(sin(tt*.5),-.25,.25)*2.+.5);\n    vec3 ro=mix(vec3(sin(tt*.4)*5.,3,-15.-bb),vec3(sin(tt*.4)*15.-bb,10,-4),b);\n    vec3 cw=normalize(vec3(0)-ro),cu=normalize(cross(cw,vec3(0,1,0))),\n        cv=normalize(cross(cu,cw)),rd=mat3(cu,cv,cw)*normalize(vec3(uv,.5)),co,fo;\n    co=fo=vec3(.1,.12,.17)-length(uv)*.1-rd.y*.1;\n    ld=normalize(vec3(0.0,.3,-0.2));\n    z=tr(ro,rd);t=z.x;\n    if(z.y>0.){\n        po=ro+rd*t;\n        no=normalize(e.xyy*mp(po+e.xyy,0.).x+e.yyx*mp(po+e.yyx,0.).x+e.yxy*mp(po+e.yxy,0.).x+e.xxx*mp(po+e.xxx,0.).x);\n        al=vec3(.5);\n        if(z.y<5.)al=vec3(0.);\n        if(z.y>5.)al=vec3(1.,.5,0)*(2.-ceil(abs(sin(np.z-np.y))-.05)),no+=.5*ceil(sin(np.z-np.y)),no=normalize(no);\n        if(z.y>6.)al=vec3(1);\n        if(z.y>7.)al=vec3(.5)*(2.-ceil(abs(sin(np.z-np.y))-.05));\n        float dif=max(0.,dot(no,ld)),\n            fr=pow(1.+dot(no,rd),4.),\n            sp=pow(max(dot(reflect(-ld,no),-rd),0.),40.);\n        co=mix(sp+al*(a(.05)*a(.3)+.2)*(dif+s(5.)*.5),fo,min(fr,.5));\n        co=mix(fo,co,exp(-.00005*t*t*t));\n    }\n    co=mix(co,co.zyx,b);\n    co=mix(co,co.xzy,length(uv));\n    fragColor = vec4(pow(co+g*.2,vec3(.55)),1);\n}","name":"Image","description":"","type":"image"}]}