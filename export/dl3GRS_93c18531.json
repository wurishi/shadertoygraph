{"ver":"0.1","info":{"id":"dl3GRS","date":"1682601554","viewed":106,"name":"Simple Voronoi by CeruleanBoolea","username":"CeruleanBoolean141","description":"My first attempt at creating a Voronoi diagram shader.  \n\nThanks to FabriceNeyret2 for pointing out that the output was distorted.","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["voronoi"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//Created by CeruleanBoolean141 April 2023\n//rng function from ArtOfCode on YouTube\n\n\n\n//RGN function credit to ArtOfCode on YouTube\n//Returns vec2 of random values between 0 and 1\nvec2 rng(vec2 p){\n    vec3 a = fract(p.xyx*vec3(123.34, -234.45, 456.78));\n    a += dot(a, a + 55.43);\n    return fract(vec2(a.x*a.y , a.y*a.z));\n}\n\n//returns manhattan distance.  Can create visual artifacts when two cells \"compete\" for pixels\nfloat manhattan(vec2 a, vec2 b){\n    return abs(a.x - b.x) + abs(a.y - b.y);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.x;\n    \n    //speed of seed movement\n    vec2 pCoord = vec2(0.0, 0.0); //coord of point\n    float smallDist = 1.0;\n    for(float i = -0.2; i <= 1.6; i = i + .1){\n        for(float j = -0.1; j <= 1.6; j = j + .1){            \n            vec2 offset = 0.8*sin(rng(vec2(i,j)) * 0.05 * iTime);            \n            float d = distance(uv, vec2(i+offset.x, j-offset.y));\n            if(d < smallDist){\n                smallDist = d;\n                pCoord = vec2(float(i)+.1,float(j)+.1);\n            }\n        }\n    }\n    \n    // Time varying pixel color\n    vec3 col = fract(vec3(pCoord.x, pCoord.y, pCoord.y)*vec3(3.01,3.00,3.05)) \n            - 2.0*(sqrt(0.2*smallDist));\n    if(smallDist < 0.0015){ //color points \n        col = 2.*col;//vec3(1,1,1);\n    }\n    \n    \n    \n    // Output to screen\n    fragColor = vec4(col,1.0);\n}\n\n\n","name":"Image","description":"","type":"image"}]}