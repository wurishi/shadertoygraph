{"ver":"0.1","info":{"id":"3dKSRV","date":"1574445637","viewed":175,"name":"Uzumaki audio visualizer","username":"carrotflakes","description":":)","likes":7,"published":1,"flags":64,"usePreview":0,"tags":["audio"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"ltfGWl","filepath":"https://soundcloud.com/carrotflakes/rude-buster","previewfilepath":"https://soundcloud.com/carrotflakes/rude-buster","type":"musicstream","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":0}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float DPI = 3.14159265 * 2.0;\nfloat RES = 24.0;\nfloat N = 9.0;\n\nvec3 hsv(float h, float s, float v){\n    vec4 t = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n    vec3 p = abs(fract(vec3(h) + t.xyz) * 6.0 - vec3(t.w));\n    return v * mix(vec3(t.x), clamp(p - vec3(t.x), 0.0, 1.0), s);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    \n    float cu = -(uv.x - 0.5) * iResolution.xy.x / iResolution.xy.y;\n    float cv = uv.y - 0.5;\n    float r = sqrt(cu * cu + cv * cv);\n    float t = atan(cu, cv);\n\n    float uzu = r * (N + 1.0) * 2.0 + mod(t / DPI, 1.0);\n    float i = (floor(uzu) - mod(t / DPI, 1.0)) / N;\n    float j = pow(2.0, i * N - 2.0) * 1.049 / RES;\n\tfloat fft  = 0.001 < j && j < 1.0 ? texture( iChannel0, vec2(j, 0.0) ).x : 0.0;\n\tfloat v = 1.0 - abs(0.5 - mod(uzu, 1.0)) * 2.0;\n    float vv = pow(fft, 4.0) * v * 1.5;\n\t\n    //vec3 col = vec3(vv, i, v);\n    //vec3 col = vec3(vv, vv * 5.0 - 4.0, vv * 8.0 - 7.0);\n    vec3 col = hsv(max(0.0, 1.0 - vv), 0.5, vv);\n\n\t//float wave = texture( iChannel0, vec2(uv.x, 0.0) ).x;\n\t//col += 1.0 - smoothstep( 0.0, 0.015, abs(wave - uv.y) );\n    \n\tfragColor = vec4(col,1.0);\n}\n","name":"Image","description":"","type":"image"}]}