{"ver":"0.1","info":{"id":"43lfW7","date":"1728478198","viewed":26,"name":"colored drops","username":"Cachenn","description":"!","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["coloreddrops"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float falloff(float x){\n    x = clamp(0., 1., x);\n    return pow(1. - pow(x, 8.), 80.3);\n}\n\nvec2 getOrigin(vec2 id, float t){\n    return vec2(.3) + vec2(sin(t + id.y * 23.3 * id.y * 80.9 + id.y * 5.), cos(t + id.x * 79.1 + id.x));\n}\n\n\nvec3 getColor(vec2 id, float t) {\n    float gradientFactor = 0.5 + 0.5 * sin(id.x + id.y + t);\n    vec3 purple = vec3(0.6, 0.0, 1.0);\n    vec3 blue = vec3(0.0, 0.0, 1.0);   \n    return mix(purple, blue, gradientFactor); \n}\n\nvec3 MetaballLayer(vec2 uv, float t, float s){\n    vec3 m = vec3(0);\n    vec3 col = vec3(0);\n    vec2 gv = fract(uv * s); \n    \n    for (float x = -5.; x <= 2.; x++){\n        for (float y = -5.; y <= 2.; y++){\n            vec2 offset = vec2(x, y);\n     \n            vec2 id = ((uv * s) - gv) + offset; \n            vec2 o = getOrigin(id, t);\n            vec2 d = (gv - offset) - o; \n            float r = length(d); \n            r = falloff(r * 1.3 + 0.2 * cos(id.x * id.y)); \n            m += getColor(id, t) * r; \n        }\n    }\n    \n    col = m;\n    if (length(m) > 0.6) {\n       col = normalize(m);  \n    }\n    return col;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord - 0.2 * iResolution.xy) / iResolution.y;\n    \n    vec3 col = vec3(0.5);\n    \n    float t = 0.5 * iTime; \n    float size = 2.0 + 3.0 * cos(t * 0.2); \n    \n   \n    float c = cos(t * 0.5);\n    float s = sin(t * 0.5);\n    mat2 rot = mat2(c, s, -s, c);\n    \n    col = 1.3 * MetaballLayer(uv * rot, t, size); \n    \n    fragColor = vec4(col, 1.0); \n}","name":"Image","description":"","type":"image"}]}