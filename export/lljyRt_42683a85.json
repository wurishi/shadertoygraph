{"ver":"0.1","info":{"id":"lljyRt","date":"1515723255","viewed":258,"name":"Sphere Experiment","username":"Xor","description":"I was playing with worley noise and came up with this fake 3D sphere effect. Sorry that the code is kind of messy. It's just for fun and not really serious.","likes":16,"published":1,"flags":0,"usePreview":0,"tags":["spheres","worley","striped"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec3 Hash(vec2 n)\n{\n \treturn fract(cos(n.x*vec3(17,15,14)+n.y*vec3(-13,17,-13))*vec3(947,892,1003));\n}\nvec2 Worley(vec2 n,float s)\n{\n \tfloat Distance = 1.;\n    float Index = 0.;\n\n    for(int X = -1;X<=1;X++)\n\tfor(int Y = -1;Y<=1;Y++)\n    {\n        vec3 Cell = Hash(floor(n)-vec2(X,Y));\n        float Length = pow(length(vec2(X,Y)-Cell.xy+fract(n)),2.);\n        if ((fract(Cell.z+s)<.2) && (Length<Distance))\n        {\n        \tDistance = Length;\n            Index = Cell.x;\n        }\n    }\n    return vec2(Distance,Index);\n}\nvoid mainImage(out vec4 Color,in vec2 Coord)\n{\n    float S = 400./iResolution.y;\n    vec2 B1 = Worley((Coord/24.+iTime)*S,0.);\n    vec2 B2 = Worley((Coord/48.+iTime/1.8)*S,.3);\n    vec2 B3 = Worley((Coord/72.+iTime/2.6)*S,.8);\n    \n    float D1 = 1.-B1.x;\n    float D2 = 1.-B2.x/.8;\n    float D3 = 1.-B3.x/.7;\n    \n    float C1 = smoothstep(.5,.49,B1.x);\n    float C2 = smoothstep(.5,.49,B2.x);\n    float C3 = smoothstep(.5,.49,B3.x);\n\n    float L1 = mix(min(pow(max(B1.x-.49,.01),.25)+.1,1.),D1,C1);\n    float L2 = mix(min(pow(max(B2.x-.49,.01),.25)+.1,1.),D2,C2);\n    float L3 = mix(min(pow(max(B3.x-.49,.01),.25)+.1,1.),D3,C3);    \n    float Light = min(min(L1+C2,1.)*L2+C3,1.)*L3;\n    float Height = (D1*(C1)*(1.-C2)+C2*D2)*(1.-C3)+C3*D3;\n    float Type = (B1.y*(C1)*(1.-C2)+C2*B2.y)*(1.-C3)+C3*B3.y;\n   \t\n    float Stripe = S*Coord.x/256.+S*Coord.y/96.+2.*Height+.3*iTime;\n    vec3 Col1 = vec3(.7,.5,.4)+vec3(.3,.7,.6)*cos(Type+floor(Stripe));\n    vec3 Col2 = vec3(.7,.5,.4)+vec3(.3,.7,.6)*cos(Type+floor(Stripe+.01));\n    vec3 Col = mix(Col1,Col2,smoothstep(.99,1.,fract(Stripe)));\n\tColor = vec4(Col*Light,1);\n}","name":"Image","description":"","type":"image"}]}