{"ver":"0.1","info":{"id":"sdtfDf","date":"1657490883","viewed":71,"name":"Simple Domain distortion","username":"bagidea","description":"Simple Domain distortion","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["tutorial"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float Band(float t, float start, float end, float blur)\n{\n    float s1 = smoothstep(start - blur, start + blur, t);\n    float s2 = smoothstep(end + blur, end - blur, t);\n    \n    return s1 * s2;\n}\n\nfloat Rect(vec2 uv, float l, float r, float b, float t, float blur)\n{\n    float b1 = Band(uv.x, l, r, blur);\n    float b2 = Band(uv.y, b, t, blur);\n\n    return b1 * b2;\n}\n\nfloat remap01(float a, float b, float t) { return (t - a) / (b - a); }\nfloat remap(float a, float b, float c, float d, float t) { return remap01(a, b, t) * (d - c) + c; }\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Setup screen\n    vec2 uv = fragCoord / iResolution.xy;\n    uv -= 0.5f;\n    uv.x *= iResolution.x / iResolution.y;\n    \n    //float c = smoothstep(-0.2f, 0.2f, uv.x);\n    //float c = Band(uv.x, -0.2f, 0.2f, 0.01f);\n    //c -= Band(uv.x, 0.2f, 0.2f, 0.01f);\n    \n    //float c = Rect(uv, -0.2f, 0.2f, -0.3f, 0.3f, 0.01f);\n    \n    float x = uv.x;\n    float y = uv.y;\n    \n    //float m = ((x - 0.5f) * (x + 0.5f));\n    //y -= m * m * 4.0f;\n    \n    float m = sin(iTime + x * 8.0f) * (x * 0.5f);\n    y += m;\n    \n    //float blur = 0.01f;\n    float blur = remap(-1.0f, 1.0f, 0.01f, 0.15f, x) + 0.1f;\n    blur = pow(blur * 4.0f, 3.0f);\n    \n    float c = Rect(vec2(x, y), -1.0f, 1.0f, -0.1f, 0.1f, blur);\n    \n    // Color\n    vec3 col = vec3(x + 0.5f, 1.0f + y, 1.0f + x * y) * 2.0f;\n    \n    fragColor = vec4(col * c, 1.0f);\n}","name":"Image","description":"","type":"image"}]}