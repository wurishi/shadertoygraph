{"ver":"0.1","info":{"id":"MstXzf","date":"1460709880","viewed":535,"name":"plasma ball in space","username":"diviaki","description":"whatever","likes":9,"published":1,"flags":0,"usePreview":0,"tags":["coldcheap"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XdfGRn","filepath":"/media/a/e6e5631ce1237ae4c05b3563eda686400a401df4548d0f9fad40ecac1659c46c.jpg","previewfilepath":"/media/ap/e6e5631ce1237ae4c05b3563eda686400a401df4548d0f9fad40ecac1659c46c.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec3 hb(vec2 pos, float t, float time, vec2 rot, float size, sampler2D tex0)\n{\n   \tvec2 newUv = 0.2*(pos/(1.2-t)+0.5*time*rot);\n\tfloat texSample = texture( tex0, newUv ).b;\n\tfloat uOff = 0.2*(texSample + 0.3*time);     //lsf3RH\n\tvec2 starUV = newUv + vec2( uOff, 0.0 );\n\treturn vec3(0.3,0.3,1.0)+1.3*texture( tex0, starUV ).b;\n}\n\nvec4 blob(vec2 uv, float size, float time, sampler2D tex0)\n{\n    vec2 center = vec2(0.,0.);\n\n    vec2 pos = center-uv;\n\tfloat t = length(pos);\n\tfloat st = size-t;\n\n   \tvec2 rot = 0.005*vec2(sin(time / 16.), sin(time / 12.)); //MslGWN\n\n\tfloat alpha = smoothstep(0.0, 0.2*size, st);\n    \n\tvec3 col = hb(pos,t,time,rot,size,tex0);\n    float a1 = smoothstep(-1.4, -1.0,-col.b);\n    col= mix( col, hb(pos,t,-time,-rot,size,tex0), a1);\n        \n    col+=0.8*exp(-12.*abs(t-0.8*size)/size); \n    float a2 = smoothstep(-1.4, -1.0,-col.b);\n\n   \talpha -= a2;\n\n\tfloat crosshair=float((abs(pos.x)<0.005 && abs(pos.y)<0.15) || (abs(pos.y)<0.005&&abs(pos.x)<0.15));    \n\n\treturn vec4(col,alpha)+crosshair;\n}\n\nvec4 main_(vec2 uv, float size)\n{   \n\treturn blob(uv,size,iTime,iChannel0);\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n\tvec2 cr = uv*2.-1.;\n    cr.x*=iResolution.x/iResolution.y;\n \n    //late addition to elaborate background motion, could be reused later on\n    vec2 rot = 0.5*vec2(sin(iTime / 16.), sin(iTime / 12.));\n\n    vec4 ball = clamp(main_(cr, sin(iTime)*0.05+0.5+0.5),0.,1.);\n    vec3 bg = vec3(0.7,0.7,1.0)*texture(iChannel0, uv+rot+0.1*ball.rb).b;\n  \n    //simulated gl blend\n    fragColor = vec4(mix(bg,ball.rgb,ball.a),1.0);\n}","name":"Image","description":"","type":"image"}]}