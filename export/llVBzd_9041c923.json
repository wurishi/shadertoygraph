{"ver":"0.1","info":{"id":"llVBzd","date":"1543721398","viewed":124,"name":"Julia flow","username":"rory618","description":"Feedback generated julia set with seed slowly following along the main cardioid and first bulb of the mandelbrot set in a figure 8 pattern.","likes":4,"published":1,"flags":32,"usePreview":0,"tags":["fractal","julia","multipass"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    fragColor = vec4(0);\n    fragColor += texture(iChannel0,(fragCoord)/iResolution.xy)*4.;\n    fragColor += texture(iChannel0,(fragCoord+vec2(1,0))/iResolution.xy)*2.;\n    fragColor += texture(iChannel0,(fragCoord+vec2(0,1))/iResolution.xy)*2.;\n    fragColor += texture(iChannel0,(fragCoord+vec2(-1,0))/iResolution.xy)*2.;\n    fragColor += texture(iChannel0,(fragCoord+vec2(0,-1))/iResolution.xy)*2.;\n    fragColor += texture(iChannel0,(fragCoord+vec2(1,1))/iResolution.xy);\n    fragColor += texture(iChannel0,(fragCoord+vec2(-1,-1))/iResolution.xy);\n    fragColor += texture(iChannel0,(fragCoord+vec2(-1,1))/iResolution.xy);\n    fragColor += texture(iChannel0,(fragCoord+vec2(1,-1))/iResolution.xy);\n    fragColor /= fragColor.w/2.;\n    fragColor = pow(fragColor,vec4(.7));\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"#define scale 3.2\n#define I vec2(0,1)\n#define R vec2(1,0)\n#define PI 2.*asin(1.)\n#define E exp(1.)\n#define r iResolution\n#define pi 3.14159265\n//cproj\nfloat creal(vec2 z) {\n    return z.x;\n}\nfloat cimag(vec2 z) {\n    return z.y;\n}\nvec2 conj(vec2 z) {\n    return vec2(z.x,-z.y);\n}\nvec2 cprod(vec2 a, vec2 b){\n    return mat2(a,-a.y,a.x) * b;\n}\nvec2 csqr(vec2 a){\n    return cprod(a,a);\n}\nvec2 cis(float t){\n    return cos(t - I*PI/2.);\n}\nvec4 sharpen( in vec2 uv )\n{\n    \n\tvec2 s = 1.0 / iResolution.xy;\n\t\n\tvec3 texA = texture( iChannel0, uv + vec2(-s.x, -s.y) * 1.5 ).rgb;\n\tvec3 texB = texture( iChannel0, uv + vec2( s.x, -s.y) * 1.5 ).rgb;\n\tvec3 texC = texture( iChannel0, uv + vec2(-s.x,  s.y) * 1.5 ).rgb;\n\tvec3 texD = texture( iChannel0, uv + vec2( s.x,  s.y) * 1.5 ).rgb;\n   \n    vec3 around = 0.25 * (texA + texB + texC + texD);\n\tvec3 center  = texture( iChannel0, uv ).rgb;\n\t\n\tfloat sharpness = 1.0;\n    \n\tvec3 col = center + (center - around) * sharpness;\n\t\n    col = tanh(col);\n    \n    return mix(vec4(col,1.0),texture(iChannel0,uv),.7);\n}\n\nvec4 t(vec2 c){\n    return sharpen((r.xy/2.+c*r.y/scale)/r.xy);\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    vec2 c = (fragCoord - r.xy/2.)/r.y*scale;\n    float tm = iTime/20.;\n    vec2 p = cis(tm)/2.;\n    vec2 seed = -p-csqr(-p);\n    if(mod(tm/pi/2.,2.)<1.){\n    \tseed = conj(p)/2.-R;\n    }\n    vec2 s = csqr(c) + seed;\n    if(length(s)<2.){\n    \tfragColor = t(s );\n    } else {\n        fragColor.xyz = 0.25 + 0.25*cos(iTime+uv.xyx+vec3(0,2,4));\n    }\n    \n    fragColor.xy = cprod(fragColor.xy-.5,cis(.14))+.5;\n    fragColor.yz = cprod(fragColor.yz-.5,cis(.13))+.5;\n    fragColor.zx = cprod(fragColor.zx-.5,cis(.12))+.5;\n    fragColor = mix(fragColor,texture(iChannel1,fragCoord/iResolution.xy),.2);\n}","name":"Buffer A","description":"","type":"buffer"}]}