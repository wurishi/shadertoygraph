{"ver":"0.1","info":{"id":"XcV3Dz","date":"1712616839","viewed":240,"name":"Proton Scattering","username":"wyatt","description":"Scattering of a proton beam","likes":31,"published":3,"flags":32,"usePreview":0,"tags":["physics"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4sXGR8","filepath":"/media/previz/buffer02.png","previewfilepath":"/media/previz/buffer02.png","type":"buffer","channel":2,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"Main {\n    float p = 0.;\n    for (float i = 0.; i < N; i++) {\n        \n        p += 1./length(U-A(.5+vec2(i,0)).xy);\n    }\n    \n    Q = sin(-2.+B(U).x+p+vec4(1,2,3,4));\n    Q.yz -= .2*C(U).x;\n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"#define N 80.\n#define R iResolution.xy\n#define A(U) texture(iChannel0,(U)/R)\n#define B(U) texture(iChannel1,(U)/R)\n#define C(U) texture(iChannel2,(U)/R)\n#define Main void mainImage(out vec4 Q, in vec2 U)","name":"Common","description":"","type":"common"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"Main {\n    Q = A(U);\n    \n    vec4 n = B(Q.xy+vec2(0,1));\n    vec4 e = B(Q.xy+vec2(1,0));\n    vec4 s = B(Q.xy-vec2(0,1));\n    vec4 w = B(Q.xy-vec2(1,0));\n    \n    vec2 g = vec2(e.x-w.x,n.x-s.x);\n    \n    Q.zw += -3.*g;\n    Q.xy += g+3.*Q.zw*inversesqrt(1.+dot(Q.zw,Q.zw));\n    \n    if (iFrame < 1) {\n        \n        Q = vec4(-U.x*50.,sin(U.x)*10.+.5*R.y,20,0);\n        \n    }\n}","name":"Buffer A","description":"","type":"buffer"},{"inputs":[],"outputs":[{"id":"XsXGR8","channel":0}],"code":"Main {\nQ = vec4(0);\n    if (U.x >.5*R.x) {\n        U.y += 10.*floor(U.x/20.);\n        U = mod(U,20.)-10.;\n\n        Q.x = 4./length(U)-1./(4.+length(U));\n    }\n}","name":"Buffer B","description":"","type":"buffer"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4sXGR8","filepath":"/media/previz/buffer02.png","previewfilepath":"/media/previz/buffer02.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4sXGR8","channel":0}],"code":"Main {\n    float p = 0.;\n    for (float i = 0.; i < N; i++) {\n        \n        p += 1./length(U-A(.5+vec2(i,0)).xy);\n    }\n    \n    Q = max(B(U),p);\n\n}","name":"Buffer C","description":"","type":"buffer"}]}