{"ver":"0.1","info":{"id":"WlGyWw","date":"1611687841","viewed":78,"name":">DATASTREAM_","username":"vlams1","description":"Information flowing through space","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["raymarcher"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define IT 128\n#define MD 30.\n\nvec3 C;\n\nmat2 r(float a) {\n    float s = sin(a);\n    float c = cos(a);\n    return mat2(c,s,-s,c);\n}\n\nfloat dist(vec3 p) {\n    return length((mod(p,2.)-1.).xz);\n}\n\nfloat h31(vec3 p) {\n    p += dot(p,abs(p)+3817.34);\n    p = fract(sin(p)*5823.35);\n    return fract(p.x*-p.y+p.y*-p.z+dot(p,p.yzx+336.33));\n}\n\nfloat n31(vec3 p) {\n    p.y += iTime*(h31(floor(p/2.)*vec3(1,0,1))*2.+1.);\n    vec3 s = floor(p/2.);\n    return mix(h31(s),h31(s+vec3(0,1,0)),mod(p.y/2.,1.));\n}\n\nvoid raymarch(vec3 p, vec3 d, float l) {\n    for (int i; i<IT; i++) {\n        vec3 s = p+d*l;\n        float d = dist(s);\n        C += exp(d*-50.)*(pow((MD-(l))/MD,5.)) * (smoothstep(.6,.61,n31(s))+.03);\n        l += d*.3;\n    }\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    vec2 uv = (fragCoord-.5*iResolution.xy)/iResolution.y;\n    vec3 p = vec3(0,0,0);\n    vec3 d = normalize(vec3(uv,1));\n    d.xz *= r(iTime*.2);\n    raymarch(p,d,.01);\n    fragColor = vec4(C,1);\n}","name":"Image","description":"","type":"image"}]}