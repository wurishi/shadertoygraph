{"ver":"0.1","info":{"id":"cltBRM","date":"1701089274","viewed":32,"name":"HueJazz","username":"MV10","description":"Simple hue rotation. Cheap post-FX used by my music viz program. Haven't decided how to deal with saturation yet... saturation is less of an issue when applied to running, changing \"primary\" shader outputs (plug in Britney or Van Damme video to see).","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["color","hsv","hue","hsl"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// https://www.shadertoy.com/view/tstcDX\nvec3 rgb2hsv(vec3 c)\n{\n    const vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\n    vec4 p = mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g));\n    vec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r));\n\n    float d = q.x - min(q.w, q.y);\n    const float e = 1.0e-10;\n    return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);\n}\n\n// https://www.shadertoy.com/view/tstcDX\nvec3 hsv2rgb(vec3 c)\n{\n    const vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n    vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n    return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    vec3 tex = texture(iChannel0, uv).rgb;\n\tvec3 hsv = rgb2hsv(tex);\n\tfloat hue = hsv.x + abs(sin(iTime * 0.2));\n    float sat = max(0.5, hsv.y);\n    vec3 rgb = hsv2rgb(vec3(hue, sat, hsv.z));\n\tfragColor = vec4(rgb, 1.0);\n}","name":"Image","description":"","type":"image"}]}