{"ver":"0.1","info":{"id":"XldGWf","date":"1472110856","viewed":117,"name":"GreenScreenHasBeen","username":"Siberias","description":"Replaces the green of a source with another source","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["2d","filter"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sX3Rn","filepath":"/media/a/c3a071ecf273428bc72fc72b2dd972671de8da420a2d4f917b75d20e1c24b34c.ogv","previewfilepath":"/media/ap/c3a071ecf273428bc72fc72b2dd972671de8da420a2d4f917b75d20e1c24b34c.ogv","type":"video","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XdfGRr","filepath":"/media/a/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm","previewfilepath":"/media/ap/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 xy = fragCoord.xy / iResolution.xy;\n\tvec4 texColour = texture(iChannel0, xy);\n    vec4 replaceColour = texture(iChannel1, xy);\n    \n    float chroma = (texColour.g + texColour.r + texColour.b);\n    \n\tfloat greenPercentage = texColour.g / chroma;\n    float bluePercentage  = texColour.b / chroma;\n    float redPercentage   = texColour.r / chroma;\n    \n    //Flip this to true to see a ghosted effect that uses green percentage to interpolate\n    //between the 2 videos\n    bool ghosted = false;\n    \n    if(ghosted)\n    {\n    \ttexColour.r = (texColour.r * (1.0 - greenPercentage)) + (replaceColour.r * greenPercentage);\n    \ttexColour.g = (texColour.g * (1.0 - greenPercentage)) + (replaceColour.g * greenPercentage);\n    \ttexColour.b = (texColour.b * (1.0 - greenPercentage)) + (replaceColour.b * greenPercentage);\n    }\n    else\n    {\n        //Play with the numbers to tweak the effect\n        if(greenPercentage > 0.39 && bluePercentage < 0.39 && redPercentage < 0.39)\n        {\n            texColour.r = replaceColour.r;\n            texColour.g = replaceColour.g;\n            texColour.b = replaceColour.b;\n        }\n    }\n    \n    fragColor = texColour;\n}","name":"Image","description":"","type":"image"}]}