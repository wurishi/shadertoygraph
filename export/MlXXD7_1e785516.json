{"ver":"0.1","info":{"id":"MlXXD7","date":"1437076173","viewed":526,"name":"Fisheye fiddle","username":"such","description":"Fiddling","likes":3,"published":1,"flags":2,"usePreview":0,"tags":["2d","fisheye"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sf3zn","filepath":"/presets/webcam.png","previewfilepath":"/presets/webcam.png","type":"webcam","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[],"code":"vec2 mapping(vec2 p) {\n    float org_fov = radians(90.0);\n    float focal_length = (-0.5+sin(iTime * 2.0)) * 0.34;\n\n    float theta = length(2.0*p)*org_fov*0.5;\n    \n    // displacement\n    float r = focal_length * sin(theta);\n    \n    return p + normalize(p)*r;\n}\n\nvec2 mapping2(vec2 p) {\n    float L = length(p);\n    float w = 0.01;\n    float r = 6.164 / pow(L*45./w,0.8) - 0.164;\n    return p + normalize(p)*r;\n}\n\nvec2 mapping3(vec2 p) {\n    float focal_length = (-0.5+sin(iTime * 2.0)) * 0.034;\n\n    float theta = 14.0*length(p);\n    \n    // displacement\n    float r = focal_length * sin(theta);\n    \n    return p + normalize(p)*r;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    float aspectRatio = iResolution.x / iResolution.y;\n\n    vec2 coords = uv;\n    coords = coords - 0.5;\n    coords.x *= aspectRatio;\n\n    vec2 xy = mapping(coords);\n\t\t\n    fragColor = texture(iChannel0, 0.5+xy);\n}\n","name":"","description":"","type":"image"}]}