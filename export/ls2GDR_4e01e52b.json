{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"vec2 rot(vec2 p, float r)\n{\n\treturn vec2(\n\t\tcos(r) * p.x - sin(r) * p.y,\n\t\tsin(r) * p.x + cos(r) * p.y);\n}\n\nfloat siso(vec3 p)\n{\n\tfloat h = iTime * 1.5 + sin(iTime * 1.3) * 0.3;\n\tfloat k = 0.05;\n\tvec2  m = vec2(6, 5);\n\tvec2  b = vec2(1, 0.5);\n\tfor(int i = 0 ; i < 3; i++)\n\t{\n\t\tp.xz += vec2(\n\t\t\tcos(p.y * m.x + h * b.x),\n\t\t\tsin(p.y * m.y + h * b.x)) * k;\n\t\tk *= 13.0 + sin(h);\n\t\tm = -m.yx * 0.125;\n\t\tb = -b.yx * 1.07;\n\t\th *= 1.5;\n\t}\n\treturn length(mod(p.xz, 60.0) - 30.0) - 3.0;\n}\n\nfloat iso(vec3 p)\n{\n\treturn min(siso(p.zxy + 15.0), min(siso(-p.xzy), siso(-p + 15.0)));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n\tfloat h = iTime;\n\n\tvec2 uv  = -1.0 + 2.0 * ( fragCoord.xy / iResolution.xy );\n\tvec3 pos = vec3(0, 0, h*30.0);\n\tvec3 dir = normalize(vec3(uv * vec2(iResolution.x / iResolution.y, -1.0), 1.0));\n\n\tdir.yz = rot(dir.yz, h * 0.1 + iMouse.y * 0.01);\n\tdir.xy = rot(dir.xy, h * 0.1 + iMouse.x * 0.01);\n\n\tfloat t = 0.0;\n\n\tfor(int i = 0 ; i < 50; i++)\n\t\tt += iso(dir * t + pos) * 0.9;\n\n\tvec3 ip  = t * dir + pos;\n\n\tvec3 col = vec3(t * 0.0005 + abs(iso(ip + 0.05)) ) * vec3(5, 2, 1);\n\n\tcol = sqrt(col + dir * 0.2);\n\tfragColor = vec4(col * (1.0 - pow(dot(uv*uv, uv*uv), 4.0)), 1.0);\n\n}\n","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"ls2GDR","date":"1386459340","viewed":1182,"name":"cune","username":"gyabo","description":"cunecune test.","likes":24,"published":1,"flags":0,"usePreview":0,"tags":["raymarching"],"hasliked":0,"parentid":"","parentname":""}}