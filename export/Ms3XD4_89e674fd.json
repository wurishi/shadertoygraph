{"ver":"0.1","info":{"id":"Ms3XD4","date":"1459294136","viewed":184,"name":"Square texture","username":"co3moz","description":"Nah, just another simple square example","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["2d","texture"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XsXGRn","filepath":"/media/a/cd4c518bc6ef165c39d4405b347b51ba40f8d7a065ab0e8d2e4f422cbc1e8a43.jpg","previewfilepath":"/media/ap/cd4c518bc6ef165c39d4405b347b51ba40f8d7a065ab0e8d2e4f422cbc1e8a43.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// co3moz\n// rotating and translating square example 2\n\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord ) {\n\tmat2 rotation = mat2(cos(iTime), -sin(iTime), sin(iTime), cos(iTime)); // this is a 2D rotation matrix\n\tvec2 aspect = iResolution.xy / min(iResolution.x, iResolution.y); // for squared tiles, we calculate aspect\n\tvec2 position = (fragCoord.xy / iResolution.xy) * aspect; // position of pixel we need to multiply it with aspect, so we get squared tiles\n\tvec2 center = vec2(0.5) * aspect; // 0.5 is center but we need to multiply it with aspect (0.5 isn't center for squared tiles)\n\t\n\tposition *= rotation; // rotation of main position\n\tcenter *= rotation; // we should rotate center to\n\t\n\tcenter += vec2(sin(iTime * 2.0), -cos(iTime * 2.0)) / 10.0; // translate the square\n\t\n\tfloat size = 0.25; // size of square\n\tfloat border = 0.005; // border of square\n\t\n\tfloat lengthX = length(position.x - center.x); // distance between position and center but only for x-axis\n\tfloat lengthY = length(position.y - center.y); // distance between position and center but only for y-axis\n\t\n\tfragColor = vec4(vec3(((lengthX < size + border && lengthX > size - border) || (lengthY < size + border && lengthY > size - border)) && (lengthX + lengthY < size * 2.0)) * texture(iChannel0, position).xyz, 1.0);\n}","name":"Image","description":"","type":"image"}]}