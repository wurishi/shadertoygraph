{"ver":"0.1","info":{"id":"lfc3DH","date":"1711629386","viewed":286,"name":"Event horizon telescope","username":"vegardno","description":"Inspired by the EHT pictures of M87* and SgtA*: https://eventhorizontelescope.org/","likes":16,"published":1,"flags":0,"usePreview":1,"tags":["blackhole","reproduction"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sfGRn","filepath":"/media/a/fb918796edc3d2221218db0811e240e72e340350008338b0c07a52bd353666a6.jpg","previewfilepath":"/media/ap/fb918796edc3d2221218db0811e240e72e340350008338b0c07a52bd353666a6.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord - .5 * iResolution.xy) / iResolution.y;\n    \n    float v = 0.;\n\n    // faint red ring\n    v += .2 * smoothstep(.3, 0., abs(length(uv) - .2) - .01);\n\n    // blobs\n    const float ao[4] = float[](-.07, .53, -1.25, -.65);\n    const float r[4] = float[](.17, .3, .3, .4);\n    const float f[4] = float[](1.2, .9, .6, .2);\n\n    for (int i = 0; i < 4; ++i) {\n        float a = 3. * radians(-30.) * r[i] * iTime + radians(360.) * ao[i];\n        vec2 pos = r[i] * vec2(cos(a), sin(a));\n        v += f[i] * smoothstep(1.02, 0., length(uv - pos) + .5);\n    }\n    \n    // black center\n    v -= .35 * smoothstep(.35, .1, abs(length(uv)) + .03);\n\n    // polarization\n    {\n        uv += .05 * sin(5. * uv + radians(90.));\n    \n        float a = .5 + atan(uv.y, uv.x) / radians(360.);\n        float r = length(uv);\n        \n        float p = 20. * (.5 * radians(360.) * (a + .1 * iTime) + radians(360.) * (r - .5) * (r - .5));\n        \n        float vm = smoothstep(0., .3, r)\n            * smoothstep(.5, .1, r)\n            * (.5 + 100. * texture(iChannel0, vec2(.5 + .5 * sin(.1*p), .5 + .1 * r + .007 * iTime)).r);\n        v = v * (1. + .01 * vm) + .0 * vm;\n    }\n\n    // colorize\n    vec3 col = smoothstep(vec3(-.2, 0., .45), vec3(.55, 1., 1.05), vec3(v));\n    fragColor = vec4(col, 1.);\n}","name":"Image","description":"","type":"image"}]}