{"ver":"0.1","info":{"id":"ltcyRS","date":"1532975228","viewed":144,"name":"blue parallel illusion","username":"amanatsu_knit","description":"shader practice : blue parallel lines optical illusion","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["2d"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//  reference1 : kaneta\n//  reference2 : 楽しい！Unityシェーダーお絵描き入門！\n//  https://docs.google.com/presentation/d/1NMhx4HWuNZsjNRRlaFOu2ysjo04NgcpFlEhzodE8Rlg/edit#slide=id.p\n//  reference3 : blue parallel lines optical illusion\n//  http://brainden.com/line-illusions.htm\n#define PI 3.14159265359\n\nmat2 rotate(float angle)\n{\n\tfloat c = cos(angle), s = sin(angle);\n\treturn mat2(c, s, -s, c);\n}\n\nvec4 diamond(vec2 uv, vec2 pos, float size, vec2 id)\n{   \n\tuv -= pos;\n\tuv *= 1.0 / size;\n\tuv = rotate((PI/4.0))*uv;\n    if (1.0 - step( 2.0, mod(id.y + 1.0 + id.x * 2.0, 4.0)) == 1.0) {\n        uv = rotate(PI / 2.0) * uv;\n    }\n\n\tfloat d = PI * 2.0;\n\tfloat s = step(0.0, sin(uv.x * d) * sin(uv.y * d));\n\tvec4 col =  vec4(vec3(s), 1.0);\n\t\n\tif (uv.x > 0.5 || uv.x < -0.5 || uv.y > 0.5 || uv.y < -0.5 ){\n\t\tcol.a = 0.0;\n\t}\n\n\treturn col;\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n\tvec2 uv = fragCoord / vec2(512, 512);\n\tfloat n = 6.0;\n    float d = 1.0 / (n * 2.0) / 2.0;\n\t\n\tfloat l1 =step(0.5, fract((uv.y + d) * n));\n\tfloat l2 =step(0.5, fract((uv.x + d) * n));\n    float l3 = step(0.5, fract((uv.x) *  n));\n    vec4 l4 = vec4(l1+0.2, l3+0.6, l3+1.0, 1.0);\n\tvec4 grid = mix(l4, vec4(l2, l2, l2, 1.0), l1);\n\n\tfloat size = 0.3;\n\tn *=  2.0;\n\tvec2 st = fract(uv * n);\n\tvec2 id = floor(uv * n);\n\tvec4 dia = diamond(st,vec2(0.5),size,id);\n\t\n\tfragColor = mix(grid, dia, dia.a);\n}","name":"Image","description":"","type":"image"}]}