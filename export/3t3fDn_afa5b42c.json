{"ver":"0.1","info":{"id":"3t3fDn","date":"1612475219","viewed":151,"name":"Fireworks 6","username":"valinion","description":"fireworks","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["fireworks"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define NUM_PART 25.\n#define NUM_EXP 5.\nvec2 hash12(float seed){\n    float x = fract(sin(seed*674.2)*463.2);\n     float y = fract(sin((x+seed)*614.2)*263.2);\n    return vec2(x,y);\n}\nvec2 hash12_polar(float seed){\n    float a = fract(sin(seed*674.2)*463.2)*6.28;\n     float d = 0.1 + fract(sin((a+seed)*714.2)*263.2);\n    return vec2(sin(a),cos(a))*d;\n}\n\nfloat explosion(vec2 uv,float t){\nfloat sparks = 0.;\n for(float i = 0. ;i<NUM_PART;i++){\n        vec2 dir = hash12_polar(i+1.)*.5;\n        float d = length(uv-dir*t);\n        float brightness = mix(.0005,.002,smoothstep(.05,0.,t));\n        brightness *= sin(t*20.+i)*.5+.5;\n        brightness *= smoothstep(1.,.5 + (0.5-i/NUM_PART),t);\nsparks += brightness/ d; \n    }\n    return sparks;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (center is origin)\n     vec2 uv = (fragCoord - .5 *iResolution.xy)/iResolution.y;\n\n        // Time varying pixel color\n    vec3 col =vec3(0);\n    \n    for(float i=0.;i<NUM_EXP;i++){\n    float t = iTime + i/NUM_EXP;\n        float ft = floor(iTime);\n       vec3 color = sin(vec3(.34,.54,.43)*(ft)*i)*.25 + .75;\n       vec2 offset = hash12(i+1.+ft)-.5;\n       offset *= vec2(1.77,1.);\n        col+=explosion(uv -offset,fract(t))*color;\n    }\n\n\n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}