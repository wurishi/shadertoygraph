{"ver":"0.1","info":{"id":"sslGWj","date":"1616594460","viewed":170,"name":"Grid Dots","username":"alexijohansen","description":"Trying to recreate the effect from the Music Video : \nyoutube.com watch?v=d4sNUiExOTw\n\nI guess my calculation for fetching the brightness pixel is off as the texture is clipped.","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["grid"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"Xdf3Rn","filepath":"/media/a/e81e818ac76a8983d746784b423178ee9f6cdcdf7f8e8d719341a6fe2d2ab303.webm","previewfilepath":"/media/ap/e81e818ac76a8983d746784b423178ee9f6cdcdf7f8e8d719341a6fe2d2ab303.webm","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define GRID 96.0\n#define DOTSIZE 0.0045\n\nfloat sdfCircle( vec2 p, float r )\n{\n    return length(p) - r;\n}\n\nfloat contrast( float value, float strength )\n{\n    value = ((value - 0.5) * strength) + 0.5;\n    return clamp(value, 0.0, 1.0);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n\n    uv.y *= iResolution.y/iResolution.x;\n\n    vec2 center = floor(uv * GRID)/GRID;\n    center.x += (1.0/GRID) * 0.5;\n    center.y += (1.0/GRID) * 0.5;\n\n    float brightness = contrast(texture(iChannel0,center).x, 4.0);\n\n    //center.y += brightness * 0.01; // The original effect has the dots offset, which I can't do because I'm stuck in a grid.\n    \n    float sdf = sdfCircle( center - uv, brightness * DOTSIZE);\n\n    // Suggested by user:oneshade. Looks good.\n    fragColor = vec4(vec3(brightness*smoothstep(1.0/iResolution.y, 0.0, sdf)),1.0);\n}","name":"Image","description":"","type":"image"}]}