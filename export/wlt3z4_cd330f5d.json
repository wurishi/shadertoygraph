{"ver":"0.1","info":{"id":"wlt3z4","date":"1576646051","viewed":126,"name":"automata_2","username":"balkhan","description":"mouseable","likes":5,"published":1,"flags":32,"usePreview":0,"tags":["automata","boundary"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":0,"sampler":{"filter":"nearest","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define S3(A) vec3(sin(A+0.00),sin(A+1.04*1.0),sin(A+2.08*1.0))\n\nvoid mainImage(out vec4 O, in vec2 u)\n{\n\tO = 1.-abs(t0(u/R).xxxx);\n    \n    O.xyz = mix(\n        vec3(.25, .4, .651 ), vec3(0),\n        sin(O.x*4.)*.5+.50\n        );\n    \n    O = pow(O, vec4(1.)/2.4);\n    //O.xyz = S3(O.x*25.); // alternate coloring\n}\n","name":"Image","description":"","type":"image"},{"inputs":[{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"XsXGR8","channel":0}],"code":"/*\n* License Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.\n* Created by bal-khan\n*/\n\n#define MRY(b) max(r.y, b)\n#define MRX(b) max(r.x, b)\n#define D5  * .2\n#define D20 * .05\n#define D8  * .125\n#define M iMouse\n#define V vec2\n\nfloat   n8(V uv, V t)\n{\n    float   r = .0;\n    r += t0(V(uv.x -t.x, uv.y )    ).x D8;\n    r += t0(V(uv.x +t.x, uv.y )    ).x D8;\n    r += t0(V(uv.x , uv.y -t.y)    ).x D8;\n    r += t0(V(uv.x , uv.y +t.y)    ).x D8;\n\n    r += t0(V(uv.x -t.x, uv.y -t.y) ).x D8;\n    r += t0(V(uv.x +t.x, uv.y -t.y) ).x D8;\n    r += t0(V(uv.x +t.x, uv.y +t.y) ).x D8;\n    r += t0(V(uv.x -t.x, uv.y +t.y) ).x D8;\n    return (r);\n}\n\nfloat   n0(V uv)\n{\n    return n8(uv, 1./R.xy);\n}\n\nfloat   lc(V u, V t)\n{\n    vec3 r;\n    r-=r;\n    r.y = MRY(n0( V(u.x -t.x, u.y     ) )   D5 );\n    r.y = MRY(n0( V(u.x +t.x, u.y     ) )   D5 );\n    r.y = MRY(n0( V(u.x , u.y -t.y    ) )   D5 );\n    r.y = MRY(n0( V(u.x , u.y +t.y    ) )   D5 );\n    r.y = MRY(n0( V(u.x -t.x, u.y -t.y) )   D20);\n    r.y = MRY(n0( V(u.x +t.x, u.y -t.y) )   D20);\n    r.y = MRY(n0( V(u.x +t.x, u.y +t.y) )   D20);\n    r.y = MRY(n0( V(u.x -t.x, u.y +t.y) )   D20);\n\n    r.x = MRX(t0( V(u.x -t.x, u.y)      ).x D5 );\n    r.x = MRX(t0( V(u.x +t.x, u.y)      ).x D5 );\n    r.x = MRX(t0( V(u.x , u.y -t.y)     ).x D5 );\n    r.x = MRX(t0( V(u.x , u.y +t.y)     ).x D5 );\n    r.x = MRX(t0( V(u.x -t.x, u.y -t.y) ).x D20);\n    r.x = MRX(t0( V(u.x +t.x, u.y -t.y) ).x D20);\n    r.x = MRX(t0( V(u.x +t.x, u.y +t.y) ).x D20);\n    r.x = MRX(t0( V(u.x -t.x, u.y +t.y) ).x D20);\n\n    r.z = min(n0(u), t0(u).x );\n    return (1./(r.y+2.0)+r.x*16.-r.z*4.)/(r.z*10.0+r.y*10.-1.35); // boundary\n}\n\nvoid mainImage(out vec4 o, in vec2 u)\n{\n    V    v = (u - R*.5) / R.y;\n    o -= o;\n    o.x =\n        clamp(\n            t0(u/R).x\n            +\n            .5*lc( u.xy/R, 1./R)\n        , 0., 1.);\n    if (\n\t\t\t(length(v-(R.y/R.x)*1.*vec2(cos(iTime*1.5)*.75,1.*cos(iTime)*sin(iTime*.5*3.)*.5))*vec2(10.) ).x<.5\n        \t||\n        \t(\n        \t\t(max(abs(abs(v.x)-.65)-.0125, abs(abs(v.y)-.3)-.0125))<.15\n        \t\t&&\n        \t\t(max(abs(abs(v.x)-.65)-.0125, abs(abs(v.y)-.3)-.0125))>.10\n    \t\t)\n        )\n        o += 1.;\n    if (\n\t\t\t(length(v-(R.y/R.x)*vec2(cos(-iTime*1.), sin(-iTime*1.)))<.2)\n            ||\n        \tlength((u-M.xy)/R.yy)<.1\n        )\n        o -= 1.;\n    o = clamp(o, -1., 1.);\n}\n","name":"Buffer B","description":"","type":"buffer"},{"inputs":[],"outputs":[],"code":"/*\n* License Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.\n* Created by bal-khan\n*/\n\n#define R iResolution.xy\n#define t0(u) texture(iChannel0, u)\n\n","name":"Common","description":"","type":"common"}]}