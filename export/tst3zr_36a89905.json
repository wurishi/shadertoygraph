{"ver":"0.1","info":{"id":"tst3zr","date":"1567696177","viewed":266,"name":"Fog Shader","username":"pontino","description":"Trying to make fog with fbm","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["fog"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#ifdef GL_ES\nprecision mediump float;\n#endif\n\nconst vec3 COLOR = vec3(0.33, 0.15, 0.44);\nconst vec3 BG = vec3(0.0, 0.0, 0.0);\nconst float ZOOM = 3.0;\nconst int OCTAVES = 4;\nconst float INTENSITY = 2.;\n\nfloat random (vec2 st) {\n    return fract(sin(dot(st.xy, vec2(12.9818,79.279)))*43758.5453123);\n}\n\nvec2 random2(vec2 st){\n    st = vec2( dot(st,vec2(127.1,311.7)), dot(st,vec2(269.5,183.3)) );\n    return -1.0 + 2.0 * fract(sin(st) * 43759.34517123);\n}\n\nfloat noise(vec2 st) {\n    vec2 i = floor(st);\n    vec2 f = fract(st);\n\n    // smootstep\n    vec2 u = f*f*(3.0-2.0*f);\n\n    return mix( mix( dot( random2(i + vec2(0.0,0.0) ), f - vec2(0.0,0.0) ),\n                     dot( random2(i + vec2(1.0,0.0) ), f - vec2(1.0,0.0) ), u.x),\n                mix( dot( random2(i + vec2(0.0,1.0) ), f - vec2(0.0,1.0) ),\n                     dot( random2(i + vec2(1.0,1.0) ), f - vec2(1.0,1.0) ), u.x), u.y);\n}\n\n\nfloat fractal_brownian_motion(vec2 coord) {\n\tfloat value = 0.0;\n\tfloat scale = 0.5;\n\tfor (int i = 0; i < 4; i++) {\n\t\tvalue += noise(coord) * scale;\n\t\tcoord *= 2.0;\n\t\tscale *= 0.5;\n\t}\n\treturn value + 0.2;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 st = fragCoord.xy / iResolution.xy;\n\tst *= iResolution.xy  / iResolution.y;    \n    vec2 pos = vec2(st * ZOOM);\n\tvec2 motion = vec2(fractal_brownian_motion(pos + vec2(iTime * -0.2, iTime * -0.2)));\n\tfloat final = fractal_brownian_motion(pos + motion) * INTENSITY;\n    fragColor = vec4(mix(BG, COLOR, final), 1.0);\n}","name":"Image","description":"","type":"image"}]}