{"ver":"0.1","info":{"id":"3slBD8","date":"1588157001","viewed":164,"name":"Star with spikes","username":"toninoni","description":"Dead simple procedural star with spikes","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["star","astronomy","spike"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define SPIKE_WIDTH 0.01\n#define CORE_SIZE 0.4\n\nfloat parabola( float x, float k ){\n    return pow( 4.0*x*(1.0-x), k );\n}\n\nfloat cubicPulse( float c, float w, float x ){\n    x = abs(x - c);\n    if( x>w ) return 0.0;\n    x /= w;\n    return 1.0 - x*x*(3.0-2.0*x);\n}\n\nvec3 starWithSpikes(vec2 uv, vec3 starColor){\n    float d = 1.0 - length(uv - 0.5);\n\n    float spikeV = cubicPulse(0.5, SPIKE_WIDTH, uv.x) * parabola(uv.y, 2.0) * 0.5;\n    float spikeH = cubicPulse(0.5, SPIKE_WIDTH, uv.y) * parabola(uv.x, 2.0) * 0.5;\n    float core = pow(d, 20.0) * CORE_SIZE;\n    float corona = pow(d, 6.0);\n    \n    float val = spikeV + spikeH + core + corona;\n    return vec3(val * (starColor + val));\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord){\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord / iResolution.x;\n    uv.y += 0.2;\n    \n    vec3 starColor = vec3(abs(sin(iTime)), 0.1, abs(cos(iTime)));\n    vec3 col = starWithSpikes(uv, starColor);\n    \n    // Output to screen\n    fragColor = vec4(col,1.0);\n}\n","name":"Image","description":"","type":"image"}]}