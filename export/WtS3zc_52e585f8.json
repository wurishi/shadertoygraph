{"ver":"0.1","info":{"id":"WtS3zc","date":"1560408980","viewed":164,"name":"drawLine","username":"Bertje","description":"用shader画一条线","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["drawline"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//摘自 https://blog.csdn.net/heartyhu/article/details/72286407\nfloat _LineWidth = 5.0;  \nvec3 _LineColor = vec3(1.0, 0.0, 0.0);\nfloat _Antialias = 3.0;\nvec4 drawLine(vec2 pos, vec2 point1, vec2 point2, float width, vec3 color, float antialias) {\n        float k = (point1.y - point2.y) / (point1.x - point2.x);\n        float b = point1.y - k * point1.x;\n        float d = abs(k * pos.x - pos.y + b) / sqrt( k*k + 1.0);\n        float t = smoothstep(width/2.0, width/2.0 + antialias, d);\n        return vec4(color, 1.0 - t);\n    }\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 pos = fragCoord;\n    vec2 point1 = vec2(0.4, 0.1) * iResolution.xy;\n    vec2 point2 = vec2(0.7, 0.8) * iResolution.xy;\n\tvec4 layer2 = drawLine(pos, point1, point2, _LineWidth, _LineColor.rgb, _Antialias);\n   fragColor = mix(fragColor, layer2, layer2.a);\n    \n}","name":"Image","description":"","type":"image"}]}