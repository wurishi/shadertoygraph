{"ver":"0.1","info":{"id":"4f2fWy","date":"1725462844","viewed":16,"name":"Moirages 1","username":"denosya","description":"Superposition of 2 layers of triangles.","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["moirage"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float equiTri(vec2 m, float size) {\n    const mat3x2 sides = mat3x2(vec2(0.866, 0.5), vec2(-0.866, 0.5), vec2(0, -1));\n    vec3 d = m * sides;\n    return length(max(d-size*0.2887, 0.));\n}\n\nfloat layer(vec2 m) {\n\n    float a = iResolution.x * 0.02;\n    float h = a * 0.86;    \n    vec2 size = vec2(a, h);\n\n    if(mod(m.y, h*2.)>h) m.x -= a/2.;\n\n    vec2 index = floor(m / size);\n    vec2 center = index * vec2(a, h) + vec2(a/2., h*0.2887);\n    \n    return equiTri(m - center, a);\n}\n\nvec2 rotate(vec2 m, float angle) {\n    mat2 rot = mat2(vec2(cos(angle), sin(angle)), vec2(-sin(angle), cos(angle)));\n    return rot * m;\n}\n\n#define RGB(a, b , c) vec3(a, b, c)/255.\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float angle = iTime * 0.05;\n    \n    vec2 m = fragCoord - iResolution.xy/2.;\n    \n    float layer1 = layer(m);    \n    float layer2 = layer(rotate(m, angle));    \n    \n    vec3 col1 = RGB(0x3B, 0xD0, 0xEB);\n    vec3 col2 = RGB(0x3B, 0x61, 0xEB);\n    vec3 col3 = RGB(0x3B, 0x98, 0xEB);\n\n    vec3 color = mix(mix(col1, col2, layer1), col3, layer2);\n\n    fragColor = vec4(color, 1.);\n}","name":"Image","description":"","type":"image"}]}