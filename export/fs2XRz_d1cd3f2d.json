{"ver":"0.1","info":{"id":"fs2XRz","date":"1723761486","viewed":32,"name":"Fork Me And My  theott 310","username":"theott","description":"Mouse to interact.\n\n","likes":1,"published":1,"flags":32,"usePreview":0,"tags":["fluid"],"hasliked":0,"parentid":"WtsSz2","parentname":"Me And My Neighborhood"},"renderpass":[{"inputs":[{"id":"XdfGRr","filepath":"/media/a/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm","previewfilepath":"/media/ap/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm","type":"video","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define LOOKUP(COORD) texture(iChannel0,(COORD)/iResolution.xy)\n\nvoid mainImage( out vec4 color, in vec2 coord )\n{\n   color = texture(iChannel1, coord/iResolution.xy) * LOOKUP (coord).w;\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"XdfGRr","filepath":"/media/a/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm","previewfilepath":"/media/ap/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm","type":"video","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"// wyattflanders.com/MeAndMyNeighborhood.pdf\n\n#define LOOKUP(COORD) texture(iChannel0,(COORD)/iResolution.xy)\n\nvec4 Field (vec2 position) {\n    // Rule 1 : All My Energy transates with my ordered Energy\n    vec2 velocityGuess = LOOKUP (position).xy;\n    vec2 positionGuess = position - velocityGuess;\n\treturn LOOKUP (positionGuess);\n}\n\n\nvoid mainImage( out vec4 Energy, in vec2 Me )\n{\n    Energy  =  Field(Me);\n    // Neighborhood :\n    vec4 pX  =  Field(Me + vec2(1,0));\n    vec4 pY  =  Field(Me + vec2(0,1));\n    vec4 nX  =  Field(Me - vec2(1,0));\n    vec4 nY  =  Field(Me - vec2(0,1));\n    \n    // Rule 2 : Disordered Energy diffuses completely :\n    Energy.b = (pX.b + pY.b + nX.b + nY.b)/4.0;\n    \n    // Rule 3 : Order in the disordered Energy creates Order :\n    vec2 Force;\n    Force.x = nX.b - pX.b;\n    Force.y = nY.b - pY.b;\n    Energy.xy += Force/4.0;\n    \n    // Rule 4 : Disorder in the ordered Energy creates Disorder :\n    Energy.b += (nX.x - pX.x + nY.y - pY.y)/4.;\n    \n    // Gravity effect :\n    Energy.y -= Energy.w/300.0;\n    \n    // Mass concervation :\n    Energy.w += (nX.x*nX.w-pX.x*pX.w+nY.y*nY.w-pY.y*pY.w)/4.;\n    \n    //Boundary conditions :\n    if(Me.x<10.||Me.y<10.||iResolution.x-Me.x<10.||iResolution.y-Me.y<10.)\n    {\n    \tEnergy.xyw *= 0.;\n    }\n    \n    // Mouse input  :  \n    if (iMouse.z > 0. && length(Me-iMouse.xy) < 10.) {\n        Energy.w = 1.;\n    }\n    \n    Energy.w *= pow(Me.y/iResolution.y, .005);\n    \n    Energy.w += .01* smoothstep(0.5, 1., length(texture(iChannel1, Me/iResolution.xy).rb));\n    Energy.w = clamp(Energy.w, 0., 1.);\n}","name":"Buffer A","description":"","type":"buffer"}]}