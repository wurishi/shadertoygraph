{"ver":"0.1","info":{"id":"mdjGDR","date":"1668033122","viewed":59,"name":"almondbread set (mandelbrot set)","username":"Cesium_137","description":"WASD or arrow keys to move, q and e to zoom in and out. I put mandelbrot set in google translate from german to english and it came out as almondbread set","likes":1,"published":1,"flags":48,"usePreview":0,"tags":["fractal","mandelbrot","interactive","multipass"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec2 getC(){return vec2(texelFetch(iChannel0,ivec2(0,0),0).r,texelFetch(iChannel0,ivec2(1,0),0).r);}\nfloat getZ(){\n    if(texelFetch(iChannel0,ivec2(2,0),0).r>-1.){return texelFetch(iChannel0,ivec2(2,0),0).r;}\n    else{return -.5;}}\nvoid mainImage(out vec4 fragColor,in vec2 fragCoord){\n    float z=.25*pow(1.03, getZ());\n    vec2 u=(fragCoord/z)/iResolution.xy;\n    vec2 ac=vec2(getC().x*(16./9.),getC().y);\n    u-=.5/z;\n    u.x/=(9./16.);\n    vec2 c=u+(ac/iResolution.xy);\n    fragColor=vec4(1.,1.,1.,1.);\n    if(d(h(vec2(.0,.0),c))<2.){\n        fragColor=vec4(.0,.0,.0,1.);\n}}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"vec2 m(vec2 a,vec2 b){return vec2(a.x*b.x-a.y*b.y,a.x*b.y+a.y*b.x);}\nvec2 p(vec2 a,vec2 b){return vec2(a.x+b.x,a.y+b.y);}\nvec2 f(vec2 a,vec2 b){return p(m(a,a),b);}\nfloat d(vec2 a){return sqrt(a.x*a.x+a.y*a.y);}\nvec2 g(vec2 a,vec2 b){return f(f(f(f(f(f(f(f(f(f(f(f(f(f(f(f(f(f(f(f(f(f(f(f(f(f(f(f(f(f(f(f(a,b),b),b),b),b),b),b),b),b),b),b),b),b),b),b),b),b),b),b),b),b),b),b),b),b),b),b),b),b),b),b),b);}\nvec2 h(vec2 a,vec2 b){return g(g(g(g(g(g(g(g(g(g(g(g(a,b),b),b),b),b),b),b),b),b),b),b),b);}","name":"Common","description":"","type":"common"},{"inputs":[{"id":"4dXGRr","filepath":"/presets/tex00.jpg","previewfilepath":"/presets/tex00.jpg","type":"keyboard","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"float getZ(){\n    if(texelFetch(iChannel0,ivec2(2,0),0).r>-1.){return texelFetch(iChannel0,ivec2(2,0),0).r;}\n    else{return -.5;}}\nconst int KEY_A=65;\nconst int KEY_W=87;\nconst int KEY_D=68;\nconst int KEY_S=83;\nconst int KEY_LEFT=37;\nconst int KEY_UP=38;\nconst int KEY_RIGHT=39;\nconst int KEY_DOWN=40;\nconst int KEY_Q=81;\nconst int KEY_E=69;\nconst int KEY_R=82;\nconst float speed=350.;\nvoid mainImage(out vec4 fragColor,in vec2 fragCoord){\n    float z=.25*pow(1.03,getZ());\n    float outData=.0;\n    switch(int(fragCoord.x)) {\n        case 0:\n        \toutData=texelFetch(iChannel0,ivec2(0),0).r+\n                (iTimeDelta*speed/z)*texelFetch(iChannel1,ivec2(KEY_RIGHT,0),0).r-(iTimeDelta*speed/z)*texelFetch(iChannel1,ivec2(KEY_LEFT,0),0).r+(iTimeDelta*speed/z)*texelFetch(iChannel1,ivec2(KEY_D,0),0).r-(iTimeDelta*speed/z)*texelFetch(iChannel1,ivec2(KEY_A,0),0).r;\n        \tbreak;\n        \n        case 1:\n        \toutData=texelFetch(iChannel0,ivec2(1,0),0).r+\n                (iTimeDelta*speed/z)*texelFetch(iChannel1,ivec2(KEY_UP,0),0).r-(iTimeDelta*speed/z)*texelFetch(iChannel1,ivec2(KEY_DOWN,0),0).r+(iTimeDelta*speed/z)*texelFetch(iChannel1,ivec2(KEY_W,0),0).r-(iTimeDelta*speed/z)*texelFetch(iChannel1,ivec2(KEY_S,0),0).r;\n        \tbreak;\n        case 2:\n            if(texelFetch(iChannel0, ivec2(2,0),0).r>-1.){\n                outData=texelFetch(iChannel0,ivec2(2,0),0).r+\n                .5*texelFetch(iChannel1,ivec2(KEY_E,0),0).r-.5*texelFetch(iChannel1,ivec2(KEY_Q,0),0).r;\n            }\n            else{outData=.0;}\n            break;\n    }\n    \n    fragColor = vec4(outData,0.,0.,1.);\n}","name":"Buffer A","description":"","type":"buffer"}]}