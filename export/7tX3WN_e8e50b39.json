{"ver":"0.1","info":{"id":"7tX3WN","date":"1622093767","viewed":125,"name":"colorful hexagonal tile wave","username":"yunhai","description":"my first try to generate hexagonal coordinate","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["learn"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define SS(a,b,t) smoothstep(a,b,t)\nfloat hexDist(vec2 p)\n{\n    p=abs(p);\n    float d=dot(p,normalize(vec2(1.,1.732)));\n    d=max(d,p.x);//p.x=dot(p,normalize(vec2(1.,0.)));\n    return d;\n}\nvec4 hexCoord(vec2 uv)\n{\n    vec2 r=vec2(1.,1.732)*2.;\n    vec2 auv=mod(uv,r)-.5*r;\n    vec2 buv=mod(uv-.5*r,r)-.5*r;\n    vec2 guv=length(auv)<length(buv)?auv:buv;\n    \n    vec2 id=round(uv-guv);\n    vec2 polar=vec2(hexDist(guv),atan(-guv.y,-guv.x)/6.2832+.5);\n    vec4 coord=vec4(polar.x,polar.y,id.x,id.y);\n    return coord;    \n}\n#define DREMAP(type)\\\ntype remap(float a,float b,float x,float y,type t)\\\n{return (t-a)/(b-a)*(y-x)+x;}\\\ntype remapS(float x,float y,type t)\\\n{return remap(-1.,1.,x,y,t);}\n\nDREMAP(float)\nDREMAP(vec3)\n\nvoid mainImage( out vec4 O, in vec2 C )\n{\n    vec2 uv = (C-.5*iResolution.xy)/iResolution.y;\n    float t=iTime;\n    O-=O;\n    \n    vec4 guv=hexCoord((uv)*50.);\n    float mode=remapS(1.,9.,sin(t*.2));\n    float minSize=remapS(.3,.8,sin(t*.3));\n    O.rgb+=vec3(step(guv.x,remapS(minSize,.98,sin(t*2.+length(guv.zw)*mode))));\n    O.rgb*=(guv.zwz+36.*remapS(1.5,2.,sin(vec3(15.,14.,27.)*t*.1)))/90.;\n}","name":"Image","description":"","type":"image"}]}