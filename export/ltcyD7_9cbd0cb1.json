{"ver":"0.1","info":{"id":"ltcyD7","date":"1532857123","viewed":1353,"name":"sound visualizer #2","username":"archibate","description":"visualize your sound (from a mic).\nthe higher y coordinate, the higher the frequency.\ncheck 'Commo' for more freq map modes.","likes":4,"published":1,"flags":44,"usePreview":0,"tags":["2d","sound","mic","multipass"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define BAR(fq, r, g, b) \\\n    if (abs(freq(U.y) - fq) <= .003) \\\n        if (mod(U.x, .08) < .01) \\\n            O = vec4(r, g, b, 0);\n#define LINE(fq, r, g, b) \\\n    if (abs(freq(U.y) - fq) <= .0002) \\\n        /*if (mod(U.x, .08) < .07)*/ \\\n            O = vec4(r, g, b, 0);\n\nvoid mainImage(out vec4 O, in vec2 U)\n{\n    U /= iResolution.xy;\n\tO = texture(iChannel0, U);\n    \n    LINE(.012, .6, .6, 0);\n    BAR(.1, 1, 0, 0);\n    BAR(.2, .7, .7, 0);\n    BAR(.3, 0, 1, 0);\n    BAR(.4, 0, .7, .7);\n    BAR(.5, 0, 0, 1);\n    BAR(.6, .7, 0, .7);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"XdXGRr","filepath":"/presets/mic.png","previewfilepath":"/presets/mic.png","type":"mic","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":3,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"#define DX 1. / iResolution.x\n#define DY 1. / iResolution.y\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    float frq = freq(uv.y);\n\n    lowp float c0 = texture(iChannel0, vec2(frq, .25)).x;\n    lowp float c1 = texture(iChannel0, vec2(frq, .5)).x;\n    \n    vec3 c0col = vec3(1, 0, 0), c1col = vec3(0, 1, 0);\n\n    if (uv.x <= DX) {\n        fragColor.rgb = c0 * c0col + c1 * c1col;\n    } else {\n        uv.x -= DX;\n        fragColor = texture(iChannel3, uv);\n    }\n}","name":"Buf A","description":"","type":"buffer"},{"inputs":[],"outputs":[],"code":"float freq(float y)\n{\n    //return .06 * y;\n    //return y;\n    return .6 * y * y;\n    //return (1. - 1. / y);\n}","name":"Common","description":"","type":"common"},{"inputs":[],"outputs":[],"code":"vec2 mainSound( in int samp, float time )\n{\n    // A 440 Hz wave that attenuates quickly overt time\n    return vec2( sin(6.2831*440.0*time)*exp(-3.0*time) );\n}","name":"Sound","description":"","type":"sound"}]}