{"ver":"0.1","info":{"id":"fl2czz","date":"1649078788","viewed":104,"name":"Texture warping -lens distortion","username":"lwswl","description":"lens distortion","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["distortion"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4df3zn","filepath":"/media/a/3405e48f74815c7baa49133bdc835142948381fbe003ad2f12f5087715731153.ogv","previewfilepath":"/media/ap/3405e48f74815c7baa49133bdc835142948381fbe003ad2f12f5087715731153.ogv","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XdfGRr","filepath":"/media/a/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm","previewfilepath":"/media/ap/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm","type":"video","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define rot(d) mat2(cos(d),sin(d),-sin(d),cos(d))\nvec4 tex(vec2 uv){\n    vec4 c1=texture(iChannel1,uv);\n    float green=(2.*c1.g-c1.r-c1.b);\n    return vec4(mix(texture(iChannel0,uv),c1-vec4(0.5,1,0.5,1)*green,1.-green).rgb,green);\n\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord-iResolution.xy*0.5)/iResolution.x;\n    vec3 d=vec3(0,0,1);\n    uv=3.*uv-uv*uv*uv*2.+vec2(uv.x*uv.x*uv.y,uv.y*uv.y*uv.x);\n    d.xz*=rot(uv.x);\n    d.yz*=rot(uv.y);\n    uv=d.xy*0.5+0.5;\n    uv*=2.-1.;\n    float div=2.;\n    fragColor=tex(uv)*2.;\n    \n    for(float i=-0.04;i<=0.04;i+=0.02){\n        vec4 col=tex(uv+vec2(i,0));\n        fragColor+=(1.-col.a)*dot(uv,uv)*exp(-i*i)*col;\n        div+=(1.-col.a)*dot(uv,uv)*exp(-i*i);\n    }\n    \n    fragColor/=div;\n}","name":"Image","description":"","type":"image"}]}