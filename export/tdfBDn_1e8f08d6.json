{"ver":"0.1","info":{"id":"tdfBDn","date":"1588019037","viewed":497,"name":"cardioid_and_more","username":"bhuwan0000","description":"cardioid and other interesting shapes.","likes":18,"published":1,"flags":0,"usePreview":0,"tags":["number","pattern","cardioid","shape","factor"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define R iResolution.xy\n#define PI 3.14159265359\nfloat circle(vec2 st, vec2 p, float r){\n    float d = length(st-p)*r;\n    return 1.0/dot(d,d);\n    return smoothstep(r, r-2./R.y, length(st-p));//length(st-p)<r?1.0:0.0;\n}\n\nfloat line(vec2 p1, vec2 p2, vec2 uv, float t) {\n  float a = abs(distance(p1, uv));\n  float b = abs(distance(p2, uv));\n  float c = abs(distance(p1, p2));\n  if ( a >= c || b >=  c ) return 0.0;\n  float p = (a + b + c) * 0.5;\n  float h = 2.0 / c * sqrt( p * ( p - a) * ( p - b) * ( p - c));\n  return mix(1.0, 0.0, smoothstep(0.5 * t, 1.5 * t, h));\n}\n\nvec2 get_coord(float i, float r, float np){\n    float th = PI+(i*2.*PI/np);\n    return vec2(r*cos(th), r*sin(th));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (2.*fragCoord-R.xy)/R.y;\n\tvec3 col = vec3(uv, 0.0);\n\tfloat np = 180.;//floor(2.*(iMouse.x*(100.0/R.x))-100.);\n    float fac = (mod(iTime*0.3, 10.));\n    \n    float shape = 0.0;\n    for (float i=0.0; i<=np; i++){\n        float r = 0.8;\n        vec2 pos = get_coord(i, r, np);\n        \n        //line\n        vec2 pos_line2 = get_coord(mod(i*fac, np), r, np);\n        float lines = line(pos, pos_line2, uv, 0.004);\n        \n    \tshape += circle(uv, pos, 80.);\n        shape += lines;\n    }\n    \n    col = (shape) * vec3(0.8, 0.4, 0.1) + vec3(.12)*(1.0-clamp(shape, 0.0, 1.));\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}