{"ver":"0.1","info":{"id":"flfBRr","date":"1652453736","viewed":73,"name":"HEART FRAME","username":"Moloko","description":"heart frame","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["heartframe"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec2 tile(vec2 _uv, float _zoom){\n    _uv.x *= iResolution.x/iResolution.y;\n    _uv *= _zoom;\n    \n    //_uv.x += step(1., mod(_uv.y,2.0))*0.35+0.1*cos(iTime);\n    //_uv.x += step(1., mod(_uv.y-1.,2.0))*0.125;\n    _uv.y -= 0.2*(iTime);\n    \n    return (_uv);\n}\nvec2 tile2(vec2 _uv, float _zoom){\n    _uv.x *= iResolution.x/iResolution.y;\n    _uv *= _zoom;\n    \n    //_uv.x += step(1., mod(_uv.y,2.0))*0.35+0.1*cos(iTime);\n    //_uv.x += step(1., mod(_uv.y-1.,2.0))*0.125;\n    _uv.x -= 0.2*(iTime);\n    //_uv.y +=0.1;\n    \n    return (_uv);\n}\n\nfloat random (vec2 st) {\n    return fract(sin(dot(st.xy,\n                         vec2(12.9898,78.233)))*\n        43758.5453123);\n}\n\n\n\nvec3 drawHeart(vec2 uv, float size, vec2 offset) {\n  uv*=2.0;\n  uv.x -= 0.2*sin(iTime);\n  vec3 col = vec3(0.);\n  //float heart = sdHeart(uv, 0.04, vec2(0));\n  float x = uv.x - offset.x;\n  float y = uv.y - offset.y;\n  float xx = x * x;\n  float yy = y * y;\n  float yyy = yy * y;\n  float group = xx + yy - size;\n  float d = group * group * group - xx * yyy;\n  \n  col = mix(vec3(1, 1, 1), col, step(0., d));\n\n  return col;\n}\nvec3 drawHeart2(vec2 uv, float size, vec2 offset) {\n  uv*=2.0;\n  uv.y -= 0.2*sin(iTime);\n  vec3 col = vec3(0.);\n  //float heart = sdHeart(uv, 0.04, vec2(0));\n  float x = uv.x - offset.x;\n  float y = uv.y - offset.y;\n  float xx = x * x;\n  float yy = y * y;\n  float yyy = yy * y;\n  float group = xx + yy - size;\n  float d = group * group * group - xx * yyy;\n  \n  col = mix(vec3(1, 1, 1), col, step(0., d));\n\n  return col;\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n    float qq = iResolution.x/iResolution.y;\n    \n    //uv = tile(uv, 7.);\n    vec4 tex0 = texture(iChannel0, uv);\n    \n    \n    \n    \n    \n    //left big\n    float zoom = 3.0;\n    \n    vec3 randomize = vec3(random( floor(tile(uv, zoom)) ));\n    \n    vec3 col = vec3(0.0);\n    //col += 1.0-(1.0-step(0.99, fract(tile(uv, zoom).x)))*(1.0-step(0.99, fract(tile(uv, zoom).y)))*step(0.01, fract(tile(uv, zoom).x))*step(0.01, fract(tile(uv, zoom).y));\n    col += (drawHeart(fract(tile(uv, zoom))-0.5, 0.09, 0.25-0.5*vec2(random( floor(tile(uv, zoom)) ))))*step(floor(tile(uv, zoom)).x,0.0);\n    tex0 = mix(tex0, vec4(col,1.0), col.r);\n    \n    //bottom big \n    zoom = 3.;\n    vec3 col_sh = vec3(0.0);\n    col_sh += (drawHeart2(fract(tile2(uv, zoom))-0.5, 0.1, 0.05-0.5*vec2(random( floor(tile2(uv, zoom)) ))))*step(floor(tile2(uv, zoom)).y,0.0);\n    tex0 = mix(tex0, vec4(col_sh*0.5,1.0), col_sh.r);\n    \n    \n    col = vec3(0.0);\n    //col += 1.0-(1.0-step(0.99, fract(tile2(uv, zoom).x)))*(1.0-step(0.99, fract(tile2(uv, zoom).y)))*step(0.01, fract(tile2(uv, zoom).x))*step(0.01, fract(tile2(uv, zoom).y));\n    col += (drawHeart2(fract(tile2(uv, zoom))-0.5, 0.09, 0.05-0.5*vec2(random( floor(tile2(uv, zoom)) ))))*step(floor(tile2(uv, zoom)).y,0.0);\n    tex0 = mix(tex0, vec4(col,1.0), col.r);\n    \n    //left smaller    \n    zoom = 5.;\n    col_sh = vec3(0.0);\n    col_sh += (drawHeart(fract(tile(uv, zoom))-0.5, 0.1, 0.25-0.5*vec2(random( floor(tile(uv, zoom)) ))))*step(floor(tile(uv, zoom)).x,0.0);\n    tex0 = mix(tex0, vec4(col_sh*0.5,1.0), col_sh.r);\n    \n    \n    col = vec3(0.0);\n    col += (drawHeart(fract(tile(uv, zoom))-0.5, 0.09, 0.25-0.5*vec2(random( floor(tile(uv, zoom)) ))))*step(floor(tile(uv, zoom)).x,0.0);\n    tex0 = mix(tex0, vec4(col,1.0), col.r);\n    \n    //bottom smaller \n    zoom = 5.;\n    col_sh = vec3(0.0);\n    col_sh += (drawHeart2(fract(tile2(uv, zoom))-0.5, 0.1, 0.25-0.5*vec2(random( floor(tile2(uv, zoom)) ))))*step(floor(tile2(uv, zoom)).y,0.0);\n    tex0 = mix(tex0, vec4(col_sh*0.5,1.0), col_sh.r);\n    \n    \n    col = vec3(0.0);\n    col += (drawHeart2(fract(tile2(uv, zoom))-0.5, 0.09, 0.25-0.5*vec2(random( floor(tile2(uv, zoom)) ))))*step(floor(tile2(uv, zoom)).y,0.0);\n    tex0 = mix(tex0, vec4(col,1.0), col.r);\n    \n    //left smaller2\n    zoom = 7.;\n    col_sh = vec3(0.0);\n    col_sh += (drawHeart(fract(tile(uv, zoom))-0.5, 0.1, 0.25-0.5*vec2(random( floor(tile(uv, zoom)) ))))*step(floor(tile(uv, zoom)).x,1.0);\n    tex0 = mix(tex0, vec4(col_sh*0.5,1.0), col_sh.r);\n    \n    \n    col = vec3(0.0);\n    col += (drawHeart(fract(tile(uv, zoom))-0.5, 0.09, 0.25-0.5*vec2(random( floor(tile(uv, zoom)) ))))*step(floor(tile(uv, zoom)).x,1.0);\n    tex0 = mix(tex0, vec4(col,1.0), col.r);\n    \n    //bottom smaller 2\n    zoom = 7.;\n    col_sh = vec3(0.0);\n    col_sh += (drawHeart2(fract(tile2(uv, zoom))-0.5, 0.1, 0.25-0.5*vec2(random( floor(tile2(uv, zoom)) ))))*step(floor(tile2(uv, zoom)).y,1.0);\n    tex0 = mix(tex0, vec4(col_sh*0.5,1.0), col_sh.r);\n    \n    \n    col = vec3(0.0);\n    col += (drawHeart2(fract(tile2(uv, zoom))-0.5, 0.09, 0.25-0.5*vec2(random( floor(tile2(uv, zoom)) ))))*step(floor(tile2(uv, zoom)).y,1.0);\n    tex0 = mix(tex0, vec4(col,1.0), col.r);\n    \n    //left smaller3\n    zoom = 9.;\n    col_sh = vec3(0.0);\n    col_sh += (drawHeart(fract(tile(uv, zoom))-0.5, 0.1, 0.25-0.5*vec2(random( floor(tile(uv, zoom)) ))))*step(floor(tile(uv, zoom)).x,1.0);\n    tex0 = mix(tex0, vec4(col_sh*0.5,1.0), col_sh.r);\n    \n    \n    col = vec3(0.0);\n    col += (drawHeart(fract(tile(uv, zoom))-0.5, 0.09, 0.25-0.5*vec2(random( floor(tile(uv, zoom)) ))))*step(floor(tile(uv, zoom)).x,1.0);\n    tex0 = mix(tex0, vec4(col,1.0), col.r);\n    \n    //bottom smaller 3\n    zoom = 9.;\n    col_sh = vec3(0.0);\n    col_sh += (drawHeart2(fract(tile2(uv, zoom))-0.5, 0.1, 0.25-0.5*vec2(random( floor(tile2(uv, zoom)) ))))*step(floor(tile2(uv, zoom)).y,1.0);\n    tex0 = mix(tex0, vec4(col_sh*0.5,1.0), col_sh.r);\n    \n    \n    col = vec3(0.0);\n    col += (drawHeart2(fract(tile2(uv, zoom))-0.5, 0.09, 0.25-0.5*vec2(random( floor(tile2(uv, zoom)) ))))*step(floor(tile2(uv, zoom)).y,1.0);\n    tex0 = mix(tex0, vec4(col,1.0), col.r);\n    \n    uv.x = 1.0-uv.x;\n    zoom = 3.0;\n    col_sh = vec3(0.0);\n    col_sh += (drawHeart(fract(tile(uv, zoom))-0.5, 0.1, 0.25-0.5*vec2(random( floor(tile(uv, zoom)) ))))*step(floor(tile(uv, zoom)).x,0.0);\n    tex0 = mix(tex0, vec4(col_sh*0.5,1.0), col_sh.r);\n    col = vec3(0.0);\n    col += (drawHeart(fract(tile(uv, zoom))-0.5, 0.09, 0.25-0.5*vec2(random( floor(tile(uv, zoom)) ))))*step(floor(tile(uv, zoom)).x,0.0);\n    tex0 = mix(tex0, vec4(col,1.0), col.r);\n    \n    \n    zoom = 5.;\n    col_sh = vec3(0.0);\n    col_sh += (drawHeart(fract(tile(uv, zoom))-0.5, 0.1, 0.25-0.5*vec2(random( floor(tile(uv, zoom)) ))))*step(floor(tile(uv, zoom)).x,0.0);\n    tex0 = mix(tex0, vec4(col_sh*0.5,1.0), col_sh.r);\n    \n    \n    col = vec3(0.0);\n    col += (drawHeart(fract(tile(uv, zoom))-0.5, 0.09, 0.25-0.5*vec2(random( floor(tile(uv, zoom)) ))))*step(floor(tile(uv, zoom)).x,0.0);\n    tex0 = mix(tex0, vec4(col,1.0), col.r);\n    \n    zoom = 7.;\n    col_sh = vec3(0.0);\n    col_sh += (drawHeart(fract(tile(uv, zoom))-0.5, 0.1, 0.25-0.5*vec2(random( floor(tile(uv, zoom)) ))))*step(floor(tile(uv, zoom)).x,1.0);\n    tex0 = mix(tex0, vec4(col_sh*0.5,1.0), col_sh.r);\n    \n    \n    col = vec3(0.0);\n    col += (drawHeart(fract(tile(uv, zoom))-0.5, 0.09, 0.25-0.5*vec2(random( floor(tile(uv, zoom)) ))))*step(floor(tile(uv, zoom)).x,1.0);\n    tex0 = mix(tex0, vec4(col,1.0), col.r);\n    \n    zoom = 9.;\n    col_sh = vec3(0.0);\n    col_sh += (drawHeart(fract(tile(uv, zoom))-0.5, 0.1, 0.25-0.5*vec2(random( floor(tile(uv, zoom)) ))))*step(floor(tile(uv, zoom)).x,1.0);\n    tex0 = mix(tex0, vec4(col_sh*0.5,1.0), col_sh.r);\n    \n    \n    col = vec3(0.0);\n    col += (drawHeart(fract(tile(uv, zoom))-0.5, 0.09, 0.25-0.5*vec2(random( floor(tile(uv, zoom)) ))))*step(floor(tile(uv, zoom)).x,1.0);\n    tex0 = mix(tex0, vec4(col,1.0), col.r);\n    uv.x = 1.0-uv.x;\n    \n    //top big \n    zoom = 3.;\n    col_sh = vec3(0.0);\n    col_sh += (drawHeart2(fract(tile2(uv, zoom))-0.5, 0.1, 0.35-0.5*vec2(random( floor(tile2(uv, zoom)) ))))*step(zoom-1.0,floor(tile2(uv, zoom)).y);\n    tex0 = mix(tex0, vec4(col_sh*0.5,1.0), col_sh.r);\n    \n    \n    col = vec3(0.0);\n    //col += 1.0-(1.0-step(0.99, fract(tile2(uv, zoom).x)))*(1.0-step(0.99, fract(tile2(uv, zoom).y)))*step(0.01, fract(tile2(uv, zoom).x))*step(0.01, fract(tile2(uv, zoom).y));\n    col += (drawHeart2(fract(tile2(uv, zoom))-0.5, 0.09, 0.35-0.5*vec2(random( floor(tile2(uv, zoom)) ))))*step(zoom-1.0,floor(tile2(uv, zoom)).y);\n    tex0 = mix(tex0, vec4(col,1.0), col.r);\n    \n    zoom = 5.;\n    col_sh = vec3(0.0);\n    col_sh += (drawHeart2(fract(tile2(uv, zoom))-0.5, 0.1, 0.35-0.5*vec2(random( floor(tile2(uv, zoom)) ))))*step(zoom-1.0,floor(tile2(uv, zoom)).y);\n    tex0 = mix(tex0, vec4(col_sh*0.5,1.0), col_sh.r);\n    \n    \n    col = vec3(0.0);\n    //col += 1.0-(1.0-step(0.99, fract(tile2(uv, zoom).x)))*(1.0-step(0.99, fract(tile2(uv, zoom).y)))*step(0.01, fract(tile2(uv, zoom).x))*step(0.01, fract(tile2(uv, zoom).y));\n    col += (drawHeart2(fract(tile2(uv, zoom))-0.5, 0.09, 0.35-0.5*vec2(random( floor(tile2(uv, zoom)) ))))*step(zoom-1.0,floor(tile2(uv, zoom)).y);\n    tex0 = mix(tex0, vec4(col,1.0), col.r);\n    \n    zoom = 7.;\n    col_sh = vec3(0.0);\n    col_sh += (drawHeart2(fract(tile2(uv, zoom))-0.5, 0.1, 0.35-0.5*vec2(random( floor(tile2(uv, zoom)) ))))*step(zoom-2.0,floor(tile2(uv, zoom)).y);\n    tex0 = mix(tex0, vec4(col_sh*0.5,1.0), col_sh.r);\n    \n    \n    col = vec3(0.0);\n    //col += 1.0-(1.0-step(0.99, fract(tile2(uv, zoom).x)))*(1.0-step(0.99, fract(tile2(uv, zoom).y)))*step(0.01, fract(tile2(uv, zoom).x))*step(0.01, fract(tile2(uv, zoom).y));\n    col += (drawHeart2(fract(tile2(uv, zoom))-0.5, 0.09, 0.35-0.5*vec2(random( floor(tile2(uv, zoom)) ))))*step(zoom-2.0,floor(tile2(uv, zoom)).y);\n    tex0 = mix(tex0, vec4(col,1.0), col.r);\n    \n    zoom = 9.;\n    col_sh = vec3(0.0);\n    col_sh += (drawHeart2(fract(tile2(uv, zoom))-0.5, 0.1, 0.35-0.5*vec2(random( floor(tile2(uv, zoom)) ))))*step(zoom-2.0,floor(tile2(uv, zoom)).y);\n    tex0 = mix(tex0, vec4(col_sh*0.5,1.0), col_sh.r);\n    \n    \n    col = vec3(0.0);\n    //col += 1.0-(1.0-step(0.99, fract(tile2(uv, zoom).x)))*(1.0-step(0.99, fract(tile2(uv, zoom).y)))*step(0.01, fract(tile2(uv, zoom).x))*step(0.01, fract(tile2(uv, zoom).y));\n    col += (drawHeart2(fract(tile2(uv, zoom))-0.5, 0.09, 0.35-0.5*vec2(random( floor(tile2(uv, zoom)) ))))*step(zoom-2.0,floor(tile2(uv, zoom)).y);\n    tex0 = mix(tex0, vec4(col,1.0), col.r);\n    \n\n    \n    //col += drawScene(tile(uv, 10.)-0.5);\n    //col+= drawScene(tile(uv, 5.)-0.5);\n    \n    //col *= (1.0)*step(1., mod(tile_i(uv, zoom).y, 2.0));\n    //col *= (1.0)*step(1., mod(tile_i(uv, zoom).x-1.0, 2.0));\n    //col *=1.0-smoothstep(0.05, 0.15, uv.x)*smoothstep(0.05, 0.15*qq, uv.y)*(smoothstep(0.05, 0.15, 1.0-uv.x)*smoothstep(0.05, 0.15*qq, 1.0-uv.y));\n\n    // Output to screen\n    fragColor = tex0;\n    //fragColor = vec4(vec3(smoothstep(0., 0.3, 1.0-uv.x)*smoothstep(0., 0.3, 1.0-uv.y)),1.0);\n    //vec3 color = vec3(random( tile_i(uv, 9.) ));\n    //fragColor = vec4(color,1.0);\n}","name":"Image","description":"","type":"image"}]}