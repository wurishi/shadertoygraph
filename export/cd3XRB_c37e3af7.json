{"ver":"0.1","info":{"id":"cd3XRB","date":"1679991515","viewed":76,"name":"pixel heart","username":"zyc","description":"pixel heart","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["pixels"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"Xdf3Rn","filepath":"/media/a/e81e818ac76a8983d746784b423178ee9f6cdcdf7f8e8d719341a6fe2d2ab303.webm","previewfilepath":"/media/ap/e81e818ac76a8983d746784b423178ee9f6cdcdf7f8e8d719341a6fe2d2ab303.webm","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"Xdf3zn","filepath":"/media/a/85a6d68622b36995ccb98a89bbb119edf167c914660e4450d313de049320005c.png","previewfilepath":"/media/ap/85a6d68622b36995ccb98a89bbb119edf167c914660e4450d313de049320005c.png","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define MOSAIC_SIZE (50.0/iResolution.xy)\n#define MOSAIC_RING_SIZE (MOSAIC_SIZE*3.0)\n#define PI 3.141592653589793\n\nfloat dot2( in vec2 v ) { return dot(v,v); }\n\nfloat sdHeart( in vec2 p )\n{\n    p.x = abs(p.x);\n\n    if( p.y+p.x>1.0 )\n        return sqrt(dot2(p-vec2(0.25,0.75))) - sqrt(2.0)/4.0;\n    return sqrt(min(dot2(p-vec2(0.00,1.00)),\n                    dot2(p-0.5*max(p.x+p.y,0.0)))) * sign(p.x-p.y);\n}\n\n\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n\n    vec2 muv = floor(uv/MOSAIC_SIZE)*MOSAIC_SIZE;\n    vec2 nuv = (2.0*muv - 1.0)*iResolution.xy/iResolution.y;\n    \n    nuv /= fract(iTime*1.2)*5.;\n    nuv.y += 0.65;\n    float d = sdHeart(nuv);\n    \n    float ad = abs(d);\n    float ms = dot(MOSAIC_RING_SIZE, MOSAIC_RING_SIZE);\n    float f = mix(0.0, (ms-ad)/ms, step(ad, ms));\n\n    vec4 bg = texture(iChannel0, uv);\n    vec4 fg = texture(iChannel1, nuv)*1.35;\n    float nf = fg.r*f;\n    // nf *= step(0.45, nf);\n    fragColor = mix(bg, vec4(1.0), nf);\n}","name":"Image","description":"","type":"image"}]}