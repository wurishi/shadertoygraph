{"ver":"0.1","info":{"id":"cscBzM","date":"1696953010","viewed":21,"name":"Ticket de métro pointable","username":"Arkitu","description":"Les points d'intersections des régions sont commutatifs avec le point","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["math"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    \n    vec2 size = iResolution.xy - 100.;\n    vec2 pointB = iMouse.xy - 50.;\n    //vec2 pointB = vec2(mod(floor(iTime/(size.y/25.))* size.y/25. * 5., size.x), mod(iTime * 25. , size.y));\n    \n    vec2 point = fragCoord - 50.;\n    \n    if (sqrt(pow(point.x-pointB.x, 2.) + pow(point.y-pointB.y, 2.)) < 2.) {\n        fragColor = vec4(0., 0., 0., 1.);\n        return;\n    }\n    \n    if (point.x > size.x || point.x < 0. || point.y > size.y || point.y < 0.) {\n        fragColor = vec4(0., 0., 0., 1.);\n        return;\n    }\n    \n    vec2 left = vec2(-pointB.x, pointB.y);\n    float d1 = sqrt(pow(point.x-left.x, 2.) + pow(point.y-left.y, 2.));\n    \n    vec2 right = vec2((size.x*2.)-pointB.x, pointB.y);\n    float d2 = sqrt(pow(point.x-right.x, 2.) + pow(point.y-right.y, 2.));\n    \n    vec2 up = vec2(pointB.x, (size.y*2.)-pointB.y);\n    float d3 = sqrt(pow(point.x-up.x, 2.) + pow(point.y-up.y, 2.));\n    \n    vec2 down = vec2(pointB.x, -pointB.y);\n    float d4 = sqrt(pow(point.x-down.x, 2.) + pow(point.y-down.y, 2.));\n\n    if (d1 < d2 && d1 < d3 && d1 < d4) {\n        fragColor = vec4(1., 0., 0., 1.);\n    } else if (d2 < d3 && d2 < d4) {\n        fragColor = vec4(0., 0., 1., 1.);\n    } else if (d3 < d4) {\n        fragColor = vec4(1., 1., 0., 1.);\n    } else {\n        fragColor = vec4(0., 1., 0., 1.);\n    }\n}","name":"Image","description":"","type":"image"}]}