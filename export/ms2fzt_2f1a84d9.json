{"ver":"0.1","info":{"id":"ms2fzt","date":"1690416351","viewed":107,"name":"Spiralling petals","username":"numpyhard","description":"Monochrome flowers","likes":8,"published":1,"flags":0,"usePreview":0,"tags":["monochrome"],"hasliked":0,"parentid":"DdBBRd","parentname":"Flowersssssssssss"},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const float PI = 3.1415926535897;\n\nvec3 palette( float t ) {\n    vec3 a = vec3(0.8, 0.5, 0.4);\n    vec3 b = vec3(0.2, 0.4, 0.2);\n    vec3 c = vec3(2.0, 1.0, 2.0);\n    vec3 d = vec3(0.0, 0.25, 0.25);\n\n    return a + b*cos( 6.28318*(c*t+d) );\n}\n\nfloat flower(float x, float a){\n    // Repeats after interval [0, pi-0.4]. I want it to repeat after [0, pi]\n    float freq = (PI-2.0*a)/PI;\n    return abs(cos(mod(abs(freq*x),PI-2.0*a)+a));\n}//min(abs(cos(x-0.2)), abs(cos(x+0.2)))\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (2.0*fragCoord-iResolution.xy)/iResolution.y;\n    \n    float theta = atan(uv.y,uv.x);\n    float cDist = length(uv);\n    \n    float p;\n    float d = 0.0;\n    vec3 col;\n    float i;\n    float petals = 5.0;\n    float pointy;\n    float flowerr;\n    float mult = 1.25;//1.15 + 0.15*sin(.05*iTime);\n    for(i=0.0; i<20.0; i++){\n        pointy = 0.75*sin(.8*iTime)+.75;\n        flowerr = flower(0.5*floor(petals)*theta+(i+1.0)*iTime,pointy);\n        p = length(uv)-(.05*sin(iTime)+.15+.10*i+.4*flowerr/flower(0.0,pointy));\n        d=smoothstep(0.0, 0.03, p);\n        \n        if(p<=0.04)break;\n        petals *= mult;\n    }\n    col = palette(0.02*i+.15*iTime)*(1.0-(1.0-d)*i*0.05);\n    fragColor = vec4(col,1.0);\n}\n\n\n    \n//  && d1 > 0.1 && d1 < 0.85  && cDist > 0.05","name":"Image","description":"","type":"image"}]}