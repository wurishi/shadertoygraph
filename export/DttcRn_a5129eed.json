{"ver":"0.1","info":{"id":"DttcRn","date":"1698833195","viewed":96,"name":"flowergrid","username":"zhangzhihao","description":"花型格子","likes":5,"published":3,"flags":0,"usePreview":0,"tags":["grid"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\nfloat squared(float value) { return value * value; }\n\nfloat grid(vec2 uv, float battery)\n{\n\tfloat lineIntensity;\n    float glowWidth;\n    \n\tfloat Y = uv.y;\n    lineIntensity = (0.4 + squared(1.6 * abs(mod(uv.x  + iTime,2.0) - 1.0)))-(0.4 + squared(1.6 * abs(mod(uv.y  + iTime,2.0) - 1.0)));\n    glowWidth = abs(lineIntensity / (150.0 * Y));\n    vec2 size = vec2(uv.y, uv.y * uv.y * 0.2) * 0.01;\n    uv += lineIntensity;\n    uv = abs(fract(uv) - 0.5);\n \tvec2 lines = smoothstep(size, vec2(0.0), uv);\n \tlines += smoothstep(size * 5.0, vec2(0.0), uv) * 0.4 * battery;\n    return clamp(lines.x + lines.y, 0.0, 3.0);\n}\n\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (2.0 * fragCoord.xy - iResolution.xy)/iResolution.y;\n    float battery = 1.0;\n    {\n        // Grid\n        float fog = smoothstep(0.1, -0.02, abs(uv.y + 0.2));\n        vec3 col = vec3(0.0, 0.0, 0.0);\n        if (uv.y < -0.2)\n        {\n            uv.y = 3.0 / (abs(uv.y + 0.2) + 0.05);\n            uv.x *= uv.y * 1.0;\n            float gridVal = grid(uv, battery);\n            col = mix(col, vec3(0.0, 0.5, 1.0), gridVal);\n        }\n       \n\n        col += fog * fog * fog;\n        col = mix(vec3(col.r, col.g, col.b) , col, battery * 0.7);\n\n        fragColor = vec4(col,1.0);\n    }\n\n\n    \n}","name":"Image","description":"","type":"image"}]}