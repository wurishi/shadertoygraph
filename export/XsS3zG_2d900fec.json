{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[{"channel":0,"type":"music","id":"4dfGzn","filepath":"/media/a/ec8a6ea755d34600547a5353f21f0a453f9f55ff95514383b2d80b8d71283eda.mp3","sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 c = fragCoord.xy / iResolution.xy;\n\tc -= vec2(0.5, 0.5); // range -0.5..0.5\n\tc *= 4.0; // range -2..-2\n\tc *= 0.95; // zoom it a little\n\t// Deal with aspect ratio\n\tc.y *= iResolution.y / iResolution.x;\n\tvec2 curr = c;\n\tfloat t = 2.0 + sin(iTime) * 0.25; // animate it just a bit \n\tc = vec2(sin(t*0.75) * 0.4, cos(t*0.25) * 0.5);\n\tvec4 color = vec4(0,0,0,1);\n\tfloat distWaveform = 10e5;\n\tfor (int i = 0; i < 100; i++)\n\t{\n\t\t// f(x) = x^2 + c\n\t\t// x^2\n\t\tvec2 newx;\n\t\tnewx.x = (curr.x * curr.x) - (curr.y * curr.y);\n\t\tnewx.y = 2.0 * curr.x * curr.y;\n\t\t// + c\n\t\tnewx += c;\n\t\tcurr = newx;\n\t\tfloat mag = sqrt(curr.x * curr.x + curr.y * curr.y);\n\t\tvec4 samp = texture(iChannel0, vec2((curr.x + 2.0) * 0.25, 1.0)) * 1.0;\n\t\tfloat cy = (curr.y + 2.0) * 0.25;\n\t\tfloat dor = abs(samp.x - cy);\n\t\t// Orbit trap, distance from waveform\n\t\tdistWaveform = min(dor, distWaveform);\n\t\tif (mag > 2.0) \n\t\t{\n\t\t\tcolor.x = 0.0;\n\t\t\tcolor.y = 1.0 - pow(distWaveform, 0.10);\n\t\t\tcolor.z = 1.0 - pow(distWaveform, 0.08);\n\t\t\tbreak;\n\t\t}\n\t}\n\tfragColor = vec4(color.xyz * 2.0, 1);\n}\n","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"XsS3zG","date":"1390846831","viewed":325,"name":"Dancing Julia Set","username":"bzztbomb","description":"Using the waveform as the orbit trap.  Pretty fun!\n\nMy definition of \"distance from waveform\" is a little hokey.  I want to try treating it more 2d and finding the closest point that isn't necessarily the .x component.  Next version!\n","likes":9,"published":1,"flags":0,"usePreview":0,"tags":["2d","fractal","orbittrap"],"hasliked":0,"parentid":"","parentname":""}}