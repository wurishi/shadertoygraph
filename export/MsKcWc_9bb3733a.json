{"ver":"0.1","info":{"id":"MsKcWc","date":"1523606991","viewed":1356,"name":"Musical Starfield","username":"hopskotchrainbow","description":"Fly through an intergalactic space of danicng stars","likes":13,"published":3,"flags":64,"usePreview":0,"tags":["music","audio","visualizer","media"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sf3Rn","filepath":"/media/a/0a40562379b63dfb89227e6d172f39fdce9022cba76623f1054a2c83d6c0ba5d.png","previewfilepath":"/media/ap/0a40562379b63dfb89227e6d172f39fdce9022cba76623f1054a2c83d6c0ba5d.png","type":"texture","channel":2,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XdX3Rr","filepath":"/media/a/aea6b99da1d53055107966b59ac5444fc8bc7b3ce2d0bbb6a4a3cbae1d97f3aa.bin","previewfilepath":"/media/ap/aea6b99da1d53055107966b59ac5444fc8bc7b3ce2d0bbb6a4a3cbae1d97f3aa.bin","type":"volume","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"Md2XWm","filepath":"https://soundcloud.com/itsasylum/pumped-up-kicks-dubstep","previewfilepath":"https://soundcloud.com/itsasylum/pumped-up-kicks-dubstep","type":"musicstream","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":0}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec4 wave(float x) {\n    return vec4(\n        texture(iChannel0,vec2(x,0.0)).r,\n        texture(iChannel0,vec2(x,0.25)).r,\n        texture(iChannel0,vec2(x,0.5)).r,\n        texture(iChannel0,vec2(x,0.75)).r\n    );\n}\nvec4 rnd(int index) {\n    float m=float(index);\n    float ax=mod(m,32.0);\n    float ay=floor(m/32.0);\n    float dy=mod(ay,32.0);\n    float az=floor(ay/32.0);\n    vec3 v=vec3(ax,dy,az);\n    return texture(iChannel1,v/32.0);\n}\n\nfloat project(vec3 pos,float size,vec2 coord) {\n    float alpha=0.0;\n    if (pos.z>=eps) {\n        vec2 zdepth=pos.xy*(1.0/pos.z);\n        if (distance(coord,zdepth)<(size/pos.z)) {\n            alpha=1.0;\n        }\n    }\n    return alpha;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 relative=fragCoord-iResolution.xy/2.0;\n    relative/=min(iResolution.x,iResolution.y);\n\n    // Time varying pixel color\n    vec3 col = vec3(0.0);\n    float tm=texture(iChannel2,relative/65.217+vec2(0.25,0.5542)).r;\n    col=mix(col,vec3(0.15,0.02,0.24),tm*wave(0.31).g);\n    float alpha=0.0;\n    for (int id=0;id<100;++id) {\n        vec4 src=rnd(id);\n        src.z=mod(src.z*2.0-iTime/4.0,1.0);\n        src.xy=src.xy-0.5;\n        alpha=max(alpha,project(src.rgb*vec3(vec2(160.0),150.0),0.15*wave(src.w).r+0.1,relative));\n    }\n    col=mix(col,vec3(1.0),alpha);\n\n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"#define pi 3.14152865\n#define eps 0.001","name":"Common","description":"","type":"common"}]}