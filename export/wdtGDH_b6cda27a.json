{"ver":"0.1","info":{"id":"wdtGDH","date":"1568455121","viewed":95,"name":"Skid Row Balls - Amiga - 2D","username":"Gallo","description":"demoscene","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["demoscene"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\nfloat line(vec2 p, vec2 p0, vec2 p1, float width) {\n    vec2 dir0 = p1 - p0;\n    vec2 dir1 = p - p0;\n    float h = clamp(dot(dir1, dir0)/dot(dir0, dir0), 0.0, 1.0);\n    float d = (length(dir1 - dir0 * h) - width * 0.5);\n    return d;\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 cMult = iResolution.xy / (vec2(400.0, 225.0));\n    vec2 coord = trunc(fragCoord / cMult) * cMult;\n\tvec2 tc = ((coord/iResolution.xy * 2.0) - 1.0) * vec2(iResolution.x / iResolution.y, 1.0);\n    float lXLimit = (iResolution.x / iResolution.y) * 2.0 - 1.0;\n    lXLimit *= 0.8;\n\tvec3 col = vec3(0.2, 0.2, 0.8);\n    float lLines = 0.0;\n    vec4 lBalls = vec4(0.0);\n\t\n    float lTime = trunc(iTime * 26.0 ) / 26.0;\n    \n    lXLimit -= 0.12;\n    for(int i = 0; i < 18; ++i)\n    {\n        float fi = float(i) * (2.0 * 3.1416 / 18.0) + lTime * 2.0;\n        vec2 p = tc - vec2(float(i) * 0.1, 0.0);\n        vec2 center = vec2(cos(lTime*2.0) * lXLimit, 0.0);\n        vec2 c = vec2(clamp(sin(fi) + center.x, -lXLimit, lXLimit), cos(fi)) * 0.7;\n        p = tc - c;\n    \tfloat lBall = step(0.08, length(p)); \n        float lLine = 1.0 - step(line(tc, center * vec2(0.74, 1.0), c, 0.004), 0.004);\n        lLines = mix(1.0, lLines, lLine);\n        vec3 lBallGradient = vec3( 0.61 - pow(length(p - vec2(-0.025, 0.025)), 0.40)) * vec3(0.8, 0.8, 1.4);\n        lBalls = mix(vec4(lBallGradient, 1.0), lBalls, lBall);\n    }\n    \n    //Merge layers\n    col = mix(col, vec3(0.90), lLines);\n    col = mix(col, lBalls.xyz, lBalls.a);\n    \n    float lPalette = 24.0;\n    col = trunc(col * 1.12 * lPalette) / lPalette;\n    \n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}