{"ver":"0.1","info":{"id":"DsjSRD","date":"1669994930","viewed":127,"name":"whole julia set (dynamic)","username":"olskor","description":"a shader that calculate the julia set of every imaginary number, to choose a set, click on the screen","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["fractal","math","dynamic"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const int max_iterations = 255;\nfloat scale = 3.0f;\nvec2 c = vec2(-0.2f, -0.7f);\nvec2 offset = vec2(0,0);\n\nvec3 hsv2RgbSmooth(float hue, float saturation, float value) {\n    vec3 rgb = clamp(abs(mod(hue*6.0+vec3(0.0,4.0,2.0),6.0)-3.0)-1.0, 0.0, 1.0);\n\n\trgb = rgb*rgb*(3.0-2.0*rgb);  // Cubic smoothing\t\n\n\treturn value * mix(vec3(1.0), rgb, saturation);\n}\n\n\nfloat fractal(vec2 z, vec2 c) {\n  for (int i = 0; i < max_iterations; i++) {\n\n    float real = z.x * z.x - z.y * z.y + c.x;\n    float imaginary = 2.0 * z.x * z.y + c.y;\n\n    z.x = real;\n    z.y = imaginary;\n\n    if (z.x * z.x + z.y * z.y > 16.0) {\n      return (float(i) + 1.0 - (log2(log2(z.x * z.x + z.y * z.y)) - 1.0));\n    }\n  }\n\n  return 0.0f;\n}\n\nvec2 fragCoordToCartesianPosition(vec2 fragCoord, float scale, vec2 offset) {\n    vec2 coordinate;\n    coordinate.x = (scale * fragCoord.x / (iResolution.x*(iResolution.y/iResolution.x)))-scale / (2.0f*(iResolution.y/iResolution.x));\n    coordinate.y = (scale * fragCoord.y / iResolution.y)-scale / 2.0f;\n    coordinate = coordinate + offset;\n\n  return coordinate;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    //scale = scale/pow(1.5f,iTime);\n    \n    vec2 coordinate = fragCoordToCartesianPosition(fragCoord, scale, offset);\n    vec2 clickPosition = fragCoordToCartesianPosition(vec2(iMouse.x, iMouse.y), 3.0f, vec2(0.0f));\n    \n    float clickPoint;  \n    if(length(clickPosition - coordinate) < 0.02){\n        clickPoint = 1.0;\n    } else {\n        clickPoint = 0.0;\n    }\n\n    c = clickPosition;\n\n\tvec3 col = vec3(1.0, 1.0, 1.0);\n\n  float juliaset = fractal(coordinate, c)/float(max_iterations);\n\n\n  if (juliaset == 0.0f)\n  {\n    col = vec3(0.0f);\n  }else\n  col = hsv2RgbSmooth(juliaset*float(max_iterations)/20.0, 1.0, 1.0f);\n\tfragColor = vec4(col, 1.0f);\n}\n","name":"Image","description":"","type":"image"}]}