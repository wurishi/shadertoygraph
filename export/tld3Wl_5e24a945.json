{"ver":"0.1","info":{"id":"tld3Wl","date":"1578008609","viewed":136,"name":"Cloud - #002","username":"Cewein","description":"some clouds in a japanese style","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["2d","clouds","cloud"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float cloud(vec2 p, float l, float L, vec2 uv, bool extrude)\n{\n    float l2 = l/2.;\n    float L2 = L/2.;\n    float low = step(p.x - L2,uv.x) * step(p.y - l2,uv.y);\n    float up = step(uv.x, p.x + L2) * step(uv.y,p.y+ l2);\n    float rec = low * up;\n    \n    \n    float lf = step(distance(vec2(p.x - L2, p.y), uv), l2);\n    float rg = step(distance(vec2(p.x + L2, p.y), uv), l2);\n    \n    if(extrude)\n        return rec - (lf + rg);\n    return max(lf,max(rg,rec));\n}\n\nfloat cloudMask(vec2 uv)\n{\n    //cloud 1\n    float col  = cloud(vec2(0.65,0.40)\t,0.05\t, 1.0\t,uv, false);\n    col += cloud(vec2(0.90,0.45)\t,0.05\t, 0.5\t,uv, true);\n    col += cloud(vec2(1.05,0.50)\t,0.05\t, 0.8\t,uv, false);\n    col += cloud(vec2(0.75,0.55)\t,0.05\t, 0.2\t,uv, true);\n    col += cloud(vec2(0.55,0.60)\t,0.05\t,0.7\t,uv, false);\n    \n    //cloud 2\n    col += cloud(vec2(1.26,0.60)\t\t,0.05\t, 0.5\t,uv, false);\n    col += cloud(vec2(1.3,0.65)\t\t,0.05\t, 0.3\t,uv, true);\n    col += cloud(vec2(1.40,0.70)\t\t,0.05\t, 0.5\t,uv, false);\n    \n    //cloud 3\n    col += cloud(vec2(1.0,0.30)\t\t,0.05\t, 0.5\t,uv, false);\n    col += cloud(vec2(1.1,0.25)\t\t,0.05\t, 0.3\t,uv, true);\n    col += cloud(vec2(1.2,0.20)\t\t,0.05\t, 0.5\t,uv, false);\n    \n    //cloud 4\n    col += cloud(vec2(0.5,0.75)\t\t,0.05\t, 0.5\t,uv, false);\n    col += cloud(vec2(0.4,0.80)\t\t,0.05\t, 0.3\t,uv, true);\n    col += cloud(vec2(0.6,0.85)\t\t,0.05\t, 0.7\t,uv, false);\n    return col;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    \n    vec2 uv = fragCoord/iResolution.y;\n    float mask = cloudMask(uv);\n    \n    vec3 clouds = vec3(mask);\n    \n    //background\n    vec3 pct = vec3(uv.y/0.784) - -0.744;\n    vec3 sky = mix(vec3(0.270,0.485,0.950), vec3(0.436,0.488,0.950), pct);\n    \n    fragColor = vec4(max(clouds, sky), 1.0);\n}","name":"Image","description":"","type":"image"}]}