{"ver":"0.1","info":{"id":"4fjyDt","date":"1723283659","viewed":96,"name":"// _ball_14.1 HLSL","username":"oleg304","description":"// From \n// https://x.com/zozuar/status/1760365393745433086?s=20\n// https://twigl.app/?ol=true&ss=-NrBpanIIVEvavWI6Uwq","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["shield"],"hasliked":0,"parentid":"4XBGzG","parentname":"Shield emissive os"},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// From \n// https://x.com/zozuar/status/1760365393745433086?s=20\n// https://twigl.app/?ol=true&ss=-NrBpanIIVEvavWI6Uwq\n\n// HLSL -> GLSL https://anteru.net/blog/2016/mapping-between-HLSL-and-GLSL/\n#define float2   vec2\n#define float3   vec3\n#define float4   vec4\n#define lerp     mix\n#define atan2    atan\n#define frac     fract\n#define fmod     mod\n#define float2x2 mat2     \n#define mul(a, b) a*b \n#define texSampl 1.\n#define Texture2DSample(iChannel0, texSampl, uv) texture(iChannel0, uv)\n#define ddx dFdx\n#define ddy dFdy\n#define saturate(oo) clamp(oo, 0.0, 1.0)\nfloat nudge, normalizer;\t// size of perpendicular floattor\n\n//struct Func {\n\nfloat4 res(float2 uv, float tx, float ty, float amp){  \n    //float t= time;\n    uv-=.5;\n    // move    float2 r = float2(.5*sin(1.)+1.,1.);\n    float2 r = float2(1.,1.);\n    float4 o = float4(0.,0.,0.,0.);    \n    float2 p,v;\n    float z, i; \n    int iamp = int(amp);\n    for(int j=0; j<iamp; j++){\n        i = float(j)/amp;\n        p=(uv*2.-r)/r.y*i;\n        p/=.2+sqrt(z=max(1.-dot(p,p),0.))*.3;\n        // rotate\n        p.y+=frac(ceil(p.x=p.x/.9+tx)*.5)+ty;\n        v=abs(frac(p)-.5);\n        o+=float4(1,2,4,1)/2e3*z/(abs(max(v.x*1.5+v,v+v).y-1.)+.1-i*.09);\n        }\n    return tanh(o*o);    \n}\n\n//float iTime, nudge, normalizer;}; Func f; return f.res(in_uv, in_time);\n\n//// HLSL -> ShaderToy\nvoid mainImage(out float4 fragColor, in float2 fragCoord) { \n    float2 uv = fragCoord.xy/iResolution.y*2.;\n    fragColor = res(uv,.6,.7,90.);//*vec4(0.,1.,2.,1.);\n}","name":"Image","description":"","type":"image"}]}