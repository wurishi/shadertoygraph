{"ver":"0.1","info":{"id":"7sXfzj","date":"1645196634","viewed":89,"name":"Truchet Practice","username":"mAmaro","description":"Playing around with truchet tiles. learned from the art of code.","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["random","truchet","tiles"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float Grid(vec2 gv)\n{\n    float Result = 0.0;\n    if(gv.x > .48  || gv.y > .48)\n    { Result = 1.0; }\n    return Result;\n}\n\nfloat Hash(vec2 In)\n{\n    float Result;\n    In  = fract(In * vec2(235.34, 434.345));\n    In += dot(In, In + 34.23*iTime*0.00004);\n    Result = fract(In.x * In.y);\n    return Result;\n}\n\nfloat GetLineDirection(vec2 CellId)\n{\n    float Result = 1.0;\n    if(Hash(CellId) < 0.5) Result = -1.0;\n    return Result;\n}\n\nmat2 Shear(float X, float Y)\n{\n    return mat2(1.0,   X,\n                Y  , 1.0);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    //TODO(): Clean all of this stuff up...\n    vec2 uv  = (fragCoord-0.5*iResolution.xy)/iResolution.y;\n    vec3 col = vec3(0.0);\n \n    uv*= 10.0;\n    //TODO(): Study this effect on uv space v\n    //uv = vec2(iTime*0.2 *atan(uv.x, uv.y), length(uv*uv));\n    \n    uv += iTime;\n    //TODO(): Understand why Shear(sin(t),0.0) makes the seem like its\n    //        translating the uv space.\n    uv *= Shear(0.0, 0.0);\n    vec2 gv = fract(uv)-0.5;\n    vec2 CellId = floor(uv);\n    \n    gv.x *= GetLineDirection(CellId);\n    float Width = 0.15;    \n    \n    //TODO(): Understand the abs(abs()) thing to to get the 2 lines in\n    //        in each cell. Also how does gv.x+gv.y affect the uv space?\n    //float Dist = abs(abs(gv.x+gv.y)-0.5);\n    float Dist = length(gv-sign(gv.x+gv.y+0.001)*0.5)-0.5;\n    //NOTE(): Why does changing the sign of the edge1 and edge2\n    //        invert the result of smoothstep???\n    float Mask = smoothstep(0.01, -0.01, abs(Dist) - Width);\n    \n    //TODO(): Keep the pattern as is but make a clear seperation betweeen\n    //        the grid colors and the truchet line. less jank\n    //col.r = Grid(gv);\n    col -= Hash(CellId);\n    col.gb += Hash(-CellId) + Mask * 0.003;\n    col += Mask;\n    col = pow(col,vec3(2.2));\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}