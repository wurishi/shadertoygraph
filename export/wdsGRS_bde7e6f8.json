{"ver":"0.1","info":{"id":"wdsGRS","date":"1546746244","viewed":254,"name":"cellular noise stacked","username":"caseymacneil","description":"cellular noise based off https://thebookofshaders.com/12/\n","likes":7,"published":1,"flags":0,"usePreview":0,"tags":["noise","distancefields","cellularnoise"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define OCTAVES 4.\nfloat rand(vec2 value)\n{\n\treturn fract(sin(dot(value, vec2(23.1245,87.2980))) * 5387.58135649);\n}\n\nvec2 rand2d(vec2 value)\n{\n\treturn fract(sin(vec2(dot(value, vec2(23.1245,87.2980)), dot(value, vec2(127.5123,39.183)))) * 5387.58135649);\n}\n\n//https://thebookofshaders.com/12/\nfloat getCell(vec2 uv)\n{\n    vec2 iuv = floor(uv);\n    vec2 fuv = fract(uv);\n    vec3 col = (fuv).xyy;\n    float mdist = 1.;\n    \n    // get neighbour tiles\n    for(int y = -1; y <= 1; y++)\n    {\n        for(int x = -1; x <= 1; x++)\n        {\n            vec2 n = vec2(float(x),float(y));\n            \n            vec2 p = rand2d(iuv + n);\n            \n            // animate\n            p.y = 0.5 + 0.5*sin(iTime + 5.*p.y);\n            p.x = 0.5 + 0.5*cos(iTime + 5.*p.x);\n            \n            vec2 diff = n + p - fuv;\n            float dist = length(diff);\n            mdist = min(mdist,dist);\n        }\n    }\n    return mdist;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    \n    \n    vec2 vFontSize = vec2(8.0, 15.0);\n    vec2 uv = fragCoord/iResolution.xy;\n    \n    //scale\n    vec2 p = fragCoord * .01;\n    p += 1.0;\n    //tile\n    \n    // draw center\n    //mdist += step(mdist,.02);\n    \n    vec3 col = vec3(0.);\n    \n    for(float i = 1. ; i < OCTAVES; i++)\n    {\n    \tcol += vec3(getCell(p)) / i;\n        p *= OCTAVES;\n    }\n    \n    //gamma\n    col = pow(col,vec3(2.2));\n    // make pretty :)\n    col.r *= uv.x;\n    col.b *= 1.-uv.y;\n    col.g *= .8 * 1.-uv.x;\n    \n    \n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}