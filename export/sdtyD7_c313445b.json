{"ver":"0.1","info":{"id":"sdtyD7","date":"1659841056","viewed":112,"name":"tunnel grid","username":"HaleyHalcyon","description":"eeaaaaaaaaa","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["spiralzoomperspective"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define TAU (6.283185307)\n#define HEX(x) (vec3((x >> 16) & 255, (x >> 8) & 255, x & 255) / 255.)\n\nfloat fade(float t) {\n  return t * t * t * (t * (t * 6. - 15.) + 10.);\n}\n\nfloat fadestep(float t) {\n  return floor(t) + fade(min(1., fract(t) * 1.2));\n}\n\nfloat zigzag(float x) {\n    return 1. - abs(1. - 2. * fract(x));\n}\n\n#define DISTSCALE -0.1\n#define ZOOMDIST -4.\n#define ZOOMCONST -1.\n#define SPEED 1./3.\n#define DISTSTEP 12.0\n#define ANGLESTEP 16.0\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n  float time = fract(iTime * SPEED);\n  // Normalized pixel coordinates (from 0 to 1)\n  float scale = min(iResolution.x, iResolution.y);\n  vec2 uv = (gl_FragCoord.xy - 0.50 * iResolution.xy) / scale;\n  \n  float dist = DISTSCALE / (sqrt(uv.x * uv.x + uv.y * uv.y));\n  float angle = atan(uv.y, uv.x) / TAU;\n  float dark = mod(floor(time * 50.), 2.);\n  \n  const vec3 col0 = HEX(0x010a31);\n  const vec3 col1 = HEX(0xEB0072);\n  const vec3 col2 = HEX(0x009BE8);\n  const vec3 col3 = HEX(0xfff100);\n  \n  float dStep = round((dist - ZOOMCONST * time) * DISTSTEP) / DISTSTEP;\n  float aStep = round(ANGLESTEP * angle) / ANGLESTEP;\n  \n  float spiral1 = step(fract(0.1 +\n      + 2. * aStep\n      + dStep\n      + ZOOMDIST * fadestep(time)\n      + ZOOMCONST * time\n  ), 0.5);\n  float spiral2 = step(fract(0.1 +\n      - 2. * aStep\n      + dStep\n      + ZOOMDIST * fadestep(fract(time + 0.5))\n      + ZOOMCONST * time\n  ), 0.5);\n  \n  vec3 col = mix(\n      mix(col0, col1, spiral1),\n      mix(col2, col3, spiral1),\n      spiral2\n  );\n  \n  float alpha = step(abs(dist), 4.2);\n  alpha *= step(0.125, zigzag(0.5 + (dist - ZOOMCONST * time) * DISTSTEP));\n  alpha *= step(0.125, zigzag(0.5 + angle * ANGLESTEP));\n  \n  col = mix(\n      vec3(1), col, alpha\n  );\n  // Output to screen\n  fragColor = vec4(\n    col, 1.0\n  );\n}","name":"Image","description":"","type":"image"}]}