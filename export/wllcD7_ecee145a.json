{"ver":"0.1","info":{"id":"wllcD7","date":"1592272658","viewed":87,"name":"Schwarz H","username":"bcourter","description":"Working towards the Schwarz H surface","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["minimalsurface"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const int count = 3;\nconst float pi = 3.14159265358979;\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n    float scale = 0.25;\n    \n    vec2 p = (fragCoord - iResolution.xy * 0.5) * scale;\n\tvec2 p1 = p - vec2(0.5 / scale, 0.0);\n\tvec2 p2 = p + vec2(0.5 / scale, 0.0);\n     \n    float sum = -1.0;    \n    for (int i = 0; i < count; i++) {\n        float ratio = float(i) / float(count);\n    \tfloat dir = (p1 * Rotate(pi * ratio)).x;\n            \n    \tsum = sum + cos(dir);   \n    }\n    \n\n    float rot = 1.0;    \n    for (int i = 0; i < count; i++) {\n        float ratio = float(i) / float(count);\n    \tfloat dir = (p2 * Rotate(pi * ratio + pi)).x;\n            \n    \trot = rot - cos(dir);   \n    }\n   \n    //fragColor = vec4(-rot, sum > 0.0 ? 0.4 : 0.2, sum, 1);   \n    \n    float combined = mix(sum, rot, sin(iTime) * 0.5 + 0.5);\n\t\n    fragColor = vec4(0, combined > 0.0 ? 0.4 : 0.2, abs(combined), 1);   \n\n    \n    if (length(fragCoord - iResolution.xy * 0.5) < 2.0)\n        fragColor = vec4(1.0, 0.0, 0.0, 1.0);   \n\n}\n\n","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"\n \nmat2 Rotate(float theta) {\n    float c = cos(theta);\n    float s = sin(theta);\n    return mat2(\n        vec2(c, -s),\n        vec2(s, c)\n    );\n}\n","name":"Common","description":"","type":"common"}]}