{"ver":"0.1","info":{"id":"fs2fWR","date":"1646008889","viewed":96,"name":"My Flag","username":"lwswl","description":"The American Flag","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["flag"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.14159267543\n\nfloat star(vec2 a){\n\n\n    float f=0.;\n    //a=(a-0.5)*3.0;\n    a.x=1.-a.x;\n    for (float i=0.;i<5.;i++){\n        if(a.x*sin(i*0.4*PI)+a.y*cos(i*0.4*PI)>-0.5)f+=0.1;\n    }\n    return float(f>0.3);\n     \n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 U=normalize(iResolution.xy);\n    //#define fragCoord round(fragCoord*0.1)*10.\n    fragColor.rgb=vec3(0);\n    for(int ju=0;ju<64;ju++){\n        vec3 col;\n        \n        vec2 fc=fragCoord+0.125*vec2(ju%8,ju/8);\n        vec2 uv = 1.-fc/iResolution.xy;\n        float time=iTime*0.23;\n        float f=uv.x*sin(1.)*cos((time+uv.x*0.5)*32.0)*0.5+0.5;\n        col.rgb=vec3(-f*0.2+0.6);\n        col.rgb*=vec3(1.0,0.90,0.85);\n        float c=uv.y*6.2+f*0.5;\n        \n        \n        float bumpah=sin(c/0.02)*sin(uv.x/0.002)*0.01;\n        c+=bumpah*0.3;\n        bumpah*=-1.;\n        if(c<1.5)col.rgb=vec3(0);\n        if(c>5.5)col.rgb=vec3(0);\n        if(0.3*bumpah-0.2+0.2*sin(uv.y*3.)+uv.x*6.2+1.*0.5>5.5)col.rgb=vec3(0);\n        if(0.3*bumpah+uv.x*6.2+1.*0.5<1.5)col.rgb=vec3(0);\n        //col.rgb=vec3(w);\n        if(uv.x>0.57&&c<3.7-0.308&&col.rgb!=vec3(0)){\n            \n            col.rgb*=vec3(0.2,0.2,0.2);\n            for(float i=0.;i<50.;i++){\n                float C=6.;\n                float y=floor(i/C);\n                float x=mod(i,C)+0.5*mod(y,2.);\n                if(i==C*2.-1.){y+=7.;x-=0.5;}\n                if(i==C*4.-1.){y+=5.;x-=1.5;}\n                if(i==C*6.-1.){y+=3.;x-=2.5;}\n                if(i==C*8.-1.){y+=1.;x-=3.5;}\n                col.rgb+=star(vec2(uv.x,c*0.2)*128.*U-vec2(64.+3.*y,20.6+4.*x))*0.5;\n            }\n        }\n        else for(float i=0.0;i<13.0;i+=2.){\n            if(c>1.5+i*0.308&&c<1.5+0.308+i*0.308)col.rgb*=vec3(1,0.2,0.2);\n        }\n        uv.x-=0.00164;\n        float rf=round(uv.x*10.)*0.1*sin(1.)*cos((time+round(uv.x*10.)*0.1*0.5)*32.0)*0.5+0.5;\n        float rc=uv.y*6.2+rf*0.5;\n        float m=-(0.4/sqrt(rf))*0.1+1.1;\n        uv.x=(uv.x-0.82)*m+0.82;\n        //uv.y=(uv.y-0.35)*m+0.35;\n        float g=m*sin(uv.x*100.+0.3);\n        //rc=uv.y*6.2+1.*0.5;\n        uv.x+=0.00164;\n        if(uv.x>0.806&&uv.x<0.85&&rc+0.04*g>1.3){\n            float og=g;\n            g*=0.4+sin(uv.x*1000.+cos(uv.y*10.+100.*sin(uv.x*10.)))*0.4;\n            col.rgb=vec3(g*0.5+0.5,g*0.4+0.3,g*0.2+0.2);\n            vec2 bpos=uv*vec2(1.3,2)-vec2(og,1);\n            float fake_spec=0.04/dot(bpos,bpos);\n            fake_spec=3.*fake_spec*fake_spec+2.*fake_spec*fake_spec*fake_spec;\n            col.rgb+=vec3(fake_spec)*0.1;\n        }else if (col.rgb!=vec3(0))col.rgb+=vec3(bumpah);\n        fragColor.rgb+=col*(1./64.);\n        \n        \n    }\n    \n    //fragColor.rgb+=vec3(star(1.-fragCoord/iResolution.xy));\n    \n}\n","name":"Image","description":"","type":"image"}]}