{"ver":"0.1","info":{"id":"fsKSzc","date":"1635049580","viewed":764,"name":"Blackhole Golf","username":"Xor","description":"A tiny shader based on my [url=https://bit.ly/3jwK7Rk]Twigl blackhole shader[/url].","likes":46,"published":1,"flags":0,"usePreview":0,"tags":["blackhole","golf"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sfGRr","filepath":"/media/a/27012b4eadd0c3ce12498b867058e4f717ce79e10a99568cca461682d84a4b04.bin","previewfilepath":"/media/ap/27012b4eadd0c3ce12498b867058e4f717ce79e10a99568cca461682d84a4b04.bin","type":"volume","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Twigl: https://bit.ly/3jwK7Rk\n// Tweet: https://twitter.com/XorDev/status/1452126090634403842\n// <512 Chars playlist: shadertoy.com/playlist/N3SyzR\n\n// Blackhole Golf 1: https://shadertoy.com/view/fsKSzc\n// Blackhole Golf 2: https://shadertoy.com/view/7dGSDy\n\n#define N(p) texture(iChannel0,(p)/1.9).r\n#define A  (mix( x*dot(p,x), p, -cos(t) ) + sin(t) *cross(p,x))\n\nvoid mainImage(out vec4 O, vec2 C )\n{\n    vec3 x = vec3(.22,.97,0),\n         r = iResolution,\n         d = vec3(C+C-r.xy,-r)/r.x,\n         p=x-x, o = p;\n    \n    float R,a=.03,i=a,t=iTime/4.;\n    for(p.z=4., p+=d; i++<2e2; p += d/40. )\n    \n    a *= min(R=dot(p,p),.2)/.2,\n    o += (1.-d) * (N(A)+N(A*.3)-.5)\n          * a / max(A*A*4e2,R).y/R,\n    d -= p/4e2/R/R;\n    \n    p = d/length(d)/.1;\n    O.gbr = max(o,(N(A)-.75)*a*1e2);\n}\n\n\n// 463 chars:\n/*\nvoid mainImage(out vec4 O, vec2 C )\n{\n    #define N(p) texture(iChannel0,(p)/19.).r\n    vec4 x = vec4(0,.22,.97,1),\n    t = sin(iTime/4.+vec4(0,22,11,33));\n    \n    vec3 r=iResolution,\n    d=vec3(-r.x,C+C-r.xy)/r.x,\n    w = ++t.w*x.xyz,\n    q,p=d-d;\n    \n    mat3 A = mat3(\n        w * x.x + x.wzy*t.zxy,\n        w * x.y + x.zwx*t.yzx,\n        w * x.z + x.yxw*t.xyz);\n        \n    O -= O;\n    float R,a=.03,i=a;\n    for(p.x=4.,p+=d;i++<2e2;d-=p/4e2/R/R,p+=d/40.)\n    O.rgb += (1.-d) * (N(q=p*A/.1)+N(q*.3)-.5)\n    *(a*=min(R=dot(p,p),.2)/.2)/max(q*q*4.,R).z/R;\n    \n    O = max(O,(N(d/length(d)*A*1e2)-.75)*a*1e2);\n}\n*/","name":"Image","description":"","type":"image"}]}