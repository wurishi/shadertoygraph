{"ver":"0.1","info":{"id":"ld3fzn","date":"1523921315","viewed":270,"name":"oscilloscope with Trigger","username":"rory618","description":"use the mouse to set the trigger. Looks like the end of one sample doesn't match up with the next, causing some jumps. Change timescale in common.","likes":4,"published":1,"flags":36,"usePreview":0,"tags":["sound","oscilliscope","trigger"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4sXGR8","filepath":"/media/previz/buffer02.png","previewfilepath":"/media/previz/buffer02.png","type":"buffer","channel":2,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\nvoid mainImage( out vec4 o, in vec2 i )\n{\n    vec2 uv = i*X.xy;\n    \n    o = 0.*texture(iChannel0,uv);\n    \n    vec2 a = clamp(2.-abs(M.xy-i),0.,1.);\n    o = mix(o,vec4(1,1,0,1),max(a.x,a.y));\n    \n    o += texture(iChannel1,uv+X.xy*vec2(-1,1))/16.;\n    o += texture(iChannel1,uv+X.xy*vec2( 0,1))/8.;\n    o += texture(iChannel1,uv+X.xy*vec2( 1,1))/16.;\n    o += texture(iChannel1,uv+X.xy*vec2(-1,0))/8.;\n    o += texture(iChannel1,uv+X.xy*vec2( 0,0))/4.;\n    o += texture(iChannel1,uv+X.xy*vec2( 1,0))/8.;\n    o += texture(iChannel1,uv+X.xy*vec2(-1,-1))/16.;\n    o += texture(iChannel1,uv+X.xy*vec2( 0,-1))/8.;\n    o += texture(iChannel1,uv+X.xy*vec2( 1,-1))/16.;\n    o += texture(iChannel2,uv);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"XdfGR8","filepath":"/media/previz/buffer03.png","previewfilepath":"/media/previz/buffer03.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"void mainImage( out vec4 o, in vec2 i )\n{\n    vec2 uv = i*X.xy;\n    \n    for(float d = X.x*-10.;d < X.x*10.;d+=X.x){\n        \n        float c = signal(uv.x-X.x+d);\n        float e = signal(uv.x+X.x+d);\n        c = c-M.y*X.y;\n        e = e-M.y*X.y;\n        if(c<0. && e > 0.)\n            o = vec4(1);\n    }\n    \n\tfloat c = signal(uv.x-X.x);\n\tfloat e = signal(uv.x+X.x);\n    \n    c = c-M.y*X.y;\n    e = e-M.y*X.y;\n    \n    if(c<0. && e > 0.)\n        o = vec4(2);\n}","name":"Buf A","description":"","type":"buffer"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":2,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XdfGR8","filepath":"/media/previz/buffer03.png","previewfilepath":"/media/previz/buffer03.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"XsXGR8","channel":0}],"code":"\nvoid mainImage( out vec4 o, in vec2 i )\n{\n    vec2 uv = i*X.xy;\n    bool trg = false;\n    float t;\n    for(t = .5; t < 1.; t+=10.*X.x){\n        if(texture(iChannel1,vec2(t,0)).x>0.5){\n            trg = true;\n            break;\n        }\n        \n    }\n    if(!trg){\n        for(t = .5; t > 0.; t-=10.*X.x){\n            if(texture(iChannel1,vec2(t,0)).x>0.5){\n                trg = true;\n                break;\n            }\n\n        }\n    }\n    \n    trg = false;\n    float tm = t + 10.*X.x;\n    for(t = t - 10.*X.x; t < tm; t+=X.x){\n        if(texture(iChannel1,vec2(t,0)).x>1.15){\n            trg = true;\n            break;\n        }\n        \n    }\n    //t+=.064;\n    \n    \n    float y = 0.;\n\tfloat a = signal(t+uv.x-M.x*X.x-X.x*3.);\n\tfloat b = signal(t+uv.x-M.x*X.x-X.x*2.);\n\tfloat c = signal(t+uv.x-M.x*X.x-X.x);\n\tfloat d = signal(t+uv.x-M.x*X.x);\n\tfloat e = signal(t+uv.x-M.x*X.x+X.x);\n\tfloat f = signal(t+uv.x-M.x*X.x+X.x*2.);\n\tfloat g = signal(t+uv.x-M.x*X.x+X.x*3.);\n    \n    c = c-uv.y;\n    d = d-uv.y;\n    e = e-uv.y;\n    \n    float w = 1.5;\n    o = max(vec4(0.),vec4(max(w-abs(c)/X.y,max(w-abs(d)/X.y,w-abs(e)/X.y))));\n    if(c*d<0. || c*e<0. || d*e<0.)\n        o = vec4(1);\n    if(!trg){\n        o = texture(iChannel2,uv);\n    }\n}","name":"Buf B","description":"","type":"buffer"},{"inputs":[],"outputs":[],"code":"#define X (1./iResolution)\n#define M (iMouse.x<1.?(vec2(.05,.5)/X.xy):iMouse.xy)\n#define SCALE .4\n#define signal(t) (texture(iChannel0,vec2(fract(SCALE*(t)),X.y*(SCALE+.5-floor(SCALE*(t))))).x)\n\n    ","name":"Common","description":"","type":"common"},{"inputs":[{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4sXGR8","filepath":"/media/previz/buffer02.png","previewfilepath":"/media/previz/buffer02.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4sXGR8","channel":0}],"code":"void mainImage( out vec4 o, in vec2 i )\n{\n    vec2 uv = i*X.xy;\n    o = mix(texture(iChannel0,uv),texture(iChannel1,uv),.99);\n}","name":"Buf C","description":"","type":"buffer"},{"inputs":[{"id":"XdXGRr","filepath":"/presets/mic.png","previewfilepath":"/presets/mic.png","type":"mic","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XdfGR8","filepath":"/media/previz/buffer03.png","previewfilepath":"/media/previz/buffer03.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"XdfGR8","channel":0}],"code":"void mainImage( out vec4 o, in vec2 i )\n{\n    if(i.y<1.){\n        o = texture(iChannel0,vec2(i.x*X.x,.75));\n    } else {\n        o = texture(iChannel1,X.xy*vec2(i.x,(i.y-1.)));\n    }\n}","name":"Buf D","description":"","type":"buffer"}]}