{"ver":"0.1","info":{"id":"dtBfzc","date":"1694307285","viewed":37,"name":"Saddinger's 2","username":"graygoose","description":"A sad field system.\n\nTODO: \n-Everything\n-Obstacles.\n-FIX laplacian","likes":0,"published":1,"flags":32,"usePreview":0,"tags":["field","physics","laplacian","complexfunction"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4sXGR8","filepath":"/media/previz/buffer02.png","previewfilepath":"/media/previz/buffer02.png","type":"buffer","channel":2,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XdfGR8","filepath":"/media/previz/buffer03.png","previewfilepath":"/media/previz/buffer03.png","type":"buffer","channel":3,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Fork of \"Sad Schroedinger's\" by graygoose. https://shadertoy.com/view/csyXzd\n// 2023-09-10 00:54:35\n\nvoid mainImage(out vec4 O, in vec2 U) {O=D;}\n","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4sXGR8","filepath":"/media/previz/buffer02.png","previewfilepath":"/media/previz/buffer02.png","type":"buffer","channel":2,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XdfGR8","filepath":"/media/previz/buffer03.png","previewfilepath":"/media/previz/buffer03.png","type":"buffer","channel":3,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"void mainImage(out vec4 Q, in vec2 U) {\n    vec4 W = D, obstacle;\n\n    if (iFrame < 1 || iMouse.z > 0.) {\n        W = vec4(0.);\n        W.zw += vec2(1.0);\n        W.xy += vec2(0.25 * cos(0.1 * length(U - 0.5 * R.xy)), \n                       0.25 * sin(0.1 * length(U - 0.5 * R.xy)));\n    }\n    \n    \n\n    vec4 L = lap(iChannel0, UV, R.xy) - W;\n    W -= K * vec4((W.x * cos(W.z) * sin(W.y) + L.x),\n                  (W.y * cos(W.w) * sin(W.z) + L.y),\n                  (W.z * cos(W.x) * sin(W.w) + L.z),\n                  (W.w * cos(W.y) * sin(W.x) + L.w)\n                  );\n\n    \n    Q = normalize(W);\n}\n","name":"Buffer A","description":"","type":"buffer"},{"inputs":[],"outputs":[],"code":"// shadertoy common\n#define R iResolution\n#define UV (U/R.xy)\n#define A texture(iChannel0, UV)\n#define B texture(iChannel1, UV)\n#define C texture(iChannel2, UV)\n#define D texture(iChannel3, UV)\n#define K 10.0\n\n// math common\nvec2 wrap(in vec2 p, in vec2 res) {\n    vec2 wrapped = mod(p, res);\n    vec2 stepWrap = step(wrapped, vec2(0.0));\n    wrapped += stepWrap * res;\n    \n    // Smooth interpolation\n    vec2 smoothed = mix(wrapped, p, smoothstep(0.0, 1.0, stepWrap));\n    return smoothed;\n}\n\nvec4 lap(in sampler2D c, in vec2 p, in vec2 r) {\n    vec4 sum = vec4(0.0);\n\n    vec2 wrapped = wrap(p, r);\n    vec2 texelSize = 1. / r;\n\n    sum += texture(c, wrapped + vec2(0.0, -texelSize.y));\n    sum += texture(c, wrapped + vec2(-texelSize.x, 0.0));\n    sum -= 4.0 * texture(c, wrapped);\n    sum += texture(c, wrapped + vec2(texelSize.x, 0.0));\n    sum += texture(c, wrapped + vec2(0.0, texelSize.y));\n\n    return sum;\n}","name":"Common","description":"","type":"common"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4sXGR8","filepath":"/media/previz/buffer02.png","previewfilepath":"/media/previz/buffer02.png","type":"buffer","channel":2,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XdfGR8","filepath":"/media/previz/buffer03.png","previewfilepath":"/media/previz/buffer03.png","type":"buffer","channel":3,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"XsXGR8","channel":0}],"code":"void mainImage(out vec4 Q, in vec2 U) {\n    vec4 W = A, obstacle;\n\n    if (iFrame < 1 || iMouse.z > 0.) {\n        //W = vec4(0.);\n        W.zw += vec2(1.0);\n        W.xy += vec2(0.25 * cos(0.1 * length(U - 0.5 * R.xy)), \n                       0.25 * sin(0.1 * length(U - 0.5 * R.xy)));\n    }\n    \n\n    vec4 L = lap(iChannel1, UV, R.xy) - W;\n    W -= K * vec4((L.x * sin(W.z) * cos(W.y) + W.x),\n                  (L.y * sin(W.w) * cos(W.z) + W.y),\n                  (L.z * sin(W.x) * cos(W.w) + W.z),\n                  (L.w * sin(W.y) * cos(W.x) + W.w)\n                  );\n\n\n    \n    Q = normalize(W);\n}\n","name":"Buffer B","description":"","type":"buffer"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4sXGR8","filepath":"/media/previz/buffer02.png","previewfilepath":"/media/previz/buffer02.png","type":"buffer","channel":2,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XdfGR8","filepath":"/media/previz/buffer03.png","previewfilepath":"/media/previz/buffer03.png","type":"buffer","channel":3,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4sXGR8","channel":0}],"code":"void mainImage(out vec4 Q, in vec2 U) {\n    vec4 W = B, obstacle;\n\n    if (iFrame < 1 || iMouse.z > 0.) {\n        //W = vec4(0.);\n        W.zw += vec2(1.0);\n        W.xy += vec2(0.25 * cos(0.1 * length(U - 0.5 * R.xy)), \n                       0.25 * sin(0.1 * length(U - 0.5 * R.xy)));\n    }\n    \n    \n\n    vec4 L = lap(iChannel2, UV, R.xy) - W;\n    W -= K * vec4((W.x * tan(mod(W.z, 3.14159)) * tan(mod(W.y, 3.14159)) + L.x),\n                  (W.y * tan(mod(W.w, 3.14159)) * tan(mod(W.z, 3.14159)) + L.y),\n                  (W.z * tan(mod(W.x, 3.14159)) * tan(mod(W.w, 3.14159)) + L.z),\n                  (W.w * tan(mod(W.y, 3.14159)) * tan(mod(W.x, 3.14159)) + L.w)\n                  );\n\n\n    \n    Q = normalize(W);\n}\n","name":"Buffer C","description":"","type":"buffer"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4sXGR8","filepath":"/media/previz/buffer02.png","previewfilepath":"/media/previz/buffer02.png","type":"buffer","channel":2,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XdfGR8","filepath":"/media/previz/buffer03.png","previewfilepath":"/media/previz/buffer03.png","type":"buffer","channel":3,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"XdfGR8","channel":0}],"code":"void mainImage(out vec4 Q, in vec2 U) {\n    vec4 W = C, obstacle;\n\n    if (iFrame < 1 || iMouse.z > 0.) {\n        //W = vec4(0.);\n        W.zw += vec2(1.0);\n        W.xy += vec2(0.25 * cos(0.1 * length(U - 0.5 * R.xy)), \n                       0.25 * sin(0.1 * length(U - 0.5 * R.xy)));\n    }\n    \n\n    vec4 L = lap(iChannel3, UV, R.xy) - W;\n    W -= K * vec4((W.x * asin(clamp(W.z, -1.0, 1.0)) * acos(clamp(W.y, -1.0, 1.0)) + L.x),\n                  (W.y * asin(clamp(W.w, -1.0, 1.0)) * acos(clamp(W.z, -1.0, 1.0)) + L.y),\n                  (W.z * asin(clamp(W.x, -1.0, 1.0)) * acos(clamp(W.w, -1.0, 1.0)) + L.z),\n                  (W.w * asin(clamp(W.y, -1.0, 1.0)) * acos(clamp(W.x, -1.0, 1.0)) + L.w)\n                  );\n\n\n    \n    Q = normalize(W);\n}\n","name":"Buffer D","description":"","type":"buffer"}]}