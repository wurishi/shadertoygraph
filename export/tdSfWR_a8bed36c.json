{"ver":"0.1","info":{"id":"tdSfWR","date":"1589813092","viewed":214,"name":"Basic Road","username":"toeyn","description":"Running dash on road","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["road"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float getAspectRatio()\n{\n    return iResolution.x / iResolution.y;\n}\n\n\nvoid drawRoad(in vec2 uvCoords, inout vec4 canvas)\n{\n    float s = step(0.0, uvCoords.y);\n    float t = mod(iTime*15.0, 70.0);\n    vec4 road = vec4(vec3(sign(sin(50.0 * pow(-uvCoords.y, 0.2) - t))), 1.0);\n    \n    road = clamp(road, 0.0, .8);\n    road *= vec4(1.6 * (0.5 + uvCoords.y),\n                 1.6 * (0.5 + uvCoords.y),\n                 1.6 * (0.5 + uvCoords.y),\n                 1.0);\n    road += vec4(.2,.2,.2,0.0);\n    canvas = mix(road, canvas, s);\n}\n\nvoid drawSidewalk(in vec2 uvCoords, inout vec4 canvas)\n{\n    float s = step(0.85 * (0.015 - uvCoords.y), abs(uvCoords.x) / getAspectRatio()) * step(0.0, -uvCoords.y);\n    vec4 sidewalk = vec4(0. , 0. , 0. , 1.0);\n    \n    canvas = mix(canvas, sidewalk, s);\n}\n\nvoid drawRunningDash(in vec2 uvCoords, inout vec4 canvas)\n{\n    float b = 0.015 * (0.55 - uvCoords.y);\n    float s = smoothstep(-b,b, abs(uvCoords.x) / getAspectRatio()) * step(0.0, -uvCoords.y);\n    vec4 sidewalk = vec4(0.2,0.2,0.2, 1.0);\n    \n    canvas = mix(canvas, sidewalk, s);\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n\tvec2 uv = ((fragCoord - 0.5) / (iResolution.xy - 1.0) - 0.5) * vec2(getAspectRatio(), 1.0);\n\n    drawRoad(uv, fragColor);\n    drawRunningDash(uv, fragColor);\n    drawSidewalk(uv, fragColor);\n}","name":"Image","description":"","type":"image"}]}