{"ver":"0.1","info":{"id":"M3lyR4","date":"1726496142","viewed":20,"name":"ball and plane _","username":"katharsys","description":"ball and plane ","likes":1,"published":1,"flags":48,"usePreview":0,"tags":["ballandplane"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dX3Rn","filepath":"/media/a/bd6464771e47eed832c5eb2cd85cdc0bfc697786b903bfd30f890f9d4fc36657.jpg","previewfilepath":"/media/ap/bd6464771e47eed832c5eb2cd85cdc0bfc697786b903bfd30f890f9d4fc36657.jpg","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4sf3Rn","filepath":"/media/a/0a40562379b63dfb89227e6d172f39fdce9022cba76623f1054a2c83d6c0ba5d.png","previewfilepath":"/media/ap/0a40562379b63dfb89227e6d172f39fdce9022cba76623f1054a2c83d6c0ba5d.png","type":"texture","channel":2,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float ball(vec2 uv, float r, float offset)\n{\n    float x = uv.x - offset;\n    float y = uv.y;\n    \n    float d = length(vec2(x, y)) - r;\n    \n    return step(0.0, -d);\n}\n\n\nfloat plane(vec2 uv, float size, float offset)\n{\n    uv.y -= 0.8;\n    float x = uv.x;\n    float y = uv.y - offset;\n    \n    float d = max(abs(x), 6.0 * abs(y)) - size;\n    \n    return step(0.0, -d);\n}\n\n\nfloat cube(vec2 uv, float size, float offset)\n{\n    uv.y -= 0.8;\n    float x = uv.x;\n    float y = uv.y - offset;\n    \n    float d = max(abs(x), abs(y)) - size;\n    \n    return step(0.0, -d);\n}\n\n\nvec3 draw(vec2 uv)\n{\n    vec3 col = vec3(0.18, 0.46, 0.87);\n    \n    float ballOffset = texelFetch(iChannel0, ivec2(0, 0), 0).x;\n    float planeOffset = texelFetch(iChannel0, ivec2(0, 0), 0).y;\n    \n    float ballSize = 0.15;\n    float planeSize = 0.2;\n    float cubeSize = 0.1;\n    \n    float ball = ball(uv, ballSize, ballOffset);\n    float plane = plane(uv, planeSize, planeOffset);\n    float cube = cube(uv, cubeSize, planeOffset);\n    \n    col = mix(col, vec3(1.0), ball);\n    col = mix(col, vec3(0.19, 0.9, 0.77), cube);\n\n    return col;\n}\n\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n    vec2 uv = fragCoord / iResolution.xy;\n    uv -= vec2(0.5, 0.2);\n    uv.x *= iResolution.x / iResolution.y;\n\n    vec3 col = draw(uv);\n\n    fragColor = vec4(col, 1.0);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGRr","filepath":"/presets/tex00.jpg","previewfilepath":"/presets/tex00.jpg","type":"keyboard","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"const int AKey = 65;\nconst int DKey = 68;\n\n\nfloat ballOffsetChange(float offset)\n{\n    float velocity = 0.02;\n    \n    float left = texelFetch(iChannel1, ivec2(AKey, 0), 0).x * -1.0;\n    float right = texelFetch(iChannel1, ivec2(DKey, 0), 0).x * 1.0;\n    \n    offset += (left + right) * velocity;\n    \n    return offset;\n}\n\n\nfloat planeOffsetChange(float offset)\n{\n    float velocity = 0.01;\n    \n    offset -= velocity;\n    if (offset < -1.0)\n    {\n        offset = 0.0;\n    }\n    \n    return offset;\n}\n\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n    float ballOffset = texelFetch(iChannel0, ivec2(0, 0), 0).x;\n    float planeOffset = texelFetch(iChannel0, ivec2(0, 0), 0).y;\n    \n    ballOffset = ballOffsetChange(ballOffset);\n    planeOffset = planeOffsetChange(planeOffset);\n    \n    fragColor = vec4(ballOffset, planeOffset, 0, 0);\n}","name":"Buffer A","description":"","type":"buffer"}]}