{"ver":"0.1","info":{"id":"flXfW2","date":"1651446583","viewed":81,"name":"Vietnam flag texture Fast","username":"dormon","description":"Fast version of vietnam flag texture.","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["fast","flag","proceduraltexture","vietnam"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"highp vec4 vietnamFlagTexture(highp vec2 uv )\n{ \n  const vec3  red       = vec3(0xda,0x25,0x1d)/vec3(0xff);\n  const vec3  yellow    = vec3(0xff,0xff,0x00)/vec3(0xff);\n  const float aspect    = 3.f/2.f;\n  const vec2  center    = vec2(aspect/2.f,0.5f);\n  const float radius    = 0.3f;\n  const float radiusMod = cos(radians(72.f))/cos(radians(36.f));\n  const float outer     = radius*radius;\n  const float inner     = outer*radiusMod*radiusMod;\n  #define VIETNAM_FLAG_VERT(x) (radius*vec2(sin((x)*radians(72.f)),cos((x)*radians(72.f))))\n  #define VIETNAM_FLAG_EDGE(x) (VIETNAM_FLAG_VERT(x+2.f)-VIETNAM_FLAG_VERT(x))\n  #define VIETNAM_FLAG_NORM(x) vec2(-VIETNAM_FLAG_EDGE(x).y,VIETNAM_FLAG_EDGE(x))\n  #define VIETNAM_FLAG_CC(x)   dot(VIETNAM_FLAG_NORM(x),center+VIETNAM_FLAG_VERT(x))\n  \n  uv.x*=aspect;\n\n  float p = 1.f;\n  p *= dot(VIETNAM_FLAG_NORM(0.f),uv)-VIETNAM_FLAG_CC(0.f);\n  p *= dot(VIETNAM_FLAG_NORM(1.f),uv)-VIETNAM_FLAG_CC(1.f);\n  p *= dot(VIETNAM_FLAG_NORM(2.f),uv)-VIETNAM_FLAG_CC(2.f);\n  p *= dot(VIETNAM_FLAG_NORM(3.f),uv)-VIETNAM_FLAG_CC(3.f);\n  p *= dot(VIETNAM_FLAG_NORM(4.f),uv)-VIETNAM_FLAG_CC(4.f);\n  #undef VIETNAM_FLAG_VERT\n  #undef VIETNAM_FLAG_EDGE\n  #undef VIETNAM_FLAG_NORM\n  #undef VIETNAM_FLAG_CC\n  \n  float d    = dot(uv-center,uv-center);\n  float mixF = float((p>0.f || d < inner) && d<outer);\n  return vec4(mix(red,yellow,mixF),1.0);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    fragColor = vietnamFlagTexture(uv);\n}\n","name":"Image","description":"","type":"image"}]}