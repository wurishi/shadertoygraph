{"ver":"0.1","info":{"id":"MXVXzd","date":"1720391217","viewed":31,"name":"简单的视错觉1","username":"Eolc","description":"小球的颜色看上去不同但实际都是白色","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["2d"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec3 blue = vec3(0.0, 0.1843, 1.0);\nvec3 orange = vec3(1., 165. / 255., 0.);\nvec3 green = vec3(0.05, 188. / 255., 0.);\nvec3 purple = vec3(158. / 255., 0., 128. / 255.);\nint cycles = 60;\n\nfloat sdCircle(vec2 p, float r) { return length(p) - r; }\nfloat d_step(float min, float max, float val) {\n  return step(min, val) * (1. - step(max, val));\n}\nvec3 gen_stripe(vec2 uv) {\n  float cycle_len = 1. / float(cycles);\n  float len = cycle_len / 4.;\n  float uy = mod(uv.y, cycle_len);\n  return d_step(0., len, uy) * blue + d_step(len, 2. * len, uy) * orange +\n         d_step(2. * len, 3. * len, uy) * green +\n         d_step(3. * len, 4. * len, uy) * purple;\n}\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n  vec2 uv = fragCoord / iResolution.xy;\n    uv.x *= iResolution.x/iResolution.y;\n  vec2 positions[6];\n  vec3 col = vec3(0.);\n  for (int i = 0; i < 6; i++) {\n    float yi = sin(iTime + float(i) * 1.13 * 3.14159265359) * 0.3 + 0.5;\n    float xi = float(i) * 0.2 + 0.4;\n    positions[i] = vec2(xi, yi);\n  }\n  float r = .05;\n  // All circles are white actually\n  vec3 circle_col = vec3(1., 1., 1.);\n  //--------------------------------\n  col = sdCircle(uv - positions[1], r) < 0.\n            ? gen_stripe(uv) == blue || gen_stripe(uv) == orange ? circle_col\n                                                                 : col\n            : col;\n  col = sdCircle(uv - positions[2], r) < 0.\n            ? gen_stripe(uv) == orange || gen_stripe(uv) == green ? circle_col\n                                                                  : col\n            : col;\n  col = sdCircle(uv - positions[3], r) < 0.\n            ? gen_stripe(uv) == green || gen_stripe(uv) == purple ? circle_col\n                                                                  : col\n            : col;\n  col = sdCircle(uv - positions[4], r) < 0.\n            ? gen_stripe(uv) == purple || gen_stripe(uv) == blue ? circle_col\n                                                                 : col\n            : col;\n  col = sdCircle(uv - positions[5], r) < 0.\n            ? gen_stripe(uv) == blue || gen_stripe(uv) == orange ? circle_col\n                                                                 : col\n            : col;\n  col = sdCircle(uv - positions[0], r) < 0.\n            ? gen_stripe(uv) == orange || gen_stripe(uv) == green ? circle_col\n                                                                  : col\n            : col;\n  col = col == vec3(0.) ? gen_stripe(uv) : col;\n  fragColor = vec4(col, 1.);\n}","name":"Image","description":"","type":"image"}]}