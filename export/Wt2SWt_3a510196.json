{"ver":"0.1","info":{"id":"Wt2SWt","date":"1567510143","viewed":479,"name":"Flow fields visualized","username":"skaplun","description":"Simple visualization of flow fields","likes":13,"published":1,"flags":0,"usePreview":0,"tags":["noise","perlin","flow"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define LINE_W .1\n#define AA 10./iResolution.y\n\nfloat cell(vec2 uv){\n\treturn smoothstep(LINE_W + AA, LINE_W, dist2Line(vec2(-.3, 0), vec2(.3, 0), uv));\n}\n\nvoid mainImage(out vec4 O, vec2 u){\n    u = (u - iResolution.xy*.5)/iResolution.y;\n        \n    float f = noise(vec3(u*2., iTime));\n    O = vec4(cell(rotate2D(fract(u*16.) - .5, f*6.2831)));\n        \n    // 24 by 12 border.\n    if(abs(u.x*16.)>12. || abs(u.y*16.)>6.) O *= 0.;\n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"//3D gradient noise by Íñigo Quílez\nvec3 hash(vec3 p){\n\tp = vec3( dot(p,vec3(127.1,311.7, 74.7)),\n\t\t\t  dot(p,vec3(269.5,183.3,246.1)),\n\t\t\t  dot(p,vec3(113.5,271.9,124.6)));\n\n\treturn -1.0 + 2.0*fract(sin(p)*43758.5453123);\n}\n\nfloat noise(in vec3 p){\n    vec3 i = floor( p );\n    vec3 f = fract( p );\n\t\n\tvec3 u = f*f*(3.0-2.0*f);\n\n    return mix( mix( mix( dot( hash( i + vec3(0.0,0.0,0.0) ), f - vec3(0.0,0.0,0.0) ), \n                          dot( hash( i + vec3(1.0,0.0,0.0) ), f - vec3(1.0,0.0,0.0) ), u.x),\n                     mix( dot( hash( i + vec3(0.0,1.0,0.0) ), f - vec3(0.0,1.0,0.0) ), \n                          dot( hash( i + vec3(1.0,1.0,0.0) ), f - vec3(1.0,1.0,0.0) ), u.x), u.y),\n                mix( mix( dot( hash( i + vec3(0.0,0.0,1.0) ), f - vec3(0.0,0.0,1.0) ), \n                          dot( hash( i + vec3(1.0,0.0,1.0) ), f - vec3(1.0,0.0,1.0) ), u.x),\n                     mix( dot( hash( i + vec3(0.0,1.0,1.0) ), f - vec3(0.0,1.0,1.0) ), \n                          dot( hash( i + vec3(1.0,1.0,1.0) ), f - vec3(1.0,1.0,1.0) ), u.x), u.y), u.z );\n}\n\nfloat dist2Line(vec2 a, vec2 b, vec2 p) { \n    p -= a, b -= a;\n\tfloat h = clamp(dot(p, b) / dot(b, b), 0., 1.); \n\treturn length( p - b * h );                       \n}\nvec2 rotate2D(vec2 _st, float _angle){\n    //_st -= 0.5;\n    _st =  mat2(cos(_angle),-sin(_angle),\n                sin(_angle),cos(_angle)) * _st;\n    //_st += 0.5;\n    return _st;\n}","name":"Common","description":"","type":"common"}]}