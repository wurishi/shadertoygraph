{"ver":"0.1","info":{"id":"Xfy3WD","date":"1712743542","viewed":77,"name":"glow rgb ring ","username":"yufengjie","description":"ggg","likes":6,"published":1,"flags":0,"usePreview":0,"tags":["glow"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// thanks for those shader\n// https://www.shadertoy.com/view/WdK3Dz\n// https://www.shadertoy.com/view/3s3GDn\n\n#define PI 3.141592654\n\nfloat pix;\n\nfloat plotCircle(vec2 uv, vec2 pos, float r, float borderWidth) {\n    float cir = length(uv-pos)-r;\n    //float w = borderWidth * 0.5;\n    //return smoothstep(w+2.*pix, w-2.*pix, abs(cir));\n    //return step(0., abs(cir)) - step(w, abs(cir));\n    return cir;\n}\n\nfloat plotRing(vec2 uv, vec2 pos, float r, float borderWidth) {\n    // sdf part, is this part sdf_ring?\n    float w = borderWidth * 0.5;\n    float cir1 = length(uv-pos) - (r+w);\n    float cir2 = length(uv-pos) - (r-w);\n    float v = cir1 * cir2;\n    //return v;\n    \n    // just for glow，应该是为了环内部的负数值不要影响glow,发光部分针对的是图案外部像素\n    return max(0., v);\n}\n\n//https://www.shadertoy.com/view/3s3GDn\nfloat getGlow(float dist, float radius, float intensity){\n    return pow(radius/dist, intensity);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord.xy - iResolution.xy * 0.5)/iResolution.y;\n    float ixy = iResolution.x / iResolution.y;\n    vec3 c_fin = vec3(0.);\n    \n    pix = 1. / iResolution.y;\n    \n    vec3 c_red   = vec3(1.,0.,0.);\n    vec3 c_blue  = vec3(0.,1.,0.);\n    vec3 c_green = vec3(0.,0.,1.);\n    \n    float r = 0.2;\n    float bw = 30. * pix;\n    \n    float dFactor = 10.;\n    float d1 = plotRing(uv, vec2(0.,r),  r,bw);\n    float d2 = plotRing(uv, vec2(-r,0.), r,bw);\n    float d3 = plotRing(uv, vec2(r,0.),  r,bw);\n    \n    float ring1 = smoothstep(0.2 * pix, 0., d1);\n    float ring2 = smoothstep(0.2 * pix, 0., d2);\n    float ring3 = smoothstep(0.2 * pix, 0., d3);\n    \n    //c_fin += ring1 + ring2 + ring3;\n    c_fin += ring1*vec3(1.,0.25,0.25) \n           + ring2*vec3(0.25,1.,0.25) \n           + ring3*vec3(0.25,0.25,1.);\n\n    float t = (sin(iTime) * 0.5 + 0.5);\n    float glowRadius = 2. * pix + 6. * pix * t;\n    float intensity = 0.4 + 1. * t;\n    \n    vec3 glow1 = getGlow(d1, glowRadius, intensity) * c_red;\n    vec3 glow2 = getGlow(d2, glowRadius, intensity) * c_blue;\n    vec3 glow3 = getGlow(d3, glowRadius, intensity) * c_green;\n    \n    c_fin += glow1;\n    c_fin += glow2;\n    c_fin += glow3;\n    \n    \n    \n    c_fin = 1. - exp(-c_fin);\n    \n    fragColor = vec4(c_fin,1.0);\n}","name":"Image","description":"","type":"image"}]}