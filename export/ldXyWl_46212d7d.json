{"ver":"0.1","info":{"id":"ldXyWl","date":"1490260219","viewed":221,"name":"flashlight by fab and zefirrat","username":"Fabius","description":"gShaderToy.SetTexture(1, {mSrc:'https://1.downloader.disk.yandex.ru/disk/ca93ad6fe519873babf48054b0560634b002b17d3e76b1a841c7c55862454910/58d3e8f4/PGMY2besSawR9mzTLgvHEKpcVY7tbFPVYk3l5_8HNrknSUEsQFuniV_SOYEhqKoy60sRc2YOwV-mNA3kqRmzog%3D%3D?ui","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["flashlight"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGRn","filepath":"/media/a/10eb4fe0ac8a7dc348a2cc282ca5df1759ab8bf680117e4047728100969e7b43.jpg","previewfilepath":"/media/ap/10eb4fe0ac8a7dc348a2cc282ca5df1759ab8bf680117e4047728100969e7b43.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGRn","filepath":"/media/a/10eb4fe0ac8a7dc348a2cc282ca5df1759ab8bf680117e4047728100969e7b43.jpg","previewfilepath":"/media/ap/10eb4fe0ac8a7dc348a2cc282ca5df1759ab8bf680117e4047728100969e7b43.jpg","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 xy = fragCoord.xy / iResolution.xy;\n    vec2 mouseXY = iMouse.xy / iResolution.xy;\n    //vec2 lightSource = vec2(iMouse.x,iMouse.y);\n    vec2 lightSource = mouseXY;\n    vec4 wall = texture(iChannel1,xy);\n    vec4 texColor = texture(iChannel0,xy);\n    if (wall.a==1.0){\n        texColor = wall;\n    }\n    \n    float dist = pow(distance(xy,lightSource),2.0);\n    //float dist = tan(iTime)/distance(xy,lightSource);\n    float darkness = 0.34;\n    float brightness = 0.35;\n    //float\n    float power = 8.25;\n    vec4 lightedColor = (vec4(brightness,brightness,brightness,1.0) / sin(dist+darkness));\n    lightedColor = vec4(pow(lightedColor.r,power),pow(lightedColor.g,power),pow(lightedColor.b,power),1.0);\n    //vec4 lightedColor = (texColor / ((dist+0.3)*0.23)^0.5);\n    fragColor = lightedColor * texColor;\n}","name":"Image","description":"","type":"image"}]}