{"ver":"0.1","info":{"id":"4XBfDV","date":"1729947460","viewed":37,"name":"ScanScreen","username":"shbby","description":"屏幕扫描","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["2d"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const float offest = 1.0/300.0;\nvec3 Right(vec2 uv,float t)\n{\n    \n    float x =uv.x-t;\n    return vec3(.2,.35,.35)/(20.0*x);\n     \n    \n}\nfloat computeGray(vec3 rgb){\n    return 0.2126*rgb.r+0.7152*rgb.g+0.0722*rgb.b;\n}\nvec3 Left(vec2 uv,float t)\n{\n \n   \n    float x = -(uv.x-t);\n    return vec3(.3,.2,.3)/(20.0*x);\n}\nvec3 edge(vec2 uv){\n     vec2 offests[9] = vec2[](\n        vec2(-offest,offest),\n        vec2(0.0,offest),\n        vec2(offest,offest),\n        vec2(-offest,0.0),\n        vec2(0.0,0.0),\n        vec2(offest,0.0),\n        vec2(-offest,-offest),\n        vec2(0.0,-offest),\n        vec2(offest,-offest)\n    );\n    float kernel_x[9] = float[](\n        -1.0,0.0,1.0,\n        -2.0,0.0,2.0,\n        -1.0,0.0,1.0\n    );\n    float kernel_y[9] = float[](\n        -1.0,-2.0,-1.0,\n        0.0,0.0,0.0,\n        1.0,2.0,1.0\n    );\n    float edge_x =0.0;\n    float edge_y =0.0;\n    for(int i=0;i<9;i++){\n        edge_x += kernel_x[i]*computeGray(texture(iChannel0,uv+offests[i]).rgb);\n        edge_y += kernel_y[i]*computeGray(texture(iChannel0,uv+offests[i]).rgb);\n    }\n    float edge = abs(edge_x)+abs(edge_y);\n    edge = step(0.8,edge);\n    return mix(vec3(0.0),vec3(1.0),edge);\n\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord.xy/iResolution.xy;\n    float t = abs(cos(iTime));\n    vec3 right = edge(uv);\n    float value = step(t,uv.x);\n    fragColor = vec4(mix(texture(iChannel0,uv).rgb,right,value)+Right(uv,t),1.0);\n}","name":"Image","description":"","type":"image"}]}