{"ver":"0.1","info":{"id":"mlcSD8","date":"1685328810","viewed":49,"name":"rgb -> yuv","username":"chk1226","description":"convert rgb to yuv\n\nPalettes method reference from https://www.shadertoy.com/view/ll2GD3","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["rgb","yuv"],"hasliked":0,"parentid":"3lycWz","parentname":"rgb <--> yuv"},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\n\n\n\nvec3 rgb2yuv(vec3 rgb){\n    float y = 0.299*rgb.r + 0.587*rgb.g + 0.114*rgb.b;\n    return vec3(y, 0.493*(rgb.b-y), 0.877*(rgb.r-y));\n}\n\nvec3 pal( in float t, in vec3 a, in vec3 b, in vec3 c, in vec3 d )\n{\n    return a + b*cos( 6.28318*(c*t+d) );\n}\n\nvec3 Palettes(vec2 p)\n{\n    \n    // compute colors\n    vec3                col = pal( p.x, vec3(0.5,0.5,0.5),vec3(0.5,0.5,0.5),vec3(1.0,1.0,1.0),vec3(0.0,0.33,0.67) );\n    if( p.y>(1.0/7.0) ) col = pal( p.x, vec3(0.5,0.5,0.5),vec3(0.5,0.5,0.5),vec3(1.0,1.0,1.0),vec3(0.0,0.10,0.20) );\n    if( p.y>(2.0/7.0) ) col = pal( p.x, vec3(0.5,0.5,0.5),vec3(0.5,0.5,0.5),vec3(1.0,1.0,1.0),vec3(0.3,0.20,0.20) );\n    if( p.y>(3.0/7.0) ) col = pal( p.x, vec3(0.5,0.5,0.5),vec3(0.5,0.5,0.5),vec3(1.0,1.0,0.5),vec3(0.8,0.90,0.30) );\n    if( p.y>(4.0/7.0) ) col = pal( p.x, vec3(0.5,0.5,0.5),vec3(0.5,0.5,0.5),vec3(1.0,0.7,0.4),vec3(0.0,0.15,0.20) );\n    if( p.y>(5.0/7.0) ) col = pal( p.x, vec3(0.5,0.5,0.5),vec3(0.5,0.5,0.5),vec3(2.0,1.0,0.0),vec3(0.5,0.20,0.25) );\n    if( p.y>(6.0/7.0) ) col = pal( p.x, vec3(0.8,0.5,0.4),vec3(0.2,0.4,0.2),vec3(2.0,1.0,1.0),vec3(0.0,0.25,0.25) );\n    \n\n    // band\n    float f = fract(p.y*7.0);\n    // borders\n    col *= smoothstep( 0.49, 0.47, abs(f-0.5) );\n    // shadowing\n    col *= 0.5 + 0.5*sqrt(4.0*f*(1.0-f));\n    \n    return col;\n}\n\n\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/(iResolution.xy);\n    uv.x = mix(0.0, 2.0, uv.x);\n\n    vec3 lum = vec3(0.0);\n    if(uv.x > 1.0)\n    {\n        uv.x = uv.x - 1.0;\n        lum = Palettes(uv).rgb;\n        lum = rgb2yuv(lum).xxx;\n    }\n    else\n    {\n        lum = Palettes(uv).rgb;\n    \n    }\n\n    vec3 col = lum;\n\n    \n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}