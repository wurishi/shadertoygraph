{"ver":"0.1","info":{"id":"slSyDW","date":"1649684468","viewed":63,"name":"About to fall asleep","username":"LoganOracio","description":"how it feels like to fall asleep somtimes","likes":2,"published":1,"flags":32,"usePreview":0,"tags":["bezier","blur","hue","symmetry"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sXGR8","filepath":"/media/previz/buffer02.png","previewfilepath":"/media/previz/buffer02.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 pix_l = 1.0/iResolution.xy;\n    vec2 uv = fragCoord*pix_l;\n    \n    fragColor = mix(texture(iChannel0,uv),texture(iChannel0,vec2(1.0-uv.x,uv.y)),0.5);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 pix_l = 1.0/iResolution.xy;\n    vec2 uv = pix_l*fragCoord;\n    \n    if(iTime<0.1)\n    {\n        fragColor = vec4(uv,0.0,0.0);\n    }\n    else\n    {\n        fragColor = vec4(0.0);\n        if(uv.y==0.5*pix_l.y)\n        {\n            if(uv.x<pix_l.x)\n            {\n                fragColor = vec4(sin(iTime*2.6459),cos(iTime*1.7643),0.0,1.0);\n            }\n            else\n            {\n                fragColor = mix(texture(iChannel0,uv+pix_l*vec2(-1.0,0.0)),vec4(exp(uv.x*150.0)*vec2(cos(iTime),sin(iTime)),0.0,0.0),0.01);\n            }\n        }\n        if(uv.y==1.5*pix_l.y)\n        {\n            if(uv.x<pix_l.x)\n            {\n                fragColor = vec4(sin(iTime*2.9421),cos(iTime*1.8414),0.0,1.0);\n            }\n            else\n            {\n                fragColor = mix(texture(iChannel0,uv+pix_l*vec2(-1.0,0.0)),vec4(exp(uv.x*150.0)*vec2(cos(iTime),sin(iTime)),0.0,0.0),0.01);\n            }\n        }\n        if(uv.y==2.5*pix_l.y)\n        {\n            if(uv.x<pix_l.x)\n            {\n                fragColor = vec4(sin(iTime*2.3547),cos(iTime*1.9573),0.0,1.0);\n            }\n            else\n            {\n                fragColor = mix(texture(iChannel0,uv+pix_l*vec2(-1.0,0.0)),vec4(exp(uv.x*150.0)*vec2(cos(iTime),sin(iTime)),0.0,0.0),0.01);\n            }\n        }\n    }\n}\n","name":"Buffer A","description":"","type":"buffer"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"XsXGR8","channel":0}],"code":"#define PRECISION 10\n#define EXTENSION 3.0\n\nvec2 bezier(vec2 a, vec2 b, vec2 c, float x)\n{\n    return mix(mix(a,b,x),mix(b,c,x),x);\n}\nvec2 rotate(vec2 v, float a) {\n\tfloat s = sin(a);\n\tfloat c = cos(a);\n\tmat2 m = mat2(c, -s, s, c);\n\treturn m * v;\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 pix_l = 1.0/iResolution.xy;\n    vec2 uv = fragCoord*pix_l;\n    uv -= 0.5;\n    uv *= 4.0;\n    uv.x *= iResolution.x/iResolution.y;\n    \n    uv = rotate(uv,6.28*sin(iTime*0.09));\n    \n    uv =abs(uv)-vec2(1.0,0.5);\n    \n    uv = rotate(uv,iTime*0.2);\n    \n    float d = 100.0;\n    \n    for(int l = 0; l < 10; l++)\n    {\n        vec2 a = texture(iChannel0,pix_l*vec2(0.5+float(l*4),0.5)).xy;\n        vec2 b = texture(iChannel0,pix_l*vec2(0.5+float(l*4),1.5)).xy;\n        vec2 c = texture(iChannel0,pix_l*vec2(0.5+float(l*4),2.5)).xy;\n        \n        /*\n        vec2 p[PRECISION];\n        for(int i = 0; i < PRECISION; i++)\n        {\n            float id = (float(i)/float(PRECISION))*EXTENSION-EXTENSION/2.0+0.5;\n\n            p[i] = bezier(a,b,c,id);\n        }\n        */\n\n        for(int i = 0; i < PRECISION-1; i++)\n        {\n            //d = min(d,dist_to_seg(p[i],p[i+1],uv));\n            d = min(d,distance(bezier(a,b,c,float(i)/float(PRECISION)),uv));\n        }\n    }\n    \n    \n    float dec = 1.0/(d+1.0);\n    fragColor = mix(vec4(vec2(d,dec),0.0,0.0),texture(iChannel1,fragCoord/iResolution.xy),0.99);\n}","name":"Buffer B","description":"","type":"buffer"},{"inputs":[{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4sXGR8","filepath":"/media/previz/buffer02.png","previewfilepath":"/media/previz/buffer02.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4sXGR8","channel":0}],"code":"#define DIFFUSION 0.8\nvec3 hsv2rgb(vec3 c)\n{\n\tvec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n\tvec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n\treturn c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 pix_l = 1.0/iResolution.xy;\n    vec2 uv = fragCoord*pix_l;\n    \n    vec2 d = texture(iChannel0,uv).xy;\n    \n    d.y *= d.y;\n    \n    vec4 me = 0.5*texture(iChannel1,uv);\n    me += DIFFUSION*texture(iChannel1,uv+pix_l*vec2(1.0,0.0));\n    me += DIFFUSION*texture(iChannel1,uv+pix_l*vec2(-1.0,0.0));\n    me += DIFFUSION*texture(iChannel1,uv+pix_l*vec2(0.0,1.0));\n    me += DIFFUSION*texture(iChannel1,uv+pix_l*vec2(0.0,-1.0));\n    \n    me /= 0.5+4.0*DIFFUSION;\n    me += vec4(hsv2rgb(vec3(d.x*0.1+iTime*0.12,d.y*0.5,d.y)),1.0);\n    \n    \n    fragColor = me*0.48;\n}","name":"Buffer C","description":"","type":"buffer"}]}