{"ver":"0.1","info":{"id":"NsKcRG","date":"1655081071","viewed":155,"name":"1990s Camera Filter","username":"MisterSirCode","description":"Quotient Filtering + Edge Detection to achieve the old fashioned appearance of early 1990s color cameras.","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["video","filter","camera","effect","photo"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XdfGRr","filepath":"/media/a/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm","previewfilepath":"/media/ap/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec2 biqgrad(sampler2D channel, vec2 res, vec2 uv) {\n    vec2 q = fract(uv * res);\n    vec2 c = (q*(q - 1.0) + 0.5) / res;\n    vec2 w0 = uv - c;\n    vec2 w1 = uv + c;\n    vec2 cc = 0.5 / res;\n    vec2 ww0 = uv - cc;\n    vec2 ww1 = uv + cc;\n    float nx0 = texture(channel, vec2(ww1.x, w0.y)).r - texture(channel, vec2(ww0.x, w0.y)).r;\n    float nx1 = texture(channel, vec2(ww1.x, w1.y)).r - texture(channel, vec2(ww0.x, w1.y)).r;\n    float ny0 = texture(channel, vec2(w0.x, ww1.y)).r - texture(channel, vec2(w0.x, ww0.y)).r;\n    float ny1 = texture(channel, vec2(w1.x, ww1.y)).r - texture(channel, vec2(w1.x, ww0.y)).r;\n\treturn vec2(nx0 + nx1, ny0 + ny1) / 2.0;\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    vec2 uv = fragCoord / iResolution.xy;\n    \n    vec3 rgb = texture(iChannel0, uv).rgb;\n    vec2 edg = biqgrad(iChannel0, iResolution.xy, uv);\n    vec3 col = vec3(1. / (-rgb + 1.) / 6.); // Invert, then filter as quotient\n    col = vec3(col.xy - edg / 2.0, col.z); // Apply Edge Deterioration\n    \n    fragColor = vec4(col, 1.0);\n}","name":"Image","description":"","type":"image"}]}