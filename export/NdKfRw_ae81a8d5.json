{"ver":"0.1","info":{"id":"NdKfRw","date":"1658308389","viewed":112,"name":"SoundCloud fire","username":"AndryM793","description":"fire sound","likes":1,"published":1,"flags":96,"usePreview":0,"tags":["fire"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    fragColor = texture(iChannel0, fragCoord/iResolution.xy);\n}\n","name":"Image","description":"","type":"image"},{"inputs":[{"id":"Xsf3zn","filepath":"/media/a/f735bee5b64ef98879dc618b016ecf7939a5756040c2cde21ccb15e69a6e1cfb.png","previewfilepath":"/media/ap/f735bee5b64ef98879dc618b016ecf7939a5756040c2cde21ccb15e69a6e1cfb.png","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XlBSRw","filepath":"https://soundcloud.com/dancewiththedead/sledge?utm_source=clipboard&utm_medium=text&utm_campaign=social_sharing","previewfilepath":"https://soundcloud.com/dancewiththedead/sledge?utm_source=clipboard&utm_medium=text&utm_campaign=social_sharing","type":"musicstream","channel":2,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":0}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"const float fire_speed_vertical = 5.0;\nconst float fire_speed_horizontal = 19.0;\nconst float fire_power = 25.0;\n\n\nvec4 random(vec2 uv)\n{\n    return texture(iChannel1, uv-iTime);\n}\n\n\nvec4 backbuffer(vec2 uv)\n{\n    uv.y = max(0.0, uv.y);\n    return texture(iChannel0, uv);\n}\n\n\nvec4 fire(vec2 uv, float vol1, float vol2, vec2 normal)\n{\n    vec4 rand = random(fract(uv/(1920.0 / float(iResolution.x))));\n    rand.x *= vol1;\n    rand.y /= pow(vol2, 2.0 - uv.y);\n    \n    uv -= normal * rand.y * fire_speed_vertical / iResolution.xy;\n    uv += vec2(-normal.y, normal.x) * (0.5 - rand.x) * fire_speed_horizontal / iResolution.xy;\n    \n    float power = backbuffer(uv).a - (rand.b / fire_power);\n    \n    return max(vec4(0.0), vec4(1.5, 2.0 * power, 1.0 * power, 1) * power);\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord / iResolution.xy;\n    float vol1 = texture(iChannel2, vec2(uv.x, 0)).r;\n    float vol2 = texture(iChannel2, vec2(uv.x, 1)).r;\n    \n    if(fragCoord.y > 2.0)\n    {\n        fragColor = fire(uv, vol1, vol2, vec2(0, 1));\n    }\n    else\n    {\n        fragColor = vec4(1.0, 1.0, 1.0, vol1 + vol2);\n    }\n}","name":"Buffer A","description":"","type":"buffer"}]}