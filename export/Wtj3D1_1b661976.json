{"ver":"0.1","info":{"id":"Wtj3D1","date":"1559379479","viewed":469,"name":"Fireflies in Darkness","username":"Radical_Ed","description":"Fireflies in Darkness\n\nhttp://re-bop.blogspot.com/2019/06/openglsl-fireflies-in-darkness.html\n\n","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["blobs","sound","fire","fireflies","rebop"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGzn","filepath":"/media/a/ec8a6ea755d34600547a5353f21f0a453f9f55ff95514383b2d80b8d71283eda.mp3","previewfilepath":"/media/ap/ec8a6ea755d34600547a5353f21f0a453f9f55ff95514383b2d80b8d71283eda.mp3","type":"music","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// This is a rework of https://www.shadertoy.com/view/lsfGzr, \n// created by @paulofalcao, with sound, by Radical Ed\n// License: Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License\n\n\n#define time iTime\n\nfloat makePoint(float x,float y,float fx,float fy,float sx,float sy,float t, float w){\n   float xx=x+sin(t*fx)*sx*tan(fx*t)*log(fx*t);\n   float yy=y+cos(t*fy)*sy*tan(fy*t)*log(fy*t);\n   return 5.0*abs(sin(25.0*t/337.0))/sqrt(xx*xx+yy*yy)+log(w/4.0);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n\n   vec2 p=(fragCoord.xy/iResolution.x)*2.0-vec2(1.0,iResolution.y/iResolution.x);\n\n  \n    \n   // create pixel coordinates\n   vec2 uv = fragCoord.xy / iResolution.xy;\n\n   // the sound texture is 512x2\n   int tx = int(uv.x*512.0);\n    \n\t\n   // second row is the sound wave, one texel is one mono sample\n   float wave = texelFetch( iChannel0, ivec2(tx,1), 0 ).x;\n    \n   vec2 translate = vec2(cos(iTime),sin(iTime));\n    \n    \n    \n   p=p*7.0*abs(sin(iTime));\n   p += translate*1.35*sin(iTime);\n   \n   float x=p.x;\n   float y=p.y;\n    \n   vec3 col = vec3( 0.0, 0.0, 0.0);\n\n    // add wave form on top\t\n   //col += smoothstep( 0.0, 0.15, abs(wave- uv.x)/2.0 ); \n    \n    //if (wave > 0.4) { wave = 0.4 ;}\n   \n\n   float a=\n   makePoint(x + col.x,y + col.y,2.0,2.9,0.3,0.3,time, wave);\n   a=a+makePoint(x + col.x,y + col.y,1.9,2.0,0.4,0.4,time, wave);\n   a=a+makePoint(x + col.x,y + col.y,0.8,0.7,0.4,0.5,time, wave);\n   a=a+makePoint(x + col.x,y + col.y,2.3,0.1,0.6,0.3,time, wave);\n   a=a+makePoint(x + col.x,y + col.y,0.8,1.7,0.5,0.4,time, wave);\n   a=a+makePoint(x + col.x,y + col.y,0.3,1.0,0.4,0.4,time, wave);\n   a=a+makePoint(x + col.x,y + col.y,1.4,1.7,0.4,0.5,time, wave);\n   a=a+makePoint(x + col.x,y + col.y,1.3,2.1,0.6,0.3,time, wave);\n   a=a+makePoint(x + col.x,y + col.y,1.8,1.7,0.5,0.4,time, wave);\n      \n   \n   float b=\n   makePoint(x + col.x,y + col.y,1.2,1.9,0.3,0.3,time, wave);\n   b=b+makePoint(x + col.x,y + col.y,0.7,2.7,0.4,0.4,time, wave);\n   b=b+makePoint(x + col.x,y + col.y,1.4,0.6,0.4,0.5,time, wave);\n   b=b+makePoint(x + col.x,y + col.y,2.6,0.4,0.6,0.3,time, wave);\n   b=b+makePoint(x + col.x,y + col.y,0.7,1.4,0.5,0.4,time, wave);\n   b=b+makePoint(x + col.x,y + col.y,0.7,1.7,0.4,0.4,time, wave);\n   b=b+makePoint(x + col.x,y + col.y,0.8,0.5,0.4,0.5,time, wave);\n   b=b+makePoint(x + col.x,y + col.y,1.4,0.9,0.6,0.3,time, wave);\n   b=b+makePoint(x + col.x,y + col.y,0.7,1.3,0.5,0.4,time, wave);\n   \n\n   float c=\n   makePoint(x + col.x,y + col.y,3.7,0.3,0.3,0.3,time, wave);\n   c=c+makePoint(x + col.x,y + col.y,1.9,1.3,0.4,0.4,time, wave);\n   c=c+makePoint(x + col.x,y + col.y,0.8,0.9,0.4,0.5,time, wave);\n   c=c+makePoint(x + col.x,y + col.y,1.2,1.7,0.6,0.3,time, wave);\n   c=c+makePoint(x + col.x,y + col.y,0.3,0.6,0.5,0.4,time, wave);\n   c=c+makePoint(x + col.x,y + col.y,0.3,0.3,0.4,0.4,time, wave);\n   c=c+makePoint(x + col.x,y + col.y,1.4,0.8,0.4,0.5,time, wave);\n   c=c+makePoint(x + col.x,y + col.y,0.2,0.6,0.6,0.3,time, wave);\n   c=c+makePoint(x + col.x,y + col.y,1.3,0.5,0.5,0.4,time, wave);\n   \n   \n   vec3 d=vec3(a,b,c)/22.0;\n   \n   \n   fragColor = vec4(d.x,d.x*2.0,d.x,1.0);\n}","name":"Image","description":"","type":"image"}]}