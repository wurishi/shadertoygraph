{"ver":"0.1","info":{"id":"MlfyWN","date":"1504819244","viewed":833,"name":"Dearly departed 2","username":"Dave_Hoskins","description":"A play on my old [url]https://www.shadertoy.com/view/4ls3D4[/url] compo shader using the new volume texture.","likes":14,"published":3,"flags":64,"usePreview":0,"tags":["3d","raymarching","volume"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sfGRr","filepath":"/media/a/27012b4eadd0c3ce12498b867058e4f717ce79e10a99568cca461682d84a4b04.bin","previewfilepath":"/media/ap/27012b4eadd0c3ce12498b867058e4f717ce79e10a99568cca461682d84a4b04.bin","type":"volume","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"lsBSRR","filepath":"https://soundcloud.com/kevin-lyons-4/aum","previewfilepath":"https://soundcloud.com/kevin-lyons-4/aum","type":"musicstream","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":0}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Dearly departed 2\n// by David Hoskins. Using the volume texture\n\n// GregRostami's golfed version (see comments)....\nvoid mainImage( out vec4 f, vec2 s )\n{\n    vec3 p = normalize(vec3(s / iResolution.xy - .5, .03)), d = p;\n    float a = 0.0;\n    \n    for(p.z = iTime*5.; f.a++ < 99.; )\n\t\ta += (1. - a) * texture(iChannel0, (p+=d) *  .02).x * abs(p.x)*.0013;\n    f += 1. - a*a*a;\n}\n/*\nvoid mainImage( out vec4 f, in vec2 s )\n{\n    vec3 p = normalize(vec3(s / iResolution.xy - .5, .03)), d = p, a = p - p;\n    p.z += iTime*5.;\n    \n    for(int i = 0; i < 99; i++)\n\t\ta += (1. - a) * (texture(iChannel0, (p+=d) *  .02).xxx * abs(p.x))*.0013;\n    f = vec4(1.0-a*a*a, 1);\n}\n*/\n\n","name":"Image","description":"","type":"image"}]}