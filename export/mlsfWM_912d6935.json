{"ver":"0.1","info":{"id":"mlsfWM","date":"1693061712","viewed":51,"name":"very pwetty","username":"77Tigers","description":"parallax","likes":7,"published":1,"flags":0,"usePreview":0,"tags":["parallax"],"hasliked":0,"parentid":"dlffW7","parentname":"Fork paralax 77Tigers 421"},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.14159265358979323\n\nvoid fn(vec2 p, float layer, inout vec3 col, inout vec3 strength) {\n    float X, Y;\n    // angle of spin\n    float a = layer * PI / 10. + sin(iTime);\n    X = cos(a) * p.x - sin(a) * p.y + 3. * sin(layer * PI / 10.);\n    Y = sin(a) * p.x + cos(a) * p.y + 3. * cos(layer * PI / 10.);\n    float dist = sqrt(X*X + Y*Y);\n    float val = sin ((X+ PI / 4.) * 2.) * sin ((Y - PI / 4.) * 2.)\n        - sin(iTime + 0.5 * layer + 0.1 * X)\n        - 5. / dist\n        + 0.5 * sin (dist * 1.0 + iTime * 5.0);\n    if (val > 0.) {\n        float rg = clamp(sin(layer * 0.5), 0.0, 1.0);\n        //if (val > 0.5) {\n            rg = 1.0;\n        //}\n        col += strength * vec3(rg, rg, 1.0);\n        strength = vec3(0.0);\n    } else {\n        col += strength * vec3(0.0);\n        strength *= vec3(0.9);\n    }\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n    vec2 uv = fragCoord/iResolution.xy;\n    vec2 p = 2.0*(fragCoord - vec2(iResolution.x/2.0, iResolution.y/2.0))/iResolution.y;\n    \n    p *= 4.0;\n    \n    vec3 col = vec3(0.);\n    \n    vec3 strength = vec3(1.0);\n    \n    float depth = iTime * 2.0 + sin (iTime);\n    \n    float fi = mod(-depth, 1.0);\n    \n    //fi += 1.0;\n    //fn(vec2(0.0 * iTime, iTime * 0.0) + p * (fi + 5.), fi, col, strength);\n    //col = col * (1. - fi) + fi * vec3(0.0);\n    //strength = strength * fi + (1. - fi) * vec3(1.0);\n    for (int i = 1; i <= 40; i++) {\n        fn(vec2(0.0 * iTime, iTime * 0.0) + p * (fi + 0.), fi, col, strength);\n        if (i == 1) {\n            strength /= 1.0 - (1. - fi) * 0.1;\n        }\n        fi += 1.0;\n    }\n    \n    fragColor = vec4(col, 1.0);\n}","name":"Image","description":"","type":"image"}]}