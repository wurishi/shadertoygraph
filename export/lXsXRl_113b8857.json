{"ver":"0.1","info":{"id":"lXsXRl","date":"1709858982","viewed":47,"name":"hydrangea title animated","username":"int_45h","description":"testing FBM domain warping for use in the hydrangea title screen","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["e"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define UIF (1.0 / float(0xffffffffU))\n#define PI 3.14159265359\n\nfloat hash12(vec2 p)\n{\n\tuvec2 q = uvec2(ivec2(p)) * uvec2(1597334673U, 3812015801U);\n\tuint n = (q.x ^ q.y) * 1597334673U;\n\treturn float(n) * UIF;\n}\n\n#define OCTAVES 4\nfloat value2d(vec2 p)\n{\n    vec2 p_grid = floor(p);\n    vec2 p_cell = fract(p);\n    \n    p_cell *= p_cell*(3.-2.*p_cell);\n    \n    return mix(\n        mix(hash12(p_grid+vec2(0,0)),hash12(p_grid+vec2(1,0)),p_cell.x),\n        mix(hash12(p_grid+vec2(0,1)),hash12(p_grid+vec2(1,1)),p_cell.x),\n        p_cell.y);\n}\n\nfloat fbm2d(vec2 p)\n{\n    float a = 1.;\n    float s = .5;\n    float n = 0.;\n    \n    mat2 r = mat2(cos(.5), -sin(.5), sin(.5), cos(.5));\n    \n    for (int i=0; i<OCTAVES; i++)\n    {\n        n += value2d(p*s)*a;\n        p *= r;\n        a *= .5;\n        s *= 2.;\n    }\n    \n    return n;\n}\n\n// https://www.shadertoy.com/view/lsKSWR\nfloat vignette(vec2 uv, float intensity, float extent)\n{\n    uv *= 1.-uv.yx;\n    \n    return pow(uv.x*uv.y*intensity, extent);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    vec2 uv2 = (fragCoord - iResolution.xy*.5)/iResolution.y;\n    \n    uv2 *= 8.;\n    \n    float m = 1.-sin(uv.y*2.*PI+PI/2.);\n    m = max(m, 0.);\n    \n    vec2 q = vec2(\n        fbm2d(uv2 + vec2(0.)),\n        fbm2d(uv2 + vec2(5.2,1.3))\n    );\n    vec2 r = vec2(\n        fbm2d(uv2 + 4.*q + vec2(1.7,9.2)+ 0.28*iTime),\n        fbm2d(uv2 + 4.*q + vec2(8.3,2.8)+ 0.26*iTime)\n    )*(1.-(m*.15+.05));\n    \n    m *= length((uv-.5)*.45);\n    float n = fbm2d(uv2 + 4.*r);\n    \n    n = n*n*(3.-2.*n);\n    n *= m;\n    \n    vec4 col_bg = vec4(30,43,64,255)/255.99;\n    vec4 col_fg1 = vec4(113,57,168,255)/255.99;\n    vec4 col_fg2 = vec4(136,56,186,255)/255.99;\n    \n    \n    vec4 col = mix(\n    col_bg,\n    col_fg2,\n    n);\n    \n    col = mix(\n        col,\n        col_fg1,\n        clamp(length(q)*m*.6,0.,1.)\n    );\n    col = mix(\n        col,\n        col_bg,\n        clamp(r.y*(1.-m*.5),0.,1.)\n    );\n    \n    fragColor = vec4(col.xyz*vignette(uv, 30., .35), 1.);\n    //fragColor = vec4(m);\n}","name":"Image","description":"","type":"image"}]}