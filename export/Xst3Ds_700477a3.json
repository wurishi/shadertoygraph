{"ver":"0.1","info":{"id":"Xst3Ds","date":"1456234016","viewed":226,"name":"Melody Sound Test","username":"anastadunbar","description":"First time making a function that makes a note.","likes":8,"published":1,"flags":8,"usePreview":0,"tags":["2d","sound","melody","notes"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float speed = 1.6;\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    float time = iTime*speed;\n\tfragColor = vec4(floor(uv.x*8.)==mod(floor(time*2.),8.),0.,0.,1.0);\n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[{"id":"XsfGRr","channel":0}],"code":"float speed = 1.6;\nfloat pitch = 1.2;\nfloat release = .20;\n\n#define PI 3.141592653589793238462643383279502884197\nfloat sine(float x) { return sin(PI*2.*x); }\nfloat saw(float x) { return (fract(x)*2.)-1.; }\nfloat pulse(float x) { return (floor(sin(x*2.*PI))*2.)+1.; }\nfloat tri(float x) { return (abs(mod((x-.25)*2.,2.)-1.)*2.)-1.; }\n\n#define play_note(wave,start,n) if (time >= start) { s += wave(((pow(2.,(((n)+pitch)-49.)/12.)*440.)/speed)*(time-start))*exp(-(1./release)*(time-(start))/speed); } \nvec2 mainSound( in int samp, float time )\n{\n    time *= speed;\n    time = mod(time,16.);\n    float s = 0.; //The variable we put sounds in.\n    /*LOOP ILLUSION*/ //Problem is if the release is too big, you'll need more.\n    play_note(tri,-(16.-15.5),55.);\n    /*-------------*/\n    for (float i = 0.; i < 2.; i++) {\n        play_note(tri,0.+(i*4.),46.);\n    \tplay_note(tri,0.+(i*4.),42.); play_note(tri,.5+(i*4.),48.); play_note(tri,1.+(i*4.),49.); play_note(tri,1.5+(i*4.),53.);\n    \tplay_note(tri,2.+(i*4.),54.); play_note(tri,2.5+(i*4.),58.); play_note(tri,3.+(i*4.),54.); play_note(tri,3.5+(i*4.),53.);\n    }\n    for (float i = 0.; i < 2.; i++) {\n        play_note(tri,8.+(i*4.),48.);\n    \tplay_note(tri,8.+(i*4.),44.); play_note(tri,8.5+(i*4.),50.); play_note(tri,9.+(i*4.),51.); play_note(tri,9.5+(i*4.),55.);\n    \tplay_note(tri,10.+(i*4.),56.); play_note(tri,10.5+(i*4.),60.); play_note(tri,11.+(i*4.),56.); play_note(tri,11.5+(i*4.),55.);\n    }\n    /*\n    play_note(tri,0. ,40.); play_note(tri,0. ,24.);\n    play_note(tri,1. ,41.); play_note(tri,1. ,24.);\n    play_note(tri,2. ,43.); play_note(tri,2. ,24.);\n    play_note(tri,3. ,36.); play_note(tri,3. ,24.);\n    \n    play_note(tri,4. ,40.); play_note(tri,4. ,24.);\n    play_note(tri,5. ,41.); play_note(tri,5. ,24.);\n    play_note(tri,6. ,43.); play_note(tri,6. ,24.);\n    play_note(tri,7. ,48.); play_note(tri,7. ,24.);\n    \n    play_note(tri,8. ,40.); play_note(tri,8. ,24.);\n    play_note(tri,9. ,41.); play_note(tri,9. ,24.);\n    play_note(tri,10.,43.); play_note(tri,10.,24.);\n    play_note(tri,11.,36.); play_note(tri,11.,24.);\n    \n    play_note(tri,12.,46.); play_note(tri,12.,24.);\n    play_note(tri,13.,41.); play_note(tri,13.,24.);\n    play_note(tri,14.,45.); play_note(tri,14.,24.);\n    play_note(tri,15.,44.); play_note(tri,15.,24.);\n\t*/\n    return vec2( s*0.64 );\n}","name":"Sound","description":"","type":"sound"}]}