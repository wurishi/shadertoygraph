{"ver":"0.1","info":{"id":"MtVGWV","date":"1476938255","viewed":1580,"name":"Toon Fire","username":"floatvoid","description":"cartoony fire with voronoi stolen from someone else. iq maybe.","likes":38,"published":1,"flags":0,"usePreview":0,"tags":["voronoi","fire"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//\n// Simple toon fire example. Use on particles/ribbons/etc\n//\n// Jeremy Mitchell\n// twitter: @floatvoid\n//\n\n\n\nfloat hash2D(vec2 x) {\n\treturn fract(sin(dot(x, vec2(13.454, 7.405)))*12.3043);\n}\n\n//voronoi borrowed from someone. Probably iq? Sorry I forgot :(\n\nfloat voronoi2D(vec2 uv) {\n    vec2 fl = floor(uv);\n    vec2 fr = fract(uv);\n    float res = 1.0;\n    for( int j=-1; j<=1; j++ ) {\n        for( int i=-1; i<=1; i++ ) {\n            vec2 p = vec2(i, j);\n            float h = hash2D(fl+p);\n            vec2 vp = p-fr+h;\n            float d = dot(vp, vp);\n            \n            res +=1.0/pow(d, 8.0);\n        }\n    }\n    return pow( 1.0/res, 1.0/16.0 );\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n\n\n    //two scrolling voronoi maps. Could be a texture also\n    float up0 = voronoi2D(uv * vec2(6.0, 4.0) + vec2(0,-iTime * 2.0)  );\n\tfloat up1 = 0.5 + voronoi2D(uv * vec2(6.0, 4.0) + vec2(42,-iTime * 2.0) + 30.0 );\n\tfloat finalMask = up0 * up1 + (1.0-uv.y);\n   \n    \n    //vertical gradient. In a game use vertex color or something.\n    finalMask += (1.0-uv.y)* 0.5;\n    \n    //horizontal gradient.\n    finalMask *= 0.7-abs(uv.x - 0.5);\n    \n    \n    vec3 dark = mix( vec3(0.0), vec3( 1.0, 0.4, 0.0),  step(0.8,finalMask) ) ;\n    vec3 light = mix( dark, vec3( 1.0, 0.8, 0.0),  step(0.95, finalMask) ) ;\n    \n    \n\tfragColor.xyz = light;\n}","name":"Image","description":"","type":"image"}]}