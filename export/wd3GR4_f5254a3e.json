{"ver":"0.1","info":{"id":"wd3GR4","date":"1567888485","viewed":288,"name":"Dungeon crawler floor/ceiling","username":"Roninkoi","description":"Draws the floor and ceiling like you might see in an old school dungeon crawler","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["floor","dungeon","ceiling"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec3 c1 = vec3(0.8, 0.3, 0.2);\nvec3 c2 = vec3(0.4, 0.7, 0.7);\n\nvoid mainImage(out vec4 fragCol, in vec2 fragPos)\n{\n    float s = 4.;\n    \n    float res = 32.0;\n    \n    float rot = iTime * 0.2;\n    \n    float camX = iTime * 0.2;\n    float camZ = -iTime * 0.2;\n    \n    vec2 uv = fragPos/iResolution.xy*2. - 1.;\n    uv.y *= 2.*(uv.y/abs(uv.y));\n    \n    uv.y = floor(uv.y * res) / res;\n    res *= 2.0*(iResolution.x / iResolution.y);\n    uv.x = floor(uv.x * res) / res;\n    \n    float x = uv.x / uv.y;\n    float z = 1. / uv.y;\n    \n    float ox = x;\n    x = x * cos(rot) + z * sin(rot);\n    z = ox * sin(rot) - z * cos(rot);\n    \n    float rx = x;\n    float rz = z;\n    \n    x += camX;\n    z += camZ;\n\n    vec3 col = vec3(0.0);\n    \n    float a = floor(mod(s*x, 2.)) + floor(mod(s*z, 2.));\n    a = clamp(a, 0., 1.);\n    \n    float b = floor(mod(s*x + 1., 2.)) + floor(mod(s*z + 1., 2.));\n    b = clamp(b, 0., 1.);\n    \n    a *= b;\n    \n    col.rgb += c1*mod(s*z,1.) * a;\n    col.rgb += c1*mod(s*x,1.) * a;\n    \n    col.rgb += c2*mod(s*z,1.) * (1. - a);\n    col.rgb += c2*mod(s*x,1.) * (1. - a);\n    \n    float d = sqrt(rx*rx + rz*rz);\n        \n    col.rgb /= exp(d);\n    \n    fragCol = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}