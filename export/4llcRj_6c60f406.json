{"ver":"0.1","info":{"id":"4llcRj","date":"1505514967","viewed":160,"name":"Crossy Cath","username":"jniac","description":"Smooth cross shaped gradients\nDrag to zoom in / out.","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["simple","colors","2dgradient"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float PI = 3.14159265359;\nfloat PI2 = 6.28318530718;\n\nfloat map(float n, float nMin, float nMax) {\n\treturn (n - nMin) / (nMax - nMin);\n}\nfloat mapClamp(float n, float nMin, float nMax) {\n\treturn n < nMin ? 0. : n > nMax ? 1. : (n - nMin) / (nMax - nMin);\n}\nfloat gain(float x, float p) {\n\treturn (x < .5 ? .5 * pow(abs(2. * x), p) : 1. - .5 * pow(abs(2. * (1. - x)), p));\n}\nvec2 gain(vec2 v, float p) {\n\treturn vec2(gain(v.x, p), gain(v.y, p));\n}\nvec3 gain(vec3 v, float p) {\n\treturn vec3(gain(v.x, p), gain(v.y, p), gain(v.z, p));\n}\n\n\nfloat min4(float a, float b, float c, float d) {\n    return min(min(a, b), min(c, d));\n}\nvec2 scale(vec2 v, float s) {\n    return v * s - (s - 1.) / 2.;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n    \n    vec2 st = fragCoord.xy / iResolution.y;\n    st.x += -(iResolution.x / iResolution.y - 1.) / 2.;\n    vec3 color = vec3(0.0);\n    \n    vec2 mouseR = iMouse.xy / iResolution.xy;\n    \n    float x = smoothstep(.2, .8, mouseR.x);\n    st = scale(st, mix(.7, .1, x));\n    st += mix(0., .4, x);\n    \n//    if (mouseR.x < 1./3.) {\n//\t    st = scale(st, .8);\n//    } else if (mouseR.x < 2./3.) {\n//        st *= .5;\n//        st += .5;\n//    } else {\n//        st = scale(st, .2);\n//        st += .35;\n//    }\n    \n    // bottom-left\n    vec2 margin = vec2(-0.090, -0.090);\n    float s = 1.964;\n    vec2 bl = smoothstep(margin - s / 2., margin + s / 2., st); \n    vec2 tr = smoothstep(margin - s / 2., margin + s / 2., 1.0 - st);\n\t\n    vec3 pct = vec3(min4(bl.x, bl.y, tr.x, tr.y));\n    float p = bl.x * bl.y * tr.x * tr.y;\n    pct = mix(pct, vec3(p), vec3(8., 7., 9.));\n\n    pct = gain(pct, 4.);\n    \n    float t = 5.880;\n    t += iTime;\n    t += PI2 * mouseR.y;\n    color = sin(pct * PI + t * 1.);\n    \n    color = color.rgb + color.bbb - color.ggg * 3.;\n    //color = sin(color + vec3(1,2,3));\n    fragColor = vec4(color,1.0);\n}","name":"Image","description":"","type":"image"}]}