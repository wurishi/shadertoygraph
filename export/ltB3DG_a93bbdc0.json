{"ver":"0.1","info":{"id":"ltB3DG","date":"1439795979","viewed":7741,"name":"Ethereal","username":"Kali","description":"A volumetric rendering of 3D kaliset fractal using raytraced spheres for 2D slices, allowing a smooth rotation movement. Mouse enabled.","likes":215,"published":1,"flags":0,"usePreview":1,"tags":["fractal","volumetric"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"Xsf3zn","filepath":"/media/a/f735bee5b64ef98879dc618b016ecf7939a5756040c2cde21ccb15e69a6e1cfb.png","previewfilepath":"/media/ap/f735bee5b64ef98879dc618b016ecf7939a5756040c2cde21ccb15e69a6e1cfb.png","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define t (iTime*.03)\n\nfloat sphere(vec3 p, vec3 rd, float r){\n\tfloat b = dot( -p, rd ),\n\t  inner = b*b - dot(p,p) + r*r;\n\treturn inner < 0. ?  -1. : b - sqrt(inner);\n}\n\nvec3 kset(vec3 p) {\n\tfloat m=1000., mi=0., l;\n\tfor (float i=0.; i<20.; i++) {\n\t\tp = abs(p)/dot(p,p) - 1.;\n        l=length(p);\n        if (l < m) m=l, mi=i;\n\n\t}\n\treturn normalize( 3.+texture(iChannel0,vec2(mi*.218954)).xyz )\n           * pow( max(0.,1.-m), 2.5+.3*sin(l*25.+t*50.) );\n}\n\nvoid mainImage( out vec4 o,vec2 uv )\n{\n    vec2 R = iResolution.xy,  \n        mo = iMouse.z<.1 ? vec2(.1,.2) : iMouse.xy/R-.5;\n    uv = (uv-.5*R)/ R.y;\n    \n    vec3 ro = -vec3(mo, 2.5-.7*sin(t*3.7535)),\n\t     rd = normalize(vec3(uv,3.)),\n\t     v = vec3(0), p;\n    float tt,c=cos(t),s=sin(t);\n\tmat2 rot = mat2(c,-s,s,c);\n    \n\tfor (float i=20.; i<50.; i++) {\n\t\ttt = sphere(ro, rd, i*.03);\n\t\tp = ro+rd*tt;\n\t\tp.xy *= rot;\n\t\tp.xz *= rot;\n\t\tv = .9*v + .5*kset(p+p)*step(0.,tt);\n\t}\n\n\to.xyz = v*v *vec3(1.2,1.05,.9);\n}","name":"Image","description":"","type":"image"}]}