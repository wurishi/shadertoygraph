{"ver":"0.1","info":{"id":"XdXBWM","date":"1496305376","viewed":109,"name":"Metaballs-threstle","username":"Threstle","description":"metaballs","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["metaballs"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float isInCircle(vec2 pos, vec2 mouse, vec4 circle, vec4 circle2, vec4 circle3, vec4 circle4){\n    \n    \n    \n    float dist1 = circle.z / sqrt(((pos.x - circle.x)*(pos.x - circle.x)) + ((pos.y - circle.y)*(pos.y - circle.y)));\n    float dist2 = circle2.z / sqrt(((pos.x - circle2.x)*(pos.x - circle2.x)) + ((pos.y - circle2.y)*(pos.y - circle2.y)));\n    float dist3 = circle3.z / sqrt(((pos.x - circle3.x)*(pos.x - circle3.x)) + ((pos.y - circle3.y)*(pos.y - circle3.y)));\n    float dist4 = circle4.z / sqrt(((pos.x - circle4.x)*(pos.x - circle4.x)) + ((pos.y - circle4.y)*(pos.y - circle4.y)));\n\n    float dist5 = circle4.z / sqrt(((pos.x - mouse.x)*(pos.x - mouse.x)) + ((pos.y - mouse.y)*(pos.y - mouse.y)));\n    \n    float col = ((dist1*circle.w) + (dist2*circle2.w) + (dist3*circle3.w) + (dist4*circle4.w));  \n    float newDist;\n    newDist = dist2 + dist1 + dist3 + dist4;\n    \n    \n    float color = 0.0;\n    \n    if(newDist > circle.z*18.0  && newDist < circle.z*20.0)color = col;\n    \n    //newDist = cos(newDist);\n    \n    return color;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 r = vec2(fragCoord.x / iResolution.x,\n\t\t\t\t  fragCoord.y / iResolution.y);\n    \n    vec2 m = vec2(iMouse.x / iResolution.x,\n\t\t\t\t  iMouse.y / iResolution.y);\n\t\n    vec4 ball1 = vec4(0.4 + cos(iTime)*0.1, 0.5 + sin(iTime)*0.1,0.05,0.3);\n    vec4 ball2 = vec4(0.6 - cos(iTime)*0.1, 0.5 - sin(iTime)*0.4,0.05,0.5);\n\tvec4 ball3 = vec4(0.5 - cos(iTime)*0.1, 0.4 + sin(iTime)*0.12,0.05,0.6);\n\tvec4 ball4 = vec4(0.5 - cos(iTime)*0.1, 0.6 - sin(iTime*0.3)*0.40,0.05,0.9);\n\n    \n    vec3 pixel = vec3(0.0);\n\n    \n    float dist = isInCircle(r,m,ball1,ball2,ball3,ball4);\n    \n    \n    pixel = vec3(dist,dist/4.0,dist/2.0);\n\t\n\tfragColor = vec4(pixel, 1.0);\n}\n\n","name":"Image","description":"","type":"image"}]}