{"ver":"0.1","info":{"id":"dlcyR7","date":"1698998887","viewed":69,"name":"Truchet Tiling study","username":"vlahovivan","description":"Truchet tiling study","likes":8,"published":1,"flags":0,"usePreview":0,"tags":["truchet","tiling"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float rand(vec2 co, float seed){\n    return fract(sin(dot(co, vec2(26.9898, 98.233))) * seed);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float seed_1 = 43758.5453 + floor(iTime);\n    float seed_2 = 45252.2524 + floor(iTime);\n    \n    float circle_radius = 0.15;\n    \n    vec2 original_p = (fragCoord)/iResolution.y;\n    \n    vec2 truchet_p = original_p;\n    \n    float rows = 6.0;\n    truchet_p *= rows;\n    \n    vec2 circle_p = truchet_p + 0.5;\n    \n    vec2 idx = floor(truchet_p);\n    vec2 color_idx = floor(circle_p);\n    \n    truchet_p = fract(truchet_p) - 0.5;\n    circle_p = fract(circle_p) - 0.5;\n\n    if(rand(idx, seed_1) > 0.5) {\n        truchet_p.x = -truchet_p.x;\n    }\n    \n    float aa_const = 0.75 * rows / iResolution.y;\n    \n    float r = min(length(truchet_p - vec2(0.5, 0.5)), length(truchet_p - vec2(-0.5, -0.5)));\n    float l = smoothstep(0.6 + aa_const, 0.6 - aa_const, r) - smoothstep(0.4 + aa_const, 0.4 - aa_const, r);\n    \n    float r_c = length(circle_p);\n    float l_c = smoothstep(circle_radius + aa_const, circle_radius - aa_const, r_c);\n    \n    if(rand(color_idx, seed_2) > 0.25) {\n        l_c = 0.0;\n    }\n    \n    float gradient_amt = clamp(length(original_p) * 0.6, 0.0, 1.0);\n    \n    vec4 bg_color = mix(vec4(0.169, 0.227, 0.404, 1.000), vec4(0.286, 0.416, 0.506, 1.000), gradient_amt);\n    vec4 line_color = mix(vec4(0.937, 0.973, 0.984, 1.000), vec4(1.000, 0.996, 0.922, 1.000), gradient_amt);\n    vec4 circle_color = mix(vec4(0.91, 0.365, 0.459, 1.000), vec4(0.949, 0.506, 0.137, 1.000), gradient_amt);\n    \n    fragColor = bg_color;\n    fragColor = mix(fragColor, line_color, l);\n    fragColor = mix(fragColor, circle_color, l_c);\n}","name":"Image","description":"","type":"image"}]}