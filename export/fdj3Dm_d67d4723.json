{"ver":"0.1","info":{"id":"fdj3Dm","date":"1617508474","viewed":106,"name":"Braid pattern","username":"clewis","description":"A hack to achieve an overlapping braid effect","likes":9,"published":1,"flags":0,"usePreview":0,"tags":["braid"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Step function that's smoothed out a little\nfloat sstep(float a, float b) {\n    return clamp((b - a) * 10.0, 0.0, 1.0);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n    vec2 uv = fragCoord/iResolution.xy;\n    \n    // Color palette\n    vec3 colorA = vec3(0.1592474, 0.1330421, 0.383);\n    vec3 colorB = mix(\n        vec3(0.3011922, 0.6983685, 0.844),\n        vec3(0.3789613, 0.3294118, 0.7450981),\n        clamp(length(uv - 0.5) * 1.5, 0.0, 1.0)\n    );\n    vec3 colorC = mix(\n        vec3(1, 0.397, 0.6524125),\n        vec3(0.6784314, 0.3058824, 0.6784314),\n        clamp(length(uv - 0.5) * 1.5, 0.0, 1.0)\n    );\n    vec3 colorD = vec3(0.2333571, 0.3060124, 0.7169812);\n\n    // Individual braid strands\n    uv *= 2.0;\n    float pi = 3.14159265;\n    float freq = 10.0;\n    float amp = 0.04;\n    float sw = -0.81; // Strand width\n    float ow = -0.46; // Outline width\n    float p1 = sin((uv.x + sin(uv.y * freq) * amp) * 50.0);\n    float p2 = sin((uv.x + sin(uv.y * freq + 2.0) * amp) * 50.0);\n    float p3 = sin((uv.x + sin(uv.y * freq + 4.0) * amp) * 50.0);\n\n    // Braid layer 1\n    vec3 col1 = colorA;\n    col1 = mix(col1, colorC, sstep(p1, sw));\n    col1 = mix(col1, colorA, sstep(p2, ow));\n    col1 = mix(col1, colorD, sstep(p2, sw));\n    col1 = mix(col1, colorA, sstep(p3, ow));\n    col1 = mix(col1, colorB, sstep(p3, sw));\n\n    // Braid layer 2\n    vec3 col2 = colorA;\n    col2 = mix(col2, colorD, sstep(p2, sw));\n    col2 = mix(col2, colorA, sstep(p3, ow));\n    col2 = mix(col2, colorB, sstep(p3, sw));\n    col2 = mix(col2, colorA, sstep(p1, ow));\n    col2 = mix(col2, colorC, sstep(p1, sw));\n\n    vec3 col = mix(col1, col2, step(sin(uv.y * freq), 0.0));\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}