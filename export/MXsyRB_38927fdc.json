{"ver":"0.1","info":{"id":"MXsyRB","date":"1726376359","viewed":24,"name":"EB Background Recreation","username":"VeryCoolGood","description":"Recreation of one of the battle backgrounds from Earthbound: https://www.gjtorikian.com/Earthbound-Battle-Backgrounds-JS/?layer1=199&layer2=0&frameskip=1&aspectRatio=0\n\nStill kind of new to shaders but I think I did pretty good on this one.","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["2d","trippy","pattern","earthbound"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Create Diagonal Line\nfloat sdDiag (vec2 p, float slope) {\n    return length(p - vec2(p.x, slope*p.x));\n}\n\n// Create Color Pallete\n// https://iquilezles.org/articles/palettes/\nvec3 pallete(float t) {\n    vec3 a = vec3(1.118, 0.228, 0.000);\n    vec3 b = vec3(-0.260, 0.448, 0.000);\n    vec3 c = vec3(-0.352, -0.572, 0.000);\n    vec3 d = vec3(-1.992, -1.862, 0.000);\n    \n    return a + b*cos( 6.28318*(c*t+d) );\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    const float width = 0.025;\n    const float colSpeed = 0.8;\n    const float disSpeed = 2.0;\n    const float scrSpeed = 0.1;\n    \n    // Normalized pixel coordinates (from -1 to 1)\n    vec2 uv = (fragCoord/iResolution.xy - 0.5) * 2.;\n    uv.x *= iResolution.x / iResolution.y; // Adjust to aspect ratio\n\n    uv += iTime*scrSpeed; // Shift screen\n    vec3 col = vec3(0., 0., 0.); // BG color\n    \n    // Apply distortion effect\n    // https://github.com/gjtorikian/Earthbound-Battle-Backgrounds-JS\n    float offset = 0.20*sin(5.5*uv.y + disSpeed*iTime);\n    uv.x += offset;\n    \n    // Repeat pattern\n    uv = fract(uv*2.0) - 0.5;\n    \n    // Shift colors based on center of lines\n    float r = length(uv);\n    vec3 lineCol = pallete(r + iTime*colSpeed);\n    \n    // Display Lines\n    col = mix(lineCol, col, step(width, sdDiag(uv, 1.)));\n    col = mix(lineCol, col, step(width, sdDiag(uv, -1.)));\n\n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}