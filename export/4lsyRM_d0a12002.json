{"ver":"0.1","info":{"id":"4lsyRM","date":"1504045923","viewed":269,"name":"AA barycentric triangle 3","username":"etale_cohomology","description":"Fork of vcazevedo's https://www.shadertoy.com/view/llsXzn\n\nYet another way of drawing an antialiased barycentric triangle\n\nUse the mouse to place the third vertex!","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["2d","simple","math","tutorial","triangle","mobius","antialias","barycentric","cramer"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Fork of vcazevedo's https://www.shadertoy.com/view/llsXzn\n\n// An antialiased barycentric triangle!\n\n#define ANTIALIAS 6.\n\nfloat sdf_triangle(vec2 vec_p, vec2 vec_a, vec2 vec_b, vec2 vec_c){\n    vec2 v0 = vec_c - vec_a;\n    vec2 v1 = vec_b - vec_a;\n    vec2 v2 = vec_p - vec_a;\n\n    float dot00 = dot(v0, v0);  // Compute barycentric coordinates \n    float dot01 = dot(v0, v1);\n    float dot02 = dot(v0, v2);\n    float dot11 = dot(v1, v1);\n    float dot12 = dot(v1, v2);\n\n    float inv = 1. / (dot00 * dot11 - dot01 * dot01);\n    float bary_x = (dot11 * dot02 - dot01 * dot12) * inv;\n    float bary_y = (dot00 * dot12 - dot01 * dot02) * inv;\n    float bary_z = 1. - bary_x - bary_y;\n\n    return min(min(bary_x, bary_y), bary_z);\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord){\n    vec2 uv = (2. * fragCoord - iResolution.xy) / iResolution.y;  // The Fabrice map!\n    uv = mat2(cos(iTime), -sin(iTime), sin(iTime), cos(iTime)) * uv;\n\n    vec2 mouse_uv = (2. * iMouse.xy - iResolution.xy) / iResolution.y;\n    mouse_uv = mat2(cos(iTime), -sin(iTime), sin(iTime), cos(iTime)) * mouse_uv;\n\n    vec2 vec_a = vec2(-.4, -.5);  //Triangle barycentric coordinates defined on screen space\n\tvec2 vec_b = vec2( .8,  .0);\n\tvec2 vec_c = mouse_uv;\n\n\tfloat triangle = sdf_triangle(uv, vec_a, vec_b, vec_c);\n    triangle = smoothstep(.0, ANTIALIAS / iResolution.y, triangle);\n\n    fragColor.rgb = vec3(triangle);\n}\n","name":"Image","description":"","type":"image"}]}