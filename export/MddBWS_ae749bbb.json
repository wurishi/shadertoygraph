{"ver":"0.1","info":{"id":"MddBWS","date":"1526606702","viewed":145,"name":"Vapor","username":"rodolphito","description":"Mouse interactive. Vapor (modified version of https://www.shadertoy.com/view/4sdfDS)","likes":4,"published":1,"flags":32,"usePreview":0,"tags":["vapor"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGzn","filepath":"/media/a/0c7bf5fe9462d5bffbd11126e82908e39be3ce56220d900f633d58fb432e56f5.png","previewfilepath":"/media/ap/0c7bf5fe9462d5bffbd11126e82908e39be3ce56220d900f633d58fb432e56f5.png","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    fragColor = texture(iChannel0, uv) * 0.5 + texture(iChannel1, fragCoord / 256.0).r / 256.0;\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"XdX3Rr","filepath":"/media/a/aea6b99da1d53055107966b59ac5444fc8bc7b3ce2d0bbb6a4a3cbae1d97f3aa.bin","previewfilepath":"/media/ap/aea6b99da1d53055107966b59ac5444fc8bc7b3ce2d0bbb6a4a3cbae1d97f3aa.bin","type":"volume","channel":1,"sampler":{"filter":"nearest","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"#define HASHSCALE1 0.231\n#define HASHSCALE3 vec3(.1031, .1030, .0973)\n#define epsilon vec2(0.01, 0)\n\nconst float pi2 = 2.0*atan(1.0);\n\nvec3 random3(vec3 c)\n{\n\treturn texture(iChannel1, c*0.03125).rgb-0.5;\n}\n\nconst float F3 =  0.3333333333;\nconst float G3 =  0.1666666667;\n\n//thx nikat\nfloat simplex3d(vec3 p)\n{\n\t vec3 s = floor(p + dot(p, vec3(F3)));\n\t vec3 x = p - s + dot(s, vec3(G3));\n\n\t vec3 e = step(vec3(0.0), x - x.yzx);\n\t vec3 i1 = e*(1.0 - e.zxy);\n\t vec3 i2 = 1.0 - e.zxy*(1.0 - e);\n\t \n\t vec3 x1 = x - i1 + G3;\n\t vec3 x2 = x - i2 + 2.0*G3;\n\t vec3 x3 = x - 1.0 + 3.0*G3;\n\t \n\t vec4 w, d;\n\t \n\t w.x = dot(x, x);\n\t w.y = dot(x1, x1);\n\t w.z = dot(x2, x2);\n\t w.w = dot(x3, x3);\n\t \n\t w = max(0.6 - w, 0.0);\n\t \n\t d.x = dot(random3(s), x);\n\t d.y = dot(random3(s + i1), x1);\n\t d.z = dot(random3(s + i2), x2);\n\t d.w = dot(random3(s + 1.0), x3);\n\t \n\t w *= w;\n\t w *= w;\n\t d *= w;\n\t \n\t return dot(d, vec4(52.0));\n}\n\nfloat potential(vec3 p)\n{\n    float result = 0.5*simplex3d(2.0*p);\n    result += 0.25*simplex3d(4.0*p);\n    result += 0.125*simplex3d(8.0*p);\n    result += 0.0625*simplex3d(16.0*p);\n    result += 0.03125*simplex3d(32.0*p);\n    result *= 0.0075;\n    return result;\n}\n\nvec2 curl(vec2 p){\n    float time = iTime * 0.05;\n    vec2 result = vec2(potential(vec3(p + epsilon.yx, time)), potential(vec3(p + epsilon, time)));\n    result -= potential(vec3(p, time));\n    result /= epsilon.x;\n    return vec2(-result.x, result.y);\n}\nvec4 pi = vec4(0,2,4,8)*atan(1.0);\nvec3 hsv2rgb(in vec3 c)\n{\n\treturn c.z*mix(vec3(1),0.5+0.5*sin(c.x+pi.xzw*2.0/3.0),c.y);\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    vec2 uv2 = fragCoord/iResolution.yy;\n    \n    vec2 v = curl(uv2);\n    vec2 cv = uv - v * 0.05 - vec2(0, 0.002);\n    fragColor = \n        + 0.02*textureLod(iChannel0, cv, 4.0)\n        + 0.048*textureLod(iChannel0, cv, 4.0)\n        + 0.93*textureLod(iChannel0, cv, 0.0);\n    \n    vec2 m = iMouse.xy;\n    vec2 p = fragCoord - m;\n    p.x *= 0.1;\n    float d = max(1.0 - dot(p, p) * 0.0001, 0.0);\n    fragColor += vec4(d*d * hsv2rgb(vec3(iTime*0.5+p.x*0.1,0.5,1.0)) * 0.02, 1.0);\n}","name":"Buffer A","description":"","type":"buffer"}]}