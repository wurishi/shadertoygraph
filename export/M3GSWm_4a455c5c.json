{"ver":"0.1","info":{"id":"M3GSWm","date":"1720018438","viewed":44,"name":"NyanCat looks like flag hw3","username":"AbigaleD","description":"moving cart based on other work ","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["flag","movingcat"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XdfGRn","filepath":"/media/a/e6e5631ce1237ae4c05b3563eda686400a401df4548d0f9fad40ecac1659c46c.jpg","previewfilepath":"/media/ap/e6e5631ce1237ae4c05b3563eda686400a401df4548d0f9fad40ecac1659c46c.jpg","type":"texture","channel":2,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"Xsf3Rn","filepath":"/media/a/cbcbb5a6cfb55c36f8f021fbb0e3f69ac96339a39fa85cd96f2017a2192821b5.png","previewfilepath":"/media/ap/cbcbb5a6cfb55c36f8f021fbb0e3f69ac96339a39fa85cd96f2017a2192821b5.png","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"},"published":1},{"id":"Xsf3zn","filepath":"/media/a/f735bee5b64ef98879dc618b016ecf7939a5756040c2cde21ccb15e69a6e1cfb.png","previewfilepath":"/media/ap/f735bee5b64ef98879dc618b016ecf7939a5756040c2cde21ccb15e69a6e1cfb.png","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"/* based on \nhttps://www.shadertoy.com/view/XtB3zc\n*/\nfloat ct;\nvec2 pix;\nconst float scale = 0.33;\nconst float animLength = 6.0 / 10.0; \n\nvec4 getCatPix(vec2 pos){\n        \n    const int FRAMES = 6;\n    const int FRAME_WIDTH = 40;\n    const int TEXT_WIDTH = 256;\n    const int TEXT_HEIGHT = 32;\n    \n    pos = clamp(pos, vec2(0.0), vec2(1.0));\n    \n    int currentFrame = int(mod(ct / animLength * float(FRAMES), float(FRAMES)));        \n    vec2 normTextPos = vec2((pos.x / float(FRAMES)) + float(currentFrame)/float(FRAMES), pos.y);              \n    vec2 textPos = vec2(mix(0.0, 240.0/256.0 , normTextPos.x), 1.0-normTextPos.y);    \n\tvec4 color = texture(iChannel0, textPos);\n    return color;\n}\n\nvec4 getCatAt(vec2 pos, float scale){\n    return getCatPix(pix/scale + pos);\n}\n\nvec4 getSky(vec2 pos){\n    \n    pos.x += ct;\n    \n    float res = 16.0;\n    \n    pos = vec2(float(int(pos.x * res)) / res, float(int(pos.y * res)) / res);\n    \n    int pp = 10;\n    pos = pos * 0.1;\n    \n    float shade = texture(iChannel2, pos).x;\n    vec4 color = vec4(shade / 4.0, shade / 4.0, shade, 1.0);\n    return color;\n}\n\nvec2 getCatPos(){\n    //const float jumpLen = 0.4;\n    \n    float jump = 0.0;\n    \n    float x = mod(ct, animLength) / animLength;\n    //vec2 tmp = \n    float y_mov = (texture(iChannel1, vec2(.0, iTime*0.005)).x - 0.5)*2.5;\n    \n    jump += smoothstep(0.3, 0.5, x) * 0.2 * scale;\n    jump += (1.0-smoothstep(0.5, 0.6, x)) * 0.2 * scale;\n    jump += y_mov;\n        \n    vec2 pos_nextframe = vec2(-1.9, -0.68) + vec2( 0.10 * sin(ct * 2.0), 0.0) + vec2(0.0, jump);\n    \n    //float correct_y =clamp(pos_nextframe.y,0.0,1.0);\n    //pos_nextframe.y = correct_y;\n        \n    return pos_nextframe;\n        \n}\n\nvec4 getRainbow(){\n    vec2 pos_cat = getCatPos();\n    const float fr = 90.0;\n    const float h = 0.18;\n    float mov_h = 0.0;\n    float s = sin(pix.x * fr + ct*60.0) * 0.01;\n    \n    vec4 rb = vec4(0.0);\n\n    //if (pix.x < 0.8){\n        rb = mix(rb, vec4(1.0,0.0,0.0,0.6), step(0.0 * h + s, pix.y) - step(1.0 * h + s+mov_h, pix.y));\n        rb = mix(rb, vec4(1.0,0.6,0.0,0.6), step(0.0 + 1.0 * h + s + mov_h, pix.y) - step(0.3+2.0 * h + s + mov_h, pix.y));\n        rb = mix(rb, vec4(1.0,1.0,0.0,0.6), step(0.0 + 2.0 * h + s + mov_h, pix.y) - step(0.3+3.0 * h + s + mov_h, pix.y));\n        rb = mix(rb, vec4(0.2,1.0,0.0,0.6), step(0.0 + 3.0 * h + s + mov_h, pix.y) - step(0.3+4.0 * h + s + mov_h, pix.y));\n        rb = mix(rb, vec4(0.0,0.6,1.0,0.6), step(0.0 + 4.0 * h + s + mov_h, pix.y) - step(0.3+5.0 * h + s + mov_h, pix.y));\n        rb = mix(rb, vec4(0.4,0.2,1.0,0.6), step(0.0 + 5.0 * h + s + mov_h, pix.y) - step(0.3+6.0 * h + s + mov_h, pix.y));\n    //}\n    \n    return rb;\n\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n \tct = iTime;   \n \n    \n    \n    pix = (fragCoord.xy / iResolution.xy);\n    \n    vec4 col = getCatAt(getCatPos(), scale);\n    col = mix(getRainbow(), col, col.a);\n    //col = mix(getSky(pix), col, col.a);\n    \n    \n    \n    fragColor = col;\n\n}","name":"Image","description":"","type":"image"}]}