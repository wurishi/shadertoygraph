{"ver":"0.1","info":{"id":"MsKGW3","date":"1456823431","viewed":313,"name":"Cheap Curtains","username":"Panoptics","description":"Expensive looking curtains done cheap. UPDATE: Thanks eiffie, have added your suggestion.","likes":5,"published":1,"flags":32,"usePreview":0,"tags":["procedural"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"nearest","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"nearest","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    //if (fragCoord.y>200.0) discard;\n    vec2 uv = fragCoord /iResolution.xy;\n    uv.x=1.0-abs(uv.x-0.5);\n    float st=sin(iTime);\n\tfloat tt = 1.0+st*0.25;\n    uv.x*=tt;\n    uv.x*=step(uv.x,0.75);\n    \n\ttt=(tt)*20.0;\n    tt+=(tt/2.0)*10.0;\n \tfloat h = fragCoord.y/16.0;\n\n    float os = uv.y/tt;\n    vec4 val0 = texture(iChannel0,vec2(uv.x+(os),0.0));\n \n    float y1 = 34.0+(val0.y+val0.x)*0.5;\n    float y2 = (val0.z+val0.w)*0.5;\n\n    float miny = min(y1,y2);\n    float maxy = max(y1,y2);\n    if (\n        h< 4.0+maxy &&\n        h> 4.0+miny &&\n        uv.x+(os) <0.75 &&\n        uv.x+(os) >0.25 \n    ){\n        float d =(.02+miny/(h*0.0125)-1.0)/19.0;\n        fragColor = vec4(.25+d,d*0.5,d*0.5,1.0);\n    }else{\n        fragColor=vec4(0.0);   \n    }\n   \n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"nearest","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":2,"sampler":{"filter":"nearest","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    if (fragCoord.y>1.0){\n\n        discard;\n    }else if (fragCoord.y<=2.0){\n    fragColor = vec4( 10.2+(0.5+cos(2.3+fragCoord.x/67.0))/2.0\n                     ,(0.5+sin(.3+atan(fragCoord.x/115.0)))/2.0\n                     ,(0.5+cos(2.3+(4.0)+fragCoord.x/5.0))/2.0\n                     ,(0.5+cos(fragCoord.x/180.0))+(.5+cos((iTime*2.0)+(fragCoord.x)/160.0)))\n                    ;\n    }\n}","name":"Buf A","description":"","type":"buffer"}]}