{"ver":"0.1","info":{"id":"MtSXWw","date":"1444058293","viewed":157,"name":"Searching Light","username":"bbcollinsworth","description":"Simulation of a hand-carried flashlight in the distance, searching the darkness.","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["noise","light"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[],"code":"\n// procedural noise from IQ\n\n#define PI 3.14159265359\n\nvec2 hash( vec2 p )\n{\n\tp = vec2( dot(p,vec2(127.1,311.7)),\n\t\t\t dot(p,vec2(269.5,183.3)) );\n    //setting p mult to 0.0001 seems to get slightly smoother results\n\treturn -1.0 + 2.0*fract(sin(p*0.0001)*43758.5453123);\n}\n\nfloat noise( in vec2 p )\n{\n\tconst float K1 = 0.366025404; // (sqrt(3)-1)/2;\n\tconst float K2 = 0.211324865; // (3-sqrt(3))/6;\n\t\n\tvec2 i = floor( p + (p.x+p.y)*K1 );\n\t\n\tvec2 a = p - i + (i.x+i.y)*K2;\n\tvec2 o = (a.x>a.y) ? vec2(1.0,0.0) : vec2(0.0,1.0);\n\tvec2 b = a - o + K2;\n\tvec2 c = a - 1.0 + 2.0*K2;\n\t\n\tvec3 h = max( 0.5-vec3(dot(a,a), dot(b,b), dot(c,c) ), 0.0 );\n\t\n\tvec3 n = h*h*h*h*vec3( dot(a,hash(i+0.0)), dot(b,hash(i+o)), dot(c,hash(i+1.0)));\n\t\n\treturn dot( n, vec3(70.0) );\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    uv=uv*2.0-1.0;\n    \n    vec2 center = vec2(0.0);\n    \n    float r = distance(uv,center);\n    \n    \n    float fadeToWhite = r;//pow(r,2.0);\n    \n    float fadeToBlack = 1.0-fadeToWhite;\n    fadeToBlack += noise(vec2(uv.x*0.1+sin(iTime),uv.y*0.1+cos(iTime+2.6)));\n\n    \n    vec3 color = vec3(fadeToBlack,fadeToBlack,(pow(fadeToBlack,3.0)*0.7));//smoothstep(0.0,1.0,(pow(fadeToBlack,3.0)*0.7)));//,0.0,1.0));//vec3(fadeToBlack*iChannel0);\n\n    \n    fragColor = vec4(color,1.0);\n\n}","name":"","description":"","type":"image"}]}