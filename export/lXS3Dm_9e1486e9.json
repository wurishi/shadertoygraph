{"ver":"0.1","info":{"id":"lXS3Dm","date":"1708521618","viewed":76,"name":"Quake I Sky","username":"BitOfGold","description":"2D cloud noise sky quake","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["2dcloudnoiseskyquake"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const float DPX = 0.03;\nconst mat2 rot45 = mat2(0.707, 0.707, -0.707, 0.707);\nconst vec2 SCALE = vec2(5.9, 2.7);\nconst vec2 SCALE2 = vec2(7.9, 7.3);\n\nconst vec3 c1 = vec3(.6, .4, .49);\nconst vec3 c2 = vec3(.3, .22, .27);\n\nvec2 hash( vec2 p )\n{\n\tp = vec2( dot(p,vec2(127.1,311.7)),\n\t\t\t  dot(p,vec2(269.5,183.3)) );\n\n\treturn -1.0 + 2.0*fract(sin(p)*43758.5453123);\n}\n\nfloat noise( in vec2 p )\n{\n    const float K1 = 0.366025404;\n    const float K2 = 0.211324865;\n\n\tvec2 i = floor( p + (p.x+p.y)*K1 );\n\t\n    vec2 a = p - i + (i.x+i.y)*K2;\n    vec2 o = step(a.yx,a.xy);    \n    vec2 b = a - o + K2;\n\tvec2 c = a - 1.0 + 2.0*K2;\n\n    vec3 h = max( 0.5-vec3(dot(a,a), dot(b,b), dot(c,c) ), 0.0 );\n\n\tvec3 n = h*h*h*h*vec3( dot(a,hash(i+0.0)), dot(b,hash(i+o)), dot(c,hash(i+1.0)));\n\n    return dot( n, vec3(70.0) );\n\t\n}\n\nfloat fnoise(in vec2 p)\n{\n\tfloat f = 0.0;\n    p *= 5.0;\n    mat2 m = mat2( 1.6,  1.2, -1.2,  1.6 );\n\tf  = 0.5000*noise( p ); p = m*p;\n\tf += 0.2500*noise( p ); p = m*p;\n\tf += 0.1250*noise( p ); p = m*p;\n\tf += 0.0625*noise( p ); p = m*p;\n    return(f);\n}\n\n// -----------------------------------------------\n\nfloat cloud(in vec2 uv, float cloudy, float sharp, float time) {\n    uv += 0.05*pow(sin(time+uv.x*4.0),2.0);\n    float hh = 0.9+0.1*fnoise(uv*1.7+vec2(time*-4.5,time*-3.7));\n    float h = 0.9+0.1*fnoise(uv+vec2(time*2.1,time*1.7));\n    uv += vec2(time*0.7,time*0.9);\n\tfloat d = cloudy*0.33+0.4*fnoise(uv*0.25)+0.2*h+0.5*hh;\n    d = smoothstep(0.5-sharp,0.5+sharp,clamp(d*d,0.0,1.0));\n\n    return (d*h);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = rot45 * (fragCoord.xy / iResolution.xy);\n    float time = iTime * .02;\n\tfloat cl1 = cloud(uv * SCALE, 0.3, 0.15, time);\n    float cl2 = cloud(uv * SCALE2, 0.4, 0.2, time*3.);\n    vec3 result = mix(c1, c2, cl1 * 1.5 - cl2);\n    float alpha = 1.0;\n\tfragColor = vec4( result, alpha);\n}\n","name":"Image","description":"","type":"image"}]}