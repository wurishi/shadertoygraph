{"ver":"0.1","info":{"id":"ssSyRm","date":"1643237905","viewed":294,"name":"Green screen from everything","username":"maras","description":"Based on a https://www.shadertoy.com/view/llBGWc shader.\n\nClick on a screen to select color which will be used to show texture. Depends on color you need to choose properly treshold value. ","likes":5,"published":1,"flags":2,"usePreview":0,"tags":["mouse","camera","green"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4sf3zn","filepath":"/presets/webcam.png","previewfilepath":"/presets/webcam.png","type":"webcam","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define threshold 0.005\n#define padding 0.05\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{        \n    float aspectRatio = iResolution.x / iResolution.y;\n    vec2 percent = ((fragCoord.xy / iResolution.xy) - vec2(0.25,0.5));\n    percent.x *= aspectRatio;\n    \n    vec2 mouse = (iMouse.xy / iResolution.xy);\n    \n    vec2 uv = fragCoord/iResolution.xy;\n    \n    vec4 camera_input = texture(iChannel0, vec2(1.0 - uv.x, uv.y));\n\n    vec3 greenScreen = texture(iChannel0, vec2(1.0 - mouse.x, mouse.y)).xyz;\n        \n    vec3 diff = camera_input.xyz - greenScreen.xyz;\n    float fac = smoothstep(threshold-padding,threshold+padding, dot(diff,diff));\n    \n    camera_input = mix(camera_input, texture(iChannel1, uv), 1.-fac);\n\tfragColor = camera_input;\n}","name":"Image","description":"","type":"image"}]}