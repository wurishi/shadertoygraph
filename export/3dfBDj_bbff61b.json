{"ver":"0.1","info":{"id":"3dfBDj","date":"1589038145","viewed":312,"name":"really all in Common","username":"FabriceNeyret2","description":"hack for golfing:\nmainImage is factored once for all in Common, but still knows in which Buffer it runs.\n\nThis one is 23 chars longer than [url]https://www.shadertoy.com/view/3dXfWj[/url] variant, but here buffers are really empty :-)","likes":6,"published":3,"flags":32,"usePreview":0,"tags":["tuto","golf"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage(out vec4 O, vec2 U) { mi }","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"#define R iResolution.xy//\n#define T texture(iChannel0,//\n#define mi \\\n    O = T U/R);                                         \\\n    float B = T .5/R).a,      /* BuffId */              \\\n          y = 3.*U.y/R.y;                               \\\n    O =   B<2. ?   vec4( y>2., 0,0,0)       /* buffA */ \\\n        : B<3. ? O+vec4(0, y>1.&&y<2., 0,0) /* buffB */ \\\n               : O+vec4(0,0, y<1., 0);      /* Image */ \\\n    U-.5==R-R ? O.a = ++B :B; // inc BuffId","name":"Common","description":"","type":"common"},{"inputs":[],"outputs":[{"id":"4dXGR8","channel":0}],"code":"void mainImage(out vec4 O, vec2 U) { mi }","name":"Buffer A","description":"","type":"buffer"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"XsXGR8","channel":0}],"code":"void mainImage(out vec4 O, vec2 U) { mi }","name":"Buffer B","description":"","type":"buffer"}]}