{"ver":"0.1","renderpass":[{"outputs":[{"channel":0,"id":"4dfGRr"}],"inputs":[],"code":"const float PI=3.14159;\nconst float linenum=7.;\nconst float starmod=3.;\n\nvec3 dcol = vec3(-1.);\n\nfloat sine(float x){\n\treturn (sin((x-0.5)*PI)+1.)/2.;\n}\n\nvec2 rotate(vec2 uv, float ang){\n\t\n\tfloat l=length(uv);\n\t\n\tl=mix(l,exp(l),sine(iTime*0.2-0.2)/2.);\n\t\n\tang += atan(uv.x,uv.y);\n\t\n\treturn vec2(sin(ang),cos(ang))*l;\n}\n\nvec2 cirflect(vec2 uv){\n\t\n\tfloat md=1.-abs(mod(length(uv),2.)-1.);\n\t\n\treturn normalize(uv)*md;\t\n}\n\nfloat line(vec2 p1, vec2 p2){\n\tvec2 ld = p2-p1;\n\tfloat md = clamp(dot(-p1,normalize(ld))/length(ld),0.,1.);\n\treturn abs(length(mix(p1,p2,md)));\n}\n\nfloat convex(vec2 u){\n\t\n\tfloat dist;\n\tfloat anginc = (PI/linenum)*2.;\n\t\n\tfor(float i=0. ; i<linenum ; i++){\n\t\tfloat ang1 = anginc*i*starmod;\n\t\tfloat ang2 = anginc*(i+1.)*starmod;\n\t\tvec2 p1 = vec2(cos(ang1),sin(ang1));\n\t\tvec2 p2 = vec2(cos(ang2),sin(ang2));\n\t\t\n\t\tfloat ndist = line(p1+u,p2+u);\n\t\tif(i==0.) dist=ndist;\n\t\telse dist=min(dist,ndist);\n\t}\n\treturn dist;\t\n}\n\nvec3 shade(vec2 uv){\n\t\n\t/* PARAMS */\n\t\n\tconst float width=0.02;\n\tconst float linenum=20.;\n\t\n\n\t/* ------ */\n\t\n\tfloat dist=0.;\n\t\n\tvec2 ruv = rotate(uv,mod(iTime*0.4,PI*2.));\n\truv = cirflect(ruv);\n\t\n\tfloat warp=0.3;\n\t\n\tdist = convex(vec2(0.)-ruv*(sin(iTime*0.2*PI)*(warp*2.)+1.-warp));\n\t\n\tdist = max(0.,dist-width);\n\t\n\tvec3 color;\n\t\n\tcolor = vec3(dist);\n\tcolor.r = smoothstep(color.r,0.,0.01);\n\tcolor.g = smoothstep(color.g,0.,0.02);\n\tcolor.b = smoothstep(color.b,0.,0.04);\n\t\n\treturn color;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = (2.*fragCoord.xy - iResolution.xy) / iResolution.y;\n\t\n\tuv*=2.;\n\t\n\tvec3 color=shade(uv);\n\t\n\tif(max(dcol.r,max(dcol.g,dcol.b)) > -1.)\n\t\tcolor=dcol;\n\t\n\tfragColor = vec4(color,1.0);\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"XdsSzN","date":"1397656529","viewed":208,"name":"starline","username":"cafe","description":"starline","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["starline"],"hasliked":0,"parentid":"","parentname":""}}