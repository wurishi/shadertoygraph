{"ver":"0.1","info":{"id":"4ttSWS","date":"1481596324","viewed":140,"name":"Circular Ray Marching Tunnel","username":"micantre","description":"Spinning circular tunnel made with ray marching","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["circleraymarching"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define ITER 16.\n#define SPEED 1.0\n#define ALTERNATE_COLORS false\n#define TWIST true\n\nbool isInCircle(vec2 center, float radius, vec2 point)\n{\n    if(distance(center,point) > radius) return true;\n    else return false;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = (fragCoord/iResolution.xy) * 2. - 1.;\n    uv.x*=iResolution.x/iResolution.y;\n    vec3 color = vec3(0.0);\n    vec2 ray;\n    for(float z=0.;z<ITER;z+=1.){\n        ray = uv*z;\n        float var;\n        if(TWIST){\n            var = (SPEED*iTime+float(z));\n        }\n        else{\n            var = (SPEED*iTime);\n        }\n        ray.x+=sin(var)/1.5;\n        ray.y+=cos(var)/2.0;\n        if(isInCircle(vec2(0.),1.0,ray)){\n            float col;\n            if(ALTERNATE_COLORS){\n            \tif(mod(  z , 2.) == 0.){ col = 0.; } //black\n            \telse { col = 1. -z/ITER;} //faded white\n            }\n            else{\n            \tcol = 1. - z/ITER;\n            }\n            \n            color=vec3(col);\n            break;\n        }\n    }\n    fragColor = vec4(color,1.0);\n}\n\n// credit to: https://www.shadertoy.com/view/Mt3SRf","name":"Image","description":"","type":"image"}]}