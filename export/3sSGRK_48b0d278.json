{"ver":"0.1","info":{"id":"3sSGRK","date":"1549286103","viewed":207,"name":"Colorful Light fan","username":"Canysway","description":"colorful moving light fan","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["light","colorful","flash","fan"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.14159\n\nvec2 mouse = vec2(0.35, 0.2);\n\nfloat getLightColor(vec2 uv, float p_ratio, float plus, float minus){\n    float color = 0.;\n    float angle = atan(uv.x, uv.y);\n    float alpha_r = smoothstep(1./p_ratio *PI - 0.1, 1./p_ratio *PI , angle);\n    float alpha_l = smoothstep(-1./p_ratio *PI, -1./p_ratio *PI + 0.1, angle);\n    float alpha = alpha_l * (1. - alpha_r);\n    if (alpha == 0.) {alpha = 0.03;}\n    \n    float circle = plus/sqrt(minus * length(uv));\n    color = circle * circle * alpha + 0.05;\n    return color;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ){\n    vec2 uv = fragCoord.xy/iResolution.xy;\n    uv.x = uv.x * iResolution.x/iResolution.y * 0.75;\n    uv -= mouse;\n    float p_ratio = (sin(iTime) + 1.)* 2. + 3.5;\n    float outColorA = getLightColor(uv, p_ratio, 0.2, 0.25);\n    float insideColorA = getLightColor(uv, p_ratio + 1.5, 0.15, 0.25);\n \tfloat colorA = outColorA + insideColorA;\n    \n    float outColorB = getLightColor(vec2(uv.x - 0.6, uv.y), p_ratio, 0.2, 0.25);\n    float insideColorB = getLightColor(vec2(uv.x - 0.6, uv.y), p_ratio + 1.5, 0.15, 0.25);\n \tfloat colorB = outColorB + insideColorB;\n   \t\n    vec4 r_light = vec4(vec3(0.7, 0.,0.6), 1.0);\n    r_light *= colorA;\n    \n    vec4 w_light = vec4(vec3(0., 0.,0.6),1.);\n    w_light *= colorB;\n    \n    fragColor = mix(r_light, w_light, colorB);\n}","name":"Image","description":"","type":"image"}]}