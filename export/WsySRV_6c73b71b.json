{"ver":"0.1","info":{"id":"WsySRV","date":"1574374393","viewed":390,"name":"flashlight game","username":"Veggiebob","description":"flashlighte","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["flashlight"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGzr","filepath":"/media/a/08b42b43ae9d3c0605da11d0eac86618ea888e62cdd9518ee8b9097488b31560.png","previewfilepath":"/media/ap/08b42b43ae9d3c0605da11d0eac86618ea888e62cdd9518ee8b9097488b31560.png","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float rangle (vec2 v) {\n    float a = atan(v.y/v.x);\n    return v.x > 0.? a: a + 3.14159;\n}\nfloat dangle (float a, float b) {\n    float d = abs(a-b);\n    return d > 3.14159 ? d - 3.14159 * 2. : d;\n}\nfloat sq (float x) {\n    return x * x;\n}\nfloat march (vec2 o) {\n    float br = 1.0;\n    float step_size = length(o)/64.;\n    vec2 d = -o*step_size;\n    for (int i = 0; i<64; i++) {\n        br -= texture(iChannel0, o+iTime*0.1).r*0.2;\n        o += d;\n    }\n    return br;\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy-0.5;\n\t\n    vec2 mouse = iMouse.xy/iResolution.xy-0.5;\n    float mangle = rangle(mouse);\n    float pangle = rangle(uv);\n    \n    float fov = 0.5;\n    vec2 angle_range = vec2(mangle-fov/2., mangle+fov/2.);\n    float inAngle = smoothstep(0.5, 0.0, sq(\n        dangle(pangle, mangle)\n    ));\n    \n   \tfloat op = march(uv);\n    \n    vec3 fcolor = vec3(1.0, 1.0, 0.);\n    vec3 col = (op+0.5) * inAngle * fcolor;\n\t\n    vec3 sword = vec3(.8, .8, .8) * inAngle;\n    float swordness = smoothstep(0.2, 0.15, length(uv) * 0.5 + abs(dangle(pangle, mod(iTime, 2.*3.14159))));\n    col = mix(col, sword, swordness);\n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}