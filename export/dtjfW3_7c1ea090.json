{"ver":"0.1","info":{"id":"dtjfW3","date":"1722435337","viewed":92,"name":"mdl 5","username":"shadertoyjiang","description":"et90000","likes":9,"published":3,"flags":0,"usePreview":0,"tags":["fractal","julia","dragon","pattern","mandel"],"hasliked":0,"parentid":"mlsfz7","parentname":"芒德球mandel"},"renderpass":[{"inputs":[{"id":"4dX3Rn","filepath":"/media/a/bd6464771e47eed832c5eb2cd85cdc0bfc697786b903bfd30f890f9d4fc36657.jpg","previewfilepath":"/media/ap/bd6464771e47eed832c5eb2cd85cdc0bfc697786b903bfd30f890f9d4fc36657.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\n#define rot(r) mat2(cos(r),-sin(r),sin(r),cos(r))\n\n#define R      iResolution\n\n#define N      normalize \n\n#define V vec3\n\nvec4 clr;\n\nfloat m(vec3 p)\n{ \n    V c,z, s = iMouse.xyz / R;\tfloat d,r,a,b,g, i;\n\n    // mouse\n    r = s.z > 0. ? 3.14*s.x : (iTime+39.)*.2+2.;//12. ;\n\n    p.xy *= rot(r);\n\n    r = s.z > 0. ? 3.14*s.y : r*.3 ;\n\n    p.yz *= rot(r);\n    //end mouse\n             \n    c.x = .9; z = p.zxy; // 篓空\n\n\tfor( d = 2.; (r=length(z))<4. && ++i < 9.; )\n\t{\t\n\t\tb =  5. *acos(z.z/r);\n\n\t\ta =  1.5 * log(.25 +abs(0.+atan(z.y,z.x)));\n\n\t\tg = pow(r,8.);\n\n\t\td = d*g/r*8.+2.;\n\n\t\tz = V( cos(b)*cos(a+vec2(0,11)), sin(b)) * g + c;// r*g=pow(r,8)\n\t}\n    \n    clr = texture(iChannel0,vec2(a,b)*.1);\n    \n\treturn log(r) * r / d;\n}\n\n\n\n\nvoid mainImage(out vec4 O, vec2 u)\n{\n\tO = O * 0. +.5;\n\n\tu = ( u+u - R.xy ) / R.y;\n\n\tfloat d=.1, t,i;\n\n\tV    e = V(0,1e-6,0), n,f,\n\n         r = V(u,1),\n\n         o; o.z=-1.5; \n\n\tfor(;t<3. && d>1e-3 /*&& ++i<128.*/;) \n\n\t\tt += d = m(o+=r*d);\n\n\tif(/* i>128. || */t>3. ) return;\n\n\tn = N(V(m(o+e.yxx),m(o+e),m(o+e.xxy)) - m(o));\n\n    // color \n\n\tt = .5 +.5* dot( N(reflect(r,n)) , N(V(-1,2,-3)) );\n\n\tt = pow(t,8.) + t;\n\n\tO = t* 9.*vec4(t*.15,t*.2, .18,0)*clr\n                       *(exp(.6-t)*.2+.8);\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","name":"Image","description":"","type":"image"}]}