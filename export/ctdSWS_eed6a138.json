{"ver":"0.1","info":{"id":"ctdSWS","date":"1685781403","viewed":218,"name":"Naive bounce","username":"misol101","description":"No physics, no lighting, no 3d. Just some balls happily bouncing around due to stupid code :) Fullscreen is better.","likes":6,"published":3,"flags":0,"usePreview":1,"tags":["2d","sphere","noschool"],"hasliked":0,"parentid":"mt3XDS","parentname":"Bouncing Sphere Dark"},"renderpass":[{"inputs":[{"id":"XdX3Rn","filepath":"/media/a/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg","previewfilepath":"/media/ap/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define SIDEMUL 1.2\n#define BOUNCE  0.4\n#define NOF_BALLS 22.\n#define COLOR 1\n\nfloat sidePos(float t, float mul) {\n    t = mod(t,2.0)-0.5;\n    if (t > 0.5) t=1.0-t;\n    return t * mul;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 ouv = (fragCoord/iResolution.xy) * 2.0 - 1.0;\n    float time = (iTime+NOF_BALLS) * 0.55;\n\n    vec3 col = vec3(0.05,0.04,0.09);\n    for (float i = NOF_BALLS; i >= 1.; i--) {\n        vec2 uv=ouv;\n        float j=i*15./NOF_BALLS;\n        float sz=j*0.009+0.01;\n        float szm = (2.-sz)*(2.-sz);\n        float st = time*0.3*(1.5-j/14.)+0.5+j*8.;\n        uv.x -= sidePos(st, SIDEMUL * (1.6-sz));\n        uv.y -= sin(mod(time*4.0*(0.7+j/50.)+j,3.14))*BOUNCE*(szm*(abs(sin(j/2.3)*0.7)+0.5))-(1.-sz);\n        uv.x *= iResolution.x / iResolution.y;\n\n        float dist = sqrt(sz-(dot(uv,uv)));\n        \n        if (dist > 0.07) {\n            vec3 tcol = texture(iChannel0, 20.6*((NOF_BALLS-j/1.6)*sidePos(st,-0.023)) + uv/dist).rgb*(0.3 + min(dist,0.8)*0.7);\n            col = tcol * (1.-sz);\n#if COLOR\n            float cz=j*0.01;\n            float czm = (2.-cz)*(2.-cz);\n            col *= vec3(sin(j/1.4+0.79)*0.5+1.35,sin(j/2.+2.15)*0.7+0.6,sin(czm*5.+3.02)*0.8+1.0);\n#else\n            col = vec3(col.x);\n#endif\n            i = 0.;\n        }\n    }\n\n    col = col*col*9.5;\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}