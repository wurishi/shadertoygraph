{"ver":"0.1","info":{"id":"ls2yWy","date":"1493691691","viewed":418,"name":"Rainbow shampoo","username":"morgaza","description":"Nice","likes":8,"published":1,"flags":0,"usePreview":0,"tags":["rainbowshampoo"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4df3zn","filepath":"/media/a/3405e48f74815c7baa49133bdc835142948381fbe003ad2f12f5087715731153.ogv","previewfilepath":"/media/ap/3405e48f74815c7baa49133bdc835142948381fbe003ad2f12f5087715731153.ogv","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float hue_to_rgb(float m1, float m2, float h)\n{\n    if (h < 0.0f) h += 1.0f;\n    if (h > 1.0f) h -= 1.0f;\n    if (h * 6.0f < 1.0f) return m1 + (m2 - m1) * h * 6.0f;\n    if (h * 2.0f < 1.0f) return m2;\n    if (h * 3.0f < 2.0f) return m1 + (m2 - m1) * (2.0f / 3.0f - h) * 6.0f;\n    return m1;\n}\nvec3 hsl_to_rgb(float h, float s, float l)\n{\n    float m2 = (l <= 0.5f) ? (l * (s + 1.0f)) : (l + s - l * s);\n    float m1 = l * 2.0f - m2;\n    float r = hue_to_rgb(m1, m2, h + 1.0f / 3.0f);\n    float g = hue_to_rgb(m1, m2, h);\n    float b = hue_to_rgb(m1, m2, h - 1.0f / 3.0f);\n    return vec3(r, g, b);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    \n    vec4 color = texture(iChannel0, uv);\n    float bw = (color.r + color.b + color.g) / 3.0;\n    \n    vec3 rainbow = hsl_to_rgb(mod(bw * 2.0 + iTime, 1.0), 0.5, 0.5);\n\tfragColor = vec4(rainbow, 1);\n}","name":"Image","description":"","type":"image"}]}