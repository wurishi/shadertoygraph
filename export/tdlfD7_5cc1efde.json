{"ver":"0.1","info":{"id":"tdlfD7","date":"1588430783","viewed":383,"name":"loading rounded box w round cap","username":"bradjamesgrant","description":"loading assets...","likes":12,"published":1,"flags":0,"usePreview":0,"tags":["learning"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.1425\n\nvec3 remap(vec2 p, vec2 s, float d){\n    \n\tvec2 q = abs(p);\n    float n = 0.;\n    //if point closer to left or right side\n    if(q.x-s.x>q.y-s.y){\n        //how far is y coord up edge?\n    \tn = q.y/s.y;//0->1\n        n = sign(p.x)>0.?sign(p.y)*n*.125+.125:sign(p.y)*-n*.125+.625;\n    }\n    else{\n    \tn = q.x/s.x;\n        n= sign(p.y)>0.?sign(p.x)*-n*.125+.375:sign(p.x)*n*.125+.875;\n        \n    }\n    //THIS LINE HERE CREATES THE ROUNDED CAP\n    n+=sqrt(-(sin(d)*.13)+.15);\n    //n-=sqrt(-(d*d)+.25)*10000.; \n    \n    \n    return fract(n*3.-iTime/3.)*3.*fract(\tvec3(.6,.2,.4));\n}\n\n\nfloat sdBox( in vec2 p, float b)\n{\n    vec2 d = abs(p)-b;\n    float c = length(max(d,0.0)) + min(max(d.x,d.y),0.0);\n    return 1.-smoothstep(0.00,0.01,abs(c));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord-(0.5*iResolution.xy))/iResolution.x;\n\tvec2 s = vec2(0.1);    \n    float w = 0.01;\n    float d = sdBox(uv,0.1);\n    vec3 mask = d*remap(uv,s,d/20.);\n    \n    vec3 col = mask;\n     fragColor = vec4(col,0.);\n\n}","name":"Image","description":"","type":"image"}]}