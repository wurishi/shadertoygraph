{"ver":"0.1","info":{"id":"43ySzG","date":"1720297227","viewed":32,"name":"Kaleidoscope - hw4","username":"Morevita","description":"Dot kaleidoscope","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["2d","kaleidoscope"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//ref: https://www.shadertoy.com/view/3dtBDN\n\n\n#define tixy(t,i,x,y) cos((x*x-x*4.-y*8.+y*y)*.1+8.-t)\n#define count float(2.5+0.5*min(abs(tan(iTime/5.)),25.))\n\nvec3 icolor(float x)\n{\n    const int colorCount = 10;\n    vec3[] c = vec3[](\n        vec3(39.0/255.0, 0.0/255.0, 81.0/255.0), \n        vec3(63.0/255.0, 12.0/255.0, 215.0/255.0), \n        vec3(8.0/255.0, 137.0/255.0, 235.0/255.0), \n        vec3(65.0/255.0, 177.0/255.0, 176.0/255.0),\n        vec3(137.0/255.0, 217.0/255.0, 125.0/255.0),\n        vec3(114.0/255.0, 253.0/255.0, 88.0/255.0),\n        vec3(154.0/255.0, 243.0/255.0, 143.0/255.0),\n        vec3(255.0/255.0, 202.0/255.0, 209.0/255.0)\n    );\n    x *= float(colorCount);\n    int lo = int(floor(x));\n    \n    return mix(\n        c[lo],\n        c[(lo + 1) % colorCount],\n        smoothstep(0.0, 1., fract(x))\n    );\n}\n\nvoid mainImage(out vec4 color, in vec2 coord)\n{\n    float s = 1.5 / iResolution.y;\n    vec2 u = (coord - 0.5 * iResolution.xy) * s;\n    \n    u *= mat2(cos(iTime), -sin(0.5 * iTime), -sin(0.5 * iTime), -cos(iTime));\n    u = abs(0.5*cos(iTime)) - mod(abs(u), 0.5);\n    \n    float square = step(abs(u.x), 0.5) * step(abs(u.y), 0.5);\n    vec2 cell = floor((u + 0.5) * count);\n    float index = cell.x + cell.y * count;\n    float tixel = float(tixy(iTime, index, cell.x, cell.y));\n    \n    float dist = length(fract(u * count) - 0.5) * count / 0.5;\n    float radius = count * min(abs(tixel),1.);\n    \n    vec3 col = tixel < 0.0 ? vec3(1.0) : vec3(icolor(iTime / 100.0));\n    col *= clamp((radius - dist) / s / count / count / 2.0, 0.0, 1.0) * square;\n\n    color = vec4(col, 1.0);\n}\n","name":"Image","description":"","type":"image"}]}