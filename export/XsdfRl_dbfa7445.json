{"ver":"0.1","info":{"id":"XsdfRl","date":"1526396095","viewed":321,"name":"Gauss blur","username":"saidwho12","description":"Gauss blur, click on the screen","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["blur","gauss"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sX3Rn","filepath":"/media/a/c3a071ecf273428bc72fc72b2dd972671de8da420a2d4f917b75d20e1c24b34c.ogv","previewfilepath":"/media/ap/c3a071ecf273428bc72fc72b2dd972671de8da420a2d4f917b75d20e1c24b34c.ogv","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#ifdef GL_ES\nprecision mediump float;\n#endif\n\n#define pi 3.141592653589\n#define tau 6.283185307179\n#define e 2.718281828459\n#define sqr(x) x*x\n\nfloat G( in vec2 p, in float sigma ) {\n\treturn ( 1./(2.*pi*sqr(sigma)) )\n        *exp( -(sqr(p.x)+sqr(p.y))/(2.*pow(sigma, 2.)) );\n}\n\n#define sample(c) texture(iChannel0, (c)/iResolution.xy)\n\nvec3 GaussBlur( in vec2 co, in int dim, in float sigma ) {\n    vec3 c = vec3(0);\n    float z = 0.;\n    for (int i=-dim; i <= dim; ++i) {\n\t\tfor (int j=-dim; j <= dim; ++j) {\n\t\t\tfloat g = G(vec2(i,j), sigma);\n            c += g*sample(co+vec2(i,j)).rgb;\n            z+=g;\n\t\t}\n\t}\n    return c/z;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n    if(fragCoord.x < iMouse.x || iMouse.w == 0.)\n        fragColor.xyz = GaussBlur(fragCoord, 10, 5.0);\n    else\n    {\n    \tfragColor.xyz = GaussBlur(fragCoord, 10, 5.0);\n    \tfragColor = texture(iChannel0, fragCoord/iResolution.xy);\n    }\n}","name":"Image","description":"","type":"image"}]}