{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"float rbox( vec3 p, vec3 b, float r )\n{\n  return length(max(abs(p)-b,0.0))-r;\n}\n\nfloat Map( vec3 p )\n{\n\tp.z -= iTime*1.25;\n\tp = mod(p,2.5)-0.5*2.5;\n\t\n\tvec3 p2 = p;\n\t\t\n\tfloat d1 = rbox(p2, vec3(0.25,0.25,2.25), 0.5);\n\tfloat d2 = rbox(p2, vec3(0.15,0.15,1.25), 0.5);\n\td1 = max(-d2,d1);\n\t\n\tp.x += 0.3;\n\tp.z += 0.5;\n\td2 = rbox(p, vec3(0.01,0.5,0.01), 0.02);\n\t\n\tp.x -= 0.65;\n\tp.z -= 0.8;\n\tfloat d3 = rbox(p, vec3(0.01,0.5,0.01), 0.02);\n    d1 = -log( exp( -6.0*d1 ) + exp( -6.0*min(d2,d3) ) )/6.0;\n\t\n\td2 = rbox(p2, vec3(0.05,5.0,0.05), 0.4);\n\tfloat res = max(-d2, d1);\n\t\n\tp2 = vec3(sin(-0.3)*p2.x-p2.y, p2.y, p2.z);\n\tp2.z -= 0.8;\n\td2 = rbox(p2, vec3(0.05,5.0,0.05), 0.4);\n\t\n\treturn max(-d2, res);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 p=-1.0+2.0*fragCoord.xy/iResolution.xy;\n\tp.x *= 1.7;\n\t\n\tvec3 ro = vec3( 1.2 );\n\tvec3 rd = normalize( vec3( p, -1.0 ) );\n\t\n\tfloat h = 1.0;\n\tfloat t = 0.0;\n\t\n    \n\tfor( int i = 0; i<64; i++ )\n\t{\n\t\tif( h < 0.001 )// || t > 20.0 )\n\t\t\tbreak;\n\n\t\th = Map( rd*t + ro );\n\t\t\n\t\tt += h;\n\t}\n\n\tfragColor=vec4(t*0.18);\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"MsXSWj","date":"1407075580","viewed":2420,"name":"Kajastus","username":"Marken","description":"Shader from my 1k intro named Kajastus. Published in assembly 2014.\nFull intro: http://www.youtube.com/watch?v=EMtuaxu8elo","likes":34,"published":1,"flags":0,"usePreview":0,"tags":["3d","raymarching","tunnel"],"hasliked":0,"parentid":"","parentname":""}}