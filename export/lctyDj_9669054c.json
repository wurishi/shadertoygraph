{"ver":"0.1","info":{"id":"lctyDj","date":"1731197275","viewed":184,"name":"Fork Segmented  Thewseph 256","username":"Thewseph","description":"Whatever you set T to will describe the denominator visually.  For ex. set T to .75 (3/4) and you will see 4 represented as repeated groupings of 4 points arranged in 4 directions.","likes":3,"published":3,"flags":0,"usePreview":0,"tags":["raymarch","sdf","spiral","fraction"],"hasliked":0,"parentid":"Xcdyzs","parentname":"Segmented spiral (denominator)"},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// alternate version of Segmented spiral whirlpool: https://www.shadertoy.com/view/4ctcRl\n\n#define T (iTime/2e2)\n#define A(v) mat2(cos((v)*3.1416 + vec4(0, -1.5708, 1.5708, 0)))       // rotate\n#define H(v) (cos(((v)+.5)*6.2832 + radians(vec3(0, 60, 120)))*.5+.5)  // hue\n\nfloat map(vec3 u)\n{\n    float t = T,   // speed\n          l = 4.,  // loop to reduce clipping\n          s = .4,  // object radius (max)\n          a = 3.,  // amplitude\n          f = 1e20, i = 0., y, z;\n    \n    u.xy = vec2(atan(u.x, u.y), length(u.xy));  // polar transform\n    u.x += t*133.;  // counter rotation\n    \n    vec3 p;\n    for (; i++<l;)\n    {\n        p = u;\n        y = round((p.y-i)/l)*l+i;         // segment y & skip rows\n        p.x *= y;                         // scale x with y\n        p.x -= y*y*t*3.1416;              // move x (denominator of t)\n        p.x -= round(p.x/6.2832)*6.2832;  // segment x\n        p.y -= y;                         // move y\n        z = cos(y*t*6.2832)*.5+.5;        // cos wave\n        p.z += z*a;                       // wave z\n        f = min(f, length(p) - s*z);      // spheres\n    }\n    \n    return f;\n}\n\nvoid mainImage( out vec4 C, in vec2 U )\n{\n    float l = 50.,  // raymarch loop\n          i = 0., d = i, s, r;\n    \n    vec2 R = iResolution.xy,\n         m = (iMouse.z > 0.) ?  // clicking?\n               (iMouse.xy - R/2.)/R.y:  // coords from mouse\n               vec2(cos(iTime/4. - vec2(0, 1.5708)))*.2;  // coords from time\n    \n    vec3 o = vec3(0, -10.*sqrt(1.-abs(m.y*2.)), -90./(m.y+1.)),  // camera\n         u = normalize(vec3(U - R/2., R.y)),  // 3d coords\n         c = vec3(0), p;\n    \n    mat2 h = A(m.x/2.), // rotate horizontal\n         v = A((m.y+.5)/2.);   // vertical\n    \n    for (; i++<l;)  // raymarch\n    {\n        p = u*d + o;\n        p.xz *= h;\n        p.yz *= v;\n        \n        s = map(p);\n        r = (cos(round(length(p.xy))*T*6.2832)*.7 - 1.8)/2.;  // color gradient\n        c += min(s, exp(-s/.05))     // black & white\n           * H(-r) * (r+1.27) * 6.;  // color\n        \n        if (s < 1e-3 || d > 1e3) break;\n        d += s*.7;\n    }\n    \n    C = vec4(exp(log(c)/2.2), 1);\n}","name":"Image","description":"","type":"image"}]}