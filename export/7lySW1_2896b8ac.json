{"ver":"0.1","info":{"id":"7lySW1","date":"1677148366","viewed":56,"name":"Fork Moded trip sleeplessm 731","username":"sleeplessmonk","description":"modded with colors and audio input","likes":2,"published":1,"flags":4,"usePreview":0,"tags":["circle","trip"],"hasliked":0,"parentid":"NllXD8","parentname":"Moded trip rotation"},"renderpass":[{"inputs":[{"id":"XdXGRr","filepath":"/presets/mic.png","previewfilepath":"/presets/mic.png","type":"mic","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Space Gif by Martijn Steinrucken aka BigWings - 2019\n// Email:countfrolic@gmail.com Twitter:@The_ArtOfCode\n// License Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.\n// Original idea from:\n// https://boingboing.net/2018/12/20/bend-your-spacetime-continuum.html\n//\n// To see how this was done, check out this tutorial:\n// https://youtu.be/cQXAbndD5CQ\n//\nvec3 hsv2rgb(vec3 c) {\n    vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n    vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n    return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Get UV coordinates\n    vec2 uv = (fragCoord.xy-iResolution.xy*.5)/iResolution.y;\n    \n    // Apply scaling factor based on audio input\n    float audio = texture(iChannel1, vec2(iTime * 0.5, 0.5)).r;\n    uv *= audio * 15.0 + 15.0;\n    \n    // Apply rotation based on audio input\n    float rotSpeed = mix(0.0, 0.02, audio);\n    float rotDir = mix(-1.0, 1.0, audio);\n    float a = iTime * rotSpeed * rotDir;\n    float s = sin(a);\n    float c = cos(a);\n    uv *= mat2(c, -s, s, c);\n\n    // Apply psychedelic rainbow color gradient\n    float m = .01;\n    float t;\n    for(float y=-1.0; y<=1.0; y++) {\n        for(float x=-1.0; x<=1.0; x++) {\n            vec2 offs = vec2(x, y);\n            \n            t = -iTime+length(uv-offs)*.2;\n            float r = mix(0.0, 1.5, sin(t)*0.5+0.5);\n            float c = smoothstep(r, r*0.9, length(fract(uv-offs)-0.5));\n            m = m*(1.-c) + c*(1.-m);\n        }\n    }\n\n    fragColor = vec4(hsv2rgb(vec3(m * 0.7, 1.0, 1.0)), 1.0);\n}\n","name":"Image","description":"","type":"image"}]}