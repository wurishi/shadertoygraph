{"ver":"0.1","info":{"id":"ltcBzj","date":"1540233578","viewed":375,"name":"subpixel line","username":"matonga","description":"2D subpixel line, please note:\n1) I'm assuming your browser does gamma-correct rendering\n2) Either the third or the fourth line is right, usually it's the third one, I have no way to tell which one is it for your particular display","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["2dsubpixelline"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float distance_to_line (vec2 p, vec2 p1, vec2 p2) {\n    vec2 p_p1 = p - p1;\n    vec2 p2_p1 = p2 - p1;\n    float h = clamp (dot (p_p1, p2_p1) / dot (p2_p1, p2_p1), 0.0, 1.0);\n    float d = length (p_p1 - p2_p1 * h);\n    return d;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // line coordinates\n    vec2 p1 = vec2 (10.5, 10.);\n   \tvec2 p2 = vec2 (50.5, 100.);\n    \n    // test lines\n    vec2 p1A = p1, p2A = p2;\n    vec2 p1B = p1 + vec2( 50.,0.), p2B = p2 + vec2( 50.,0.);\n    vec2 p1C = p1 + vec2(100.,0.), p2C = p2 + vec2(100.,0.);\n    vec2 p1D = p1 + vec2(150.,0.), p2D = p2 + vec2(150.,0.);\n        \n    // first line (no antialiasing)\n    vec4 colA = vec4 (distance_to_line (fragCoord, p1A, p2A) < .5 ? 0. : 1.);\n    \n    // second line (grayscale antialiasing)\n    vec4 colB = vec4 (distance_to_line (fragCoord, p1B, p2B));\n    \n    // third line (rgb-subpixel antialiasing)\n    float colCr = distance_to_line (fragCoord - vec2 (1./3., 0.), p1C,p2C);\n    float colCg = distance_to_line (fragCoord,                    p1C,p2C);\n    float colCb = distance_to_line (fragCoord + vec2 (1./3., 0.), p1C,p2C);\n    vec4 colC = vec4 (colCr, colCg, colCb, 0);\n\n    // fourth line (bgr-subpixel antialiasing)\n    float colDr = distance_to_line (fragCoord + vec2 (1./3., 0.), p1D,p2D);\n    float colDg = distance_to_line (fragCoord,                    p1D,p2D);\n    float colDb = distance_to_line (fragCoord - vec2 (1./3., 0.), p1D,p2D);\n    vec4 colD = vec4 (colDr, colDg, colDb, 0);\n\n    fragColor = min (min (colA, colB), min (colC, colD));\n}","name":"Image","description":"","type":"image"}]}