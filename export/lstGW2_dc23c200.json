{"ver":"0.1","info":{"id":"lstGW2","date":"1452388900","viewed":1654,"name":"webcam bad reception","username":"intoxopox","description":"Webcam reception sound activated","likes":10,"published":1,"flags":22,"usePreview":0,"tags":["webcamglitch"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sf3Rn","filepath":"/media/a/0a40562379b63dfb89227e6d172f39fdce9022cba76623f1054a2c83d6c0ba5d.png","previewfilepath":"/media/ap/0a40562379b63dfb89227e6d172f39fdce9022cba76623f1054a2c83d6c0ba5d.png","type":"texture","channel":2,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4sf3zn","filepath":"/presets/webcam.png","previewfilepath":"/presets/webcam.png","type":"webcam","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XdXGRr","filepath":"/presets/mic.png","previewfilepath":"/presets/mic.png","type":"mic","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGRr","filepath":"/presets/tex00.jpg","previewfilepath":"/presets/tex00.jpg","type":"keyboard","channel":3,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const int Key_SPACE = 32;\nconst int Key_SHIFT = 16;\n\nfloat rand1(in float a, in float b) {\n    return fract((cos(dot(vec2(a,b) ,vec2(12.9898,78.233))) * 43758.5453));\n}\n\nfloat rand2(float frag_x, float frag_y) {\n  return fract(sin(frag_y+frag_x)*iTime+sin(frag_y-frag_x)*iTime);\n}\n\nbool ReadKey( int key ){\n\tbool toggle = true;\n\tfloat keyVal = texture( iChannel3, vec2( (float(key)+.5)/256.0, toggle?.75:.25 ) ).x;\n\treturn (keyVal>.5)?true:false;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    \n    // figure out keyboard shit\n    bool toggle = ReadKey(Key_SPACE);\n    \n    // fuck with image based on sound\n    vec2 p = uv;\n    p.x = !toggle ? uv.y : 1.0;\n    p.y = !toggle ? uv.x : uv.y;\n    vec4 t1 = texture(iChannel1, p);\n    if (!toggle) {\n        p.x /= 4.0;\n    } else {\n        p.y /= 4.0;\n    }\n    vec4 t2 = texture(iChannel1, p);\n    t1.y -= (t1.y-0.5) * 0.5;\n    t1.x += (t2.y-0.5) * 1.2;\n    \n    float shake = sin(rand2(t2.x, t1.x) * 0.5) * .002 * fract(t1.y * iResolution.y / rand1(iTime, t2.x));\n    shake += sin(shake - t1.r * t1.g) * t2.g * 0.18 * fract(uv.y * iResolution.y / 2.0);\n    shake *= toggle ? 6.7 : 0.47;\n    uv.x += shake / t1.g * 2.41;\n    uv.y += sin(shake * 2.0) / t1.g;\n    \n\tfragColor = ReadKey(Key_SHIFT) ? texture(iChannel0, uv) : texture(iChannel1, uv);//Get the pixel at uv from iChannel0\n    /*fragColor.r += t1.r * 0.0077;\n    fragColor.g += t1.b * 0.42;\n    fragColor.b -= sin(shake) * 12.0;*/\n    \n    float grey = (fragColor.r + fragColor.g + fragColor.b) / 1.7;\n    fragColor.r += grey;\n    fragColor.g += grey;\n    fragColor.b += grey;\n    fragColor.r *= .57;\n    fragColor.g *= .57;\n    fragColor.b *= .57;\n    \n    if (toggle) {\n        // Adam's fav\n    \tfragColor *= mix(fragColor, texture(iChannel2, 0.9 * uv * -150.0), shake * .12 * iTime / grey * 0.08) + t1;\n    } else {\n        // blown out color\n    \tfragColor = mix(fragColor, texture(iChannel2, 0.9 * uv * -150.0), shake * 999.0 * iTime / t1.r);\n        // black & white\n        //fragColor /= mix(fragColor, texture(iChannel3, 0.9 * uv * -150.0), -shake * .09 * iTime / grey);\n        //fragColor = mix(fragColor, texture(iChannel2, 0.9 * uv * -150.0), -shake * .09 * iTime / grey * 0.008);\n        //fragColor = mix(fragColor, texture(iChannel2, 0.9 * uv * -150.0), -shake * .09 * iTime / grey * 0.008) * t2 / t1;\n    }\n    \n}","name":"Image","description":"","type":"image"}]}