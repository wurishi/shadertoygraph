{"ver":"0.1","renderpass":[{"outputs":[{"channel":0,"id":"4dfGRr"}],"inputs":[],"code":"// Eisenstein Primes By RikR.\n// Made by Rik Riesmeijer - CC0, no rights reserved.\n\n// Slow and basic primality test.\nbool ordinaryprime(int n) {\n    n = abs(n);\n    if(n < 2)\n        return false;\n    for(int i = 2; i * i <= n; i++)\n        if(n % i == 0)\n            return false;\n    return true;\n}\n\n// Main prime testing and visualization code.\nvoid mainImage(out vec4 y /* Will be yielding pixels' rgba value */,\n               in  vec2 z /* Will be getting complex coordinates */) {\n               \n    bool isprime = false; // Initialize primality flag variable.\n    float scale = 30.0 + 15.0 * iTime;\n    \n    mat2 R = mat2(0.5, -sqrt(0.75), sqrt(0.75), 0.5);\n    \n    \n    z = scale * abs(-R * abs(-R * abs(z - 0.5 * iResolution.xy))) / iResolution.y;\n    \n    // Eisenstein field transformation.\n    mat2 M1 = mat2(1.0, 0.0, -inversesqrt(3.0), -2.0 * inversesqrt(3.0));\n    vec2 z1 = M1 * z;\n    \n    z1 += 0.5 * sign(z1);\n     \n    // Just for ease of notation.\n    int a = int(z1.x);\n    int b = int(z1.y);\n    int norm = a * a - a * b + b * b;\n    \n    // Eisentstein primality test.\n    if(b == 0)\n        isprime = abs(a) % 3 == 2 && ordinaryprime(a);\n    else if(a == 0)\n        isprime = abs(b) % 3 == 2 && ordinaryprime(b);\n    else\n        isprime = norm % 3 == 1 && ordinaryprime(norm);\n    \n    y = vec4(isprime);// * vec4(abs(z1.x) > abs(z1.y)); // White if prime black if not.\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"MctfDl","date":"1733777406","viewed":114,"name":"Eisenstein Prime Test By RikR","username":"rikr","description":"This was next on my list for these little shaders visualizing these number fields. Made by Rik Riesmeijer, 2024 - No rights reserved (CC0).","likes":2,"published":3,"flags":0,"usePreview":0,"tags":["complex","primes","cc0","integers","eisensteinprimes","eisenstei"],"hasliked":0,"parentid":"Mc3BDl","parentname":"Gaussian Primes By RikR"}}