{"ver":"0.1","info":{"id":"Wl2GWW","date":"1559590556","viewed":628,"name":"some blocky 2d visualizer","username":"robin_be","description":"was going for something like https://www.youtube.com/watch?v=aMIrCEMOuS8","likes":5,"published":3,"flags":96,"usePreview":0,"tags":["visualizer"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XdfGR8","filepath":"/media/previz/buffer03.png","previewfilepath":"/media/previz/buffer03.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n    fragColor = vec4(texture(iChannel0, fragCoord/iResolution.xy).xyz, 1.);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"XdfGR8","filepath":"/media/previz/buffer03.png","previewfilepath":"/media/previz/buffer03.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XtfGz2","filepath":"https://soundcloud.com/chrisabbott/panther-david-whittaker-giorgio-moroder-style-dhs","previewfilepath":"https://soundcloud.com/chrisabbott/panther-david-whittaker-giorgio-moroder-style-dhs","type":"musicstream","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":0}],"outputs":[{"id":"XdfGR8","channel":0}],"code":"#define GAPSIZE .2\n#define FADEDELAY .3 // in seconds\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n    vec2 re;\n    vec2 bardimensions = vec2(15., 8.);\n    vec2 part = modf(fragCoord / bardimensions, re);\n    vec2 uv = re * bardimensions / iResolution.xy;\n    const float GS = GAPSIZE * 15.;\n    if (length(step(part, GS / bardimensions)) > 0.) {\n     \tfragColor = vec4(0.);\n        return;\n    }\n\n    vec3 c;\n    if (uv.y < .3) {\n        c = mix(vec3(0, 1, 0),vec3(1, 1, 0), uv.y/.3);   \n    } else {\n        c = mix(vec3(1, 1, 0),vec3(1, 0, 0), (uv.y-.3)/.6);\n    }\n    float i = texture(iChannel0, vec2(uv.x, 0.15)).r;\n\n    if (uv.y < i) {\n        fragColor = vec4(c, iTime + FADEDELAY);\n        return;\n    }\n    \n    fragColor = texture(iChannel1, fragCoord/iResolution.xy);\n    fragColor.xyz = c * .25 * step(iTime, fragColor.w);\n}","name":"Buffer D","description":"","type":"buffer"}]}