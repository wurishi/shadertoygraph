{"ver":"0.1","renderpass":[{"outputs":[{"channel":0,"id":"4dfGRr"}],"inputs":[],"code":"//Minimal Ray Marcher by Aaro PerÃ¤maa (and some other shadertoyers, Lanza, Andre and Ben)\n\n//So, here is the smallest ray marcher i could make (that has shading and shadows) it is 35 lines\n//and has 342 characters, 47 LESS than my shadowless version. Performance with this renderer\n//is awful, partially becouse it doesnt contain break; statement.\n//Smooth shadow algorithm by IQ, major improvements by Lanza, Andre and Ben\n\n#define R iResolution\n#define T iTime\nvoid mainImage(out vec4 C,vec2 G)\n{\n    vec3 u=(2.*vec3(G.xy,0)-R)/R.y;\n    float t=0.,r=1.,c=t,h=3.;\n    u.z=r;\n    vec3 o=u,p=u,q=vec3(7,abs(sin(T*h)),3),l=q.zxz;\n    q.x=t;\n    for(int i=0;i<99;i++)\n    {\n        p=u*t+o;\n        h=min(length(p-q)-1.,p.y+1.);\n        i>63 ?r=min(r,8.*h/t):h<.001 ? c=5./length(p-l):t;\n        t+=h; \n        if(i==45){\n            o=p;\n            u=normalize(l-o);\n            t=.1;\n        }\n    }\n    C=vec4(c*r);\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"ldsXDs","date":"1408026717","viewed":345,"name":"Tiny Ray Marcher 2.0","username":"Aaro","description":"Its so small and cute!<br/><br/>now contains shadows","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["ray","shadow","tiny","marcher"],"hasliked":0,"parentid":"","parentname":""}}