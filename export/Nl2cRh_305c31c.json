{"ver":"0.1","info":{"id":"Nl2cRh","date":"1649190618","viewed":117,"name":"Scaly fish skin","username":"Longinus","description":"Scales for fishes in demo","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["scales"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\nconst float M_PI6 = 3.14159265359/6.,M_PI3 = M_PI6*2.,sqrt32 = 2./sqrt(3.),sr = sqrt(3.)/2.;\nfloat scales(vec2 uv){\n    vec2 rat = vec2(1.,sr),uv2 = (uv)/rat,dm = vec2(1e9,1e9), d2m=vec2(1e9,1e9);\n    for (int i=0; i<7; i++)\n    {\n        float r = float(i)*M_PI3-M_PI6,d;\n        vec2 uv3 = -vec2(.5,.75)+((i!=6)?vec2(sin(r),cos(r)*sqrt32)+uv2:uv2) ,dv = (uv3+vec2(1)-fract(uv3+vec2(floor(uv3.y)*.5,1.))-uv2)*rat;\n        d = length(dv);\n        if (d<length(dm)) { d2m=dm; dm=dv;}\n        else if (d<length(d2m)) { d2m=dv; }\n    }\n    return .75+0.25*(length(dm)-2.*dm.x<length(d2m)?length(dm):length(d2m));\n}\n\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = vec2(fragCoord.xy / iResolution.xy)*\n      vec2(iResolution.x/iResolution.y,1.0)*10.0+10.0; \n\n\n\n    // Output to screen\n    \n    float he = scales(uv);\n    fragColor = vec4(he,he,he,1.0);\n    \n    \n    \n    \n}","name":"Image","description":"","type":"image"}]}