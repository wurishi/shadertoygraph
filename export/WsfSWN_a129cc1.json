{"ver":"0.1","info":{"id":"WsfSWN","date":"1551245178","viewed":129,"name":"Square the rainbow","username":"Chosen","description":"I'd love to understand what is happening here!","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["rainbow"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define BAND .07\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // ROYGBIV\n    const vec3 colours[7] = vec3[7](\n        vec3(1.0, 0.0, 0.0),\n        vec3(1.0, 0.5, 0.0),\n        vec3(1.0, 1.0, 0.0),\n        vec3(0.0, 1.0, 0.0),\n        vec3(0.0, 0.0, 1.0),\n        vec3(0.293, 0.0, 0.5),\n        vec3(0.578, 0.0, 0.824)\n    );\n\n    float cycle = iTime * .02;\n    float scale = .4 + 150. * sin(cycle) * sin(10.*cycle);\n    vec3 col = vec3(0);\n    int x, y;\n\n    for(x = -1; x != 2; ++x){\n        for(y = -1; y != 2; ++y){\n            vec2 uv = (fragCoord + vec2(x, y) - vec2(.5) * iResolution.xy) / scale;\n            float r = length(uv);\n            float theta = atan(uv.x, uv.y) / 6.283185;\n\n            // Square the rainbow - nb: I have no idea what I'm doing\n\t\t\tcol = mix(col, colours[int(mod(r * (r + cycle * scale), BAND * 7.) / BAND)], .5);\n        }\n    }\n\n    fragColor = vec4(sqrt(col), 1);\n}","name":"Image","description":"","type":"image"}]}