{"ver":"0.1","info":{"id":"XtlSWr","date":"1436003440","viewed":1874,"name":"Kawase Blur","username":"jcant0n","description":"Efficient image blur\n\nUse the mouse to compare the original image with blurred image.","likes":10,"published":1,"flags":0,"usePreview":1,"tags":["imageeffect","fastblur","kawase"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"},"published":1}],"outputs":[],"code":"#define Iterations 1\n\nvec4 KawaseBlur(vec2 pixelSize, int iteration, vec2 halfSize, vec2 uv)\n{\n    vec2 dUV = (pixelSize * float(iteration)) + halfSize;\n    \n    vec2 texcoord = vec2(0);\n    \n    texcoord.x = uv.x - dUV.x;\n    texcoord.y = uv.y + dUV.y;\n    \n    vec4 color = texture(iChannel0, texcoord);\n\n    texcoord.x = uv.x + dUV.x;\n    texcoord.y = uv.y + dUV.y;\n    \n    color += texture(iChannel0, texcoord);\n\n    texcoord.x = uv.x - dUV.x;\n    texcoord.y = uv.y - dUV.y;\n    \n    color += texture(iChannel0, texcoord);\n    \n    texcoord.x = uv.x + dUV.x;\n    texcoord.y = uv.y - dUV.y;\n    \n    color += texture(iChannel0, texcoord);\n\n    color.rgb *= 0.25;\n    \n    return color;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    uv.y = -uv.y;\n    \n    vec2 pixelSize = vec2(1.0) / iResolution.xy;\n    vec2 halfSize = pixelSize / vec2(2.0);\n    \n    vec4 color = vec4(0);\n\n    float xvalue = iMouse.x / iResolution.x;\n    \n    if(uv.x > xvalue)\n    {\n        for(int i = 1; i <= Iterations; i++)\n        {\n        \tcolor =  KawaseBlur(pixelSize, i, halfSize, uv);\n        }\n    }\n    else\n    {\n        color = texture(iChannel0, uv);\n    }\n    \n    if(abs(uv.x - xvalue) < 0.002)\n        color = vec4(0.0);\n\n    \n    fragColor = color;\n}","name":"","description":"","type":"image"}]}