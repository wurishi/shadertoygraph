{"ver":"0.1","renderpass":[{"outputs":[{"channel":0,"id":"4dfGRr"}],"inputs":[{"channel":0,"type":"webcam","id":"4sf3zn","filepath":"/presets/webcam.png","sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}}],"code":"#define pi 3.141592653589793\n\n\nfloat hash(in vec2 uv) {\n    float seed = dot(uv, vec2(71.33, 852.381));\n    return fract(38351.43*sin(14.13*seed));\n}\n\n\nconst float shake_speed = 3.;\nconst float shake_power = 1.;\nconst float motion_blur_power = 0.05;\nconst float motion_blur_iter = 15.;\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float time = mod(iTime, 1.);\n    float ratio = pow(1. - time, 3.);\n    \n    vec2 uv = fragCoord/iResolution.xy;\n    \n    ///////////////\n    //   Shake   //\n    ///////////////    \n    vec2 hash = ratio * vec2(\n        (sin(shake_speed*time+1.)*cos(2.*shake_speed*time+1.)+sin(10.*shake_speed*time+1.))*0.25*shake_power,\n        (sin(shake_speed*time+1.)+cos(2.*shake_speed*time+1.))*sin(10.*shake_speed*time+1.)*0.25*shake_power\n    ) - 0.5;\n    \n    uv += hash;\n    uv += 0.5;\n    \n    uv = abs(uv);\n    uv = step(1., uv) * 2. + sign(1.-uv) * uv;\n    \n    \n    /////////////////////\n    //   Motion blur   //\n    /////////////////////\n    \n    float y = sin(1. * ratio * 2. * pi);\n    float y1 = y * step(0.0, y);\n    float y2 = -y * (1. - step(0.0, y));\n    \n    \n    vec3 col = vec3(0.);\n    vec2 hold_uv;\n    for (float i = -motion_blur_iter/2.; i < motion_blur_iter/2.; ++i) {\n        hold_uv = uv + y1 * vec2(1,1) * ratio * motion_blur_power * i;\n        hold_uv = hold_uv + y2 * vec2(1,-1) * ratio * motion_blur_power * i;\n        col += texture(iChannel0, hold_uv).rgb;\n    }\n    col /= motion_blur_iter;\n    col *= 1. + 2.*pow(ratio, 2.);\n\n    \n    fragColor = vec4(col,1.0);\n}\n\n\n\n\n\n\n\n\n\n\n\n","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":true,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"fdsXzM","date":"1734426881","viewed":70,"name":"Shake.No.17","username":"avartation","description":"asdfg","likes":1,"published":1,"flags":2,"usePreview":0,"tags":["sdfg"],"hasliked":0,"parentid":"","parentname":""}}