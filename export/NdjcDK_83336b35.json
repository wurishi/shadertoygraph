{"ver":"0.1","info":{"id":"NdjcDK","date":"1644114511","viewed":96,"name":"circle donut zoomy","username":"HaleyHalcyon","description":"Remake of a spiral I found on horny Twitter but I forgot where it came from :(","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["spiral","hypnotic"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define TAU (6.283185307)\n#define HEX(x) (vec3((x >> 16) & 255, (x >> 8) & 255, x & 255) / 255.)\n\n// first few terms of fourier transform of square wave\nfloat wiggle(float time) {\n  return\n    sin(time * TAU)\n    + sin(3. * time * TAU) / 3.\n    + sin(5. * time * TAU) / 5.\n    + sin(7. * time * TAU) / 7.\n    + sin(9. * time * TAU) / 9.;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n  float time = fract(iTime / 8.);\n  // Fit width\n  vec2 uv = (2. * fragCoord.xy - iResolution.xy) / iResolution.xx;\n  \n  float ofs_center = wiggle(time + 0.25) * 0.5;\n  \n  float dist_0 = log(length(uv));\n  float dist_1 = log(length(vec2(uv.x - ofs_center, uv.y)));\n  float dist_2 = log(length(vec2(uv.x + ofs_center, uv.y)));\n  \n  // coarse bg\n  const vec3 col_0 = HEX(0x91729d);\n  const vec3 col_1 = HEX(0x47b7cd);\n  // fine bg\n  const vec3 col_2 = HEX(0x000000);\n  const vec3 col_3 = HEX(0xff0000);\n  // left circles\n  const vec3 col_4 = HEX(0xffff00);\n  // right circles\n  const vec3 col_5 = HEX(0x00ff00);\n  \n  // coarse bg\n  float stripe_0a = step(0.5, fract(dist_0 * 0.5 - 3. * time));\n  // fine bg\n  float stripe_0b = step(0.5, fract(dist_0 * 8.0 - 24. * time));\n  // left circles\n  float stripe_1a = step(0.75, fract(dist_1 * 0.15 + 5. * time));\n  // right circles\n  float stripe_1b = step(0.75, fract(dist_2 * 0.15 + 5. * time + 0.5));\n  \n  vec3 colBg = mix(\n    col_0, col_1, stripe_0a\n  );\n  vec3 colOverlap = mix(\n    col_2, col_3, stripe_0b\n  );\n  \n  vec3 col = mix(\n    mix(colBg, col_4, stripe_1a),\n    mix(col_5, colBg, stripe_1a),\n    stripe_1b)\n  ;\n  \n  col = mix(\n    col, colOverlap, step(1.5, stripe_1a + stripe_1b)\n  );\n  \n  // Output to screen\n  fragColor = vec4(\n    col, 1.0\n  );\n}","name":"Image","description":"","type":"image"}]}