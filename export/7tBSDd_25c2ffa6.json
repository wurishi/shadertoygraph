{"ver":"0.1","info":{"id":"7tBSDd","date":"1628863593","viewed":184,"name":"粒子","username":"tangyuan","description":"粒子作业","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["2d"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//随机数1in 2out\nvec2 hash21(float p) {\n    vec3 p3 = fract(vec3(p) * vec3(.1031, .1030, .0973));\n    p3 += dot(p3, p3.yzx + 33.33);\n    return fract((p3.xx+p3.yz)*p3.zy);\n}\n\n//随机数1in 1out\nfloat hash11(float p) {\n    p = fract(p * .1031);\n    p *= p + 33.33;\n    p *= p + p;\n    return fract(p);\n}\n\n// ------------------------------------------------------------------------\n\n//着色函数\nvec3 color(float t) {\n    // from IQ's color pattern\n    return .3 + .7 * cos(6.283 * (vec3(1., .5, .0) * (1. - t) + vec3(.7, .75, .3)));\n}\n\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // -1 - 1\n    vec2 uv = fragCoord / iResolution.y * 2. - 1.;\n    \n    vec3 col = vec3(0., 0., 0.);\n    \n    for(int i = 0; i < 20; i ++){\n        //获取id\n        float id = floor(iTime + float(i) * 3303.1031);\n        //随机大小0- 1\n        float random = hash11(id);\n        \n        //随机位置 0- 1 => -.5 - .5\n        vec2 pos = hash21(id) * 0.5 - 0.5;\n        \n        // -1 - 1  => \n        vec2 off = vec2(cos(iTime * 0.1 + random) * 0.5, - fract(iTime * 0.3 + random) + 1.);\n   \n        vec2 newuv = uv + pos + off;\n        \n        float l = length(newuv);\n        \n        float sdf = random * 0.01 / l;\n        vec3 rancolor = color(fract(id));\n        col += rancolor * sdf;\n    }\n    \n    fragColor = vec4(col, 1.);\n}","name":"Image","description":"","type":"image"}]}