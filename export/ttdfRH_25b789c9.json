{"ver":"0.1","info":{"id":"ttdfRH","date":"1612278189","viewed":60,"name":"2d-hex3.frag","username":"jorge2017a1","description":"hex3.frag","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["hex3frag"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//\n// Hexagon outlines.  Try to use more clever functions to fold out\n// symmetries.\n//\n\nconst vec2 T0 = vec2( 0.0, 0.0 );\nconst vec2 T1 = vec2( 0.25 * sqrt(3.0), 0.25 );\nconst vec2 T2 = vec2( 0.25 * sqrt(3.0), -0.25 );\nconst vec2 T01 = mix( T0, T1, 0.5 );\nconst vec2 T02 = mix( T0, T2, 0.5 );\nconst vec2 T12 = mix( T1, T2, 0.5 );\n\nconst vec2 T3 = T1 + T2;\nconst mat2 B = mat2( T1, T2 );\nconst mat2 CB = inverse( B );\n\n// Force P to lie on the right side of the line from A to B, reflecting\n// across the line if necessary.\nvec2 forceRight( vec2 P, vec2 A, vec2 B )\n{\n\tmat3 M = mat3(\n\t\tB.x-A.x, B.y-A.y, 0.0,\n\t\tA.y-B.y, B.x-A.x, 0.0,\n\t\tA.x, A.y, 1.0 );\n\tmat3 Mi = inverse( M );\n\n\tvec3 p = Mi * vec3(P,1.0);\n\treturn vec2( M * vec3(p.x, -abs(p.y), 1.0) );\n}\n\nfloat d2l( vec2 P, vec2 A, vec2 B )\n{\n    vec2 n = normalize(vec2( B.y - A.y, A.x - B.x ));\n\treturn abs(dot( P - A, n ));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{ \n    //vec2 uv = fragCoord/iResolution.xy;\n    \n    vec2 uv = fragCoord/iResolution.y;\n    \n    vec2 wpos=uv*4.00;\n    vec4 col;\n    \n\tvec2 p = CB * wpos;\n\tvec2 fp = floor(p);\n\tvec2 r = p - fp;\n\tvec2 sr = B * r;\n\tsr = forceRight( vec2( min(sr.x, 2.0*T1.x-sr.x), -abs(sr.y) ), T01, T2 );\n\n\tfloat d = smoothstep( 0.03, 0.04, d2l( sr, T1, T02 ) );\n\tcol = vec4( d, d, d, 1.0 );\n    fragColor = col;\n}\n\n/*\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n\n    // Time varying pixel color\n    vec3 col = 0.5 + 0.5*cos(iTime+uv.xyx+vec3(0,2,4));\n\n    // Output to screen\n    fragColor = vec4(col,1.0);\n}*/","name":"Image","description":"","type":"image"}]}