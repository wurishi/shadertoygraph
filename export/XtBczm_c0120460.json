{"ver":"0.1","info":{"id":"XtBczm","date":"1509198287","viewed":312,"name":"Pollock","username":"banthar","description":"Jackson Pollock simulator","likes":8,"published":1,"flags":32,"usePreview":0,"tags":["2d","art"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n\tfragColor = texelFetch(iChannel0, ivec2(fragCoord.xy), 0);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"XdX3Rr","filepath":"/media/a/aea6b99da1d53055107966b59ac5444fc8bc7b3ce2d0bbb6a4a3cbae1d97f3aa.bin","previewfilepath":"/media/ap/aea6b99da1d53055107966b59ac5444fc8bc7b3ce2d0bbb6a4a3cbae1d97f3aa.bin","type":"volume","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"vec3 trace(float t, vec4 q) {\n    vec4 c = texture(iChannel1, vec3(t,t,t)*0.0001);\n    vec2 p = vec2(0,0);\n    p = vec2(sin(t*q.x), cos(t*q.y*4.0));\n    p += vec2(sin(t*exp(2.*q.z)), cos(t*exp(2.*q.a))) * 0.1;\n    return vec3(p, c.x);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n\tfragColor = texelFetch(iChannel0, ivec2(fragCoord.xy), 0);\n    fragColor = mix(vec4(.8, .6, .4,1), fragColor, .9999);\n    vec2 uv = (fragCoord.xy-iChannelResolution[0].xy*.5)/iChannelResolution[0].y * 2.3;\n    \n    vec4 ms[] = vec4[](\n        vec4( .2, .5  ,1. ,.5),\n        vec4( .3, .52 ,.9 ,.51),\n        vec4( .4, .4032  ,.8 ,.52),\n        vec4( .5, .45 ,.89 ,.53),\n        vec4( .6, .28  ,.88 ,.54)\n    );\n    vec4 cs[] = vec4[](\n        vec4(1,1,1,1),\n        vec4(0,0,0,1),\n        vec4(1,1,1,1),\n        vec4(0,0,0,1),\n        vec4(.7,.5,.3,1)\n    );\n    \n    for(int i=0;i<5;i++) {\n\t    vec4 m = ms[i];\n        vec3 p = trace(float(iFrame)*0.01,m);\n        vec3 q = trace(float(iFrame-1)*0.01,m);\n        float d0 = distance(uv, p.xy * iChannelResolution[0].xy/iChannelResolution[0].y);\n        float d1 = distance(uv, q.xy * iChannelResolution[0].xy/iChannelResolution[0].y);\n        float thickness = 0.05 - distance(p,q)*2.0;\n        float a = smoothstep(thickness,thickness+.01, (d0+d1));\n        vec4 color = cs[i];\n        fragColor = mix(color, fragColor, a);\n    }\n    if(texelFetch(iChannel0, ivec2(iChannelResolution[0].xy)-ivec2(1,1), 0).r <= .0) {\n        fragColor = vec4(.8, .6, .4,1);\n    }\n}","name":"Buf A","description":"","type":"buffer"}]}