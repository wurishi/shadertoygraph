{"ver":"0.1","info":{"id":"ldyyzG","date":"1522399248","viewed":100,"name":"三星龍珠","username":"vicyu","description":"三星龍珠","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["ball"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec2 rotate( vec2 pos, float angle ){\n\treturn vec2( pos.x * cos(angle) - pos.y * sin(angle), pos.x * sin(angle) + pos.y * cos(angle) );\n}\n\nfloat createPart(vec2 pos, float angle){\n\tpos = rotate( pos, angle );\n\tpos.y += .3;\n\tpos.x *= 1.3;\n\t\n\tfloat mask = abs(pos.x);\n\tmask += abs(pos.y);\n\tmask = smoothstep( .3, .31, mask );\n\treturn mask;\n}\n\nfloat createStar(vec2 pos, float angle){\n\tfloat mask = 1.;\n\tfor( float i = 1.; i <= 5.; ++i ){\n\t\tmask *= createPart(pos, 6.28/5. * i + angle);\n\t}\n\treturn mask;\n}\n\nfloat createCircle( float inner, float outer, vec2 pos ){\n\tfloat dist = length( pos );\n\tfloat mask = 1. - smoothstep(inner, outer, dist );\n\treturn mask;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 position = fragCoord/iResolution.xy;\n    //這行可以把uv置中\n    position = position * 2. - 1.;\n\tposition.x *= iResolution.x / iResolution.y;\n\t\n\tfloat ball_size = .8;\n\tfloat inner_length = .05;\n\t\n   \t//球形\n\tvec2 newuv = position;\n\tvec2 ball_uv = newuv;\n\tfloat ball_mask = 1. - smoothstep( ball_size, ball_size + .01, length( ball_uv ));\n\t\n\t//外圈亮光\n\tvec2 ball_inner_uv = newuv;\n\tball_inner_uv += .02;\n\tfloat ball_inner_mask = 1. - smoothstep( ball_size- inner_length, ball_size + .01 - inner_length, length( ball_inner_uv ));\n\t\n\t//高光\n\tvec2 ball_inner_uv2 = newuv;\n\tball_inner_uv2 += .38;\n\tball_inner_uv2 = rotate( ball_inner_uv2, .77 );\n\tball_inner_uv2[1] *= 1.3;\n\tfloat ball_inner2_mask = 1. - smoothstep( .25, .26, length( ball_inner_uv2 ));\n\t\n\t//把以上的東西組起來\n\tfloat ball_mask_all = ball_mask - ball_inner_mask + ball_inner2_mask;\n\tvec3 ball_col = mix(vec3(1., .8, 0.), vec3(1., .3, .0), length(ball_inner_uv)); \n\tball_col = ball_mask * ball_col + (ball_mask - ball_inner_mask) * .9 + ball_inner2_mask * .95;\n\t\n\t//星星\n\tvec2 mask_uv = newuv * 8.;\n\tfloat mask = 1. - createStar(mask_uv + vec2(0, -.8), .6);\n\tmask += 1. - createStar(mask_uv + vec2(.8, .4), .8);\n\tmask += 1. - createStar(mask_uv + vec2(-.8, .4), -.8);\n\tmask *= .3;\n\t\n\tball_col -= mask;\n\tfragColor = vec4(ball_col, 1.);\n}","name":"Image","description":"","type":"image"}]}