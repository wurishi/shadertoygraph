{"ver":"0.1","info":{"id":"4Xf3DN","date":"1707445467","viewed":116,"name":"Blackbody Approximation","username":"lowellcamp","description":"A hand-fit approximation of the blackbody spectrum between 1,000 and 13,000 kelvin\nGround-truth referenced from https://www.shadertoy.com/view/cdSXzy","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["blackbody"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define R_CENTER 6000.0\n#define R_WIDTH 2800.0\n\n#define G_CENTER 6500.0\n#define G_MIN 1000.0\n#define G_WIDTH 2400.0\n\n#define B_MIN 1500.0\n#define B_MAX 7000.0\n\n\n#define SMOOTHSTEP_POW(a, b, t, p) smoothstep(0.0, 1.0, pow(((t) - (a)) / ((b) - (a)), p))\nfloat smoothstepPow(float a, float b, float t, float p) {\n    return SMOOTHSTEP_POW(a, b, t, p);\n}\n\nvec3 blackbody(float kelvin) {\n    vec3 col;\n\n    float x_r = max(0.0, kelvin - R_CENTER) / R_WIDTH;\n    x_r *= x_r;\n    col.r = mix(0.55, 1.0, 1.0 / (1.0 + x_r));\n    \n    float x_g = max(0.0, kelvin - G_CENTER) / G_WIDTH;\n    x_g *= x_g;\n    col.g = (\n        smoothstepPow(G_MIN, G_CENTER, kelvin, 0.50)\n        * mix(0.66, 1.0, 1.0 / (1.0 + x_g))\n    );\n    \n    float b_t = (kelvin - B_MIN) / (B_MAX - B_MIN);\n    col.b = mix(smoothstepPow(0.0, 1.0, b_t, 1.1), b_t, 0.6);\n    \n    return col;\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n    // Output to screen\n    fragColor = vec4(blackbody(mix(2000.0, 12000.0, uv.x)),1.0);\n}","name":"Image","description":"","type":"image"}]}