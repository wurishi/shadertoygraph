{"ver":"0.1","info":{"id":"3tj3Rc","date":"1560543614","viewed":140,"name":"Two way z curve expansion.","username":"Bananaft","description":"Drag mouse to see stuff.","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["morton"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//Fork of FabriceNeyret2's http://www.shadertoy.com/view/4sscDn\n\nint MASKS[] = int[] (0x55555555, 0x33333333, 0x0F0F0F0F, 0x00FF00FF, 0x0000FFFF);\n\nint xy2z(vec2 U) {       // --- grid location to curve index\n    ivec2 I = ivec2(U);\n    int n=8;\n    for (int i=3; i>=0; i--)\n        I =  (I | (I << n)) & MASKS[i],\n        n /= 2;\n    return I.x | (I.y << 1);\n}\n\nivec2 z2xy(int z) {      // --- curve index to grid location \n    int n=1;\n    ivec2 I = ivec2(z,z>>1) & MASKS[0];\n    for (int i=1; i<=4; i++)\n        I = (I | (I >>  n)) & MASKS[i],\n        n *= 2;\n    return I;\n}\n\nvoid mainImage( out vec4 O,  vec2 U )\n{\n    U = U / 2.;\n    float R = exp2(floor(log2(iResolution.y/2.)));\n    O = vec4(U/R, .5,0);\n    \n    int Z = xy2z(U);\n    int M = xy2z(iResolution.xy/4.);\n    if (iMouse.x > 20.)\n    \tM = xy2z(iMouse.xy/2.);\n    \n  //O = vec4( Z ) / R/R;               // display Z-index\n // O = vec4( z2xy(Z),0,0)/ R;         // pos from Z\n// O = vec4(ivec2(U)== z2xy(iFrame)); // browse index on Z-curve.\n    \n   if (Z <(M + iFrame) && Z >(M - iFrame)) O = vec4(fract(float(Z)/256.),fract(float(Z)/1024.),fract(float(Z)/512.),1.0); // * vec4(U,0,0)/R;\n    \n\n}","name":"Image","description":"","type":"image"}]}