{"ver":"0.1","info":{"id":"NsyyzK","date":"1655460800","viewed":340,"name":"Layered terrain I","username":"gleboneloner","description":"layered terrain","likes":36,"published":1,"flags":0,"usePreview":0,"tags":["terrain"],"hasliked":0,"parentid":"-1","parentname":""},"renderpass":[{"inputs":[{"id":"4sf3Rr","filepath":"/media/a/ad56fba948dfba9ae698198c109e71f118a54d209c0ea50d77ea546abad89c57.png","previewfilepath":"/media/ap/ad56fba948dfba9ae698198c109e71f118a54d209c0ea50d77ea546abad89c57.png","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage ( out vec4 color, in vec2 coords ) {\n    \n    vec3 E1 = vec3( cos(iTime/2.0), sin(iTime/2.0), 1.2 )*2.0;\n    \n    vec3 I1 = normalize(vec3(0)-E1);\n    vec3 I2 = normalize(cross(I1,vec3(0,0,1)));\n    vec3 I3 = normalize(cross(I2,I1));\n    \n    vec2 uv = (coords-iResolution.xy/2.0)/iResolution.y;\n    \n    vec3 D1 = normalize( I1 + I2*uv.x + I3*uv.y );\n    \n    E1.x += iTime;\n    \n    vec3 M1 = E1+D1*(((0.0)-E1.z)/D1.z);\n    vec3 M2 = E1+D1*(((1.0)-E1.z)/D1.z);\n    \n    color = vec4(0);\n    \n    for ( float n = 0.0; n <= 1.0; n += 0.04 ) {\n    \n        vec3 M3 = mix(M1,M2,n);\n        \n        float s = texture( iChannel0, M3.xy/5.0 ).x;\n        \n        color = mix( color, vec4(map(M3.z),1), step(M3.z,s)/2.0 );\n        \n        color = mix( color, vec4(0), clamp( 1.0-abs(s-M3.z)/fwidth(s), 0.0, 1.0 )/1.5 );\n        \n    }\n    \n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"vec3 map ( float x ) {\n    \n    const vec3 K1 = vec3( +1.349, -0.071, -0.541 );\n    const vec3 K2 = vec3( -0.439, +0.867, +0.812 );\n    const vec3 K3 = vec3( +0.086, +0.180, +0.220 );\n    \n    return x*(K1*x+K2)+K3;\n    \n}","name":"Common","description":"","type":"common"}]}