{"ver":"0.1","info":{"id":"ftjfWy","date":"1652717398","viewed":68,"name":"flying hearts","username":"Moloko","description":"some flying hearts","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["particles","hearts","flying"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sX3Rn","filepath":"/media/a/c3a071ecf273428bc72fc72b2dd972671de8da420a2d4f917b75d20e1c24b34c.ogv","previewfilepath":"/media/ap/c3a071ecf273428bc72fc72b2dd972671de8da420a2d4f917b75d20e1c24b34c.ogv","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"Xsf3Rn","filepath":"/media/a/cbcbb5a6cfb55c36f8f021fbb0e3f69ac96339a39fa85cd96f2017a2192821b5.png","previewfilepath":"/media/ap/cbcbb5a6cfb55c36f8f021fbb0e3f69ac96339a39fa85cd96f2017a2192821b5.png","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float random (vec2 st, float factor) {\n    return fract(sin(dot(st.xy,\n                         vec2(12.9898,78.233)))*\n        43758.5453123*factor);\n}\nmat2 scale(vec2 _scale){\n    return mat2(_scale.x,0.0,\n                0.0,_scale.y);\n}\n\nvec2 scale_uv(vec2 st, float freq){\n    st -= vec2(0.5);\n    st = scale( vec2(abs(sin(3.1415/2.-mod(iTime/freq, 3.1415/2.))*5.)+1.) ) * st ;\n    //st = scale( vec2(10.) ) * st;\n    st += vec2(0.5);\n    return st;\n}\n\nvec4 drawHearts(vec2 uv, float zoom, float freq){\n    uv.x -= sin(iTime)*0.01;\n    uv *= zoom;\n    uv.y -= step(1., mod(uv.x, 2.))*0.05*iTime;\n    vec4 tex1 = texture(iChannel1, scale_uv(fract(uv), freq));\n    vec2 mask1 = step(0., scale_uv(fract(uv), freq));\n    vec2 mask2 = step(scale_uv(fract(uv), freq), vec2(1.));\n    tex1.a *= clamp(0.,1.,abs(sin(3.1415/2.-mod(iTime/freq, 3.1415/2.))*5.)-0.25);\n    tex1.a *= clamp(0.,1.,abs(sin(mod(iTime/freq, 3.1415/2.))*5.)-0.25);\n    tex1 *= mask1.x*mask1.y*mask2.x*mask2.y;\n    //tex1 *= clamp(0.,1.0,step(1., mod(uv.x, 2.))*0.05*iTime);\n    //tex1 *= clamp(0.,1.0,step(1., mod(uv.y, 2.)));\n    tex1 *= floor(random(floor(uv), zoom)+0.35);\n    return tex1;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n\n    vec4 tex0 = texture(iChannel0, uv);\n    \n    \n    uv -= 0.5;\n    uv.x *= iResolution.x/iResolution.y;\n    /*uv *= 5.;\n    \n    \n    \n    vec4 tex1 = texture(iChannel1, scale_uv(fract(uv)));\n    vec2 mask1 = step(0., scale_uv(fract(uv)));\n    vec2 mask2 = step(scale_uv(fract(uv)), vec2(1.));\n    tex1.a *= clamp(0.,1.,abs(sin(3.1415/2.-mod(iTime/3., 3.1415/2.))*5.)-0.25);\n    tex1 *= mask1.x*mask1.y*mask2.x*mask2.y;*/\n    \n    \n    \n\n    // Output to screen\n    //fragColor = vec4(col,1.0);\n    fragColor = mix(tex0, drawHearts(uv, 5., 7.), drawHearts(uv, 5., 7.).a);\n    fragColor = mix(fragColor, drawHearts(uv-0.5, 4., 6.), drawHearts(uv-0.5, 4., 6.).a);\n    fragColor = mix(fragColor, drawHearts(uv+2.458, 3., 8.), drawHearts(uv+2.458, 3., 8.).a);\n    fragColor = mix(fragColor, drawHearts(uv-4.268, 2., 15.), drawHearts(uv-4.268, 2., 15.).a);\n    fragColor = mix(fragColor, drawHearts(uv+1.234, 1.5, 7.), drawHearts(uv+1.234, 1.5, 7.).a);\n    \n    vec2 wire = step(0.01, fract(uv*5.));//service\n    float fillcenter00 =  distance(uv*5., vec2(0.0));//service\n    //fragColor *= wire.x*wire.y*step(0.1, fillcenter00);//service, displays wire and center\n    \n    \n    \n    \n    \n}","name":"Image","description":"","type":"image"}]}