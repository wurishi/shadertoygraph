{"ver":"0.1","info":{"id":"3l23Rw","date":"1558952951","viewed":506,"name":"Happy Puppy","username":"fizzer","description":"A crayon-style puppy face.","likes":19,"published":1,"flags":0,"usePreview":1,"tags":["sketch","pencil","crayon","puppy"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"Xsf3zn","filepath":"/media/a/f735bee5b64ef98879dc618b016ecf7939a5756040c2cde21ccb15e69a6e1cfb.png","previewfilepath":"/media/ap/f735bee5b64ef98879dc618b016ecf7939a5756040c2cde21ccb15e69a6e1cfb.png","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\nfloat ld(vec2 a, vec2 b, vec2 p)\n{\n    return distance(p, mix(a, b, clamp(dot(p - a, normalize(b - a)) / length(b - a), 0., 1.)));\n}\n\nfloat ad(float a0, float a1, float r, vec2 p)\n{\n    p = p.yx;\n    float a = clamp(atan(p.y, p.x), a0, a1);\n    return distance(p, vec2(cos(a), sin(a)) * r);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord - iResolution.xy / 2.) / iResolution.y;\n\n    float pi = acos(-1.);\n\n    uv.y += .1;\n\n    float pencilOffset = floor(iTime * 8.) * .1;\n\n    uv += (textureLod(iChannel0, uv / 6. + pencilOffset, 0.).rg - .5) * .01;\n\n    vec2 p = uv.xy, op = p;\n\n    p.x = abs(p.x);\n\n    float d=min(min(min(ad(-pi / 2., pi/2., .06,p-vec2(.5, 0.2)) - .015,\n                        ld(vec2(0), vec2(.05), p - vec2(0, .1)) - .03),\n                    \tld(vec2(0, .05), vec2(.05), p - vec2(0, .1)) - .03),\n                \t\tad(-pi / 2., pi / 2., .06, -(p - vec2(0, -0.05))) - .02);\n\n    p.x += -.2;\n\n    float a = -log(length(p)) * 1.8;\n    p *= mat2(cos(a), sin(a), -sin(a), cos(a));\n    d = min(d, max(op.y - .15, length(p - vec2(max(0.05, p.x), 0)) - .04));\n\n    d += (textureLod(iChannel0, uv / 1. + pencilOffset, 0.).b - .5) * .005;\n    d += (textureLod(iChannel0, uv * 4. - pencilOffset / 3., 0.).b - .5) * .002;\n\n    vec3 col = vec3(1,.9,.4);\n\n    if(length(uv - vec2(0, -.05)) < .06)\n        col = vec3(1, .4, .4);\n\n    fragColor.rgb = sqrt(mix(vec3(0.05), col, smoothstep(-1., 1., d / .001)));\n}","name":"Image","description":"","type":"image"}]}