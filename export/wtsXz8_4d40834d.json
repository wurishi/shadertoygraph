{"ver":"0.1","info":{"id":"wtsXz8","date":"1562132052","viewed":494,"name":"2 Degrees","username":"wyatt","description":"Please check out : [url]https://www.shadertoy.com/view/wllSRr[/url]\nThis is just the gravity part if that simulation. It all uses this crazy modified wave equation thing I came up with:\n d^2/dt(Psi) = d^2/dx^2(Psi) + Psi/||Psi||","likes":3,"published":3,"flags":32,"usePreview":0,"tags":["particlephysics"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 Q, in vec2 U )\n{\n    vec4 a = A(U);\n    Q = abs(sin(.1*log(1.+a.y*a.y)*(1.+.1*vec4(1,2,3,4))));\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"XdX3Rn","filepath":"/media/a/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg","previewfilepath":"/media/ap/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg","type":"texture","channel":2,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"void mainImage( out vec4 a, in vec2 U )\n{\n    // field here\n    a = A(U);\n    // neighborhood average\n    vec4 m = 0.25*(\n    \tA(U+vec2(1,0))+\n        A(U+vec2(0,1))+\n        A(U-vec2(1,0))+\n        A(U-vec2(0,1))\n    );\n    a = mix(a, m, 0.001);\n    // Wave :\n    a.x += k*(m.y-a.y);\n    // Magic :\n    if (abs(a.y)>0.) a.x -= k*a.y/abs(a.y);\n    // y += dy\n    a.y += a.x;\n    \n    //Boundary conditions:\n    if (iMouse.z>0.&&length(U-iMouse.xy)<10.) a.y = 100.;\n    if(iFrame <40) a.y  = 100.*C(U).x;\n}","name":"Buffer A","description":"","type":"buffer"},{"inputs":[],"outputs":[],"code":"#define R iResolution.xy\n\n#define A(U) texture(iChannel0, (U)/R)\n#define B(U) texture(iChannel1, (U)/R)\n#define C(U) texture(iChannel2, (U)/R)\n#define D(U) texture(iChannel3, (U)/R)\n\n\n#define k 0.01","name":"Common","description":"","type":"common"}]}