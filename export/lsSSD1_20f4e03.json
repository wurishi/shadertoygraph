{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[{"channel":0,"type":"video","id":"4sX3Rn","filepath":"/media/a/c3a071ecf273428bc72fc72b2dd972671de8da420a2d4f917b75d20e1c24b34c.ogv","sampler":{"filter":"linear","wrap":"clamp","vflip":"false","srgb":"false","internal":"byte"}}],"code":"const float pixelHeight = 100.0;\nconst float num_samples = 10.0;\nconst float pixel_vsep = 0.5;\nconst float scanline_speed = 0.1;\nconst float scanline_decay = 0.5;\nconst float BarrelPower = 1.01;\n\nvec2 Distort(vec2 p)\n{\n    float theta  = atan(p.y, p.x);\n    float radius = length(p);\n    radius = pow(radius, BarrelPower);\n    p.x = radius * cos(theta);\n    p.y = radius * sin(theta);\n    return 0.5 * (p + 1.0);\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{    \n    float aspect = iResolution.y / iResolution.x;\n    vec2 pixelcount = vec2(pixelHeight / aspect, pixelHeight);\n    vec2 pixelsize = 1.0/pixelcount;\n    vec2 pixelpos = fragCoord.xy / iResolution.xy;\n    vec2 longpixelsize = pixelsize * vec2(1.0, 1.0 + pixel_vsep);\n    \n    /* Apply barrel distortion */\n    vec2 xy = 2.0 * pixelpos - 1.0;\n    float d = length(xy);\n    //if (d < 1.0)\n    {\n        pixelpos = Distort(xy);\n    }\n    \n    /* Grab pixel */\n    vec2 texpos = pixelpos;\n    texpos.xy = floor(texpos.xy / pixelsize) * pixelsize;\n    texpos.xy += pixelsize/2.0;\n    \n    /* Grab color */\n    float count = 0.0;\n    vec4 color = vec4(0);\n    for (float x = 0.0; x <= num_samples; x += 1.0){\n    \tfor (float y = 0.0; y <= num_samples; y += 1.0){\n            count ++;\n        \tcolor += texture(iChannel0, texpos + (vec2(x, y) * pixelsize / num_samples));\n    \t}   \n    }\n    color /= count;\n    \n    /* brighten scanlines */\n    float line = mod(-iTime * scanline_speed, 1.0);\n    if (abs(pixelpos.y - line) < pixelsize.y / 4.0){\n     \tcolor.rgb *= 1.5;   \n    }\n    \n    /* make circular */\n    vec2 mod_pos = (mod(pixelpos, pixelsize) / pixelsize) - 0.5;\n    color.rgb *= 1.0 - sqrt(mod_pos.x * mod_pos.x + mod_pos.y * mod_pos.y);\n    \n    /* color shift */\n    mod_pos += 0.5;\n    color.r *= pow(1.0 - abs(mod_pos.x - 0.25), 2.0);\n    color.g *= pow(1.0 - abs(mod_pos.x - 0.5), 2.0);\n    color.b *= pow(1.0 - abs(mod_pos.x - 0.75), 2.0);\n    color.rgb *= vec3(0.8, 0.75, 0.9);\n    color.rgb *= 2.5;\n    \n    /* edge darken */\n    color.rgb *= 0.9 - sqrt(pow((pixelpos - 0.5).x, 2.0));\n    \n\tfragColor = color;\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"lsSSD1","date":"1411430211","viewed":402,"name":"LED Display","username":"CloneDeath","description":"Pretend this is an LED billboard","likes":12,"published":1,"flags":0,"usePreview":0,"tags":["leddisplaypixel"],"hasliked":0,"parentid":"","parentname":""}}