{"ver":"0.1","renderpass":[{"outputs":[{"channel":0,"id":"4dfGRr"}],"inputs":[{"channel":0,"type":"video","id":"4sX3Rn","filepath":"/media/a/c3a071ecf273428bc72fc72b2dd972671de8da420a2d4f917b75d20e1c24b34c.ogv","sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}}],"code":"#define saturate(i) ( clamp( i, 0.0, 1.0 ) )\nconst float pi = 3.14159265;\n\nfloat GaussianWeight( float x, float mean, float deviation )\n{\n\tfloat c = deviation;\n\tfloat a = c * sqrt( 2.0 * pi );\n\tfloat b = x - mean;\n\tfloat v = a * exp( -( ( b * b ) / ( 2.0*c*c ) ) );\n\treturn v / a;\n}\n\nconst int samples = 6;\nconst float fSamples = float( samples * samples * 2 * 2 );\n//const float blurscale = 1.0 / 16.0;\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float blurscale = 1.0 / ( ( 0.5 + sin( iTime * 0.5 ) * 0.5 ) * 24.0 );\n    \n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    float aspect = iResolution.x / iResolution.y;\n    \n    float thissample = 0.0;\n    for( int x = -samples; x < samples; x++ )\n    {\n    \tfor( int y = -samples; y < samples; y++ )\n        {\n            vec2 subSampleOffset = ( vec2( float( x ), float( y ) ) / float( samples ) ) \n                / ( iResolution.xy * blurscale );\n            \n            float fx = float( x ); float fy = float( y );\n            float gaussianLength = sqrt( fx*fx + fy*fy ) / sqrt( fSamples * 0.5 );\n            float sampleWeight = GaussianWeight( gaussianLength, 0.0, 0.3 );\n            \n            float subsample = pow( texture( iChannel0, uv + subSampleOffset ).g, 2.2 );\n    \t\tthissample += saturate( subsample ) * sampleWeight;\n        }\n    }\n    thissample /= fSamples;\n    thissample *= 1.7;\n    \n    //sample = pow( texture( iChannel0, uv ).g, 2.2 ) + sample;\n    //sample = GaussianWeight( length( uv * 2.0 - 1.0 ), 0.0, 0.333 );\n    \n\tfragColor = vec4( vec3( pow( thissample, 1.0 / 2.2 ) ), 1.0 );\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"MsSXDm","date":"1412652441","viewed":464,"name":"True Gaussian Weighted Blur","username":"Orihaus","description":"Heavy, but (Hopefully) correct.","likes":8,"published":1,"flags":0,"usePreview":0,"tags":["2d"],"hasliked":0,"parentid":"","parentname":""}}