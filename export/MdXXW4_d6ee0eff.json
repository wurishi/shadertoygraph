{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"#define M_PI 3.14159265358979323846\n#define N 200\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 rth = fragCoord.xy / iResolution.xy * 1.5;\n\trth.x -= 0.75;\n\trth.x *= iResolution.x / iResolution.y;\n\tfloat scroll = 27.0 * tan((iMouse.x / iResolution.x * 2.0 - 1.) * 1.25) / tan(1.25);\n\trth.x += scroll;\n\tfloat thing = 1.0 + abs(rth.x) / M_PI;\n\trth = vec2(M_PI / thing, rth.y / thing / thing);\n\t\n\tvec2 z0 = (1.0 + rth.y) * vec2(cos(rth.x), sin(rth.x)) / 2.0;\n\tvec2 z1 = vec2(1.0, 0.0) - z0;\n\tvec2 c = vec2(z0.x * z1.x - z0.y * z1.y, z0.x * z1.y + z0.y * z1.x);\n\tvec2 a = c;\n\t\n\tfloat gdec = pow(0.93, 1.0 / (1.0 + abs(scroll) / 10.0));\n\tfloat g = pow(abs(scroll) + 1.0, .121212);\n\tfloat thresh = 10.0 + 6.0 * sin(iTime);\n\t\n\tfor (int i = 0; i < N; ++i) {\n\t\tif (dot(a, a) > thresh) {\n\t\t\tg *= log(thresh) / log(dot(a, a));\n\t\t\tbreak;\n\t\t}\n\t\tg *= gdec;\n\t    a = vec2(a.x * a.x - a.y * a.y, 2.0 * a.x * a.y) + c;\n\t}\n\tvec2 an = normalize(a);\n\tvec3 color = vec3(dot(an, vec2(-0.5, sqrt(0.75))),\n\t\t\t\t\t  dot(an, vec2(-1.0, 0.0)),\n\t\t\t\t\t  dot(an, vec2(-0.5, -sqrt(0.75)))) + 1.0;\n\n\tfragColor = vec4(g * color, 1.0);\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"MdXXW4","date":"1400966271","viewed":218,"name":"Mandelstrip","username":"jld","description":"In which the Mandelbrot set is unrolled and then stretched out into an infinite strip.  Scroll left/right by dragging.","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["2d","fractal","mouse","mandelbrot"],"hasliked":0,"parentid":"","parentname":""}}