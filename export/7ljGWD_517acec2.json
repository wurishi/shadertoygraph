{"ver":"0.1","info":{"id":"7ljGWD","date":"1623940707","viewed":754,"name":"Pixel perfect outline ( LOD )","username":"FabriceNeyret2","description":"LODÂ variant of \"Pixel perfect outline\" by portponky. [url]https://shadertoy.com/view/7tj3Wh[/url]\n","likes":26,"published":3,"flags":0,"usePreview":0,"tags":["pixel","outline"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XdfGRr","filepath":"/media/a/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm","previewfilepath":"/media/ap/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm","type":"video","channel":0,"sampler":{"filter":"mipmap","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// LOD variant of \"Pixel perfect outline\" by portponky. https://shadertoy.com/view/7tj3Wh\n\n\n/* */  // antialiased version\n#define inside(P,l) step(.1, length(  textureLod(iChannel0, (P)/iResolution.xy,l)  \\\n                                    - vec4(.05, .64, .15, 1) ) )\n// #define inside(P,l) step(.1, length(  texelFetch(iChannel0, ivec2(P)>>int(l),int(l))  \\\n\nvoid mainImage( out vec4 O, vec2 U )\n{\n    O -= O;\n    for(float l=0.,c; l<8.; l++) {\n        c = 0.;\n        for (int k=0; k<9; k++)\n            c += inside( U + vec2(k%3,k/3)-1. , l);\n        if (c<4.) O += .15* vec4(0, .58, .88, 1);\n        O += (1.-O) * min( 9.-c , c ) / 5.;\n     // O = mix(O, vec4(1), min( 9.-c , c ) / 5. ); // simplified above\n    }\n}\n\n\n/*  // --- aliased version \n\n#define inside(P,l) length( textureLod(iChannel0, (P)/R,l) - vec4(.05, .64, .15, 1) ) > .1\n\nvoid mainImage( out vec4 O, vec2 U )\n{\n    vec2 R = iResolution.xy,\n     right = vec2(1,0),\n      down = vec2(0,1);\n    \n    O-=O; \n    for(float l=0.; l<8.; l++)\n      if( !(inside(U,l)) ) \n      if (    inside(U + right, l) \n           || inside(U + down , l) \n           || inside(U - right, l) \n           || inside(U - down ,l) ) O++; \n           else O+=.15 * vec4(0, .58, .88, 1);\n}\n\n/**/","name":"Image","description":"","type":"image"}]}