{"ver":"0.1","info":{"id":"lss3Ws","date":"1434272793","viewed":235,"name":"Quick radial blur","username":"squeakyneb","description":"It's a radial blur.","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["2d"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XdfGRn","filepath":"/media/a/e6e5631ce1237ae4c05b3563eda686400a401df4548d0f9fad40ecac1659c46c.jpg","previewfilepath":"/media/ap/e6e5631ce1237ae4c05b3563eda686400a401df4548d0f9fad40ecac1659c46c.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"},"published":1},{"id":"4sXGzn","filepath":"/media/a/a6a1cf7a09adfed8c362492c88c30d74fb3d2f4f7ba180ba34b98556660fada1.mp3","previewfilepath":"/media/ap/a6a1cf7a09adfed8c362492c88c30d74fb3d2f4f7ba180ba34b98556660fada1.mp3","type":"music","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"false","srgb":"false","internal":"byte"},"published":1}],"outputs":[],"code":"#define musicres 10.\n#define musicstep 0.001\n\nfloat getFreq(float f){\n\t//musik reactions\n\tfloat fv = 0.;\n\tfor(float i=0.;i<musicres;i+=1.){\n\t\tfv += (texture(iChannel1,vec2(f+musicstep*i,0.0)).x)/musicres;\n\t}\n\tfv = pow(clamp((fv-.7)*3.,0.,1.),2.);\n\treturn fv;\n}\n\nvec4 loopSample(sampler2D tx, vec2 uv){\n\t//uv = fract(uv);\n\treturn texture(tx,uv);\n}\n\nvec4 blurSample(sampler2D tx, vec2 uv, vec2 dir){\n\tvec4 pixel = vec4(0.0);\n\tfor(float x=-.1;x<=.1;x+=0.005){\n\t\t\tpixel += loopSample(tx,uv+dir*x-dir*0.3)/41.;\n\t}\n\tpixel.a = 1.0;\n\treturn pixel;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n\tuv -=0.5;\n\tuv *=2.;\n\tfloat aspect =  iResolution.x/iResolution.y;\n\tuv.x *= aspect;\n\t\n\tfloat t = iTime*1.5;\n\t\n\tfragColor = blurSample(iChannel0,vec2(\n\t\tuv.x,\n\t\tuv.y\n\t\t),(uv+0.5*vec2(sin(t),cos(t)))*getFreq(0.) );\n\t\n\t//fragColor = vec4(abs(uv)/aspect,0.0,1.0);\n\n}","name":"","description":"","type":"image"}]}