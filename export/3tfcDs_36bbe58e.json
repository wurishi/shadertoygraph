{"ver":"0.1","info":{"id":"3tfcDs","date":"1593383491","viewed":48,"name":"JustAMandelbrot","username":"Sampas","description":"Visualizes Mandelbrot set, click to zoom in.","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["mandelbrot"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n    vec2 uv = fragCoord / iResolution.xy;\n\n    int N = 50;\n    float w = 3.5;\n    float ratio = iResolution.y / iResolution.x;\n    if (iMouse.z > 0.0)\n    {\n        vec2 imm = iMouse.xy / iResolution.xy;\n        imm.x = -1.8 + imm.x * w;\n        imm.y = -0.5 + imm.y * w * ratio;\n        float zoom = 10.0;\n        uv.x = imm.x - w/zoom/2.0 + uv.x * w/zoom;\n    \tuv.y = imm.y - (w/zoom * ratio)/2.0 + uv.y * w/zoom * ratio;\n        N = 150;\n    }\n    else\n    {\n        uv.x = -1.8 + uv.x * w;\n    \tuv.y = -0.5 + uv.y * w * ratio;\n    }\n    \n    float tmp = uv.y;\n    uv.y = uv.x;\n    uv.x = -tmp;\n\n    vec3 col = vec3(0.0);\n    float z_re = uv.x;\n    float z_im = uv.y;\n    int i = 0;\n    float z_low = 10000000.0;\n    for (; i < N; ++i)\n    {\n        float z_im2 = z_im*z_im;\n        float ab = z_re*z_re + z_im2;\n        z_low = min(z_low, ab);\n        if (ab > 4.0)\n        {\n            col = vec3(0.0);\n            break;\n        }\n        z_im = 2.0*z_re*z_im + uv.y;\n        z_re = z_re*z_re - z_im2 + uv.x;\n    }\n    \n    \n    float c = 0.0;\n    if (i < N)\n    {\n    \tc = float(i) / float(N);\n    }\n    c = mix(c, sqrt(z_low), abs(sin(iTime))*0.1);\n    \n    col = vec3(0.0, c, cos(iTime*2.0)*c);\n\n    // Output to screen\n    fragColor = vec4(col, 1.0);\n}","name":"Image","description":"","type":"image"}]}