{"ver":"0.1","info":{"id":"ddKyzK","date":"1696712196","viewed":32,"name":"sunflower.noise","username":"alesteba","description":"shape","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["shape"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\n\nfloat sdCircle( in vec2 p, in float r ) \n{\n    return length(p)-r;\n}\n\nvec2 random2(vec2 st){\n\n    st = vec2( dot(st,vec2(127.1,311.7)),\n              dot(st,vec2(269.5,183.3)) );\n\n    return -1.0 + 2.0*fract(sin(st)*43758.5453123);\n}\n\n// Gradient Noise by Inigo Quilez - iq/2013\n// https://www.shadertoy.com/view/XdXGW8\nfloat noise(vec2 st) {\n    vec2 i = floor(st);\n    vec2 f = fract(st);\n\n    vec2 u = f*f*(3.0-2.0*f);\n\n    return mix( mix( dot( random2(i + vec2(0.0,0.0) ), f - vec2(0.0,0.0) ),\n                     dot( random2(i + vec2(1.0,0.0) ), f - vec2(1.0,0.0) ), u.x),\n                mix( dot( random2(i + vec2(0.0,1.0) ), f - vec2(0.0,1.0) ),\n                     dot( random2(i + vec2(1.0,1.0) ), f - vec2(1.0,1.0) ), u.x), u.y);\n}\n\n// constant rotation:\n\nmat2 rotate2d(float _angle){\n    return mat2(cos(_angle),-sin(_angle),\n                sin(_angle),cos(_angle));\n}\n\nfloat shape(vec2 st, float radius) {\n\n\tst = vec2(0.5)-st;\n\n    float r = length(st)*2.0;\n    float a = atan(st.y,st.x);\n    float m = abs(mod(a+iTime*2.,3.14*2.)-3.14)/3.6;\n    float f = radius;\n\n    f += sin(a*8.)*noise(st+iTime*0.5)*.4;\n    f += (sin(a*7.)*.1*pow(m,2.0));\n    \n    return length(st) - f;\n}\n\n\nmat2 scale(vec2 _scale){\n\n    return mat2(_scale.x,0.0,\n                0.0,_scale.y);\n}\n\nfloat pulse(float time) {\n\n    float pi = 3.14;\n    float frequency = 0.5;\n    return 0.5*(1.0+sin(2.0 * pi * frequency * time));\n}\n\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 p = (2.0*fragCoord-iResolution.xy)/iResolution.y;\n    //vec2 m = (2.0*iMouse.xy-iResolution.xy)/iResolution.y;\n    vec2 m = vec2(0.0, 0.0);\n   \n    float amount = (sin(iTime)* 0.5);\n    \n    p = scale( vec2(sin(iTime)+2.) ) * p;\n    p = rotate2d( amount ) * p;\n    \n    p += vec2(0.5);\n    m += vec2(0.5);\n\n\tfloat d = shape(p,0.5);\n    \n    float width = pulse(iTime)*10.0;\n    \n\n\tvec3 col = mix(vec3(0.0), vec3(1.0), 1.0-smoothstep(0.0, width/iResolution.y,abs(d)) );\n\n    col = mix(col, vec3(1.0,1.0,0.0), 1.0-smoothstep(0.0, 10.0/iResolution.y, abs(length(p-m)-abs(d))-0.0025));\n    \n    col = mix(col, vec3(1.0,1.0,0.0), 1.0-smoothstep(0.0, width/iResolution.y, length(p-m)-0.015));\n    \n\tfragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}