{"ver":"0.1","info":{"id":"sljGWh","date":"1623850079","viewed":180,"name":"Voronoi water ripple","username":"lask","description":"A simple voronoi water ripple","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["voronoi","ripple"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XdX3Rn","filepath":"/media/a/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg","previewfilepath":"/media/ap/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec2 hash22(vec2 p)\n{\n\tvec3 p3 = fract(vec3(p.xyx) * .1247);\n    p3 += dot(p3, p3.yzx+19.19);\n    return fract((p3.xx+p3.yz)*p3.zy);\n\n}\n\nvec2 hash22i(ivec2 p)\n{\n\tvec3 p3 = fract(vec3(p.xyx) * .1247);\n    p3 += dot(p3, p3.yzx+19.19);\n    return fract((p3.xx+p3.yz)*p3.zy);\n\n}\n\n//https://iquilezles.org/articles/smoothvoronoi\nfloat voronoi( in vec2 x )\n{\n    ivec2 p = ivec2(floor( x ));\n    vec2  f = fract( x );\n\n    float res = 8.0;\n    for( int j=-1; j<=1; j++ )\n    for( int i=-1; i<=1; i++ )\n    {\n        ivec2 b = ivec2( i, j );\n        vec2  r = vec2( b ) - f + hash22i( p + b );\n        float d = dot( r, r );\n\n        res = min( res, d );\n    }\n    return sqrt( res );\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    \n    vec2 uv = fragCoord/iResolution.xy;\n\n    //create 2 random voronoi layer\n    vec3 l1 = vec3(voronoi(uv*7.4134+iTime*1.2154));\n    vec3 l2 = vec3(voronoi(uv*6.12312-sin(iTime*.32131)));\n    //simply mix them with water color\n    vec3 col = smoothstep(.5,.9,(l1+l2)*.5)+vec3(.7,.82,.9)*.1;\n    vec4 tex = texture(iChannel0, uv);\n    fragColor = vec4(col,.5)+tex;\n}","name":"Image","description":"","type":"image"}]}