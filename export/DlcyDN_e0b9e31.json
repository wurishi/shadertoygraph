{"ver":"0.1","info":{"id":"DlcyDN","date":"1699193212","viewed":37,"name":"tri_mesh","username":"Leesh1234","description":"just simple","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["2d"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#ifdef GL_ES\nprecision mediump float;\n#endif\n\nmat3 final_mat(vec2 move, float dir, vec2 size){\n    return mat3(1.,0.,0.,0.,1.,0.,move.x,move.y,1.)*\n        mat3(cos(dir),sin(dir),0.,-sin(dir),cos(dir),0.,0.,0.,1.)*\n        mat3(size.x,0.,0.,0.,size.y,0.,0.,0.,1.);\n        \n}\nvec3 tri(vec2 p1, vec2 p2, vec2 p3, vec2 st, vec3 bc){\n    vec2 u=p1-p3,v,w;\n    v=p2-p3;\n\tw=st-p3;\n    float d=(dot(u,v)*dot(u,v)-dot(u,u)*dot(v,v)),t,s,onesubst;\n    t=(dot(w,u)*dot(u,v)-dot(w,v)*dot(u,u))/d;\n\ts=(dot(w,v)*dot(u,v)-dot(w,u)*dot(v,v))/d;\n    t=clamp(t,0.,1.);\n \ts=clamp(s,0.,1.);\n    onesubst=clamp(1.-s-t,0.,1.);\n    bc=mix(bc,vec3(t,s,onesubst),smoothstep(2./iResolution.y,0.,length(s*p1+t*p2+onesubst*p3-st)));\n    return bc;\n}\n\nvec2 transform(vec2 p,mat3 fm){\n    return vec2(fm*vec3(p,1.));\n}\n\nvec3 draw_gizmo_2d(vec2 st){\n    vec3 bc=vec3(.9);\n    float gap=0.02;\n    st/=gap;\n    vec3 linecol=vec3(.8);\n    float antials=2./iResolution.y/gap;\n\tbc=mix(bc,linecol,smoothstep(antials,0.,fract(st.x)));\n    bc=mix(bc,linecol,smoothstep(antials,0.,fract(st.y)));\n    bc=mix(bc,vec3(0.,.7,0.),smoothstep(-antials/2.,0.,st.x)-smoothstep(0.,antials/2.,st.x));\n    bc=mix(bc,vec3(1.,0.,0.),smoothstep(-antials/2.,0.,st.y)-smoothstep(0.,antials/2.,st.y));\n    return bc;\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    vec2 st = (fragCoord.xy-.5*iResolution.xy)/iResolution.y;\n    vec2 mouse = (iMouse.xy-.5*iResolution.xy)/iResolution.y;\n\tvec3 color=draw_gizmo_2d(st);\n    mat3 fm=final_mat(mouse,iTime,vec2(1.));\n    vec2 p1=transform(vec2(-.1),fm);\n    vec2 p2=transform(vec2(0.,.1),fm);\n    vec2 p3=transform(vec2(.1,-.1),fm);\n\tcolor=tri(p1,p2,p3,st,color);\n    fragColor = vec4(color,1.0);\n}","name":"Image","description":"","type":"image"}]}