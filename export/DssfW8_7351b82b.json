{"ver":"0.1","info":{"id":"DssfW8","date":"1688686105","viewed":117,"name":"3D rotation with UV distortion","username":"vete","description":"Testing 3D rotation","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["3d","simple","projection"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\n//https://www.shadertoy.com/view/fdjGRD FOR ROTATION\n//https://www.shadertoy.com/view/MddSzB FOR PROJECTION\n//https://www.shadertoy.com/view/ll2GD3 FOR PALETTE\nmat3 rotX(float theta) {\n    float c = cos(theta);\n    float s = sin(theta);\n    return mat3(\n        vec3(1, 0, 0),\n        vec3(0, c, -s),\n        vec3(0, s, c)\n    );\n}\nmat3 rotY(float theta) {\n    float c = cos(theta);\n    float s = sin(theta);\n    return mat3(\n        vec3(c, 0, s),\n        vec3(0, 1, 0),\n        vec3(-s, 0, c)\n    );\n}\nmat3 rotZ(float theta) {\n    float c = cos(theta);\n    float s = sin(theta);\n    return mat3(\n        vec3(c, -s, 0),\n        vec3(s, c, 0),\n        vec3(0, 0, 1)\n    );\n}\nvec3 pal( in float t, in vec3 a, in vec3 b, in vec3 c, in vec3 d )\n{\n    return a + b*cos( 6.28318*(c*t+d) );\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\n\n    vec2 uv = fragCoord/iResolution.y;\n    vec2 nMos = iMouse.xy/iResolution.y;\n    \n    uv += vec2(-1.,-0.5);\n    uv *= 21.;\n    uv.x *= 0.8;\n    float dd = 4.1*(2.3+sin(iTime/1.2));\n    \n    float FOV = .9*(5.-uv.x/length(uv));\n    float horizon = .0;\n    vec3 col;\n    for(float i=0.; i<6.; i +=0.01){\n    vec3 proj = vec3(uv.x, uv.y-FOV-horizon, uv.y-horizon);\n    proj *= rotX(iTime/1.5+i/dd)  ;\n    proj *= rotZ(iTime/5.3+i/dd)  ;\n    proj *= rotY(iTime/2.1+2.*i/dd)  ;\n    proj *= rotZ(iTime/1.5+3.*i/dd)  ;\n    proj *= rotY(iTime/2.1+i/dd)  ;\n    \n    \n    vec2 sc = proj.xy/proj.z;\n    sc *= 2.54+.0251*length(proj);\n    col += float (1.3*sin(length(sc)*length(sc)*.2/(sc.y))+1.222 > 1./i);\n    col += float (.3*tan(length(sc)*length(sc)*.1/(sc.x))+1.222 > 2./i);\n\n    }\n    \n    // Output to screen\n    col  = pal( length(col/2611.+sin(iTime/3.+sin(iTime/2.))/4.+1.55), vec3(0.5,0.5,0.5),vec3(0.5,0.5,0.5),vec3(1.0,1.0,1.0),vec3(0.0,0.10,0.20) );\n    \n    fragColor = vec4(col*col*col,1.);\n}","name":"Image","description":"","type":"image"}]}