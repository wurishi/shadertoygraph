{"ver":"0.1","info":{"id":"fdcGR2","date":"1630156464","viewed":305,"name":"Water Drops","username":"midorikuma","description":"moist","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["surface","wet"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const float Nlen = 100.0;\nconst float Ns = 1.0;\nconst float Ts = 1.5;\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec3 _ms = vec3(1.0,0.0,0.0);\n    vec4 _ps = vec4(-10.0);\n    vec2 rd0 = abs(fragCoord/iResolution.xy);\n    vec2 rds = rd0;\n    vec2 fc = fragCoord;\n    float nlim = floor(iTime*Ns+abs(cos(iTime))*Ns);\n    float nmin = (nlim-Nlen)*step(Nlen, nlim);\n\n    for(float n = nmin; n < nlim; n++){\n        float t=(iTime-n/Ns);\n        t = (t-0.9*abs(sin(t/1.5-n)))*Ts;\n        float s = 30.0+cos(n)*10.0;\n        float r = min(iResolution.x,iResolution.y)/s;\n        vec2 p0 = vec2( cos(n*cos(n)) , cos(n*sin(n)) );\n        vec2 pt = vec2( t*0.0005*cos(n/7.0) , t*0.005*abs(cos(n)*5.0+pow(100.0,cos(n))) );\n        vec2 p = p0+pt;\n        vec2 rdc = fc * 2.0 - iResolution.xy + p*iResolution.xy;\n        float rl = r + sin(length(fc)/r*7.0)*r/(10.0+cos(n)*2.0);\n        float m1 = rl - length(rdc);\n\n        vec2 rl0 = vec2(r,pt.y*iResolution.y*(1.0-smoothstep(0.0,100.0,t)));\n        float m2 = rl/1.1 - length(vec2(rdc.x,rdc.y-rl/10.0));\n        float rr = (r+_ms.z)/min(iResolution.x,iResolution.y)*0.6;\n        float py = _ps.y+(_ms.y-t)*(_ps.w-_ps.y)/_ms.y;\n        bool fx = (_ps.x < p0.x+rr && p.x-rr < _ps.z)||(p0.x-rr < _ps.x && _ps.z < p.x+rr);\n        bool fy = (py < p0.y+rr && p.y-rr < _ps.w)||(p0.y-rr < py && _ps.w < p.y+rr);\n        if(fx&&fy){\n            rds = rd0;\n            _ms.x = 1.0;\n        }\n\n        vec2 rs =rd0*2.0-1.0;\n        if (step(length(rdc/rl0),1.0)*step(0.0,rdc.y)==1.0){\n            if (step(0.0,m1)==0.0){\n                rds.xy=vec2((-(rs.x+p.x)-p.x+1.0)/1.8,rds.y);\n            }\n        }\n        if (step(0.0,m1)==1.0){\n            rds = abs(1.0-((rs+p)*length(rdc)/rl*s*1.5+vec2(p.x,0.0)+1.0)/2.0);\n            _ms = vec3(m2,t,r);\n            _ps = vec4(p0,p);\n        }\n    }\n    \n    vec3 bg = vec3(3.0,4.0,10.0)*(rds.y/3.5+rds.x*rds.x/20.0)+0.15;\n    vec3 bg0 = vec3(3.0,4.0,10.0)*(rd0.y/3.5+rd0.x*rd0.x/20.0)+0.1;\n    vec4 Color = vec4(bg,1.0)-step(_ms.x,0.0);\n    fragColor =Color*0.35+vec4(bg0,1.0)*0.65;\n}","name":"Image","description":"","type":"image"}]}