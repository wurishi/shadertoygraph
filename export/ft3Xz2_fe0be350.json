{"ver":"0.1","info":{"id":"ft3Xz2","date":"1639387035","viewed":75,"name":"Singapore Flag","username":"Rockyee","description":"learned from Martijn Steinrucken aka The Art of Code/BigWIngs","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["flag","singapore","singaporean"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec3 WHITE = vec3(1);\nvec3 RED = vec3(200, 34, 52) / 255.;\n\nfloat Circle(vec2 uv, vec2 p, float r)\n{\n    float d = length(uv - p);\n    float w = min(fwidth(d), .05);\n    return smoothstep(r, r-w, d);\n}\n\nfloat Star(vec2 uv, float size)\n{\n    uv.x = abs(uv.x);\n    \n    float d1 = dot(uv, vec2(.951, .309));\n    float d2 = dot(uv, vec2(-.588, -.809));\n    float d3 = dot(uv, vec2(.588, -.809));\n    float d4 = uv.y;\n    \n    float d = min(max(d1, d2), max(d3, d4));\n    float w = min(fwidth(d), .05);    \n    return smoothstep(w, -w, d - size);\n}\n\nvec2 Remap(vec2 p, float b, float t, float l, float r)\n{\n    return vec2((p.x - l) / (r - l), (p.y - b) / (t - b));\n}\n\nvec3 Flag(vec2 uv)\n{\n    float w = fwidth(uv.y);\n    float d = smoothstep(.5, .5 - w, uv.y);    \n    \n    vec2 st = Remap(uv, .5, 1., .065, .35);\n    float circle1 = Circle(st, vec2(.45, .5), .35);\n    float circle2 = Circle(st, vec2(.55, .5), .32);\n    d += max(circle1- circle2, 0.);\n    \n    st = Remap(uv, .5, 1., .092, .42);\n    st -= .5;\n    st.x = abs(st.x);\n    float r = 0.175;\n    float size = 0.025;    \n    d += Star(st - vec2(0., 1.) * r, size);\n    d += Star(st - vec2(.951, .309) * r, size);\n    d += Star(st - vec2(.588, -.809) * r, size);\n    \n    vec3 col = mix(RED, WHITE, d);\n    col *= smoothstep(w, 0., abs(uv.y - .5) - .5 + w);    \n    return col;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    float t =  uv.x * 8. - 1.8 * iTime + uv.y * 2.8;\n    uv.y += sin(t) * .055;\n    vec3 col = Flag(uv);    \n    col *= .7 + cos(t) * .3;    \n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}