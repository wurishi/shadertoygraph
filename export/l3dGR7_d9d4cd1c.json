{"ver":"0.1","info":{"id":"l3dGR7","date":"1716290248","viewed":33,"name":"breathing?","username":"paopeaw","description":"https://thebookofshaders.com/10/","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["random"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const float PI = 3.14159265359;\nfloat random (vec2 st) {\n    return fract(sin(\n          dot(st,\n          vec2(12.2231,78.81))\n          )*43758.234);\n}\n\nmat2 rotatePlane(float _angle){\n    return mat2(cos(_angle),-sin(_angle),\n                sin(_angle),cos(_angle));\n}\n\n\nvec2 truchetPattern(vec2 _st, float _index){\n    if (_index > 0.75) {\n        _st -= .5;\n        _st = rotatePlane(PI/2.) * _st;\n        _st += .5;\n    } else if (_index > 0.25) {\n        _st -= .5;\n        _st = rotatePlane(PI * 2./4.) * _st;\n        _st += .5;\n    }\n    return _st;\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{    \n    \n    \n  vec2 st = fragCoord/iResolution.xy;\n  st.x *= iResolution.x/iResolution.y;\n\n  st -= .5; st *= 2.;\n  st += vec2(sin(iTime/50.), cos(iTime/50.));\n\n\n  st *= 10.;\n  vec2 ipos = floor(st);\n  vec2 fpos = fract(st);\n\n  float rand = random(ipos);\n  vec2 tile = vec2(0.);\n  tile += truchetPattern(fpos,rand);\n\n  vec3 col = vec3(0.);\n\n\n  float s = 1.1;\n  s+= rand/100.;\n  s+= sin(iTime)/30.;\n  col.r += (smoothstep(.4,.4,length(s*tile)) -\n            smoothstep(.6,.6,length(s*tile))) \n          +\n          (smoothstep(.4,.4,length(s*tile-1.)) -\n            smoothstep(.6,.6,length(s*tile-1.)));\n  col.g += (smoothstep(.4,.4,length(tile)) -\n            smoothstep(.6,.6,length(tile))) \n          +\n          (smoothstep(.4,.4,length(tile-1.)) -\n            smoothstep(.6,.6,length(tile-1.)));\n  col.b += (smoothstep(.4,.4,length(tile)) -\n            smoothstep(.6,.6,length(tile))) \n          +\n          (smoothstep(.4,.4,length(tile-1.)) -\n            smoothstep(.6,.6,length(tile-1.)));\n     fragColor = vec4(col,1.0);\n\n\n}","name":"Image","description":"","type":"image"}]}