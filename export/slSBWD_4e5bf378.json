{"ver":"0.1","info":{"id":"slSBWD","date":"1652200890","viewed":69,"name":"Mandelbrot zoom `","username":"Zarro","description":"Mandelbrot zoom","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["mandelbrotzoom"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\nvec2 f (vec2 z, vec2 c){\n    vec2 sqrd = vec2((z.x*z.x) - (z.y*z.y), 2.*z.x*z.y);\n    return (sqrd + c);\n}\n\nfloat mandel(vec2 c, int n, vec2 dr, float zoom){\n    c = vec2(((c.x * 2.47)-2.),((c.y*2.24)-1.12)) / zoom + dr;\n\n    vec2 z = vec2(0.);\n    \n    int i;\n    for(i = 0; (i < n) && (length(z) <= 2.); i++){\n        z = f(z, c);\n    }\n    \n    return float(i);   \n}\n\nfloat mandel_smooth(vec2 c, int n, vec2 dr, float zoom){\n    c = vec2(((c.x * 2.47)-2.),((c.y*2.24)-1.12)) / zoom + dr;\n\n    vec2 z = vec2(0.);\n    \n    int i;\n    for(i = 0; (i < n) && (length(z) <= 2.); i++){\n        z = f(z, c);\n    }\n    \n    float s = float(i) + 1. - log(log(length(z))) / log(2.); \n    //float s = float(i) + 1. - log2(length(z)) / log2(16.);\n \n    return s;   \n}\nvec3 hsv2rgb( in vec3 c )\n{\n    vec3 rgb = clamp( abs(mod(c.x*6.0+vec3(0.0,4.0,2.0),6.0)-3.0)-1.0, 0.0, 1.0 );\n\n\treturn c.z * mix( vec3(1.0), rgb, c.y);\n}\n\nvec3 hsv2rgb_smooth( in vec3 c )\n{\n    vec3 rgb = clamp( abs(mod(c.x*6.0+vec3(0.0,4.0,2.0),6.0)-3.0)-1.0, 0.0, 1.0 );\n\n\trgb = rgb*rgb*(3.0-2.0*rgb); // cubic smoothing\t\n\n\treturn c.z * mix( vec3(1.0), rgb, c.y);\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/(iResolution.xy*1.);\n    //vec2 mv = vec2(clamp(fragCoord.x,-2.,0.47),clamp(fragCoord.y, -1.12,1.12));\n    \n    int it = 100+int(iTime*10.);\n    \n    float i = mandel_smooth(uv, it, vec2(-0.10109636384562, 0.95628651080914), iTime*iTime*iTime*iTime);\n\n    vec3 col;\n    if (int(i) >= it){\n        col = vec3(0.);\n    }\n    else {\n        col = hsv2rgb_smooth(vec3(float(i)*0.01 + (iTime*0.05),1.,1.));\n    \n    }\n    \n    // Output to screen\n    fragColor = vec4(col,0.0);\n}","name":"Image","description":"","type":"image"}]}