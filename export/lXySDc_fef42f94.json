{"ver":"0.1","info":{"id":"lXySDc","date":"1720562547","viewed":41,"name":"beating mandelbrot set","username":"Eolc","description":"a beating heart of mandelbrot set\nfractal homework1 of ARTS1308 ShanghaiTech University","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["fractal","mandelbrot","heartbeat"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float heartbeat(float x) {\n  return max(exp(-(x - floor(x) - 0.5) * (x - floor(x) - 0.5) / (2. * 0.01)),\n             0.5 * sin(2. * 3.1416 * (x - floor(x) - 1.)));\n}\nvec3 mandelbrotSet(vec2 c) {\n  vec2 z = vec2(0.0);\n  int iter = 0;\n  int maxIter = int(75. * heartbeat(iTime) + 25.);\n  while (iter < maxIter && dot(z, z) < 4.0) {\n    z = vec2(z.x * z.x - z.y * z.y, 2.0 * z.x * z.y) + c;\n    iter++;\n  }\n  // inner\n  if (iter == maxIter)\n    return vec3(smoothstep(0.15, 0.85,\n                           (1.45 - distance(c, vec2(-.4, 0.))) -\n                               0.3 * (heartbeat(iTime))),\n                0.13, 0.14);\n  // outer\n  else\n    return vec3(float(iter) / float(maxIter), 0.13, 0.14);\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n  vec2 uv = 2.0 * (fragCoord / iResolution.xy) - 1.0;\n  uv.x *= iResolution.x / iResolution.y;\n  uv *= 1.5;\n\n  vec3 color = mandelbrotSet(uv);\n\n  fragColor = vec4(color, 1.0);\n}","name":"Image","description":"","type":"image"}]}