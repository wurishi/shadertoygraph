{"ver":"0.1","info":{"id":"flB3Rc","date":"1624396012","viewed":98,"name":"Texture March","username":"dmzmd","description":"Ray Marcher ","likes":7,"published":1,"flags":0,"usePreview":0,"tags":["simple","mouse","raymarch"],"hasliked":0,"parentid":"sl23zW","parentname":"Refactor1"},"renderpass":[{"inputs":[{"id":"4df3zn","filepath":"/media/a/3405e48f74815c7baa49133bdc835142948381fbe003ad2f12f5087715731153.ogv","previewfilepath":"/media/ap/3405e48f74815c7baa49133bdc835142948381fbe003ad2f12f5087715731153.ogv","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"    vec3 cam=vec3(0.,1.6,0.);\n\n    \nvec2 rot(vec2 p,float rad){\n        float s = sin(rad);\n        float c = cos(rad);\n        mat2 m = mat2(c, -s, s, c);\n        return p * m;\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord-.5*iResolution.xy)/iResolution.x;\n\n    vec2 mic=(iMouse.xy-.5*iResolution.xy)/iResolution.y*2.;\n    vec3 cam=vec3(0.,5,0.);\n    vec3 ball=vec3(mic.x,mic.y,4.);\n    float rad=.5;\n    float travel=0.;    \n    int steps=100;//higest number of iterations\n    float world=100.;//furthest distance to march   \n    vec3 p=cam;\n    uv.xy=rot(uv.xy,(iTime)*.1);\n    vec3 dir=normalize(vec3(uv.x,uv.y,1.));\n\n\n    \nvec3 col =vec3(0.);\n    for (int i=0;i< steps;i++){\n\n        vec3 rp=p;\n      //  \n       rp.yz=rot(rp.yz,.7);\n        float idist=rp.y;\n        travel+=idist; //update distace traveled. \n        if (travel>world){\n        col=vec3(.75-float(i)/100.);break; //near paths use smaller steps and will appear lighter.\n        }\n        if (idist<.005){\n        p.z+=iTime;\n        \n \n        uv=vec2(fract(p.x),fract(p.z));\n        col=texture(iChannel0,uv).rgb;//vec3(fract(p.x),fract(p.z),0);//vec3(mod(floor(rp.x)+floor(rp.z+iTime),2.));break;//vec3(0.);break;\n        \n        //try rotating color \n        //col.gr= rot(col.gr,iTime);\n        break;\n            }\n        p=p+dir*idist;       \n}\n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}