{"ver":"0.1","info":{"id":"XXcGWr","date":"1716304495","viewed":290,"name":"Broken Time Gate","username":"iekdosha","description":"Just a cool time portal effect","likes":9,"published":1,"flags":0,"usePreview":1,"tags":["2d","noise","liquid","caustic"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGzn","filepath":"/media/a/0c7bf5fe9462d5bffbd11126e82908e39be3ce56220d900f633d58fb432e56f5.png","previewfilepath":"/media/ap/0c7bf5fe9462d5bffbd11126e82908e39be3ce56220d900f633d58fb432e56f5.png","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\n// Credit to nimitz (stormoid.com) (twitter: @stormoid)\n// For the original shader here: https://www.shadertoy.com/view/ldlXRS\n// Lisense has to propagate I think... so:\n// License Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License\n\n// I am just trying out new things and found this one, I do not understand how the original works so I am making mofications for fun.\n\n#define time (iTime)*0.12\n#define tau 6.2831853\n\nmat2 makem2(in float theta){float c = cos(theta);float s = sin(theta);return mat2(c,-s,s,c);}\nfloat noise( in vec2 x ){return texture(iChannel0, x*.01).x;}\n\nfloat fbm(in vec2 p)\n{\t\n\tfloat z=2.;\n\tfloat rz = 0.;\n\tvec2 bp = p;\n\tfor (float i= 1.;i < 6.;i++)\n\t{\n\t\trz+= abs((noise(p)-0.5)*2.)/z;\n\t\tz = z*2.;\n\t\tp = p*2.;\n\t}\n\treturn rz;\n}\n\nfloat dualfbm(in vec2 p)\n{\n    //get two rotated fbm calls and displace the domain\n\tvec2 p2 = p*.7;\n\tvec2 basis = vec2(fbm(p2-time*1.6),fbm(p2+time*1.7));\n\tbasis = (basis-.5)*.2;\n\tp += basis;\n\t\n\t//coloring\n\treturn fbm(p*makem2(time*0.2));\n}\n\nfloat circ(vec2 p) \n{\n\tfloat r = length(p);\n\tr = log(sqrt(r));\n\treturn abs(mod(r*4.,tau)-3.14)*3.+.2;\n\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\t//setup system\n\tvec2 p = fragCoord.xy / iResolution.xy-0.5;\n\tp.x *= iResolution.x/iResolution.y;\n    float len = length(p);\n\tp*=4.;\n    \n\t\n    float rz = dualfbm(p);\n    float artifacts_radious_fade = pow(max(1., 6.5*len), 0.2) ;\n    rz = artifacts_radious_fade*rz + (1.-artifacts_radious_fade)*dualfbm(p+5.0*sin(time)); // Add flaoting things around portal\n    float my_time = time + 0.08*rz;\n    \n\t//rings\n\tp /= exp(mod((my_time*10. + rz),3.38159)); // offset from PI to make the ripple effect at the start  \n\trz *= pow(abs((0.1-circ(p))),.9);\n\t\n\t//final color\n\tvec3 col = 0.4*vec3(.2 ,0.1,0.4)/rz;\n\tcol=pow(abs(col),vec3(.99));\n\tfragColor = vec4(col,1.);\n}","name":"Image","description":"","type":"image"}]}