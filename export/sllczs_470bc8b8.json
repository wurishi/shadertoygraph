{"ver":"0.1","info":{"id":"sllczs","date":"1648582581","viewed":138,"name":"The Octopus","username":"HyPeRbLaH","description":"Iterative fractal where Cn is Zn-1 with the initial value of C altering initial state.","likes":11,"published":1,"flags":0,"usePreview":0,"tags":["fractal","hypnotic","soothing"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec2 mul(vec2 a, vec2 b) {\n    return vec2(a.x * b.x - a.y * b.y, a.x * b.y + a.y * b.x);\n}\n\nvec3 fz(vec2 p) {\n    float th = iTime * 0.025 + 8.0;\n    \n    vec2 z = p;\n    vec2 c = vec2(cos(th), sin(th)) * sin(th * 0.03893827372837823) * 0.75;\n    \n    vec2 avg = vec2(0);\n    \n    float i = 0.0;\n    while (i < 100.0 && length(z) < 4.0) {\n        ++i;\n        vec2 b = z;\n        z = mul(z, z) + c;\n        c = b;\n        avg += z;\n    }\n    return vec3(avg / (i + 1.0), i);\n}\n\nfloat rs(float v, float on, float ox, float nn, float nx) {\n    return (v - on) * (nx - nn) / (ox - on) + nn;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float scale = 0.5;\n\n    float size = min(iResolution.x, iResolution.y);\n    vec2 uv = (fragCoord - iResolution.xy * 0.5)/size * scale;\n    \n    float th = -iTime * 0.05;\n    float th2 = iTime * 0.75;\n    uv += vec2(cos(th), sin(th)) * 0.05;\n    \n    vec3 avg = vec3(0);\n\n    float aa = 4.0;\n    for (float i = 0.0; i < aa; ++i) {\n        float a = 6.283 * i / aa + iTime;\n        vec3 v = fz(uv + vec2(cos(a), sin(a)) / size * scale * 0.333);\n        v.z = pow(v.z, 0.125);\n        v = normalize(v);\n        avg += v;\n    }\n    \n    vec3 v = avg / aa;\n    \n    float s1 = 5.01;\n    float s2 = 4.24;\n    vec3 rl = normalize(vec3(cos(th2) * s1, sin(th2) * s1, 5.0));\n    vec3 gl = normalize(vec3(cos(th2 + 0.79) * s2, sin(th2 + 0.79) * s2, 5.5));\n    vec3 bl = normalize(vec3(cos(th2 + 1.57) * s1, sin(th2 + 1.57) * s1, 5.0));\n    \n    vec3 col = vec3(dot(v, rl), dot(v, gl), dot(v, bl));\n\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}