{"ver":"0.1","info":{"id":"MclGRr","date":"1702702733","viewed":7,"name":"Cyanotype","username":"Scratchboard","description":"Drag the mouse to activate different orbits of the ellipse-drawing map. ","likes":0,"published":1,"flags":32,"usePreview":0,"tags":["iteratedfunctionfractal"],"hasliked":0,"parentid":"DlGfzt","parentname":"texture983451234123"},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage(out vec4 Y, in vec2 p)\n{\n\tvec2 uv = p.xy / iResolution.xy;\n\tY = texture(iChannel0, uv);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"#define maxiter 32.\n#define decay .99\n#define cdecay 25000.\n\nuvec2 f(uvec2 p, uint a, uint b) {\n    uint x = (p.x - p.y / 2U) % a;\n    uint y = (p.y + x / 2U) % b;\n    return uvec2(x, y);\n}\n\nvoid mainImage(out vec4 Y, in vec2 p) {\n    vec2 uv = p.xy / iResolution.xy;\n    \n    if (iFrame == 0) {\n        Y.rbg = vec3(0);\n        return;\n    }\n    uvec2 ip = uvec2(p);\n    vec4 acc = vec4(texture(iChannel0, uv));\n\n    uint a = uint(iResolution.x);\n    uint b = uint(iResolution.y);\n    for (float i = 0.; i < maxiter; i += 1.) {\n        ip = f(ip, a, b);\n        vec2 uvq = vec2(ip) / iResolution.xy;\n        vec4 cshift = vec4(2.*cdecay / (2.*cdecay+ i),\n                           cdecay / (cdecay + i),\n                           1., 1.);\n        acc = max(acc, cshift * texture(iChannel0, uvq));\n    }\n\n    vec2 m = iMouse.xy / iResolution.xy;\n    float d = length(m - uv);\n    if (0.001 > d) { \n        Y = vec4(1.2);\n    }\n    else {\n        Y = decay*acc*min(vec4(1.), acc);\n    }\n}\n","name":"Buffer A","description":"","type":"buffer"}]}