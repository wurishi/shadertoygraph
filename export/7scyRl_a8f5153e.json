{"ver":"0.1","info":{"id":"7scyRl","date":"1653912521","viewed":161,"name":"phased array","username":"selfantigen","description":"move mouse up and down to change transmitter count","likes":6,"published":1,"flags":0,"usePreview":0,"tags":["phasedarray"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define MAX_TX 66\nconst float pi = 3.14159265359;\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    int N_TX = min(MAX_TX, max(int(iMouse.y/iResolution.y*float(MAX_TX)), 1));\n    float ARRAY_CENTER_X = (float(N_TX)/2.0);\n    float waveLength = 10.0;\n    vec2 arrayCenter = vec2(iResolution.x/2.0, iResolution.y/20.0);\n    vec2 tx[MAX_TX];\n    for (int i=0; i<N_TX; i++) {\n        tx[i] = arrayCenter + vec2((float(i)-ARRAY_CENTER_X) * waveLength, 0.0);\n    }\n    vec3 energy = vec3(0.0, 0.0, 0.0);\n    for (int i=0; i<N_TX; i++) {\n        float dist = length(fragCoord.xy-tx[i]);\n        energy += cos(dist*pi/waveLength-iTime*10.0) * 8.0 / dist;\n    }\n    // Output to screen\n    fragColor = vec4(energy, 1.0);\n}","name":"Image","description":"","type":"image"}]}