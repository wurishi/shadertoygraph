{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n\tfragColor = vec4(0., 0.1, 0., 1.);\n}","name":"Image","description":"","type":"image"},{"outputs":[],"inputs":[],"code":"#define PI    (3.1415926536)\n#define TWOPI (6.2831853072)\n\n//    if (time > 1.0) {\n//\t\tsig += vec2( sin(TWOPI*550.0*time)*exp(-3.0*time - 1.0) );   \n//    }\n\nfloat note2Freq(float note)\n{\n    if (note == 0.0) return 0.0;\n\n    return 16.35 * pow(1.059463, note);\n}\n\nfloat noise(float phi)\n{\n    return fract(sin(phi * 0.011753) * 122.3762) * 2.0 - 1.0;\n}\n\nfloat square(float time, float freq) {\n    \n    return sin(time * TWOPI * freq) > 0.0 ? 1.0 : -1.0;\n}\n\nfloat sine(float time, float freq) {\n    \n    return sin(time * TWOPI * freq);\n}\n\nvec2 pan(vec2 sig, float pan) {\n\n    sig.x *= pan;\n    sig.y *= (1.0 - pan);\n    \n    return sig;\n}\n\n\nvec2 autopan(float time, vec2 sig, float freq) {\n    float panSin = sine(time, freq);\n    \n    return pan(sig, (panSin + 1.0) / 2.0);\n}\n\n\n\nvec2 sineLoop(float time, float freq, float rhythm) {\n    vec2 sig;\n    float loop = fract(time * rhythm);\n    \n    float modFreq = freq + (sine(time, 7.0));\n    \n    sig += vec2( sine(time, freq) * exp(-3.0*loop) );\n    sig += vec2( square(time, freq/2.0) * exp(-3.0*loop) ) *0.2;\n    \n    return autopan(time, sig, rhythm * 0.3);\n}\n\n\nvec2 chimeTrack(float time) {\n    vec2 sig;\n    sig += sineLoop(time, 1730.0, 0.44) * 0.2;\n    sig += sineLoop(time, 880.0, 1.0);\n    sig += sineLoop(time, 990.0, 0.3) * 0.4;\n    sig += sineLoop(time, 330.0, 0.4);\n    sig += sineLoop(time, 110.0, 0.1);\n    sig += sineLoop(time, 60.0, 0.05);\n    \n    sig /= 6.0;\n    \n    return sig;\n}\n\nvec2 singleChime(float time) {\n    return chimeTrack(time) * 2.0;\n}\n\nvec2 multiChime(float time) {\n    vec2 sig;\n    sig += chimeTrack(time) * 2.0;\n    sig += (chimeTrack(time*3.0))*1.0 * (sine(time, 0.13) + 1.0);\n    sig += (chimeTrack(time*4.0))*1.0 * (sine(time, 0.1) + 1.0);\n    return sig;\n}\n\n\nvec2 squareBall(float time) {\n    vec2 sig;\n    \n    sig += square(time, 100.0 + sine(time, 2.0));\n    sig += square(time, 110.0 + sine(time, 2.1));\n    \n    return sig;\n}\n\nvec2 squareBallBall(float time) {\n    vec2 sig;\n    sig += squareBall(time) * sine(time, 0.1);\n    sig += squareBall(time*3.0) * sine(time+44100.0, 0.11);\n    sig += squareBall(time*4.0) * sine(time+44100.0, 0.12);\n    return sig;\n}\n\n\nvec2 squareSweep(float time, float low, float high) {\n    vec2 sig;\n    \n    float sweepTime = clamp(time, 0.0, 1.0);\n    sweepTime = smoothstep(0.0, 1.0, sweepTime);\n    \n    float freq = low + (sweepTime * (high - low) );\n    \n    freq += sine(time, 1.0);\n    \n    sig += vec2( square( time, freq ) );\n    \n    return sig;\n}\n\nvec2 squareSweepTrack(float time) {\n    vec2 sig;\n    \n    sig += squareSweep(time, note2Freq(60.0), note2Freq(72.0));\n//    sig += squareSweep(time, note2Freq(60.0), note2Freq(79.0));\n//    sig += squareSweep(time, note2Freq(60.0), note2Freq(78.0));\n    \n//    sig += squareSweep(time, note2Freq(73.0), note2Freq(58.0));\n//    sig += squareSweep(time, note2Freq(75.0), note2Freq(61.0));\n//    sig += squareSweep(time, note2Freq(74.0), note2Freq(65.0));\n        \n    return sig;\n}\n\nvec2 mainSound( in int samp,float time) {\n    \n    vec2 sig;\n \t\n\n//  sig += singleChime(time);\n    \n//  sig += multiChime(time);\n\n//\tsig += squareBallBall(time);\n    \n    sig += squareSweepTrack(time);\n    \n//    sig += sin(TWOPI * time * 440.0);\n    \n//\ttime -= iSampleRate/6.0;\n//    sig += chimeTrack(time) * 2.0;\n//    sig += (chimeTrack(time*3.0))*1.0 * (sine(time, 0.13) + 1.0);\n//    sig += (chimeTrack(time*4.0))*1.0 * (sine(time, 0.1) + 1.0);\n    \n//    time -= iSampleRate/6.0;\n//    sig += chimeTrack(time) * 2.0;\n//    sig += (chimeTrack(time*3.0))*1.0 * (sine(time, 0.13) + 1.0);\n//    sig += (chimeTrack(time*4.0))*1.0 * (sine(time, 0.1) + 1.0);\n    \n    sig /= vec2(50);\n    return sig;\n}","name":"Sound","description":"","type":"sound"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":true,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"lt23zz","date":"1426721644","viewed":164,"name":"chimes-scratch","username":"lukexi","description":"chimes testing","likes":2,"published":1,"flags":8,"usePreview":0,"tags":["sound"],"hasliked":0,"parentid":"","parentname":""}}