{"ver":"0.1","info":{"id":"3lGfzz","date":"1613731281","viewed":421,"name":"CGI Planet","username":"Zerofile","description":"why not","likes":26,"published":1,"flags":0,"usePreview":0,"tags":["planet"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XsfGRn","filepath":"/media/a/1f7dca9c22f324751f2a5a59c9b181dfe3b5564a04b724c657732d0bf09c99db.jpg","previewfilepath":"/media/ap/1f7dca9c22f324751f2a5a59c9b181dfe3b5564a04b724c657732d0bf09c99db.jpg","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4sfGRn","filepath":"/media/a/fb918796edc3d2221218db0811e240e72e340350008338b0c07a52bd353666a6.jpg","previewfilepath":"/media/ap/fb918796edc3d2221218db0811e240e72e340350008338b0c07a52bd353666a6.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"Xsf3zn","filepath":"/media/a/f735bee5b64ef98879dc618b016ecf7939a5756040c2cde21ccb15e69a6e1cfb.png","previewfilepath":"/media/ap/f735bee5b64ef98879dc618b016ecf7939a5756040c2cde21ccb15e69a6e1cfb.png","type":"texture","channel":2,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    uv -= 0.5;\n    uv.x *= iResolution.x/iResolution.y;\n    uv /= 1.2;\n    uv += 0.5;\n    \n    vec2 planetUv = (uv-vec2(0.5))*2.;\n    float depth = sqrt(1.-pow(length(planetUv),2.));\n    float oldX = planetUv.x;\n    planetUv.x = atan(depth/oldX)+iTime/20.;\n    if (oldX < 0.) {planetUv.x += 3.141592653;}\n    planetUv.y = pow(planetUv.y,1.0);\n\n    vec3 col = texture(iChannel1,(planetUv+0.5)*0.2).rgb;\n    float col2 = pow(length(texture(iChannel0,(planetUv+0.5)*0.2).rgb),2.);\n    col = mix(col,vec3(1.,0.8,0.7)*0.8,col2);\n    \n    if (length(uv-0.5) > 0.5) {\n        col = vec3(0.);\n    }\n    \n    col *= clamp(dot(vec3((uv-vec2(0.5))*2.,depth),normalize(vec3(1.,0.5,1.))),0.,1.);\n    float dirMul = pow(clamp(dot(normalize((uv-vec2(0.5))*2.),normalize(vec2(1.,0.5))),0.,1.),0.9);\n    col = mix(mix(vec3(0.8,0.7,0.6),col,1.-dirMul),col,pow(abs(length(uv-vec2(0.5))*2.-1.),0.7));\n\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}