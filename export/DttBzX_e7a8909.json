{"ver":"0.1","info":{"id":"DttBzX","date":"1707252614","viewed":80,"name":"circle visualizer","username":"MonadoMaster0","description":"Simple circle visualizer for music","likes":3,"published":1,"flags":64,"usePreview":0,"tags":["music","circle"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"Md3GzX","filepath":"https://soundcloud.com/infectedmushroom/release-me-reborn","previewfilepath":"https://soundcloud.com/infectedmushroom/release-me-reborn","type":"musicstream","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":0}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"mat2 rot(float angle) {\n    float c=cos(angle), s=sin(angle);\n    return mat2(c, -s, s, c);\n    }\n\nvec3 pal( in float t, in vec3 a, in vec3 b, in vec3 c, in vec3 d )\n{\n    return a + b*cos( 6.28318*(c*t+d) );\n}\n\nfloat circle(vec2 uv, float r, float thickness, float fade) {\n    float d = length(uv);\n    float circle = smoothstep(r, r+fade, d);\n    circle -= smoothstep(r+thickness,r+thickness+fade,d);\n    return circle;\n    }\n\nfloat vec2rand(vec2 p) {\n    float n = dot(p, vec2(13.96, 72.18));\n    return fract(sin(n)*36012.8367);\n    }\n\nvec2 randVec(vec2 uv) {\n    float a = fract(sin(dot(uv,vec2(-72.1254,33.9164))*26243.02)),\n          b = fract(sin(dot(uv,vec2(27.1254,3.9164)))*43623.15);\n    return vec2(a,b);\n    }\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = (fragCoord-0.5*iResolution.xy)/iResolution.y;\n    uv *= 1.;\n    \n    float d = length(uv),\n          r = 0.5;\n    vec2 av = uv;\n    vec2 RV = randVec(uv);\n    float a = atan(av.x,av.y),\n          b = atan(av.x,av.y);\n    float n = vec2rand(uv);\n    \n    float sound = texture(iChannel0, vec2(10,0.25)).x+0.3;\n    float sound2 = texture(iChannel0, vec2(d,0.25)).x-0.3;\n    \n    \n    r += sin(a*10.+sound*100.)*0.1*sin(iTime*20.*sound)*mix(0.4,1.0,n)*sound;\n    r += cos(b*10.+sound*100.)*mix(0.04,0.01,n)*sound+sin(a+iTime*10.)*0.1*sound;\n    //r = sin(r*1.+0.01);\n    float c = circle(uv, r*sound, 0.008, 0.0)+smoothstep(0.1,1.0,sound2);\n    \n    vec3 col = vec3(c);\n    vec3 altCol = vec3(c);\n    vec4 c1 = vec4(rot(iTime)*altCol.xy, rot(iTime)*altCol.yz);\n    \n    \n    vec3 finalCol = pal(\n        0.3/abs(c),\n        vec3(0.278, -0.832, -0.772),\n        vec3(-2.505, -3.14, 3.04),\n        vec3(6.824, -0.824, 0.832),\n        vec3(1.025, -1.812, -0.192)\n        );\n    \n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}