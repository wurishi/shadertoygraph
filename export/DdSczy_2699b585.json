{"ver":"0.1","info":{"id":"DdSczy","date":"1687816810","viewed":111,"name":"Bumpy Julia set","username":"DeltaT","description":"Normal mapped orbit trap plot of Julia sets, drag mouse to change C","likes":11,"published":1,"flags":32,"usePreview":0,"tags":["fractal","julia","mandelbrot","juliaset"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec3 getNormal(vec2 p) {\n    vec2 e = vec2(0.001, 0);\n    float d = texture(iChannel0, p).r;\n    \n    float r = texture(iChannel0, p+e.xy).x;\n    float g = texture(iChannel0, p+e.yx).x;\n    float b = (texture(iChannel0, p)+e.x).x;\n    return normalize(vec3(r, g, b)-d);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord/iResolution.xy);\n    vec3 n = getNormal(uv);\n    vec3 col = vec3(n.x/2. + 0.5, n.y/2. + 0.5, n.z/2. + 0.5);\n    fragColor = vec4(col, 1.0);\n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[{"id":"4dXGR8","channel":0}],"code":"#define MAX_ITER 256\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec3 col = vec3(0);\n    \n    vec2 c = ((iMouse.xy * 2. - iResolution.xy) / iResolution.y) * 1.2;\n    if (iMouse.xy == vec2(0)) { c = vec2(-0.753, 0.044); }\n    vec2 z = ((fragCoord * 2. - iResolution.xy) / iResolution.y) * 1.2;\n    float trapDist = 0.;\n    vec2 zold = vec2(0);\n    for (int i = 0; i < MAX_ITER; i++) {\n        zold = z;\n        z = vec2(z.x*z.x - z.y*z.y, 2.*z.x*z.y) + c;\n        if (i == 0 || length(z) < trapDist) {\n            trapDist = length(z);\n        }\n        if (length(z) > 2. || z == zold) { break; }\n    }\n    col = vec3(trapDist);\n    \n    fragColor = vec4(col, 1);\n}","name":"Buffer A","description":"","type":"buffer"}]}