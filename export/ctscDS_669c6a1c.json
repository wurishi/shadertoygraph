{"ver":"0.1","info":{"id":"ctscDS","date":"1691126423","viewed":45,"name":"任意角度线段的SDF","username":"Leslie","description":"IQ大佬果然牛逼，本例中充分利用了三角函数与向量的特性，令人大开眼界！","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["2d"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec3 clrDist(float dist)\n{\n    vec3 col = (dist>0.0) ? vec3(0.9,0.6,0.3) : vec3(0.65,0.85,1.0);\n    col *= 1. - exp(-6.*abs(dist));\n    col *= 1. + 0.2*sin(150.*abs(dist));\n    col = mix(col, vec3(1.), smoothstep(0.01, 0., abs(dist)));\n    return col;\n}\n\nfloat sdSegment( in vec2 p, in vec2 a, in vec2 b )\n{\n    vec2 pa = p-a, ba = b-a;\n    float h = clamp( dot(pa,ba)/dot(ba,ba), 0.0, 1. );\n    return length( pa - ba*h );\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float scale = min(iResolution.x, iResolution.y);\n    vec2 p = (2.*fragCoord-iResolution.xy)/scale;\n    vec2 a = vec2(0., 0.);\n    vec2 b = vec2(sin(iTime*.7), cos(iTime*.75));\n    \n    float dist = sdSegment(p, a, b);\n    vec3 clr = clrDist(dist);\n    fragColor = vec4(clr, 1.);\n}\n","name":"Image","description":"","type":"image"}]}