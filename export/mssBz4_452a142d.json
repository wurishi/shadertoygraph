{"ver":"0.1","info":{"id":"mssBz4","date":"1688541016","viewed":48,"name":"voronoi_banding","username":"graygoose","description":"playing with voronoi stuff","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["fractal","voronoi","interference","frequency"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define MAX_ITERATIONS int(400.*abs(cos(iTime*0.1)))\n#define SCALE 1.0\n\nvec2 hash2(vec2 p) {\n    vec2 o = vec2(dot(p, vec2(127.1, 311.7)), dot(p, vec2(269.5, 183.3)));\n    return fract(sin(o) * 43758.5453123);\n}\n\nvec2 voronoi(vec2 x) {\n    vec2 p = floor(x),\n     f = fract(x),\n     res = vec2(8.);\n     \n    for(int j=-1; j<=1; j++) {\n        for(int i=-1; i<=1; i++) {\n            vec2 b = vec2(i,j),\n             r = vec2(b) - f + hash2(p + b);\n            float d = dot(r, r);\n\n            if(d < res.x) {\n                res.y = res.x;\n                res.x = d;\n            }\n            else if(d < res.y) {\n                res.y = d;\n            }\n        }\n    }\n    return sqrt(res);\n}\n\nvoid mainImage(out vec4 O, in vec2 U) {\n    vec2 p = 0.5 + (U/iResolution.xy-0.5)*2.0,\n     w = p, d;\n     \n    for(int i=0; i<MAX_ITERATIONS; i++) {\n        d = voronoi(p);\n        w += 0.5*(d.x+d.y)*p;\n    }\n    \n    O = vec4(0.5 + 0.5*cos(iTime + w.xyx + vec3(0,2,4)),1.0);\n}\n","name":"Image","description":"","type":"image"}]}