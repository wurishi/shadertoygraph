{"ver":"0.1","info":{"id":"NtGBzc","date":"1664900357","viewed":126,"name":"Artober - Circuit dance","username":"Flopine","description":"Day 4 of artober for me! Still exploring truchet pattern, they are so versatile!","likes":5,"published":1,"flags":0,"usePreview":1,"tags":["2d","truchet","pattern","multiscale","everyday"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGzn","filepath":"/media/a/0c7bf5fe9462d5bffbd11126e82908e39be3ce56220d900f633d58fb432e56f5.png","previewfilepath":"/media/ap/0c7bf5fe9462d5bffbd11126e82908e39be3ce56220d900f633d58fb432e56f5.png","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Code by Flopine\n\n// Thanks to wsmind, leon, XT95, lsdlive, lamogui, \n// Coyhot, Alkama,YX, NuSan, slerpy, wwrighter \n// BigWings, FabriceNeyret and Blackle for teaching me\n\n// Thanks LJ for giving me the spark :3\n\n// Thanks to the Cookie Collective, which build a cozy and safe environment for me \n// and other to sprout :)  \n// https://twitter.com/CookieDemoparty\n\n\n#define PI acos(-1.)\n\n#define Length(u,k) pow(pow(u.x, k)+pow(u.y, k), 1./k)\n#define circle(u,s, k) (Length(u, k)-s)\n#define AAstep(thre, val) smoothstep(-.7,.7,(val-thre)/min(0.02,fwidth(val-thre)))\n\n#define noise(u) textureLod(iChannel0,u, 0.).x\n#define swi(t) floor(sin(t*PI)+1.)\n\nfloat truchet (vec2 uv)\n{\n    vec2 id = floor(uv);    \n    uv = fract(uv)-.5; \n    vec2 uu = uv;\n    float s, d,a, \n    k = 1.001,\n    r = .5;\n    \n    if (noise(id*0.75+iTime*0.005) > .5) uv.x *= -1.;\n    \n    if (noise(id*0.02) < .5)\n    {\n        uv = mod(uv,0.5)-.25;\n        s = uv.x > -uv.y ? 1.: -1.;\n        uv -= s*.25;\n        d = 1.-AAstep(0.1, abs(circle(uv,r/2., k))); \n    }\n    \n    else\n    {\n        s = uv.x > -uv.y ? 1.: -1.;\n        uv -= s*.5;\n        d = AAstep(0.15, abs(circle(uv,r, k)));\n        uu = abs(uu)-.5;\n        d *= AAstep(0.01,circle(abs(uu), .14, k));\n    }  \n    return d;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (2.*fragCoord-iResolution.xy)/iResolution.y;\n    \n    float usize = (swi(iTime*0.25)<.5)? 4. : 2.;\n    uv *= usize;\n    \n    vec3 col = vec3(truchet(uv))+.4;\n    col *= mix(col, vec3(0.25,0.25,0.),truchet(uv+.5));\n    col *= mix(col, vec3(0.3,1.,0.5),truchet(uv-.5));\n\n    fragColor = vec4(sqrt(col),1.0);\n}","name":"Image","description":"","type":"image"}]}