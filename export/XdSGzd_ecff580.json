{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[{"channel":0,"type":"texture","id":"XdfGRn","filepath":"/media/a/e6e5631ce1237ae4c05b3563eda686400a401df4548d0f9fad40ecac1659c46c.jpg","sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"}}],"code":"vec2 offsetPos(vec2 pos, float t, float d)\n{\n\tpos.x += t/d;\n\tpos.y = min(pos.y*t, 1.0);\n\treturn pos;\n}\n\nfloat triangle(float x, float w) {\n\treturn (w-abs(mod(max(x,-x),2.0*w)-w))/w;\n}\n\nvec3 getTexel(vec2 uv) {\n\tvec3 val = texture(iChannel0, uv*0.75).rgb;\n\tval *= val.bgr * 2.2;\n\treturn val;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec4 finalColor;\n\tfloat t = fract(iTime*0.025);\n\tvec2 tc = (fragCoord.xy/iResolution.xy)-0.5;\n    tc.x *= iResolution.x/iResolution.y;\n\tvec2 pol = vec2(atan(tc.x,tc.y),length(tc));\n\tfloat dist = smoothstep(0.0, 1.0, pol.y*2.0);\n\n\tvec2 pol2 = mix(offsetPos(pol, t, dist), pol, dist);\n\ttc = vec2(sin(pol2.x),cos(pol2.x))*(pol2.y+0.002/pol2.y) + vec2(0.5);\n\tfinalColor.r = triangle(t, 0.5)*getTexel(tc).r;\n\ttc = vec2(sin(pol2.x),cos(pol2.x))*(pol2.y+0.001/pol2.y) + vec2(0.5);\n\tfinalColor.g = triangle(t, 0.5)*getTexel(tc).g;\n\ttc = vec2(sin(pol2.x),cos(pol2.x))*pol2.y + vec2(0.5);\n\tfinalColor.b = triangle(t, 0.5)*getTexel(tc).b;\n\n\tpol2 = mix(offsetPos(pol, fract(t+0.5), dist), pol, dist);\n\ttc = vec2(sin(pol2.x),cos(pol2.x))*(pol2.y+0.002/pol2.y) + vec2(0.5);\n\tfinalColor.r += triangle(t+0.5, 0.5)*getTexel(tc).r;\n\ttc = vec2(sin(pol2.x),cos(pol2.x))*(pol2.y+0.001/pol2.y) + vec2(0.5);\n\tfinalColor.g += triangle(t+0.5, 0.5)*getTexel(tc).g;\n\ttc = vec2(sin(pol2.x),cos(pol2.x))*pol2.y + vec2(0.5);\n\tfinalColor.b += triangle(t+0.5, 0.5)*getTexel(tc).b;\n\n\tfinalColor.r *= smoothstep(0.3, 0.325, dist)/dist;\n\tfinalColor.g *= smoothstep(0.3, 0.45, dist)/dist;\n\tfinalColor.b *= smoothstep(0.3, 0.6, dist)/dist;\n\tfinalColor.a = 1.0;\n\tfragColor = finalColor;\n}\n","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"XdSGzd","date":"1392057570","viewed":372,"name":"I'm in spaaaaaace","username":"Yaniel","description":"A black hole effect originally written for a game but never used there. Tweaked it a bit later on and dumped it here for now.","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["2d","deform","postprocess","redshift"],"hasliked":0,"parentid":"","parentname":""}}