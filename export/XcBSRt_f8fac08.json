{"ver":"0.1","info":{"id":"XcBSRt","date":"1706746525","viewed":69,"name":"HSV - RGB","username":"davidkimighty","description":"hsb","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["hsb"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float drawBox(vec2 uv, float x, float y)\n{\n    return step(-x,uv.x)*step(uv.x,x)*step(-y,uv.y)*step(uv.y,y);\n}\n\nvec3 hsv2rgb(vec3 c)\n{\n    vec4 k = vec4(1.0,2.0/3.0,1.0/3.0,3.0);\n    vec3 p = abs(fract(c.xxx+k.xyz)*6.0-k.www);\n    return c.z*mix(k.xxx,clamp(p-k.xxx,0.0,1.0),c.y);\n}\n\nfloat gaussian(float uvx, float m, float sd)\n{\n    return exp(-(uvx-m)*(uvx-m)/(2.0*sd*sd));\n}\n\nfloat expImpulse(float x, float k)\n{\n    float h = k*x;\n    return h*exp(1.0-h);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord-0.5*iResolution.xy)/iResolution.y;\n    \n    vec3 bg = vec3(12,12,12)/255.0;\n    vec3 lc = vec3(64,64,64)/255.0;\n    vec3 hc = vec3(179,179,179)/255.0;\n    \n    vec2 cp = vec2(0.0,0.0);\n    float ib = drawBox(uv-cp,0.55,0.06);\n    float ob = drawBox(uv-cp,0.553,0.063);\n\n    float hsv1m = expImpulse(sin(iTime),0.2);\n    float hsv2m = expImpulse(sin(iTime-0.6),0.2);\n    float hsv3m = expImpulse(sin(iTime-1.2),0.2);\n\n    float g1 = gaussian(uv.x,hsv1m,0.2);\n    float g2 = gaussian(uv.x,hsv2m,0.3);\n    float g3 = gaussian(uv.x,hsv3m,0.2);\n    \n    vec3 hsv1 = hsv2rgb(vec3(0.0,1.0,g1));\n    vec3 hsv2 = hsv2rgb(vec3(0.3,1.0,g2));\n    vec3 hsv3 = hsv2rgb(vec3(0.6,1.0,g3));\n    \n    vec3 hsv = hsv1+hsv2+hsv3;\n    vec3 line = mix(lc*ob,hc,g1+g2+g3);\n    hsv = mix(line,hsv,ib);\n    \n    vec3 color = mix(bg,hsv,ob);\n    fragColor = vec4(color,1);\n}","name":"Image","description":"","type":"image"}]}