{"ver":"0.1","info":{"id":"XdGSzG","date":"1464968117","viewed":974,"name":"Fluid Fields2","username":"akohdr","description":"Follow up to Fluid Fields with some ideas from 2Tweet Water Caustic\nAdded basic mouse variation of colour and pattern.","likes":31,"published":1,"flags":0,"usePreview":0,"tags":["2d","caustic","golf"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Created by Andrew Wild - akohdr/2016\n// License Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.\n\n// Of course you could just go up a dim and hold everything in mat4\n\n#define F length(fract(m[3]*=m*=.4-k.w++)-.5)\n\nvoid mainImage(out vec4 k, vec2 p)\n{\n    mat4 m = mat4( -1, 2,-2, 0,\n                   -2, 1, 3, 0,\n                    3, 2, 1, 0,\n                   .02*p, iDate.ww );\n\n\tif(iMouse.z>0.) {\t\t\t\t\t\t// mouse XY provides variation to colour and pattern\n\t    vec2 im = iResolution.xy/iMouse.xy;\n    \tfloat r = im.x/im.y, \n              s = r-1./r;\n        \n\t\tm *= mat4( 1, 0, 0, 0,\n               \t   0, 1, 0, 0,\n                   s, 0, r, 0,\n                   0, 0, 0, 1 );\n    }\n\n    \n    k.w = 0.; k = min(min(F,F),F)/m[2];\n//    k -= k; k = min(min(F,F),F)/m[2];\n//    k = -k+min(min(F,F),F)/m[2];\t\t\t// YMMV but on my box either of last two look best\n//    k = min(min(F,F),F)/m[2]-k;\t\t\t\t\n}\n\n\n\n\n\n\n/* contributors to drop in length\n\t\tk.w replaces float d\n\t\t.01 replaces iResolution.yy\n\t\tm[2] replaces 2.* ... -m[2]\n\t\t.xyzw replaces vec4()\n*\n\n#define F length(fract(q*=m*=.4-k.w++)-.5)\n\nvoid mainImage(out vec4 k, vec2 p)\n{\n    vec3 q = vec3(.01*p, iDate.w);\n    \n    mat3 m = mat3( -1, 2,-2,\n                   -2, 1, 3,\n                    3, 2, 1 );\n\n    k = min(min(F,F),F)/m[2].xyzx;\n}\n*/\n\n","name":"Image","description":"","type":"image"}]}