{"ver":"0.1","info":{"id":"mlGcDV","date":"1700668019","viewed":40,"name":"[hrst4.xyz] Mandelbrot","username":"hrst4","description":"[hrst4.xyz] Mandelbrot","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["mandelbrot"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// from\n// https://arukiap.github.io/fractals/2019/06/02/rendering-the-mandelbrot-set-with-shaders.html\n// trad fr:\n// https://hrst4.xyz/rendering-mendelbrot/\n\n// TODO\n// implement this for colors\n// https://arnestenkrona.github.io/blog/2021/03/04/Mandelbrot-in-Shadertoy\n#define maxIterations 200.   \n\nconst vec3 palette[8] = vec3[8](\n    vec3(0.0, 0.0, 0.0),\n    vec3(0.5, 0.5, 0.5),\n    vec3(1.0, 0.5, 0.5),\n    vec3(0.5, 1.0, 0.5),\n    vec3(0.5, 0.5, 1.0),\n    vec3(0.5, 1.0, 1.0),\n    vec3(1.0, 0.5, 1.0),\n    vec3(1.0, 1.0, 0.5)\n);\n\n\nvec2 squareImaginary(vec2 _in){\n    // or just do return mat2(z,-z.y,z.x ) * z ( by deMoivre formula )\n\t// thx FabriceNeyret2\n\treturn vec2(\n        _in.x*_in.x-_in.y*_in.y,\n\t\t2.*_in.x*_in.y\n\t);\n}\n\nfloat iterateMandelbrot(vec2 coord){\n\tvec2 z = vec2(0,0);\n    float i = 0.;\n\tfor(i=0. ;i<maxIterations;i++){\n        // formule mendelbrot\n\t\tz = squareImaginary(z) + coord; // coord == constant (pixel coord)\n        // diverge ?\n        // cheaper to do this (TODO: see dot product formula)\n        if(dot(z,z)>4.) return i/maxIterations;\n\t\t// than\n        //if(length(z)>2.) return i/maxIterations;\n\t}\n    // from ixtam\n    // https://www.shadertoy.com/view/DdtfzH\n    // Mapper le nombre d'itérations à une valeur de gris\n    // converge\n    float colorValue = 1.; // same as i / maxIterations;\n    return colorValue;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = ( 2.*fragCoord - iResolution.xy) /iResolution.y;\n    //uv.x-=.5; // center shape\n    float mandelbrot = iterateMandelbrot(uv);\n    fragColor = vec4(vec3(mandelbrot),1.);\n}","name":"Image","description":"","type":"image"}]}