{"ver":"0.1","info":{"id":"dsKXzw","date":"1680889041","viewed":96,"name":"Nome on the unit disk","username":"zenzicubic","description":"Domain coloring of the modular discriminant Δ(τ) on the unit (Poincare) disk\nScraped off a few chars thanks to Fabrice","likes":9,"published":1,"flags":0,"usePreview":0,"tags":["complex","modular","nome"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define TAU 6.283187\n#define ON vec2(1,0)\n\n// Complex utility functions\n#define itm(z) vec2(-z.y, z.x)\n#define cs(t) vec2(cos(t), sin(t))\n#define cmul(a,b)  mat2(a, -(a).y, a) * (b)\n#define ci(z) vec2((z).x, -(z).y) / dot(z, z)\n#define cdiv(a, b) cmul(a, ci(b))\n#define cx(z) exp(z.x) * cs(z.y)\n#define cpowf(z, n) pow(length(z), n) * cs(n * atan((z).y, (z).x))\n\nvec2 eta(vec2 tau) \n{\n    // The infinite product for the Dedekind eta function\n    vec2 q = cx(TAU * itm(tau)), p = cpowf(q, 1./24.);\n    for (float i = 1.; i < 3e2; i ++)\n    {\n        p = cmul(p, ON- cpowf(q, i));\n    }\n    return p;\n}\n\n#define f(z) cpowf(eta(z) * sqrt(TAU), 24.);\n\nvec3 coord(vec2 z) \n{\n\t// Calculate the function\n\tvec2 v = f(z);\n\treturn (.5 + .5 * cos(atan(v.y, v.x) + TAU * vec3(0,.1,.2))) * // color and brightness\n           (.5 + .5 * fract(log(length(v))));\n}\n\n#define R iResolution\nvoid mainImage( out vec4 k, in vec2 c)\n{\n    // Coordinates of the display\n    vec2 z = (c + c - R.xy) / R.y;\n\n    // Map to the Poincare disk and draw\n    z = cdiv(z - ON, vec2(0,1) + itm(z));\n    z.x += iTime/4.;\n    k = vec4(coord(z), 0);\n}","name":"Image","description":"","type":"image"}]}