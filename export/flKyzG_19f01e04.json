{"ver":"0.1","info":{"id":"flKyzG","date":"1661717963","viewed":1911,"name":"HellCarting Golf [538 Chars]","username":"Xor","description":"Trying to shrink [url=https://www.shadertoy.com/view/Ms2fWW]Trisomie21's shader[/url].","likes":28,"published":1,"flags":0,"usePreview":0,"tags":["golf"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XsfGzn","filepath":"/media/a/585f9546c092f53ded45332b343144396c0b2d70d9965f585ebc172080d8aa58.jpg","previewfilepath":"/media/ap/585f9546c092f53ded45332b343144396c0b2d70d9965f585ebc172080d8aa58.jpg","type":"cubemap","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"false","srgb":"false","internal":"byte"},"published":1},{"id":"Xsf3zn","filepath":"/media/a/f735bee5b64ef98879dc618b016ecf7939a5756040c2cde21ccb15e69a6e1cfb.png","previewfilepath":"/media/ap/f735bee5b64ef98879dc618b016ecf7939a5756040c2cde21ccb15e69a6e1cfb.png","type":"texture","channel":1,"sampler":{"filter":"linear","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"///Original [810 chars]: https://www.shadertoy.com/view/Ms2fWW\n/*\n    Attempting to shrink @Trisomie21's neat shader.\n    \n    -29 from FabriceNeyret2\n    -47 after\n*/\n/**/\n#define P(x,k) texture(iChannel1, (x-(f = fract(x)) k+vec2(37,17)+.5) / 256.)\n\n#define S P(p.z/vec2(25,10), +f*f*(3.-f-f)) * vec4(6,9,0,0)\n\nvoid mainImage(out vec4 o, vec2 f)\n{\n    vec4  p = vec4(f/iResolution.xy, iTime*8., 0) - .5, \n          d = p.xyww*.5, t, c;\n    \n    float i = 150., x=i;\n    for(p -= S; --i>0. && x > .01; p -= d*x)\n    \n        x = P(p.zz/4.-.5,) [p.x>0.?0:1] *4.-.5,\n        t = abs(mod(c = p+S, 8.) - 4.),\n        o = abs(t.x-2.7)<.1 && c.y>0. ? .8+p-p :\n            texture(iChannel0, (c.y*t.x > 3. ? t.zxy : t.yzx)-3.),\n        x = min(t.z<2. ? t : t + ceil( x<3. ? x : 10.)*.1, t.y).x - o.x;\n\n     o = p.wyyw*.02 \n       +  i/p.w/1e3\n       * (t.x<.8 && 2.8<t.z || 2.8<t.x && c.y>0.? o*vec4(13,7,3,1) \n                                                : o*13. );\n}\n/**/\n//546 char version:\n/**\n#define P(x) texture(iChannel1, ((f = fract(x))*f*(3.-f-f)-f+x+vec2(37,17)+.5) / 256.)\n\n#define S P(p.z/vec2(25,10)) * vec4(6,9,0,0)\n\nvoid mainImage(out vec4 o, vec2 f)\n{\n    vec4  p = vec4(f/iResolution.xy, iTime*8., 0) - .5, \n          d = p.xyww*.5, t, c;\n    \n    float i = 150., x=i;\n    for(p -= S; --i>0. && x > .02; p -= d*x)\n    \n        x = ceil( P(floor(p.zz/4.-.5))  [p.x>0. ? 0 : 1] *4.-.5 )*.1,\n        t = abs(mod(c = p+S, 8.) - 4.),\n        o = abs(t.x-2.7)<.1 && c.y>0. ? .8+p-p :\n            texture(iChannel0, (c.y*t.x > 3. ? t.zxy : t.yzx)-3.),\n        x = min(t.z<2. ? t : x<.4 ? t+x : t+1., t.y).x - o.x;\n\n     o = p.wyyw*.02 \n       + o * i/p.w/1e2 \n       * (t.x<.8 && 2.8<t.z || 2.8<t.x && c.y>0. ? vec4(1.3,.7,.3,1) \n                                                : p-p+1.3 );\n}\n/**/\n//FabriceNeyret2's 593 version (color incorrect):\n/**\nvec2 X, f;\n#define P(x) ( f = modf(x+vec2(37,17), X),                 \\\n\t          texture(iChannel1, (X+.5 + f*f*(3.-f-f)) / 256.) )\n\n#define S P(p.z/vec2(25,10)) * vec4(6,9,0,0)\n\nvoid mainImage(out vec4 o, vec2 C)\n{\n    vec4  p = vec4(C/iResolution.xy, iTime*8., 0) - .5, \n          d = p.xyww, t, c, s;\n    float i = 150., x=i, r;\n    for(p -= S; --i>0. && x > .02; p -= d*x*.5 )\n        x = ceil( P(floor(p.z/4.-.5))  [p.x>0.?0:1] *4.-.5 )*.1,\n        t = abs(mod(c = p+S, 8.) - 4.),\n        r = abs(t.x-2.7)<.1 && c.y>0. ? 1. : 0., // bool\n        s = texture(iChannel0, (c.y*t.x > 3. ? t.zxy : t.yzx)-3.),\n        x = min(t.x+( mod(p.z-2., 8.)<4. ? 0. : x<.4 ? x : 1.), t.y) \n           - ( r>0. ? .8 : s.x );\n\n     o = p.wyyw*.02 \n       + (s + (.8-s) * r) * i/p.w/1e2 \n       * ( t.x<.8 && 2.8<min(t.z,t.x) && 0.<c.y ? vec4(1.3,.7,.3,1) \n                                                : p-p+1.3 );\n}\n/**/\n\n\n//Xor's 615 char version:\n/**\nvec2 P(vec2 x)\n{\n    vec2 f = modf(x+vec2(37,17), x);\n\treturn texture(iChannel1, (x+.5 + f*f*(3.-f-f)) / 256.).xy;\n}\n\n#define S vec4(P(p.z/vec2(25,10))*vec2(6,9), 0, 0)\n\nvoid mainImage(out vec4 o, vec2 C)\n{\n    vec4 p = vec4(C/iResolution.xy, iTime*8., 0) - .5, d = p.xyww, t, c, s;\n    float i = 1.5, x=i, r;\n    for(p -= S; i>0. && x > .02; i-=.01)\n    {\n        x = ceil(P(floor(p.zz/4.-.5))[p.x>0.?0:1]*4.-.5)*.1,\n        t = abs(mod(c = p+S, 8.) - 4.),\n        r = abs(t.x-2.7)<.1 && c.y>0. ? 1. : 0.,\n        s = texture(iChannel0, (c.y*t.x > 3. ? t.zxy : t.yzx)-3.),\n        x = min(t.x+(mod(p.z-2., 8.)<4. ? 0. : x<.4 ? x : 1.), t.y) - s.x * (1.-r) - r*.8;\n        p -= d*x*.5;\n     }\n     o = p.wyyw*.02 + 1.3 * (s + (.8-s) * r) * i/p.w *\n     (1.-vec4(0,.5,.8,0) * vec4(t.x<.8 && 2.8<t.z || 2.8<t.x && 0.<c.y));\n}\n/**/","name":"Image","description":"","type":"image"}]}