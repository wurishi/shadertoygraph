{"ver":"0.1","info":{"id":"WtyBWm","date":"1614400200","viewed":62,"name":"hexagonal tiling decoded","username":"BigotedSJW","description":"trying to understand what exactly FabriceNeyret2 was up to in https://www.shadertoy.com/view/ldcXW8\n-- feeling incredibly dumb while doing so","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["2d","simple","hexagon"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//\"reverse compilation\" of the first draft of https://www.shadertoy.com/view/ldcXW8\n\nconst float PI = float(0xC90FDB) * exp2(-22.);\nconst vec2 SKEW = vec2(1./sqrt(3.), .15);\n\nfloat grid(vec2 uv){\n    uv += SKEW*uv.y;\n    vec2 grid = step(fract(uv + vec2(0.025)), vec2(.05));\n    \n    return max(grid.x, grid.y);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = 5. * (2.*fragCoord - iResolution.xy)/iResolution.y;\n    vec2 skewUV = uv + SKEW*uv.y;\n    \n    vec2 fractUV = fract(skewUV);\n    vec2 floorUV = skewUV - fractUV;\n    \n    float selector = fract((floorUV.x + floorUV.y)/3.);\n    \n    //what even is this!?!?!?\n    vec2 selected;\n    if (selector > .6){\n        selected = floorUV;\n    } else if (selector < .3){\n        selected = floorUV + vec2(1.);\n    } else {\n        selected = floorUV + step(fractUV.yx, fractUV);\n    }\n    \n    //overlay not in original; added just to get things through my skull\n    float angle = PI*sin(iTime)/6.;\n    vec2 sincos = vec2(sin(angle),cos(angle));\n    \n    mat2 rot = mat2(\n        sincos.x, -sincos.y,\n        sincos.y, sincos.x\n    );\n    \n    vec2 gridUV = rot*uv;\n    \n    vec2 halfPix = vec2(-2.5, 2.5)/iResolution.y;\n    \n    float multisampleGrid = 0.25 * (\n        grid(gridUV+halfPix) + grid(gridUV-halfPix)\n        + grid(gridUV+halfPix.yx) + grid(gridUV - halfPix.yx)\n    );\n    \n    vec3 color = mix(\n        mod(selected.xyx, 2.), mod(selected.yxy+7.5, 2.), multisampleGrid);\n    fragColor = vec4(color, 1.);\n}\n\n","name":"Image","description":"","type":"image"}]}