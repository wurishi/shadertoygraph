{"ver":"0.1","info":{"id":"4dKfzV","date":"1529607602","viewed":192,"name":"checkerboard with wavy parallax ","username":"JohanFlod","description":"playing around with smoothstep","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["2d","checkernoard"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// \n\nfloat getDistortion(float amplitude, float frequence) {\n\treturn amplitude*sin(frequence+iTime*0.5);\n}\nvec3 generateCheckerboard(vec2 screen_space, vec3 black, vec3 white)\n{\n   \tfloat checksum = ceil(.2*iTime+screen_space.x)+ceil(.2*iTime+screen_space.y);\n    // odd or even checkerboard position\n    bool check = mod(checksum,2.0) == 0.0;\n\n    \n  \t\n    // set colour according to which board position we are on \n\tvec3 color = (check)? black:white;\n    color = vec3(color);\n    return color; \n}\nvec3 colorCheckerboard(vec3 color, vec2 st)\n{\n  \tcolor.r = 0.2*smoothstep(0.3, 4.6, st.y) ;\n    color.r += getDistortion(.1,st.y);\n\tcolor.g = 0.2*smoothstep(0.3, 4.6, st.x) ;\n    color.g += getDistortion(0.1,st.x);\n    return color;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    \n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 st = fragCoord/iResolution.xy;\n\n    vec3 color = vec3(0.0);\n    vec3 color2 = vec3(0.0);\n    vec3 color3 = vec3(0.0);\n    \n    // scale of the checkerboard. st > 2.0\n    st*=5.0;\n    \n    st.x += getDistortion(0.4,st.y);\n    st.y += getDistortion(0.2,st.x);\n    \n    vec3 black = vec3(0.0);\n    vec3 white = vec3(1.0);\n    \n    vec3 black2 = vec3(0.2);\n    vec3 white2 = vec3(0.7);\n    \n    vec3 black3 = vec3(0.4);\n    vec3 white3 = vec3(0.5);\n    \n    // checkerboard with the largest tiles\n    color = generateCheckerboard(st, black, white);\n    color2 = generateCheckerboard(st*1.5, black2, white2);\n    // checkerboard with smallest tiles \n    color3 = generateCheckerboard(st*2.0, black3, white3);\n    \n    color= mix(color,color2,color2);\n    color= mix(color,color3,color3);\n    \n    \n    color = colorCheckerboard(color,st);\n    \n \n    fragColor = vec4(color,1.0);\n}","name":"Image","description":"","type":"image"}]}