{"ver":"0.1","info":{"id":"cdcBWn","date":"1697181935","viewed":41,"name":"D8_Triangles","username":"vince5287","description":"Triangles","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["menu"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.14159265\n#define NDIAG 7\n\n// derivation -> Inigo Quilez https://iquilezles.org/articles/distfunctions2d/\nfloat triangle(in vec2 p, in float r)\n{\n    // Take sqrt(3) = height eq triangle with side = 2\n    const float k = sqrt(3.0);\n    // Symmetry with r\n    p.x = abs(p.x) - r;\n    p.y = p.y + r/k;\n    if(p.x+k*p.y>0.0) p = vec2(p.x-k*p.y, -k*p.x-p.y)/2.0; \n    \n    p.x -= clamp(p.x, -2.0*r, 0.0);\n    \n    return -length(p)*sign(p.y);\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 p = (fragCoord.xy * 2.0 - iResolution.xy) / iResolution.y;\n    // Background\n    vec3 col = vec3(0.3,0.3,0.8);\n    \n    p = fract(2.0*p) -.5;\n    \n    // Get row and col Index\n    float diagW = iResolution.x / float(NDIAG);\n    int diagI = int( (fragCoord.x + fragCoord.y) / diagW);\n\n    float an = PI/2.0;\n    float cc = cos(an);\n    float ss = sin(an);\n    \n    float d = 0.0;\n\n    if (diagI % 2 == 1)\n    { \n        // Move diag\n        p += vec2(.1,-.1)*iTime;\n        // Rotate\n        p = mat2(cc, ss, -ss, cc) * p;\n        \n    }\n    \n    if (diagI % 2 == 0)\n    {\n        an = -an; \n        // Move diag\n        p -= vec2(.1,-.1)*iTime;\n        // Rotate\n        p = mat2(cc, -ss, ss, cc) * p;\n        \n    }\n\n    for(float i = 0.0; i < 3.0; i++)\n    {   \n        p = fract(p) - .5;\n        \n        float d = triangle(p+0.1*i, .21);\n        // Uncomment to push glow a bit higher\n        //d *= .6;\n        d = 0.00005 / (d*d);\n    \n        col = col + vec3(d);\n    }\n\n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}