{"ver":"0.1","info":{"id":"WtXSzs","date":"1563861451","viewed":67,"name":"heartmmt","username":"mmtaipov","description":"heart","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["heart"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define S(a,b,t) smoothstep(a,b,t)\n#define HEART_COLOUR vec3(1.,0.05,0.05)\nfloat smax(float a,float b,float k)\n{\n float h=clamp((b-a)/k+0.5,0.,1.);   \n return mix(a,b,h)+h*(1.0-h)*k*0.5;   \n}\nfloat Heart(vec2 uv,float b)\n{\n    float r=0.25; \n      b*=r;\n    uv.y-=smax(sqrt(abs(uv.x))*0.5,b,0.1);\n    uv.y+=0.1+b*0.5;\n    float d=length(uv);\n    return S(r+b,r-b-0.01,d);\n    \n    \n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = (fragCoord-iResolution.xy*0.5)/iResolution.y;\n    vec2 m=iMouse.xy/iResolution.xy;\n    // Time varying pixel color\n    vec3 col = vec3(0);\n    uv.x*=0.7;\n    float c=Heart(uv,m.y);\n    col=vec3(c*HEART_COLOUR);\n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}