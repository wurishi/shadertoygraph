{"ver":"0.1","info":{"id":"dlSGWw","date":"1673376258","viewed":97,"name":"Hypnotic BPM Swirl","username":"dkoding","description":"A hypnotic BPM Swirl. Try it full screen and get lost in epilepsy","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["swirl","checker","bpm"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Based on https://www.shadertoy.com/view/WtVGDw\n\n#define PI  3.14159265359\n#define PI2 6.28318530718\n\n#define COLOR1 vec3(1., 0., 0.)\n#define COLOR2 vec3(0.,0.,0.)\n#define LIGHTCOLOR  vec3(.5,0.,0.)\n\n#define ARMS 20.\n#define DENSITY 3.\n#define ANGLE_SPEED 1.\n#define ANGLE_TEMPO 2.\n#define SPEED 2.\n#define PULSE_SPEED 60. // BPM\n#define SMOOTH 0.2\n\nfloat smoothstepCheckerboard(in vec2 uv) {\n    uv = fract(uv);\n    float sm2 = SMOOTH * 0.5;\n    vec2 p01 = smoothstep(0.25 - sm2, 0.25 + sm2, uv) - smoothstep(0.75 - sm2, 0.75 + sm2, uv);\n    vec2 pn11 = (p01 - 0.1) * 2.;\n    return 0.5 - 0.5 * pn11.x * pn11.y;\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    vec2 R = iResolution.xy;\n    vec2 uv = (2. * fragCoord - R) / min(R.x, R.y);\n    float T = iTime;\n    float a = atan(uv.x, uv.y);\n    float r = length(uv);\n    float w = a - sin(1. / r) * r * ANGLE_SPEED * sin((T - 1./r) / ANGLE_TEMPO);\n    vec2 polar = vec2(w * ARMS / PI2, 1. / r * DENSITY + T * SPEED);\n    vec3 checker = mix(COLOR1, COLOR2, smoothstepCheckerboard(polar));\n    float light = smoothstep(0.7 + 0.3 * abs(tan(iTime*3.1415/60.*PULSE_SPEED))/2., 0.1, r);\n    vec3 color = mix(checker, LIGHTCOLOR, light);\n    fragColor = vec4(color.x, color.y, color.z, 1.);\n}\n","name":"Image","description":"","type":"image"}]}