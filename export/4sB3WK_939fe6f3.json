{"ver":"0.1","renderpass":[{"outputs":[{"channel":0,"id":"4dfGRr"}],"inputs":[{"channel":0,"type":"video","id":"Xdf3Rn","filepath":"/media/a/e81e818ac76a8983d746784b423178ee9f6cdcdf7f8e8d719341a6fe2d2ab303.webm","sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}}],"code":"/*\n\t--------------\n\tShadow remover\n\t--------------\n    A simple GLSL implementation of a technique I use to remove shadows from textures :\n    The technique is about to mix an image and its opposite with a \"Soft Light\" blend mode.\n    It can also be used to equalize an uneven green screen to pull out a better key. :)\n\n   \tSoft light GLSL Shader from Ben :\n    https://www.shadertoy.com/view/XdS3RW\n\n\tFrancois 'CoyHot' Grassard - 2014\n*/\n\nfloat softLight( float s, float d )\n{\n\treturn (s < 0.5) ? d - (1.0 - 2.0 * s) * d * (1.0 - d) \n\t\t: (d < 0.25) ? d + (2.0 * s - 1.0) * d * ((16.0 * d - 12.0) * d + 3.0) \n\t\t\t\t\t : d + (2.0 * s - 1.0) * (sqrt(d) - d);\n}\n\nvec3 softLight( vec3 s, vec3 d )\n{\n\tvec3 c;\n\tc.x = softLight(s.x,d.x);\n\tc.y = softLight(s.y,d.y);\n\tc.z = softLight(s.z,d.z);\n\treturn c;\n}\n\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n \n    \n    vec4 video = texture(iChannel0,uv);\n\n\tvec3 finalImage;\n\t\n\tfinalImage.r = softLight((1.0-video.r),video.r);\n\tfinalImage.g = softLight((1.0-video.g),video.g);\n\tfinalImage.b = softLight((1.0-video.b),video.b);\n\n\tfragColor = vec4(vec3(finalImage),1.0);\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"4sB3WK","date":"1393242506","viewed":663,"name":"Shadow remover","username":"CoyHot","description":"A simple technic to remove/reduce shadows.","likes":10,"published":1,"flags":0,"usePreview":0,"tags":["2d","softlight","shadowremover","equalize"],"hasliked":0,"parentid":"","parentname":""}}