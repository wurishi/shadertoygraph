{"ver":"0.1","info":{"id":"4l3XzB","date":"1480172427","viewed":114,"name":"DF","username":"ParleVousTekno","description":"test","likes":1,"published":1,"flags":32,"usePreview":0,"tags":["test"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define R 20\n#define r length(vec2(float(R*2),float(R*2)))\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec4 s0=texture(iChannel0,fragCoord/iResolution.xy);\n    if(s0.w<0.0)\n    {\n        bool b=false;\n        int _x,_y;\n        float _x_,_y_;\n        for(int x=-1;x<=1;x++)\n        {\n            for(int y=-1;y<=1;y++)\n            {\n                if(!(x==0&&y==0))\n                {\n                    vec4 s1=texture(iChannel0,(fragCoord+vec2(float(x),float(y))*float(R))/iResolution.xy);\n                    if(s1.w>=0.0)\n                    {\n                        if(!b||length(vec2(float(_x*R)+_x_,float(_y*R)+_y_))>length(vec2(float(_x*R)+s1.x,float(_y*R)+s1.y)))\n                        {\n                            b=true;\n                            _x=x;\n                            _y=y;\n                            _x_=s1.x;\n                            _y_=s1.y;\n                        }\n                    }\n                }\n            }\n        }\n        if(b)\n        {\n        \tfragColor=vec4(length(vec2(float(_x*R)+_x_,float(_y*R)+_y_))/r);\n        }\n        else\n        {\n            fragColor=vec4(1.0,0.0,0.0,1.0);\n        }\n    }\n    else\n    {\n    \tfragColor=vec4(length(s0.xy)/r);\n    }\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4sf3Rr","filepath":"/media/a/ad56fba948dfba9ae698198c109e71f118a54d209c0ea50d77ea546abad89c57.png","previewfilepath":"/media/ap/ad56fba948dfba9ae698198c109e71f118a54d209c0ea50d77ea546abad89c57.png","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"#define R 20\nbool sample(vec2 p)\n{\n    return texture(iChannel0,p/512.0).x>=0.5;\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 p=fragCoord;\n    bool s0=sample(p);\n    bool b=false;\n    int _x,_y;\n    for(int x=-R;x<=R;x++)\n    {\n        for(int y=-R;y<=R;y++)\n        {\n           bool s1=sample(p+vec2(float(x),float(y)));\n           if(s0!=s1)\n           {\n               float d1=length(vec2(x,y));\n               if(!b||length(vec2(float(_x),float(_y)))>length(vec2(float(x),float(y))))\n               {\n                   b=true;\n                   _x=x;\n                   _y=y;\n               }\n           }\n        }\n    }\n    fragColor=b?vec4(float(_x),float(_y),0.0,1.0):vec4(0.0,0.0,0.0,-1.0);\n}","name":"Buf A","description":"","type":"buffer"}]}