{"ver":"0.1","info":{"id":"slt3zl","date":"1636565907","viewed":119,"name":"Smooth shockwave","username":"Touchebag","description":"Based on https://www.shadertoy.com/view/MdfXD4#","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["shockwave"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.14159265359\n#define SPEED 10.0\n#define SHOCKWIDTH 0.5\n#define SOUNDSPEED 5.0\n#define FALLOFF 0.3\n\nfloat dist(vec2 uv, float x, float y) {\n    float adjusted_x = abs(uv.x - x) * iResolution.x / iResolution.y;\n\treturn sqrt(adjusted_x * adjusted_x + (uv.y - y) * (uv.y - y));\n}\n\nfloat shockwave(float x) {\n\tfloat shock = sin(x - PI) / (x - PI);\n    float width = smoothstep(0.0, SHOCKWIDTH, x) - smoothstep(SHOCKWIDTH, SHOCKWIDTH * 2.0, x);\n    return shock * width;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n\t\n\tfloat d = dist(uv, 0.5, 0.5);\n\t\n\tfloat amp = max(shockwave(iTime * SPEED - d * SOUNDSPEED) - d * FALLOFF, 0.0);\n    \n\tfloat x = amp * (uv.x - 0.5);\n\tfloat y = amp * (uv.y - 0.5);\n\n\tvec4 image = texture(iChannel0, vec2(uv.x + x, 1.0 - uv.y + y));\n\t\n\tfragColor = vec4(image.r, image.g, image.b, 1.0);\n}\n","name":"Image","description":"","type":"image"}]}