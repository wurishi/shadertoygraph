{"ver":"0.1","info":{"id":"XtycWm","date":"1536427597","viewed":1261,"name":"Flying through the desert","username":"Emil","description":"The majestic eagle.., Soaring through the sky, hunting for prey.\nIn reality, just me playing around with fake planes some more","likes":17,"published":1,"flags":0,"usePreview":0,"tags":["plane","fake3d","mode7"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4df3Rr","filepath":"/media/a/3871e838723dd6b166e490664eead8ec60aedd6b8d95bc8e2fe3f882f0fd90f0.jpg","previewfilepath":"/media/ap/3871e838723dd6b166e490664eead8ec60aedd6b8d95bc8e2fe3f882f0fd90f0.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4sf3Rr","filepath":"/media/a/ad56fba948dfba9ae698198c109e71f118a54d209c0ea50d77ea546abad89c57.png","previewfilepath":"/media/ap/ad56fba948dfba9ae698198c109e71f118a54d209c0ea50d77ea546abad89c57.png","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = ((fragCoord/iResolution.xy)-0.5)*vec2(iResolution.x/iResolution.y,1.0);\n    uv += 0.2*vec2(sin(iTime*0.4),sin(iTime*0.2)+0.5*cos(iTime*0.45));\n    uv.y += uv.x*0.3*sin(iTime*0.5);\n    uv.x += uv.y*0.3*cos(iTime*0.5)*(step(uv.y,0.0)*1.7-0.3);\n    \n    \n    \n    vec3 viewDir = normalize(vec3(uv,0.5));\n    \n    vec2 planarUV = viewDir.xz/abs(viewDir.y)*0.3;\n    \n    float depth = planarUV.y;\n    \n    vec3 ground = texture( iChannel0, (planarUV+vec2(0.0, iTime*.6))*0.6).rgb * step(viewDir.y,0.0);\n    \n    float fog = pow(depth,0.4)*0.2;\n    ground = mix(ground,vec3(1.0),fog);\n    \n    vec3 sky = vec3(0.0);\n    for(float i = 0.0; i<1.0; i+= 0.1){\n        planarUV = (viewDir.xz/abs(viewDir.y-i*0.1/depth)*0.2);\n        sky += (0.05*smoothstep(i,0.8+i,texture( iChannel1, (planarUV+vec2(0.0, iTime*.2))*0.9).r));\n    }\n    sky += vec3(0.2,0.4,1.0);\n    sky *= step(-viewDir.y,0.0);\n    \n    fragColor = vec4(ground + sky,1.0);\n    fragColor *= vec2(smoothstep(0.1,0.9,viewDir.b),smoothstep(0.2,0.85,viewDir.b)).rgrg; // vignette\n    fragColor.b *= 0.85; // \"sandier\" look\n    fragColor.rgb += vec3(0.02/length(uv)); // sun\n    \n}","name":"Image","description":"","type":"image"}]}