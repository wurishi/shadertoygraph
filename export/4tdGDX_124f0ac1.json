{"ver":"0.1","info":{"id":"4tdGDX","date":"1472095434","viewed":164,"name":"color masking**","username":"mike","description":"just silly tweaks on top of https://www.shadertoy.com/view/XtdGDX by @qwzy","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["color","masking","britney"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"Xdf3Rn","filepath":"/media/a/e81e818ac76a8983d746784b423178ee9f6cdcdf7f8e8d719341a6fe2d2ab303.webm","previewfilepath":"/media/ap/e81e818ac76a8983d746784b423178ee9f6cdcdf7f8e8d719341a6fe2d2ab303.webm","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define TOLERANCE 0.9\n#define MASK(color, mask) mask * (1.0 - step(TOLERANCE, distance(mask, color)))\n\nvec3 maskedColor(vec2 uv, sampler2D tex)\n{\n    vec3 color = texture(tex, uv).xyz;\n    \n    // colors to mask by\n    vec3 col1 = vec3(1.0, 0.0, 0.0);\n    vec3 col2 = vec3(0.0, 1.0, 0.0);\n    vec3 col3 = vec3(0.0, 0.0, 1.0);\n    \n    vec3 masked = vec3(0.0);\n    masked += MASK(color, col1);\n    masked += MASK(color, col2);\n    masked += MASK(color, col3);\n    return masked;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    vec2 uvOffset = 0.1 * vec2(cos(iTime), sin(iTime));\n\tvec3 col = vec3(0.0);\n    col += maskedColor(uv, iChannel0);\n    col += maskedColor(uv + uvOffset, iChannel0);\n    fragColor = vec4(col, 1.0);\n}\n","name":"Image","description":"","type":"image"}]}