{"ver":"0.1","info":{"id":"XstXW2","date":"1461576384","viewed":1639,"name":"bump slit scan tunnel","username":"LaBodilsen","description":"oldschool bumpmapping with an emboss function applied to a slit scan tunnel.  \nthanks to roywig for the original slit scan tunnel.\n","likes":23,"published":1,"flags":0,"usePreview":0,"tags":["2d","tunnel","oldschool","slitscan","bump","emboss"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4df3Rr","filepath":"/media/a/3871e838723dd6b166e490664eead8ec60aedd6b8d95bc8e2fe3f882f0fd90f0.jpg","previewfilepath":"/media/ap/3871e838723dd6b166e490664eead8ec60aedd6b8d95bc8e2fe3f882f0fd90f0.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4sf3Rr","filepath":"/media/a/ad56fba948dfba9ae698198c109e71f118a54d209c0ea50d77ea546abad89c57.png","previewfilepath":"/media/ap/ad56fba948dfba9ae698198c109e71f118a54d209c0ea50d77ea546abad89c57.png","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Original slit scan tunnel by Roywig : https://www.shadertoy.com/view/4dtSWS\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = (2.*fragCoord.xy - iResolution.xy) / iResolution.y;\n\tvec3 color = vec3(0);\n    float rInv = 1./length(uv*2.);\n    uv = uv* rInv;\n    \n    float bump_height = 5.;\n    float v1 = texture(iChannel1,uv+vec2(0.005,0.0)-vec2(rInv+iTime,0.)).r;\n\tfloat v2 = texture(iChannel1,uv+vec2(-0.005,0.0)-vec2(rInv+iTime,0.)).r;\n\tfloat v3 = texture(iChannel1,uv+vec2(0.0,0.005)-vec2(rInv+iTime,0.)).r;\n\tfloat v4 = texture(iChannel1,uv+vec2(0.0,-0.005)-vec2(rInv+iTime,0.)).r;\n    float bumpx = (v2-v1)*bump_height;\n    float bumpy = (v3-v4)*bump_height;\n\n    float light = 1.-length(vec2(uv+rInv-1.)-vec2(bumpx,bumpy));\n    \n    color = texture(iChannel0,uv-vec2(rInv+iTime,0.)).rgb*light*3.;\n    fragColor = vec4(color,1.0);\n}","name":"Image","description":"","type":"image"}]}