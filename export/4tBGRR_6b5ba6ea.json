{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[{"channel":0,"type":"texture","id":"XsX3Rn","filepath":"/media/a/92d7758c402f0927011ca8d0a7e40251439fba3a1dac26f5b8b62026323501aa.jpg","sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"}},{"channel":1,"type":"texture","id":"4sXGRn","filepath":"/media/a/95b90082f799f48677b4f206d856ad572f1d178c676269eac6347631d4447258.jpg","sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"}}],"code":"#define PI 3.1415\n#define NUM_LAYERS 12.\n\nvoid mainImage( out vec4 fragColor, \n                in vec2 fragCoord )\n{    \n    \n    float t = iTime + 20.;\n    // when the user hasn't hit the mouse, have an animated value for center\n    vec2 sc = vec2(.5 * iResolution.x/iResolution.y, .5);\n    vec2 c = mix(sc + .4 * vec2(cos(.5 * t), \n\t\t\t\t\t\t\t\tsin(.5 * t)), \n                 iMouse.xy/iResolution.yy, \n                 step(0.01, iMouse.y));\n    \n    vec2 uv = fragCoord.xy / iResolution.yy - c;\n\n    vec3 col = vec3(0.);\n    float rsize = .1;    \n    float zd = .5;\n    float z = .8;\n    \n    vec2 vc = sc - c;\n    \n    for (float i = 0.; i < NUM_LAYERS; i++)\n    {\n\n        vec2 offset = (.0025*z) * vec2(cos(z - (.2*z) * t), \n                                     sin(z - (.2*z) * t));\n        \n        vec2 uvi = (mix(uv - vc, uv, i/(NUM_LAYERS+1.)) + offset) * z;\n            \n        float l = length(uvi);\n        float lmod = mod(l, rsize);\n        float r = smoothstep(rsize*.5, rsize*.6, lmod) - smoothstep(rsize*.7, rsize*.9, lmod);\n        \n\n        float ri = floor(l/rsize);    \n        float a = atan(uvi.y, uvi.x)/PI;\n\n        float ma = mod((.2/(i+1.)) * t * (ri+1.) + a, 1.);\n        \n        float h = smoothstep(.0, 2./z, l*l);\n        float s = max(0., smoothstep(1., .1, ma) - smoothstep(.1, .0, ma));\n\n        vec3 tcol = mix(texture(iChannel0, vec2(ri/256., (i+1.)/64.)).rgb,\n                        texture(iChannel1, vec2(ri/256., (i+1.)/256.)).rgb,\n                        i/NUM_LAYERS);\n                        \n     \tcol += mix(vec3(.333), tcol, 1.2) * (PI/z) * vec3(2.*PI/NUM_LAYERS) * h * r * s;\n        z += zd;\n        rsize *= .98;\n        \n    }\n    \n    fragColor.rgb = col;\n    fragColor.a = 1.;\n}\n","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"4tBGRR","date":"1426390257","viewed":344,"name":"[Pi Day] PI all the way down","username":"mplanck","description":"To celebrate the pi day of the century (3.14.15), I had to spend an hour at my favorite place to use this special irrational.","likes":7,"published":1,"flags":0,"usePreview":0,"tags":["circles","pi","small"],"hasliked":0,"parentid":"","parentname":""}}