{"ver":"0.1","info":{"id":"DtcBDj","date":"1701626888","viewed":22,"name":"repeating heart pattern","username":"tsakal","description":"repeating heart pattern","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["heart","pattern"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Finding circles by GeoffL in 2023-03-06\n// https://www.shadertoy.com/view/msK3zz\n// Based on the code here: https://www.shadertoy.com/view/4dcfW8\n\nconst float PI = acos(-1.);\nconst vec3 LINECOLOR = vec3(1.,1.,0.);\nconst float SCALE = 8., RAD = .95*SCALE;\nfloat graphTHICK = sqrt(2.), T;\n\nfloat S(float thick, float d){return smoothstep(thick, 0., d);} // antialiased draw. thick >= 1.5\n\nfloat line(vec2 p, vec2 a, vec2 b) { \n    p -= a, b -= a;\n    float h = clamp(dot(p, b) / dot(b, b), 0., 1.);\n    return length(p - b * h);\n}\n\nvec2 heart( float t ) { // https://mathcurve.com/courbes2d.gb/ornementales/ornementales.shtml\n    float xt, yt;\n  \txt = cos(t); yt = -sin(t) + sqrt(abs(cos(t))); // Jurjen Boss heart\n  \t// xt = pow(sin(t),3.); yt = cos(t) - pow(cos(t),4.); // RaphaÃ«l Laporte heart (1993)\n\treturn vec2( xt, yt );\n}\n\nfloat parPlot(vec2 p){\n    float d = 1e5;\n  \tfloat period = 2.*PI, step = 1.*period/360.;\n    vec2 P=heart(0.);\n    for (float t = step; t < period+step; t += step ) {\n        d = min( d, line( p, P, P = heart(t) ) );\n    }\n  \treturn S(graphTHICK*(fwidth(p.x)+fwidth(p.y)), d);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (-iResolution.xy+2.0*fragCoord.xy)/iResolution.y;\n    uv *= SCALE;\n    T=iTime/4.;\n    vec3 col;\n  \tvec2 rep = vec2(SCALE/2.,SCALE/2.); // https://www.shadertoy.com/view/mdsBWM\n  \tuv.x = (mod(uv.x, rep.x)-rep.x/2.);\n  \tuv.y = (mod(uv.y, rep.y)-rep.y/2.);\n  \t// col = parPlot(abs(uv)) * LINECOLOR;\n  \tcol = parPlot(uv) * LINECOLOR;\n    /*\n    vec3 col = vec3(0.);\n    float c, s, radius=6., steps = 12., th=(2.*PI/steps);\n    mat2 r; vec2 m;\n    for (float i=0.; i<steps; i++){\n        c=cos(th*i+T); s=sin(th*i+T); r=mat2(c,-s,s,c);\n        m = -radius*vec2(s,c);\n        col += parPlot((uv + m)* r) * LINECOLOR;\n    }\n    */\n    fragColor = vec4( col , 1.0);\n}","name":"Image","description":"","type":"image"}]}