{"ver":"0.1","info":{"id":"43VGR3","date":"1717998988","viewed":34,"name":"A distorted box","username":"vexeo","description":"A box but distorted","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["box"],"hasliked":0,"parentid":"M3yGzc","parentname":"A dead star"},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float Circle(vec2 uv, vec2 center, float radius, float blur) {\n      float dist = length(uv-center);\n      return smoothstep(radius, radius - blur, dist);\n}\n\nfloat Moon(vec2 uv, vec2 pos, float size) {\n    // translation\n    uv -= pos;\n    // scaling\n    uv /= size;\n    \n    float mask = Circle(uv, vec2(0.), 0.38, abs(sin(iTime)*0.35)+0.3);\n    mask -= Circle(uv, vec2(0., 0.), 0.2, abs(sin(iTime)*0.05)+0.04);\n    return mask;\n}\n\nfloat Band(vec2 uv, float start, float end, float blur) {\n     float mask = smoothstep(start, start+blur, uv.x);\n     float mask2 = smoothstep(end, end-blur, uv.x);\n     return mask * mask2;\n}\n\nfloat HorizontalBand(vec2 uv, float start, float end, float blur) {\n     float mask = smoothstep(start, start+blur, uv.y);\n     float mask2 = smoothstep(end, end-blur, uv.y);\n     return mask * mask2;\n}\n\nfloat Box(vec2 uv, vec2 pos, float size, float blur) {\n    // translate to center box\n    uv += vec2(size/2.);\n    \n    // vertical part\n    float mask = smoothstep(pos.x, pos.x+blur, uv.x);\n    mask *= smoothstep(pos.x+size, pos.x+size-blur, uv.x);\n    \n    // horizontal part\n    mask *= smoothstep(pos.y, pos.y+blur, uv.y);\n    mask *= smoothstep(pos.y+size, pos.y+size-blur, uv.y);\n    return mask;\n\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n     vec2 uv = (fragCoord/iResolution.xy - 0.5);\n     uv.x *= iResolution.x/iResolution.y;\n    \n     // float mask = Band(uv, -0.2, 0.2, 0.01);\n     // mask *= HorizontalBand(uv, -0.2, 0.2, 0.01);\n     float mask = Box(uv, vec2(cos(iTime)*0.05, sin(iTime)*0.3), 1.5, uv.y / uv.x);\n     vec3 col = vec3(uv.x * 0.8, uv.y * 0.3, 0.7) * mask;\n    \n   \n    fragColor = vec4(col, 1.0);\n}","name":"Image","description":"","type":"image"}]}