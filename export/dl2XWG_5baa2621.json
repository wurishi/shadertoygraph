{"ver":"0.1","info":{"id":"dl2XWG","date":"1676543331","viewed":33,"name":"teszt fetch vs sample","username":"zbendefy","description":"Benchmark texelfetch vs texture","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["fetchsample"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XdXGzr","filepath":"/media/a/8979352a182bde7c3c651ba2b2f4e0615de819585cc37b7175bcefbca15a6683.jpg","previewfilepath":"/media/ap/8979352a182bde7c3c651ba2b2f4e0615de819585cc37b7175bcefbca15a6683.jpg","type":"texture","channel":0,"sampler":{"filter":"nearest","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\n\n#define USE_FETCH 1\n#define TAP_RANGE 0.00001\n#define STEPS 500\n#define TEXTURE_SIZE 1024\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n\n#if USE_FETCH\n    ivec2 tex_idx = ivec2(uv * float(TEXTURE_SIZE));\n    vec3 col = texelFetch(iChannel0, tex_idx, 0).xyz*0.5;\n#else\n    vec3 col = texture(iChannel0, uv).xyz*0.5;\n#endif\n\n    for(int i = 0; i < STEPS; ++i)\n    {\n#if USE_FETCH\n        col += texelFetch(iChannel0, ivec2(tex_idx + ivec2(float(i)*iResolution*TAP_RANGE)), 0).xyz/float(STEPS);\n#else\n        col += texture(iChannel0, uv + vec2(i)*TAP_RANGE).xyz/float(STEPS);\n#endif\n    }\n\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}