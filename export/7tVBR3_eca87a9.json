{"ver":"0.1","info":{"id":"7tVBR3","date":"1664963664","viewed":325,"name":"Artober - Flame","username":"Flopine","description":"Day 5 of the october everyday challenge. Couldn't find ideas so I took the prompt of the day, which is \"Flame\", as an inspiration","likes":29,"published":1,"flags":0,"usePreview":0,"tags":["raymarching","transparency","glow","isometric","everyday"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Code by Flopine\n\n// Thanks to wsmind, leon, XT95, lsdlive, lamogui, \n// Coyhot, Alkama,YX, NuSan, slerpy, wwrighter \n// BigWings, FabriceNeyret and Blackle for teaching me\n\n// Thanks LJ for giving me the spark :3\n\n// Thanks to the Cookie Collective, which build a cozy and safe environment for me \n// and other to sprout :)  \n// https://twitter.com/CookieDemoparty\n\n\n#define PI acos(-1.)\n#define rot(a) mat2(cos(a),sin(a),-sin(a),cos(a))\n#define crep(p,c,l) p-=c*clamp(round(p/c), -l ,l)\n#define dt(sp,off) fract((iTime+off)*sp)\n\nfloat box (vec3 p, vec3 c)\n{\n    vec3 q = abs(p)-c;\n    return min(0., max(q.x,max(q.y,q.z)))+length(max(q,0.));\n}\n\nfloat g1=0.;\nfloat SDF (vec3 p )\n{\n    p.yz *= rot(-atan(1./sqrt(2.)));\n    p.xz *= rot(PI/4.);\n    \n    float d = length(p)-7.;\n    g1 += 0.1/(0.1+d*d);\n    \n    float per = 2.;\n    vec3 id = round(p/per);\n    p.xz *= rot( dt(0.05, length(id)*0.15)*(2.*PI) );\n    p.xy *= rot( dt(0.08, 0.)*(2.*PI) );\n    p = crep(p, per, 5.);\n    \n    return min(d,box (p,vec3(.95)));\n}\n\nvec3 gn (vec3 p)\n{\n    vec2 e = vec2(0.01,0.);\n    return normalize(SDF(p)-vec3(SDF(p-e.xyy),SDF(p-e.yxy),SDF(p-e.yyx)));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (2.*fragCoord-iResolution.xy)/iResolution.y;\n    \n    vec3 ro = vec3(uv*5., -45.), rd = vec3(0.,0.,1.), p=ro, \n    col = vec3(0.), l=normalize(vec3(-1.,2.,-2.));\n\n    bool hit=false;\n    for (float i=0.; i<64.; i++)\n    {\n        float d = SDF(p);\n        if(d<0.01)\n        {\n            hit=true;\n        }\n        d = max(abs(d-0.05),0.001);\n        p += d*rd*.75;\n    }\n    float t = length(p-ro);\n    \n    if (hit)\n    {\n        vec3 n = gn(p);\n        float li = max(dot(n,l),0.);\n        col = vec3(0.3,0.8,0.99)*li;\n    }\n    \n    col = mix(col, vec3(0.1,0.2,0.5),1.-exp(-0.001*t*t));\n    col += g1*vec3(1.,0.3,0.);\n    \n    fragColor = vec4(sqrt(col),1.0);\n}","name":"Image","description":"","type":"image"}]}