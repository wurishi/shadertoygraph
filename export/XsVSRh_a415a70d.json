{"ver":"0.1","info":{"id":"XsVSRh","date":"1463036144","viewed":126,"name":"Right Triangular tiling","username":"soma_arc","description":"Right Triangular tiling","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["2d","tiling"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// from Syntopia http://blog.hvidtfeldts.net/index.php/2015/01/path-tracing-3d-fractals/\nvec2 rand2n(vec2 co, float sampleIndex) {\n\tvec2 seed = co * (sampleIndex + 1.0);\n    seed+=vec2(-1,1);\n    // implementation based on: lumina.sourceforge.net/Tutorials/Noise.html\n    return vec2(fract(sin(dot(seed.xy ,vec2(12.9898,78.233))) * 43758.5453),\n                fract(cos(dot(seed.xy ,vec2(4.898,7.23))) * 23421.631));\n}\n\nconst float sampleNum = 50.;\nconst float PI = 3.141592653589;\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tfloat ratio = iResolution.x / iResolution.y / 2.0;\n    \n    vec3 sum = vec3(0.);\n    float theta = PI / 4. + PI/6. * sin(iTime);\n    float xc = 10. * 2. * cos(theta);\n    float yc = 10. * 2. * sin(theta);\n    vec2 tileSize = vec2(xc, yc);\n    for(float i = 0. ; i < sampleNum ; i++){\n        vec2 position = ( (fragCoord.xy + rand2n(fragCoord.xy, i)) / iResolution.yy ) - vec2(ratio, 0.5);\n        position *= 100.;\n        \n    \tvec2 p = position - tileSize * floor(position / tileSize) - tileSize / 2.;\n    \tfloat angle = atan(p.y, p.x);\n \n    \tif(mod(floor(angle / (PI/2.0)), 2.0) == 0. ){\n        \tif(mod(angle, PI/2.0) < theta){\n        \t\tsum += vec3(1);\n        \t}\n    \t}else{\n    \t\tif(mod(angle, PI/2.0) < PI / 2.0 - theta){\n        \t\tsum += vec3(1);\n        \t}\n    \t}\n    }\n    \n    fragColor = vec4(sum / sampleNum,1.);\n}","name":"Image","description":"","type":"image"}]}