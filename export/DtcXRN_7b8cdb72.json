{"ver":"0.1","info":{"id":"DtcXRN","date":"1690810568","viewed":33,"name":"heart barrage","username":"pik","description":"sample","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["sample"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.141592\n#define rot(a) mat2(cos(a),sin(a),-sin(a),cos(a))\n\nvec2 hash(vec2 p)\n{\n    p*=mat2(962.,729.,691.,162.);\n    return fract(sin(p)*58578.13);\n}\nfloat heart(vec2 p,vec2 s)\n{\n    p*=rot(s.x-s.y);\n    s.x=2.+s.x;\n    s.y*=0.5;\n    p*=s.x;\n    p.x=abs(p.x);\n    p*=rot(0.7);\n    p.x-=clamp(p.x,-s.y,s.y);\n    return (length(p)-s.y)/s.x;\n}\nvec4 q(vec2 p)\n{\n    p*=3.;\n    vec2 i=floor(p);\n    vec2 f=p-i-vec2(0.5);\n    vec2 s=hash(i);\n    float g=step(heart(f,s),0.)*(step(0.5+0.2*sin(s.y+iTime*4.),s.x)-step(0.7-0.3*sin(s.y+iTime*5.+1.5),s.x));\n    return vec4(g,abs(sin(s*iTime)),fract(s.x*8.));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy*2.-1.;\n    uv.x*=iResolution.x/iResolution.y;\n    vec4 b=q(uv);\n    vec3 col = 0.5 + 0.5*cos(iTime+uv.xyx+vec3(0,2,4));\n    col=mix(col,col*col*b.yzw,b.x);\n\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}