{"ver":"0.1","info":{"id":"cdKGDz","date":"1678406222","viewed":110,"name":"Searl Effect Generator drawing","username":"ford442","description":"seg","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["magneticmathpowergenerator"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define Pi 3.1415926535897932384626433832795028841971693993751\nstruct Gear{\n    float t;\t\t\n    float gearR;\t\t\n    float teethH;\t\n    float teethR;\t\t\n    float teethCount;\n    float diskR;\t\n    vec3 color;\t  \n    };\n    \n    \nfloat GearFunction(vec2 uv, Gear g){\n    float r = length(uv);\n    float a = atan(uv.y, uv.x);\n    float p = g.gearR-0.5*g.teethH + g.teethH/(1.0+exp(g.teethR*sin(g.t + g.teethCount*a)));\n    float gear = r - p;\n    float disk = r - g.diskR;\n    return g.gearR > g.diskR ? max(-disk, gear) : max(disk, -gear);}\nfloat GearDe(vec2 uv, Gear g){\n    float f = GearFunction(uv, g);\n    vec2 eps = vec2(0.0001, 0);\n    vec2 grad = vec2(\n        GearFunction(uv + eps.xy, g) - GearFunction(uv - eps.xy, g),\n        GearFunction(uv + eps.yx, g) - GearFunction(uv - eps.yx, g)) / (2.0*eps.x);\n        return (f)/length(grad);}\nfloat GearShadow(vec2 uv, Gear g){\n    float r = length(uv+vec2(0.1));\n    float de = r - g.diskR + 0.0*(g.diskR - g.gearR);\n    float eps = 0.4*g.diskR;\n    return smoothstep(eps, 0., abs(de));}\nvoid DrawGear(inout vec3 color, vec2 uv, Gear g,float eps){\n\tfloat d = smoothstep(eps, -eps, GearDe(uv, g));\n    float s = 1.0 - 0.7*GearShadow(uv, g);\n    color = mix(s*color, g.color, d);}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ){\nfloat lTime=iTime/14.0;\n    float t = 8.0*lTime;\n    float tb = 12.0*lTime;\n    float tc = 18.0*lTime;\n    vec2 uv = 2.0*(fragCoord - 0.5*iResolution.xy)/iResolution.y;\n    float eps = 2.0/iResolution.y;\n\tvec3 base = vec3(0.935, 0.967, 0.922);\n\tvec3 based = vec3(0.635, 0.667, 0.522);\n\tvec3 baseg = vec3(0.035, 0.967, 0.022);\n\tvec3 baser = vec3(0.935, 0.267, 0.122);\n\tvec3 baseb = vec3(0.035, 0.067, 0.992);\n    const float count = 32.0;\n    const float count2 = 22.0;\n    const float count3 = 12.0;\n    Gear outer =Gear(0.0, 0.981, 0.25, 40.0, 32.0, 0.92926, based);\n    Gear tertiary = Gear(0.0, 0.71,   0.01, 40.0, 22.0, 0.74, base);\n    Gear tertiaryb = Gear(0.0, 0.7,   0.01, 40.0, 22.0, 0.72, based);\n    Gear center= Gear(0.0, 0.41,   0.01, 40.0, 12.0, 0.44, base);\n    Gear centerb= Gear(0.0, 0.38,   0.01, 40.0, 12.0, 0.42, based);\n    Gear stator= Gear(0.0, 0.1,   0.01, 40.0, 1.0,  0.2321, base);\n    Gear statorb= Gear(0.0,0.14,  0.01, 40.0, 1.0,  0.2321, based);\n    Gear inner =Gear(0.0, 0.035, 0.05, 40.0, 13.0, 0.05, baser);\n    Gear secondary =Gear(0.0, 0.035, 0.05, 40.0, 13.0, 0.05, baseg);\n    Gear middle=Gear(0.0, 0.035, 0.05, 40.0, 13.0, 0.05, baseb);\n    vec3 color = vec3(1.0);\nfor(float i=0.0; i<count;i++){\n        t += 2.0*Pi/count;\n \t    inner.t = 1.1*t;\n        float rt=Pi/count*i;\n      //  if((rt-(rt*rt*0.5)) <= t && t <= (rt-(rt*rt*1.5))){\n        if((rt-0.01) <= inner.t && inner.t <= (rt+0.01)){\n        inner.color = baser;\n        }else{\n        inner.color = baseg;\n        }\n        DrawGear(color, uv+0.85*vec2(cos(t),sin(t)), inner, eps);\n        inner.color = based*(0.85 + 0.56*i/(count-0.12));\n        DrawGear(color, uv+0.07*vec2(cos(t),sin(t)), inner, eps);}\nfor(float i=0.0; i<count2;i++)    {\n        tb += 2.0*Pi/count2;\n \t    secondary.t = 1.4*t;\n        secondary.color = baseb*(0.85 + 0.5*i/(count2-0.16));\n        DrawGear(color, uv+0.55*vec2(cos(tb),sin(tb)), secondary, eps);\n        secondary.color = based*(0.85 + 0.5*i/(count2-0.16));\n        DrawGear(color, uv+0.07*vec2(cos(tb),sin(tb)), secondary, eps);}\nfor(float i=0.0; i<count3;i++)    {\n        tc += 2.0*Pi/count3;\n \t    middle.t = 1.9*t;\n        middle.color = baser*(0.85 + 0.6*i/(count3-0.18));\n        DrawGear(color, uv+0.3*vec2(cos(tc),sin(tc)), middle, eps);\n        middle.color = based*(0.85 + 0.6*i/(count3-0.18));\n        DrawGear(color, uv+0.07*vec2(cos(tc),sin(tc)), middle, eps);}\n    DrawGear(color, uv, outer, eps);\n    DrawGear(color, uv, tertiary, eps);\n    DrawGear(color, uv, tertiaryb, eps);\n    DrawGear(color, uv, center, eps);\n    DrawGear(color, uv, centerb, eps);\n    DrawGear(color, uv, stator, eps);\n    DrawGear(color, uv, statorb, eps);\n    fragColor = vec4(color,1.0);}","name":"Image","description":"","type":"image"}]}