{"ver":"0.1","info":{"id":"3lKyRz","date":"1610359355","viewed":169,"name":"Fire segmentation","username":"Canysway","description":"fire segmentation based on noise texture.","likes":2,"published":1,"flags":32,"usePreview":0,"tags":["noise","flame","fire","segmentation"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sf3Rn","filepath":"/media/a/0a40562379b63dfb89227e6d172f39fdce9022cba76623f1054a2c83d6c0ba5d.png","previewfilepath":"/media/ap/0a40562379b63dfb89227e6d172f39fdce9022cba76623f1054a2c83d6c0ba5d.png","type":"texture","channel":3,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGzn","filepath":"/media/a/0c7bf5fe9462d5bffbd11126e82908e39be3ce56220d900f633d58fb432e56f5.png","previewfilepath":"/media/ap/0c7bf5fe9462d5bffbd11126e82908e39be3ce56220d900f633d58fb432e56f5.png","type":"texture","channel":2,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XdfGRr","filepath":"/media/a/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm","previewfilepath":"/media/ap/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm","type":"video","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define NOISE(tex, uv, speed, str)       texture(tex, uv - vec2(0., fract(iTime * speed))).r * str\n#define SEG_ALPHA(color)            step(.95, step(.5, color.g) * (1. - step(.3, color.r)) * (1. - step(.3, color.b)))\n#define SEG(color)                  clamp(mix(vec4(1.), vec4(vec3(0.), 1.), SEG_ALPHA(color)), vec4(0.), vec4(1.))\n\n\n#define SPEED      .25\n#define STRENGTH   .06\n#define COLOR      vec4(4., .2, .2, 1.)\n\n#define SPEED2      .15\n#define STRENGTH2   .03\n#define COLOR2      vec4(.3, .3, .2, 1.)\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ){\n    vec2 uv = fragCoord.xy/iResolution.xy;\n    vec2 uv2 = uv;\n    vec2 o_uv = uv;\n    uv.y -= (NOISE(iChannel2, uv, SPEED, STRENGTH) + .003);\n    uv2.y -= (NOISE(iChannel3, uv, SPEED2, STRENGTH2) + .003);\n    \n    vec4 color1 = texture(iChannel0, uv) * COLOR;\n    vec4 color2 = texture(iChannel0, uv2) * COLOR2;\n    vec4 origin = texture(iChannel1, o_uv);\n    vec4 seg = SEG(origin);\n    fragColor = mix(clamp(color1 + color2 + origin, vec4(0.), vec4(1.)), origin, seg.r);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"XdfGRr","filepath":"/media/a/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm","previewfilepath":"/media/ap/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"#define SEG_ALPHA(color)            step(.95, step(.5, color.g) * (1. - step(.3, color.r)) * (1. - step(.3, color.b)))\n#define SEG(color)                  clamp(mix(vec4(1.), vec4(vec3(0.), 1.), SEG_ALPHA(color)), vec4(0.), vec4(1.))\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ){\n    vec2 uv = fragCoord.xy/iResolution.xy;\n    fragColor =  SEG(texture(iChannel0, uv));\n}","name":"Buffer A","description":"","type":"buffer"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"XsXGR8","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord ){\n    vec2 uv = fragCoord.xy/iResolution.xy;\n    vec4 delay = texture(iChannel0, uv);\n    vec4 tex = texture(iChannel1, uv);\n    fragColor = mix(delay, tex, 0.2);\n}","name":"Buffer B","description":"","type":"buffer"}]}