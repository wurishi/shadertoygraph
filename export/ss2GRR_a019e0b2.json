{"ver":"0.1","info":{"id":"ss2GRR","date":"1616862846","viewed":79,"name":"p7 univers","username":"DEMERCY","description":"practice","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["drawline"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define S(a,b,t) smoothstep(a,b,t)\nfloat DistLine(vec2 p,vec2 a ,vec2 b){\n   \n   vec2 pa = p-a;\n   vec2 ba = b-a;\n   float t = clamp(dot(pa,ba)/dot(ba,ba),0.,1.);\n   return length(pa-ba*t);\n}\n\nfloat N21(vec2 p){\n    p = fract(p*vec2(233.34,833.46));\n    p += dot(p,p+43.43);\n    return fract(p.x*p.y);\n}\n\nvec2 N22(vec2 p){\n    float n = N21(p);\n    return vec2(n,N21(p+n));\n}\nvec2 GetPos(vec2 id,vec2 offs){\n    \n    vec2 n = N22(id+offs)*iTime;\n    \n    return offs+sin(n)*.4;\n    \n}\nfloat Line(vec2 p,vec2 a,vec2 b){\n    float d = DistLine(p,a,b);\n    float m = S(.03,.01,d);\n    m*= S(1.2,.8,length(a-b));\n    return m;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord - .5*iResolution.xy)/iResolution.y;\n    uv *= 5.;\n    \n    vec2 gv = fract(uv)-.5;\n    vec2 id = floor(uv);\n    float m = 0.;\n    vec2 p[9];\n    int i = 0;\n    for(float y = -1.;y<=1.;y++){\n        for(float x = -1.;x<=1.;x++){\n            p[i++] = GetPos(id,vec2(x,y));\n            \n        }\n    }\n    float t = iTime*10.;\n    for(int i = 0; i<9;i++){\n        Line(gv,p[4],p[i]);\n        m += Line(gv,p[4],p[i]);\n        \n        vec2 j = (p[i]-gv)*20.;\n        float sparkle = 1./dot(j,j);\n        m+= sparkle*(sin(t+p[i].x*10.)*.5+.5);\n    }\n    m += Line(gv,p[1],p[3]);\n    m += Line(gv,p[1],p[5]);\n    m += Line(gv,p[7],p[3]);\n    m += Line(gv,p[7],p[5]);\n    vec3 col = vec3(m);\n    \n    \n    \n    //if (gv.x >.48||gv.y > .48)col += vec3(1,0,0);\n    fragColor = vec4(col,1.);\n    \n    \n    \n}","name":"Image","description":"","type":"image"}]}