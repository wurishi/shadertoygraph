{"ver":"0.1","info":{"id":"wdX3z8","date":"1544880482","viewed":71,"name":"mandelbrot in gray","username":"guowei","description":"mandelbrot","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["mandelbrot"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const float u_Zoom = 3.0;\nconst float u_Xcenter= -0.5;\nconst float u_Ycenter = 0.0;\nconst vec3 u_InnerColor_1 = vec3(0.9, 0.9, 0.9);\nconst vec3 u_InnerColor_2 = vec3(0.3, 0.3, 0.3);\nconst vec3 u_OutColor_2 = vec3(0.0, 0.0, 0.0);\nconst vec3 u_OutColor_1 = vec3(1.0, 1.0, 1.0);\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 st = (fragCoord - 0.5 * iResolution.xy)/iResolution.y;\n    float real = st.x * u_Zoom + u_Xcenter;\n    float imag = st.y * u_Zoom + u_Ycenter;\n\n    float Creal = real;\n    float Cimag = imag;\n\n    float r2 = 0.0;\n    int counter;\n    //float iter;\n\n    for (int iter = 0; iter < 20; ++iter) {\n      float tempReal = real;\n      real = (tempReal * tempReal) - (imag * imag) + Creal;\n      imag = 2.0 * tempReal * imag + Cimag;\n      r2 = (real * real) + (imag * imag);\n        \n      counter = iter;\n      \n      if(r2 >= 4.0) {\n        break;\n      }\n    }\n\n    vec3 color;\n\n    if (r2 < 4.0) {\n      color = mix(u_InnerColor_1, u_InnerColor_2, fract(sqrt(r2)));\n    } else {\n      color = mix(u_OutColor_1, u_OutColor_2, fract(float(counter) * 0.05));\n    }\n\n    fragColor = vec4(color, 1.0);\n}","name":"Image","description":"","type":"image"}]}