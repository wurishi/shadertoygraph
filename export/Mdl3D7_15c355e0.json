{"ver":"0.1","renderpass":[{"outputs":[{"channel":0,"id":"4dfGRr"}],"inputs":[{"channel":0,"type":"video","id":"Xdf3Rn","filepath":"/media/a/e81e818ac76a8983d746784b423178ee9f6cdcdf7f8e8d719341a6fe2d2ab303.webm","sampler":{"filter":"linear","wrap":"clamp","vflip":"false","srgb":"false","internal":"byte"}}],"code":"float atan2(float x, float y )\n{\n\treturn atan( x, y );\n}\n\nvec3 rgb2hsv( const vec3 in_rgb )\n{\n\tfloat u = (2.0 * in_rgb.r - in_rgb.g - in_rgb.b)   / 3.0;\n\tfloat v = ( -in_rgb.r + 2.0 * in_rgb.g - in_rgb.b) / 3.0;\n\n\tvec3 out_hsv;\n\tout_hsv.y = sqrt(u*u + v*v);\n\tout_hsv.x = (out_hsv.y>0.0) ? atan2(u,v) : 0.0;\n\tout_hsv.z = dot( vec3(0.3333333), in_rgb);\n\n\treturn out_hsv;\n}\n\nvec3 hsv2rgb( vec3 in_hsv )\n{\n\tfloat u = in_hsv.y * sin(in_hsv.x);\n\tfloat v = in_hsv.y * cos(in_hsv.x);\n\n\tvec3 out_rgb;\n\tout_rgb.r = in_hsv.z + u;\n\tout_rgb.g = in_hsv.z + v;\n\tout_rgb.b = clamp( in_hsv.z - u - v, 0.0, 1.0 );\n\n\treturn out_rgb;\n}\n\n\nvec3 BayDidIt( const vec3 in_col )\n{\n\tconst float orangeHue = 2.0 * 3.14159265 * 0.22;\n\tconst float tealHue = 2.0 * 3.14159265 * 0.78;\n\tvec2 vorange = vec2( cos(orangeHue), sin(orangeHue) );\n\tvec2 vteal   = vec2( cos(tealHue), sin(tealHue) );\n\t\n\tvec2 vdiff = normalize(vteal - vorange);\n\t\n\tvec3 hsv = rgb2hsv( in_col );\n\tvec2 v = vec2( cos(hsv.x), sin(hsv.x) );\n\tfloat t = dot( v, vdiff );\n\thsv.x = mix( orangeHue, tealHue, t*0.5+0.5);\n\t\n\treturn hsv2rgb( hsv );\n}\n\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n\t//uv.y = 1.0-uv.y;\n\tvec3 rgb = texture( iChannel0, vec2(uv.x,1.0-uv.y) ).rgb;\n\t\n\t//note: test-pattern\n\tif ( uv.y < 0.2 )\n\t{\n\t\tfloat h = uv.x * 3.14159265 * 2.0;\n\t\trgb = hsv2rgb( vec3(h,1,0.25) );\n\t}\n\tif ( uv.y > 0.1 )\n\t{\n\t\trgb = BayDidIt( rgb );\n\t}\n\t\n\tvec4 outcol = vec4( 0, 0, 0, 1 );\t\t\n\toutcol.rgb = rgb;\n\t\t\n\tfragColor = vec4( outcol );\n}\n","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"Mdl3D7","date":"1372508825","viewed":411,"name":"post: Bay Did It!","username":"hornet","description":"Orange and teal!\n(I appear to have some hue-offset somewhere in there... should probably have a look at that...)","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["post","hsv"],"hasliked":0,"parentid":"","parentname":""}}