{"ver":"0.1","info":{"id":"DlfSzl","date":"1675201260","viewed":91,"name":"ReflectionYYYYYYYYYYYYYYYYShader","username":"RedWool","description":"A nyan cat dream","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["awd"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"Xsf3Rn","filepath":"/media/a/cbcbb5a6cfb55c36f8f021fbb0e3f69ac96339a39fa85cd96f2017a2192821b5.png","previewfilepath":"/media/ap/cbcbb5a6cfb55c36f8f021fbb0e3f69ac96339a39fa85cd96f2017a2192821b5.png","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"bool compVec3(vec3 i, vec3 j)\n{\n    bool x = (i.x >= j.x),\n    y = (i.y >= j.y),\n    z = (i.z >= j.z);\n    return x && y && z;\n}\n\nbool checkRange(float i, float low, float size, float lim)\n{\n    return (i >= low && i <= low + size) || \n        (low + size >= lim && i <= mod(low + size, lim));\n}\n\nbool check(float i, float low, float size, float lim)\n{\n    for (float x = 0.; x < 5.; x++)\n    {\n        if (checkRange(i, mod(low + x * 10., lim), size, lim))\n            return true;\n    }\n    return false;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = (fragCoord-iResolution.xy*.5)/iResolution.y,\n    d = vec2(iTime * .2, iTime)*1.1;\n    \n    uv *= 4.;\n    uv *= pow(tan(iTime*.2),2.)+.2;\n    uv.x *= .1;\n    \n    uv += cos(length(fract(uv + d)-.57)*sin(iTime*.5)+2.)*.4;\n\n    // Time varying pixel color\n    vec3 col = vec3(1),//\n    endCol = cos(uv.xyx*.2+iTime*5. + vec3(0,2,4))*.5+.5;\n    //texture(iChannel0, uv+.5 + d).xyz;\n    \n    float// t = mod(iTime,2.)-1.,\n    bg = 50.,\n    low = mod(iTime*3., bg + 1.)-.5,//bg*(3. * pow(t,2.) - 2. * pow(t,3.)) - .1,\n    size = 8., //bg*(3. * pow(t,4.) - 2. * pow(t,5.)) + .1,\n    key = bg;\n    \n    bool checkFlag = false;\n    \n    for (float i = 0.; i < bg; i++)\n    {\n        if (check(i, low, size, bg+1.))\n        {\n            continue;\n        }\n        \n        if (compVec3(col, vec3(.9)))\n        {\n            col = texture(iChannel0, (1. + i*.1)*uv+.5+d).xyz;\n      \n        }\n        else\n        {\n            key = i;\n            break;\n        }\n    }\n    if(compVec3(col, vec3(.9)))\n    {\n        col = endCol;\n    }\n    else\n    {\n        col = mix(col, endCol, key/bg);\n    }\n\n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}