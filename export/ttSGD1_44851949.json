{"ver":"0.1","info":{"id":"ttSGD1","date":"1630427633","viewed":102,"name":"Mandelbrot 0","username":"hjd3481","description":"Quick and dirty mandelbrot explorer with anti-aliasing. improving controls","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["mandelbrot"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define MAX_ITER 150\n\nfloat DoBrot(in vec2 z, in vec2 c)\n{\n    int iters = 0;\n    for( int i=0; i < MAX_ITER; ++i)\n    {\n        vec2 pw = z*z;\n        z = vec2( pw.x - pw.y, 2.0*z.x*z.y ) + c;\n        if( length(z) > 2.0 )\n            break;\n        ++iters;\n    }\n    \n    return float(iters)/float(MAX_ITER);\n}\n\nfloat GetSampleBrot(in vec2 fragCoord, float scaler, in vec2 centre, in vec2 z, vec2 offset )\n{\n    vec2 uv2 = ((fragCoord+offset)-iResolution.xy*0.5)/scaler;\n    vec2 c2 =  (uv2) + centre;\n    //vec2 c2 =  (uv2) + centre + ((iMouse.xy-iResolution.xy*0.5)/iResolution.xy);\n    return DoBrot(z,c2); \n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    const float zoomSpeed = 0.25;\n    float scaler = (iResolution.x*pow(2.0,iTime*zoomSpeed))-800.0;\n    vec2 uv = (fragCoord-iResolution.xy*0.5)/scaler;\n\n    vec3 col = vec3(0);\n   \n    vec2 z = vec2(0);\n    \n    //vec2 centre = vec2(0.4027,0.303);\n    vec2 centre = vec2(0.40269835,0.3029960);\n    //centre += ((iMouse.xy-iResolution.xy*0.5)/iResolution.xy);\n\n    vec2 c =  (uv) + centre;\n   \n    \n           \n    float I = DoBrot(z,c) * 2.0; //centre pixel gets double influence, otherwise its just a blur op\n    \n    I += GetSampleBrot(fragCoord, scaler, centre, z, vec2(-0.5,-0.5));\n    I += GetSampleBrot(fragCoord, scaler, centre, z, vec2( 0.5,-0.5));\n    I += GetSampleBrot(fragCoord, scaler, centre, z, vec2(-0.5, 0.5));\n    I += GetSampleBrot(fragCoord, scaler, centre, z, vec2( 0.5, 0.5));\n\n    I *= (1.0/6.0);\n\n    col.xyz = vec3( pow(I,4.0) );   \n    col.x = ( pow(I,1.0) );   \n    col.y = ( pow(I,2.0) );   \n    \n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}