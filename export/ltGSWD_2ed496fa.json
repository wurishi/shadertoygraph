{"ver":"0.1","info":{"id":"ltGSWD","date":"1484331561","viewed":2223,"name":"Wavy Background Effect","username":"gigaherz","description":"I was reminiscing of the background in the main menu of the Sony PSP...\n\nThis is not accurate, nor meant to be. It's only a proof of concept.","likes":47,"published":1,"flags":0,"usePreview":0,"tags":["2d","waves","background","playstation","psp"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":" \nfloat gradient(float p)\n{\n    vec2 pt0 = vec2(0.00,0.0);\n    vec2 pt1 = vec2(0.86,0.1);\n    vec2 pt2 = vec2(0.955,0.40);\n    vec2 pt3 = vec2(0.99,1.0);\n    vec2 pt4 = vec2(1.00,0.0);\n    if (p < pt0.x) return pt0.y;\n    if (p < pt1.x) return mix(pt0.y, pt1.y, (p-pt0.x) / (pt1.x-pt0.x));\n    if (p < pt2.x) return mix(pt1.y, pt2.y, (p-pt1.x) / (pt2.x-pt1.x));\n    if (p < pt3.x) return mix(pt2.y, pt3.y, (p-pt2.x) / (pt3.x-pt2.x));\n    if (p < pt4.x) return mix(pt3.y, pt4.y, (p-pt3.x) / (pt4.x-pt3.x));\n    return pt4.y;\n}\n\nfloat waveN(vec2 uv, vec2 s12, vec2 t12, vec2 f12, vec2 h12)\n{\n    vec2 x12 = sin((iTime * s12 + t12 + uv.x) * f12) * h12;\n\n    float g = gradient(uv.y / (0.5 + x12.x + x12.y));\n    \n\treturn g * 0.27;\n}\n\nfloat wave1(vec2 uv)\n{\n    return waveN(vec2(uv.x,uv.y-0.25), vec2(0.03,0.06), vec2(0.00,0.02), vec2(8.0,3.7), vec2(0.06,0.05));\n}\n\nfloat wave2(vec2 uv)\n{\n    return waveN(vec2(uv.x,uv.y-0.25), vec2(0.04,0.07), vec2(0.16,-0.37), vec2(6.7,2.89), vec2(0.06,0.05));\n}\n\nfloat wave3(vec2 uv)\n{\n    return waveN(vec2(uv.x,0.75-uv.y), vec2(0.035,0.055), vec2(-0.09,0.27), vec2(7.4,2.51), vec2(0.06,0.05));\n}\n\nfloat wave4(vec2 uv)\n{\n    return waveN(vec2(uv.x,0.75-uv.y), vec2(0.032,0.09), vec2(0.08,-0.22), vec2(6.5,3.89), vec2(0.06,0.05));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord.xy / iResolution.xy;\n    \n    float waves = wave1(uv) + wave2(uv) + wave3(uv) + wave4(uv);\n    \n\tfloat x = uv.x;\n\tfloat y = 1.0 - uv.y;\n    \n    vec3 bg = mix(vec3(0.05,0.05,0.3),vec3(0.1,0.65,0.85), (x+y)*0.55);\n    vec3 ac = bg + vec3(1.0,1.0,1.0) * waves;\n\n    fragColor = vec4(ac, 1.0);\n}","name":"Image","description":"","type":"image"}]}