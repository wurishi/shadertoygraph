{"ver":"0.1","info":{"id":"XsXfWr","date":"1495567149","viewed":206,"name":"Simple sunset","username":"voidc","description":"My first shader!","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["2d"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XdfGRn","filepath":"/media/a/e6e5631ce1237ae4c05b3563eda686400a401df4548d0f9fad40ecac1659c46c.jpg","previewfilepath":"/media/ap/e6e5631ce1237ae4c05b3563eda686400a401df4548d0f9fad40ecac1659c46c.jpg","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4sf3Rn","filepath":"/media/a/0a40562379b63dfb89227e6d172f39fdce9022cba76623f1054a2c83d6c0ba5d.png","previewfilepath":"/media/ap/0a40562379b63dfb89227e6d172f39fdce9022cba76623f1054a2c83d6c0ba5d.png","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float noise(vec2 p)\n{\n    return texture(iChannel0, p / 32.0).r;\n}\n\nmat2 m = mat2(0.8, 0.6, -0.6, 0.8);\nfloat fbm(vec2 p)\n{\n    float f = 0.0;\n    f += 0.5 * noise(p); p *= m*2.01;\n    f += 0.25 * noise(p); p *= m*2.03;\n    f += 0.125 * noise(p); p *= m*2.02;\n    f += 0.0625 * noise(p); p *= m*2.04;\n    return f / 0.9375;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 coord = fragCoord.xy / iResolution.xy;\n    vec2 p = 2.0 * coord - 1.0;\n    p.x *= iResolution.x/iResolution.y;\n    \n    float h = 1.0 - 2.0 * iTime / 15.0;\n    float r = length(vec2(p.x, p.y - h));\n    \n    vec3 col = vec3(1.0,0.8,0.6);\n    if(r < 0.6)\n    {\n        vec3 sun = vec3(0.8,0.6,0.0);\n        float f = fbm(5.0*p);\n        sun = mix(sun, vec3(0.8,0.2,0.0), f);\n        col = mix(col, sun, 1.0-smoothstep(0.55, 0.6, r));\n    }\n    col = log(col / log(1.0+r));\n    \n    vec3 stars = texture(iChannel1, p / 3.0).rgb;\n    col = mix(col, stars, smoothstep(0.6, 1.5, r));\n    \n    col *= smoothstep(-0.5, 0.0, p.y - 0.1 * p.x * p.x);\n    \n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}