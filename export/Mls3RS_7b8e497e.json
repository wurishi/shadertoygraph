{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"\nconst int firstOctave = 3;\nconst int octaves = 8;\nconst float persistence = 0.5;\n\n\n\nfloat noise(vec2 offset, int x, int y, int loop)\n{\n    float fx = mod(float(x), float(loop));\n    float fy = mod(float(y), float(loop));    \n    \n    return 2.0 * fract(sin(dot(offset + vec2(fx, fy) ,vec2(12.9898,78.233))) * 43758.5453) - 1.0;\n}\n\nfloat smoothedNoise(vec2 offset, int x, int y, int loop)\n{\n\treturn (noise(offset, x - 1, y - 1, loop) + noise(offset, x + 1, y - 1, loop) + noise(offset, x - 1, y + 1, loop) + noise(offset, x + 1, y + 1, loop)) / 16.0\n        + (noise(offset, x - 1, y, loop) + noise(offset, x + 1, y, loop) + noise(offset, x, y - 1, loop) + noise(offset, x, y + 1, loop)) / 8.0\n        + noise(offset, x, y, loop) / 4.0;\n}\n\n\nfloat interpolatedNoise(vec2 offset, vec2 p, int loop)\n{\n\tint ix = int(p.x);\n    int iy = int(p.y);\n    \n    float fx = p.x - float(ix);\n    float fy = p.y - float(iy);\n    \n    float v1 = smoothedNoise(offset, ix, iy, loop);\n    float v2 = smoothedNoise(offset, ix + 1, iy, loop);\n    float v3 = smoothedNoise(offset, ix, iy + 1, loop);\n    float v4 = smoothedNoise(offset, ix + 1, iy + 1, loop);\n    \n    float i1 = mix(v1, v2, fx);\n    float i2 = mix(v3, v4, fx);\n    \n    float i = mix(i1, i2, fy);\n    \n    return i;\n}\n\nfloat perlinNoise(vec2 uv)\n{\n\tfloat total = 0.0;\n    \n    float totalWeight = 0.0;\n    for (int i = firstOctave; i < octaves + firstOctave; ++i)\n    {\n\t\tfloat frequency = pow(2.0, float(i));\n        float amplitude = pow(persistence, float(i));\n        \n        vec2 offset = float(i) * vec2(1023.0, 117.0) + 0.0001 * iTime;\n        \n        totalWeight += amplitude;\n        \n        total += interpolatedNoise(offset, uv * frequency, int(frequency)) * amplitude;\n    }\n    \n    total /= totalWeight;\n    \n    return total;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    \n    float perlinNoiseValue = 0.5 + 0.5 * perlinNoise(uv);\n    \n\tfragColor = vec4(perlinNoiseValue, perlinNoiseValue, perlinNoiseValue, 1.0);\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"Mls3RS","date":"1423098026","viewed":638,"name":"Perlin Noise Clouds","username":"YoYo","description":"Perlin Noise","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["noise"],"hasliked":0,"parentid":"","parentname":""}}