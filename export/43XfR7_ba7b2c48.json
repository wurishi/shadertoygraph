{"ver":"0.1","info":{"id":"43XfR7","date":"1728150415","viewed":38,"name":"niko illusion","username":"RavenWorks","description":"watch your perception of the background change as the bars drift by!\nfor context:  I don't know if this illusion has a proper name!  I noticed it while playing the game OneShot, so I named it after that game's protagonist.","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["opticalillusion","perceptualillusion"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const int pxWide = 128;\nconst float contrast = 0.03;\n\nvec3 calculateStep(int gridStep,float y){\n    int frame = int(iTime*30.0);\n    vec3 col = (((gridStep%2)==(frame%2))?0.5-contrast:0.5+contrast)*vec3(1,1,1);\n    int barStep = frame%(pxWide*2);\n    if ((frame%(pxWide*4)) > (pxWide*2)) barStep = pxWide-barStep;\n    if ((y < 0.5) && (gridStep == barStep)) col = vec3(0,0.5,0);\n    return col;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    float gridStepContinuous = uv.x*float(pxWide);\n    \n    vec3 colCurr = calculateStep(int(gridStepContinuous),uv.y);\n    vec3 colNext = calculateStep(int(gridStepContinuous)+1,uv.y);\n    float aa = dFdx(gridStepContinuous);\n    float blendAmt = smoothstep(0.5-aa,0.5+aa,mod(gridStepContinuous,1.0));\n    vec3 colMix = mix(colCurr,colNext,blendAmt);\n\n    fragColor = vec4(colMix,1.0);\n}","name":"Image","description":"","type":"image"}]}