{"ver":"0.1","info":{"id":"wltcWS","date":"1610098516","viewed":112,"name":"colors yesssssssssss","username":"chillsynthian_dave","description":"aaaa IT REACTS TO AUDIO\n\nclick on the display somewhere to display it","likes":1,"published":1,"flags":64,"usePreview":0,"tags":["color"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"MtXXRN","filepath":"https://soundcloud.com/irsl/irsl-pack-2","previewfilepath":"https://soundcloud.com/irsl/irsl-pack-2","type":"musicstream","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":0}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\n#define rot(rad) mat2(cos(rad),-sin(rad),sin(rad),cos(rad))\n\n#define sin2(a) asin(sin(a))\n\nvec3 rgb2hsv(vec3 c)\n{\n    vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\n    vec4 p = mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g));\n    vec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r));\n\n    float d = q.x - min(q.w, q.y);\n    float e = 1.0e-10;\n    return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);\n}\n\nvec3 hsv2rgb(vec3 c)\n{\n    vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n    vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n    return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\n\n\n\n\n\n\nfloat M_PI = 3.14;\n\nfloat plot(vec2 st, float pct){\n  return  smoothstep( pct-0.02, pct, st.y) -\n          smoothstep( pct, pct+0.02, st.y);\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec3 c = vec3(0.0);\n    vec2 st = fragCoord.xy/iResolution.xy;\n    \n    float fft  = texture( iChannel0, vec2(st.x,0.25), 0.2 ).x;\n    \n    for(int i=0; i<3; i++) {\n\n        \n        st.x -= 0.5;\n        st.y -= 0.5;\n        \n        st = sin(st*3.0)+fft*0.5;\n        float color = 0.0;\n        float y = sin(st.x * 22.0* float(i) * (1.0 -sin(iTime * 32.0)) + iTime)+ sin(st.x * 55.4 + 5.0*iTime) + sin(st.x * 52.4 + 07.3*iTime); \n\n        float x = sin(st.y * 25.3 * float(i) + iTime) + sin(st.y * 11.4 * float(i) * (1.0 - sin(2.0*iTime)) +0.7*iTime) + sin(st.y * 52.4 + 03.3*iTime); \n        \n        st /= dot(st,st);\n        \n        y = y * 0.125 + 0.5;\n        x = x * 0.125 + 0.5;\n        \n        x = x;// *(fft);\n        y = y;// *(fft);\n        color = mix(y,x,sin(iTime));\n        \n        \n        //color.xz *= rot(float(i) * 4.);\n        \n        //Plot a line\n        //float pct = plot(st, y);\n        //color = (1.0-pct)*color+pct*vec3(0.0,1.0,0.0) * fft;\n        \n        \n        \n        \n        //c[i] = sin((color + mod(iTime, 4.*M_PI))) ;\n        \n        c[i] = color + sin(iTime * pow(float(i), 1.5));\n        \n        \n        float bit = iMouse.x/iResolution.x * 36.0;\n        \n        c[i] = floor(c[i]*bit)/bit;\n        \n        //c[i] *= fft;\n        \n    }\n    \n    vec3 oog = rgb2hsv(c);\n    \n    oog.x = sin(iTime + fft);\n    \n    c = hsv2rgb(oog);\n    \n\tfragColor = vec4(c,1.0);\n    \n}","name":"Image","description":"","type":"image"}]}