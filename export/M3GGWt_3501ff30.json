{"ver":"0.1","info":{"id":"M3GGWt","date":"1718379002","viewed":34,"name":"Twisted Face","username":"Riven","description":"pixel style emoji","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["2d","sdf","pixelstyleemoji"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec2 fixUV(in vec2 c){\n    return 1.5*(2.*c-iResolution.xy)/min(iResolution.x,iResolution.y);\n}\n\n\nfloat sdfRect(in vec2 p,vec2 size){\n vec2 d=abs(p)-size;\n \n return length(max(d,0.)+min(max(d.x,d.y),0.));\n}\n\n\nfloat sphere(in vec2 uv){\n    float r= 0.05;\n    uv.x=abs(uv.x);\n    uv.y+=1.;\n    uv.x-=0.15; \n    uv.y+=0.05*sin(15.*iTime);\n    float d=length(uv)-r;\n\n    return d;\n}\n\nfloat eye(in vec2 uv){\n    uv.x*=sign(uv.x);\n    uv.x=abs(uv.x);\n    uv.x-=0.11;\n    uv.y-=1.;\n    float d=length(uv);\n    \n    \n    return d;\n}\n\nfloat mouth(vec2 uv,vec2 size){\n\n    uv.y+=1.;\n    uv.y*=0.4+mod(ceil(iTime),2.);\n    uv.x*=0.6;\n    vec2 d=abs(uv)-size;\n    float c=length(max(d,0.)+min(max(d.x,d.y),0.));\n    \n    return c;\n\n}\nvec3 face(in vec2 uv){\n    vec3 color=vec3(1.);\n    uv=floor(uv*40.)/40.;     //像素\n     float flow=0.5*cos(iTime)+0.5;\n     uv.x+=sin(uv.y*9.+30.*flow)*0.1;    //twist\n\n   \n    float c=sdfRect(uv,vec2(0.01,1.));\n    float rect=smoothstep(0.2,0.19,c);\n    float edgeface=smoothstep(0.21,0.2,c)-smoothstep(0.2,0.19,c);\n\n    color=vec3(0.9,0.7,0.)*rect;  \n    float inrect=smoothstep(0.19,0.,c)*0.6;\n    color=mix(color,vec3(1.),inrect); \n    color=mix(color,vec3(0.4,0.3,0.),edgeface);   //body\n\n\n    float d=sphere(uv);\n    float edge=smoothstep(0.05,0.04,d);\n    float s1=smoothstep(0.04,0.02,d);\n    float s2=smoothstep(0.02,-0.07,d);\n    color=mix(color,vec3(0.4,0.3,0.),edge);\n    color=mix(color,vec3(0.9,0.8,0.),s1);\n    color=mix(color,vec3(1.,1.3,0.),s2);    //hands\n\n    float eyes=smoothstep(0.1,0.09,eye(uv));\n    float eyedge=smoothstep(0.11,0.1,eye(uv));\n    float t=0.5*cos(15.*iTime)+0.5;\n    \n    float x=smoothstep(0.02,0.01,mouth(uv,vec2(.01,.01)));\n    color=mix(color,vec3(.7,.3,.0),x);\n    \n    float highlight=smoothstep(0.04,0.02,eye(uv+vec2(0.06*t,-0.03)));\n    uv.y*=0.6;uv.y+=0.4;\n    float flash=.5*sin(ceil(4.*iTime))+.5;    \n    float highlight2=smoothstep(0.03*flash,0.01*flash,eye(uv+vec2(-0.01,0.02)));\n\n    color=mix(color,vec3(0.),eyedge);\n    color=mix(color,vec3(0.45,0.3,0.),eyes);\n    color=mix(color,vec3(1.),highlight);\n    color=mix(color,vec3(1.),highlight2);    //highlight\n\n   return color;\n}\n\nvoid mainImage(out vec4 fragColor,in vec2 fragCoord){\nvec2 uv=fixUV(fragCoord);\n\nvec3 color=face(uv);\nfragColor=vec4(color,1.);\n}","name":"Image","description":"","type":"image"}]}