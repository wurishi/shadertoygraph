{"ver":"0.1","info":{"id":"dtGcDG","date":"1700586435","viewed":42,"name":"Random cell aesthetic","username":"Konod","description":"Inspired by Ryoji Ikeda's work.\nhttps://www.youtube.com/watch?v=cywFvcRR-QI\n\nClick and drag your mouse on the screen!","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["noise","cell"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const vec2 cellSize = vec2(150.f, 10.f);\nconst vec2 speedMaxMeanAndRange = vec2(1.5f, 0.7f);\nconst float cellFrequency = 0.2f;\n\nfloat speed(float p) {\n    vec2 mousePos = iMouse.xy / iResolution.xy;\n    mousePos.x = -2.f * mousePos.x + 1.f;\n    vec2 currentSpeedMeanAndRange = mousePos * speedMaxMeanAndRange;\n    return (p - 0.5f) * currentSpeedMeanAndRange.y + currentSpeedMeanAndRange.x;\n}\n\nfloat hash(float p) {\n    p = sin(dot(vec2(p, p + 3.14),vec2(3.512,7.987)));\n        return fract(p * 3126.0);\n}\n\nfloat hash2(vec2 p) {\n    p = mod(p, 2.123);\n    p += dot(p,vec2(3.512,7.987));\n    return fract(p.x*p.y * 3516.0);\n}\n\nfloat hash2time(vec2 p, float t) {\n    p = mod(p, 3.364);\n    t = mod(t, 5.946);\n    p += dot(p + vec2(t, 0.f),vec2(4.615,2.197));\n    return fract(p.x*p.y * 2483.0);\n}\n\nfloat randHorSpeed(float p) {\n    float r = hash(p);\n    return speed(r);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    uv.x += (1.0 + iTime) * randHorSpeed(floor(uv.y * cellSize.y));\n    uv *= cellSize;\n\n    vec2 iuv = floor(uv);\n    vec2 fuv = fract(uv);\n\n    float cell = step(hash2(iuv), cellFrequency);\n    cell *= step(abs(fuv.y - 0.5f), 0.45f);\n    \n    if (hash2time(iuv, iTime * 0.000001f) < 0.15f) {\n        cell *= step(abs(fuv.x - 0.5f), 0.2f);\n    }\n\n    fragColor = vec4((hash(iuv.y) + 0.3f) * 0.75f * vec3(cell),1.0);\n}","name":"Image","description":"","type":"image"}]}