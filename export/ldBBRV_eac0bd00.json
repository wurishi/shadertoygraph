{"ver":"0.1","info":{"id":"ldBBRV","date":"1501123523","viewed":395,"name":"Tusi Blob","username":"liamboone","description":"A quick loop using metaballs and tusi couples","likes":23,"published":1,"flags":0,"usePreview":0,"tags":["metaball","blob","glow","loop","tusicouple"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define saturate(x) (clamp(x, 0., 1.))\n\n\nconst float PI = 3.14159;\n\nfloat blob(vec2 pos, vec2 center, float power)\n{\n    vec2 d = saturate(pow(pos - center, vec2(power)));\n    \n    return 1. / abs(d.x + d.y);\n}\n\nvec2 rotate(vec2 p, float t)\n{\n    return mat2(cos(t), -sin(t),\n                  sin(t),  cos(t)) * p;\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\t//Get coordinates in the range [-1.0, 1.0]\n    vec2 uv = (fragCoord.xy) / iResolution.xy;\n    uv = (uv - 0.5) * 2.0; \n\n    //Adjust for aspect ratio\n    vec2 aspect_uv = uv * (iResolution.xy / iResolution.y);\n    \n    \n    float blobs = 0.8 * blob(aspect_uv, vec2(0.), 2.);\n    \n    float phi = 0.;\n    \n    const int N = 7;\n    \n    for (int i = 0; i < N; ++i)\n    {\n        blobs += 0.0001 * blob(rotate(aspect_uv, phi), \n                               vec2(sin(iTime + phi) * 0.64, 0.),\n                               4.);\n        \n        blobs += 0.001 * blob(rotate(aspect_uv, phi), \n                              vec2(-sin(iTime + phi + 5. * PI / 6.) * 0.50, 0.),\n                              2.);\n        phi += PI / float(N);\n    }\n    \n    float x = smoothstep(3., 6., blobs);\n    float y = smoothstep(3., 5., blobs);\n    float z = smoothstep(3., 8., blobs);\n    \n    fragColor = vec4(2.1, 2., 2.1, 2.) - vec4(x * vec3(1., 0.5, 0.5) + \n                                              y * vec3(0.5, 1., 0.5) + \n                                              z * vec3(0.5, 0.5, 1.), 1.);\n    \n    \n    fragColor = vec4((1. - vec3(pow(length(uv * 0.4), 1.5))) * vec3(0.9, 1.0, 0.9),\n                     1.) * saturate(pow(fragColor, vec4(2.7)));\n}","name":"Image","description":"","type":"image"}]}