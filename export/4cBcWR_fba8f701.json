{"ver":"0.1","info":{"id":"4cBcWR","date":"1722099566","viewed":58,"name":"Moises","username":"Elsio","description":"aquele cara que abriu o mar","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["fractal","light","path","tunel"],"hasliked":0,"parentid":"lfSczw","parentname":"Tunel com textura e luzes"},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define pathParams(a, b, c, d, z) vec2(a * sin(z * b), c * cos(z * d))\n#define rot(a) mat2(cos(a + vec4(0, 11, 33, 0)))\n#define path3(z) pathParams(2., .3, 1., .2, z)\n#define path2(z) pathParams(1.1, .33, 2.1, .23, z)\n#define path(z) pathParams(1.3, .31, 2.3, .21, z)\n#define t  iTime * 2.4\n\nvec4 cor;\nfloat b1, b2, b3;\n\nfloat map(vec3 p) {\n    float e, a = .5;\n    vec3 f;\n    while(a < 64.)\n        f = p * a * 5.,\n        f.y -= t * .8,\n        e += .04 * abs(dot(sin(f), p/p)) / a - .03,\n        a += a;\n        \n    vec2 t1 = p.xy - path(p.z);\n    vec2 t2 = p.xy - path2(p.z);\n    vec2 t3 = p.xy - path3(p.z);\n    \n    float d1   = length(t1),\n          d2   = length(t2),\n          d3   = length(t3),\n          bl1  = length(p - vec3(path(b1), b1)) - .1,\n          bl2  = length(p - vec3(path2(b2), b2)) - .2,\n          bl3  = length(p - vec3(path3(b3), b3)) - .1;\n    \n    cor = mix( vec4(.3), \n               vec4(1, 4, 8, 0) / 30., \n               smoothstep(-.1, .1, d1 * 2. - 1.9) - .3);\n    \n    return min(min(min(bl1, bl2), bl3), 1.05 - min(min(d1, d2), 1.) + e);\n}\n\n\nvoid mainImage(out vec4 o, vec2 u) {\n    vec3 col, p, ro, fw, rt, up, rd,\n         R = iResolution;\n         u = (u + u - R.xy) / R.y;\n         \n    float s = 1., d, i; \n\n    ro.z  = t;\n    ro.xy = path(ro.z);\n    \n    p.z  = t - .1;\n    p = vec3(path(p.z), p.z);\n\n    fw = normalize(ro - p);\n    rt = vec3(fw.z, 0., -fw.x);\n    up = cross(fw, rt);\n    rd = fw + (u.x * rt + u.y * up) / 2.4;\n    \n    b1 = cos(.3 * t) * 3. + t + 5.,\n    b2 = sin(.4 * t) * 4. + t + 5.;\n    b3 = sin(.2 * t) * 1. + t + 5.;\n    \n    while(i++ < 120. && s > .001)\n        s = map(p) * .5, \n        p += s * rd;\n        \n    float\n        bl1  = length(p - vec3(path(b1), b1)) - .1,\n        bl2  = length(p - vec3(path2(b2), b2)) - .1,\n        bl3  = length(p - vec3(path3(b3), b3)) - .1;\n          \n    o = cor;\n    o += 1. / i;\n    o.rgb += 2. / exp(2. * bl1);\n    o.g += 2. / exp(3. * bl2);\n    o.b += 1. / exp(1. * bl3);\n    o *= o;\n}","name":"Image","description":"","type":"image"}]}