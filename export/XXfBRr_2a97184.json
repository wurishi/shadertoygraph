{"ver":"0.1","info":{"id":"XXfBRr","date":"1727910889","viewed":13,"name":"Rotated Tesselated Mandelbrot","username":"iamr","description":"mandelbrot, translated and duplicated","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["fractal"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec2 get_next_position(vec2 position, vec2 first_position)\n{\n    vec2 result = vec2(0.0);\n    \n    result.x += position.x * position.x - position.y * position.y;\n    result.y += position.x * position.y * 2.0;\n    \n    result += first_position;\n    \n    return result;\n}\n\nint get_iteration(vec2 first_position, int max_iteration)\n{\n    vec2 position = vec2(0.0);\n    \n    for (int i = 0; i < max_iteration; i++)\n    {\n        position = get_next_position(position, first_position);\n        if (length(position) > 2.0) return i;\n    }\n    \n    return max_iteration;\n}\n\n// All components are in the range [0â€¦1], including hue.\nvec3 hsv2rgb(vec3 c)\n{\n    vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n    vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n    return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n    //Transform coordinate\n    vec2 uv = fragCoord / iResolution.xy;\n    uv = uv - 0.45;\n    \n    float aspect = iResolution.x / iResolution.y;\n    uv.x = uv.x * aspect;\n    \n    uv = uv * 2.0;\n    \n    float theta = radians(10.0)*iTime;\n    mat2 rot = mat2(sin(theta),cos(theta),-cos(theta),sin(theta));\n    \n    //rot = mod(rot, radians(10));\n    uv = rot * uv;\n    \n    uv = mod(uv,0.5);\n        \n    //Zoom in\n    uv /= exp(fract(iTime / 30.0) * 20.0);\n    uv += vec2(-0.74933931, -0.040738914);\n    \n    //Get brightness\n    int iteration = get_iteration(uv, 2080);\n    \n    float brightness = float(iteration) / 256.0;\n    \n    \n    \n    \n    //Display color\n    vec3 col = hsv2rgb(vec3(brightness,iteration,brightness));\n    fragColor = vec4(col, 1.0);\n}","name":"Image","description":"","type":"image"}]}