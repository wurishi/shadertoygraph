{"ver":"0.1","info":{"id":"cljfRy","date":"1694512466","viewed":56,"name":"Wave equation2","username":"Zelcious","description":"wave equation","likes":2,"published":1,"flags":32,"usePreview":0,"tags":["wave"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec4 center = texelFetch(iChannel0, ivec2(fragCoord), 0);\n    vec3 n = vec3(dFdx(center.x), dFdy(center.x), 0.0)*2.0;\n    n.z = sqrt(1.0 - n.x*n.x - n.y*n.y);\n    fragColor = vec4(center.x, -center.x, 0.0, 1.0);\n    fragColor.xyz = fragColor.xyz*0.5+0.5;\n    fragColor.xyz *= 0.3+0.7*max(0.0, dot(n, vec3(1.0, 1.0, 1.0)));\n    //fragColor.xyz += pow(dot(n, normalize(vec3(1.0, 1.0, 1.0))), 16.0);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"vec4 read(vec2 pos)\n{\n    return texture(iChannel0, pos*vec2(1.0/iResolution.xy));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord2 )\n{\n    float y = fragCoord2.y/iResolution.y;\n    vec2 fragCoord = fragCoord2 + vec2(y*(1.0-y)*14.0, 0.0)*0.8;\n    if(iTime < 0.1)\n    {\n        fragColor = vec4(0.0, 0.0, 0.0, 0.0);\n        return;\n    }\n    \n    vec2 center = read(fragCoord).xy;\n    float left = read(fragCoord+vec2(-1,0)).x;\n    float right = read(fragCoord+vec2(1,0)).x;\n    float bottom = read(fragCoord+vec2(0,-1)).x;\n    float top = read(fragCoord+vec2(0,1)).x;\n    \n    float lap = left+right+top+bottom - 4.0*center.x;\n\n    float a = 20.5;\n    \n    float h = center.x;\n    float v = center.y;\n    \n    v += lap*a*a*iTimeDelta;\n    h += v*iTimeDelta;\n    \n    if(distance(fragCoord, iMouse.xy) < 5.0 && distance(fragCoord, vec2(0.0, 0.0)) > 100.0)\n    {\n        v += cos(iTime*5.0)*100.0*iTimeDelta;\n        //h = -1.0;\n        \n    }\n    float damp = pow(0.95, iTimeDelta);\n    v *= damp;\n    h *= damp;\n    \n    fragColor.xy = vec2(h,v);\n}","name":"Buffer A","description":"","type":"buffer"}]}