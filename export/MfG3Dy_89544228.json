{"ver":"0.1","info":{"id":"MfG3Dy","date":"1713480032","viewed":264,"name":"Fork Terrain fr juk 300","username":"juk","description":"Fun to switch to webcam","likes":7,"published":3,"flags":34,"usePreview":0,"tags":["terrain","erosion"],"hasliked":0,"parentid":"XcyGzd","parentname":"Terrain from Texture"},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"Main {\n    Q = A(U);\n    vec4 n = A(U+vec2(0,1));\n    vec4 e = A(U+vec2(1,0));\n    vec4 s = A(U-vec2(0,1));\n    vec4 w = A(U-vec2(1,0));\n    Q = (.5+1.2*(n.x))*sin(5.*(n.y+e.x-s.y-w.x)+vec4(3,2.3,1.4,0));\n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"#define R iResolution.xy\n#define A(U) texture(iChannel0,(U)/R)\n#define B(U) texture(iChannel1,(U)/R)\n#define Main void mainImage(out vec4 Q, in vec2 U)","name":"Common","description":"","type":"common"},{"inputs":[{"id":"4sf3zn","filepath":"/presets/webcam.png","previewfilepath":"/presets/webcam.png","type":"webcam","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"Main {\n    \n    U -= A(U).xy;\n    \n    Q = A(U);\n    \n    vec4 n = A(U+vec2(0,1));\n    vec4 e = A(U+vec2(1,0));\n    vec4 s = A(U-vec2(0,1));\n    vec4 w = A(U-vec2(1,0));\n    vec4 m = 0.25*(n+e+s+w);\n    m = mix(Q,m,vec4(1,1,1.,1));\n    vec2 v = vec2(e.z-w.z,n.z-s.z);\n    if (length(v)>0.)\n    Q.xy = mix(m.xy,normalize(v),.01);\n    Q.w = .25*(n.y+e.x-s.y-w.x);\n    Q.z = m.w+100.*B(U).z;\n    \n    if (iFrame<1) Q = B(U);\n    \n\n}","name":"Buffer A","description":"","type":"buffer"}]}