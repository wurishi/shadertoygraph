{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"// Created by inigo quilez - iq/2013\n// License Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.\n\n// I've not seen anybody out there computing correct cell interior distances for Voronoi\n// patterns yet. That's why they cannot shade the cell interior correctly, and why you've\n// never seen cell boundaries rendered correctly. \n//\n// However, here's how you do mathematically correct distances (note the equidistant and non\n// degenerated grey isolines inside the cells) and hence edges (in yellow):\n//\n// https://iquilezles.org/articles/voronoilines\n\n\n#define ANIMATE\n\nfloat hash( float n )\n{\n    return fract(sin(n)*43758.5453);\n}\n\nvec2 hash( vec2 p )\n{\n    p = vec2( dot(p,vec2(127.1,311.7)), dot(p,vec2(269.5,183.3)) );\n\treturn fract(sin(p)*43758.5453);\n}\n\n\nvec2 rotate(vec2 v, float alpha)\n{\n\tfloat vx = v.x*cos(alpha)-v.y*sin(alpha);\n\tfloat vy = v.x*sin(alpha)+v.y*cos(alpha);\n\tv.x = vx;\n\tv.y = vy;\n\treturn v;\n}\n\nfloat particles( in vec2 x )\n{\n    vec2 n = floor(x);\n    vec2 f = fract(x);\n\n    float d = 0.0;\n    for( int i=0; i<=150; i++ )\n\t{\n\t\tvec2 particle = hash(float(i)*vec2(0.323,0.156));\n\t\t\n        particle += 0.05*sin(1.0*iTime + 6.2831*particle );\n\t\t\n\t\tfloat w = 3.0*hash(float(i)*0.254);\n\t\td += w/length(particle-x);\n    }\n\n    return d;\n}\n\nfloat sinm(float t, float vmin, float vmax)\n{\n\treturn (vmax-vmin)*0.5*sin(t)+vmin+(vmax-vmin)*0.5;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 p = fragCoord.xy/iResolution.xx;\n\n    float c = particles( p );\n\tfloat s = 0.005*c + 1.0*sin(100.0*log(c)) - 3.0*1.5;\n\t\n    vec3 col = (0.5 + 0.5*s)*vec3(s*0.95321,s*0.35,0.25);\n\t\n\tfragColor = vec4(col,1.0);\n}\n","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"lsXSzH","date":"1396625157","viewed":351,"name":"Elevation","username":"arthursw","description":"Elevation lines","likes":12,"published":1,"flags":0,"usePreview":0,"tags":["2d","elevation"],"hasliked":0,"parentid":"","parentname":""}}