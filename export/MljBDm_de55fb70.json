{"ver":"0.1","info":{"id":"MljBDm","date":"1516137533","viewed":80,"name":"Pattern01162018b","username":"edapx","description":"patterns","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["2d","patterns","flowers"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#ifdef GL_ES\nprecision mediump float;\n#endif\n#define TWO_PI 6.28318530718\n\n// Utilities\nfloat strokeSmoot(float x, float pos, float width){\n  return smoothstep(pos, pos+0.01,x+ width*0.5) -\n         smoothstep(pos, pos+0.01,x- width*0.5);\n}\n\nfloat circle(vec2 st, float diameter){\n  return length(st - 0.5) * diameter;\n}\n\nfloat flip(float v, float pct){\n  return mix(v, 1. - v, pct);\n}\n\nfloat fill(float sdfVal, float size){\n  return smoothstep(size, size+0.02,sdfVal);\n}\n\nmat2 rotate2d(float _angle){\n    return mat2(cos(_angle),-sin(_angle),\n                sin(_angle),cos(_angle));\n}\n\nfloat quadrifoglio (vec2 st, float diameter, float utime, float speed, float tickness){\n  float time = utime * speed;\n  float offset = .25;\n  float cross = 2.1;\n  float petalsDist = .24;\n  float petalsThickA = -.019 + abs(cos(time * 9.) * tickness);\n  float petalsThickB = -.019 + abs(sin(time * 4.5) * tickness);\n  \n  float center = circle(st, diameter);\n\n  vec2 petAcen = st-vec2(offset, offset);\n  float radiusA = length(petAcen);\n  float petA = circle(petAcen,radiusA*cross);\n\n  vec2 petBcen = rotate2d(TWO_PI/4.) * petAcen;\n  petBcen -= vec2(0., -.5);\n  float radiusB = length(petBcen);\n  float petB = circle(petBcen,radiusB*cross);\n\n  float petals = strokeSmoot(petA, petalsDist,petalsThickA);\n  petals += strokeSmoot(petB, petalsDist,petalsThickB);\n\n  float color = flip(petals,\n                fill(center, .155));\n  return color;\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ){\n    vec3 blueCol = vec3(0.001,0.381,0.905);\n    vec3 redCol = vec3(0.905,0.283,0.046);\n    vec3 greenCol = vec3(0.683,0.912,0.067);\n    float timeFreq = 0.15;\n    float timeAmp = 1.2;\n    float ampMov = 4.;\n    float zoom = 3.;\n    \n\tvec2 st = fragCoord.xy / iResolution.xy;\n    st.x *= iResolution.x / iResolution.y;\n    st *= rotate2d(TWO_PI/3.);\n    // tiling & offset\n    st *=zoom;\n    st.x += step(1.0, mod(st.y,2.0)) * 0.5;\n    st = fract(st);\n    \n    \n    // Flower red\n    float mov = sin(st.x);\n    float thick = 0.1;\n\n    float draw = quadrifoglio(\n      st, 1.9,\n      sin(iTime*timeFreq)*7.2,\n      (mov*ampMov),\n      thick);\n    \n    vec3 col = mix(redCol, greenCol, draw);\n    \n    // Flower green\n    float mov2 = sin(exp(st.y));\n    float thick2 = 0.484;\n\n    float draw2 = quadrifoglio(\n      st, 1.9,\n      sin(iTime*timeFreq)*timeAmp,\n      (mov2*ampMov),\n      thick2);\n    \n    // Sum\n    col = mix(col, blueCol, draw2);\n\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}