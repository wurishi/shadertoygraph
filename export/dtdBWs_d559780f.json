{"ver":"0.1","info":{"id":"dtdBWs","date":"1701742263","viewed":21,"name":"bsb: background 3","username":"wainggan","description":"for a game","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["background"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\n\nvec3 palette(float t) {\n    vec3 a = vec3(1.0, 0.0, 1.0);\n    vec3 b = vec3(0.0, 1.0, 1.0);\n    vec3 c = vec3(t);\n    return mix(c, mix(a, b, t * 0.5), t * 0.5);\n}\n\nmat2 rot(float ang){\n  return mat2(\n    cos(ang), -sin(ang),\n    sin(ang), cos(ang)\n  );\n}\n\n\nvec3 m_circle(vec2 uv, float size) {\n    vec2 nuv = vec2(uv.x, uv.y / 2.0 + 0.5);\n\n    vec3 a = vec3(1.0, 0.2, 0.7);\n    vec3 b = vec3(2.0, 0.6, 0.9);\n\n    vec3 circle = vec3(nuv.y, nuv.y, nuv.y) * mix(a, b, sin(iTime * 0.3) / 2.0 + 0.5);\n    \n    float l = length(uv);\n    \n    circle *= l * 4.0;\n    circle *= smoothstep(1.0 / size, 1.0 / size + 0.06, 1.0/l);\n    \n    return circle;\n}\n\n#define SQ_SCALE 16.0\n\nfloat m_squares1(vec2 uv) {\n    uv.x += cos(iTime) * 0.1;\n    uv.y += sin(iTime) * 0.1;\n    float t = sin(uv.x * SQ_SCALE) / 2.0 + 0.5;\n    t = min(t, sin(uv.y * SQ_SCALE) / 2.0 + 0.5);\n    t = smoothstep(0.5, 0.51, t);\n    return t;\n}\n\n#define PI 3.141593238\n#define SQ_AMOUNT 5.0\n\nfloat m_squares2(vec2 uv) {\n    float col;\n\n    for(float i = 0.; i < SQ_AMOUNT; i++){\n        col += m_squares1(uv);\n        uv *= rot(PI / SQ_AMOUNT);\n    }\n    \n    col /= SQ_AMOUNT;\n\n    return col;\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord / iResolution.xy * 2.0 - 1.0;\n    uv.x *= iResolution.x / iResolution.y;\n    \n    vec3 col = vec3(0.0);\n    \n    float csize = pow(sin(iTime), 8.0) / 2.0 + 0.5;\n    csize = csize * 0.1 + 0.2;\n    \n    col += m_circle(uv + vec2(0.0, sin(iTime * 0.13) * 0.04), csize);\n    \n    float squares = m_squares2(uv);\n    squares *= pow(length(uv), 2.0);\n    \n    col += palette(squares) / 4.0;\n    \n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}