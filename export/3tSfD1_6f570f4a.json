{"ver":"0.1","info":{"id":"3tSfD1","date":"1598773233","viewed":168,"name":"Box neon sign","username":"gaz","description":"fractal","likes":7,"published":1,"flags":0,"usePreview":0,"tags":["fractal"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XdfGRn","filepath":"/media/a/e6e5631ce1237ae4c05b3563eda686400a401df4548d0f9fad40ecac1659c46c.jpg","previewfilepath":"/media/ap/e6e5631ce1237ae4c05b3563eda686400a401df4548d0f9fad40ecac1659c46c.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define rot(a) mat2(cos(a),sin(a),-sin(a),cos(a))\nfloat orbit;\nfloat map(vec3 p){\n\tp.yz*=rot(iTime*0.1);\n  \tp.xz*=rot(iTime*0.2);\n\tp=abs(p)-3.5;\n\tif(p.x<p.z)p.xz=p.zx;\n\tif(p.y<p.z)p.yz=p.zy;\n \tif(p.x<p.y)p.xy=p.yx;\n \tfloat scale=-5.5;\n\tfloat mr2=.57;\n\tfloat s=2.5;\n\tvec3  p0=p*1.5;\n\tfor (float i=0.;i<3.+fract(iTime*.2)*5.;i++){\n\t\tp=1.-abs(p-1.);\n  \t\tfloat k=scale*clamp(mr2*max(1.2/dot(p,p),.8),0.,1.);\n    \ts*=abs(k);\n   \t\tp*=k;\n        p+=p0;\n    \tp.yz*=rot(.05);\n    }\n\torbit = log2(s);\n    switch(int(iTime*.2)%3){\n        case 0: return length(p.xy)/s-.003;\n        case 1: return length(p.xz)/s-.003;\n        case 2: return length(cross(p,normalize(vec3(1))))/s-.003;\n    }\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv=(2.*fragCoord-iResolution.xy)/iResolution.y;\n  \tvec3 ro=vec3(0,0,18);\n  \tvec3 rd=normalize(vec3(uv,-3));\n    vec3 col=(1.-textureLod(iChannel0,uv*.05,0.0).xyz)*0.12;\n\tfloat h=0.,d,i;\n\tfor(i=1.;i<100.;i++)\n    {\n    \tvec3 p=ro+rd*h;\n\t\td=map(p);\n        if(d<.0001){\n    \t\tcol=80.*(vec3(1,5,2)*cos(orbit*15.)+cos(abs(p)*.7))/i;\n            break;\n        }\n    \th+=d;\n\t}\n    fragColor.xyz=clamp(col,0.0,1.0);\n}\n","name":"Image","description":"","type":"image"}]}