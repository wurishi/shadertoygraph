{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"\nconst int stepCount = 42;\nfloat st[42];\n\nfloat beat()\n{\n\tfloat pos = mod(iTime * 32., 41.);\n    int i = int(pos);\n\tpos = pos - float(i);\n\t\n\tfloat v1 = st[i];\n\tfloat v2 = st[i+1];\n\treturn 1. + (mix(v1, v2, pos) / 100.) * .2;\n}\n\n\nvec3 heart( float x, float y )\n{\n    float s = mod( iTime, 2.0 )/2.0;\n    s = 0.9 + 0.1*(1.0-exp(-5.0*s)*sin(50.0*s));\n\ts = beat();\n    x *= s;\n    y *= s;\n    float a = atan(x,y)/3.141593;\n    float r = sqrt(x*x+y*y);\n\n    float h = abs(a);\n    float d = (13.0*h - 22.0*h*h + 10.0*h*h*h)/(6.0-5.0*h);\n\n    float f = smoothstep(d-0.02,d,r);\n    float g = pow(1.0-clamp(r/d,0.0,1.0),0.25);\n    return mix(vec3(0.5+0.5*g,0.2,0.1),vec3(1.0),f);\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tint i = 0;\n\t// This is just silly. Send this as an uniform array or something:\n\tst[i++] = 0.;\n\tst[i++] = 0.;\n\tst[i++] = 0.;\n\tst[i++] = 0.;\n\tst[i++] = 0.;\n\tst[i++] = 0.;\n\tst[i++] = 0.;\n\tst[i++] = 5.;\n\tst[i++] = 30.;\n\tst[i++] = 100.;\n\tst[i++] = 30.;\n\tst[i++] = -30.;\n\tst[i++] = -100.;\n\tst[i++] = -30.;\n\tst[i++] = -2.;\n\tst[i++] = 0.;\n\tst[i++] = 9.;\n\tst[i++] = 60.;\n\tst[i++] = 0.;\n\tst[i++] = -60.;\n\tst[i++] = -10.;\n\tst[i++] = 0.;\n\tst[i++] = 0.;\n\tst[i++] = 0.;\n\tst[i++] = 0.;\n\tst[i++] = 0.;\n\tst[i++] = 0.;\n\tst[i++] = 0.;\n\tst[i++] = 0.;\n\tst[i++] = 0.;\n\tst[i++] = 0.;\n\tst[i++] = 0.;\n\tst[i++] = 0.;\n\tst[i++] = 0.;\n\tst[i++] = 0.;\n\tst[i++] = 0.;\n\tst[i++] = 0.;\n\tst[i++] = 0.;\n\tst[i++] = 0.;\n\tst[i++] = 0.;\n\tst[i++] = 0.;\n\tst[i++] = 0.;\n\t// Bloody webgl glsl\n\t\n    vec2 p = (-1.0+2.0*fragCoord.xy/iResolution.xy);\n\n    vec3 col = heart(2.0*p.x, 2.0*p.y );\n    fragColor = vec4(col,.5);\n\n}\n","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"4dfGRS","date":"1372539958","viewed":212,"name":"Fake it till you make it","username":"nitelite","description":"This is a very quick prototype of a typical heart beat estimation.","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["fake","heartbeat","poorimplementation"],"hasliked":0,"parentid":"","parentname":""}}