{"ver":"0.1","info":{"id":"3tKXDt","date":"1583864739","viewed":372,"name":"how y/x close to rational ?","username":"FabriceNeyret2","description":"shows the smaller denominator of the 1st rational approximating y/x at 1%.\nThe whiter the \"less rational\" is y/x.\n\nApplication: probability of hit ray - true Menger sponge ;-D","likes":2,"published":3,"flags":0,"usePreview":0,"tags":["approximation","rational","diophantine"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// could be more efficient using one of those:\n//   https://en.wikipedia.org/wiki/Continued_fraction#Best_rational_approximations\n//   https://en.wikipedia.org/wiki/Diophantine_approximation\n//   https://en.wikipedia.org/wiki/Pad%C3%A9_approximant\n\nvoid mainImage( out vec4 O, vec2 u )\n{\n  //vec2 U = (u-.5); // /iResolution.y;\n    vec2 U = u / iResolution.y;\n    int _n;\n    float k = U.y/U.x, d, m=1e5;\n    for( int a,n=1; n < 1000; n++) {\n        a = int(.5+k*float(n));          // a/n ~ k\n        d = abs(1.-float(a)/float(n)/k); // relative error\n        if ( d < m ) m=d, _n=n;          // closer\n        if ( m <= .01 ) break;           // stop at 1% rel err\n    }\n    O = vec4(_n)/40.;\n}","name":"Image","description":"","type":"image"}]}