{"ver":"0.1","renderpass":[{"outputs":[{"channel":0,"id":"4dfGRr"}],"inputs":[{"channel":0,"type":"texture","id":"Xsf3zn","filepath":"/media/a/f735bee5b64ef98879dc618b016ecf7939a5756040c2cde21ccb15e69a6e1cfb.png","sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"}}],"code":"#define t (iTime)\nfloat noise(vec2 p) { return texture(iChannel0, (p+.5)/256., -100.).r; }\nvec3 noise3(vec2 p) {\n\tvec2 F = floor(p), f = fract(p); f*=f*(3.-2.*f);\n\treturn texture(iChannel0, (F+f+.5)/256., -100.).rgb; }\n\nstruct cellinfo_t {\n\tvec2 o;\n\tvec2 p;\n\tfloat dist;\n\tfloat seed;\n};\n\ncellinfo_t cell(vec2 p) {\n\tvec2 center_origin = floor(p-.5);\n\tcellinfo_t ret;\n\tret.dist = 100000.;\n\tfor(int x = -2; x <= 2; ++x)\n\t\tfor (int y = -2; y <= 2; ++y)\n\t\t{\n\t\t\tvec2 cell_origin = center_origin + vec2(float(x),float(y));\n\t\t\tvec2 local_coord = cell_origin - p + .5;\n\t\t\tvec3 rand = .5*(noise3(cell_origin)+noise3(cell_origin+t+noise3(cell_origin).z));\n\t\t\tlocal_coord -= (rand.xy-.5)*3.;\n\t\t\tfloat dist = dot(local_coord,local_coord);\n\t\t\tif (dist < ret.dist) {\n\t\t\t\tret.o = cell_origin;\n\t\t\t\tret.p = local_coord;\n\t\t\t\tret.seed = noise(cell_origin);\n\t\t\t\tret.dist = dist;\n\t\t\t}\n\t\t}\n\treturn ret;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy * 2. - 1.;\n\tuv.x *= iResolution.x / iResolution.y;\n\n\tcellinfo_t c = cell(uv*12.);\n\t\n\tfloat r = length(c.o);\n\t\n\tfloat chash = floor(r*.2 - t*.7 + .7*(noise(c.o*2.)-.5));\n\t\t\n\tvec3 color = noise3(vec2(chash));\n\t\n\tcolor *= 1.3 - c.dist;\n\n\tfragColor = vec4(color,1.);\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"XsjGWd","date":"1395286471","viewed":1762,"name":"[SH2014] supchik","username":"w23","description":"sorry","likes":6,"published":1,"flags":0,"usePreview":0,"tags":["2d"],"hasliked":0,"parentid":"","parentname":""}}