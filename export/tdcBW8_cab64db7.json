{"ver":"0.1","info":{"id":"tdcBW8","date":"1604929845","viewed":60,"name":"failed random walk","username":"izutionix","description":" ","likes":1,"published":1,"flags":32,"usePreview":0,"tags":["randomwalk"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 C, in vec2 U )\n{\n    float c = texture(iChannel0, U.xy/iResolution.xy).z;\n    C = vec4(sqrt(c));\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"#define R iResolution.xy\n#define F iFrame\n\nvec2 hash21(float p) // https://www.shadertoy.com/view/4djSRW\n{\n    //p*=1083.184;\n\tvec3 p3 = fract(vec3(p) * vec3(.1031, .1030, .0973));\n\tp3 += dot(p3, p3.yzx + 33.33);\n    return fract((p3.xx+p3.yz)*p3.zy);\n}\n\n\nvoid mainImage( out vec4 C, in vec2 U )\n{\n    vec2 uv = U - .5 * R;\n    \n    vec4 tex = vec4(1,1,1,1);\n    if(iFrame>=1)\n    {\n\t\ttex = texture(iChannel0, U/R);\n    }\n    \n    vec2 offs = tex.xy + 1.414*normalize(hash21(float(F))-.5);\n    float old = tex.z;\n    \n    uv += offs;\n    vec2 n = hash21(float(F)-2194.86);\n\tfloat new = length(uv*(.5+.5*n.x))-.5*n.y;\n    \n    new = clamp( min(old, new), 0., 1.);\n    //vec2 totoffs = offs;\n    \n    #if 1\n    for(int i=0; i<=32; i++)\n    {\n        old = new;\n        \n        offs = tex.xy + 1.414*normalize(hash21(float(F))-.5);\n        //totoffs += offs;\n\t\tuv += offs;\n    \tvec2 n = hash21(float(F)-2194.86);\n\t\tnew = length(uv*(.5+.5*n.x))-.5*n.y;\n\t    \n    \tnew = clamp( min(old, new), 0., 1.);\n    }\n\t#endif\n    \n    C = vec4(offs, new, 1); //C = vec4(totoffs, new, 1);\n}","name":"Buffer A","description":"","type":"buffer"}]}