{"ver":"0.1","info":{"id":"WsXGz2","date":"1546812900","viewed":250,"name":"2D SDF Render","username":"caseymacneil","description":"Made using https://www.shadertoy.com/view/4lKyDD as a reference to better my understanding on SDF's","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["2d","raymarching","sdf"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float sdCircle(vec2 p, float r)\n{\n\treturn length(p) - r;\n}\n\nfloat border(vec2 p)\n{\n    vec2 R = iResolution.xy;\n\treturn min(p.x,min(p.y,min(R.x-p.x,R.y-p.y)));\n}\n\nfloat map(vec2 p)\n{\n\treturn min(min(sdCircle(( iResolution.xy/2.) + vec2(200.,200.) - p,50.0),border(p)), sdCircle(( iResolution.xy/2.) + vec2(-100.,-100.) - p,20.0));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 sp = fragCoord;\n\tvec3 col = vec3(0.0);\n\t\n    vec2 ro = iResolution.xy/2.;\n    \n    vec2 rd = vec2(cos(iTime * .1),sin(iTime * .1));\n    // mouse input\n    rd = iMouse.z < .001 ? rd : normalize(iMouse.xy - ro);\n    \n    // position on the ray\n    vec2 pos = ro;\n    \n    float t = 5.0;\n    \n    int i;\n    for(i=0; i < 60 && t > 0.1;i++)\n    {\n    \tvec2 pPos = pos;\n        float pT = t;\n        \n        pos = pos + t*rd;\n        \n        t = map(pos);\n        \n        // current ray circle distance\n        float rcd = sdCircle(sp-pPos,pT);\n        \n        col = mix(vec3(1.0),col,smoothstep(rcd,0.,2.));\n        col = mix(vec3(1.0),col,smoothstep(-rcd,-2.,0.));\n        \n        // draw center\n        float dist = sdCircle(sp-pPos,5.0);\n        col = mix(vec3(1.0,0.,0.),col,smoothstep(dist,0.,2.));\n        col = mix(vec3(1.0,0.,0.),col,smoothstep(-dist,-2.,0.));\n        \n        // hard lines\n        //col = round(col);\n    }\n    \n    \n    col = mix(vec3(0.,0.,1.),col,smoothstep(map(sp),0.,2.));\n    col = mix(vec3(0.,0.,1.),col,smoothstep(-map(sp),-2.,0.));\n    \n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}