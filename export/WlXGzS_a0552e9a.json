{"ver":"0.1","info":{"id":"WlXGzS","date":"1556618296","viewed":86,"name":"Egg over square tiles","username":"jblanper","description":"Wobbling egg over moving square tiles. Experimenting with randomness.","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["2d","egg","tiles","randomness"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float random (vec2 uv) {\n  return fract(sin(dot(uv.xy, vec2(11.987, 77.49)))*8523.6886);\n}\n\nfloat stroke (float d, float r, float lw, float blur) {\n  float hlw = lw / 2.;\n  return smoothstep(r + hlw, r + hlw - .005 - blur, d) *\n    smoothstep(r - hlw, r - hlw + .005 + blur, d);\n}\n\nfloat fill (float d, float r, float blur) {\n  return smoothstep(r, r - .005 - blur, d);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n  vec2 uv = (fragCoord.xy - .5 * iResolution.xy) / iResolution.y;\n\n  // background\n  vec2 p = uv;\n  float t = iTime * .08;\n  p.x += (mod(floor(p.y * 10.), 2.) == 0.) ? -t : t;\n\n  vec2 st = fract(p * 10.) - .5;\n    \n  if ((mod(floor(p.y * 10.), 2.) == 0.) && (mod(floor(p.x * 10.), 2.) == 0.)) {\n    float a = iTime;\n    st = mat2(sin(a)+2., 0., 0., sin(a)+2.) * mat2(cos(a), -sin(a), sin(a), cos(a)) * st;\n  }\n\n  vec3 color = vec3(0.);\n\n  color += smoothstep(.45, .05 + cos(t*5.)*.18+.18, length(st));\n  color -= 1. - smoothstep(.4, .45, max(abs(st.x) + (cos(t * 5.) * .05 + .35), abs(st.y)));\n  color += 1. - smoothstep(.4, .45, max(abs(st.x), abs(st.y)));\n\n  color *= (mod(floor(p.y * 10.), 2.) == 0.) ? vec3(1., .2, .5) : vec3(.5, .2, 1.);\n\n  color *= 1. - length(vec2(uv)*.8) ;\n\n  // foreground\n  float r = cos(atan(\n    uv.y * cos(iTime) * .5 + .3,\n    uv.x * sin(iTime) * .5 + .2) * 10.) * .04 + clamp(random(uv), .198, .2);\n\n  p = vec2(uv.x + cos(t) * .2 + .2, uv.y);\n\n  color = mix(color, vec3(1.) - vec3(0., 0., vec2(length(p * p * p) * 15., 0.)), stroke(length(p), r, .15, 0.));\n  color = mix(color, vec3(.9, .9, 0.) - vec3(0., length(p) * 4., 0.), fill(length(p), r - .068, 0.));\n\n  fragColor = vec4(color, 1.);\n}","name":"Image","description":"","type":"image"}]}