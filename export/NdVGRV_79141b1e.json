{"ver":"0.1","info":{"id":"NdVGRV","date":"1631808269","viewed":533,"name":"Easy Antialiasing","username":"Xor","description":"An easy way to compute AA using standard derivatives\nRead the comments for details.","likes":11,"published":1,"flags":0,"usePreview":0,"tags":["example","antialias"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"/*\n    An easy way to compute AA using standard derivatives\n    \n    Read the comments below for details.\n*/\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    //Coordinates range from -2 to +2.\n    vec2 coord = fragCoord/iResolution.xy*4.-2.;\n    \n    //Get x and y coordinates separately.\n    float x = coord.x;\n    float y = coord.y;\n\n    //Graph height:\n    float graph = 0.;\n    switch(int(iTime)/2 % 5)\n    {\n        case 0:\n        graph = sin(x*2.);\n        break;\n        \n        case 1:\n        graph = cos(x*4.);\n        break;\n        \n        case 2:\n        graph = tan(x*2.);\n        break;\n        \n        case 3:\n        graph = exp(x)-2.;\n        break;\n        \n        case 4:\n        graph = log(x+2.);\n        break;\n    }\n    //Compare to y-axis:\n    graph -= y;\n    \n    /*\n        Compute gradient width:\n\n        This is where the trick lies!\n        You can simply compute the gradient \"width\" across neighborring pixels\n        and divide the gradient by that value.\n        Effectively making all gradients range from 0 to 1 in a single pixel width.\n        \n        This works with SDFs too, but you may get artifacts if the graph is discontinuous!\n    \n    */\n    float width = length(vec2(dFdx(graph), dFdy(graph)));\n    \n    //Alternative version (less smooth):\n    //float width = fwidth(graph);\n    \n    //Graph with no AA.\n    float hard = step(0.,graph);\n    //Graph with AA (halved for exaggeration).\n    float soft = graph / width * .5;\n\n    //Toggle smooth AA\n    fragColor = vec4(mod(iTime,2.)<1.? hard : soft);\n}","name":"Image","description":"","type":"image"}]}