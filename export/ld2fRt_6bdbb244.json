{"ver":"0.1","info":{"id":"ld2fRt","date":"1501766386","viewed":642,"name":"Hypsometric map generator","username":"PrzemyslawZaworski","description":"New map is generated for every three seconds.","likes":6,"published":1,"flags":0,"usePreview":0,"tags":["noise","fbm","perlin","map","warp","generator","cartography"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//reference : https://www.shadertoy.com/view/MtcXDr#\nfloat noise (vec3 n) \n{ \n\treturn fract(sin(dot(n, vec3(95.43583, 93.323197, 94.993431))) * 65536.32);\n}\n\nfloat perlin_a (vec3 n)\n{\n    vec3 base = floor(n * 64.0) * 0.015625;\n    vec3 dd = vec3(0.015625, 0.0, 0.0);\n    float a = noise(base);\n    float b = noise(base + dd.xyy);\n    float c = noise(base + dd.yxy);\n    float d = noise(base + dd.xxy);\n    vec3 p = (n - base) * 64.0;\n    float t = mix(a, b, p.x);\n    float tt = mix(c, d, p.x);\n    return mix(t, tt, p.y);\n}\n\nfloat perlin_b (vec3 n)\n{\n    vec3 base = vec3(n.x, n.y, floor(n.z * 64.0) * 0.015625);\n    vec3 dd = vec3(0.015625, 0.0, 0.0);\n    vec3 p = (n - base) *  64.0;\n    float front = perlin_a(base + dd.yyy);\n    float back = perlin_a(base + dd.yyx);\n    return mix(front, back, p.z);\n}\n\nfloat fbm(vec3 n)\n{\n    float total = 0.0;\n    float m1 = 1.0;\n    float m2 = 0.1;\n    for (int i = 0; i < 5; i++)\n    {\n        total += perlin_b(n * m1) * m2;\n        m2 *= 2.0;\n        m1 *= 0.5;\n    }\n    return total;\n}\n\nvec3 heightmap (vec3 n)\n{\n\treturn vec3(fbm((5.0 * n) + fbm((5.0 * n) * 3.0 - 1000.0) * 0.05),0,0);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = (2.0*fragCoord.xy - iResolution.xy)/iResolution.y;\n\tfloat t = floor(iTime*0.33);\n\tfloat color = clamp(vec4(vec3((heightmap(vec3(uv.xy*5.0,t)*0.02)-1.0)),1.0).r,0.0,1.0);\n    if (color<0.1) fragColor=vec4(0.77,0.90,0.98,1.0);\n    else\n    if (color<0.2) fragColor=vec4(0.82,0.92,0.99,1.0);\n    else\n    if (color<0.3) fragColor=vec4(0.91,0.97,0.99,1.0);\n    else\n    if (color<0.55) fragColor=vec4(0.62,0.75,0.59,1.0);\n    else\n    if (color<0.65) fragColor=vec4(0.86,0.90,0.68,1.0);\n    else\n    if (color<0.75) fragColor=vec4(0.99,0.99,0.63,1.0);\n    else\n    if (color<0.85) fragColor=vec4(0.99,0.83,0.59,1.0);\n    else\n    if (color<0.95) fragColor=vec4(0.98,0.71,0.49,1.0);     \n    else\n    if (color<0.99) fragColor=vec4(0.98,0.57,0.47,1.0);        \n\telse      \n    fragColor=vec4(0.79,0.48,0.43,1.0);            \n}","name":"Image","description":"","type":"image"}]}