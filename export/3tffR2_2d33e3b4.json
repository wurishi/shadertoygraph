{"ver":"0.1","info":{"id":"3tffR2","date":"1597136070","viewed":284,"name":"Black Hole 2D Effect","username":"saidwho12","description":"Implementation based off this article https://unionassets.com/blog/the-effect-of-the-gravitational-lens-195","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["2d","hole","black"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.14159\n\nconst float M = 25.5; // mass\nconst float D = 5.0;\nconst float X = 0.15;\n\n\nvoid mainImage( out vec4 O, in vec2 u )\n{\n    vec2 R = iResolution.xy, p = (u+u-R)/R.y;\n    vec2 m = iMouse.xy, mp = (m+m-R)/R.y;\n    \n    //float a = R.x/R.y;\n    //vec2 as = vec2(a,1);\n    \n    vec2 off = p - mp;\n    \n    float d = length(off); // distance from center of world\n    //float x = length(p - mp) - X;\n\n    float r = d * sqrt(D);\n    \n    float ma = PI * pow(X,3.) * M; // mass\n    float de = (ma) * 1./(r*r);\n    \n    off -= de*(1.-de);\n    \n    off += mp;\n    \n    O = texture(iChannel0, off) * smoothstep(0.,.04, length(p-mp)-X);//texture(iChannel0, uv);\n}","name":"Image","description":"","type":"image"}]}