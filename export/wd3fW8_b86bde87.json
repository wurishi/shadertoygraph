{"ver":"0.1","info":{"id":"wd3fW8","date":"1604934623","viewed":136,"name":"Analog Display Simulation","username":"IWBTShyGuy","description":"Drawn by RGB Pixels\nIf you press 1 on the keyboard, the RGB pixels are arranged diagonally, making them look a little better.\nIf you press 2 on the keyboard, plays the original video.","likes":2,"published":1,"flags":16,"usePreview":0,"tags":["analog"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"Xdf3Rn","filepath":"/media/a/e81e818ac76a8983d746784b423178ee9f6cdcdf7f8e8d719341a6fe2d2ab303.webm","previewfilepath":"/media/ap/e81e818ac76a8983d746784b423178ee9f6cdcdf7f8e8d719341a6fe2d2ab303.webm","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGRr","filepath":"/presets/tex00.jpg","previewfilepath":"/presets/tex00.jpg","type":"keyboard","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define keyClick(ascii) (texelFetch(iChannel1,ivec2(ascii,0),0).x > 0.)\n\nconst int ASCII1 = 49;\nconst int ASCII2 = 50;\n\n// enum visibility mode\nconst int ORIGINAL = 0;\nconst int COLUMN = 1;\nconst int DIAGONAL = 2;\n\nconst int N = 3;\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    vec2 uv = fragCoord / iResolution.xy;\n    int x = int(fragCoord[0]);\n    int y = int(fragCoord[1]);\n    vec3 disc_color = vec3(0.0, 0.0, 0.0);\n    for (int i = 0; i < N; i++) {\n        float tx = float(x / N * N + i) / iResolution.x;\n        disc_color += texture(iChannel0, vec2(tx, uv[1])).xyz;\n    }\n    fragColor = vec4(0.0, 0.0, 0.0, 1.0);\n    \n    int current_mode = COLUMN;\n    if (keyClick(ASCII1)) current_mode = DIAGONAL;\n    if (keyClick(ASCII2)) current_mode = ORIGINAL;\n    \n    float c = 0.0;\n    switch (current_mode) {\n        case ORIGINAL:\n        \tfragColor = texture(iChannel0, vec2(uv));\n        \tbreak;\n        case COLUMN:\n        \tc = disc_color[x % 3] / float(N);\n        \tc = 1.0 - pow(1.0 - c, 2.5);\n        \tfragColor[x % 3] = c;\n        \tbreak;\n        case DIAGONAL:\n            c = disc_color[(x + y) % 3] / float(N);\n        \tc = 1.0 - pow(1.0 - c, 2.5);\n        \tfragColor[(x + y) % 3] = c;\n        \tbreak;\n    }\n\n}","name":"Image","description":"","type":"image"}]}