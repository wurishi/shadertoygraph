{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"precision mediump float;\n\nfloat ballsCloseness(vec2 p)\n{\n  \tfloat sumCloseness = 0.0;\n  \n  \tfloat increment = 1.0 / 40.0;\n\tfor (float i = 0.0; i < 39.0; i += 1.0)\n    {\n\t  \tvec2 aspectRatio = iResolution.xy / iResolution.x;\n  \t\tvec2 ballPos = vec2(increment + i * increment, 0.5 + 0.5 * cos((i + 1.0) * iTime * 0.05));\n  \t\tfloat distance = distance(p * aspectRatio, ballPos * aspectRatio);\n  \t\tfloat nonZeroDistance = max(0.0001, distance);\n  \t\tfloat closeness = (1.0 / nonZeroDistance);\n     \tsumCloseness += closeness / 400.0;\n    }\n  \n  \treturn sumCloseness;\n}\n\nfloat spike(float center, float width, float val)\n{\n\tfloat left = smoothstep(center, center - width / 2.0, val);\n  \tfloat right = smoothstep(center - width / 2.0, center, val);\n  \treturn left * right;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n  vec2 p = fragCoord.xy / iResolution.xy;\n  \n  float closeness = ballsCloseness(p);\n  float spike1 = spike(0.39, 0.02, closeness);\n  float spike2 = spike(0.4, 0.02, closeness);  \n  float spike3 = spike(0.41, 0.02, closeness);\n  float spike4 = spike(0.42, 0.02, closeness);\n  float spike5 = spike(0.43, 0.02, closeness);\n  float spike6 = spike(0.44, 0.02, closeness);\n  float spike7 = spike(0.45, 0.02, closeness);\n\n  float spikes = 2.0 * (spike1 * 0.8 + spike2 * 0.2 + spike3 * 0.9 + spike4 * 0.35 + spike5 * 0.9 + spike6 * 0.39 + spike7 * 0.5);\n  \n//  fragColor.r = 2.0 * (spike1 * 0.4 + spike2 * 0.5 + spike6 * 0.3 + spike7 * 0.8);\n//  fragColor.g = 2.0 * (spike2 * 0.5 + spike3 * 0.65 + spike4 * 0.3 + spike5 * 0.1 + spike6 * 0.8);\n//  fragColor.b = 2.0 * (spike1 * 0.8 + spike2 * 0.2 + spike3 * 0.9 + spike4 * 0.35 + spike5 * 0.9 + spike6 * 0.39 + spike7 * 0.5);\n\n  float background = smoothstep(0.3, 0.5, closeness);\n  \n  fragColor.r = sin(iTime) * background + spikes;\n  fragColor.g = cos(iTime / 25.0) * background + spikes;\n  fragColor.b = cos(iTime / 100.0) * background + spikes;\n  fragColor.a = 1.0;\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"lsX3R8","date":"1362188755","viewed":522,"name":"Balls, balls, balls!","username":"mike","description":"This was an experiment to try and make a metaballs effect where each metaball has multiple distinct contours instead of just being solid blobs. I find it mesmerizing to watch as it slowly aliases through different sinusoidal patterns!","likes":17,"published":1,"flags":0,"usePreview":0,"tags":["2d","metaballs","oo","sinusoids"],"hasliked":0,"parentid":"","parentname":""}}