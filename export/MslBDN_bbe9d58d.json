{"ver":"0.1","info":{"id":"MslBDN","date":"1496292868","viewed":164,"name":"everyday 022/100","username":"kalin","description":"everyday 022/100","likes":2,"published":1,"flags":64,"usePreview":0,"tags":["everyday"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"MdsXDn","filepath":"https://soundcloud.com/nightcore-3/nightcore-move-like-a-soldier?in=music-lover-0378516/sets/nightcore","previewfilepath":"https://soundcloud.com/nightcore-3/nightcore-move-like-a-soldier?in=music-lover-0378516/sets/nightcore","type":"musicstream","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":0}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n  \tvec2 nuv = uv * 2.0 - 1.0;\n    \n    nuv.x /= iResolution.y / iResolution.x;\n    \n    float bpm = 1.0 / 60.0 * 84.3;\n    float t = iTime;\n    float pi = 3.1415926535;\n    float drum = pow(abs(sin(t * bpm * pi)), 32.0);\n    float texstep = 1.0 / 512.0;\n    \n    // 23hz per pixel; 512 pixels\n    \n    //fragColor.x = drum;\n    //fragColor.y = pow(abs(sin(t * bpm * pi * 4.0)), 32.0) * uv.y;\n\n    // uv = 0..1\n    // resx = 800~\n    float pixel = uv.x * iResolution.x;\n    float muvx = length(nuv);\n    float mx = muvx / 512.0 * iResolution.x * (0.15 + 0.5 * pow(muvx, 4.0));\n\tfloat mu = texture(iChannel0, vec2(mx, 0.25)).x;\n    float outer = step(0.0, muvx);\n    float inner = step(0.15, 1.0 - muvx);\n    \n    vec3 col0 = vec3(0.0, 0.0, 2.8) * mu * 0.2;\n    col0 += pow(mu, 11.0) * 0.2;\n    col0 += pow(drum * mu * muvx, 1.2) * 0.2;\n    \n    vec3 col1 = vec3(0.2, 0.2, 0.2 + 0.3 * mu) * pow(mu, 2.0) * 3.0;\n    vec3 col2 = vec3(0.0, 0.0, 0.2);\n    \n    fragColor.xyz = col2 * max(0.0, (1.0 - inner));\n    fragColor.xyz += abs(sin(nuv.y * 10.0 * bpm * (1.0 - inner) + t * 5.0)) * (1.0 - inner) * 0.1;\n    fragColor.xyz += fract(sin(nuv.y * 30.0 * bpm * (1.0 - inner) + t * 2.0)) * (1.0 - inner) * 0.2 * mx * 0.5;\n\n    fragColor.xyz += col1 * inner * outer * 1.0;\n    fragColor.xyz += col0 * inner * outer;\n    fragColor.xyz += col1 * inner * outer * sin(t * bpm + nuv.y * 15.0 * mu);\n\n    //fragColor.x = texture(iChannel0, vec2(texstep * 0.0, 0.25)).x;\n    //fragColor.y = texture(iChannel0, vec2(texstep * 1.0, 0.25)).x;\n    //fragColor.z = texture(iChannel0, vec2(texstep * 2.0, 0.25)).x;\n}","name":"Image","description":"","type":"image"}]}