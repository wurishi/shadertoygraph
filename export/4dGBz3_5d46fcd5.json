{"ver":"0.1","info":{"id":"4dGBz3","date":"1529890870","viewed":256,"name":"ascii_effect","username":"morakot","description":"ascii effect","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["2d"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XdX3Rn","filepath":"/media/a/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg","previewfilepath":"/media/ap/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec2 pixelSize = vec2(0.05);\n\nvec2 pixelate(vec2 coord, vec2 size)\n{\n    return floor( coord / size ) * size;\n}\n\nvec2 getMod(vec2 coord, vec2 size)\n{\n    return mod( coord , size) / size;\n}\n\nfloat character(float n, vec2 p)\n{\n    p = floor(p*vec2(4.0, -4.0) + 2.5);\n    if (clamp(p.x, 0.0, 4.0) == p.x && clamp(p.y, 0.0, 4.0) == p.y)\n    {\n        if (int(mod(n/exp2(p.x + 5.0*p.y), 2.0)) == 1) return 1.0;\n    }\n    return 0.0;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    \n\tvec2 uv = fragCoord/iResolution.xy;\n    uv.x *= iResolution.x / iResolution.y;\n    \n    vec2 pixCoord = pixelate(uv, pixelSize);\n\n    vec4 color = texture(iChannel0, pixCoord);\n    float gray = (color.r + color.g + color.b) / 3.0;\n\n    float n =  65536.0;             // .\t2^16\n    if (gray > 0.2) n = 65600.0;    // :\t2^6 + 2^16\n    if (gray > 0.3) n = 332772.0;   // *\t2^2 + 2^5 + 2^6 + 2^7 + 2^8 + 2^9 + 2^12 + 2^16 + 2^18\n    if (gray > 0.4) n = 15255086.0; // o\t2^1 + 2^2 + 2^3 + 2^5 + 2^9 + 2^10 + 2^14 + 2^15 + 2^19 + 2^21 + 2^22 + 2^23\n    if (gray > 0.5) n = 23385164.0; // &\t...\n    if (gray > 0.6) n = 15252014.0; // 8\t...\n    if (gray > 0.7) n = 13199452.0; // @\t...\n    if (gray > 0.8) n = 11512810.0; // #\t...\n\n    // get the mod..\n    vec2 modd = getMod(uv, vec2(pixelSize));\n\n    fragColor = color * character( n, vec2(-1.0) + modd * 2.0);\n}","name":"Image","description":"","type":"image"}]}