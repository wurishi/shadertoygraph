{"ver":"0.1","info":{"id":"MdyGDt","date":"1457010322","viewed":165,"name":"isosimple","username":"dca","description":"dumb metaballs with sub-optimal level func computation","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["isosurfaces"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float cx1 = 350.0;\nfloat cy1 = 200.0;\n\nfloat cx2 = 300.0;\nfloat cy2 = 200.0;\n\nfloat threshold = 0.0004;\n\nvec3 col1 = vec3(1.0, 0.0, 0.1);\nvec3 col2 = vec3(0.0, 0.1, 1.0);\n\nfloat metaball(float cx, float cy, float x, float y) {\n \tfloat bf = 1.0 / ((cx - x) * (cx - x) + (cy - y) * (cy - y));\n    return bf;\n}\n\nfloat ballfunc(float x, float y) {\n    float bf = (metaball(cx1, cy1, x, y) + metaball(cx2, cy2, x, y));\n    \n    return step(-bf, -threshold);\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    cx1 = cx1 + 70.0*cos(iTime);\n    cy1 = cy1 + 70.0*sin(iTime);\n    \n    cx2 = cx2 - 20.0*cos(-iTime);\n    cy2 = cy2 + 20.0*cos(-iTime);\n\n    \n    float x = fragCoord.x;\n    float y = fragCoord.y;\n    \n    float dc1 = distance(vec2(x,y), vec2(cx1, cy1));\n    float dc2 = distance(vec2(x,y), vec2(cx2, cy2));\n    \n    \n    vec3 col = mix(col1, col2, dc2/dc1) * ballfunc(x, y);\n    fragColor = vec4(col, 1.0);\n}","name":"Image","description":"","type":"image"}]}