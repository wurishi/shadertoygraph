{"ver":"0.1","info":{"id":"sttXRf","date":"1640112968","viewed":133,"name":"Metaballs.SV","username":"turtlelover891","description":"this is how I make metaballs\n","likes":8,"published":1,"flags":0,"usePreview":0,"tags":["metaballs"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec2 lerp(vec2 a, vec2 b, float c){\n    return a+c*(b-a);\n}\n\nfloat random(float seed, float maximum){\n    for(float i=0.;i<3.;i++){\n        seed = mod(seed*23887. + 2837., 912467.);\n    }return mod(seed, maximum);\n}\n\nfloat circle(vec2 uv, vec2 pos, float radius, float blur){\n    vec2 a = uv-pos;\n    return smoothstep(radius+blur, clamp(radius-blur, 0., 1.), sqrt(a.x*a.x+a.y*a.y));\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord )\n{\n    int amount = 15;\n    float size = 10.;\n    float blur = 10.;\n    float blur1 = .1;\n    float speed = 50.;\n\n    float t = iTime/100.*speed;\n    vec2 R = iResolution.xy*1.;\n    vec2 uv = fragCoord/1.;\n    vec3 col = vec3(0.);\n\n    float t1 = (size+blur)*2.;\n    vec2 uv1 = vec2(round(uv.x/t1)*t1);\n    vec2 uv2 = vec2(round(uv.y/t1)*t1);\n    uv1.y = random(uv1.x, R.y);\n    uv2.x = random(uv2.y, R.x);\n\n    for(float i = .5;i<float(amount);i++){\n        uv.x += 0.;\n        float offset1 = random(uv1.x*i, 10.)*t*random(i, 500.)/10.-t*150.;\n        float offset2 = random(uv2.y*i, 10.)*t*random(i, 500.)/10.-t*150.;\n        uv1.y = mod(random(uv1.x, R.y)+offset1, R.y+t1*2.)-t1;\n        uv2.x = mod(random(uv2.y, R.x)+offset2, R.x+t1*2.)-t1;\n        col.x += circle(uv, uv1, size, blur) - circle(uv, uv2, size, blur);\n        col.y += circle(uv, uv2, size, blur) - circle(uv, uv1, size, blur);\n    }\n    col = vec3(smoothstep(col.y+blur1, col.y-blur1, .5), 0., smoothstep(col.x+blur1, col.x-blur1, .5));\n    fragColor = vec4(vec3(col),1.0);\n}","name":"Image","description":"","type":"image"}]}