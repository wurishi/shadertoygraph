{"ver":"0.1","info":{"id":"3sKyzd","date":"1603516188","viewed":140,"name":"Magic Moving Ferris Wheel","username":"Jinkweiq","description":"Use the mouse to move the screen. The image is generated from a normal animation and broken up. If you blur your eyes it looks a lil better tbh","likes":7,"published":1,"flags":0,"usePreview":0,"tags":["2d","animation"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define pi acos(-1.)\n\nfloat sdCircle(vec2 p,float r)\n{\n    return length(p)-r;\n}\nfloat sdBox(in vec2 p,in vec2 b)\n{\n    vec2 d=abs(p)-b;\n    return length(max(d,0.))+min(max(d.x,d.y),0.);\n}\nfloat sdSegment(in vec2 p,in vec2 a,in vec2 b)\n{\n    vec2 pa=p-a,ba=b-a;\n    float h=clamp(dot(pa,ba)/dot(ba,ba),0.,1.);\n    return length(pa-ba*h);\n}\nfloat map(vec2 p,float t){\n    p*=1.2;\n    p.y-=.1;\n    float d=sdCircle(p,.2);\n    d*=sdCircle(p,.18);\n    \n    d=min(d,sdCircle(p,.03));\n    \n    vec2 ap=p;\n    ap.x=abs(ap.x);\n    d=min(d,sdSegment(ap,vec2(0),vec2(.1,-.35))-.01);\n    d=min(d,sdSegment(ap,vec2(0,-.35),vec2(.3,-.35))-.02);\n    \n    mat2 am=mat2(cos(t),-sin(t),sin(t),cos(t));\n    vec2 np=p;\n    np*=am;\n    \n    float seg=6.;\n    float an=pi/float(seg);\n    float bn=mod(atan(np.x,np.y),2.*an)-an;\n    np=length(np)*vec2(cos(bn),sin(bn));\n    np.x-=.1;\n    d=min(d,sdBox(np,vec2(.1,.01)));\n    float innerHex=dot(np,normalize(vec2(1,0.)));\n    innerHex*=dot(np*50.,normalize(vec2(1,0)));\n    d=min(d,smoothstep(.003,.1,innerHex));\n    vec2 sp=p;\n    sp.y+=.04;\n    sp*=am;\n    bn=mod(atan(sp.x,sp.y),2.*an)-an;\n    an=-t;\n    sp*=mat2(cos(an),-sin(an),sin(an),cos(an));\n    sp=length(sp)*vec2(cos(bn),sin(bn));\n    sp.x-=.2;\n    an=2.*pi/seg*atan(p.x,p.y)/2./pi*seg+pi/seg;\n    sp*=mat2(cos(an),-sin(an),sin(an),cos(an));\n    \n    d=min(d,(sdBox(sp,vec2(.0175))-.015)*(sdBox(sp,vec2(.0075,.0125))-.01));\n    \n    return d;\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv=(fragCoord.xy-.5*iResolution.xy)/iResolution.x;\n    vec2 m=iMouse.xy/iResolution.xy;\n    float segs=5.;\n    float t=floor(mod(uv.x,.02)*100.*segs);\n    vec3 col=vec3(smoothstep(0.,.00001,map(uv,t*2.)));\n    float sx=1.-abs(fract(iTime*.025+.25)*2.-1.);\n    if(iMouse.z > 0.) {\n    \tsx=m.x;\n    }\n    if(uv.x<sx-.5){\n        col*=vec3(ceil(mod(uv.x-sx,.02)-(2.-1./segs)*.01));\n    }\n    fragColor=vec4(col,1.);\n}\n\n","name":"Image","description":"","type":"image"}]}