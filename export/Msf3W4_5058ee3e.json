{"ver":"0.1","renderpass":[{"outputs":[{"channel":0,"id":"4dfGRr"}],"inputs":[{"channel":0,"type":"video","id":"4sX3Rn","filepath":"/media/a/c3a071ecf273428bc72fc72b2dd972671de8da420a2d4f917b75d20e1c24b34c.ogv","sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}}],"code":"float noise(vec3 p) //Thx to Las^Mercury\n{\n\tvec3 i = floor(p);\n\tvec4 a = dot(i, vec3(1., 57., 21.)) + vec4(0., 57., 21., 78.);\n\tvec3 f = cos((p-i)*acos(-1.))*(-.5)+.5;\n\ta = mix(sin(cos(a)*a),sin(cos(1.+a)*(1.+a)), f.x);\n\ta.xy = mix(a.xz, a.yw, f.y);\n\treturn mix(a.x, a.y, f.z);\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\t//Find edge\n\tvec4 f = texture(iChannel0,vec2(fragCoord.x/iResolution.x,fragCoord.y/iResolution.y));\n\tvec4 f1 = texture(iChannel0,vec2((fragCoord.x-2.0)/iResolution.x,(fragCoord.y-2.0)/iResolution.y));\n\tvec4 f2 = texture(iChannel0,vec2((fragCoord.x-2.0)/iResolution.x,fragCoord.y/iResolution.y));\n\tvec4 f3 = texture(iChannel0,vec2(fragCoord.x/iResolution.x,(fragCoord.y-2.0)/iResolution.y));\n\tvec4 m = (f+f1+f2+f3)/4.0;\n\tvec4 var =(sqrt((f-m)*(f-m)+(f1-m)*(f1-m)+(f2-m)*(f2-m)+(f3-m)*(f3-m))/2.0);\n\tfloat thre = 0.04;\n\t\n\t//mouse\n\tfloat R = 100.0;\n\tfloat x = fragCoord.x-iMouse.x;\n\tfloat y = fragCoord.y-iMouse.y;\n\tif(length(var) > thre)\n\t\t\tfragColor = var;\n\telse\n\t\tfragColor = vec4(0.0);\n\tif(iMouse.z >0.0 && x*x+y*y<R*R)\n\t\t\tfragColor = f;\n\t//Auto scan\n\tfloat div = 10.0;\n\tfloat t = mod(iTime,10.0);\n\tif(iTime < div && iMouse.z <=0.0 && fragCoord.x > t/div*iResolution.x)\n\t\tfragColor = f;\n\t//Original view\n\tfloat w = 100.0;\n\tfloat h = 100.0;\n\tvec4 preview = texture(iChannel0,vec2((fragCoord.x-(iResolution.x-w))/w,fragCoord.y/h));\n\tif(fragCoord.x > iResolution.x - w && fragCoord.y < h){\n\t\tfragColor = preview;\n\t}\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"Msf3W4","date":"1370020156","viewed":277,"name":"Math2CV-Edge scanner","username":"4000103","description":"Convert to edge image.\nMouse control.\nPreview mode.","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["2d","math","edge","cv"],"hasliked":0,"parentid":"","parentname":""}}