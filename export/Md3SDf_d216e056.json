{"ver":"0.1","info":{"id":"Md3SDf","date":"1461787565","viewed":226,"name":"Voronoi Eyes","username":"zackpudil","description":"These meetings tho .....","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["2d","voronoi"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float hash(float n) {\n\treturn fract(sin(n)*43758.4543621);\n}\n\nfloat noise(vec2 x) {\n\tvec2 p = floor(x);\n\tvec2 f = fract(x);\n\t\n\tfloat n = p.x + p.y*57.0;\n\t\n\treturn mix(\n\t\tmix(hash(n + 00.0), hash(n + 01.0), f.x),\n\t\tmix(hash(n + 57.0), hash(n + 58.0), f.x),\n\t\tf.y);\n}\n\nfloat fbm(vec2 p) {\n\tfloat f = 0.0;\n\t\n\tf += 0.5000*noise(p); p *= 2.01;\n\tf += 0.2500*noise(p); p *= 2.03;\n\tf += 0.1250*noise(p); p *= 2.04;\n\tf += 0.0625*noise(p); p *= 2.00;\n\t\n\tf /= 0.9375;\n\t\n\treturn f;\n}\n\nvec2 hash(vec2 x) {\n\tvec2 n = vec2(dot(x, vec2(171, 311)), dot(x, vec2(269, 382)));\n\treturn fract(sin(n)*43785.454621);\n}\n\nvec3 voronoi(vec2 x) {\n\tvec2 p = floor(x);\n\tvec2 f = fract(x);\n\t\n\tvec2 mr, mg;\n\tfloat md = 8.0;\n\t\n\tfor(int i = -1; i <= 1; i++) {\n\t\tfor(int j = -1; j <= 1; j++) {\n\t\t\tvec2 g = vec2(float(i), float(j));\n\t\t\tvec2 o = hash(p + g);\n\t\t\to = 0.5 + 0.5*sin(6.28*o + iTime);\n\t\t\tvec2 r = g + o - f;\n\t\t\tfloat d = dot(r, r);\n\t\t\t\n\t\t\tif(d < md) {\n\t\t\t\tmd = d;\n\t\t\t\tmr = r;\n\t\t\t\tmg = g;\n\t\t\t}\n\t\t}\n\t}\n\t\n\treturn vec3(sqrt(md), mr);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n\tvec2 uv = -1.0 + 2.0*(fragCoord.xy/iResolution.xy);\n\tuv.x *= iResolution.x/iResolution.y;\n\t\n\tvec3 v = voronoi(2.0*uv);\n\tvec3 col = mix(vec3(1), vec3(0), v.x*v.x);\n\t\n\tfloat r = length(v.yz);\n\tfloat a = atan(v.z, v.y);\n\t\n\tif(r < 0.3) {\n\t\tr -= 0.1*smoothstep(0.05, 0.1, 0.5*abs(0.2*sin(iTime + 2.0*v.x)));\n\t\ta = fbm(20.0*uv);\n\t\t\n\t\tfloat f = 0.0;\n\t\tcol = vec3(0.2, 0.4, 0.8);\n\t\t\n\t\tf = smoothstep(0.24, 0.25, r);\n\t\tcol = mix(col, vec3(0, 0, 1), f);\n\t\t\n\t\tf = smoothstep(0.3, 1.0, fbm(vec2(5.0*r, 15.0*a)));\n\t\tcol = mix(col, vec3(0, 0.6, 0.7), 2.0*f);\n\t\t\n\t\tf = smoothstep(0.05, 0.1, r);\n\t\tcol = mix(col, vec3(0), 1.0 - f);\n\t\t\n\t\tf = smoothstep(0.25, 0.3, r);\n\t\tcol = mix(col, vec3(1), f);\n\t}\n\t\n\tcol = mix(col, vec3(1, 0, 0), smoothstep(0.7, 1.0, fbm(vec2(5.0*r, 3.0*a))));\n\t\n\tfragColor = vec4(col, 1);\n}","name":"Image","description":"","type":"image"}]}