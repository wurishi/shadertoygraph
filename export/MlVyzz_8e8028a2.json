{"ver":"0.1","info":{"id":"MlVyzz","date":"1534952008","viewed":153,"name":"Voronoi Video","username":"LeighH","description":"Thought I'd use a video as a source for both the colour and seed points for a voronoi diagram and see what happened. Could probably do something fun with it if I could think of a better way to select pixels.","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["voronoi","video","fun"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"Xdf3Rn","filepath":"/media/a/e81e818ac76a8983d746784b423178ee9f6cdcdf7f8e8d719341a6fe2d2ab303.webm","previewfilepath":"/media/ap/e81e818ac76a8983d746784b423178ee9f6cdcdf7f8e8d719341a6fe2d2ab303.webm","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec2[32] getSeeds(ivec2 texSize, vec2 tSize)\n{\n    vec2[32] seeds;\n    \n    for(int i = 0; i < 32; i++)\n    {\n        seeds[i] = texture(iChannel0, vec2(float(i)*(float(texSize/32)*tSize))).xy;\n    }\n    \n    return seeds;\n}\n\nvec3[32] getColors(ivec2 texSize, vec2 tSize)\n{    \n    vec3[32] col;\n    \n    for(int i = 0; i < 32; i++)\n    {\n        col[i] =  texture(iChannel0, vec2(float(i)*(float(texSize/32)*tSize))).xyz;\n    }\n    \n    return col;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    \n    ivec2 texSize2d = textureSize(iChannel0, 0);\n    vec2 texelSize = vec2(1.0/float(texSize2d.x), 1.0/float(texSize2d.y));\n    \n    vec2[] seeds = getSeeds(texSize2d, texelSize);\n    vec3[] colors = getColors(texSize2d, texelSize);\n    \n    float dist = distance(seeds[0], uv);\n    vec3 col = colors[0];\n    \n    for(int i = 1; i < 32; i++)\n    {\n        float current = distance(seeds[i], uv);\n        if(current < dist)\n        {\n            col = colors[i];\n            dist = current;\n        }\n    }\n\n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}