{"ver":"0.1","info":{"id":"dsjXWw","date":"1670413714","viewed":205,"name":"Time displacement Slitscan","username":"Trixelized","description":"Slit scan effect using only two textures. Same as original but smooths inbetween frames. Go fullscreen for a less vaseline'd up effect.","likes":0,"published":1,"flags":34,"usePreview":0,"tags":["time","warp","slitscan","timewarp","oldframes"],"hasliked":0,"parentid":"MlVfWt","parentname":"Slitscan in two textures"},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define SIZE 8.0\n\nvec3 getFrame(vec2 uv, float hd_frame, float n){\n    \n    float frame = floor(hd_frame * n * n) / n * n;\n    float b = fract(frame - hd_frame * (n * n));\n\n    float x = mod(frame, n) ;\n    float y = floor(frame / n);\n    \n    vec2 uvb = uv;\n    float xb = mod((frame + 1.0), n) ;\n    float yb = floor((frame + 1.0) / n);\n    \n    uv += vec2(x, y);\n    uv /= n;\n    \n    uvb += vec2(xb, yb);\n    uvb /= n;\n    \n    return mix(texture(iChannel0, uvb).rgb, texture(iChannel0, uv).rgb, b);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    \n    vec2 uv = fragCoord/iResolution.xy;\n\n    float n = SIZE;\n    \n    // Change the gradient to change the type of scan\n    float grad = uv.y;\n    \n\n    fragColor = vec4( getFrame(uv, grad, n), 1.0);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4sf3zn","filepath":"/presets/webcam.png","previewfilepath":"/presets/webcam.png","type":"webcam","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":1,"sampler":{"filter":"nearest","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"#define SIZE 8.0\n\nvec3 storeFrame(vec2 uv){\n   float box = step( 0., uv.x )*step( uv.x, 1./SIZE )*step( 0., uv.y )*step( uv.y, 1./SIZE );\n\n  float oldSqx = floor(uv.x*SIZE);\n  float oldSqy = floor(uv.y*SIZE);\n  float oldIndex = oldSqy*SIZE+oldSqx;\n  vec2 oldPos = vec2( oldSqx, oldSqy )/SIZE;\n  oldIndex-=1.;\n\n  float shiftSqy = floor( oldIndex/SIZE );\n  float shiftSqx = oldIndex-shiftSqy*SIZE;\n  vec2 shiftPos = vec2( shiftSqx, shiftSqy )/SIZE;\n\n  vec3 old = texture( iChannel1, uv+(shiftPos-oldPos) ).rgb*(1.-box);\n  vec3 raw = texture( iChannel0, uv*SIZE ).rgb*box;\n\n  return raw + old;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord.xy / iResolution.xy;\n    fragColor = vec4(storeFrame(uv), 1.0);\n}","name":"Buffer A","description":"","type":"buffer"}]}