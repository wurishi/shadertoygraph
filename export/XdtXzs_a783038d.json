{"ver":"0.1","info":{"id":"XdtXzs","date":"1460973678","viewed":2603,"name":"cartoon animation","username":"tomaes","description":"WIP.","likes":8,"published":1,"flags":0,"usePreview":0,"tags":["2d","cartoon"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// cartoon face shader (v2016-4-19) / tomaes.32x.de\nconst float PI = 3.1415926535;\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    float t = iTime+740.0-10.0+1.54;\n    \n    uv.y /= sqrt(t+uv.x/uv.y)*(0.04 + sin(t+uv.x)*0.003);\n    \n    // \"skin\" color\n    vec3 c = vec3(0.3 / sqrt(uv.x),0.5,0.26 - sin(t)*0.15);\n\n    float size = 0.55 + mod(t,0.5)*0.1 + sin(t*2.7)*0.05;\n    float bend = 0.3;\n    \n    float o = mod(sin(t),0.2)*0.09;\n    float ny = (0.75-size)*0.2;\n    \n\t// nose: left\n    if (distance(vec2(0.63,0.65+ny),vec2(uv.x*1.3,uv.y)) < 0.01)\n        c = vec3(1.0-uv.y*0.1,0.9,0.0);\n\t// nose: right\n    if (distance(vec2(0.71,0.65+ny),vec2(uv.x*1.3,uv.y)) < 0.01)\n        c = vec3(1.0-uv.y*0.1,0.9,0.0); \n    \n    // eyes: left\n    if (distance(vec2(0.29,0.8),vec2(uv.x*1.3,uv.y)) < 0.09)\n        c = vec3(1.0-uv.y*0.1,0.9,0.0);\n    if (distance(vec2(0.29+o,0.8-o),vec2(uv.x*1.3,uv.y)) < 0.03)\n        c = vec3(0.0,0.0,0.0);\n       \n    // eyes: right\n    if (distance(vec2(1.0,0.8),vec2(uv.x*1.3,uv.y)) < 0.06)\n        c = vec3(1.0-uv.y*0.1,0.9,0.0);\n    if (distance(vec2(1.0-o,0.8+o),vec2(uv.x*1.3,uv.y)) < 0.02)\n        c = vec3(0.0,0.0,0.0);\n       \n    // mouth     \n    o = min(uv.x*uv.x+0.2,0.3); //sin(uv.x*PI)*bend; // + 0.4*mod(uv.x+mod(uv.y*0.4,0.02),0.02); \n\n    if (o == 0.3) \n        o+= abs(sin(uv.x*9.9))*0.05;\n    \n    if (uv.y+o*1.2 > size && uv.y-o*1.1 < 0.8-size)\n\t\tc = vec3(1.0-uv.y,1.0-uv.y,0.8-uv.x);\n    \n    o = min(uv.x*uv.x+0.18,0.3); //sin(uv.x*PI)*bend + mod(uv.x+1.2*mod(uv.y*0.4,0.02),0.02);     \n    \n    // teeth\n    if (uv.y+o > size && uv.y-o < 0.81-size)\n    {\n        if (mod(uv.x+sin(t*0.5+uv.x*20.0+uv.y*5.0)*0.2,0.1) < 0.04)\n            c = vec3( 1.0,1.0-uv.y*0.5,0.7 ); //vec3( 1.0,1.0,0.7 );\n        else\n            c = vec3( 1.0, 0.7, uv.y);\n        \n        float q = abs(sin((mod(uv.x,0.1)-0.037)*PI ))*0.1;\n        \n        if (uv.x > 0.37 && (mod(uv.y,1.0) < (0.35-q) || mod(uv.y,1.0) > (0.55+q)) && mod(uv.x, 0.1) < 0.07)\n            c = vec3(1.0, 1.0, 0.4); //vec3(0.4, 0.6, 1.0);\n    }\n    \n    // \"mouth balls\"\n    vec2 d = vec2(uv.x,uv.y*0.8-ny);\n    if ((distance(d,vec2(0.07,0.45))   < 0.08) ||\n       (distance(d,vec2(1.0-0.07,0.5)) < 0.03) )\n        c = vec3(0.0,0.25,0.15);\n    \n    // borders\n    o = sin(uv.y*PI*1.55)*0.03 + ny*0.8;\n    \n    if (uv.x+o < 0.1 || uv.x-o > 0.9)\n        c = vec3(1.0,0.4,0.5+uv.y*0.04 - mod(t+uv.y+o,0.5)*5.5);\n       \n    fragColor = vec4( c, 1.0 );\n}","name":"Image","description":"","type":"image"}]}