{"ver":"0.1","info":{"id":"wl2BRD","date":"1598459690","viewed":66,"name":"BridgetRiley","username":"LucasWilson","description":"optical illusions","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["illusion"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define COL_COUNT 120.\n#define BOX_RES 7.\n\n#define COLOR1 vec3( .255, .255, .255 )/.255\n#define COLOR2 vec3( .0, .0, .0 )/.255\n\n#define COLOR3 vec3(  .0, .0, .0 )/.255\n#define COLOR4 vec3( .255, .255, .255 )/.255\n\nvec2 shearaboutX(vec2 v, float t)\n{\n    vec3 pos = vec3(v, 1.);\n    float st = sin(t);\n    float ct = cos(t);\n    \n    mat3 transform = mat3(\n    \t1, 0, 0,\n        0, ct, -st,\n        0, st, ct\n    );\n    \n    return (transform*pos).xy;\n}\n\nvec2 vec2rotated(vec2 v, float t)\n{\n \tfloat st = sin(t);\n    float ct = cos(t);\n    \n    return vec2(ct*v.x + st*v.y, -st*v.x + ct*v.y);\n}\n\nvec2 boxid(vec2 v) \n{\n    return floor(v.yx * BOX_RES);\n}\n\nvec3[2] boxcolorset(vec2 v) \n{\n    vec2 id = boxid(v);\n    float checkerboxid = mod(id.x+id.y, 2.);\n    \n    vec3[2] colorset;\n    colorset[0] = checkerboxid*COLOR1 + (1.-checkerboxid)*COLOR3;\n    colorset[1] = checkerboxid*COLOR2 + (1.-checkerboxid)*COLOR4;\n    return colorset;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;  \n    \n    float column = floor(uv.x*COL_COUNT);\n    \n    float column_mask = mod(column, 2.);\n    float column_mask_alt = 1. - mod(column, 2.);\n    vec3[2] colorset = boxcolorset(    vec2rotated(    shearaboutX(uv*vec2(1.,5.), 1.), -1.)*vec2(.5,1.)    );\n\n    // Time varying pixel color\n    vec3 col = column_mask * colorset[0] + column_mask_alt * colorset[1];\n\n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}