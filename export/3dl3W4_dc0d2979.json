{"ver":"0.1","info":{"id":"3dl3W4","date":"1546278858","viewed":99,"name":"Blur STDEV","username":"ShadowFlare","description":"blur","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["blur"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float stdev(mat3x3 values) {\n    \n    float arl = 9.;\n    float sum0 = 0.;\n    float sum = 0.0;\n    for (int i = 0; i < 3; i++) {\n        for (int j = 0; j < 3; j++) {\n         \tsum += values[i][j];   \n        }\n    }\n    float mv = sum/arl;\n    for (int i = 0; i < 3; i++) {\n        for (int j = 0; j < 3; j++) {\n     \t\tsum0 += pow(values[i][j]-mv, 2.0); \n        }\n    }\n    float s0 = sqrt(sum0/arl);\n\treturn s0;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n\n    mat3x3 values;\n    mat3x3 values2;\n    mat3x3 values3;\n    mat3x3 values4;\n    vec4 tot = vec4(0.0);\n    for (int i = 0; i < 3; i++) {\n        for (int j = 0; j < 3; j++) {\n            vec4 col = texture(iChannel0, (fragCoord.xy-vec2(float(i-1), float(j-1)))/iResolution.xy);\n         \tvalues[i][j] = col.r;   \n        \tvalues2[i][j] = col.g; \n            values3[i][j] = col.b;\n            values4[i][j] = col.a; \n            tot += col;\n        }\n    }\n    vec4 val = ((vec4(stdev(values), stdev(values2), stdev(values3), stdev(values4))));   \n    //val -= 0.325;\n    vec4 col = (tot/9.0)*(1.0+val);\n    \n    // Output to screen\n    fragColor = col;\n}","name":"Image","description":"","type":"image"}]}