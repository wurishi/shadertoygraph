{"ver":"0.1","info":{"id":"WtcXz8","date":"1580340356","viewed":90,"name":"Tycho - Epoch","username":"hZzAaa","description":"A recreation of the album art of Epoch by Tycho.","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["epoch","tycho","album"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Raymarch settings\n#define MAX_STEPS 1000\n#define MAX_DIST 100.\n#define SURF_DIST .001\n\n// Colours\n#define SKY_COLOUR vec3(.678, .259, .196)\n#define FLOOR_COLOUR vec3(.129, .125, .157)\n\nfloat sdBox(vec3 p, vec3 s) {\n  p = abs(p) - s;\n  return length(max(p, 0.)) + min(max(p.x, max(p.y, p.z)), 0.);\n}\n\nvec4 GetDist(vec3 p) {\n  vec4 box = vec4(FLOOR_COLOUR, sdBox(p, vec3(1.5,1,5)));\n  return box;\n}\n\nvec4 RayMarch(vec3 ro, vec3 rd) {\n  float dO = 0.;\n  vec3 col = vec3(0);\n\n  for (int i = 0; i < MAX_STEPS; i++) {\n    vec3 p = ro + rd * dO;\n    float dS = GetDist(p).w;\n    dO += dS;\n    if (dO > MAX_DIST || dS < SURF_DIST) {\n      col = GetDist(p).xyz;\n      break;\n    }\n  }\n\n  return vec4(col, dO);\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n  vec2 uv = (fragCoord - .5 * iResolution.xy) / iResolution.y;\n  vec2 m = iMouse.xy / iResolution.xy;\n\n  vec3 col = SKY_COLOUR;\n\n  vec3 ro = vec3(0, 2, -4);\n  vec3 rd = normalize(vec3(uv.x, uv.y, 1));\n  vec4 d = RayMarch(ro, rd);\n\n  if (d.w < MAX_DIST) {\n    vec3 p = ro + rd * d.w;\n    col = d.xyz ;\n  }\n\n  // Sun\n  col += .05/length(uv - vec2(0,.125));\n\n  // Construction grid\n  vec2 gv = fract(uv*12.);\n  //if (gv.x > .98 || gv.y>.98) col = vec3(1);\n\n  //col.rg = gv; \n  fragColor = vec4(col, 0.0);\n}","name":"Image","description":"","type":"image"}]}