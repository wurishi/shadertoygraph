{"ver":"0.1","info":{"id":"lfSSDc","date":"1706886337","viewed":86,"name":"Trippy Collatz Conjecture","username":"vxbrxnt","description":"I tried making something out of collatz conjecture and this happened. Quite proud of the result.\n\nAlso this is my first public save :D","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["lines","trippy","pattern","collatz"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define pi 3.1415926535897932384626433832795028841971\n\nvec3 hsl2rgb( in vec3 c )\n{\n    vec3 rgb = clamp( abs(mod(c.x*6.0+vec3(0.0,4.0,2.0),6.0)-3.0)-1.0, 0.0, 1.0 );\n\n    return c.z + c.y * (rgb-0.5)*(1.0-abs(2.0*c.z-1.0));\n}\n\nvec4 collatz(vec2 uv)\n{\n\tint x = int(uv.x);\n\tint y = int(uv.y);\n\t\n\tfor (int i = 1; i < int(iTime * 10.0); i++)\n\t{\n\t\tfloat col = abs(sin(iTime / 10.0 + float(i)));\n        vec3 rgb = hsl2rgb(vec3(col, 1.0, 0.5));\n\t\n\t\tif (x % 2 == 0)\n\t\t{\n\t\t\tx = x / 2;\n\t\t}\n\t\telse \n\t\t{\n\t\t\tx = 3 * x + 1;\n\t\t}\n\t\t\n\t\tif (y % 2 == 0)\n\t\t{\n\t\t\ty = y / 2;\n\t\t}\n\t\telse \n\t\t{\n\t\t\ty = 3 * y + 1;\n\t\t}\n        \n\t\tif (x == 1 && y == 1)\n\t\t{\n\t\t\treturn vec4(rgb, 1.0);\n\t\t}\n\t\t\n\t\tif (x == 1)\n\t\t{\n\t\t\treturn vec4(rgb / 4.0, 1.0);\n\t\t}\n\t\t\n\t\tif (y == 1)\n\t\t{\n\t\t\treturn vec4(rgb / 8.0, 1.0);\n\t\t}\n\t}\n\t\n\treturn vec4(0.0, 0.0, 0.0, 0.0);\n}\n\nvec2 rotateUV(vec2 uv, float rotation, float mid)\n{\n    return vec2(\n      cos(rotation) * (uv.x - mid) + sin(rotation) * (uv.y - mid) + mid,\n      cos(rotation) * (uv.y - mid) - sin(rotation) * (uv.x - mid) + mid\n    );\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n    float m = sin(iTime / 3.0) * 30.0;\n    vec2 uv = (fragCoord / iResolution.xy) * (100.0 + m);\n    \n    uv.x *= 2.0;\n    uv.x -= 100.0 + m;\n    uv = rotateUV(uv, 0.78539816339744828 + sin(iTime) / 12.0, 0.0);\n    uv += iTime * 30.0;\n\t\n\tfragColor = collatz(uv);\n}","name":"Image","description":"","type":"image"}]}