{"ver":"0.1","info":{"id":"lXSyD1","date":"1727199533","viewed":25,"name":"Some Patterns New 5-3","username":"eralex61","description":"Some Patterns","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["fractal"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.14159265\n\nfloat fmd(float x,float y)\n{\n    return x-trunc(x/y)*y;\n}\nfloat sqr(float x)\n{\n    return x*x;\n}\nfloat creal(vec2 a)\n{\n    return a.x;\n}\nfloat cimag(vec2 a)\n{\n    return a.y;\n}\nvec2 cexp(float x)\n{\n    return vec2(cos(x), sin(x));\n}\nvec2 cpow(vec2 a, float x)\n{\n    float u_mod = length(a);\n    float u_phi = atan(a.y, a.x);\n    return pow(u_mod,x)*cexp(u_phi*x);    \n}\nvec2 product(vec2 a, vec2 b)\n{\n    return vec2(a.x*b.x-a.y*b.y, a.x*b.y+a.y*b.x);\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{     \n    float StringSharp_Step=4.0;\n    float StringSharp_ppRe=0.0;\n    float StringSharp_ppIm=4.0;\n    float StringSharp_pppRe=1.0;\n    float StringSharp_pppIm=1.0;\n    float StringSharp_Rot=10.0;\n    float StringSharp_FrSep=3.0;\n\n    float StringSharp_Power2=1.0;\n    float StringSharp_fp1Re=0.125;\n    float StringSharp_fp1Im=0.0;\n    float StringSharp_fp2Re=1.0;\n    float StringSharp_fp2Im=0.0;\n    float StringSharp_Beta=0.75;\n\n    int StringSharp_Num=5;\n    int StringSharp_f1=2;\n    int StringSharp_f2=1;\n\n    vec3 A = vec3(0.5,0.5,0.5);\n    vec3 B = vec3(0.5,0.5,0.5);\n    vec3 C = vec3(4.3,5.7,3.5);\n    vec3 D = vec3(0.8,0.35,0.72);\n\n\n    \n    vec2 z = vec2(0.);\n    int k = 0;\n  \tint niter = StringSharp_Num;  \t\n  \tfloat x = 0.0;\n  \tfloat y = 0.0;\n    float nindex = 0.0;\n  \tfloat sindex = 0.0;\n  \tfloat scale = 1.0;  \t\n  \tfloat norm = 0.5;\n    float t1=iTime*0.000000025+1.;\n    \n\tvec2 zc,zc1,zc2,zc3,zc4;\n    float d1,d2,d3,d4;\n    float cr1r,cr2r,cr3r,cr4r;  \t\n  \tfloat crp1,crp2,crp3,crp4;\n\n    vec2 uv =4.* (fragCoord-0.5*iResolution.xy)/iResolution.y;    \n  \tz = uv/StringSharp_Step;\n  \n  \twhile (k < (niter + 2))\n    {\n        float StringSharp_Power=0.75+0.5*(1. + sin(float(k+1)*iTime*0.1));\n    \n    \tif (k == 2)\n    \t{\n    \t\tz = (StringSharp_ppRe*cpow(vec2(1./sqrt(StringSharp_pppIm)*x,sqrt(StringSharp_pppIm)*y),StringSharp_pppRe)+(1.-StringSharp_ppRe)*z)*StringSharp_ppIm;\n\t\t}\n      \n    \telse if (k == 0)\n    \t{\n    \t\tz = z/StringSharp_ppIm;\n\t\t}\n          \n    \tz = product(z,cexp(PI/180.*StringSharp_Rot)) + vec2(10.0,-2.0);\n    \n    \tif (k > 1) scale = pow(1.+StringSharp_FrSep,float(k-2));       \n        \n    \tk = k + 1;\n    \n    \tzc = vec2(round(creal(scale*z)),round(cimag(scale*z)))/scale; \n    \n    \tzc1 = zc + vec2( 0.5, 0.5)/scale;\n    \tzc2 = zc + vec2(-0.5, 0.5)/scale;\n    \tzc3 = zc + vec2( 0.5,-0.5)/scale;\n    \tzc4 = zc + vec2(-0.5,-0.5)/scale;\n\t\t\n\t\tcr1r = fmd(sqr(fmd(pow(creal(zc1)-8.99999+t1-float(k),5.) , (13.00001+t1+float(k)))- fmd(pow(cimag(zc1)+31.00001+t1+float(k),3.) , (11.00001+t1+float(k)))),2.0)- 1.;\n\t\tcr2r = fmd(sqr(fmd(pow(creal(zc2)-8.99999+t1-float(k),5.) , (13.00001+t1+float(k)))- fmd(pow(cimag(zc2)+31.00001+t1+float(k),3.) , (11.00001+t1+float(k)))),2.0)- 1.;\n      \tcr3r = fmd(sqr(fmd(pow(creal(zc3)-8.99999+t1-float(k),5.) , (13.00001+t1+float(k)))- fmd(pow(cimag(zc3)+31.00001+t1+float(k),3.) , (11.00001+t1+float(k)))),2.0)- 1.;\n      \tcr4r = fmd(sqr(fmd(pow(creal(zc4)-8.99999+t1-float(k),5.) , (13.00001+t1+float(k)))- fmd(pow(cimag(zc4)+31.00001+t1+float(k),3.) , (11.00001+t1+float(k)))),2.0)- 1.;\n\t      \t\n      \tcrp1 = -cr1r;\n      \tcrp2 = cr2r;\n      \tcrp3 = cr3r; \n      \tcrp4 = -cr4r;\n      \t//norm = .5;\n\t  \n\t  \td1 = creal(z - zc)*scale + 0.5;\n      \td2 = (1. - d1);\n      \td3 = cimag(z - zc)*scale + 0.5;\n      \td4 = (1. - d3);\n            \n      \td1 = pow(.5 + .5*sin(PI*d1-PI/2.),StringSharp_Power);\n      \td2 = pow(.5 + .5*sin(PI*d2-PI/2.),StringSharp_Power);\n      \td3 = pow(.5 + .5*sin(PI*d3-PI/2.),StringSharp_Power);\n      \td4 = pow(.5 + .5*sin(PI*d4-PI/2.),StringSharp_Power);\n\n      \tnindex = crp1*d1*d3 + crp3*d1*d4 + crp2*d2*d3 + crp4*d2*d4;\n\t  \n\t\tif (StringSharp_f1 == 1) \n        {\n            nindex = round(5.*StringSharp_fp1Re*nindex+StringSharp_fp1Im/5.)/4.;\n        }\n        else \n        {\n            nindex = creal(cpow(vec2(round(15.*StringSharp_fp1Re*nindex+StringSharp_fp1Im/5.),0.),0.1))/3.;\n        }\n\n\t\tif (StringSharp_f2 == 1) \n        {\n            nindex = round(5.*StringSharp_fp2Re*nindex+StringSharp_fp2Im/5.)/4.;\n        }\n        else \n        {\n            nindex = creal(cpow(vec2(round(15.*StringSharp_fp2Re*nindex+StringSharp_fp2Im/5.),0.),0.1))/3.;\n        }\n\n    \tnindex = pow(nindex,StringSharp_Power2);\n    \n    \tif (k == 1)\n      \t{\n      \t\tx = nindex;\n\t\t}\n    \telse if (k == 2)\n    \t{\n    \t\ty = nindex;\n\t\t}      \n    \telse\n    \t{\n    \t\tsindex = sindex + nindex/pow(scale,StringSharp_Beta);\n\t\t}\n\t}\n\n  \n\n    float c1 = 2.*norm*sindex/sqrt(float(niter)) + 100.39+iTime*0.01;    \n    vec3 mixedColor = A+B*cos(2.0*PI*(C*c1+D));\n    \n\tfragColor = vec4(mixedColor, 1.0);\n}","name":"Image","description":"","type":"image"}]}