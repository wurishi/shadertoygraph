{"ver":"0.1","info":{"id":"MtScW1","date":"1508356995","viewed":124,"name":"Voronoi noise","username":"jl946","description":"A simple voronoi diagram","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["voronoi"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"Xsf3zn","filepath":"/media/a/f735bee5b64ef98879dc618b016ecf7939a5756040c2cde21ccb15e69a6e1cfb.png","previewfilepath":"/media/ap/f735bee5b64ef98879dc618b016ecf7939a5756040c2cde21ccb15e69a6e1cfb.png","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const int NUMBER_OF_POINTS = 42;\nconst float PI = 3.14159265359;\n\nvec2 getPosition(int i) {\n\treturn texture(\n        iChannel0,\n        vec2(\n            float(i) / float(NUMBER_OF_POINTS),\n        \t(float(i) + iTime) / 500.0\n        )\n    ).rg;\n}\n\nvec4 getColour(int i) {\n    float H = float(i) / float(NUMBER_OF_POINTS) * 2.0 * PI;\n    float S = 1.0;\n    float L = 0.5;\n    float C = (1.0 - abs(2.0 * L - 1.0)) * S;\n    float Hp = H / (PI / 3.0);\n    float X = C * (1.0 - abs(mod(H, 2.0) - 1.0));\n    if (Hp < 1.0) {\n        return vec4(C, X, 0.0, 1.0);\n    }\n    else if (Hp < 2.0) {\n    \treturn vec4(X, C, 0.0, 1.0);\n    }\n    else if (Hp < 3.0) {\n    \treturn vec4(0.0, C, X, 1.0);\n    }\n    else if (Hp < 4.0) {\n    \treturn vec4(0.0, X, C, 1.0);\n    }\n    else if (Hp < 5.0) {\n    \treturn vec4(X, 0.0, C, 1.0);\n    }\n    else {\n    \treturn vec4(C, 0.0, X, 1.0);\n    }\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    int closestIndex = 0;\n    float closestDistance = length(getPosition(0) * iResolution.xy - fragCoord);\n    for (int i = 1; i < NUMBER_OF_POINTS; ++i) {\n    \tfloat d = length(getPosition(i) * iResolution.xy - fragCoord);\n        if (d < closestDistance) {\n        \tclosestIndex = i;\n            closestDistance = d;\n        }\n    }\n    fragColor = closestDistance < 5.0 ? vec4(0) : getColour(closestIndex);\n}","name":"Image","description":"","type":"image"}]}