{"ver":"0.1","info":{"id":"DlcfWB","date":"1701944714","viewed":20,"name":"D2 - Water Ripple Effect 2D","username":"SilverFox","description":"Advent Of Shader Code\nWater Ripple Effect: Simulate ripples on a 2D water surface.","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["waterripple","aoc"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dX3Rn","filepath":"/media/a/bd6464771e47eed832c5eb2cd85cdc0bfc697786b903bfd30f890f9d4fc36657.jpg","previewfilepath":"/media/ap/bd6464771e47eed832c5eb2cd85cdc0bfc697786b903bfd30f890f9d4fc36657.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Generate ripple uv pattern what is applied on top of base texture uv\nfloat ripplePattern(vec2 uv, vec2 rippleCenter, float rippleAmplitude, float rippleSpeed, float rippleFrequency)\n{\n    // Radial distance used for cirle effect ripple wave\n    float distanceFromCenter = distance(uv, rippleCenter);\n    \n    // Ripple wave math formula\n    return rippleAmplitude * sin(distanceFromCenter * rippleFrequency - iTime * rippleSpeed) / (distanceFromCenter * rippleFrequency + 1.0);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord / iResolution.xy;\n    \n    // Create the wave ripple effect and water drop ripple effect\n    float waveRipplePattern = ripplePattern(uv, vec2(0.,0.) - .25, 0.075, 5.0, 25.0);\n    float waterDropRipplePattern = ripplePattern(uv, vec2(0.5,0.5), 0.1, 10.0, 40.0);\n    \n    // Calculate strength of rippleAnimation and add on top of uv texture\n    float strengthAnimFactor = clamp(cos(iTime), 0., 1.);\n    uv.x += waveRipplePattern + (waterDropRipplePattern * strengthAnimFactor);\n    uv.y += waveRipplePattern + (waterDropRipplePattern * strengthAnimFactor);\n\n    vec3 waterEffect = texture(iChannel0, uv).rgb;\n\n    fragColor = vec4(waterEffect, 1.0);\n}\n","name":"Image","description":"","type":"image"}]}