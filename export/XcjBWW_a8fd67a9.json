{"ver":"0.1","info":{"id":"XcjBWW","date":"1724933168","viewed":131,"name":"Stochastic zoom feedback loop","username":"hasse","description":"Tried to re-create a pretty artifact from a temporal reprojection algorithm.","likes":9,"published":1,"flags":32,"usePreview":0,"tags":["zoom","feedback","stochastic"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"nearest","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    fragColor = vec4(texelFetch(iChannel0, ivec2(fragCoord.xy), 0).xyz,1.0);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"nearest","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"#define INV_UINT32_MAX 2.3283064365386963e-10f\n\nuvec4 pcg4d(inout uvec4 seed)\n{\n    seed = seed * 1664525u + 1013904223u;\n    seed += seed.yzxy * seed.wxyz;\n    seed = (seed >> 16) ^ seed;\n    seed += seed.yzxy * seed.wxyz;\n    return seed;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    uvec4 seed = uvec4(fragCoord.x, fragCoord.y, 0, 20)+uint(iFrame);\n    vec4 random = vec4(pcg4d(seed))*INV_UINT32_MAX;\n\n    vec4 u = vec4(pcg4d(seed))*INV_UINT32_MAX;\n    vec2 uv = (fragCoord.xy + u.xy*1.5f - 0.5f)/ iResolution.xy;\n    uv = uv * 2.0f - 1.0f;\n    uv *= 0.99f;\n    uv = uv * 0.5f + 0.5f;\n    vec4 prev = texture(iChannel0, uv);\n    \n    if(random.w > 0.001f && dot(prev.xyz, prev.xyz) != 0.0)\n        random.xyz = prev.xyz;\n    fragColor = vec4(random.xyz,1.0);\n}","name":"Buffer A","description":"","type":"buffer"}]}