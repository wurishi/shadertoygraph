{"ver":"0.1","info":{"id":"DlGGDw","date":"1688035455","viewed":46,"name":"Magatama-light","username":"kcfmwls","description":"god eyes","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["sdf","genshin"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float smin(float a, float b, float k)\n{\n    float h = clamp(0.5 + 0.5 * (a - b) / k, 0.0, 1.0);\n    return mix(a, b, h) - k * h * (1.0 - h);\n}\nfloat smax(float a, float b, float k){\n    return -smin(-a, -b, k);\n}\nmat2 rotate(float angle)\n{\n    return mat2(cos(angle), -sin(angle), sin(angle), cos(angle));\n}\n\nfloat SetCircle(vec2 pos, float r)\n{\n    return length(pos) - r;\n}\nfloat Magatama(vec2 pos, float r, float angle)\n{\n    pos *= rotate(angle);\n    \n    float outCircle = SetCircle(pos, r);\n    outCircle = max(outCircle, pos.y);\n    float inCir1 = SetCircle(pos - vec2(r * 0.55, 0.0), r * 0.55);\n    float inCir2 = SetCircle(pos + vec2(r * 0.5, 0.0), r / 2.0);\n    outCircle = max(outCircle, -inCir1);\n    outCircle = min(outCircle, inCir2);\n    \n    return outCircle;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n    float w = 1.0 / iResolution.y;\n    \n    //vec3 maColor = vec3(uv.xy, 1.0);\n    uv.xy -= 0.5;\n    uv.x *= iResolution.x / iResolution.y;\n    \n    float ma1 = Magatama(vec2(uv - vec2(0.0, 0.1)), 0.1, radians(70.0));\n    ma1 = min(ma1, Magatama(vec2(uv - vec2(0.1, -0.05)), 0.1, radians(190.0)));\n    ma1 = min(ma1, Magatama(vec2(uv - vec2(-0.08, -0.05)), 0.1, radians(310.0)));\n    \n    float mas = smoothstep(w, -w, ma1);\n    \n    float background = smoothstep(w, -w, SetCircle(uv, 0.25));\n    \n    float outline = smoothstep(w, -w, max(SetCircle(uv, 0.255), -SetCircle(uv, 0.245)));\n    \n    float shadow = smoothstep(-0.06, 0.0, SetCircle(uv, 0.245)) * step(SetCircle(uv, 0.245), 0.0) * 0.4;\n    \n    float light = smoothstep(0.0, 0.12, -SetCircle(uv - vec2(-0.11, 0.08), 0.12));\n    \n    vec3 color = vec3(1.0);\n    color = mix(color, vec3(1.0, 0.0, 0.0), background);\n    color = mix(color, vec3(0.0), mas);\n    color = mix(color, vec3(0.0), outline);\n    color = mix(color, vec3(0.0), shadow);\n    color = mix(color, vec3(1.0), light);\n\n\n    // Output to screen\n    fragColor = vec4(color,1.0);\n}","name":"Image","description":"","type":"image"}]}