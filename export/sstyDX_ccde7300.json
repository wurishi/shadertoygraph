{"ver":"0.1","info":{"id":"sstyDX","date":"1654188216","viewed":713,"name":"Rings [324 chars]","username":"Xor","description":"Yet another little piece of shader art","likes":46,"published":1,"flags":0,"usePreview":1,"tags":["dof","planet","golf","vinyl"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"Xsf3zn","filepath":"/media/a/f735bee5b64ef98879dc618b016ecf7939a5756040c2cde21ccb15e69a6e1cfb.png","previewfilepath":"/media/ap/f735bee5b64ef98879dc618b016ecf7939a5756040c2cde21ccb15e69a6e1cfb.png","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"/*\n    \"Rings [324 chars]\" by @XorDev\n    Tweet: https://twitter.com/XorDev/status/1532211104583131136\n    Twigl: https://t.co/eyzpt9hV4A\n    \n    Also see \"Mars\": https://www.shadertoy.com/view/sdcyWN\n\n    Bokeh based on: shadertoy.com/view/fljyWd\n    -3 thanks to iq\n    \n    <512 Chars playlist: shadertoy.com/playlist/N3SyzR\n*/\n\n#define S texture(iChannel0\n\nvoid mainImage(out vec4 O, vec2 I)\n{\n    vec2 r = iResolution.xy,     //Resolution for texel calculations\n    i = r/r,                     //Iteration variable\n    d = (I.x-I-I+r*.2).yy/2e3,   //Depth of field vector\n    p,                           //Sample point\n    l;                           //Sample point length\n    \n    //Clear color\n    for(O-=O;    \n    //Iterate approximately 16*16 times\n    i.x<16.;    \n    //Approximately i = sqrt of the number of iterations\n    i+=1./i)\n        \n        //Compute sample length and point with skewing\n        l = length(p=(I+d*i)*mat2(2,1,-2,4)/r.y-vec2(-.1,.6)) / vec2(3,8),\n        //Rotate DOF sample vector\n        d *= -mat2(73,67,-67,73)/99.,\n        //Add rings (radial and cartesian noise)\n        O += pow(S,l)*S,p*mat2(cos(iTime*.1+vec4(0,33,11,0))))/l.x*.4,vec4(5,8,9,0));\n    //Take fifth root for boosted contrast\n    O=pow(O,.2+O-O);\n}","name":"Image","description":"","type":"image"}]}