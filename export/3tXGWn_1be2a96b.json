{"ver":"0.1","info":{"id":"3tXGWn","date":"1555967791","viewed":827,"name":"Edge direction plotting","username":"kloumpt","description":"edges","likes":10,"published":3,"flags":98,"usePreview":0,"tags":["edges"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sXGR8","filepath":"/media/previz/buffer02.png","previewfilepath":"/media/previz/buffer02.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"MtSGRt","filepath":"https://soundcloud.com/glinio/ctnuuu","previewfilepath":"https://soundcloud.com/glinio/ctnuuu","type":"musicstream","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":0}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n    fragColor = texture(iChannel0, fragCoord.xy / iResolution.xy);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"mipmap","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"XsXGR8","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n    fragColor = texture(iChannel0, fragCoord.xy / iResolution.xy);\n}","name":"Buffer B","description":"","type":"buffer"},{"inputs":[{"id":"4sf3zn","filepath":"/presets/webcam.png","previewfilepath":"/presets/webcam.png","type":"webcam","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord.xy / iResolution.xy;\n    uv.x = 1.0 - uv.x;\n    \n    fragColor = texture(iChannel0, uv);\n}","name":"Buffer A","description":"","type":"buffer"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"mipmap","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"mipmap","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4sXGR8","filepath":"/media/previz/buffer02.png","previewfilepath":"/media/previz/buffer02.png","type":"buffer","channel":2,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4sXGR8","channel":0}],"code":"vec3 hsv2rgb(vec3 c) {\n  vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n  vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n  return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ){\n    float lod = 1.0;\n    \n    vec2 uv = fragCoord.xy / iResolution.xy;\n    \n    vec3 c = textureLod(iChannel1, uv, lod).rgb;\n    vec3 b = texture(iChannel2, uv).rgb;\n    \n    vec2 mot = vec2(0.0, 0.0);\n    for (float x = -1.0; x <= 1.0; x += 1.0) {\n    \tfor (float y = -1.0; y <= 1.0; y += 1.0) {\n        \tmot += vec2(x, y) * max(0.0, 1.0 - distance(c, textureLod(iChannel0, uv + pow(2.0, lod) *  vec2(x, y) / iResolution.xy, lod).rgb));\n    \t}\n    }\n    \n    float angle = atan(mot.y, mot.x) / 3.141592 / 2.0;\n    \n    \n    vec3 col = mix(b * 240.0 /255.0, hsv2rgb(vec3(fract(angle + 1.0 * iTime * 109.0 / 60.0 / 4.0), 4.0 * length(mot), 1.0)), step(0.25, length(mot)));\n    \n                        \n    fragColor = vec4(col, 1.0);\n}","name":"Buffer C","description":"","type":"buffer"}]}