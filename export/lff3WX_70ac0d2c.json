{"ver":"0.1","info":{"id":"lff3WX","date":"1703671339","viewed":65,"name":"ana_ride","username":"kurg","description":"classic demoscene tunnel","likes":2,"published":1,"flags":0,"usePreview":1,"tags":["tunnel","demoscene"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XdX3Rn","filepath":"/media/a/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg","previewfilepath":"/media/ap/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define M_PI 3.1415926535897932384626433832795\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1) (in respect of y-resolution)\n    vec2 uv = fragCoord/iResolution.y;\n    \n    float x,y;\n    x = uv.x-(iResolution.x/iResolution.y)*0.5; y = uv.y-0.5; // x and y zeropoint middle of the screen\n    float ar = atan(y, x); // angle in radians, −π < ar < π\n    //if (abs(ar) > M_PI*.5) ar = mod(atan(-y,-x) + M_PI, M_PI*2.); //seam fix by spalmer 2023-12-27\n    float an = (ar+(M_PI))/(M_PI*2.0); // angle normalized to from 0.0 to 1.0 // with fix 0.25 to 1.25\n    \n    float d = sqrt(x*x+y*y); // distance from center point\n    float dp = 0.2/d; // distance with perspective\n    \n    dp = dp + iTime/5.0; // make tunnel to move\n    an = an + iTime/20.0; // make tunnel to spin\n\n    vec4 c = texture(iChannel0, vec2(an, dp));\n    //if (abs(x) < 0.0) c = vec4(1.0, 0.0, 0.0, 1.0); //debug\n\n    c = c * (d * 2.0); // fade to black\n    //c = vec4(an, an, an, 1.0); //debug\n    // Output to screen\n    fragColor = c;\n}","name":"Image","description":"","type":"image"}]}