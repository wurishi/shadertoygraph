{"ver":"0.1","info":{"id":"NlsXDf","date":"1626716270","viewed":281,"name":"animated voro-blue noise","username":"Carandiru","description":"seeing how blue noise and a simple Voronoi animation work out...","likes":5,"published":3,"flags":0,"usePreview":0,"tags":["voronoi","bluenoise"],"hasliked":0,"parentid":"ssSSRK","parentname":"F2-F1 Voronoi"},"renderpass":[{"inputs":[{"id":"XsBSR3","filepath":"/media/a/cb49c003b454385aa9975733aff4571c62182ccdda480aaba9a8d250014f00ec.png","previewfilepath":"/media/ap/cb49c003b454385aa9975733aff4571c62182ccdda480aaba9a8d250014f00ec.png","type":"texture","channel":0,"sampler":{"filter":"nearest","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Forked from F2-F1 Voronoi by RiceFields\n\n// voro-blue noise animation test\n\n#define SCALE 64.0\n#define SPEED 1.0\n\nvec2 random2( vec2 p ) {\n    return textureLod(iChannel0, (p * iResolution.xy) / (1024.0f * SCALE), 0.0f).rg;\n    //return fract(sin(vec2(dot(p,vec2(127.1,311.7)),dot(p,vec2(269.5,183.3))))*43758.5453);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n    vec2 uv = fragCoord/iResolution.y;\n    \n    uv *= SCALE;\n    \n    vec2 iuv = floor(uv);\n    vec2 fuv = fract(uv);\n    \n    vec4 mDist = vec4(1.0f); // x least point distnace, y 2nd least point distance ....\n    \n    for(int j=-1; j<=1; ++j) {\n        for(int i=-1; i<=1; ++i) {\n            vec2 neighbour = vec2(float(i), float(j));\n            vec2 point = random2(iuv + neighbour);\n            \n            // animate\n            point = 0.5f + 0.5f*sin(SPEED*iTime + 6.2831f*point);\n            \n            vec2 diff = neighbour + point - fuv;\n                        \n            float dist = dot(diff, diff); // lenght^2\n            \n            if(dist < mDist.x) {\n                mDist.w = mDist.z;\n                mDist.z = mDist.y;\n                mDist.y = mDist.x;\n                mDist.x = dist;\n            } \n            else if(dist < mDist.y) {\n                mDist.w = mDist.z;\n                mDist.z = mDist.y;\n                mDist.y = dist;\n            }\n            else if(dist < mDist.z) {\n                mDist.w = mDist.z;\n                mDist.z = dist;\n            }\n            else if(dist < mDist.w) {\n                mDist.w = dist;\n            }\n        }\n    }\n    \n    mDist = sqrt(mDist);\n    \n    float d = mix(mix(mDist.x,mDist.y,0.5f),\n                  mix(mDist.z,mDist.w,0.5f),0.5f);\n       \n    vec3 col = vec3(0.0f);\n    \n    col = vec3(d);\n    \n    fragColor = vec4(1.0f - col,1.0);\n}","name":"Image","description":"","type":"image"}]}