{"ver":"0.1","info":{"id":"WtGcWc","date":"1611848339","viewed":53,"name":"cellular automata waves","username":"ma38su","description":"cellular automata","likes":1,"published":1,"flags":32,"usePreview":0,"tags":["automata"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n  vec3 col = texture(iChannel0, fragCoord.xy/iResolution.xy).xyz;\n  fragColor = vec4(col, 1.);\n}\n","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"const float size = 4.;\nconst float cycle = 0.5;\n\nfloat rand(vec2 co){\n    return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n  vec2 r = iResolution.xy;\n  vec2 coords = fragCoord.xy;\n  vec2 p = floor(coords / size);\n  vec2 center = floor((r - 1.) / size);\n  center.x = floor(center.x / 2.);\n  if (abs(p.y - center.y) < 1.) {\n    bool f1 = mod(iTime, cycle) < cycle * 0.9;\n    float stp = floor(iTime / cycle);\n    bool f2 = mod(p.x, stp * 2.0) < 1.0;\n    fragColor = vec4((f1 && rand(p + floor(iTime / cycle)) < 0.01) ? 1. : 0.);\n    return;\n  }\n  vec4 tex1 = texture(iChannel0, (p + vec2(-0.5, 1.5)) * size / r);\n  vec4 tex2 = texture(iChannel0, (p + vec2(0.5, 1.5)) * size / r);\n  vec4 tex3 = texture(iChannel0, (p + vec2(1.5, 1.5)) * size / r);\n  int on = 0;\n  if (tex1.z > .9) on += 1;\n  if (tex2.z > .9) on += 1;\n  if (tex3.z > .9) on += 1;\n  fragColor = vec4(on == 1 ? 1. : 0.);\n}\n","name":"Buffer A","description":"","type":"buffer"}]}