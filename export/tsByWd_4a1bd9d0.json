{"ver":"0.1","info":{"id":"tsByWd","date":"1587503530","viewed":322,"name":"Burn effect","username":"jaszunio15","description":"Trying to create interesting and simple texture-based effect.\n\nShader License: CC BY 3.0\nAuthor: Jan Mróz (jaszunio15)","likes":7,"published":1,"flags":0,"usePreview":0,"tags":["2d","burn","smoke"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XsfGRn","filepath":"/media/a/1f7dca9c22f324751f2a5a59c9b181dfe3b5564a04b724c657732d0bf09c99db.jpg","previewfilepath":"/media/ap/1f7dca9c22f324751f2a5a59c9b181dfe3b5564a04b724c657732d0bf09c99db.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4sf3Rr","filepath":"/media/a/ad56fba948dfba9ae698198c109e71f118a54d209c0ea50d77ea546abad89c57.png","previewfilepath":"/media/ap/ad56fba948dfba9ae698198c109e71f118a54d209c0ea50d77ea546abad89c57.png","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//Shader License: CC BY 3.0\n//Author: Jan Mróz (jaszunio15)\n\n#define FILL_WIDTH (pixelSize * 5.0)\n#define TIME (iTime * 0.3)\n#define NOISE_LAYERS_COUNT 8.0\n#define LAYER_MULTIPLIER 2.1121\n#define BURN_COLOR vec4(0.9, 0.6, 0.2, 0.0)\n\nfloat LayeredNoise(vec2 uv)\n{\n    float noise = 0.0;\n    float maximumValue = 0.0;\n    for (float i = 1.0; i < pow(LAYER_MULTIPLIER, NOISE_LAYERS_COUNT); i *= LAYER_MULTIPLIER)\n    {\n     \tnoise += texture(iChannel1, (uv + iTime * 0.01) * 0.1 * i).r / i;\n        maximumValue += 1.0 / i;\n    }\n    return noise / maximumValue;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord / iResolution.y;\n    \n    vec3 col = texture(iChannel0, uv).rgb;\n    \n    float fillMask = LayeredNoise(uv * 2.0) * uv.y;\n    float pixelSize = 0.01;\n    \n    vec4 texCol = mix(texture(iChannel0, uv, 0.0), vec4(0.5), 0.4);\n    vec4 image = texCol;\n   \n    float fillAmount = (cos(TIME) * 0.5 + 0.5) * 0.7;\n    float burn = 1.0 - smoothstep(0.0, FILL_WIDTH * 0.5, abs(fillAmount - fillMask - FILL_WIDTH * 0.5));\n\tfloat burn2 = (1.0 - smoothstep(0.0, FILL_WIDTH * 2.0, abs(fillAmount - fillMask - FILL_WIDTH * 0.5)));\n    burn2 *= burn2;\n    \n    float smoke = LayeredNoise(uv * 2.0 - vec2(0.0, iTime * 0.1)) * uv.y;\n    image = mix(texCol, vec4(smoke) - fillAmount, smoothstep(fillAmount - FILL_WIDTH, fillAmount, fillMask));\n    \n    image += burn + burn2 * BURN_COLOR;\n    \n    fragColor = vec4(image);\n}","name":"Image","description":"","type":"image"}]}