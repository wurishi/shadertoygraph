{"ver":"0.1","info":{"id":"lsdGDs","date":"1452859878","viewed":401,"name":"You spin me right round","username":"kodde","description":"My first attempt at a shader here on Shadertoy. I'm still quite new to creating shaders by code.","likes":9,"published":1,"flags":64,"usePreview":0,"tags":["trippy","spin","twirl"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGWn","filepath":"https://soundcloud.com/spade/winter-is-coming-mix","previewfilepath":"https://soundcloud.com/spade/winter-is-coming-mix","type":"musicstream","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[],"code":"//This palette solution is from https://iquilezles.org/articles/palettes\nvec3 colorPalette(in float t, in vec3 a, in vec3 b, in vec3 c, in vec3 d) {\n\treturn a+b*cos(6.28318530718*(c*t+d));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    \n    //Offseting 0,0 to center of screen.\n    vec2 cUV = uv - 0.5;\n    //Scaling U with screen resolution aspect ratio to get circular shapes and not oval shapes.\n    cUV.x *= iResolution.x/iResolution.y;\n    \n    //Building my own normalized atan2 solution as this does not seem available?\n    float f;\n    if(cUV.y > 0.0)\n    {\n        f = atan(cUV.x/cUV.y) / 6.2831 + 0.25;\n    }\n    else\n    {\n        f = atan(cUV.x/cUV.y) / 6.2831 + 0.75;\n    }\n    \n    //Getting the length from center and animating this to cycles between -8 to +8\n    float l = length(cUV);\n    float lm = sin(iTime)*8.0;\n    \n    //Adding time, modulus to keep it in 0-1 color spectrum, modifiying the swiping line with the length from center and it's animation.\n    float a = mod((l*lm)+f-iTime,1.0);\n    a *= smoothstep(.0,abs(lm)*.004,abs(mod((l*lm)+f-iTime+.5,1.0)-.5));\n    \n    vec3 c = colorPalette(iTime*0.05+l*0.3, vec3(0.5,0.5,0.5), vec3(0.5,0.5,0.5), vec3(1.0,1.0,1.0), vec3(0.0,0.33,0.67)) * a;\n\n    fragColor = vec4(c,1.0);\n}","name":"","description":"","type":"image"}]}