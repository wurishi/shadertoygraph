{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"/*\na\tparam\nb\tparam\t\tbar\nc\titer\t\tcross\nd\tdist\t\tvec2\ne\nf\tdistFunc\tfloat\ng\tgetNorm\nh\t\t\t\tfractal theta\ni\nj\tcamC-camP\nk\nl\trayL\t\tclamp\nm\nn\no\np\trayP\t\tcamP\nq\nr\tres\t\t\treturn\ns\t\t\t\tcamS\nt\ttime\t\tvec3\nu\tuv\t\t\tcamU\nv\t0,1\t\t\treverb\nw\tray\t\t\tfractal power\nx\tno\ny\tno\nz\tno\n*/\n\n#ifdef GL_ES\nprecision mediump float;\n#endif\n\n#define t iTime\n#define r iResolution.xy\n#define L(i) clamp(i,0.,1.)\n#define F float\n#define D vec2\n#define T vec3\n#define R return\n#define v D(0,1)\n\nF B(D a,D b)\n{\n    D d=abs(a)-b;\n    R min(max(d.x,d.y),0.)+length(max(d,0.));\n}\n\nF C(T a,D b)\n{\n    R min(B(a.xy,b),min(B(a.yz,b),B(a.zx,b)));\n}\n\nF f(T a)\n{\n    F b=0.;\n    for(F c=0.;c<7.;c+=1.)\n    {\n        F H=c*(t*.002);\n        a.xy=mat2(cos(H),-sin(H),sin(H),cos(H))*a.xy;\n        F W=pow(1.6,c*.7);\n        b=max(b,-C(mod(a+.15/W,.6/W)-.15/W,D(.1/W)));\n    }\n    R b;\n}\n\nT g(T a,F b)\n{\n\tD d=v*b;\n\tR normalize(T(\n\t\tf(a+d.yxx)-f(a-d.yxx),\n\t\tf(a+d.xyx)-f(a-d.xyx),\n\t\tf(a+d.xxy)-f(a-d.xxy)\n\t));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tD u=(fragCoord.xy*2.-r)/r.x;\n\tT P=T(sin(-t*.04),cos(t*.04),0.)*-.35+v.yyx*.3,\n\t\tj=normalize(v.yxx-P),\n\t\tS=cross(j,v.xyx),\n\t\tU=cross(S,j),\n\t\tw=normalize(S*u.x+U*u.y+j),\n        p=P;\n\t\n\tF d=0.,l=0.;\n    for(int i=0;i<99;i++){\n        d=f(p);\n        l+=d;\n        p=P+w*l;\n    }\n\t\n    d=pow(l*.9,2.);\n\tfragColor=vec4((dot(-w,g(p,1E-4))*max(1.-d*.2,0.)+L(d*.2))*((d+L((1.-dot(g(p,1E-4),g(p,1E-3)))*8.+.1)*pow(.7,mod(t,9.)))*T(.2,.3,.6)+T(.1))*(1.-pow(1E-7,t*.04))*(1.3-length(u)*.7),1.);\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"4tl3zn","date":"1420630652","viewed":600,"name":"[js4kintro 2014]Volume","username":"FMS_Cat","description":"for #js4kintro 2014\nhttp://jp.wgld.org/js4kintro/\nmengel sponge mutation","likes":12,"published":1,"flags":0,"usePreview":0,"tags":["3d","fractal"],"hasliked":0,"parentid":"","parentname":""}}