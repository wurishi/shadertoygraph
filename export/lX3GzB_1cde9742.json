{"ver":"0.1","info":{"id":"lX3GzB","date":"1716652074","viewed":84,"name":"maggie","username":"jorge2017a2","description":"maggie","likes":10,"published":1,"flags":8,"usePreview":0,"tags":["maggie"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//por jorge2017a2\n//maggie\n//--25-may-2024--\n//referencia\n//https://iquilezles.org/articles/distfunctions2d\n///\n#define antialiasing(n) n/min(iResolution.y,iResolution.x)\n\n#define S(d,b) smoothstep(antialiasing(1.5),0. , d - (b) )\n#define S2(d,b) smoothstep(8.0*antialiasing(1.5),0.,d - (b) )\n#define S3(d,b) smoothstep(0.25/antialiasing(0.5),0. , d - (b) )\n\n\n#define PI     3.14159265\n#define TWO_PI 6.28318530\n#define POLY(N) (in vec2 p, in vec2[N] v) {const int n=v.length();float d=dot(p-v[0],p-v[0]);float s=1.;for(int i=0,j=n-1;i<n;j=i,i++){vec2 e=v[j]-v[i];vec2 w=p-v[i];vec2 b=w-e*clamp(dot(w,e)/dot(e,e),0.,1.);d=min(d,dot(b,b));bvec3 cond=bvec3(p.y>=v[i].y,p.y<v[j].y,e.x*w.y>e.y*w.x);if(all(cond)||all(not(cond))) s=-s;}return s*sqrt(d);}\n\n\nfloat sdPoly30_1 POLY(30)\nvec2  pt30_1[30]=vec2[](\nvec2(0.5415,0.5108),vec2(0.5632,0.6191),vec2(0.6625,0.6895),vec2(0.5433,0.7274),vec2(0.5361,0.8610),\nvec2(0.4729,0.8159),vec2(0.4116,0.9278),vec2(0.3484,0.8249),vec2(0.2671,0.8935),vec2(0.2383,0.7744),\nvec2(0.1227,0.7960),vec2(0.1408,0.7022),vec2(0.0578,0.6516),vec2(0.1318,0.5830),vec2(0.0596,0.5235),\nvec2(0.1408,0.4874),vec2(0.0957,0.4007),vec2(0.1931,0.3863),vec2(0.2256,0.3051),vec2(0.3032,0.3502),\nvec2(0.3051,0.3213),vec2(0.3863,0.3430),vec2(0.4783,0.3177),vec2(0.5054,0.3412),vec2(0.5289,0.3520),\nvec2(0.5505,0.3520),vec2(0.5776,0.3375),vec2(0.5776,0.4531),vec2(0.5397,0.4729),vec2(0.5415,0.5108)  );\n\n\nfloat sdPoly13_1a POLY(13)\nvec2  pt13_1a[13]=vec2[](\nvec2(0.4332,0.6191),vec2(0.3159,0.6209),vec2(0.2888,0.6047),vec2(0.2780,0.5794),vec2(0.2870,0.5343),\nvec2(0.3014,0.5108),vec2(0.3267,0.4874),vec2(0.3556,0.4747),vec2(0.3863,0.4729),vec2(0.4061,0.4838),\nvec2(0.4188,0.5108),vec2(0.4332,0.5379),vec2(0.4332,0.6191)  );\n\n\nfloat sdPoly13_1b POLY(13)\nvec2  pt13_1b[13]=vec2[](\nvec2(0.5542,0.6444),vec2(0.5289,0.6444),vec2(0.4819,0.6300),vec2(0.4549,0.6173),vec2(0.4350,0.6173),\nvec2(0.4332,0.5379),vec2(0.5036,0.5307),vec2(0.5307,0.5217),vec2(0.5433,0.5108),vec2(0.5794,0.5560),\nvec2(0.5812,0.5812),vec2(0.5614,0.6173),vec2(0.5542,0.6444)  );\n\n\nfloat sdPoly8_1 POLY(8)\nvec2  pt8_1[8]=vec2[](\nvec2(0.4838,0.3538),vec2(0.2996,0.3412),vec2(0.2888,0.2690),vec2(0.2401,0.2256),vec2(0.5794,0.2202),\nvec2(0.5325,0.2437),vec2(0.4856,0.2599),vec2(0.4838,0.3538)  );\n\n\nfloat sdPoly15_1 POLY(15)\n    vec2  pt15_1[15]=vec2[](\n    vec2(0.5758,0.4495),vec2(0.5993,0.4729),vec2(0.6282,0.4729),vec2(0.6498,0.4513),vec2(0.6227,0.4386),\n    vec2(0.6083,0.4260),vec2(0.6245,0.4025),vec2(0.6300,0.3791),vec2(0.6137,0.3646),vec2(0.6264,0.3430),\n    vec2(0.6282,0.3213),vec2(0.6047,0.3014),vec2(0.5632,0.3646),vec2(0.5812,0.4116),vec2(0.5758,0.4495)  );\n    \n    \n\nfloat sdPoly16_1 POLY(16)\nvec2  pt16_1[16]=vec2[](\nvec2(0.6083,0.4260),vec2(0.6227,0.4368),vec2(0.6498,0.4513),vec2(0.6733,0.4368),vec2(0.6968,0.4116),\nvec2(0.6986,0.3664),vec2(0.6859,0.3357),vec2(0.6769,0.3285),vec2(0.6282,0.3285),vec2(0.6264,0.3448),\nvec2(0.6137,0.3592),vec2(0.6282,0.3773),vec2(0.6516,0.3646),vec2(0.6625,0.3755),vec2(0.6516,0.3881),\nvec2(0.6083,0.4260)  );\n\n\nfloat sdPoly11_1 POLY(11)\nvec2  pt11_1[11]=vec2[](\nvec2(0.3123,0.8123),vec2(0.2888,0.7960),vec2(0.2762,0.7617),vec2(0.2888,0.7238),vec2(0.3087,0.6986),\nvec2(0.3249,0.6986),vec2(0.3484,0.7220),vec2(0.3321,0.7365),vec2(0.3321,0.7708),vec2(0.3249,0.8032),\nvec2(0.3123,0.8123)  );\n\nfloat sdPoly11_2 POLY(11)\nvec2  pt11_2[11]=vec2[](\nvec2(0.3755,0.8105),vec2(0.3484,0.8123),vec2(0.3267,0.7996),vec2(0.3339,0.7744),vec2(0.3303,0.7383),\nvec2(0.3574,0.7202),vec2(0.3809,0.7130),vec2(0.4007,0.7365),vec2(0.3881,0.7491),vec2(0.3863,0.7978),\nvec2(0.3755,0.8105)  );\n\nfloat sdPoly9_1 POLY(9)\nvec2  pt9_1[9]=vec2[](\nvec2(0.4097,0.8213),vec2(0.3863,0.8032),vec2(0.3863,0.7527),vec2(0.4079,0.7292),vec2(0.4170,0.7292),\nvec2(0.4296,0.7509),vec2(0.4458,0.7744),vec2(0.4296,0.8141),vec2(0.4097,0.8213)  );\n\n\nfloat Sdf_I(float distA, float distB)\n\t{ return max(distA, distB);}\nfloat Sdf_U(float distA, float distB)\n\t{ return min(distA, distB);}\nfloat Sdf_D(float distA, float distB)\n\t{ return max(distA, -distB);}\n\n\nvec3 DFB(vec3 pColObj, vec3 colOut, float distObj )\n{ colOut = mix(colOut,pColObj ,S3( distObj,0.0));\n  colOut = mix(colOut,vec3(0.0),S3(abs( distObj)-0.005,0.0));\n  return colOut;\n}\n\nfloat sdCircle( vec2 p, float r )\n{ return length(p) - r;}\n\nfloat divf(float a, float b)\n{\n    //evita crash por 1/0.0 =Infinito=error, en compilar\n    if(b==0.0)\n    {b=0.00001;}\n    return a/b;\n}\n\n\nfloat sdSegment( in vec2 p, in vec2 a, in vec2 b )\n{  vec2 pa = p-a, ba = b-a;\n    float h = clamp( divf( dot(pa,ba),dot(ba,ba)), 0.0, 1.0 );\n    return length( pa - ba*h );\n}\n\n\nvec3 Head(vec2 p, vec3 colout)\n{\nfloat sd30_1 = sdPoly30_1(p, pt30_1);\n    colout=DFB(vec3(1.0,1.0,0.0), colout,sd30_1);\n    return colout;\n}\n\n\nvec3 ojosIzq(vec2 p, vec3 colout)\n{\nfloat sd13_1 = sdPoly13_1a(p, pt13_1a);\n    colout=DFB(vec3(1.0), colout,sd13_1);\n    return colout;\n    \n}\n\nvec3 ojoDer(vec2 p, vec3 colout)\n{\nfloat sd13_1 = sdPoly13_1b(p, pt13_1b);\n  colout=DFB(vec3(1.0), colout,sd13_1);\n  return colout;\n\n}\n\nvec3 cuello(vec2 p, vec3 colout)\n{\nfloat sd8_1 = sdPoly8_1(p, pt8_1);\n  colout=DFB(vec3(1.0,0.0,0.5) , colout,sd8_1);\n  return colout;\n\n}\n\nvec3 chupon1(vec2 p, vec3 colout)\n{\n    float sd15_1 = sdPoly15_1(p, pt15_1);\n    \n    colout=DFB(vec3(1.0,0.5,0.5) , colout,sd15_1);\n  return colout;\n}\n\n\nvec3 chupon2(vec2 p, vec3 colout)\n{\nfloat sd16_1 = sdPoly16_1(p, pt16_1);\n    \n   colout=DFB(vec3(1.0,0.5,0.5) , colout,sd16_1);\n  return colout;\n}\n\n\nvec3 adorno1(vec2 p, vec3 colout)\n{\n  float sd11_1 = sdPoly11_1(p, pt11_1);  \n  colout=DFB(vec3(0.0,1.0,0.2) , colout,sd11_1);\n  \n\n    float sd11_2 = sdPoly11_1(p, pt11_2);\n    colout=DFB(vec3(0.0,1.0,0.2) , colout,sd11_2);\n    \n    float sd9_1 = sdPoly9_1(p, pt9_1);\n    colout=DFB(vec3(0.0,1.0,0.2) , colout,sd9_1);\n    \n    \n  return colout;\n  \n}\n\nvec3 ojos(vec2 p, vec3 colout)\n{\nvec2 A,B, med;\nfloat dfin;\nfloat d1, r1 ;\n\nA=vec2(0.33574,0.55596);\nr1=0.01264;\n d1=sdCircle(p-A,r1);\ncolout= DFB(vec3(0.0), colout, d1);\n\nA=vec2(0.48195,0.58123);\nr1=0.01264;\nfloat d2=sdCircle(p-A,r1);\ncolout= DFB(vec3(0.0), colout, d2);\n\n return colout;\n \n \n}\n\n\nvec3 LineasRostro(vec2 p, vec3 colout)\n{\n\nvec2 A,B, med;\nfloat dfin;\nfloat d1, r1 ;\n\nA=vec2(0.25451,0.63718);\nB=vec2(0.287,0.6065);\n d1=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d1);\n\nA=vec2(0.30866,0.62094);\nB=vec2(0.29964,0.64982);\nfloat d2=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d2);\n\nA=vec2(0.38628,0.61913);\nB=vec2(0.38809,0.66426);\nfloat d3=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d3);\n\nA=vec2(0.48375,0.66607);\nB=vec2(0.48195,0.62996);\nfloat d4=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d4);\n\nA=vec2(0.52708,0.6787);\nB=vec2(0.53249,0.64079);\nfloat d5=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d5);\n\nA=vec2(0.50181,0.46029);\nB=vec2(0.46931,0.47473);\nfloat d6=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d6);\n\nA=vec2(0.50181,0.46029);\nB=vec2(0.54152,0.47473);\nfloat d7=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d7);\n\nA=vec2(0.27978,0.44765);\nB=vec2(0.25271,0.46209);\nfloat d8=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d8);\n\nA=vec2(0.27978,0.44765);\nB=vec2(0.25271,0.46209);\nfloat d9=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d9);\n\nA=vec2(0.22924,0.45848);\nB=vec2(0.25271,0.46209);\nfloat d10=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d10);\n\nA=vec2(0.22924,0.45848);\nB=vec2(0.20217,0.43682);\nfloat d11=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d11);\n\nA=vec2(0.20397,0.41516);\nB=vec2(0.20217,0.43682);\nfloat d12=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d12);\n\n\nA=vec2(0.20217,0.43682);\nB=vec2(0.213,0.38628);\nfloat d13b=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0,1.0,0.0), colout, d13b);\n\n\n\nA=vec2(0.23827,0.36462);\nB=vec2(0.213,0.38628);\nfloat d13=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d13);\n\nA=vec2(0.23827,0.36462);\nB=vec2(0.26534,0.36282);\nfloat d14=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d14);\n\nA=vec2(0.29061,0.37365);\nB=vec2(0.26534,0.36282);\nfloat d15=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d15);\n\nA=vec2(0.29061,0.37365);\nB=vec2(0.31047,0.39711);\nfloat d16=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d16);\n\nA=vec2(0.25451,0.40072);\nB=vec2(0.24007,0.40975);\nfloat d17=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d17);\n\nA=vec2(0.26715,0.42419);\nB=vec2(0.24007,0.40975);\nfloat d18=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d18);\n\nA=vec2(0.26715,0.42419);\nB=vec2(0.27978,0.40975);\nfloat d19=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d19);\n    return colout;\n}\n\n\nvec3 maggie(vec2 p, vec3 colout)\n{   colout=cuello(p,colout);\n    colout=Head( p,colout);\n    colout=ojosIzq(p,colout);\n    colout=ojoDer(p,colout);\n    colout=chupon1(p,colout);\n    colout=chupon2(p,colout);\n    colout=adorno1(p,colout);\n    colout=ojos(p, colout);\n    colout=LineasRostro(p, colout);\n    return colout;\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{  \n    vec2 uv = ( 2. * fragCoord - iResolution.xy ) / iResolution.y;\n    float esc=1.0;\n   \n    float t=iTime;\n    t=mod(iTime*0.5,6.0);\n    \n    \n    if( t>0. && t<1.)\n      {  esc=0.35;  uv-=vec2(-1.75,-1.6);  }\n      \n    \n    \n    if( t>1. && t<2.)\n     {  esc=0.7;  uv-=vec2(-0.5,-0.2);  }\n   \n   \n    if( t>2. && t<3.)\n     {  esc=0.6;  uv-=vec2(0.5,-0.5);  }\n    \n    \n    if( t>3. && t<4.)\n      {  esc=0.5;  uv-=vec2(-0.3,-0.6);  }\n    \n    \n    if( t>4. && t<5.)\n      {  esc=0.2;  uv-=vec2(-1.85,-2.5);  }\n    \n    if( t>5. && t<6.)\n     {  esc=1.0;  uv-=vec2(-0.5,-1.5);  }\n      \n    \n    uv*=esc;\n    vec2 uv0=uv;\n    vec3 col=vec3(1.0)-uv.y*0.65-0.25;\n    col= maggie(uv, col);\n    col=pow(col,  vec3(0.554545));\n    \n    fragColor = vec4(col,1.0);\n}\n","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"//Modificado por Jorge2017a2---JFP\n\n//referencia sound \n///-Constant spectrum melody\n//https://www.shadertoy.com/view/XdsXDf   ...FabriceNeyret2\n//see http://en.wikipedia.org/wiki/Constant_spectrum_melody\n\n//https://www.shadertoy.com/view/X33GDM\n//https://www.shadertoy.com/view/XXsSz8\n\n//referencia sound \n// FabriceNeyret2 , NTS,eriben0628\n\n\n#define N      10.\n#define harmon 10.\n#define df     0.1\n#define base  312.0\n\n\nvec2 mainSound( in int samp,float time)\n{\n\tfloat v = 0., f; \n    float i, j;\n    float nHarmon;\n    \n    j=4.0;\n\tfor (float i = 0.; i <= N; i++) \n    {\n        \n        nHarmon=1.0;\n        f = ( base + i*df ) * j,\n\t\tv += sin(2.*3.1415927*f*time+ sin(time*f)); \n            \n    }\n    \n    \n    float sum=v / (N*nHarmon);\n    \n    \n     float m = 1064.;\n    \n    float tt=mod(time,10.0);\n    float n = fract(sin(m/tt*134.)*tt*20.)*1053.;\n    \n    \n    float s1= sin(6.2831*n*tt+n*cos(n*tt))*exp(-0.1*max(n, 1.));\n    float t=mod(time,3.0);\n    t=time;\n    \n    \n    float height = 1.0;\n    float gravity = 9.82;\n    \n    float T = 2.0*sqrt(2.0*height/gravity);\n    \n    \n    float X = mod(time,T);\n    float s2=  sin(6.2831*220.0*t)+sin(6.2831*440.0*t)*0.5+ sin(6.2831*740.0*t)+sin(6.2831*740.0*2.*t)+sin(6.2831*740.0*3.*t)+sin(6.2831*740.0*4.*t);\n    s2*=exp(-5.0*X);\n    \n    \n    sum+=(s1+s2*0.5)*0.125;\n    \n    \n    \n    return vec2( sum);\n}\n\n","name":"Sound","description":"","type":"sound"}]}