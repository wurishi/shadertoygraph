{"ver":"0.1","info":{"id":"XXfXWB","date":"1709898513","viewed":75,"name":"oil ink art graffiti","username":"chenxianming","description":"oil ink graffiti\nclick mouse left and grab move.","likes":1,"published":1,"flags":32,"usePreview":0,"tags":["graffiti"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\nvoid mainImage( out vec4 U, in vec2 V )\n{\n\n    U = texture( iChannel0, V / I.xy );\n    U.rgb = mix(\n        U.rgb,\n        dstb( V / iResolution.xy ),\n        U.a * .4\n    );\n}\n","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"\n\nvoid mainImage( out vec4 U, in vec2 V )\n{\n    vec2 u = g( V ), m = g( iMouse.xy );\n    \n    u -= (dstb( (u-m) * 9. - cos(l) ).r - .5) * .1 - (dstb( ((u-vec2(.0, 0.1))-m) * 3. ).r - .5) * .1\n      + (( iMouse.z > 0. ) ? vec2(0) : vec2( .7 * cos( l ) * sin( l ), .7 * cos( l ) - ( .7 * pow( sin(l), 2. ) / sqrt( 2. ) ) ));\n    \n    U = ( ( 1. - smoothstep( 0., .05, length( (u-m)+ abs(length(dstb( u - m ).xy)) * 1e-3 * cos(l) ) - (.01 * sin(l)+.01 ) ) ) > 0. ) ? \n        \n    vec4( dstb(u-cos(l)/5.-m-cos(iTime*dot(u.x, u.y))) * .2, 1. ) :\n    texture(iChannel0,V/I.xy) + decay(iChannel0,ivec2(V));\n    \n}\n","name":"Buffer A","description":"","type":"buffer"},{"inputs":[],"outputs":[],"code":"#define I iResolution\n#define f(a, b) texelFetch( a, b, 0 )\n#define g( a ) ( a + a - I.xy ) / min( I.x, I.y )\n#define l iTime * 5.\n\nvec4 decay( sampler2D t, ivec2 v ){\n    // from https://www.shadertoy.com/view/X3lSRj\n    \n    vec4 m = f( t, v );\n    vec4 a = f( t, v + ivec2( 0, 1 ) );\n    vec4 b = f( t, v + ivec2( 0, -1 ) );\n    vec4 c = f( t, v + ivec2( -1, 0) );\n    vec4 d = f( t, v + ivec2( 1, 0 ) );\n    \n    return (-4.09*m+(a+b+c+d) )/4.1;\n}\n\nvec3 dstb( vec2 u ){\n    float p, i, a = 5.;\n    \n    while( i++ < a ){\n        u.x += sin( u.y * cos( u.x ) * 7. ) * .3 - cos( i );\n        u.y += sin( u.x * atan( u.x, u.y ) ) * .5 + cos( i );\n        p += dot( u.x, u.y ) / a;\n    }\n    \n    return vec3( sin(u.x) * cos( u.y ), dot(u.x, u.y) * 2., p * dot(u.x,u.y) );\n}\n","name":"Common","description":"","type":"common"}]}