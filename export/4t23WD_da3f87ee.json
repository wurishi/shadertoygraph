{"ver":"0.1","info":{"id":"4t23WD","date":"1429143378","viewed":1062,"name":"Interstellar Flyby","username":"ChristinaCoffin","description":"blackhole shader and a preprogrammed route, super harsh in fullscreen mode\nwork in progress !","likes":12,"published":1,"flags":0,"usePreview":0,"tags":["procedural","hackymess","gpukiller"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XdfGRn","filepath":"/media/a/e6e5631ce1237ae4c05b3563eda686400a401df4548d0f9fad40ecac1659c46c.jpg","previewfilepath":"/media/ap/e6e5631ce1237ae4c05b3563eda686400a401df4548d0f9fad40ecac1659c46c.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"},"published":1},{"id":"4sfGRn","filepath":"/media/a/fb918796edc3d2221218db0811e240e72e340350008338b0c07a52bd353666a6.jpg","previewfilepath":"/media/ap/fb918796edc3d2221218db0811e240e72e340350008338b0c07a52bd353666a6.jpg","type":"texture","channel":2,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"},"published":1},{"id":"4sf3Rn","filepath":"/media/a/0a40562379b63dfb89227e6d172f39fdce9022cba76623f1054a2c83d6c0ba5d.png","previewfilepath":"/media/ap/0a40562379b63dfb89227e6d172f39fdce9022cba76623f1054a2c83d6c0ba5d.png","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"},"published":1}],"outputs":[],"code":"const float pi=3.1415927;\nfloat sdSphereMod(vec3 p,float s){return length(p*0.95986246789)-s;}\nfloat sdLensWarpTorus(vec3 p,vec2 t)\n{\n\tvec2 q=vec2(length(p.xz)-t.x,p.y);\n\treturn length(q*q*0.169)-t.y;\n}\n\nvoid mainImage(out vec4 fragColor,in vec2 fragCoord)\n{\n    vec2 pp=fragCoord.xy/iResolution.xy;pp=-1.0+2.0*pp;pp.x*=iResolution.x/iResolution.y;\n    vec3 lookAt=vec3(0.10,0.005,0.120);\n    float eyer=1.981;\n    float eyea=(3.14+0.4);\n    eyea+=(120.0+iTime)*0.142;\n    lookAt.x+=iTime*0.12;\n    float eyea2=(-1.56)-(0.005*sin(0.1*iTime));\n    vec3 ro=vec3(eyer*cos(eyea)*sin(eyea2),eyer*cos(eyea2),eyer*sin(eyea)*sin(eyea2));\n    ro*=0.71778782;ro.x+=0.141;\n    ro.y+=0.02125*(0.012*iTime);\n    ro.z+=0.1;\n    vec3 front=normalize(lookAt-ro);\n    vec3 left=normalize(cross(normalize(vec3(0.0,1,-0.1)),front));\n    vec3 up=normalize(cross(front,left));\n    vec3 rd=normalize(front*1.5+left*pp.x+up*pp.y);\n    vec3 bh=vec3(0.0,0.0,0.0);\n    float bhrScaler=0.1*(iTime*0.1);\n    bhrScaler=clamp(bhrScaler,0.0,0.06);\n    float bhr=0.123+bhrScaler;\n    float bhmass=5.0;\n   \tbhmass*=0.001;\n    vec3 p=ro;\n    vec3 p2=ro;\n    vec3 pv=rd;\n    vec3 pv2=rd;\n    float dt=0.02;\n    vec3 col=vec3(0.0);\n    vec3 col2=vec3(0.0);\n    vec3 halo=vec3(0.0);\n    vec3 c1=vec3(0.5,0.35,0.1);\n    vec3 c2=vec3(1.0,0.81,0.6);\n    float ncd=0.0;\n\n    for(float t=0.122;t<1.0;t+=0.00122)\n    {\n        p+=((t*t*t)+0.021)*pv*dt*ncd;\n\n        vec3 bhv=bh-p;float r=dot(bhv,bhv);\n        pv+=normalize(bhv)*((bhmass)/r);\n        ncd=smoothstep(0.00,0.33431,sdSphereMod(p-bh,bhr));\n        float dr=length(bhv.xz);\n        float da=atan(bhv.x,bhv.z);\n        vec2 ra=vec2(dr,da*(0.02+(dr-bhr)*0.002/t)+2.0*pi+iTime*-0.0012);\n        halo.r+=dr*0.00023;\n        ra+=vec2(dr,da*(0.01+(dr-bhr)*0.1*t*t)+2.0*pi-iTime*0.0051);\n        vec2 raAltTex=ra*vec2(1.0,22.0);ra*=vec2(t*10.0,22.0);\n        float texData1=texture(iChannel1,raAltTex*vec2(0.1,0.5)).r;\n        float texData0=texture(iChannel2,(t*(ra*0.01))*vec2(0.041,0.5)).r;\n        float texData2=texture(iChannel0,(t*(ra-dr))*vec2(0.0014241,0.15)).r;\n        float texDataMix=(1.71-r*t*t)*t*texData2+sin(abs(texData0-texData1)*1.663);\n        vec3 dcol=mix(c2,c1,pow(length(bhv)-bhr,2.0))*max(0.0,texDataMix+0.05)*(4.0/((0.001+(length(bhv)-bhr)*50.0)));\n        col+=t*max(vec3(0.0),dcol*step(0.0,-sdLensWarpTorus((p*vec3(1.0,84.0,1.0))-bh,vec2(0.8,0.99)))*ncd);\n        vec3 ringMod=max(vec3(0.0),\n                         dcol*step(0.0,-sdLensWarpTorus((p*vec3(1.0,77.0,1.0))-bh,vec2(0.8,0.97299)))*ncd);\n        col.rgb+=ringMod.r*dcol.g;\n        col-=t*vec3(1.18631)*max(vec3(0.0),dcol*step(0.0,-sdLensWarpTorus((p*vec3(21.310,110.0,11.0))-bh,vec2(0.4178,0.99)))*ncd);\n        col.gb-=0.0043*col.g*sin(t*3.42130);\n        col.r+=0.002*col.r*cos(t*5.42130);\n        col+=vec3(1.0,0.9,0.987)*((22.0-(13.0*t))/vec3(dot(bhv,bhv)))*0.0001*ncd;\n    }\n    halo.r=halo.r*0.146465;\n    halo.g*=halo.g;\n    halo.b*=halo.b;\n    col+=abs(col2-(col.rrr));\n    float timeExposure=iTime*0.09;\n    timeExposure=clamp(timeExposure,0.0,3.3);\n    col/=vec3(1.1950+timeExposure)-(halo);\n    col.r=pow(col.r,1.1);\n\tcol.g=pow(col.g,1.13);\n\tcol.b=pow(col.b,1.13);\n\tfragColor=vec4(col,1.0);\n}","name":"","description":"","type":"image"}]}