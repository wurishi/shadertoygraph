{"ver":"0.1","info":{"id":"dldyW8","date":"1699155791","viewed":54,"name":"better line function","username":"Leesh1234","description":"affine combination???","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["2d"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#ifdef GL_ES\nprecision mediump float;\n#endif\n\nvec3 draw_gizmo_2d(vec2 st){\n    vec3 bc=vec3(.9);\n    float gap=0.02;\n    st/=gap;\n    vec3 linecol=vec3(.8);\n    float antials=2./iResolution.y/gap;\n\tbc=mix(bc,linecol,smoothstep(antials,0.,fract(st.x)));\n    bc=mix(bc,linecol,smoothstep(antials,0.,fract(st.y)));\n    bc=mix(bc,vec3(0.,.7,0.),smoothstep(-antials/2.,0.,st.x)-smoothstep(0.,antials/2.,st.x));\n    bc=mix(bc,vec3(1.,0.,0.),smoothstep(-antials/2.,0.,st.y)-smoothstep(0.,antials/2.,st.y));\n    return bc;\n}\n\nvec3 draw_line(vec2 p1, vec2 p2, vec2 st, vec3 bc, vec3 sc){\n    vec2 w=st-p2;\n    vec2 u=p1-p2;\n    float s=clamp(dot(w,u)/dot(u,u),0.,1.);\n    bc=mix(bc,sc,smoothstep(2./iResolution.y,0.,length(w-s*u)));\n    return bc;\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    vec2 st = ( fragCoord - .5*iResolution.xy )/iResolution.y;\n\tvec2 mouse=( iMouse.xy - .5*iResolution.xy )/iResolution.y;\n    fragColor = vec4(draw_line(vec2(0.),mouse,st,draw_gizmo_2d(st),vec3(0.)),1.0);\n}\n","name":"Image","description":"","type":"image"}]}