{"ver":"0.1","info":{"id":"css3Rl","date":"1666648964","viewed":334,"name":"Random Fireworks","username":"motus_art","description":"Fireworks tutorial from The Art of Code - https://www.youtube.com/watch?v=xDxAnguEOn8\n","likes":10,"published":1,"flags":0,"usePreview":0,"tags":["fireworks"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define NUM_EXPLOSIONS 6.0\n#define NUM_PARTICLES 100.0\n\n\nvec2 Hash12(float t) {\n  float x = fract(sin(t * 456.51) * 195.23);\n  float y = fract(sin((t + x) * 951.2) * 462.1);\n  return vec2(x, y);\n}\n\nvec2 Hash12_Polar(float t) {\n  float a = fract(sin(t * 456.51) * 195.23) * 6.2832;\n  float r = fract(sin((t + a) * 951.2) * 462.1);\n  return vec2(sin(a), cos(a)) * r;\n\n}\n\nfloat Explosion(vec2 uv, float t) {\n    float sparks = 0.0;\n    for (float i=0.; i < NUM_PARTICLES; i++) {\n        vec2 dir = Hash12_Polar(i + 1.0) * 0.5;\n        float d = length(uv - dir * t);\n\n        float brightness = mix(0.0003, 0.001, smoothstep(0.05, 0.0, t));\n        brightness *= sin(t * 20.0 + i) * 0.5 + 0.5;\n        brightness *= smoothstep(1.0, 0.7, t);\n        sparks += brightness / d;\n    }\n    return sparks;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = (fragCoord - 0.5 * iResolution.xy) / iResolution.y;\n\n    vec3 col = vec3(0.0);\n\n\n    for ( float i = 0.0; i < NUM_EXPLOSIONS; i++) {\n        float t = (iTime / 1.5) + (i * 123.4) / NUM_EXPLOSIONS;\n        float ft = floor(t);\n        vec3 colour = sin(4.0 * vec3(0.34, 0.54, 0.43) * ft) * 0.25 + 0.75;\n        \n        vec2 offset = Hash12(i + 1.0 + ft * NUM_EXPLOSIONS) - 0.5;\n        offset *= vec2(0.9 * 1.777, 0.9);\n        col += Explosion(uv - offset, fract(t)) * colour;\n    }\n    \n    col *= 2.0;\n    \n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}