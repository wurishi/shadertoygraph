{"ver":"0.1","info":{"id":"wd3fzX","date":"1605774783","viewed":55,"name":"Line segment learning","username":"Peewi","description":"line segment","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["learning"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n    \n    // some bs\n    vec3 bg = vec3(0.1, 0.1, 0.1);\n    vec3 white = vec3(0.9);\n    vec3 col = bg;\n    \n    vec2 lineStart = vec2(200.0, 150.0);\n    vec2 lineEnd =  iMouse.xy;\n    vec2 center = iMouse.xy;\n    \n    vec2 intersect;\n    if (lineStart.y == lineEnd.y)\n    {\n        intersect = vec2(fragCoord.x, lineStart.y);\n    }\n    else if (lineStart.x == lineEnd.x)\n    {\n        intersect = vec2(lineStart.x, fragCoord.y);\n    }\n    else\n    {\n        float a1 = (lineEnd.y - lineStart.y) / (lineEnd.x - lineStart.x);\n        float b1 = lineStart.y - a1 * lineStart.x;\n\n        float a2 = -1.0/a1;\n        float b2 = fragCoord.y - a2 * fragCoord.x;\n        \n        intersect = vec2(0.0, 0.0);\n        float foo = b1 - b2;\n        float bar = a2 - a1;\n        intersect.x = (b1 - b2)/(a2 - a1);\n        intersect.y = intersect.x * a1 + b1;\n    }\n    intersect.x = clamp(intersect.x, min(lineStart.x, lineEnd.x), max(lineStart.x, lineEnd.x));\n    intersect.y = clamp(intersect.y, min(lineStart.y, lineEnd.y), max(lineStart.y, lineEnd.y));\n    \n    float l = length(fragCoord-intersect);\n    float radius = ((sin(iTime*1.0)+2.0) * 10.0);\n    //float radius = 25.0;\n    \n   float am = l - radius;\n    am = clamp(am, 0.0, 1.0);\n    col = mix(white, bg, am);\n\n    // Output to screen\n    fragColor = vec4(col, 1.0);\n}","name":"Image","description":"","type":"image"}]}