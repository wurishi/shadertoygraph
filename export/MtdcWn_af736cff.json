{"ver":"0.1","info":{"id":"MtdcWn","date":"1532282796","viewed":141,"name":"Fixed point fun","username":"Firzen_","description":"I decided to play with some functions that exhibit attractive fixed points and got some interesting behaviour out of it.","likes":0,"published":1,"flags":32,"usePreview":0,"tags":["fixedpoint","floatingpointerror"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define pi (acos(-1.))\nvec3 col(float p)\n{\n    //Thermal gradient colors inspired by yx\n    //https://www.shadertoy.com/view/XldyzN\n    vec3 a = vec3(0, .5, 0);\n    vec3 b = vec3(1., .5, .4);\n    vec3 c = vec3(.3, .6, 1.2);\n    vec3 d = vec3(-.25, -.6, -.25);\n    vec3 e = vec3(0,0,.7);\n    return a+b*cos(2.*pi*(c*p+d))+e*p;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n\n    // Time varying pixel color\n    vec3 col = col(texture(iChannel0, uv).r);\n\n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGzn","filepath":"/media/a/0c7bf5fe9462d5bffbd11126e82908e39be3ce56220d900f633d58fb432e56f5.png","previewfilepath":"/media/ap/0c7bf5fe9462d5bffbd11126e82908e39be3ce56220d900f633d58fb432e56f5.png","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"float transform(float v)\n{\n    float val = v;\n    float s = 10.*cos(floor(iTime*0.5));\n    val += floor(s*val+0.5)-s*val;\n    return val;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    vec2 dxy = vec2(1.)/iResolution.xy;\n    vec3 col;\n    float scale = 10.;\n        \n    if(iFrame <= 20)\n    {\n        col = scale*texture(iChannel1, uv).rgb-scale*0.5;\n    \tfragColor = vec4(col.rrr, 1.);\n        return;\n    }\n    float val = 0.;\n    \n    //g carries the actual values, r carries smoothed values to reduce flashing\n    for(float dx=-dxy.x; dx<=dxy.x; dx+=dxy.x)\n        for(float dy=-dxy.y; dy<=dxy.y; dy+=dxy.y)\n            val += texture(iChannel0, uv+vec2(dx,dy)).g;\n        \n    vec3 b = texture(iChannel0, uv).rgb;\n    val += b.g*3.;\n    val /= 12.;\n    float f = 0.15;\n    val = f*transform(val)+(1.-f)*b.g;\n    col = vec3(val*0.02+b.r*0.98, val, 0.);\n    fragColor = vec4(col, 1.);\n}","name":"Buf A","description":"","type":"buffer"}]}