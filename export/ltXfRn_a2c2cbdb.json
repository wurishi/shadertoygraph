{"ver":"0.1","info":{"id":"ltXfRn","date":"1510738927","viewed":437,"name":"Checkerboard Attempt","username":"bloodnok","description":"http://www.pouet.net/topic.php?which=11224\n\nHow does a checkerboard run on a modern GPU?","likes":9,"published":1,"flags":0,"usePreview":0,"tags":["2d","checkerboard"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\n// https://github.com/hughsk/glsl-hsv2rgb/blob/master/index.glsl\nvec3 hsv2rgb(vec3 c) {\n  vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n  vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n  return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\n\nfloat checker(vec2 p, vec2 size)\n{\n    return mod(floor(p.x * size.x)+floor(p.y * size.y),2.0);\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec3 col = vec3(0.0);\n    \n\tvec2 uv = (fragCoord.xy / iResolution.xy);\n    uv.x += sin(iTime*0.23) * 0.2;\n    uv.y += sin(iTime*0.37) * 0.3;\n\t\n    vec2 size = vec2(16.0,9.0) * (0.15 + sin(iTime * 0.33) * 0.04);\n    vec3 c = vec3(0.4,0.05,0.2);\n    float m = 1.0;\n\tvec3 hsv = vec3(0.5,0.7,1.0);\n    float ii = 1.0;\n    //float a = 0.02;//sin(iTime*0.5) * 0.3;\n    //mat3 rot = mat3(cos(a),-sin(a),0.0,sin(a),cos(a),0.0,0.0,0.0,1.0);\n    \n    for (int i=0;i<10000;i++){\n        \n        float ch = checker(uv*m,size*m);\n        \n        if (ch > 0.5){\n            col = hsv2rgb(hsv);\n            break;\n        }\n        \n        uv.x += (sin(iTime/(ii*4.0))*0.01 + sin(ii)*0.5) / m;\n        uv.y += (sin(iTime/(ii*3.8))*0.01 + cos(ii)*0.5) / m;\n        \n        //uv = (vec3(uv,1.0) * rot).xy;\n        \n        m+=(0.6 + sin(iTime * 0.1) * 0.59);\n        ii+=0.01;\n        \n        hsv.x += 0.02;\n        hsv.z *= 0.92;\n    }\n    \n\n    \n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}