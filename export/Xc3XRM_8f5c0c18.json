{"ver":"0.1","info":{"id":"Xc3XRM","date":"1713701035","viewed":64,"name":"highpass grayscale","username":"z1lfromhell","description":"highpass grayscale","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["voronoi"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define scale 10.\n\n\nvec2 hash12 (vec2 id)\n{\n    \n    float hash1 = fract(sin(dot(id,vec2(500.658,811.165))));\n    float hash2 = fract(sin(dot(id,vec2(153.356,256.1436))));\n    vec2 hash = vec2(hash1,hash2);\n    return hash;\n}\n\nfloat voronoi (vec2 p ){\n      float mindist = 1.;\n      vec2 gridid = floor(p);\n      vec2 pos = fract(p);\n      vec2 hashmap = hash12(gridid);\n       for(int x = -1; x <= 1; x++){\n        for(int y = -1; y<=1; y++){\n\n        vec2 id = vec2(x,y)+gridid;\n\n        vec2 hash = hash12(id);\n        hash = sin(hash*iTime)*0.5+0.5;\n        pos = id+hash;\n\n        float d = (dot(p-pos,p-pos));\n        mindist = min(mindist,d);\n    }\n   \n}\nmindist = 1.-mindist;\nreturn mindist;\n\n}\nfloat blur (vec2 p){\n    float res =0.;\n    for(int x = -3; x<=3; x++){\n        for(int y = -3; y<=3; y++){\n        res += voronoi(p+vec2(x,y)*sin(iTime)*0.04);//*sin(iTime)\n        }\n    }\n    res = res/49.;\n    return res;\n}\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n    vec2 uv = (2.*fragCoord-iResolution.xy)/min(iResolution.x,iResolution.y)*scale;\n\n    float v = voronoi(uv);\n    float bv = blur(uv);\n    float highpass = 1.-pow(clamp((bv-v),0.,1.),0.3);\n    float color =max(1.-v,pow(highpass,8.))*0.5;\n\n\n    //float v =mindist;\n\n\n    \n    fragColor = vec4(vec3(color),0.);\n}","name":"Image","description":"","type":"image"}]}