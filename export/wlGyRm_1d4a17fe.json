{"ver":"0.1","info":{"id":"wlGyRm","date":"1611500264","viewed":60,"name":"Sierpinski study","username":"treize","description":"Sierpinski","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["sierpinski"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const float PI = acos(-1.);\nfloat sdBox(vec2 p, vec2 s) {\n    float p2=max(abs(p.x),abs(p.y));\n    float s2=max(abs(s.x),abs(s.y));\n\treturn max(p2-s2, 0.);\n}\nfloat sdCross(vec2 p) {\n\tp = abs(p);\n\treturn min(p.x, p.y) - 1.0;\n}\nfloat sierpinskiGasket(vec2 p)\n{\n\tfloat d = sdBox(p, vec2(1,1));\n\tfloat s = 1.0;\n\tfor (int i = 0; i < 4; i++) {\n\t\tvec2 a = mod(p * s, 2.0) - 1.0;\n\t\tvec2 r = 1.0 - 3.0 * abs(a);\n\t\ts *= 3.0;\n\t\tfloat c = sdCross(r) / s;\n\t\td = max(d, c);\n\t}\n\treturn d;\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 p = (fragCoord.xy*2.0 - iResolution.xy) / min(iResolution.x, iResolution.y);\n    vec3 col=vec3(1.);\n    float d = sierpinskiGasket(p);\n    fragColor = vec4(col-step(exp(-d*(mod(1000.*iTime,6000.))),d),1.0);\n}\n","name":"Image","description":"","type":"image"}]}