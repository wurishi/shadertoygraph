{"ver":"0.1","info":{"id":"4s2fzm","date":"1499944945","viewed":112,"name":"Metaballs (aka. smin demo)","username":"etale_cohomology","description":"Fork of https://www.shadertoy.com/view/4sSyRy","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["2d","simple","metaballs","smin"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Fork of https://www.shadertoy.com/view/4sSyRy\n// Minimal example of metaballs! aka. meatballs\n\n#define BINDING_DIST .2\n#define DISK_RADIUS .1\n#define AA_RADIUS 2.\n#define time .9*iTime\n\nfloat smin(float a, float b, float k){\n\tfloat h = clamp(.5 + .5*(a-b)  / k, 0., 1.);\n\treturn mix(a, b, h) - k*h*(1.-h);\n}\n\nfloat sdist_disk(vec2 uv, float param0, float param1){\n    vec2 offset = vec2(.7 * sin(param0 * time), .4 * cos(param1 * time));\n\treturn length(uv - offset) - DISK_RADIUS;\n}\n\nfloat map(vec2 uv){\n\tfloat disk0 = sdist_disk(uv, 2., 3.);\n\tfloat disk1 = sdist_disk(uv, 3., 1.);\n    float disk2 = sdist_disk(uv, 1., 2.);\n    float metaballs = 1.;\n\tmetaballs = smin(metaballs, disk0, BINDING_DIST);\n    metaballs = smin(metaballs, disk1, BINDING_DIST);\n    metaballs = min(metaballs, disk2);\n\treturn metaballs;\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord){\n\tvec2 uv = (2.*fragCoord.xy - iResolution.xy) / iResolution.x;\n\tfloat t = AA_RADIUS / iResolution.y;\n\tfloat rgb = smoothstep(-t, t, map(uv));\n\tfragColor.rgb = vec3(rgb);\n}\n","name":"Image","description":"","type":"image"}]}