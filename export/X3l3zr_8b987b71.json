{"ver":"0.1","info":{"id":"X3l3zr","date":"1707500213","viewed":56,"name":"2d Round rect","username":"joyo","description":"2d Round rect","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["2droundrect"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"bool pointInCircle(vec2 c, float r,  vec2 p){\n   return distance(c, p) <= r;\n}\n\nfloat pointInRoundRect(vec4 rect, vec4 radius, vec2 p){\n    if( !(rect.x <= p.x && rect.y <= p.y && rect.z >= p.x && rect.w >= p.y) ){\n        return 0.;\n    }\n    \n    vec2 topLeft = vec2(rect.x+radius.x, rect.w-radius.x);\n    if( topLeft.x >= p.x && topLeft.y < p.y && distance(topLeft, p) > radius.x-1.){\n       return 0.;\n    }\n    \n    vec2 topRight = vec2(rect.z-radius.y, rect.w-radius.y);\n    if( topRight.x < p.x && topRight.y < p.y && distance(topRight, p) > radius.y){\n       return 0.;\n    }\n    \n    vec2 bottomRight = vec2(rect.z-radius.z, rect.y+radius.z);\n    if( bottomRight.x < p.x && bottomRight.y >= p.y && distance(bottomRight, p) > radius.z){\n       return 0.;\n    }\n    \n    vec2 bottomLeft = vec2(rect.x+radius.w, rect.y+radius.w);\n    if( bottomLeft.x > p.x && bottomLeft.y > p.y && distance(bottomLeft, p) > radius.w){\n       return 0.;\n    }\n    \n    return 1.;\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\n    vec4 bgColor = vec4(1.0, 1.0, 1.0, 1);\n    vec3 cricle = vec3(500.0, 400.0, 200.0);\n    vec4 red = vec4(1.0, 0.0, 0.0, 1.0);\n    \n    float a = smoothstep(1.0, 0.0, abs(distance(cricle.xy, fragCoord)-cricle.z));\n    \n    if( pointInCircle(cricle.xy, cricle.z, fragCoord) ){\n        fragColor = mix(red, bgColor, a);\n    }else{\n        fragColor = vec4(1.0);\n    }\n    \n    vec4 rect1 = vec4(100.0, 100.0, 400.0, 400.0);\n    vec4 radius = vec4(30.0, 50.0, 70.0, 90.0);\n    //vec4 radius = vec4(0);\n    \n    float d = pointInRoundRect(rect1, radius, fragCoord);\n    fragColor = mix(vec4(1.0), red, d);\n    \n\n}","name":"Image","description":"","type":"image"}]}