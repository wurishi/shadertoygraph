{"ver":"0.1","info":{"id":"4cBBW3","date":"1725548527","viewed":40,"name":"2D Implicit Function Grapher","username":"kryzp4","description":"Plots 2D implicit functions.","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["functions","graphing","maths"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float line(float value, float t, float s)\n{\n    return smoothstep(-(t + s)*0.5, -t*0.5, value) - smoothstep(t*0.5, (t + s)*0.5, value);\n}\n\nvoid renderImplicitFunction(inout vec3 colour, float impl, vec2 grad, vec3 lineColour)\n{\n    float distToGraph = abs(impl) / length(grad);\n    float shadow = line(distToGraph, 0.0, 0.35);\n    float graph = line(distToGraph, 0.04, 0.04);\n    colour = mix(colour, vec3(0.0, 0.0, 0.0), shadow * 0.2);\n    colour = mix(colour, lineColour, graph);\n}\n\nfloat function1(float x, float y)\n{\n    return x*x*x + 2.0*y*y - 3.0*(x * (1.0+0.2*sin(iTime)));\n}\n\nfloat function2(float x, float y)\n{\n    return y - x*x * (1.0 + 0.1*cos(iTime*4.0));\n}\n\nfloat function3(float x, float y)\n{\n    return sin(0.5 * 3.141592 * (x - iTime)) - y;\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n    vec2 gridsize = vec2(4.0);\n\n    /*******************************************/\n    \n    vec2 uv = (2.0*fragCoord - iResolution.xy) / iResolution.y;\n    vec2 coord = uv * gridsize;\n    float h = 0.001;\n    vec3 colour = vec3(0.31, 0.32, 0.33);\n    float grid = mod(floor(coord.x) + floor(coord.y), 2.0);\n    colour = mix(colour, vec3(0.36, 0.37, 0.38), grid);\n    colour = mix(colour, vec3(0.51, 0.52, 0.53), line(uv.x, 0.01, 0.01));\n    colour = mix(colour, vec3(0.51, 0.52, 0.53), line(uv.y, 0.01, 0.01));\n    float impl = 0.0;\n    vec2 grad = vec2(0.0);\n    \n    /*******************************************/\n    \n    impl = function1(coord.x, coord.y);\n    grad = vec2(\n        function1(coord.x + h, coord.y) - function1(coord.x - h, coord.y),\n        function1(coord.x, coord.y + h) - function1(coord.x, coord.y - h)\n    ) / (2.0*h);\n    renderImplicitFunction(colour, impl, grad, vec3(1.0, 0.0, 1.0));\n    \n    impl = function2(coord.x, coord.y);\n    grad = vec2(\n        function2(coord.x + h, coord.y) - function2(coord.x - h, coord.y),\n        function2(coord.x, coord.y + h) - function2(coord.x, coord.y - h)\n    ) / (2.0*h);\n    renderImplicitFunction(colour, impl, grad, vec3(1.0, 1.0, 0.0));\n    \n    impl = function3(coord.x, coord.y);\n    grad = vec2(\n        function3(coord.x + h, coord.y) - function3(coord.x - h, coord.y),\n        function3(coord.x, coord.y + h) - function3(coord.x, coord.y - h)\n    ) / (2.0*h);\n    renderImplicitFunction(colour, impl, grad, vec3(0.0, 1.0, 1.0));\n    \n    /*******************************************/\n    \n    fragColor = vec4(colour, 1.0);\n}\n","name":"Image","description":"","type":"image"}]}