{"ver":"0.1","info":{"id":"4ttfW4","date":"1594360458","viewed":84,"name":" A Metaballs Study","username":"vitasa","description":"studying metaballs and mouse position","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["metaballs","balls"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// TODO: add random positions and sin sizes, color per circle?\n\nprecision highp float;\n\nfloat ball(vec2 p, float fx, float fy, float ax, float ay) {\n\tvec2 r = vec2(p.x + sin(iTime * fx) * ax, p.y + cos(iTime * fy) * ay);\t\n\treturn 0.05 / length(r);\n}\n\nfloat cursor(vec2 p) {\n\tfloat offsetX = 1.8;\n\tfloat offsetY = 1.0;\n    float size = 0.2;\n    \tvec2 r = vec2(\n\t\toffsetX + p.x - iMouse.x/iResolution.x * (offsetX*2.0), \n\t\toffsetY + p.y - iMouse.y/iResolution.y * (offsetY*2.0)\n\t);\t\n    \treturn size / length(r);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n\tvec2 q = fragCoord.xy / iResolution.xy;\n\tvec2 p = -1.0 + 2.0 * q;\t\n\tp.x *= iResolution.x / iResolution.y;\n\n\tfloat col = 0.0;\n\n\tcol += cursor(p);\n\t\n\t\n\tcol += ball(p, 1.0, 2.0, 0.1, 0.2);\n\tcol += ball(p, 1.5, 1.0, 0.4, 0.3);\n\tcol += ball(p, 0.1, 0.5, 0.6, 0.7);\n\n\t\n\tcol = max(mod(col, 0.4), min(col, 2.0));\n\t\n\tfragColor = vec4(\n\t\t//col * sin(iTime)/2.0, \n\t\tcol * 0.1,\n        col * 0.3, \n\t\tcol * 0.3, \n        1.0\n    \t);\n}","name":"Image","description":"","type":"image"}]}