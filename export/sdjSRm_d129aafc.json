{"ver":"0.1","info":{"id":"sdjSRm","date":"1619946406","viewed":51,"name":"TheMandelbrotSet","username":"briossant","description":"the mandelbrot set","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["mandelbrot"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// -|- The Mandelbrot set -|-\n\n// github : https://github.com/briossant\n// mail : briossant.com@gmail.com\n// website : https://briossant.com/\n\n#ifdef GL_ES\nprecision highp float;\n#endif\n\n#define PI 3.14159265358979323846\n#define log2 0.30102999566\n\n\n// ------- Settings -------\n\n// coordinate range :\n#define X1 -2.5\n#define X2 1.5\n#define Y1 -2.0\n#define Y2 2.0\n\n// max number of iterations \n#define ITER 2000    \n\n// color repeat speed\n#define COLORS 0.05  \n\n// color intesity (between 0. and 1.)\n#define COLORS_2 0.6 \n\n// ------- End settings -------\n\n\nfloat runMandelbrot(float cx, float cy) {\n    float zx;\n    float zy;\n    for(int i = 0; i <= ITER; i++){\n        float n_zx = (zx * zx) - (zy * zy) + cx;\n        zy = (2. * zx * zy) + cy;\n        zx = n_zx;\n\n        float Zn = sqrt(zx * zx + zy * zy);\n\n        if(Zn > 4.) {\n            return float(i) - (log2/Zn)/log2;\n        }\n    }\n    return -1.;\n}\n\n\nvec4 getTheColors(float iter) {\n    if(iter == -1.) {\n        return vec4(0.0, 0.0, 0.0, 1.0);\n    }\n\n    float i = (float(COLORS) * float(ITER)) * (iter / float(ITER));\n\t\n    float r = (1. - COLORS_2) + COLORS_2 * cos(i);\n    float g = (1. - COLORS_2) + COLORS_2 * cos(i + PI / 3.);\n    float b = (1. - COLORS_2) + COLORS_2 * cos(i + 2. * PI / 3.);\n\n\n    return vec4(r,g,b, 1.0);\n}\n\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float x = fragCoord.x;\n    float y = fragCoord.y;\n    float w = iResolution.x;\n    float h = iResolution.y;\n\n    float cx = (((X2-X1)*(x/w))+X1);\n    float cy = ((((Y2-Y1)*(y/h))+Y1)*h/w);\n\n    fragColor = getTheColors(runMandelbrot(cx, cy));\n}","name":"Image","description":"","type":"image"}]}