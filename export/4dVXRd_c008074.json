{"ver":"0.1","info":{"id":"4dVXRd","date":"1466156710","viewed":183,"name":"Heart_Beat","username":"visnyin","description":"for love","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["love"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float heart2(float xx,float yy,float zz)\n{\n    float x = xx*3.0;\n    float y = yy*3.0;\n    float z = zz*3.0;\n    vec4 fragColor = vec4(1.0,0.0,0.0,1.0);\n    float value = pow(x*x + 9.0/4.0*y*y + z*z - 1.0,3.0) - x*x*z*z*z - 9.0/80.0*y*y*z*z*z;\n    return value;\n}\n\nvoid drawHeart3(in vec3 trans1,in vec3 trans2,out vec4 fragColor, in vec2 fragCoord,float size1, float size2,float size3, float size4, in vec4 basecolor)\n{\n    vec2 uv = fragCoord.xy / iResolution.xy;\n    \n    float x = uv.x*2.0 - 1.0;\n    float y = uv.y*2.0 - 1.0;\n    float z = 0.0;\n    \n    for(int i=0;i<2000;i++)\n    {\n        float temp = float(i);\n        z = (temp-1000.0)/1000.0;\n        \n        vec3 interPos = vec3(x,y,z);\n        vec3 interPos1 = interPos + trans1;\n        vec3 interPos2 = interPos + trans2;\n        \n        vec3 pos1_1 = interPos1/size1;\n        vec3 pos1_2 = interPos1/size2;\n        \n        vec3 pos2_1 = interPos2/size3;\n        vec3 pos2_2 = interPos2/size4;\n               \n\n        float inheart1_1 = heart2(pos1_1.x,pos1_1.z,pos1_1.y);\n        float inheart1_2 = heart2(pos1_2.x,pos1_2.z,pos1_2.y);\n        \n        float inheart2_1 = heart2(pos2_1.x,pos2_1.z,pos2_1.y);\n        float inheart2_2 = heart2(pos2_2.x,pos2_2.z,pos2_2.y);\n        \n        vec4 tempColor;\n        \n        if(inheart1_2 < 0.0 && inheart1_1 > 0.0)\n            tempColor = 0.001*basecolor;\n        else if(inheart1_1 > 0.0)\n        {\n            if(inheart2_2 < 0.0 && inheart2_1 > 0.0)\n            \ttempColor = 0.001*basecolor;\n            else\n                tempColor = vec4(0.0,0.0,0.0,1.0);\n        }\n        else\n            tempColor = vec4(0.0,0.0,0.0,1.0);\n        \n      \tfragColor += tempColor;        \n    }\n    \n    float scale = 3.0;\n    fragColor *= scale;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    fragColor = vec4(0.0,0.0,0.0,1.0);\n    float size1 = 1.0;\n    float size2 = 2.0;\n    float size3 = 1.0;\n    float size4 = 2.0;\n    float scale = 1.0;\n    const float dul = 50.0;\n    float total1 = 80.0*iTime;\n    float temp01 = total1/dul;\n    temp01 = total1 - float(int(temp01))*dul;\n    temp01 /= dul;\n    \n    float total2 = 80.0*(iTime - 0.1);\n    float temp02 = total2/dul;\n    temp02 = total2 - float(int(temp02))*dul;\n    temp02 /= dul;\n    \n    temp01 = abs(temp01*2.0 - 1.0)*scale;   \n    temp01 += 1.0;\n    size2 = temp01;\n        \n    temp02 = abs(temp02*2.0 - 1.0)*scale;   \n    temp02 += 1.0;\n    size4 = temp02;\n\n    drawHeart3(vec3(0.3,-0.1,0.0),vec3(-0.3,0.1,0.0),fragColor,fragCoord,size1,size2,size3,size4,vec4(0.5,0.0,0.0,1.0));\n   \n}","name":"Image","description":"","type":"image"}]}