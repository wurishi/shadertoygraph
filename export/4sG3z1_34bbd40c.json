{"ver":"0.1","info":{"id":"4sG3z1","date":"1453237970","viewed":169,"name":"Saltatio Rectiangulorum","username":"warlock","description":"\"Waltz of rectangles\"\nNothing impressive, just memories of the past. \"Elektronika MS 0511.01\" with BASIC :)","likes":0,"published":1,"flags":32,"usePreview":0,"tags":["2d"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    fragColor = texture(iChannel0,uv);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"// inspired with https://www.shadertoy.com/view/Xdy3Rh\n#define fm float(iFrame)*.125\n#define t iTime\n\nvec2 scn = vec2(640.0,288.0); // original resolution! :)\n\nvec2 hash22(vec2 p) {\n    vec3 MOD3 = vec3(443.8975, 397.2973, 491.1871);\n\tvec3 p3 = fract(vec3(p.xyx) * MOD3);\n    p3 += dot(p3, p3.yzx+19.19);\n    return fract(vec2((p3.x + p3.y)*p3.z, (p3.x+p3.z)*p3.y));\n}\n\nvec4 color( vec2 pt, vec2 uv , vec2 f)\n{\n\tvec4 ret = texture(iChannel0, f / iResolution.xy) * 0.9995;\n    \n    vec2 add = floor(vec2(.7 + .3 * cos(t), .75 + .25 * sin(t)) * 25.);\n    \n    float col = hash22(vec2(fm,fm)).x;\n    \t  col = floor(col * 16.) / 16.;\n    \n    if (uv.x > (pt - add).x && uv.y > (pt - add).y && uv.x < (pt + add).x && uv.y < (pt + add).y )\n       ret = vec4(vec3(col), 1.);\n    \n    return ret;\n}\n\nvoid mainImage( out vec4 o, in vec2 f )\n{\n\tvec2 uv = f / iResolution.xy;\n    uv *= scn;\n    uv = floor(uv);\n        \n    vec2 point = floor(vec2(320.0+320.0*sin(0.0572*fm) * cos(fm*.0313),\n                            144.0+144.0*cos(0.0275*fm) * sin(fm*.0131)));\n    vec2 point2 = floor(vec2(320.0+320.0*sin(0.0314*fm) * cos(fm*.0217),\n                            144.0+144.0*cos(0.0413*fm) * sin(fm*.0512)));\n    \n\tif (mod(fm, .25) == 0.) \n        o = color( point, uv, f);\n    else \n    \to = color( point2, uv, f);\n\n}","name":"Buf A","description":"","type":"buffer"}]}