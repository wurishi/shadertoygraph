{"ver":"0.1","info":{"id":"ltdBR4","date":"1538860038","viewed":1045,"name":"Lava lamp blobs","username":"pxndx","description":"Blobs of lava float around like in a lava lamp","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["lavalamp","blob","lava"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float rand(vec2 co){\n    return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\nfloat q(float a, vec2 b, vec2 c, vec2 xy) {\n\tvec2 qq = - (xy - b) * (xy - b)/(4.0 * c * c);\n\treturn a * exp(qq.x + qq.y);\n}\n\nvec3 colormap(float q) {\n    return \n        vec3(0.2, 0.8, 1.0)\n        + vec3(0.2, 0.7, 0.5) * smoothstep(vec3(0.4, 0.69, 0.7), vec3(0.69, 1.6, 5.5), vec3(q))\n        + vec3(0.6, -0.6, -0.9) * smoothstep(0.69, 0.7, q);\n}\n\nfloat blob(float a, vec2 center, float size, vec2 xy, vec2 range, vec2 speed) {\n    \n    vec2 b = center + range * cos( rand(center) + iTime / speed);\n    \n    vec2 c = mix(\n        vec2(2.0 * size, 0.0),\n        vec2(0.0, 2.0 * size),\n        0.5 - 0.08 * sin(2.0 * iTime/(speed.y))\n    );\n\treturn q(a, b, c, xy);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float smallest = min(iResolution.x, iResolution.y);\n    vec2 r = (iResolution.xy - smallest) / 2.0;\n    vec2 uv = (fragCoord - r) / smallest - 0.5;\n    \n    float fq = 0.0;\n    for (int i = 0; i < 25; i += 1) {\n        fq += blob(\n            mix(0.9, 1.0 ,rand(vec2(i, 1))),\n            vec2(\n                mix(-0.5, 0.5, rand(vec2(i, 2))),\n                0.0\n            ),\n            mix(0.03, 0.07, rand(vec2(i, 3))),\n            uv,\n            vec2(\n                mix(0.0, 0.6, rand(vec2(i, 4))),\n                0.5\n            ),\n            vec2(\n                mix(10.0, 22.0, rand(vec2(i, 5))),\n                mix(5.0, 7.0, rand(vec2(i, 6)))\n            )\n\n        );\n    }\n   \n    fragColor.xyz = colormap(fq);\n}","name":"Image","description":"","type":"image"}]}