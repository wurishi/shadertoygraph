{"ver":"0.1","info":{"id":"3dKcDh","date":"1602729086","viewed":49,"name":"Utils_MoveBar","username":"bigt","description":"测试多窗口渲染是否同步的移动条","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["move","bar"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec3 bc1 = vec3(1.0);// border color横竖边框的颜色\n    vec3 bc2 = vec3(0.0);\n    vec2 borderSize = vec2(8.0,8.0);// 边框大小,单位(像素)\n    float moveCycle = 4.0; // 从左下角到右上角的周期,单位(s)\n    float isMove = 1.0;// 是否移动条\n    \n    vec2 center = mix(iResolution.xy / 2.0, mod(iTime, moveCycle) / moveCycle * iResolution.xy, isMove);\n    // (xMin,yMin,xMax,yMax)\n    vec4 offsetMinMax = vec4(center-borderSize, center+borderSize);\n    // min<x<max时为1\n    float xFlag = step(offsetMinMax.x, fragCoord.x) * (1.0 - step(offsetMinMax.z, fragCoord.x));\n    float yFlag = step(offsetMinMax.y, fragCoord.y) * (1.0 - step(offsetMinMax.w, fragCoord.y));\n    vec3 col = mix(bc1, bc2, clamp(0.0,1.0,xFlag + yFlag));\n    fragColor = vec4(col, 1.0);\n}","name":"Image","description":"","type":"image"}]}