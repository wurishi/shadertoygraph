{"ver":"0.1","info":{"id":"ssfcW2","date":"1642701478","viewed":46,"name":"Cool moire pattern","username":"Awerar","description":"Moire pattern","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["moirepattern"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float count[3] = float[](5.0, 0.0, 10.0);\nfloat rotSpeed[3] = float[](1.0, 1.4324235, 2.2298347);\nvec2 offset[3] = vec2[](vec2(0, 0), vec2(0.1, .05), vec2(-0.2, 0.1));\nfloat zoomLevel = 30.0;\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float totCircle = 0.0;\n    for(int i = 0; i < count.length(); i++) {\n        vec2 uv = fragCoord/iResolution.xy;\n        uv += vec2(-0.5, -0.5);\n        uv.x /= (iResolution.y/iResolution.x);\n        uv += offset[i];\n        float a = iTime*rotSpeed[i]*0.2;\n\n        float dotCount = zoomLevel + count[i] + cos(clamp((mod((iTime / 5.0) + 1.0, 3.0)), 0.0, 1.0) * 3.14 * 2.0) * zoomLevel;\n\n        //uv = vec2((uv.x + 1.0) / 2.0, (uv.y + 1.0) / 2.0);\n        uv = vec2(uv.x * cos(a) - uv.y * sin(a), uv.x * sin(a) + uv.y * cos(a));\n        uv.x = abs(uv.x * dotCount);\n        uv.x %= 1.0;\n        uv.y = abs(uv.y * dotCount);\n        uv.y %= 1.0;\n\n        float dist = (uv.x-0.5)*(uv.x-0.5)+(uv.y-0.5)*(uv.y-0.5);\n        // Time varying pixel color\n        float circle = clamp(pow(-dist*2.0+1.15, 100.0), 0.0, 1.0);\n        totCircle += circle;\n    }\n    \n    vec2 uv = fragCoord/iResolution.xy;\n    vec3 col = (0.5 + 0.5*cos(iTime+uv.xyx+vec3(0,2,4))) * clamp(totCircle, 0.0, 1.0);\n\n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}