{"ver":"0.1","info":{"id":"wlVGWK","date":"1579946452","viewed":486,"name":"testing hash(x+2048y)","username":"FabriceNeyret2","description":"searching for source of bias in [url]https://www.shadertoy.com/view/3ty3Dy[/url]\nIhash( x + y*2048) do shows patterns !\nOne has to use a prime number, or at least not a power of 2 !  ( mouse click: using 2141 )","likes":3,"published":3,"flags":0,"usePreview":0,"tags":["test","hash","rand"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"int IHash(int a){\n\ta = (a ^ 61) ^ (a >> 16);\n\ta = a + (a << 3);\n\ta = a ^ (a >> 4);\n\ta = a * 0x27d4eb2d;\n\ta = a ^ (a >> 15);\n\treturn a;\n}\n\n#define Hash(a) ( float(IHash(a)) / float(0x7FFFFFFF) ) // Uniform in [0,1]\n\nvec4 rand4(int seed){\n    return vec4(Hash(seed^0x34F85A93),\n                Hash(seed^0x85FB93D5),\n                Hash(seed^0x6253DF84),\n                Hash(seed^0x25FC3625));\n}\n\nvoid mainImage( out vec4 O, vec2 U )\n{\n    int k = iMouse.z <= 0. ? 2048 : 2141;    // NB: 2141 is prime\n    O = rand4(int(U.x)+int(U.y)*k);          // just for color\n  //O = vec4( Hash(int(U.x)+int(U.y)*k) );   // direct B&W from Hash() is as good\n}\n","name":"Image","description":"","type":"image"}]}