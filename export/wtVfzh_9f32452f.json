{"ver":"0.1","info":{"id":"wtVfzh","date":"1613911151","viewed":87,"name":"Ducktales - The Moon","username":"RotcivOcnarb","description":"Recriated part of the ducktales \"The Moon\" song using sound shader","likes":2,"published":1,"flags":8,"usePreview":0,"tags":["sound","music","ducktales"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n\n    // Time varying pixel color\n    vec3 col = 0.5 + 0.5*cos(iTime+uv.xyx+vec3(0,2,4));\n\n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"float getlead(float x){\n    float f1 = -pow(x, 3.0)/6.0 - pow(x, 2.0)/2.0 + 23.0*x/3.0 -6.0;\n    float f2 = -pow(x, 3.0) + 27.0*pow(x, 2.0)/2.0 - 111.0*x/2.0 + 71.0;\n    float f3 = -31.0*pow(x, 3.0)/6.0 + 299.0*pow(x, 2.0)/2.0 - 4291.0*x/3.0 + 4531.0;\n    float f4 = 11.0*pow(x, 3.0)/6.0 - 77.0*pow(x, 2.0) + 6445.0*x/6.0 - 4969.0;\n    \n    float g1 = x < 4.0 ? f1 : f2;\n    float g2 = x < 12.0 ? f3 : f4;\n    \n    return x < 8.0 ? g1 : g2;\n}\n\nfloat getbass(float x, float part){\n\n    float pt = -pow(part, 3.0)/6.0 + pow(part, 2.0) - 17.0*part/6.0;\n\n    return -pow(x, 3.0)/2.0 + pow(x, 2.0)/2.0 + 7.0*x - 6.0 + pt;\n}\n\nfloat getnote(float time, float freq){\n    return cos(time*120.0 * pow(2.0, freq/12.0));\n}\n\nvec2 mainSound( int samp, float time )\n{\n    float speed = 6.0;\n    float noteOffset = 50.0;\n\n    //float modtime = mod(time * speed*3.0, 3.0);\n    float noteIndex = floor(time * speed);\n    float part = mod(floor(noteIndex / 16.0), 4.0);\n    \n    float lead = getlead(mod(noteIndex, 16.0)) + noteOffset;\n    float bass = getbass(min(3.0, floor(mod(noteIndex, 16.0) / 3.0)), part) + noteOffset - 12.0;\n\n    float note =\n    (getnote(time, lead) +\n    getnote(time, bass))/2.0;\n    return vec2(note, note);\n}","name":"Sound","description":"","type":"sound"}]}