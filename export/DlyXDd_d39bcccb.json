{"ver":"0.1","info":{"id":"DlyXDd","date":"1686450803","viewed":56,"name":"truchet tiles-02","username":"jorge2017a2","description":"truchet tiles-01","likes":7,"published":1,"flags":0,"usePreview":0,"tags":["truchettiles02"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//por jorge2017a2\n\n//referencia\n//https://iquilezles.org/articles/distfunctions2d\n///\n#define antialiasing(n) n/min(iResolution.y,iResolution.x)\n#define S(d,b) smoothstep(antialiasing(0.8),b,d)\n#define S2(d,b) smoothstep(10.0*antialiasing(0.5),b,d)\n#define PI     3.14159265\n#define TWO_PI 6.28318530\n\nfloat intersectSDF(float distA, float distB)\n\t{ return max(distA, distB);}\nfloat unionSDF(float distA, float distB)\n\t{ return min(distA, distB);}\nfloat differenceSDF(float distA, float distB)\n\t{ return max(distA, -distB);}\n\n\n\nvec3 DrawFigBorde(vec3 pColObj, vec3 colOut, float distObj )\n{ colOut = mix(colOut,pColObj ,S2( distObj,0.0));\n  colOut = mix(colOut,vec3(0.0) ,S2(abs( distObj)-0.005,0.0));\n  return colOut;\n}\n\nvec2 rotatev2(vec2 p, float ang)\n{   float c = cos(ang);\n    float s = sin(ang);\n    return vec2(p.x*c - p.y*s, p.x*s + p.y*c);\n}\n\nfloat sdBox( in vec2 p, in vec2 b )\n{ vec2 d = abs(p)-b;  return length(max(d,0.0)) + min(max(d.x,d.y),0.0);  }\n\n\nfloat Hash21(vec2 p)\n{\n    p=fract(p*vec2(234.34,435.345));\n    p+=dot(p,p+34.26);\n    return fract(p.x*p.y);\n}\n\n/*\nvec3 figura01(vec2 p, vec3 col)\n{\n    float d1= sdBox( p, vec2(0.05,0.05) );\n    float d2= sdBox( p, vec2(0.2,0.2) );\n    float d3= sdBox( p, vec2(0.4,0.4) );\n    float d4= sdBox( p, vec2(0.6,0.6) );\n    float d5= sdBox( p, vec2(0.8,0.8) );\n    float d6= sdBox( p, vec2(1.0,1.0) );\n    col= DrawFigBorde(vec3(0.0,0.0,0.0), col, abs(d6)-0.01);\n    col= DrawFigBorde(vec3(0.0,0.0,0.0), col, abs(d5)-0.01);\n    col= DrawFigBorde(vec3(0.0,0.0,0.0), col, abs(d4)-0.01);\n    col= DrawFigBorde(vec3(0.0,0.0,0.0), col, abs(d3)-0.01);\n    col= DrawFigBorde(vec3(0.0,0.0,0.0), col, abs(d2)-0.01);\n    col= DrawFigBorde(vec3(0.0,0.0,0.0), col, abs(d1)-0.01);\n    return col;\n}\n*/\n\n//FabriceNeyret2, 2023-06-11\nvec3 figura01(vec2 pp, vec3 col)\n{\n    //vec2 p= rotatev2(pp, radians(45.0));\n    vec2 p=pp;\n    p = abs(p);\n    float d = max(p.x,p.y);\n    d =  mod(d+.1,.2)-.1;\n    //return vec3( smoothstep(6./iResolution.y, 0., abs(d) ) );\n    col= DrawFigBorde(vec3(0.0,0.0,0.0), col, abs(d)-0.01);\n    return col;\n}\n\n/*\nvec3 figura02(vec2 pp, vec3 col)\n{\n    vec2 p= rotatev2(pp, radians(45.0));\n    float d1= sdBox( p, vec2(0.05,0.05) );\n    float d2= sdBox( p, vec2(0.2,0.2) );\n    float d3= sdBox( p, vec2(0.4,0.4) );\n    float d4= sdBox( p, vec2(0.6,0.6) );\n    float d5= sdBox( p, vec2(0.8,0.8) );\n    float d6= sdBox( pp, vec2(1.0,1.0) );\n    float df=d6;\n        float dt=d6;\n    dt=abs(d1)-0.01;\n    dt=unionSDF(dt,abs(d2)-0.01);\n    dt=unionSDF(dt,abs(d3)-0.01);\n    dt=unionSDF(dt,abs(d4)-0.01);\n    dt=unionSDF(dt,abs(d5)-0.01);\n    df=intersectSDF(d6,dt);\n    col= DrawFigBorde(vec3(0.0,0.0,0.0), col, df);\n    \n    //final color\n    float width=0.5;\n    float  mask=smoothstep(0.01,-0.01, df-width);\n    float r = pow(1.0-sqrt( df),1.5 );\n    float g = pow(1.0-sqrt( df),1.5 );\n    float b = 1.0*(r+g);\n    col*=vec3(r,g,b)*mask;\n    return col;\n}\n*/\n\n//FabriceNeyret2, 2023-06-11\nvec3 figura02(vec2 pp, vec3 col)\n{\n    vec2 p= rotatev2(pp, radians(45.0));\n    p = abs(p);\n    float d = max(p.x,p.y);\n    d =  mod(d+.1,.2)-.1;\n    //return vec3( smoothstep(6./iResolution.y, 0., abs(d) ) );\n     //final color\n    float width=0.5;\n    float  mask=smoothstep(0.01,-0.01, d-width);\n    float r = pow(1.0-sqrt( d),1.5 );\n    float g = pow(1.0-sqrt( d),1.5 );\n    float b = 1.0*(r+g);\n    col*=vec3(r,g,b)*mask;\n    return col;\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{   \n    vec2 uv = -1.0 + 2.0 * fragCoord.xy/iResolution.xy;\n\tuv.x *= iResolution.x/iResolution.y;\n    uv-=vec2(0.0,0.0);\n    float esc=3.0;\n    uv*=esc;\n    vec2 uv0=uv;\n    \n    \n    vec2 gv=fract(uv)-0.5;\n    vec2 id=floor(uv);\n    \n    float n=Hash21(id); //rango 0.0 a 1.0\n    float n2=Hash21(id+vec2(1.0,-1.0)); //rango 0.0 a 1.0\n    \n    float width=0.1;\n    if(n<0.5) gv.x*=-1.0;\n    \n    vec3 col=vec3(1.0); \n    if(n2<0.5)\n    {col= figura01(gv*2.0,col);}\n    else\n    {col= figura02(gv*2.0,col);}\n    \n    col=pow(col,  vec3(0.554545));\n    fragColor = vec4(col,1.0);\n}\n","name":"Image","description":"","type":"image"}]}