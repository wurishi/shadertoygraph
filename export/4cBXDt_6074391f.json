{"ver":"0.1","info":{"id":"4cBXDt","date":"1706939117","viewed":84,"name":"HSV - RYB","username":"davidkimighty","description":"HSV - Red, Yellow and Blue","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["hsv","gaussian"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// iq\nvec3 hsv2rgb( in vec3 c )\n{\n    vec3 rgb = clamp( abs(mod(c.x*6.0+vec3(0.0,4.0,2.0),6.0)-3.0)-1.0, 0.0, 1.0 );\n    return c.z * mix( vec3(1.0), rgb, c.y);\n}\n\nfloat drawBox(vec2 uv, float x, float y)\n{\n    return step(abs(uv.x), x) * step(abs(uv.y), y);\n}\n\nfloat gaussian(float x, float m, float sd)\n{\n    float z = (x-m)/sd;\n    return exp(-z*z/2.);\n}\n\nfloat line(float l, float pct, float t)\n{\n    return smoothstep(t, 0. ,abs(l-pct));\n}\n\nvec3 hsvgraph(vec2 uv, vec2 p, vec3 bs, float m, float st, float gs, float h, out float s)\n{\n    vec3 lc = vec3(64)/255.;\n    vec3 hc = vec3(179)/255.;\n    \n    float ib = drawBox(uv-p, bs.x, bs.y);\n    float ob = drawBox(uv-p, bs.x+bs.z, bs.y+bs.z);\n\n    float g = gaussian(uv.x, m, st);\n    vec3 hsv = hsv2rgb(vec3(h, 1., g));\n    vec3 hsvbox = mix(vec3(0), mix(mix(lc, hc, g), hsv, ib), ob);\n    \n    float l = line(uv.y-p.y-bs.y-0.01, g*gs, step(abs(uv.x), bs.x)*0.005);\n    vec3 hsvl = mix(vec3(0), mix(lc, hsv, g), l);\n    \n    s = ob+l;\n    return hsvbox+hsvl;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord-0.5*iResolution.xy)/iResolution.y;\n    \n    vec3 bgc = vec3(12)/255.;\n    vec3 bs = vec3(0.45, 0.035, 0.0025);\n\n    float s1, s2, s3 = 0.;\n    vec3 hsv1 = hsvgraph(uv, vec2(0., 0.25), bs,  sin(iTime)*0.13,     0.08, 0.06, 0.,   s1);\n    vec3 hsv2 = hsvgraph(uv, vec2(0., 0.), bs,    sin(iTime-1.5)*0.13, 0.13, 0.1,  0.15, s2);\n    vec3 hsv3 = hsvgraph(uv, vec2(0., -0.25), bs, sin(iTime-2.5)*0.13, 0.1,  0.08, 0.6,  s3);\n    \n    vec3 color = mix(bgc, hsv1+hsv2+hsv3, s1+s2+s3);\n    fragColor = vec4(color, 1);\n}","name":"Image","description":"","type":"image"}]}