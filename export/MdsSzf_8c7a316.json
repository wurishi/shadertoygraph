{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"vec3 toGLColor(vec3 color) \n{\n\treturn color * 0.00392156862;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.x;\n\tfloat smoothness = 0.002;\n\t\n\tvec2 p = vec2(0.5, 0.5*iResolution.y/iResolution.x);\n\t\n\tvec3 col1 = toGLColor(vec3(203, 136, 180));\n\tvec3 col2 = toGLColor(vec3(149, 165, 166));\n\tvec3 col3 = toGLColor(vec3(52, 152, 219));\n\tvec3 col4 = toGLColor(vec3(22, 160, 133));\n\tvec3 col5 = toGLColor(vec3(14, 122, 160));\n\tvec3 col6 = toGLColor(vec3(14, 12, 60));\n\tvec3 col7 = toGLColor(vec3(241, 200, 165));\n\tvec3 col8 = vec3(1., 1., 1.);\n\tvec3 col9 = vec3(1., 1., 1.);\n\n\tvec3 col = col2;\n\t\t\n\n\t// shadow shape\n\tvec2 q = p - uv;\n\tq *= vec2(0.5, 2.5); // scale\n\tq += vec2(0.0, -0.6); // translate\n\tfloat shape = 1. - smoothstep(0., 0.15, length(q));\n\tcol = col + col9*0.3*shape;\n\t\n\t// object shape\n\tq = p - uv;\n\tfloat qLen = length(q);\n\tfloat sfunc = 0.2 + 0.01*exp(sin(atan(q.y, q.x)*4.)*0.9);\n\tshape = 1. - smoothstep(sfunc, sfunc + smoothness, qLen);\n\tcol = mix(col, col1, shape);\n\t\n\tfloat gradShape = 1. - smoothstep(sfunc-0.05, sfunc, qLen);\n\tfloat rayShape = shape;\n\tfloat waveShape1 = shape;\n\tfloat waveShape2 = shape;\n\t\n\t// rays and sun\n\tsfunc = 0.05 + 0.01*exp(sin(atan(q.y, q.x)*10.)*0.5);\n\trayShape *= 1. - smoothstep(sfunc, sfunc + 0.2, qLen);\n\tfloat spec = 40. + 3.*sin(iTime) + sin(iTime*0.8);\n\tcol7 += pow(1.-qLen, spec);\n\tcol = mix(col, col7, rayShape);\n\n\t// wave 1\n\tfloat waveFunc = 0.3 + (0.01*sin(uv.x * 35. + iTime*2.)) \n\t\t+ (0.005*sin(uv.x * 20. + iTime*0.5));\n\twaveShape1 *= 1. - smoothstep(waveFunc, waveFunc + smoothness, uv.y);\n\tcol = mix(col, col3, waveShape1);\n\t\n\t// wave 2\n\twaveFunc = 0.3 + (0.02*sin(uv.x * 20. + iTime*2.)) \n\t\t+ (0.005*sin(uv.x * 30. + iTime*0.7));\n\twaveShape2 *= 1. - smoothstep(waveFunc, waveFunc + smoothness, uv.y);\n\tfloat waveTop = 1. - smoothstep(waveFunc-0.005, waveFunc, uv.y);\n\tcol5 = mix(col6, col5, 0.5+uv.y*1.7);\n\tcol4 = mix(col3, col5, waveTop);\n\tcol = mix(col, col4, waveShape2);\n\t\n\t// inner shadow\n\tcol8 *= gradShape;\n\tcol = col + col8*0.05;\n\t\n\t\n\t// highlight\n\tq += vec2(-0.2, 0.15);\n\tshape = 1. - smoothstep(0., 0.2, length(q));\n\tcol = col + col8*0.6*shape;\n\t\n\tfragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"MdsSzf","date":"1405448321","viewed":2781,"name":"Sunset 9:25","username":"sepych","description":"My first shader. Thx iq for a great tutorial.","likes":86,"published":1,"flags":0,"usePreview":0,"tags":["procedural","2d","waves","drawing"],"hasliked":0,"parentid":"","parentname":""}}