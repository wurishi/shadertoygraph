{"ver":"0.1","info":{"id":"NsffRS","date":"1644975136","viewed":75,"name":"MySpiral","username":"surffer3d","description":"Animated spiral","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["spiral"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const float PI = 3.14159265359;\nconst float PI_2 = PI * 2.0;\n\nmat3 tRot(float angle) {\n    float c = cos(angle);\n    float s = sin(angle);\n    return mat3(c, s, 0, -s, c, 0, 0, 0, 1);\n}\n\n\nfloat spiral(vec2 uv) {\n    float SCALE = 0.15;\n    float r = length(uv);\n    float RADIUS = 0.05 + r * SCALE;\n    float a = atan(uv.x, uv.y);\n    \n    // Edge shape\n    r += abs(sin(a*20.0))*0.005;\n    //r += (cos(a*13.0))*0.005;\n    \n    uv = (tRot(-iTime) * vec3(uv,1.0)).xy;\n    a = atan(uv.x, uv.y);\n    \n    float sp_a = a + PI_2 * floor(r/RADIUS);\n    float sp_b = a + PI_2 * (floor(r/RADIUS) + 1.0);\n    float d = min(abs(r-RADIUS*sp_a/PI_2), abs(r-RADIUS*sp_b/PI_2));\n    \n    float aa = fwidth(r);\n    float WIDTH = 0.02 + sin(iTime*0.5)*0.02;\n    float factor = smoothstep(WIDTH, WIDTH+aa, d);\n    \n    return factor;\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n    uv = uv - 0.5;\n    uv.x *= iResolution.x / iResolution.y;\n\n    float d = spiral(uv);\n    \n    vec3 col = mix(vec3(1.0,1.0,0.9), vec3(0.9,0.15,0.15), d);\n    \n    float vign = min(1.0, 1.0 - length(uv) + 0.5);\n    col *= vign;\n\n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}