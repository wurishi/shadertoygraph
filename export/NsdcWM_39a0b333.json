{"ver":"0.1","info":{"id":"NsdcWM","date":"1654314743","viewed":176,"name":".numbers","username":"xrx","description":" ","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["base","float"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGzr","filepath":"/media/a/08b42b43ae9d3c0605da11d0eac86618ea888e62cdd9518ee8b9097488b31560.png","previewfilepath":"/media/ap/08b42b43ae9d3c0605da11d0eac86618ea888e62cdd9518ee8b9097488b31560.png","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//--------------------------------------------------------\n#define PI acos(-1.)\nstruct Prec {int up, dn;};\n\nint d2c(int i){ return (i<10?48:55)+i; }\n\nvec4 print_char(vec2 p, int c) { // p 0..1\n    if (p.x<0.||p.y<0.||p.x>1.||p.y>1.) return vec4(0);//if(length(p-vec2(.5))>.25) return vec4(0);\n    vec4 x = vec4(texture(iChannel0, fract(p/16.+fract(vec2(c,15-c/16)/16.))).r);  x= pow(x,vec4(2.2));\n    //return vec4(texelFetch(iChannel0, ivec2(256.*fract(p/16.+fract(vec2(c,15-c/16)/16.))),2).r);\n    return x;\n}\n\nvec4 print_num(vec2 p, Prec prec, float b, float x0) {\n    float x = abs(x0);\n    int ilim = 0xff; if (b>2.) ilim= int(ceil((23.-log2(x))/log2(b)));    \n    \n    vec4 c= vec4(0);\n    if (x0<.0) c+= print_char(p+vec2(float(prec.up-1)*.5,0), 45);  // -\n    p.x-= .5;\n    for (int i = 0; i<prec.up; i++) { \n        c+= print_char(p+vec2(float(i)*.5,0), d2c(int(mod(x,b))) )*(x<1.?.05:1.);\n        x/=b;\n        if(x<1.) break;\n    }\n    p.x-= .5;\n    {c+= print_char(p, 46); p.x-= .5;} // .\n    \n    x = abs(x0);\n    for (int i = 0; i<prec.dn; i++) { \n        x = fract(x);\n        x *= b;\n        \n        c+= print_char(p+vec2(float(i)*-.5,0), d2c(int(x)) )*(i<ilim?1.:.05);\n        if(i%3==2) p.x-= .5*.25;\n    }\n    return c;\n}\n\nvoid mainImage(out vec4 C, vec2 p){\n    float sc = exp2(4.)*1.5;\n    if (!((p.x>sc*0. && p.x<sc*10. && p.y>sc*0. && p.y<sc*15.) ||\n          (p.x>sc*0. && p.x<sc*25. && p.y>sc*1. && p.y<sc*5.)) ) { C = vec4(0); return;} ;\n\n    Prec prc = Prec(6,10);\n    vec2 off = vec2(2.5+0.,0);\n    float t = 0.; t+=iTime+iTimeDelta; \n    float toff=10.;\n    float b = 10.;  if (fract((t+toff)/20./2.)>.5) b =  1.+35.*pow((sin((t+toff)*PI*2./20.*2.)*.5+.5),4.);\n    float e = 1e-7;\n    int i=0;\n    \n    vec4 c = vec4(.0);\n    c+=print_num(p/sc-off-vec2(0,i++), prc, 10., b)*vec4(1,1,0,0);\n    i++;\n    c+=print_num(p/sc-off-vec2(0,i++), prc, b, -1.);\n    c+=print_num(p/sc-off-vec2(0,i++), prc, b, 0.)*vec4(.1);\n    c+=print_num(p/sc-off-vec2(0,i++), prc, b, .5);\n    c+=print_num(p/sc-off-vec2(0,i++), prc, b, 1.-e);\n    c+=print_num(p/sc-off-vec2(0,i++), prc, b, 1.)         *vec4(1,0,0,0);\n    c+=print_num(p/sc-off-vec2(0,i++), prc, b, 1.+e);\n    c+=print_num(p/sc-off-vec2(0,i++), prc, b, 1.234567891);\n    c+=print_num(p/sc-off-vec2(0,i++), prc, b, sqrt(2.));\n    c+=print_num(p/sc-off-vec2(0,i++), prc, b, (1.+sqrt(5.))/2.);\n    c+=print_num(p/sc-off-vec2(0,i++), prc, b, 2.);\n    c+=print_num(p/sc-off-vec2(0,i++), prc, b, exp(1.));\n    c+=print_num(p/sc-off-vec2(0,i++), prc, b, acos(-1.))*vec4(0,1,0,0);\n    c+=print_num(p/sc-off-vec2(0,i++), prc, b, 299.792458)*vec4(0,0,1,0);\n    \n    c+=print_num(p/sc-off-vec2(15,4), prc, 36., t);\n    c+=print_num(p/sc-off-vec2(15,3), prc, 16., t);\n    c+=print_num(p/sc-off-vec2(15,2), prc, 10., t)*vec4(0,.5,1,0);\n    c+=print_num(p/sc-off-vec2(15,1), Prec(8,prc.dn), 2., t);\n    \n    C= pow(c,vec4(1./2.2));\n}","name":"Image","description":"","type":"image"}]}