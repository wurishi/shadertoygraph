{"ver":"0.1","info":{"id":"slsyz8","date":"1647523120","viewed":217,"name":"Monochromatic dithering","username":"RotcivOcnarb","description":"Turns the image into a monochromatic version blending the values with semi-random dithering","likes":7,"published":1,"flags":0,"usePreview":0,"tags":["pixel","dither","dithering","pixelart","monochromatic"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\n    //Parameters\n    float scale = 0.0; //Change this to integer numbers only\n    float quality = 4.0;\n    \n    //Color Pallete\n    vec4 low = vec4(58.0/255.0, 13.0/255.0, 12.0/255.0, 1.0);\n    vec4 high = vec4(230.0/255.0, 241.0/255.0, 237.0/255.0, 1.0);\n    \n    \n    //ACTUAL CODE\n    float scaleSq = pow(2.0, scale);\n\n    fragCoord = floor(fragCoord/scaleSq)*scaleSq;\n    vec2 uv = fragCoord/iResolution.xy;\n\n    vec4 col = texture(iChannel0, uv);\n    float bw = .3*col.r + .59*col.g + .11*col.b;\n    bw = floor(bw * quality)/quality;\n    \n\n    float perc = bw;\n    float c = 1.0 - floor(2.0*perc);\n    perc = perc - 2.0*c*perc + c; //Cool little formula to change x (c=0) to 1-x (c=1)\n    \n    float each = 1.0/(1.0 - perc);\n    \n    vec2 v = floor((mod(fragCoord.xy, each)+1.0)/each);\n    \n    v = 1.0 - v;\n    \n    float c1 = 1.0 - c;\n    float sm = v.x + v.y;\n    \n    sm = sm - 2.0*c*sm + c;\n    sm = clamp(sm, 0.0, 1.0);\n    \n    col = mix(low, high, sm);\n\n    //fragColor = vec4(bw);\n    fragColor = col;\n}","name":"Image","description":"","type":"image"}]}