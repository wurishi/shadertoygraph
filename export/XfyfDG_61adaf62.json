{"ver":"0.1","renderpass":[{"outputs":[{"channel":0,"id":"4dfGRr"}],"inputs":[{"channel":0,"type":"buffer","id":"4dXGR8","filepath":"/media/previz/buffer00.png","sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}}],"code":"// The image is generated in Buffer A\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n\tfragColor = texture(iChannel0, uv).rgba;\n}","name":"Image","description":"","type":"image"},{"outputs":[{"channel":0,"id":"4dXGR8"}],"inputs":[{"channel":0,"type":"buffer","id":"4dXGR8","filepath":"/media/previz/buffer00.png","sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}}],"code":"// afl_ext 2017-2024\n\nfloat rand2sTime(vec2 co){\n    co *= iTime;\n    return fract(sin(dot(co.xy,vec2(12.9898,78.233))) * 43758.5453);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 position = fragCoord.xy / iResolution.xy;\n\n    // I have no idea how I did it and why it does what it does\n\tvec3 color = vec3(0.0);\n\tfor(int i=0;i<5;i++){\n\t\tvec3 pixel = vec3(1.0 / iResolution.xy, 0.0) * float(5 + i);\n\t\tfloat a = texture(iChannel0, position + pixel.xz).a * 0.25;\n\t\tfloat b = texture(iChannel0, position - pixel.xz).a * 0.25;\n\t\tfloat c = texture(iChannel0, position + pixel.zy).a * 0.25;\n\t\tfloat d = texture(iChannel0, position - pixel.zy).a * 0.25;\n\t\tvec2 dfx = vec2(a-b, c-d);\n\t\tcolor.r += texture(iChannel0, position - pixel.xy * dfx * 7.0 * float(5 + i)).a;\n\t}\n\tcolor.r /= 5.04;\n    // the time variable here is just to kickstart the thing otherwise it takes some seconds to start...\n\tcolor.r +=  max(0.01, 0.07 - iTime * 0.1) * rand2sTime(position);\n    \n    // there is just the coloring\n\tvec3 xcc = vec3(0.1, 0.8, 1.0) - (1.0 / (pow(color.r * 1.53, 14.0) * 2.0 + 1.0)) * vec3(0.1, 1.1, 1.0);\n\txcc = normalize(xcc) * sqrt(length(xcc)) + length(xcc);\n    \n\tfragColor = vec4(xcc, color.r);\n\n}","name":"Buffer A","description":"","type":"buffer"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":true,"mFlagMusicStream":false},"info":{"id":"XfyfDG","date":"1734382760","viewed":115,"name":"Interesting sparkling water","username":"afl_ext","description":"Experimenting with my old shader for new uses, I decided to rework it a bit, simplify, and upload","likes":8,"published":3,"flags":32,"usePreview":0,"tags":["water","sparkling"],"hasliked":0,"parentid":"","parentname":""}}