{"ver":"0.1","info":{"id":"XlBBDz","date":"1515268472","viewed":171,"name":"slider input for morph targets","username":"mattdesl","description":"When slider is 0.0, pick first frame. When slider is 1.0, pick last frame. Otherwise choose frames in between depending on where the slider is.","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["utility","slider","morph","influences"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// user slider 0 .. 1\n// based on \"centers\" so slider at 0.3333 will be 100% color1 \nconst float slider = 1.0;\n\n// total frames\nconst float frames = 4.0;\n\n// each frame attribute\nconst vec3 color0 = vec3(1.0, 0.0, 0.0);\nconst vec3 color1 = vec3(0.0, 1.0, 0.0);\nconst vec3 color2 = vec3(0.0, 0.0, 1.0);\nconst vec3 color3 = vec3(1.0, 1.0, 1.0);\n\nconst float interval = 1.0 / (frames-1.0);\n\nvec3 morph (vec3 color, float index) {\n    // find target for this morph frame\n   \tfloat target = index * interval;\n    // how close is the slider to the target\n    float influence = 1.0 - clamp(abs(slider - target) / interval, 0.0, 1.0);\n    return color * influence;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n    vec3 color = vec3(0.0);\n\n    // apply each morph\n    color += morph(color0, 0.0);\n    color += morph(color1, 1.0);\n    color += morph(color2, 2.0);\n\tcolor += morph(color3, 3.0);\n \n\tfragColor = vec4(color, 1.0);\n}","name":"Image","description":"","type":"image"}]}