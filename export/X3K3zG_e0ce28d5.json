{"ver":"0.1","info":{"id":"X3K3zG","date":"1717960117","viewed":80,"name":" space with music","username":"nnew","description":"music","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["fractal"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sXGRr","filepath":"/media/a/48e2d9ef22ca6673330b8c38a260c87694d2bbc94c19fec9dfa4a1222c364a99.mp3","previewfilepath":"/media/ap/48e2d9ef22ca6673330b8c38a260c87694d2bbc94c19fec9dfa4a1222c364a99.mp3","type":"music","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"/*from https://www.shadertoy.com/view/lXy3Ry*/\n#define R(p,a,r)mix(a*dot(p,a),p,cos(r))+sin(r)*cross(p,a)\n#define H(h)(cos((h)*1.3+vec3(42,43,41))*2.5+.5)\nvec3 rotx(vec3 r, float fi) {\n    mat3 R = mat3( 1,0,0, 0,cos(fi),-sin(fi), 0,sin(fi),cos(fi) );\nreturn R*r;\n}\nvec3 roty(vec3 r, float fi) {\nmat3 R = mat3( cos(fi),0,sin(fi), 0,1,0, -sin(fi),0,cos(fi) );\nreturn R*r;\n}\nvec3 rotz(vec3 r, float fi) {\n\n    mat3 R = mat3( cos(fi), -sin(fi), 0,\n                    sin(fi), cos(fi),  0,\n                    0,       0,        1 );\nreturn R*r;\n}\nfloat sdTorus( vec3 p, vec2 t )\n{\n  vec2 q = vec2(length(p.xz)-t.x,p.y);\n  return length(q)-t.y;\n}\n\nvoid mainImage(out vec4 O, vec2 C)\n{\n    O=vec4(0);\n   \n    vec2 uv = C/iResolution.xy;\n    vec4 fragColor2 = vec4(0,0,0,1);\n    vec4 O3 = vec4(0,0,0,1);\n    vec3 m;\n    m.xy = iMouse.xy/iResolution.xy;\n    m.z = iMouse.z;\n   \n    float ss=0.,s=0.,st=1./4.;\n    vec3 p, q, r = iResolution, t = iTime*.8+vec3(0,11,33);\n\n    for(float z=0.; z<1.; z+=st) {\n    for(float y=0.; y<1.; y+=st) {\n    for(float x=0.; x<1.; x+=st) {\n    \n         s = 2.+10.*texture(iChannel0, vec2(x*y*z,.0)).r;\n        ss = 2.*(sin(s * (x - 0.5) + s * (y - 0.5) + s * (z - 0.5)) * 0.01);\n        \n       \n        vec3 c = (vec3(x,y,z)*(s*.6+0.01)) / 320. / \n            length((C+C-r.xy)/r.x+q.xy/(1.3+q.z));\n        c = c*pow(c,vec3(3./s));\n        \n        p = vec3(x+ss,y+ss,z+ss) - 1.5/4.;\n        q = p;\n        q.yx*=mat2(cos(t.xyzx));\n        q.zy*=mat2(cos(t.xyzx+iTime*.5));\n       \n        O.rgb+=c;\n        \n        }\n       }\n  } \n    \n\t fragColor2 = O3; //mix(prev,O,.6);\n     \n    vec3 n1,q2,r2=iResolution,\n    d=normalize(vec3((C*2.-r2.xy)/r2.y,1));  \n    for(float i=0.,a,s,e,g=0.;\n        ++i<110.;\n        O.xyz+=mix(vec3(1),H(g*.1),sin(.8))*1./e/8e3\n    )\n    {\n        n1=g*d;\n        float a2;\n             for(float z=0.; z<1.; z+=st) {\n    for(float y=0.; y<1.; y+=st) {\n    for(float x=0.; x<1.; x+=st) {\n  \n  a2=texture(iChannel0, vec2(x*y*z*0.1,.0)).r;\n }}}\n        float c22 =sdTorus(n1, vec2(2.5,2.1));\n        \n        n1.z-=100.;\n    \n  \n        a=30.*c22;\n       \n        n1=mod(n1-a,a*2.)-a;\n        s=4.;\n        for(int i=0;i++<8;){\n            n1=.3-abs(n1);\n           \n            n1.x<n1.z?n1=n1.zyx:n1*c22;\n            n1.z<n1.y?n1=n1.xzy:n1*c22;\n            n1.y>n1.x?n1=n1.zyx:n1*c22;\n           \n            s*=e=1.4+sin(iTime*.234)*.1;\n            n1=abs(n1)*e-\n                vec3(\n                    5.+cos(iTime*.3+.5*cos(iTime*.3))*3.,\n                    120,\n                    8.+cos(iTime*.5)*5.\n                 )+a2*10.;\n         }\n         g+=e=length(n1.yz)/s;\n        g+=e=length(n1.yx)/s;\n    }\n}\n\n","name":"Image","description":"","type":"image"}]}