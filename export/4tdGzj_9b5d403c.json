{"ver":"0.1","info":{"id":"4tdGzj","date":"1470301728","viewed":262,"name":"Music Visualizer - Sid","username":"SteamSid","description":"It's mah first moosic 1\nmusic by MDK\nhttps://soundcloud.com/mdkofficial","likes":3,"published":1,"flags":64,"usePreview":0,"tags":["2d","music"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"lsBGR1","filepath":"https://soundcloud.com/mdkofficial/mdk-jelly-castle","previewfilepath":"https://soundcloud.com/mdkofficial/mdk-jelly-castle","type":"musicstream","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float findCentroid(float[3] arr);\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / 1.0 / iResolution.xy;\n    vec3 pixel;\n    vec3 backgroundColor = vec3(0.0, 0.0, 0.0);\n    pixel = backgroundColor;\n    \n    float fft  = texture( iChannel0, vec2(uv.x,0.25) ).x; \n    \n    float wave = texture( iChannel0, vec2(uv.x,0.75) ).x;\n    \n    float centers[3];\n    centers[0] = texture( iChannel0, vec2(uv.x - 1.0,0.0) ).x;\n    centers[1] = texture( iChannel0, vec2(uv.x,0.0) ).x;\n    centers[2] = texture( iChannel0, vec2(uv.x + 1.0,0.0) ).x;\n    \n    float heights = findCentroid(centers);\n    \n    if(fragCoord.y < heights * 400.0 && fragCoord.y > (heights * 400.0) - 400.0)\n    {\n    \tpixel = (vec3( fft, 4.0*fft*(1.0-fft), 1.0-fft ) * fft);\n        \n        if(fragCoord.y < (heights * 400.0) - 20.0)\n        {\n            float dist = ((heights * 400.0) - 20.0) - fragCoord.y;\n            pixel /= ceil(dist / 6.0);\n        }\n    }\n    \n    if(fragCoord.y < (wave * 1.2) * (heights * 100.0) && fragCoord.y > ((wave * 1.2) * (heights * 100.0)) - 100.0)\n    {\n        pixel = vec3(1.0, 1.0, 1.0) - (vec3( fft, 4.0*fft*(1.0-fft), 1.0-fft ) * fft);\n        //fragCoord.y > ((wave * 1.2) * (heights * 100.0)) - 100.0\n        if(fragCoord.y < ((wave * 1.2) * (heights * 100.0)) - 10.0)\n        {\n            float dist = (((wave * 1.2) * (heights * 100.0)) - 10.0) - fragCoord.y;\n            pixel /= ceil(dist / 6.0);\n        }\n    }\n    \n\tfragColor = vec4(pixel,1.0);\n}\n\nfloat findCentroid(float[3] arr)\n{\n    float retR = (arr[0] + arr[1] + arr[2]) / 3.0;\n    \n    return retR;\n}","name":"Image","description":"","type":"image"}]}