{"ver":"0.1","info":{"id":"7t2fz3","date":"1653723297","viewed":112,"name":"Linear scratches","username":"kamilzidek","description":"Having fun with GLSL.\nHere a demo with noise detection (not available on shadertoy):\nhttp://youtu.be/7k4Y19fZoBA","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["2d","simple","sound","reactive","music","lines","hough"],"hasliked":0,"parentid":"XlX3Rn","parentname":"Fake Hough Lines"},"renderpass":[{"inputs":[{"id":"4dfGzn","filepath":"/media/a/ec8a6ea755d34600547a5353f21f0a453f9f55ff95514383b2d80b8d71283eda.mp3","previewfilepath":"/media/ap/ec8a6ea755d34600547a5353f21f0a453f9f55ff95514383b2d80b8d71283eda.mp3","type":"music","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"false","srgb":"false","internal":"byte"},"published":1}],"outputs":[],"code":"vec3 hash3( vec2 p ) //By iq !\n{\n    vec3 q = vec3( dot(p,vec2(127.1,311.7)), \n\t\t\t\t   dot(p,vec2(269.5,183.3)), \n\t\t\t\t   dot(p,vec2(419.2,371.9)) );\n\treturn fract(sin(q)*43758.5453);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float l=sqrt(iResolution.x*iResolution.x+iResolution.y*iResolution.y);\n    float eps=2.6;\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    uv.x *= 3.1415*0.5;\n    uv.y *= 2.0;\n    uv.y -= 1.0;\n    uv.y *= iResolution.y;\n    vec3 color = vec3(0.0,0.0,0.0);\n    const float passes = 256.0;\n    \n    for  (float i=0.0; i<passes; i++) {\n        vec3 rd=hash3(vec2(1.265*i/passes,2.0*i/passes)*26.351);\n        float rd_l=0.1+rd.x;\n        float rd_p=3.1415*(rd.y-0.3*texture(iChannel0,vec2(i/passes,0.0)).x);\n        float rd_speed=0.7+0.1*rd.z;\n        float fy=l*rd_l*cos(uv.x+rd_speed*iTime+rd_p);\n        if (uv.y >= fy - eps && uv.y <= fy + eps) {\n            color += vec3(0.22 - 0.12*abs(uv.y - fy)/eps,0.0,0.0);\n        }\n        if (color.r > .9) {\n            color.g=color.r-.5;\n        }\n        if (color.r > 1.0) color.r=1.0;\n        if (color.g > 1.0) color.g=1.0;\n    }\n    \n\tfragColor = vec4(color.xyz,1.0);\n}","name":"Image","description":"","type":"image"}]}