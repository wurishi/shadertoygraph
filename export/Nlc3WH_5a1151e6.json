{"ver":"0.1","info":{"id":"Nlc3WH","date":"1636065099","viewed":142,"name":"Mystify 2","username":"nightjar","description":"Windows 3.1 Mystify screen saver","likes":6,"published":1,"flags":0,"usePreview":0,"tags":["screensaver"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const float colors = 8.; // number of distinct colors\nconst float repeat = 4.; // number of lines per color\nconst float offset = 20.; // distance between lines\nconst float framerate = 15.; // emulated framerate\nconst float dx0 = .8; // trajectory\nconst float dx1 = .4; // trajectory\n        \nconst vec2 d0 = vec2(dx0, sqrt(1. - dx0 * dx0)) * offset;\nconst vec2 d1 = vec2(dx1, sqrt(1. - dx1 * dx1)) * offset;\n\nfloat line(vec2 p0, vec2 p1, vec2 coord) {\n    float proj = clamp(dot(coord - p0, p1 - p0) / dot(p1 - p0, p1 - p0), 0., 1.);\n    float dist = length(coord - mix(p0, p1, proj));\n    return clamp(1.5 - dist, 0., 1.);\n}\n\nvec3 colorize(float time) {\n    vec3 color = floor(time / repeat) / colors + vec3(0., .33, .67);\n    return clamp(abs(mod(color, 1.) * 3. - 1.5) - .25, 0., 1.);\n}\n\nvec2 triangle(vec2 delta) {\n    return abs(mod(delta, 2. * iResolution.xy) - iResolution.xy);\n}\n\nvec3 render(float time, vec2 coord) {\n    vec2 p0 = triangle(d0 * time);\n    vec2 p1 = triangle(d1 * time);\n    return line(p0, p1, coord) * colorize(time);\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    float time = floor(iTime * framerate);\n    vec3 color = vec3(0.);\n    color = max(color, render(time + 0., fragCoord));\n    color = max(color, render(time + 1., fragCoord));\n    color = max(color, render(time + 2., fragCoord));\n    color = max(color, render(time + 3., fragCoord));\n    color = max(color, render(time + 4., fragCoord));\n    color = max(color, render(time + 5., fragCoord));\n    color = max(color, render(time + 6., fragCoord));\n    color = max(color, render(time + 7., fragCoord));\n    fragColor = vec4(color, 1.);\n}\n","name":"Image","description":"","type":"image"}]}