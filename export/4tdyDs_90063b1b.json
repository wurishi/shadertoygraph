{"ver":"0.1","info":{"id":"4tdyDs","date":"1534688255","viewed":132,"name":"stegoBG","username":"nyu","description":"background code for https://git.psychoscientists.com/stegOS/stegocute","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["waves"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define SPEED 0.03\n#define ENABLEAA\n\nvec3 hsv2rgb(in vec3 c)\n{\n    vec3 rgb = clamp( abs(mod(c.x*6.0+vec3(0.0,4.0,2.0),6.0)-3.0)-1.0, 0.0, 1.0 );\n\n\trgb = rgb*rgb*(3.0-2.0*rgb); // cubic smoothing\t\n\n\treturn c.z * mix( vec3(1.0), rgb, c.y);\n}\n\nvec3 rgb2hsv(vec3 c)\n{\n    vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\n    vec4 p = mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g));\n    vec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r));\n\n    float d = q.x - min(q.w, q.y);\n    float e = 1.0e-10;\n    return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);\n}\n\nfloat wave(vec2 uv, vec2 offset){\n    uv.y += (sin(((uv.x + (iTime * SPEED) + offset.x) / 1.0) * 4.0) / 12.0) - offset.y;\n\treturn uv.y;\n}\n\nfloat cylinder(vec2 uv, vec3 offset) {\n    float w = 1.0 - smoothstep(wave(uv, offset.xy), 0.0, 0.02);\n    offset.y += offset.z;\n    w += 1.0 - smoothstep(wave(uv, offset.xy), 0.02, 0.0);\n    return w;\n}\n\nfloat tubes(vec2 uv) {\n    float w = cylinder(uv, vec3(0.0, 0.3, 0.4));\n    w += cylinder(uv, vec3(0.2 + iTime / 30.0, 0.5, 0.4));\n    w += cylinder(uv, vec3(0.4 + iTime / 40.0, 0.1, 0.4));\n    return w;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord) {\n    vec2 uv = fragCoord/iResolution.xy;\n    float w = tubes(uv);\n    #ifdef ENABLEAA\n    float v = tubes(uv + vec2(0.0, 0.002));\n    w = mix(v, w, 0.5);\n    #endif\n    \n    vec3 bg = mix(vec3(0.05,0.05,0.3), vec3(0.1,0.65,0.85), (uv.x + (1.0 - uv.y))*0.55);\n    //vec3 col = mix(bg, vec3(1.0,1.0,1.0), w);\n    vec3 hsvbg = rgb2hsv(bg);\n    hsvbg.x += iTime / 45.0;\n\n    vec3 col = hsv2rgb(hsvbg) + vec3(0.2) * w;\n    \n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}