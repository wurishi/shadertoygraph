{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[{"channel":0,"type":"music","id":"4dfGzn","filepath":"/media/a/ec8a6ea755d34600547a5353f21f0a453f9f55ff95514383b2d80b8d71283eda.mp3","sampler":{"filter":"linear","wrap":"clamp","vflip":"false","srgb":"false","internal":"byte"}}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tconst float fxFadeLength = 200.0;\n\tconst float fxFadeStart = 80.0;\n\tconst vec3 colBGIn = vec3(0.2,0.25,0.5);\n\tconst vec3 colBGOut = vec3(0.5,0.1,0.1);\n\tconst vec3 colSphereIn = vec3(0.001,0,0);\n\tconst vec3 colSphereOut = vec3(0,0,0);\n\tconst float edgeSmooth = 0.015;\n\t\n\t\n\tvec3 o;\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n\tfloat aspect = iResolution.x / iResolution.y;\n\t\n\t//BG\n\tfloat vol = texture(iChannel0, vec2(0.1,0.1)).x;\n\tvec2 vec = uv - 0.5;\n\tvec.x *= aspect;\n\tfloat len = length(vec);\n\tvec3 colBG = mix(colBGIn, colBGOut, len * vol);\n\tvol *= vol * 2.0;\n\to = colBG * vol;\n\t\n\t//SPHERES\n\tfloat prog = 0.3 * clamp((iTime - fxFadeStart) / fxFadeLength, 0.0, 1.0);\n\t\n\tfor(float x = 0.1; x<1.0; x+=0.2)\n\t{\n\t\tfor(float y = 0.05; y<1.0; y+=0.1)\n\t\t{\n\t\t\tvec2 pos = vec2(abs(y-0.5),abs(x-0.5));\n\t\t\tvec2 vol2 = texture(iChannel0, pos).xy;\n\t\t\tvol = vol2.x * vol2.y;\n\t\t\tvol *= vol;\n\t\t\t\n\t\t\tvec2 add = vec2(prog,0.0);\n\t\t\tfloat time = vol * 5.0 + x * y * iTime * prog;\n\t\t\tmat2 rot = mat2(cos(time),-sin(time),sin(time),cos(time));\n\t\t\tadd *= rot;\n\t\t\t\n\t\t\tpos = add + vec2(x,y);\n\t\t\tvec2 vec = vec2(pos.x + ((pos.x-0.5)* vol * 0.05), pos.y);\n\t\t\tvec = uv - vec;\n\t\t\tvec.x *= aspect;\n\t\t\tfloat len = length(vec);\n\t\t\t\n\t\t\t//SPHERE\n\t\t\tfloat sphereRadius = 0.5 * vol-0.03;\n\t\t\tfloat a = 1.0 - smoothstep(sphereRadius, sphereRadius + edgeSmooth + prog * 0.2, len) - prog * 2.5;\n\t\t\ta = max(a,0.0);\n\t\t\to += vec3(a, a * 0.3, a * 0.1);\n\t\t\t\n\t\t\t//SPHERE GLOW\n\t\t\tsphereRadius += 0.05;\n\t\t\ta = 1.0 - smoothstep(sphereRadius, sphereRadius + 0.1, len) - prog * 1.0;\n\t\t\ta = max(a,0.0);\n\t\t\to += vec3(a, a * 0.3, a * 0.1) * 0.4 * vol;\n\t\t}\n\t}\n\t\n\to.rg += vol * 0.5;\n\to = (o-0.5) * 1.1 + 0.5;\n\tfragColor.rgb = o;\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"lsX3Wn","date":"1367061687","viewed":1070,"name":"osmo","username":"ahi","description":"-----","likes":31,"published":1,"flags":0,"usePreview":0,"tags":["circles","visualizer","loop","noob"],"hasliked":0,"parentid":"","parentname":""}}