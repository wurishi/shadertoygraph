{"ver":"0.1","info":{"id":"mts3z4","date":"1671458224","viewed":83,"name":"CMYK Trippy Carpet","username":"HaleyHalcyon","description":"a","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["a"],"hasliked":0,"parentid":"DdSSWG","parentname":"CMYK Trippy Wallpaper"},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define TURN 6.283185\n#define HEX(x) vec3((ivec3(x) >> ivec3(16, 8, 0)) & 255) / 255.\n\nfloat smootherstep(float low, float high, float t) {\n    t = (t - low) / (high - low);\n    t = clamp(t, 0., 1.);\n    return t * t * t * (t * (t * 6. - 15.) + 10.);\n}\n\nvec3 color(float x, float smoothing) {\n    float factor = mod(floor(x * 16.) / 16., 4.0);\n    float f0 = smootherstep(0., 0. + smoothing, factor);\n    float f1 = smootherstep(1., 1. + smoothing, factor);\n    float f2 = smootherstep(2., 2. + smoothing, factor);\n    float f3 = smootherstep(3., 3. + smoothing, factor);\n    return (\n        HEX(0x009BE8) * (f0 - f1) +\n        HEX(0xEB0072) * (f1 - f2) +\n        HEX(0xfff100) * (f2 - f3) +\n        HEX(0x010a31) * (f3 - f0 + 1.)\n    );\n}\n\nfloat parity(vec2 uv) {\n     return mod(floor(uv.x) + floor(uv.y), 2.);\n}\n\nfloat spiral(float r, float theta, float t) {\n    return (r * 6. + theta * 4. + t) * 4.;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float t = fract(iTime / 4.);\n    \n    // not a const\n    float scale = iResolution.y;\n    //float scale = 480.;\n    vec2 uv = (2. * fragCoord - iResolution.xy) / scale;\n    uv *= 3.;\n    uv = mix(\n        abs(uv),\n        abs(uv.yx),\n        parity(sign(uv) * 0.5)\n    );\n   \n    vec2 uvTile0 = fract(uv);\n    vec2 uvTile1 = fract(-uv);\n    \n    vec2 rt0 = vec2(length(uvTile0), atan(uvTile0.y, uvTile0.x) / TURN);\n    vec2 rt1 = vec2(length(uvTile1), atan(uvTile1.y, uvTile1.x) / TURN);\n    \n    float sm00th = 0.;\n    \n    float layer = smoothstep(-sm00th, sm00th, rt0.x - 1.0);\n    \n    vec3 col0 = color(\n        spiral(rt0.x, rt0.y, t + 0.5 * parity(uv)), sm00th * 48.\n    );\n    \n    vec3 col1 = color(\n        spiral(-rt1.x, 0., 0.5 + t + 0.5 * parity(uv)), sm00th * 48.\n    );\n    \n\n    // Output to screen\n    fragColor = vec4(\n        mix(col0, col1, layer),\n        1.0\n    );\n}","name":"Image","description":"","type":"image"}]}