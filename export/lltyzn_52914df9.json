{"ver":"0.1","info":{"id":"lltyzn","date":"1531488567","viewed":134,"name":"Lights walk with a light step","username":"eqs","description":":-)","likes":6,"published":1,"flags":0,"usePreview":0,"tags":["light"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\n#define PI 3.14159265359\n#define SCALE 4.0\n\nvec3 color1 = vec3(0x44, 0x4B, 0xFF) / 255.0;\nvec3 color2 = vec3(0x44, 0xAF, 0xFF) / 255.0;\nvec3 color3 = vec3(0x03, 0xD1, 0xAB) / 255.0;\n\nvec3 rgb2hsb( in vec3 c ){\n    vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\n    vec4 p = mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g));\n    vec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r));\n    float d = q.x - min(q.w, q.y);\n    float e = 1.0e-10;\n    return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);\n}\n\n//  Function from IÃ±igo Quiles\n//  https://www.shadertoy.com/view/MsS3Wc\nvec3 hsb2rgb( in vec3 c ){\n    vec3 rgb = clamp(abs(mod(c.x*6.0+vec3(0.0, 4.0, 2.0), 6.0)-3.0)-1.0, 0.0, 1.0 );\n    rgb = rgb*rgb*(3.0-2.0*rgb);\n    return c.z * mix(vec3(1.0), rgb, c.y);\n}\n\nfloat circle(in vec2 pt, in float radius) {\n    float r = length(pt);\n    return smoothstep(r-0.04, r+0.04, radius);\n}\n\nmat2 rotate(in float angle) {\n    return mat2(cos(angle), -sin(angle),\n                sin(angle),  cos(angle));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n    \n    vec2 xy = ( fragCoord - .5* iResolution.xy) / iResolution.y;\n    \n    xy = rotate(PI / 3.0 - PI / 4.0 * sin(iTime * 0.3)) * xy;\n    xy = xy + fract(iTime * 0.15);\n    \n    vec2 pt = fract(xy * SCALE) - 0.5;\n    vec2 ij = floor(xy * SCALE);\n    \n    vec3 col = vec3(0.0);\n    for (int k = 0; k < 60; k++) {\n        vec2 x = pt;\n        vec3 c;\n        x = rotate(2.0*PI / 60.0 * float(k) + radians(iTime*80.0)) * x;\n        \n        float m = mod(float(k), 3.0);\n        float n = mod(ij.x + ij.y, 3.0);\n        float p = mod(ij.x + ij.y, 2.0) == 0.0 ? PI / 2.0: 0.0;\n        \n        if (m == 0.0) {\n        \tx = x + vec2(0.45 * sin(iTime+p), 0.0);\n        } else if (m == 1.0) {\n            x = x + vec2(0.45 * sin(iTime+0.5*PI/3.0+p), 0.0);\n        } else {\n            x = x + vec2(0.45 * sin(iTime+1.0*PI/3.0+p), 0.0);\n        }\n        \n        if (n == 0.0) {\n            c = rgb2hsb(color1);\n        } else if (n == 1.0) {\n            c = rgb2hsb(color2);\n        } else {\n            c = rgb2hsb(color3);\n        }\n        \n        float f = circle(x, 0.05);\n        c.b = c.b * f;\n        c.g = c.g * (1.0 - f);\n        c = hsb2rgb(c);\n    \tcol = col + c;\n    }\n\n    // Output to screen\n    fragColor = vec4(col, 1.0);\n}","name":"Image","description":"","type":"image"}]}