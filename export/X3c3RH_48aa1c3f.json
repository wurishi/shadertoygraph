{"ver":"0.1","info":{"id":"X3c3RH","date":"1716049897","viewed":51,"name":"Very Epic Audio Visualiser","username":"Calcilore","description":" ","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["2d","audio","cool"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGzn","filepath":"/media/a/ec8a6ea755d34600547a5353f21f0a453f9f55ff95514383b2d80b8d71283eda.mp3","previewfilepath":"/media/ap/ec8a6ea755d34600547a5353f21f0a453f9f55ff95514383b2d80b8d71283eda.mp3","type":"music","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.1415926535897932384626433832795\n#define TAU (PI*2.0)\n\nvec3 erpColor(float v) {\n    v += 0.3;\n    return vec3(0.7, 0.7, 0.7);\n    return mix(vec3(0.0, 0.6, 0.6), vec3(0.7, 0.2, 0.0), v);\n    // return mix(vec3(1.0, 1.0, 1.0), vec3(0.0, 0.0, 0.0), v);\n}\n\nvec3 line(vec2 fragCoord) {\n    vec2 uv = fragCoord/iResolution.xy;\n    uv.y *= 4.0;\n\n    float vol = texture(iChannel0, vec2(uv.x, 0)).r;\n    \n    if (vol > uv.y) {\n        return erpColor(uv.y);\n        // return erpColor(vol);\n    } else {\n        vol = 0.0;\n    }\n    // vol = 1.0 - uv.y + sin(vol);\n\n    // Output to screen\n    return vec3(0.01, 0.0, 0.0);\n}\n\nvec3 circle(vec2 fragCoord) {\n    vec2 uv = (fragCoord - iResolution.xy / 2.0)/iResolution.y;\n    uv.y -= 0.15;\n\n    // get distance\n    float dis = sqrt(uv.x*uv.x + uv.y*uv.y);\n    \n    // get angle\n    float angle = (atan(uv.x, uv.y) + PI)/TAU*2.0;\n    if (angle > 1.0) {\n        angle = 2.0 - angle;\n    }\n    \n    // get volume\n    float vol = texture(iChannel0, vec2(angle, 0)).r;\n    // vol += 0.1;\n    \n    // Scaling\n    dis *= 2.5;\n    \n    if (dis < vol) {\n        return erpColor(dis);\n        // return erpColor(vol);\n    } else {\n        vol = 0.0;\n    }\n    \n    return vec3(0.0, 0.0, 0.0);\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    fragColor = vec4(line(fragCoord) + circle(fragCoord), 1.0);\n}\n","name":"Image","description":"","type":"image"}]}