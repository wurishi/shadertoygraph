{"ver":"0.1","info":{"id":"XtKGWm","date":"1475001616","viewed":395,"name":"Dragon curve","username":"rory618","description":"Unusual way to generate the Dragon curve, based on a popular gif:\nhttps://giphy.com/gifs/math-dragon-curve-DgSuJu57mua4g","likes":4,"published":1,"flags":32,"usePreview":0,"tags":["2d","multipass"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n\tfragColor = texture(iChannel0,uv);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"#define sqr(x) step(fract(x-.5),vec2(.5))\n/*//Slow draw\nvoid mainImage( out vec4 c, in vec2 z )\n{\n    int f=iFrame;\n    float t=float(f/9);\n    vec2 r=iResolution.xy;\n    c=vec4(z.y<.5*r.y&&f==0)+texture(iChannel0, //if first frame draw white half, otherwise sample A\n    (z+vec2((f/9!=(f-1)/9))/pow(2.,t-8.)*\t\t  //offset sample by exponentially decreasing value every 9th frame\n    (vec2(1,0)-sqr(vec2(t)/2.+.2))\t\t\t\t  //(1,0) or (0,-1) alternating\n    *(.5-sqr((z.yx-.5*r.yx)*pow(2.,t-9.))))/r);   //zigzag pattern, getting exponentially finer\n}\n//*/\n\n//*//Fast draw\nvoid mainImage( out vec4 c, in vec2 z )\n{\n    int f=iFrame;\n    float p=pow(2.,float(f)-8.);\n    vec2 r=iResolution.xy;\n    c=vec4(z.y<.5*r.y&&f==0)+texture(iChannel0, \n    (z+(vec2(1,0)-sqr(vec2(f)/2.+.2))/p\n    *(.5-sqr((z.yx-.5*r.yx)*p/2.)))/r);\n}\n//*/","name":"Buf A","description":"","type":"buffer"}]}