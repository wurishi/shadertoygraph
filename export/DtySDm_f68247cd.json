{"ver":"0.1","info":{"id":"DtySDm","date":"1686127885","viewed":91,"name":"volume_visualiser","username":"ShadowedNinja","description":"bad","likes":1,"published":1,"flags":4,"usePreview":0,"tags":["sound"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XdXGRr","filepath":"/presets/mic.png","previewfilepath":"/presets/mic.png","type":"mic","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float getAmp(float frequency) { return texture(iChannel0, vec2(frequency / 512.0, 0)).x; }\n\nfloat getWeight(float f) {\n    return (+ getAmp(f-2.0) + getAmp(f-1.0) + getAmp(f+2.0) + getAmp(f+1.0) + getAmp(f)) / 5.0; }\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n\tvec2 pos = (uv.xy-0.5);\n    \n    float vol = getWeight((iTime));\n\n    float radius = 2. * (1./vol);\n    \n\tvec2 cir = ((pos.xy*pos.xy+sin(uv.x*18.0+iTime)/25.0*sin(uv.y*7.0+iTime*1.9)/1.0)+uv.x*sin(iTime)/16.0+uv.y*sin(iTime*.2 + uv.x)/16.0);\n\tfloat circles = (sqrt(abs(cir.x+cir.y*0.5)*2.0)*radius);\n    vec3 col = vec3(sin(circles*1.25+2.0),abs(sin(circles*1.0-1.0)-sin(circles)),abs(sin(circles)*1.0));\n\t\n    vec3 greyScale = vec3(.5, .5, .1);\n    \n    col = vec3((dot(col, greyScale)));\n   \n    col = vec3((smoothstep(0.5,2.0, pow(col, vec3(1.5))* 2.)));\n    //col = vec3(smoothstep(1.0, 0.5, col));\n\n    greyScale = vec3(.05, .1, .1);\n    col = vec3((dot(col, greyScale) + 0.15));\n    \n    col *= vec3(1.3, 1.5, 2.0) * vec3(1.);\n\n    col = vec3(mix(vec3(0.1,0.1,0.15), col + vec3(0.4,0.4,.4), col));\n    \n    fragColor = vec4((col) ,1.0);\n}","name":"Image","description":"","type":"image"}]}