{"ver":"0.1","info":{"id":"MlGGDW","date":"1474613078","viewed":503,"name":"Quantum Fluid","username":"rory618","description":"I was working on particles and I got this weird effect by letting it interpolate between particles. Use the mouse to push away fluid.","likes":28,"published":1,"flags":32,"usePreview":0,"tags":["2d","multipass"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec4 hash44(vec4 p4)\n{\n\tp4 = fract(p4  * vec4(1031, .1030, .0973, .1099));\n    p4 += dot(p4, p4.wzxy+19.19);\n    return fract(vec4((p4.x + p4.y)*p4.z, (p4.x + p4.z)*p4.y, (p4.y + p4.z)*p4.w, (p4.z + p4.w)*p4.x));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n\tfragColor = vec4(0,0,0,1);//texture(iChannel0,uv);\n    for(int x = 0; x < 8 ; x++){\n        vec2 tl = (fragCoord.xy+5.*sin(hash44(vec4(fragCoord.xy,iFrame,x)).xy) ) \n                           / iResolution.xy;\n        vec4 c = texture(iChannel0, tl  );\n        vec4 b = texture(iChannel1, tl);\n        if(c.xy !=vec2( 0.) ) {\n            fragColor.xyz += vec3(.2)*b.xyz;\n        }\n    }\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"bool isIn(vec2 mn, vec2 mx, vec2 t){\n    //return mn.x<t.x && t.x<mx.x && mn.y<t.y && t.y<mx.y;\n    return length(t-.5*mn-.5*mx) < 1.8;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 mn = (fragCoord-vec2(.5));\n    vec2 mx = (fragCoord+vec2(.5));\n    vec4 state_a = texture(iChannel0, fragCoord/iResolution.xy);\n    vec4 state_b = texture(iChannel1, fragCoord/iResolution.xy);\n    if(!isIn( mn, mx , state_a.xy)){\n        state_a = vec4(0);\n    }\n    for(int x = -3; x <= 3 ; x++){\n        for(int y = -3; y <= 3 ; y++){\n        \tvec4 ostate_a = texture(iChannel0, (fragCoord+1.1*vec2(x,y))/iResolution.xy);\n        \tvec4 ostate_b = texture(iChannel1, (fragCoord+1.1*vec2(x,y))/iResolution.xy);\n            if(isIn( mn, mx ,ostate_a.xy*iResolution.xy+ostate_a.zw)){\n                state_a = ostate_a;\n            }\n    \t}\n    }\n    state_a.xy+=(state_a.zw)/iResolution.xy;\n    \n    state_a.zw +=  (5./pow(3.+length(fragCoord.xy-iMouse.xy),1.5))*normalize(fragCoord.xy-iMouse.xy);\n    \n    fragColor = state_a;\n    \n    if(iFrame < 1){\n        fragColor = vec4(0);\n    }\n    \n    if(length(fragCoord-iResolution.xy/2.)<=4.){\n    \tfragColor = vec4(fragCoord/iResolution.xy,vec2(1.0*cos(4.*iTime),1.0*sin(4.*iTime) )) ;\n    }\n    \n    if(length(fragCoord-iMouse.zw)<=4.){\n    \tfragColor = vec4(fragCoord/iResolution.xy,vec2(1.0*cos(4.*iTime),1.0*sin(4.*iTime) )) ;\n    }\n}","name":"Buf A","description":"","type":"buffer"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"XsXGR8","channel":0}],"code":"bool isIn(vec2 mn, vec2 mx, vec2 t){\n    //return mn.x<t.x && t.x<mx.x && mn.y<t.y && t.y<mx.y;\n    return length(t-.5*mn-.5*mx) < 1.8;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 mn = (fragCoord-vec2(.5));\n    vec2 mx = (fragCoord+vec2(.5));\n    vec4 state_a = texture(iChannel0, fragCoord/iResolution.xy);\n    vec4 state_b = texture(iChannel1, fragCoord/iResolution.xy);\n    if(!isIn( mn, mx , state_a.xy)){\n        state_a = vec4(0);\n    }\n    for(int x = -3; x <= 3 ; x++){\n        for(int y = -3; y <= 3 ; y++){\n        \tvec4 ostate_a = texture(iChannel0, (fragCoord+1.1*vec2(x,y))/iResolution.xy);\n        \tvec4 ostate_b = texture(iChannel1, (fragCoord+1.1*vec2(x,y))/iResolution.xy);\n            if(isIn( mn, mx ,ostate_a.xy*iResolution.xy+ostate_a.zw)){\n                state_b = ostate_b;\n            }\n    \t}\n    }\n    \n    fragColor = state_b;\n    \n    if(iFrame < 1){\n        fragColor = vec4(0);\n    }\n    if(length(fragCoord-iResolution.xy/2.)<=4.){\n    \tfragColor = vec4(.5+.5*sin(iTime*vec3(.1,.2,.3)),1.) ;\n    }\n    \n    if(length(fragCoord-iMouse.zw)<=4.){\n    \tfragColor = vec4(.5+.5*sin(iTime*vec3(.5,.4,.3)),1.) ;\n    }\n}","name":"Buf B","description":"","type":"buffer"}]}