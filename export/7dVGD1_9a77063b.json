{"ver":"0.1","info":{"id":"7dVGD1","date":"1631520004","viewed":122,"name":"Pixel Grass","username":"Dmitrius","description":"in the future adding weather ","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["pixel","grass"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float random(float p) {\n  p = fract(p * .1031);\n  p *= p + 100./3.;\n  p *= p*2.;\n  return fract(p);\n}\n\n\nfloat Tnoise(vec2 p, float t) {\n  float x = p.x/10.;\n  float y = p.y*100.;\n  return random(x + y + t);\n}\n\nfloat pixelTNoise(vec2 p, float t) {\n  return Tnoise(floor(p), t);\n}\n\nfloat noise(vec2 p){\n  float x = p.x;\n  float y = p.y*100.;\n  return random(x + y);\n}\n\nfloat pixelNoise(vec2 p) {\n  return noise(floor(p));\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    bool isRain = false;\n    float startRain = 10.;\n    float finishRain = 100.;\n    \n    vec2 p = (fragCoord / 5.) - 70.;\n    vec2 rp = p + mod(iTime*100.,100.);\n    \n    float speed = 1.;\n    float t = floor(iTime * speed);\n    float curent = pixelTNoise(p, t);\n    float next = pixelTNoise(p, t + 1.);\n    float Ft = mod(iTime * 100., 100.);\n    float diff = next - curent;\n    float F = curent + ((diff/100.)*Ft);\n    \n    float rain = floor(pixelNoise(rp)*100.);\n    rain = 1. - rain;\n    vec4 RV = vec4(rain,rain,rain,1.);\n    vec4 Rv = vec4(0.7,0.7,0.7, 1.);\n    \n    float Wt = 50. - (iTime - startRain);\n    float Wf = pixelNoise(p);\n    float wet = floor(Wf*Wt) - (iTime - startRain);\n    wet =(wet >= 0. && wet <= 1.)? 1. - wet: (wet > 1.)? 0. : 1. ;\n    vec4 WV = vec4(Wf,Wf,Wf,1.);\n    WV += 0.3;\n    vec4 Wv = vec4(wet,wet,wet,1.);\n    \n    vec3 Fv = vec3(F,F,F);\n    vec3 col = vec3(4.,0.5,50.);\n    Fv += 0.1;\n    Fv = 1. - Fv * col;\n    \n    \n    vec4 o = vec4(Fv, 0.);\n    if(isRain)\n    {\n        if(wet > 0.)\n        {\n            o = 1. - WV * vec4(col, 1.);\n        }\n        if(rain == 1.)\n        {\n            o = Rv;\n        }\n    }\n    // Output to screen\n    fragColor = o;\n}","name":"Image","description":"","type":"image"}]}