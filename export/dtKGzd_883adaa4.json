{"ver":"0.1","info":{"id":"dtKGzd","date":"1684690482","viewed":22,"name":"@-@","username":"shorokhova_angelina","description":"-","likes":1,"published":1,"flags":0,"usePreview":0,"tags":[],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const int n = 2; // число фигур\nvec3 colAr[n] = vec3[n](vec3(0.1,1.0,0.1),vec3(1.0, 0.0,0.0));\nvec3 BGcol = vec3(0.0, 0.0, 0.0); // цвет фона\nfloat zAr[n] = float[n](3.0,4.0); // z-координаты плоских фигур\nint inds[n] = int[n](0,7); // массив индексов\nconst int m = 10; // число вершин\nvec2 polygons[m]=vec2[m](vec2(0.2,0.2),vec2(0.35,0.2),vec2(0.45,0.4),vec2(0.35,0.6),vec2(0.2,0.6),vec2(0.1,0.4),vec2(0.45,0.25),vec2(0.6,0.55),vec2(0.75,0.25),vec2(0.76,0.4));\n\nvoid initPolygons(vec2 uv){ \npolygons[0]=vec2(0.3*cos(iTime)+0.5,0.2+0.3*sin(iTime));\npolygons[1]=vec2(0.3*cos(iTime)+0.65,0.2+0.3*sin(iTime));\npolygons[2]=vec2(0.3*cos(iTime)+0.75,0.4+0.3*sin(iTime));\npolygons[3]=vec2(0.3*cos(iTime)+0.65,0.6+0.3*sin(iTime));\npolygons[4]=vec2(0.3*cos(iTime)+0.5,0.6+0.3*sin(iTime));\npolygons[5]=vec2(0.3*cos(iTime)+0.4,0.4+0.3*sin(iTime));\n\npolygons[7]=vec2(0.4*cos(2.*iTime)-0.05*sin(2.*iTime)+0.5,0.5+0.6*sin(2.*iTime)+0.1*cos(2.*iTime));\npolygons[6]=vec2(0.1*cos(2.*iTime)-0.05*sin(2.*iTime)+0.5,0.5+0.3*sin(2.*iTime)+0.1*cos(2.*iTime));\npolygons[8]=vec2(0.25*cos(2.*iTime)-0.35*sin(2.*iTime)+0.5,0.5+0.45*sin(2.*iTime)+0.4*cos(2.*iTime));\npolygons[9]=vec2(0.26*cos(2.*iTime)-0.35*sin(2.*iTime)+0.53,0.65+0.45*sin(2.*iTime)+0.4*cos(2.*iTime));\n}\n\nbool inSphere(in vec2 uv,in vec2 move_of_center,in float r){ \nfloat d =length( uv - move_of_center - vec2(.5,.5) )-r;\n  if (d<0.0) return true; \n  return false;\n}\n\nfloat LeftTurn(vec2 v1, vec2 v2, vec2 v3){\nfloat d=(v2.x-v1.x)*(v3.y-v1.y)-(v3.x-v1.x)*(v2.y-v1.y);\n    if (d<0.0) return -1.0;\n    if (d==0.0) return 0.0;\n    return 1.0;\n} \n\n\nbool inPolygon1(int num, vec2 p) {\nvec2 a=polygons[0];\nvec2 b=polygons[1];\nvec2 c=polygons[2];\nvec2 d=polygons[3];\nvec2 e=polygons[4];\nvec2 f=polygons[5];\nif((LeftTurn(a,b,p)>0.0)&& (LeftTurn(b,c,p)>0.0)&&(LeftTurn(c,d,p)>0.0)&&(LeftTurn(d,e,p)>0.0)&&(LeftTurn(e,f,p)>0.0)&&(LeftTurn(f,a,p)>0.0)) return true;\nreturn false;\n}\nbool inPolygon2(int num, vec2 p) {\nvec2 a=polygons[6];\nvec2 b=polygons[7];\nvec2 c=polygons[8];\nif((LeftTurn(a,b,p)>0.0)&& (LeftTurn(b,c,p)>0.0)&&(LeftTurn(c,a,p)>0.0)) return true;\nreturn false;\n}\nbool inPolygon3(int num, vec2 p) {\nvec2 a=polygons[6];\nvec2 b=polygons[7];\nvec2 c=polygons[9];\nif((LeftTurn(a,b,p)>0.0)&& (LeftTurn(b,c,p)>0.0)&&(LeftTurn(c,a,p)>0.0)) return true;\nreturn false;\n}\nbool inPolygon4(int num, vec2 p) {\nvec2 a=polygons[6];\nvec2 b=polygons[8];\nvec2 c=polygons[9];\nif((LeftTurn(a,b,p)>0.0)&& (LeftTurn(b,c,p)>0.0)&&(LeftTurn(c,a,p)>0.0)) return true;\nreturn false;\n}\nbool inPolygon5(int num, vec2 p) {\nvec2 a=polygons[7];\nvec2 b=polygons[9];\nvec2 c=polygons[8];\nif((LeftTurn(a,b,p)>0.0)&& (LeftTurn(b,c,p)>0.0)&&(LeftTurn(c,a,p)>0.0)) return true;\nreturn false;\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ){\n \n    vec2 uv = fragCoord/iResolution.xy;\n    vec3 col=BGcol;\n    initPolygons(uv);\n    vec2 m = vec2(cos(iTime)*0.4, sin(2.*iTime)*0.2-0.3);\n    vec2 m1 = vec2(sin(2.*iTime)*0.2-0.3,cos(iTime)*0.4);\n    vec2 m2 = vec2(sin(2.*iTime)*0.2+0.3,sin(iTime)*0.4);\n    if ((inSphere(uv,m,0.03))||(inSphere(uv,m1,0.02))||(inSphere(uv,m2,0.05))) col=vec3(cos(0.9*iTime)*uv.x+0.3, sin(0.9*iTime)*uv.y+0.3,0.1*uv.y);\n    if (inPolygon1(0,uv)) col=colAr[1];\n    else if (inPolygon2(0,uv)) col=colAr[0];//зелёный\n    else if (inPolygon4(0,uv)) col=vec3(0.8, 0.0, 0.5);//фиолетовый\n    else if (inPolygon5(0,uv)) col=vec3(0.7, 0.7, 0.7);//серый\n    else if (inPolygon3(0,uv)) col=vec3(0.1, 1.0, 0.8); //голубой\n\n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n    \n   // else if (inPolygon5(0,uv)) col=vec3(0.1, 0.0, 0.6);\n    \n    fragColor = vec4(col,1.0);\n}\n","name":"Image","description":"","type":"image"}]}