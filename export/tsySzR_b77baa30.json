{"ver":"0.1","info":{"id":"tsySzR","date":"1573213931","viewed":161,"name":"Another audio input","username":"zodiax","description":"Playing with the music input","likes":4,"published":1,"flags":64,"usePreview":0,"tags":["audio"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"MtlGWf","filepath":"https://soundcloud.com/kacper-haligowski/strachy-na-lachy-czarny-chleb","previewfilepath":"https://soundcloud.com/kacper-haligowski/strachy-na-lachy-czarny-chleb","type":"musicstream","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":0}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define _PI 3.141592\n\nfloat GatherSoundInfo(int SampleWished)// 0 - 512\n{\n    return texelFetch(iChannel0, ivec2(float(SampleWished), 0), 0).r;\n}\n\nfloat straight(vec2 A, vec2 B, vec2 uv, vec2 center, float pica)\n{\n    float pix = pica/2.1/iResolution.y;\n    float o = (A.y-B.y)/(A.x-B.x);\n    float g = A.y - (o *A.x);\n    float r = smoothstep(pix,-pix,distance(uv.y,o*uv.x + g));\n   \treturn r;\n}\n\nfloat nGon(vec2 uv, int pointsCount, vec2 center, float rad, float pica)\n{\n    \n    \tvec2 p0 = vec2(rad,rad)+center;\n    \tvec2 p;\n    \tfloat r = 1.;\n    \n        for(int i=0;i<pointsCount+1;i++)\n        \t{\n                p = center + rad* vec2(sin(_PI*2./float(pointsCount)*float(i)),cos(_PI*2./float(pointsCount)*float(i)));\n         \n                r += straight(p0,p,uv, center, pica);\n                p0 = p;\n            }\t\n    \n    return r;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord-vec2(iResolution.xy/2.))/iResolution.y;\n    vec3 diff = vec3(1.0,0.3,0.3);\n    int sides;\n    float colT = 0.; \n    int number = 6;\n    for(int i = 0; i<number; i++)\n    {\n    sides = int(GatherSoundInfo(512/number*(i+1))*40.);\n\tcolT += (nGon(uv,sides,vec2((0.03*cos(float(i)+iTime)),0.1*sin(float(i)+iTime)),0.45-0.02*float(i),float(sides/(number*2)*(number-i+1))))/float(number)-0.001*float(i);\n    }\n    vec3 col = smoothstep(1.,1.02,colT)*diff;\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}