{"ver":"0.1","info":{"id":"MlBSDd","date":"1447326431","viewed":137,"name":"gradient_shader_Test","username":"shanemarks","description":"gradient shader test","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["gradient"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[],"code":"float whiteStreak(vec2 p1, vec2 p2, vec2 point) {\n    float radius =0.2;\n    float AA = 0.1;\n    float a = p1.y-p2.y;\n    float b = p2.x-p1.x;\n    float distance =  abs(a*point.x+b*point.y+p1.x*p2.y-p2.x*p1.y) / sqrt(a*a+b*b);\n    return smoothstep (radius/2.,radius/2.-AA,distance);\n\n}\n\nfloat buildColorRegion(vec2 p1, vec2 p2, vec2 point) {\n    float radius =0.0;\n    float AA = 0.0;\n    float a = p1.y-p2.y;\n    float b = p2.x-p1.x;\n   float  distance = -(a*point.x+b*point.y+p1.x*p2.y-p2.x*p1.y) / sqrt(a*a+b*b);\n    return smoothstep (radius/2.,radius/2.-AA,distance);\n\n}\n\nfloat darkeningGradient (float falloff, in vec2 uv)\n{\n    return pow(uv.y,falloff);\n}\n\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    //constants we need\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    vec4 brownColor = vec4(162.0/255.0,143.0/255.0,100.0/255.0,1.0);\n    vec4 orangeColor = vec4(1.0,154.0/255.0,4.0/255.0,1);\n    vec2 whiteStreakStart = vec2(-1.0,1.0);\n    vec2 whiteStreakEnd = vec2(0.0,-0.0);\n    \n    \n\n    float offset = iMouse.y/iResolution.y;\n    \n    if (iMouse.y == 0.0){\n        offset = abs(sin(iTime/10.0));\n    }\n       \n    \n    float colorRegion =  buildColorRegion(whiteStreakStart+offset,whiteStreakEnd+offset,uv);\n\tvec4 basecolor = mix (brownColor,orangeColor,colorRegion);\n    \n    float streak = whiteStreak (whiteStreakStart+offset,whiteStreakEnd+offset,uv);\n    float gradient = mix(1.0, darkeningGradient(0.2,uv),1.0);\n     \n   // fragColor = vec4(buildColorRegion (whiteStreakStart+offset,whiteStreakEnd+offset,uv));\n    \n\tfragColor =mix (basecolor*gradient,vec4(1),streak) ;\n}\n\n\n\n","name":"","description":"","type":"image"}]}