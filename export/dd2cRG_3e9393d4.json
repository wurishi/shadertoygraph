{"ver":"0.1","info":{"id":"dd2cRG","date":"1687876958","viewed":116,"name":"Dithering Filter/Converter","username":"Prof_redstone","description":"dithering renderer","likes":8,"published":1,"flags":0,"usePreview":0,"tags":["filter"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\n//pass fragCoord, and a value btw 0.0 and 1.0 for the brightness\nfloat ditheringFilter(vec2 uv, float gray){ \n\n    float pixsize = 2.; //nb of screen pixel for 1 pixel\n    \n    float x = floor(uv.x/pixsize);\n    float y = floor(uv.y/pixsize);\n    \n    const float value = 1.0/7.; //split color in range 0. to 1.\n    \n    if(gray < value*1.){ //black\n        return 0.0;\n    }\n    \n    if(gray < value*2.){ //ultra black gray\n        return  mod(x,3.) < 0.99 && mod(y,3.) < 0.99 ? 1.0 : 0.0;  \n    }\n    \n    if(gray < value*3.){ //black gray\n        return mod(x,2.) < 0.99 && mod(y,2.) < 0.99 ? 1.0 : 0.0;  \n    }\n    \n    if(gray < value*4.){ //gray\n        return mod( x + y, 2.) < 1.0 ? 1.0 : 0.0;\n    }\n    \n    if(gray < value*5.){ //white gray\n        return mod(x,2.) < 0.99 && mod(y,2.) < 0.99 ? 0.0 : 1.0;\n    }\n    \n    if(gray < value*6.){ //ultra white gray\n        return mod(x,3.) < 0.99 && mod(y,3.) < 0.99 ? 0.0 : 1.0;\n    }\n    \n    return 1.0;//white\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord / iResolution.y - .5 ; uv.x -= .4 ;\n    \n    float l = mod(length(vec2(uv.x -sin(iTime/2.)/2., uv.y)) + cos(iTime)/2. -0.2 , 1.0);\n    float dith = ditheringFilter(fragCoord, l);\n    \n    fragColor = vec4(dith, dith, dith, 1.0)*0.8;\n    fragColor += vec4(0.2, 0.11, 0, 1.0)*1.0;\n}","name":"Image","description":"","type":"image"}]}