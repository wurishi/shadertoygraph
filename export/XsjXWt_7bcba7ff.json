{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[{"channel":0,"type":"texture","id":"Xsf3zn","filepath":"/media/a/f735bee5b64ef98879dc618b016ecf7939a5756040c2cde21ccb15e69a6e1cfb.png","sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"}},{"channel":1,"type":"texture","id":"XsX3Rn","filepath":"/media/a/92d7758c402f0927011ca8d0a7e40251439fba3a1dac26f5b8b62026323501aa.jpg","sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"}}],"code":"//Changed Galaxy3 by  FabriceNeyret2\n\n//---  Galaxy --- Fabrice NEYRET  august 2013\n\nconst float RETICULATION = 3.;  // strenght of dust texture\nconst float NB_ARMS = 5.;       // number of arms\n//const float ARM = 3.;         // contrast in/out arms\nconst float COMPR = .1;         // compression in arms\nconst float SPEED = .1;\nconst float GALAXY_R = 1./2.;\nconst float BULB_R = 1./4.;\nconst vec3 GALAXY_COL = vec3(.9,.9,1.); //(1.,.8,.5);\nconst vec3 BULB_COL   = vec3(1.,.8,.8);\nconst vec3 SKY_COL    = .5*vec3(.1,.3,.5);\n\t\t\n#define Pi 3.1415927\n\tfloat t;\n\n// --- base noise\nfloat tex(vec2 uv) \n{\n\tfloat n = texture(iChannel0,uv).r;\n\t\n#define MODE 3  // kind of noise texture\n#if MODE==0         // unsigned\n\t#define A 2.\n\treturn n;\n#elif MODE==1       // signed\n\t#define A 3.\n\treturn 2.*n-1.;\n#elif MODE==2       // bulbs\n\t#define A 3.\n\treturn abs(2.*n-1.);\n#elif MODE==3       // wires\n\t#define A 1.5\n\treturn 1.-abs(2.*n-1.);\n#endif\n}\n\n\n// --- perlin turbulent noise + rotation\nfloat noise(vec2 uv)\n{\n\tfloat v=0.;\n\tfloat a=-SPEED*t,\tco=cos(a),si=sin(a); \n\tmat2 M = mat2(co,-si,si,co);\n\tconst int L = 7;\n\tfloat s=1.;\n\tfor (int i=0; i<L; i++)\n\t{\n\t\tuv = M*uv;\n\t\tfloat b = tex(uv*s);\n\t\tv += 1./s* pow(b,RETICULATION); \n\t\ts *= 2.;\n\t}\n\t\n    return v/2.;\n}\n\nbool keyToggle(int ascii) \n{\n\treturn (texture(iChannel2,vec2((.5+float(ascii))/256.,0.75)).x > 0.);\n}\n\nvec4 getColor(vec2 coord)\n{\n\tvec2 uv = (coord.xy-iResolution.xy/2.)/iResolution.y;\n\tvec3 col;\n\t\n\t// spiral stretching with distance\n\tfloat rho = length(uv); // polar coords\n\tfloat ang = atan(uv.y,uv.x);\n\tfloat shear = 2.*log(rho); // logarythmic spiral\n\tfloat c = cos(shear), s=sin(shear);\n\tmat2 R = mat2(c,-s,s,c);\n\n\t// galaxy profile\n\tfloat r; // disk\n\tr = rho/GALAXY_R; float dens = exp(-r*r);\n\tr = rho/BULB_R;\t  float bulb = exp(-r*r);\n\tfloat phase = NB_ARMS*(ang-shear);\n\t// arms = spirals compression\n\tang = ang-COMPR*cos(phase)+SPEED*t;\n\tuv = rho*vec2(cos(ang),sin(ang));\n\t// stretched texture must be darken by d(new_ang)/d(ang)\n\tfloat spires = 1.+NB_ARMS*COMPR*sin(phase);\n\t// pires = mix(1.,sin(phase),ARM);\n\tdens *= .7*spires;\t\n\t\n\t// gaz texture\n\tfloat gaz = noise(.09*1.2*R*uv);\n\tfloat gaz_trsp = pow((1.-gaz*dens),2.);\n\n\t// stars\n\t//float a=SPEED*t, co=cos(a),si=sin(a); \n\t//mat2 M = mat2(co,-si,si,co);\n\t// adapt stars size to display resolution\n\tfloat ratio = .8*iResolution.y/iChannelResolution[0].y;\n\tfloat stars1 = texture(iChannel1,ratio*uv+.5).r, // M*uv\n\t      stars2 = texture(iChannel0,ratio*uv+.5).r,\n\t\t  stars = pow(1.-(1.-stars1)*(1.-stars2),5.);\n\t\n\t//stars = pow(stars,5.);\n\t\n\t// keybord controls (numbers)\n\tif (keyToggle(49)) gaz_trsp = 1./1.7;\n\tif (keyToggle(50)) stars = 0.;\n\tif (keyToggle(51)) bulb = 0.;\n\tif (keyToggle(52)) dens = .3*spires;\n\t\n\t// mix all\t\n\tcol = mix(SKY_COL,\n\t\t\t  gaz_trsp*(1.7*GALAXY_COL) + 1.2*stars, \n\t\t\t  dens);\n\tcol = mix(col, 1.2*BULB_COL, bulb);\n\t\t\n\treturn  vec4(col,1.);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) \n{ \nt = iTime;\n\nvec2 uv = fragCoord.xy;\n    float minVal = min(iResolution.x,iResolution.y);\n    float or = minVal/3.0; \nfloat ir = or/2.0; \nfloat iir= ir+2.0; \nfloat xOrigin = iResolution.x/2.0; \nfloat yOrigin = iResolution.y/2.0; \nvec2 vN = uv-vec2(xOrigin,yOrigin); \nfloat dN = length(vN); \nfloat cosTheta = vN.x/dN; //x=r cos () \nfloat sinTheta = vN.y/dN; //y=r sin () \nfloat d0 = ((dN-ir)*or)/(or-ir); \nvec2 newCoord = vec2(d0*cosTheta+xOrigin,d0*sinTheta+yOrigin); \nif(dN>or) \nfragColor = getColor(uv); \nelse if(dN<iir && dN >ir)\n{\nfragColor = mix(vec4(0,0,0,1),getColor(uv),0.7);\n    fragColor = mix(fragColor,getColor(uv),0.7);\n}   \nelse if(dN<ir)\t\nfragColor = vec4(0,0,0,1); \nelse \nfragColor = getColor(newCoord); \n} ","name":"Image","description":"","type":"image"},{"outputs":[],"inputs":[],"code":"vec2 mainSound( in int samp,float time)\n{\n    return vec2( sin(6.2831*440.0*time)*exp(-3.0*time) );\n}","name":"Sound","description":"","type":"sound"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":true,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"XsjXWt","date":"1417165901","viewed":608,"name":"Black Hole kills Galaxy 2","username":"rakesh111989","description":"Gravitational lensing of Galaxy being killed by its central BlackHole \nAs described in Science of Interstellar (https://www.youtube.com/watch?v=6c_CW3Iv6j4)\nThere is a Blackhole at the centre of each galaxy which MAY kill it one day. ","likes":8,"published":1,"flags":0,"usePreview":0,"tags":["galaxy","stars","cosmos","blackhole","universe","cosmic","gravitationallensing"],"hasliked":0,"parentid":"","parentname":""}}