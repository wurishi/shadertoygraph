{"ver":"0.1","info":{"id":"llVXz1","date":"1483056019","viewed":110,"name":"duck fractal","username":"Marqin","description":"fractals","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["fractal"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\n\nconst float loopTime = 35.0;\nconst float PI = 3.14;\nconst int VIS = 50;\n\n\nvec2 Clog(vec2 a){\n    \n    \tfloat b =  atan(a.y,a.x);\n\tif (b>0.0) b-=2.0* PI;\nreturn vec2(log(length(a)),b);\n //return vec2(log(v.x), log(v.y)); \n}\n\nvec3 color(in vec2 pos, in vec2 position, in float zoom)\n{\n    \n  float tmp = mod(iTime, 2.0*loopTime);\n  if(tmp > loopTime) {\n      tmp = loopTime - abs(loopTime-tmp);\n  }\n  float modifier = (tmp)/500.0;\n  vec2 complex = vec2( 0.36469 + modifier, 5.89285 + modifier);   //vec2(-0.4+modifier, 0.6);\n\n  vec2 z;\n  z.x = 1.5 * pos.x/float(iResolution.x/2.0) - 1.5;\n  z.y = pos.y/float(iResolution.y/2.0) - 1.0;\n  z /= zoom;\n  z += position;\n    \n  float mean = 0.0;\n  int j = 0;\n    \n  float zmax = 0.0;\n  for(int i = 0; i < VIS; i++) {\n     j = i;\n      \n\tz = Clog(vec2(z.x, abs(z.y))); \n    z += complex;\n     \n   float len = length(z);\n      \n   mean += len;\n      \n      if(len > zmax) zmax=len;\n      \n   //   if (len > pow(10.0,2.0)) break;\n      \n  }\n\n  mean /= float(j);\n   // float col = 1.0 - log2(.5*log2(mean/0.5));\n\n   // col = 7.*col;// cos(6.2831*col+0.3);\n    \n    mean = mix(0.0, zmax, mean);\n  float col =  1.0/ mix(0.0,1.0 , mean) ;\n \n  return vec3(col, 1.0, 1.0);\n}\n\nvec3 hsv2rgb(in vec3 c)\n{\n  vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n  vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n  return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\n\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n  vec3 col = hsv2rgb(color( fragCoord.xy, vec2(0.,0.), .1 ));\n  fragColor = vec4(col, 1.0);\n}\n","name":"Image","description":"","type":"image"}]}