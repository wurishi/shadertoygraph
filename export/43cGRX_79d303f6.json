{"ver":"0.1","info":{"id":"43cGRX","date":"1716797157","viewed":62,"name":"Sky Mirror dimension","username":"rohtie","description":"yep","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["raymarch"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float sky(vec3 p) {\n    float offset = floor(p.z / 100.);    \n    \n    p += sin(p.yzx * (5.5 + offset) + iTime * .5) * .4;\n    p += sin(p.yzx * (2.5 + offset) + iTime * .5) * .5;\n    p += cos(p.yzx * (4. + offset) + iTime * .2) * .3;\n    p += cos(p.yzx * (7. + offset) + iTime * .2) * .25;\n    p += p.yzx * sin(iTime) * 0.015;\n\n    vec3 rep = vec3(30., 40., 31.);\n    p = mod(p, rep);\n    p -= rep * .5;\n    \n    \n    p.y *= .37;\n    \n    p = abs(p) - .6;\n    \n\n    return (length(p) - 5.05 + sin(offset * 10.)) * .6;\n}\n\nfloat map(vec3 p) {\n    p.y *= .85;\n    return max(sky(p), abs(p.y) - 15.);\n}\n\nmat2 rotate(float a) {\n    float ap = a * acos(-1.);\n    return mat2(-sin(ap), cos(ap),\n                 cos(ap), sin(ap));\n}\n\nvoid mainImage( out vec4 o, in vec2 fragCoord ) {\n\n    vec2 p = fragCoord/iResolution.xy;\n    p -= 0.5;\n    p /= 0.5;\n    p.x *= iResolution.x / iResolution.y; \n    \n    \n    vec4 skyColor = vec4(0.55 + sin(p.y) * .07, 0.76 + sin(p.x) * .02, 1., 0.);\n    skyColor += abs(p.y) * .23;\n    \n    \n    float dist = 0.0;\n    vec3 cam = vec3(0., 0., 13. + sin(iTime) * .4);\n    vec3 dir = vec3(p, -1.);\n    \n    cam.xz *= rotate(iTime * .1);\n    \n    for (int i=0; i<50; i++) {\n        vec3 p = cam + dir * dist;\n    \n        float tmp = map(p);\n        \n        if (tmp < 0.01) {\n            float cloudMaterial = map(p - vec3(1., .2, 1.));\n            o = vec4(cloudMaterial + smoothstep(.75, 0.0, cloudMaterial)) * .2 + .89 + p.z * skyColor.bgrr * 0.005 - p.z * .0035 - abs(p.y) * .0025;\n            return;\n        }\n        \n        dist += tmp;\n    }\n    \n    \n    o = skyColor;\n\n}","name":"Image","description":"","type":"image"}]}