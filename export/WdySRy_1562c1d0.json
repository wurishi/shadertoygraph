{"ver":"0.1","info":{"id":"WdySRy","date":"1574247715","viewed":99,"name":"Berries !","username":"ReavenTehDerg","description":"Berries for my cutie berry :3","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["heart","berry"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float N21(vec2 p)\n{\n    p = fract(p * vec2(367.68, 654.55));\n    p += dot(p, p + 23.45);\n    return fract(p.x * p.y);\n}\nvec2 N22(vec2 p)\n{\n    float x = N21(p);\n    float y = N21(p + x);\n    return vec2(x, y);\n}\nvec2 GetPos(vec2 id)\n{\n    vec2 n = N22(id);\n    return sin(n) * 0.5;\n}\nvec2 rotate2(vec2 vec, float angle)\n{\n    float s = sin(angle);\n    float c = cos(angle);\n    mat2 rot = mat2(c, s, -s, c);\n    return vec * rot;\n}\nfloat circleMask(vec2 uv, float radius)\n{\n    float vL = length(uv);\n    float circle = smoothstep(radius, radius - 12./iResolution.y, vL);\n    return circle;\n}\nfloat berrybaseMask(vec2 uv)\n{\n    uv.y -= abs(uv.x) * 0.5;\n    \n    return circleMask(uv, 0.2);\n}\nfloat berryleafMask(vec2 uv)\n{    \n    uv.x += 0.09;\n    uv.y -= 0.19;\n    vec2 saveUv = uv;\n    \n    uv.x -= 0.02;\n    uv = rotate2(uv, 0.4);\n    uv.x *= 0.6;    \n    float mask = circleMask(uv, 0.05);\n    \n    uv = saveUv;\n    uv.x -= 0.07;\n    uv.y += 0.02;\n    uv.y *= 0.7;\n    mask += circleMask(uv, 0.05);\n    \n    uv = saveUv;\n    uv.x -= 0.10;\n    uv.y -= 0.013;\n    uv.x *= 0.5;\n    \n    mask += circleMask(uv, 0.05);\n    \n    return clamp(mask, 0.0, 1.0);\n}\n\nfloat berryDots(vec2 uv)\n{\n    uv *= 7.7;\n    vec2 gv = fract(uv) - 0.5;\n    vec2 id = floor(uv);\n    vec2 pos = GetPos(id);\n    float distance = length(gv - pos);\n\n    float _dot = smoothstep(0.06, 0.059, distance);\n    return _dot;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{    \n    vec2 uv = (fragCoord - 0.5 * iResolution.xy) / iResolution.y;\n    \n    uv -= iTime * 0.1;\n    uv *= 3.0;\n    \n    vec2 gv = fract(uv) - 0.5;\n    \n    float leafMask = berryleafMask(gv);\n    float berryBMask = berrybaseMask(gv);\n    float berryDot = berryDots(uv);    \n    \n    vec3 berryCol = berrybaseMask(gv) * vec3(1.0, 0.0, 0.2);    \n    berryCol = mix(berryCol, vec3(1.0), berryDot * berryBMask);    \n\n    vec3 leafCol = leafMask * vec3(0.0, 1.0, 0.0);    \n    vec3 res = mix(berryCol, leafCol, leafMask);\n    \n    vec3 mateColor = vec3(1.0, 0.4, 0.2);\n    \n    res = mix(mateColor, res, leafMask + berryBMask);\n    \n    fragColor = vec4(res, 1.0);\n}","name":"Image","description":"","type":"image"}]}