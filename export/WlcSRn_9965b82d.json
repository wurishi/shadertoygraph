{"ver":"0.1","info":{"id":"WlcSRn","date":"1580238572","viewed":220,"name":"fbm motion","username":"jiaolyulu1","description":"fish in the pool","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["2d","noise","fbm"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define S(a,b,t) smoothstep(a,b,t)\n\n\nfloat N21 (vec2 p){\n\tfloat d = fract(sin(p.x*110.+(8.21-p.y)*331.)*1218.);\n    return d;\n}\n\nfloat Noise2D(vec2 uv){\n    vec2 st = fract(uv);\n    vec2 id = floor(uv);\n    st = st*st*(3.0-2.0*st);\n    float c=mix(mix(N21(id),N21(id+vec2(1.0,0.0)),st.x),mix(N21(id+vec2(0.0,1.0)),N21(id+vec2(1.0,1.0)),st.x),st.y);\n\treturn c;\n}\n\nfloat fbm (vec2 uv){\n    \n    float c=0.;\n\tc+=Noise2D(uv)/2.;\n    c+=Noise2D(2.*uv)/4.;\n    c+=Noise2D(4.*uv)/8.;\n    c+=Noise2D(8.*uv)/16.;\n    return c/(1.-1./16.);\n}\n\nvec3 fbm3(vec2 uv){\n    vec3 color;\n\tfloat f1 = fbm(uv);\n    color= mix(vec3(0.1,0.0,0.0),vec3(0.9,0.1,0.1),2.5*f1);\n    \n    float f2 = fbm(2.4*f1+uv+0.15*sin(iTime)*vec2(7.0,-8.0));\n    color= mix(color,vec3(0.6,0.5,0.1),1.5*f2);\n    float f3 = fbm(3.5*f2+uv-0.15*cos(1.5*iTime)*vec2(4.0,3.0));\n    color= mix(color,vec3(0.1,0.35,0.45),f3);\n    \n    color= mix(color,vec3(0.45,0.35,0.25),S(0.7,0.75,f2));\n    color= mix(color,vec3(0.2,0.4,0.2),S(0.75,0.8,f2));\n    color= mix(color,vec3(0.55,0.55,0.35),S(0.88,0.99,f2));\n    color= mix(color,vec3(0.55,0.55,0.35),S(0.88,0.99,f3));\n    \n    return color;\n\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n\tvec2 mouse = iMouse.xy/iResolution.xy;\n    // Time varying pixel color\n    vec3 c = fbm3(2.0*(length(uv-mouse)+0.7)*vec2(5.0,5.0)*uv+sin(0.3*iTime)*0.5);\n    vec3 col = c;\n\n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}