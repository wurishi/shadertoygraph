{"ver":"0.1","info":{"id":"4l33Rr","date":"1467580119","viewed":163,"name":"skewed kaleidoscope","username":"zardoru","description":"not as hard as i thought","likes":3,"published":1,"flags":32,"usePreview":0,"tags":["2d","kaleidoscope"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// per axis kaleidoscope count\nconst float kaleidocount = 4.0;\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord.xy / iResolution.xy;\n\tfragColor = texture(iChannel0, mod(uv * kaleidocount, 1.0));// * texture(iChannel1, (1.0 - uv) + trans);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"Xdf3zn","filepath":"/media/a/85a6d68622b36995ccb98a89bbb119edf167c914660e4450d313de049320005c.png","previewfilepath":"/media/ap/85a6d68622b36995ccb98a89bbb119edf167c914660e4450d313de049320005c.png","type":"texture","channel":0,"sampler":{"filter":"nearest","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"const float skewsize = -0.5;\nconst vec2  speed = vec2(0.25, -0.125);\n\n#define t iTime\n\nfloat kal1D (float val, float mv) {\n \tif (val > mv)\n        return 1.0 - val;\n    else\n        return val;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uuv = fragCoord.xy / iResolution.xy;\n\tvec2 uv = uuv;\n    \n    // apply kaleidoscope\n    uv.x = 1.0 - kal1D(uv.x, 0.5);\n    uv.y = kal1D(uv.y, 0.5);\n    \n    // skew\n    float skewf = sin(t) * skewsize;\n    mat2 skew = mat2(1, skewf, \n                     skewf, 1);\n    \n    uv *= skew;\n    \n    // translate + draw\n    vec2 trans = t * speed;\n\tfragColor = texture(iChannel0, uv - trans);// * texture(iChannel1, (1.0 - uv) + trans);\n}","name":"Buf A","description":"","type":"buffer"}]}