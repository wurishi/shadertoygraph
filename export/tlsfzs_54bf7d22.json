{"ver":"0.1","info":{"id":"tlsfzs","date":"1598124357","viewed":257,"name":"Giza pyramids at sunset","username":"hedyla2055","description":"A simple 2d silhouette for Giza pyramids and some palm trees during sunset.\nOriginally, based on sunset shader by IQ: https://www.shadertoy.com/view/XssSRX but with some tweaks for the palm trees.\n","likes":7,"published":1,"flags":0,"usePreview":0,"tags":["2d","painting"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const vec4 SUN = vec4(1.0, 0.870, 0.482, 1.0);\nconst vec4 SKY = vec4(0.525,0.78,0.86, 1.0);\nconst float PI = 3.14159265359;\n\n\nvoid PalmTree(inout vec4 col, vec2 p, vec2 c, float size, float leaf_count, \n               float orientation, float band, float leaf_size, \n              float trunk_width, float trunk_curve)\n{\n    // leaves\n    vec2 q = p - c;    \n    float r = size + leaf_size * cos(atan(q.x, q.y) * leaf_count - band * q.x + orientation);\n    col *= smoothstep(r, r + 0.02, length(q));\n    \n    // trunk\n    r = trunk_width * (1. + abs(sin(12. * q.y)));\n    r += 0.0015 * exp(-80. * p.y / 68.5); // the thick part at the end\n    col *= 1.0 - (1.0 - smoothstep(r, r + 0.02, abs(q.x + trunk_curve * sin(0.4 * q.y))) + 0.01)\n        * (1.0- smoothstep(0., 0.01, q.y));\n}\n\nvoid Pyramid(inout vec4 col, vec2 p, vec2 c, float h)\n{\n    // We are in 2D world, so a triangle will be used. \n\tp -= c;\n    p /= 9.0;\n    p.x /= 2.0;\n    int N = 3;\n    float a = (atan(p.x, p.y) + PI);\n    float r = 2.0 * PI/ float(N) ;\n    float d = cos(floor(0.5 + a / r) * r - a) * length(p);\n    col *= smoothstep(0.101, 0.102, d / h); \n}\n                                                                               \nvoid mainImage(out vec4 col, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord - 0.5 * iResolution.xy) / iResolution.y;      \n    col = mix(SKY, SUN, (1.0 - uv.y * vec4(0.8, 0.8, 1.0, 1.0)) * 0.5);\n\n    uv *= 9.0;\n       \n    Pyramid(col, uv, vec2(0., -5.5), 2.8);\n\n    Pyramid(col, uv, vec2(3.7, -5.5), 2.2);\n\n    Pyramid(col, uv, vec2(-4., -5.5), 1.7);\n    \n\tPalmTree(col, uv, vec2(-3.0, 2.7), 0.7, 13., \n             0.7 * cos(iTime), 4.5, -1.2, 0.06, -1.5);\n\n \tPalmTree(col, uv, vec2(-5.5, 0.7), 0.3, 17., \n             0.5 * sin(iTime), 5.5, -1.9, 0.08, 1.8);   \n    \n    PalmTree(col, uv, vec2(4.8, 1.7), 0.6, 18., \n             1.1 * cos(iTime / 3.0), 8.0, -0.9, 0.06, -.5);\n\n    PalmTree(col, uv, vec2(6.3, 3.1), 0.8, 21., \n             1.1 * cos(iTime), 8.0, -0.9, 0.05, .5);\n    \n    PalmTree(col, uv, vec2(0.9, 2.2), 0.6, 14.,\n             0.9 * cos(iTime), 4.0, -0.9, 0.05, .6);\n\n    PalmTree(col, uv, vec2(-1.3, 0.5), 0.6, 14.,\n             0.9 * cos(iTime), 8.0, -0.7, 0.04, -.75);\n\n    PalmTree(col, uv, vec2(3.3, 3.3), 0.4, 9.,\n             0.5 * cos(iTime), 5.0, 0.6, 0.06, -.35);\n\n    PalmTree(col, uv, vec2(-7.3, 3.3), 0.8, 9.,\n             0.9 * sin(iTime), 5.0, -0.6, 0.06, 1.25);\n\t\n}\n","name":"Image","description":"","type":"image"}]}