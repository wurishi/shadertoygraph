{"ver":"0.1","info":{"id":"ftVBRK","date":"1664841037","viewed":44,"name":"Julia Sets -- Explore on MB","username":"Sent","description":"Mouse sets julia set control point. Explore how mandelbrot structure relates to julia set.","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["fractal"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define N_ITER 50\n\nfloat rect(vec2 st, vec2 bl, vec2 tr) {\n    bl = step(bl,st);       // bottom-left\n\ttr = step(vec2(1.)-tr,1.-st);   // top-right\n\treturn (bl.x * bl.y * tr.x * tr.y);\n}\n\nfloat rect(vec2 st, vec2 bl, vec2 tr, float blur) {\n    if (blur <= 0.) {\n        return rect(st, bl, tr);\n    }\n    \n    float b = blur/2.;\n    bl = smoothstep(bl-b, bl+b,st);       // bottom-left\n\ttr = smoothstep(tr+b, tr-b, st);   // top-right\n\treturn (bl.x * bl.y * tr.x * tr.y);\n}\n\nfloat mandelbrot(vec2 uv)\n{  \n    vec2 z = vec2(0.);\n    int n = N_ITER;\n    float xtemp = 0.;\n    for (int i = 0; i < N_ITER; ++i) {\n        xtemp = z.x*z.x - z.y*z.y + uv.x;\n        z.y = 2.*z.y*z.x + uv.y;\n        z.x = xtemp;\n        if (length(z) > 2.) \n        {\n            n = min(n, i);\n        }\n    }\n\n    return mix(0., 1., float(n)/float(N_ITER));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.y;\n    float ar = iResolution.x/iResolution.y;\n    vec2 st = uv;\n    st -= vec2(.38*ar, .5);\n    uv -= vec2(.75*ar, .5);\n    st *= 3.;\n    uv *= 4.;\n    \n    float t = .1*iTime;\n    \n    vec2 z = uv;\n    vec2 z0 = iMouse.xy/iResolution.y;// Change for diff julia sets\n    z0 -= vec2(.38*ar, .5);\n    z0 *= 3.5;\n    \n    int n = N_ITER;\n    float xtemp = 0.;\n    for (int i = 0; i < N_ITER; ++i) {\n        xtemp = z.x*z.x - z.y*z.y + z0.x;\n        z.y = 2.*z.y*z.x + z0.y;\n        z.x = xtemp;\n        if (length(z) > 2.) \n        {\n            n = min(n, i);\n        }\n    }\n    \n    float c = rect(uv, vec2(-1.5, -1.5), vec2(1.5, 1.5));\n    c *= mix(0., 1., float(n)/float(N_ITER));\n    \n    \n    \n    c += mandelbrot(st)*rect(st, vec2(-2., -1.5), vec2(.5, 1.5));\n    c = pow(c, 2.);\n    \n    vec3 col = vec3(c);\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}