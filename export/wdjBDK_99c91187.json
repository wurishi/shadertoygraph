{"ver":"0.1","info":{"id":"wdjBDK","date":"1591058169","viewed":404,"name":"Beep Beep I'm a Sheep","username":"yp3y5akh0v","description":"Beep Beep I'm a Sheep!\nInspired by asdfmovie","likes":26,"published":1,"flags":64,"usePreview":0,"tags":["2d","bezier","curve","beep","sheep"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"ltjGRV","filepath":"https://soundcloud.com/user-770342540/beep-beep-im-a-sheep-feat-tomska-blackgryph0n","previewfilepath":"https://soundcloud.com/user-770342540/beep-beep-im-a-sheep-feat-tomska-blackgryph0n","type":"musicstream","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":0}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define N 40.\n#define R iResolution.xy\n#define t iTime\n#define T (0.5 + 0.5 * sin(t))\n#define D(p) ((p - 0.5 * R.xy) / R.y)\n#define inf (1e38)\n#define pi (radians(180.))\n#define craziness 0.1\n\nvec2 rot(vec2 p, float a) {\n    float c = cos(a);\n    float s = sin(a);\n    return mat2(c, -s, s, c) * p;\n}\n\nfloat uEllipse(vec2 p, vec2 ab, float q) {\n    p /= ab;\n    float a = (.5 + .5 * atan(p.y, p.x) / pi);\n    if (a < q) {\n    \treturn inf;\n    }\n\treturn abs(length(p) - 1.);\n}\n\nfloat distToV(vec2 p, vec2 o, vec2 v) {\n    vec2 op = p - o;\n    vec2 ep = op - v;\n    float d = length(ep - dot(ep, v) / dot(v, v) * v);\n    if (dot(op, v) < 0.) {\n        d = length(op);\n    }    \n    if (dot(ep, -v) < 0.) {\n        d = length(ep);\n    }\n    return d;\n}\n\nvec2 QB(vec2 a, vec2 b, vec2 c, float q) {\n    vec2 qab = a + q * (b - a);\n    vec2 qbc = b + q * (c - b);    \n    return qab + q * (qbc - qab);\n}\n\nfloat QBSdf(vec2 p, vec2 a, vec2 b, vec2 c) {\n    float s = inf;\n    for (float i = 1.; i <= N; i++) {\n        vec2 qb0 = QB(a, b, c, (i - 1.) / N);\n        vec2 qb1 = QB(a, b, c, i / N);\n        float d = distToV(p, qb0, qb1 - qb0);\n        s = min(s, d);\n    }\n    return s;\n}\n\nvec2 CB(vec2 a, vec2 b, vec2 c, vec2 d, float q) {\n    vec2 qab = mix(a, b, q);\n    vec2 qbc = mix(b, c, q);\n    vec2 qcd = mix(c, d, q);\n    vec2 qabc = mix(qab, qbc, q);\n    vec2 qbcd = mix(qbc, qcd, q);\n    return mix(qabc, qbcd, q);\n}\n\nfloat CBSdf(vec2 p, vec2 a, vec2 b, vec2 c, vec2 d) {\n    float s = inf;\n    for (float i = 1.; i <= N; i++) {\n        vec2 qb0 = CB(a, b, c, d, (i - 1.) / N);\n        vec2 qb1 = CB(a, b, c, d, i / N);\n        float d = distToV(p, qb0, qb1 - qb0);\n        s = min(s, d);\n    }\n    return s;\n}\n\nfloat Tail(vec2 p) {\n\tfloat d = inf;\n\tvec2 pt = rot(p - vec2(0.7, 0.03), -1.7);\n    float dt = QBSdf(pt, vec2(-0.08, -0.33), vec2(-0.05, -0.21), vec2(0.05, -0.3));\t\n    d = min(d, dt);\n    return d;\n}\n\nfloat Feet(vec2 p, float move) {\n\tfloat d = inf;\n    float f0x = -0.3\t;\n    float f0y0 = -0.19;\n    float f0y1 = -0.55 + move;\n    float f0y01 = (f0y0 + f0y1) / 2.;\n    float f0 = QBSdf(p, vec2(f0x, f0y0), vec2(f0x - 0.04 - move, f0y01), vec2(f0x, f0y1));\t\n    d = min(d, f0);\n    \n    float f1x = -0.12;\n    float f1y0 = -0.18;\n    float f1y1 = -0.6 + move;\n    float f1y01 = (f1y0 + f1y1) / 2.;\n    float f1 = QBSdf(p, vec2(f1x, f1y0), vec2(f1x - 0.04 - move, f1y01), vec2(f1x, f1y1));\t\n    d = min(d, f1);\n    \n    float f2x = 0.09;\n    float f2y0 = -0.22;\n    float f2y1 = -0.55 + move;\n    float f2y01 = (f2y0 + f2y1) / 2.;\n    float f2 = QBSdf(p, vec2(f2x, f2y0), vec2(f2x - 0.02 - move, f2y01), vec2(f2x, f2y1));\t\n    d = min(d, f2);\n\n    float f3x = 0.24;\n    float f3y0 = -0.24;\n    float f3y1 = -0.6 + move;\n    float f3y01 = (f3y0 + f3y1) / 2.;\n    float f3 = QBSdf(p, vec2(f3x, f3y0), vec2(f3x - 0.02 - move, f3y01), vec2(f3x, f3y1));\t\n    d = min(d, f3);    \n    \n    return d;\n}\n\nfloat Body(vec2 p) {\n    float d = inf;    \n    p.y -= 0.07;\n    vec2 p0 = rot(p - vec2(-0.43, 0.49), 0.4);\n    float d0 = QBSdf(p0, vec2(-0.18, -0.3), vec2(-0.02, -0.16), vec2(0.1, -0.3));\t\n    d = min(d, d0);\n    vec2 p1 = rot(p - vec2(-0.13, 0.58), 0.2);\n    float d1 = QBSdf(p1, vec2(-0.15, -0.3), vec2(0.03, -0.13), vec2(0.15, -0.3));\t\n    d = min(d, d1);\n    vec2 p2 = rot(p - vec2(0.31, 0.53), -0.5);\n    float d2 = QBSdf(p2, vec2(-0.1, -0.3), vec2(0.06, -0.15), vec2(0.14, -0.3));\t\n    d = min(d, d2);\n    vec2 p3 = rot(p - vec2(0.61, 0.18), -1.3);\n    float d3 = QBSdf(p3, vec2(-0.1, -0.3), vec2(0.02, -0.2), vec2(0.1, -0.3));\t\n    d = min(d, d3);\n\tvec2 p4 = rot(p - vec2(0.63, -0.14), -1.7);\n    float d4 = QBSdf(p4, vec2(-0.1, -0.3), vec2(0., -0.16), vec2(0.1, -0.3));\t\n    d = min(d, d4);\n\tvec2 p5 = rot(p - vec2(0.31, -.52), -2.8);\n    float d5 = QBSdf(p5, vec2(-0.11, -0.3), vec2(0., -0.16), vec2(0.11, -0.3));\t\n    d = min(d, d5);\n\tvec2 p6 = rot(p - vec2(-0.04, -.56), -3.25);\n    float d6 = QBSdf(p6, vec2(-0.11, -0.3), vec2(0., -0.16), vec2(0.11, -0.3));\t\n    d = min(d, d6);\n\tvec2 p7 = rot(p - vec2(-0.31, -.51), -3.4);\n    float d7 = QBSdf(p7, vec2(-0.11, -0.3), vec2(0., -0.16), vec2(0.11, -0.3));\t\n    d = min(d, d7);    \n\tvec2 p8 = rot(p - vec2(-0.6, -.39), -3.7);\n    float d8 = QBSdf(p8, vec2(-0.11, -0.3), vec2(-0.03, -0.19), vec2(0.05, -0.3));\t\n    d = min(d, d8);  \n    return d;\n}\n\nfloat Mouse(vec2 p, int state) {\n    float d = inf;\n    if (state == 0) {    \t\n        d = distToV(p, vec2(-0.16, -0.01), vec2(0.22, 0.));\n    }\n    return d;\n}\n\nfloat Head(vec2 p) {\n    float d = inf;\n    p = rot(p, 0.12);\n    p -= vec2(-0.46, 0.11);\n    float m = Mouse(p, 0);\n    d = min(d, m);\n    float rEye = smoothstep(0., 0.3, length(p - vec2(0.07, 0.07)));\n    d = min(d, rEye);\n    float lEye = smoothstep(0., 0.3, length(p - vec2(-0.11, 0.09)));\n    d = min(d, lEye);\n    vec2 pLEar = rot(p - vec2(-0.07, 0.13), 1.);\n    vec2 aLEar = vec2(-0.01, 0.);\n    vec2 bLEar = vec2(-0.1, 0.25);\n    vec2 cLEar = vec2(0.1, 0.25);\n    vec2 dLEar = vec2(0.01, 0.);\n    float lEar = CBSdf(pLEar, aLEar, bLEar, cLEar, dLEar);\n    d = min(d, lEar);\n    vec2 pREar = rot(p - vec2(0.09, 0.13), 5.);\n    vec2 aREar = vec2(-0.01, 0.);\n    vec2 bREar = vec2(-0.1, 0.25);\n    vec2 cREar = vec2(0.1, 0.25);\n    vec2 dREar = vec2(0.01, 0.);\n    float rEar = CBSdf(pREar, aREar, bREar, cREar, dREar);\n    d = min(d, rEar); \n    vec2 pFore = rot(p - vec2(0.01, 0.05), 0.);\n    float fore = smoothstep(0., 1., uEllipse(pFore, vec2(0.1, 0.1), 0.5));\n    d = min(d, fore);\n    vec2 pChin0 = rot(p - vec2(-0.08, -0.01), 1.55);\n    float chin0 = smoothstep(0., 1., uEllipse(pChin0, vec2(0.07, 0.135), 0.5));\n    d = min(d, chin0);\n    vec2 pChin1 = p - vec2(0.11, 0.05);\n    vec2 aChin1 = vec2(0., 0.);\n    vec2 bChin1 = vec2(0.013, -0.1);\n    vec2 cChin1 = vec2(0.014, -0.13);\n    vec2 dChin1 = vec2(-.2, -0.13);\n    float chin1 = CBSdf(pChin1, aChin1, bChin1, cChin1, dChin1);\n    d = min(d, chin1); \n            \n    return d;\n}\n\nfloat Scene(vec2 p) {\n    vec2 origp = p;\n    float d = inf;\n    // 13.19 rad/s which is 126 bpm per audio\n    float move = mix(0., craziness, max(0., sin(13.19 * (t + 1.1))));\n    p -= vec2(0., 0.1 - move);\n    p = 1.3 * p;\n    float body = Body(p);\n    d = min(d, body);\n    float head = Head(p);\n    d = min(d, head);\n    float tail = Tail(p);\n    d = min(d, tail);\n    float feet = Feet(p, move);\n    d = min(d, feet);\n    float field = QBSdf(origp - vec2(-0.5, -0.4), vec2(-0.7, 0.), vec2(0.5, 0.3), vec2(1.7, 0.));\n    d = min(d, field);\n    return 0.002 / d;\n}\n\nvoid mainImage(out vec4 o, in vec2 p)\n{    \n    o = vec4(1. - Scene(D(p)));\n}","name":"Image","description":"","type":"image"}]}