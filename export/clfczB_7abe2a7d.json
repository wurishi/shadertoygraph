{"ver":"0.1","info":{"id":"clfczB","date":"1690870609","viewed":22,"name":"矩形SDF","username":"Leslie","description":"非圆角矩形的SDF。","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["2d"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// 感谢https://www.shadertoy.com/user/Envy24大佬的提醒\n// 本函数用于画等距线，正等距线与负等距线颜色不同\nvec3 colorize_field(float dist, vec3 color)\n{    \n    float F = 30., freq = F*dist, aa = 1./F, C = 0.7, amp = 0.2, width = F*0.01, //0.3\n          waves_sdf = C + amp*smoothstep(8./iResolution.y, 0., (width+cos(freq)) * aa),\n          exp_raise = 1. - exp(-4.*abs(dist));\n        \n    color = 1.0 - sign(dist) * color; // Change color if dist is negative. \n    color *= exp_raise;               // Attenuate color around edges.     \n    color *= waves_sdf;               // Add waves.\n    \n    return mix(color, vec3(1.), smoothstep(8./iResolution.y, 0., abs(dist)) );\n}\n\n\nfloat sdBox( in vec2 p, in vec2 b )\n{\n    vec2 d = abs(p)-b;\n    \n    float dOut=length(max(d,0.0)); // 矩形外到矩形边界的距离，正距离。\n    float dIn=min(max(d.x,d.y),0.0); // 矩形内到矩形边界的距离，负距离。\n    return dOut + dIn;\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec3 red=vec3(1.,0.,0.);\n    vec3 green=vec3(0.,1.,0.);\n    vec3 blue=vec3(0.,0.,1.);\n    \n    float scale=min(iResolution.x, iResolution.y);\n    vec2 res=iResolution.xy/scale;\n\n    float chg=abs(sin(iTime/2.));\n    float chg1=abs(sin(iTime-1.));\n    vec2 p=(2.*fragCoord-iResolution.xy)/scale;\n    vec2 b=vec2(chg*res.x, chg1*res.y);\n    \n    fragColor=vec4(colorize_field(sdBox(p, b), vec3(0.1, 0.4, 0.7)), 1.);\n}","name":"Image","description":"","type":"image"}]}