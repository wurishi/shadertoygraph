{"ver":"0.1","info":{"id":"mdKczt","date":"1696496877","viewed":62,"name":"Terrell rotation","username":"Borusse29","description":"The Terrell effect is a phenomenon in special relativity. Instead of seeing a bypassing object near the speed of light contracted (as one would expect due to length contraction), it is seen rotated.","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["raymarching","physics"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define stepsize 0.005\n#define maxsteps 1000\n#define focalDist 1.75\n#define sideLength 0.5\n\n//https://iquilezles.org/articles/distfunctions/\nfloat sdBox(vec3 point, vec3 dimensions)\n{\n  vec3 q = abs(point) - dimensions;\n  return length(max(q,0.0)) + min(max(q.x,max(q.y,q.z)),0.0);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (-1.0 + 2.0*fragCoord.xy / iResolution.xy) * \n\t\tvec2(iResolution.x/iResolution.y, 1.0);\n        \n    float v = clamp(abs(sin(iTime)), 0.0, 0.99999); // in c (c is 1)\n    float invGamma = sqrt(1.0 - v*v); // 1/Lorentz factor\n\n    vec3 camPos = vec3(-2.0, 0.0, 0.0);\n    vec3 boxPos = vec3(0.0, (-sideLength-camPos.x)*v, 0.0);\n    \n    vec3 ro = camPos;\n    vec3 rd = normalize(vec3(focalDist, uv));\n\n    vec3 col = vec3(0.19);\n    \n    for (int i = 0; i < maxsteps; i++) {\n        if (sdBox(ro - boxPos, vec3(sideLength, sideLength*invGamma, sideLength)) <= 0.0) { \n            if (abs(abs((ro - boxPos).x) - sideLength) <= stepsize)\n                col = vec3(0.78);\n            else if (abs(abs((ro - boxPos).y) - sideLength*invGamma) <= stepsize)\n                col = vec3(0.57);\n            else if (abs(abs((ro - boxPos).z) - sideLength) <= stepsize)\n                col = vec3(0.37);\n            break;\n        }\n        \n        ro += stepsize * rd;\n        boxPos.y -= v * stepsize;\n    }\n\n    fragColor = vec4(col, 1.0);\n}","name":"Image","description":"","type":"image"}]}