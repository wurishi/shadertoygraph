{"ver":"0.1","info":{"id":"mst3Df","date":"1689814041","viewed":79,"name":"moapg","username":"pb","description":"click and drag mouse (very slowly) - please, fork of https://www.shadertoy.com/view/sttfD4","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["mouse","raymarch"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//fork of https://www.shadertoy.com/view/sttfD4\n\n#define R(a)  mat2(cos(a + 1.57*vec4(0,-1,1,0)))  //rotation matrix using pi/2 phase offset for sin\n#define N     normalize\n\nfloat t, e=1., l=0., d, i=0.; // globals\nvec2 mm;  //Mouse\n\nvec3 f(vec3 p) {\n    vec3  o = vec3(1.5,-.6,1.7), q;\n    float d=1e6, s=-.003, a=1.,r=.02, i=0., k = o.z*s;\n    for( p.xz *= R(t/19.) ; i++<50. ; )\n        a *= 1.-s,\n        p.xy *= R(mm.x), p.xz *= R(mm.y*2.+ 60.),\n        p = abs(p) ,\n#define S(p) p.x < p.y ? p = p.yx : p     \n        S(p.xy), S(p.xz), S(p.yz),\n        p += o*s;  \n        q = p = abs(p),\n        S(q.xy), S(q.xz), S(q.yz); \n        vec2 h = vec2(.3,1.);\n        d = min(d, max(p.z-h.y,max(p.x*0.866025+p.y*0.5,-p.y)-h.x*0.5) ); \n        d*=d;\n        \n    return (q) / d ;\n}\n\nvoid mainImage(out vec4 O, vec2 U) {\n    t = iTime*3.;\n    vec3 R = iResolution,\n         D = N( vec3( (2.*U-R.xy)/R.y*10.,-8.) ) ,   // ray pos and dir\n         P = R-R; P.z = 0. ;\n\n    mm = 1e6*(2.*iMouse.xy-R.xy)/R.y; \n    \n    if(iMouse.w==0.)mm=1e6*vec2(-1.34,-1.6000000);\n    \n    O = vec4(0);\n    \n    for ( float i=0.; i<50.; i++) { \n        vec3 vc = f(P);\n        vc = 1. - exp(-vc*vc);\n        O.xyz += vc * exp(-i*.05) ;\n        P += D*.4;\n    }\n\n    O = cos(O);\n    O = pow(O,vec4(4.));\n    \n\n}\n","name":"Image","description":"","type":"image"}]}