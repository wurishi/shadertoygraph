{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"/* Compiled with Shaderforth: https://github.com/daeken/Shaderforth\n( Constants )\n:m pi 3.14159 ;\n:m tau pi 2.0 * ;\n\n( Comparators )\n:m amin ( arr f )\n\tarr \\{ ( $a $b )\n\t\ta *f b *f min =m\n\t\ta b a *f m == select\n\t}\n;\n:m minmax ( $a $b ) [ a b min a b max ] ;\n\n( Maths )\n: closest-point-line ( a:vec2 b:vec2 point:vec2 -> vec2 )\n\tpoint a - =>pa\n\tb a - =>ba\n\tpa ba dot ba ba dot / 0.0 1.0 clamp =h\n\tba h * a +\n;\n: point-distance-line ( a:vec2 b:vec2 point:vec2 -> float )\n\tpoint a b point closest-point-line - length\n;\n:m deg->rad pi 180. / * ;\n:m rad->deg pi 180. / / ;\n: rotate ( c:vec3 a:float -> vec3 )\n\ta cos =ca\n\ta sin =sa\n\n\t[\n\t\tc .x ca * c .y sa * -\n\t\tc .y ca * c .x sa * +\n\t\tc .z\n\t]v\n;\n:m rotate-deg ( c a ) c a deg->rad rotate ;\n\n( Coordinate System Utilities )\n\n: cart->polar ( p:vec2 -> vec2 ) [ p .y.x atan2 p length ]v ;\n: polar->cart ( p:vec2 -> vec2 ) [ p .x cos p .x sin ]v p .y * ;\n: polar-norm ( p:vec2 -> vec2 ) [ p .x tau + tau mod p .y ]v ;\n\n:m p+ ( p v ) p cart->polar v + polar->cart ;\n:m p* ( p v ) p cart->polar v * polar->cart ;\n\n:m frag->position ( resolution ) fragCoord .xy resolution .xy / 2.0 * 1.0 - [ 1.0 iResolution .y.x / ]v * ;\n\n( Distance Field Utilities )\n:m gradient ( p f )\n\t[ 0.001 0.0 ]v =h\n\tp *f =>v\n\t[\n\t\tp h + *f  p h - *f -\n\t\tp h .yx + *f  p h .yx - *f -\n\t]v 2.0 h .x * / length =>g\n\tv abs g /\n;\n\n( Color Operations )\n: hsv->rgb ( hsv:vec3 -> vec3 )\n    hsv .x 60.0 / [ 0. 4. 2. ]v + 6. mod 3. - abs 1. - 0.0 1.0 clamp =>rgb\n    [ 1. 1. 1. ]v rgb hsv .y mix hsv .z *\n;\n:globals\n\t@vec3 uniform =iResolution\n\t@float uniform =iTime\n;\n\n:m anim\n\t1.0 iTime 8. mod 4.0 - abs 1. - 1.5 / 0.0 1.0 clamp 3. pow -\n;\n\n: cwarp ( c:vec3 -> vec3 )\n\tanim =t\n\t[\n\t\t\tc .xy 1. t - *\n\t\t\t[ t pi * -1. * 0. ]v\n\t\tp+\n\t\tc .z t 2.5 * 1.0 + *\n\t]v\n;\n\n: p-circle ( p:vec2 c:vec3 -> float )\n\tc cwarp =c\n\tc .xy p - length c .z -\n;\n\n:m circle ( c ) p c p-circle ;\n\n:m intersect max ;\n:m subtract neg max ;\n:m union min ;\n:m shape call ;\n\niResolution frag->position [ 1.2 -1.2 ]v * =p\n\n: distance-field ( p:vec2 -> float )\n\t{\n\t\t[ 0. 0. 0.6 ]v circle\n\t\t{\n\t\t\t{\n\t\t\t\t[ 0. 0. 0.4 ]v circle\n\t\t\t\t{\n\t\t\t\t\tfloat 120. * =>a\n\t\t\t\t\t{\n\t\t\t\t\t\t[ 0.13625 -0.04 0.52221283975 ]v a rotate-deg circle\n\t\t\t\t\t\t[ -0.25375 0.135 0.464630229322 ]v a rotate-deg circle intersect\n\t\t\t\t\t\t[ -0.2925 -0.10125 0.46492270863 ]v a rotate-deg circle subtract\n\t\t\t\t\t} shape subtract\n\t\t\t\t} 3 mtimes\n\t\t\t} shape \n\n\t\t\t{\n\t\t\t\t[ 0.0 0.18375 0.29504766564065543 ]v circle\n\t\t\t\t[ 0.0 0.18375 0.29504766564065543 ]v 120. rotate-deg circle intersect\n\t\t\t\t[ 0.0 0.18375 0.29504766564065543 ]v 240. rotate-deg circle intersect\n\t\t\t\t[ 0.0 0.0 0.0434 ]v circle subtract\n\t\t\t} shape subtract\n\t\t} shape subtract\n\t} shape =dist\n\tdist dist / =sign\n\tdist 75.0 * iTime 5.0 * + sin sign *\n;\n\np &distance-field gradient 100. * 0. 1. clamp =d\n[ d d d 1. ]v =fragColor\n*/\n\nvec3 rotate(vec3, float);\nfloat distance_field(vec2);\nfloat p_circle(vec2, vec3);\nvec2 polar_cart(vec2);\nvec2 cart_polar(vec2);\nvec3 cwarp(vec3);\nvec3 rotate(vec3 c, float a) {\n\tfloat ca = cos(a);\n\tfloat sa = sin(a);\n\treturn vec3((((c).x) * (ca)) - (((c).y) * (sa)), (((c).y) * (ca)) + (((c).x) * (sa)), (c).z);\n}\nfloat distance_field(vec2 p) {\n\tfloat dist = max(p_circle(p, vec3(0.0, 0.0, 0.6)), - (max(max(max(max(p_circle(p, vec3(0.0, 0.0, 0.4)), - (max(max(p_circle(p, rotate(vec3(0.13625, -0.04, 0.52221283975), 4.18878666667)), p_circle(p, rotate(vec3(-0.25375, 0.135, 0.464630229322), 4.18878666667))), - (p_circle(p, rotate(vec3(-0.2925, -0.10125, 0.46492270863), 4.18878666667)))))), - (max(max(p_circle(p, rotate(vec3(0.13625, -0.04, 0.52221283975), 2.09439333333)), p_circle(p, rotate(vec3(-0.25375, 0.135, 0.464630229322), 2.09439333333))), - (p_circle(p, rotate(vec3(-0.2925, -0.10125, 0.46492270863), 2.09439333333)))))), - (max(max(p_circle(p, rotate(vec3(0.13625, -0.04, 0.52221283975), 0.0)), p_circle(p, rotate(vec3(-0.25375, 0.135, 0.464630229322), 0.0))), - (p_circle(p, rotate(vec3(-0.2925, -0.10125, 0.46492270863), 0.0)))))), - (max(max(max(p_circle(p, vec3(0.0, 0.18375, 0.295047665641)), p_circle(p, rotate(vec3(0.0, 0.18375, 0.295047665641), 2.09439333333))), p_circle(p, rotate(vec3(0.0, 0.18375, 0.295047665641), 4.18878666667))), - (p_circle(p, vec3(0.0, 0.0, 0.0434))))))));\n\tfloat sign = (dist) / (dist);\n\treturn (sin(((dist) * 75.0) + ((iTime) * 5.0))) * (sign);\n}\nfloat p_circle(vec2 p, vec3 c) {\n\tc = cwarp(c);\n\treturn (length(((c).xy) - (p))) - ((c).z);\n}\nvec2 polar_cart(vec2 p) {\n\treturn (vec2(cos((p).x), sin((p).x))) * ((p).y);\n}\nvec2 cart_polar(vec2 p) {\n\treturn vec2(atan((p).y, (p).x), length(p));\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n\tvec2 p = ((((((fragCoord).xy) / ((iResolution).xy)) * 2.0) - 1.0) * (vec2(1.0, ((iResolution).y) / ((iResolution).x)))) * (vec2(1.2, -1.2));\n\tvec2 h = vec2(0.001, 0.0);\n\tfloat d = clamp(((abs(distance_field(p))) / (length((vec2((distance_field((p) + (h))) - (distance_field((p) - (h))), (distance_field((p) + ((h).yx))) - (distance_field((p) - ((h).yx))))) / (2.0 * ((h).x))))) * 100.0, 0.0, 1.0);\n\tfragColor = vec4(d, d, d, 1.0);\n}\nvec3 cwarp(vec3 c) {\n\tfloat t = 1.0 - (pow(clamp(((abs((mod(iTime, 8.0)) - 4.0)) - 1.0) / 1.5, 0.0, 1.0), 3.0));\n\treturn vec3(polar_cart((cart_polar(((c).xy) * (1.0 - (t)))) + (vec2(((t) * 3.14159) * -1.0, 0.0))), ((c).z) * (((t) * 2.5) + 1.0));\n}\n","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"MsXSWN","date":"1401086668","viewed":232,"name":"Logo Illusion","username":"daeken","description":"Playing around with distance fields, I stumbled onto an interesting optical illusion-esque effect.","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["opticalillusion","shaderforth"],"hasliked":0,"parentid":"","parentname":""}}