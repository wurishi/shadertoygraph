{"ver":"0.1","info":{"id":"DtXGDX","date":"1672500183","viewed":79,"name":"talking coffee ðŸ”Š ","username":"blurryroots","description":"Fork of jonasfrey's 'that thing i see in my coffe cup' â˜• with some wonky texture mapping.","likes":2,"published":1,"flags":64,"usePreview":0,"tags":["coffee","music","audio"],"hasliked":0,"parentid":"ctsGD2","parentname":"that thing i see in my coffe cup"},"renderpass":[{"inputs":[{"id":"XdfGRn","filepath":"/media/a/e6e5631ce1237ae4c05b3563eda686400a401df4548d0f9fad40ecac1659c46c.jpg","previewfilepath":"/media/ap/e6e5631ce1237ae4c05b3563eda686400a401df4548d0f9fad40ecac1659c46c.jpg","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XdXGzr","filepath":"/media/a/8979352a182bde7c3c651ba2b2f4e0615de819585cc37b7175bcefbca15a6683.jpg","previewfilepath":"/media/ap/8979352a182bde7c3c651ba2b2f4e0615de819585cc37b7175bcefbca15a6683.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4lSXWy","filepath":"https://soundcloud.com/j_o_s_u_e/coffee-jack-stauber","previewfilepath":"https://soundcloud.com/j_o_s_u_e/coffee-jack-stauber","type":"musicstream","channel":2,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":0}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Fork of jonasfrey's 'that thing i see in my coffe cup'\n// https://www.shadertoy.com/view/ctsGD2\n\n#define WITH_TEXTURES 1\n#define WITH_SOUND_IN 1\n\nconst float pi = 355. / 113.;\n\n// === icon message: \"sound in\". link: https://www.shadertoy.com/view/MtyXRW\nfloat message(vec2 uv) { // to alter in the icon\n    uv-=vec2(1.,10.); if ((uv.x<0.)||(uv.x>=32.)||(uv.y<0.)||(uv.y>=3.)) return -1.; \n    int i=1, bit=int(pow(2.,floor(32.-uv.x)));\n    if (int(uv.y)==2) i=  928473456/bit; // 00110111 01010111 01100001 01110000\n    if (int(uv.y)==1) i=  626348112/bit; // 00100101 01010101 01010000 01010000\n    if (int(uv.y)==0) i= 1735745872/bit; // 01100111 01110101 01100001 01010000\n \treturn float(i-2*(i/2));\n}\n// ===\n\nvoid mainImage (out vec4 fragColor, in vec2 fragCoord) {\n    #if WITH_SOUND_IN\n    // Overlay by FabriceNeyret2 https://www.shadertoy.com/view/MtyXRW\n    if (iResolution.y<2000.) {float c=message(fragCoord.xy/8.);if(c>=0.){fragColor=vec4(c);return;}}  \n    #endif\n    \n    vec2 o_trn_fc_nor = fragCoord.xy / iResolution.xy;\n    vec2 o_trn_mo_nor = iMouse.xy / iResolution.xy;\n    \n    float n_ratio_x_to_y = iResolution.x / iResolution.y; \n    \n    vec2 o_trn_fc_nor_offset = (o_trn_fc_nor - vec2(0.5))*vec2(n_ratio_x_to_y, 1.);\n    vec2 o_trn_mo_nor_offset = (o_trn_mo_nor - vec2(0.5))*vec2(n_ratio_x_to_y, 1.);\n      \n    float k = texture (iChannel2, vec2 (0.33, 0.0)).r;\n    //k = (1. + sin (0.1*iTime - pi/2.)) / 2.;\n    \n    vec2 o_diff = vec2(0.)-o_trn_fc_nor_offset;\n    float n_tau = 6.2831;\n    float n_ang_nor = fract(((atan(o_diff.y, o_diff.x)+(n_tau/2.))/(n_tau)));\n    \n    float n_its = 200.;\n    \n    float n_ang_nor_snapped = floor(n_ang_nor * n_its)/n_its;\n\n    float n_it = floor(n_ang_nor * n_its);\n    float n_radius = 0.03+(k*0.4)*(sin(iTime+(n_tau/n_its)*n_it)*0.5+0.5);\n    vec2 o_p = vec2(\n        cos((n_ang_nor_snapped+(1./n_its/2.))*n_tau)*n_radius, \n        sin((n_ang_nor_snapped+(1./n_its/2.))*n_tau)*n_radius\n    );\n    \n    float n_dist = length(o_p-o_trn_fc_nor_offset);\n    \n    vec4 color = vec4(n_dist);\n    #if WITH_TEXTURES\n    // color = texture (iChannel0, vec2 (n_dist));\n    n_dist = mix (n_dist, 0., 0.);\n    color = n_dist * texture (iChannel0, o_trn_fc_nor);\n    color = texture (iChannel1, color.r * o_trn_fc_nor);\n    #endif\n    fragColor = color;\n}","name":"Image","description":"","type":"image"}]}