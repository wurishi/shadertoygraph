{"ver":"0.1","info":{"id":"llsfDX","date":"1513728524","viewed":227,"name":"pentagramm","username":"balkhan","description":"mod polar to the rescue :D\nAfter trying iterative methods using the angle I found that polar folding of space by 5 and then drawing a triangle give the pentagram. \nPretty sure this can be further optimized.","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["2d","pentagram","modpolar"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"/*\n**\tLeon's mod polar from : https://www.shadertoy.com/view/XsByWd\n*/\n\n#define\tPI\t\t\t3.14159\n#define TAU\t\t\tPI*2.\n\nvec2 modA (vec2 p, float count) {\n    float an = TAU/count;\n    float a = atan(p.y,p.x)+an*.5;\n    a = mod(a, an)-an*.5;\n    return vec2(cos(a),sin(a))*length(p);\n}\n\n/*\n**\tend mod polar\n*/\n\n/*\n** arthursw's line : https://www.shadertoy.com/view/MdB3zK\n*/\n\nvec2 rotate(vec2 v, float alpha)\n{\n\tfloat vx = v.x*cos(alpha)-v.y*sin(alpha);\n\tfloat vy = v.x*sin(alpha)+v.y*cos(alpha);\n\tv.x = vx;\n\tv.y = vy;\n\treturn v;\n}\n\nfloat line(vec2 p1, vec2 p2, vec2 p, float thickness)\n{\n\tp -= p1;\n\tvec2 lineVector = p2-p1;\n\t\t\n\tfloat angle = -atan(lineVector.y,lineVector.x);\n\tp = rotate(p,angle);\n\t\n\tfloat dx = 0.0;\n\tif(p.x<0.0)\n\t\tdx = abs(p.x);\n\telse if(p.x>length(lineVector))\n\t\tdx = abs(p.x) - length(lineVector);\n\t\t\n\treturn ( thickness/(dx+abs(p.y)) );\n}\n\n/*\n**\tend line\n*/\n\nvoid mainImage( out vec4 o, in vec2 f )\n{\n\tvec2 u = (f.xy-.5*iResolution.xy) / iResolution.yy;\n\n    float\tdist = 0.;\n\n    const float angle = 0.314159;\n    dist = 0.;\n    \n    vec2\tr = vec2(+.275, .0);\n    u*=1.5;\n    u = modA(u, 5.);\n    u.x -=.49;\n    float rampsize = 1.0 / min(iResolution.x, iResolution.y);\n    dist = max(dist,\n               line(r, -r + vec2(.0, +angle*.5), vec2(u.x, abs(u.y) ), rampsize )\n              );\n    dist = max(dist,\n               line(-r + vec2(.0, -angle*.5), -r + vec2(.0, +angle*.5), u, rampsize )\n              );\n\to = vec4(0.,0.,0.,1.0);\n    o.x = dist;\n}","name":"Image","description":"","type":"image"}]}