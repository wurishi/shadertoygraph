{"ver":"0.1","info":{"id":"ctyBRm","date":"1701908496","viewed":21,"name":"Test Additive Lighting","username":"wainggan","description":"for a game","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["lights"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n    vec2 uv = fragCoord/iResolution.xy;\n    \n    vec2 light_pos = vec2(0.5);\n    float light_size = 50.0;\n    vec3 light_color = vec3(1.0, 0.0, 1.0);\n    float intensity = (sin(iTime / 2.0) / 2.0 + 0.5) * 4.0;\n    float fade = 1.2;\n    \n    float t = distance(uv.xy * 500.0, light_pos * 500.0);\n\tfloat a = 1.0 / max(1.5 / intensity, t - light_size);\n    a = pow(a, 1.0 / fade);\n    \n    a *= 1.0 - smoothstep(light_size * 1.0, light_size * 2.0, t);\n    \n    vec3 col = mix(light_color, vec3(1.0), 1.0 - 2.0 / intensity) * a;\n    \n    \n    vec3 background = texture(iChannel0, uv).rgb;\n    \n    vec3 mask = vec3(0.0);\n    \n    mask += max(col, 0.0);\n    \n    background *= mask;\n    \n    float exposure = 1.0;\n    \n    vec3 mapped = vec3(1.0) - exp(-background * exposure);\n    mapped = pow(mapped, vec3(1.0 / 2.0));\n    \n    // mapped = background;\n    \n    fragColor = vec4(mapped,1.0);\n}","name":"Image","description":"","type":"image"}]}