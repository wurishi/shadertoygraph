{"ver":"0.1","info":{"id":"ctB3Dh","date":"1673197288","viewed":182,"name":"Compiler bug with % and -","username":"fenix","description":"I thought these two macros should produce the same results, but on my system (Mac/Radeon 570X/Chrome or Firefox) they do not. Red = bad, Green = good. It looks like the unary negation operator is being simplified wrongly when % are used, maybe.","likes":2,"published":3,"flags":0,"usePreview":0,"tags":["glsl","modulo","compatibility","portability"],"hasliked":0,"parentid":"Dlj3Rh","parentname":"portable x%y"},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 O, vec2 U )\n{\n    ivec2 I = ivec2(-U.x, U.y); // only looking at -a/+b quadrant\n    \n    int x = abs(I.x) % (I.y);\n    int y = (-I.x) % (I.y);     // since I.x is always negative, -I.x should be equal to abs(I.x)\n    \n    O = x == y ? vec4(0, 1, 0, 1) : vec4(1, 0, 0, 1);\n}\n\n","name":"Image","description":"","type":"image"}]}