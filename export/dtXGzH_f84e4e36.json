{"ver":"0.1","info":{"id":"dtXGzH","date":"1671291031","viewed":921,"name":"Volumetric Fur Balls (445 chars)","username":"Poisson","description":"short code","likes":72,"published":1,"flags":0,"usePreview":0,"tags":["3d","raymarching","sss","ray","volume","raycasting","color","volumetric","raymarcher","hair","scattering","fur","atmosphere","rayleigh","scatter"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XdXGzn","filepath":"/media/a/3083c722c0c738cad0f468383167a0d246f91af2bfa373e9c5c094fb8c8413e0.png","previewfilepath":"/media/ap/3083c722c0c738cad0f468383167a0d246f91af2bfa373e9c5c094fb8c8413e0.png","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// this is the first time i've tried to make a short code\n\n#define V vec3\n\nfloat f(V p) {\n    return max(0.,1.1-length(p)-.1*texture(iChannel0,p.xy).r-.04*sin(sin(4.*p.x)+15.*p.y+6.*iTime));\n}\n\nvoid mainImage(out vec4 c, vec2 p) {\n    V r = iResolution, \n    d = V(fract((p-.5*r.xy)/r.y*2.2)-.5,1),\n    o = d*2.3-V(0,0,3),\n    a = V(5);\n    \n    c *= 0.;\n    for (int i=0; i<32; i++) {\n        c.rgb += (a*=mix(V(.9,1,.8),mix(mix(V(1,.9,.8),V(.8,.9,1),step(p.x,.5*r.x)),V(1,.8,.9),step(p.x,r.x/4.)),step(p.x,r.x*.75))-f(o+=d*.05)/3.)*max(0.,(f(o)-f(o+.07)));\n    }\n    c = sqrt(c/(1.+c));\n}\n\n// Xor's version (361 chars)\n/*\n\n#define f(p) max(0.,1.1-length(p)-.1*texture(iChannel0,p.xy).r-.04*sin(sin(4.*(p.x))+15.*(p.y)+6.*iTime))\n\nvoid mainImage(out vec4 c, vec2 p)\n{\n    vec3 r = iResolution,\n    d = vec3(fract((p-.5*r.xy)/r.y*2.2)-.5,1),\n    o = d*2.3-3./r, a = d-d+5.;\n    \n    for (c *= 0.; c.a++<32.; c.rgb += (a*=mat4x3(.8,.9,1,1,.8,.9,1,.9,.8,.9,1,.8)[int(p/r.x*4.)]-f(o)/3.)*max(0.,f(o)-f(.07+o)))\n        o+=d*.05;\n   \n    c = sqrt(c/++c);\n}\n\n*/\n\n// iq's version (349 chars)\n/*\n\n#define f(p) max(0.,1.1-length(p)-.1*texture(iChannel0,p.xy).r-.04*sin(sin(4.*(p.x))+15.*(p.y)+6.*iTime))\n\nvoid mainImage(out vec4 c, vec2 p)\n{\n    vec3 r = iResolution,\n    d = vec3(fract(1.1*(p+p-r.xy)/r.y)-.5,1),\n    o = d*2.3-3./r, f = d-d, a = f+5.;\n    \n    for(;o.z < 1.; \n         a *= .8+.1*vec3(ivec3(104,145,6)>>2*int(4.*p/r.x)&3)-f(o)/3.,\n         f += a*max(0.,f(o)-f(.07+o)) )\n         o += d*.05;\n   \n    c.rgb = sqrt(f/++f);\n}\n\n*/","name":"Image","description":"","type":"image"}]}