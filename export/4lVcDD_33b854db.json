{"ver":"0.1","info":{"id":"4lVcDD","date":"1536945463","viewed":113,"name":"td.rota.jxs","username":"piotrus04","description":"td.rota.jxs","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["rota"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4df3zn","filepath":"/media/a/3405e48f74815c7baa49133bdc835142948381fbe003ad2f12f5087715731153.ogv","previewfilepath":"/media/ap/3405e48f74815c7baa49133bdc835142948381fbe003ad2f12f5087715731153.ogv","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float user1 = 0.1; \nfloat user2 = 0.1; \nfloat user3 = 0.2;\nfloat user4 = 0.0;\nfloat user5 = 0.0; \nfloat user6 = 0.0; \nfloat user7 = 0.0;\nfloat user8 = 0.26;\nfloat user9 = 0.0;\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n       \n    \n    const float pi=3.1415926;\n\n    \n    \n    vec2 zoom = vec2(user1,user2);\n    vec2 anchor = vec2(user3,user4);\n\tvec2 offset = vec2(user5,user6);;\n\tfloat theta = user7; \n\tint boundmode = int(user8 * 4.0); \n\n    // where is the point?\n\tvec2 sizea = iResolution.xy;\n\tvec2 point = fragCoord / sizea;\n    \n    \n\t//transormation matrices\n\tmat2 sca = mat2 (1./zoom.x,0.,0.,1./zoom.y);//scaling matrix (zoom)\n\tmat2 rot = mat2 (cos(theta),sin(theta),-sin(theta),cos(theta));//rotation matrix\n\n\t//perform transform\n\tvec2 no = ((((point-anchor)*rot)*sca)+anchor)+offset;\n\n\t//create boundmodes\n\tvec2 no2 = mod(no,1.0);//wrap\t\n\t\n\tvec2 no4 = mix(mod(no,1.0),mod(no,1.0),floor(mod(no,1.0*2.)/1.0));//folded coords\n\t\n\t// sampler coord\n\tvec2 tc = no*float(boundmode==0) + no*float(boundmode==1) + no2*float(boundmode==2) + no*float(boundmode==3) + no4*float(boundmode==4);\n\t\n\n\t//sample textures\n\tvec4 smp0 = texture(iChannel0,tc);\n\tvec4 smp1 = texture(iChannel1,fragCoord);\n\t\n\tvec2 outbound = sign(floor(no/1.0));//check for point>size\n\tfloat boundchk = float(sign(float(outbound.x!=0.)+float(outbound.y!=0.)));\n\tfloat checkm0 = float(boundmode==0)*boundchk;\n\tfloat checkm1 = float(boundmode==1)*float(boundchk==0.);\n\tvec4 ifb0 = mix(smp0,smp1,checkm0);//ignore\n\tvec4 final = ifb0*float(boundmode != 1) + ifb0*float(checkm1==1.);//clear\n\t\n\t\n\t// output texture\n\tfragColor = final;\n    \n}\n\n\n\n\n\n","name":"Image","description":"","type":"image"}]}