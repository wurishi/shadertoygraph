{"ver":"0.1","info":{"id":"4ccyRX","date":"1730922014","viewed":119,"name":"Pattern experiment","username":"ianertson","description":"just experimenting with some patterns","likes":9,"published":3,"flags":0,"usePreview":0,"tags":["pattern"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define R iResolution\n#define T (iTime * 0.25)\n#define M_PI 3.141592653589793\n#define TAU (M_PI * 2.0)\n#define ONE_PI 0.3183098861837907\n#define EPS (ONE_PI*1.15)\n#define EXP1 2.718281828459045\n\n\nfloat smax(float a, float b, float k) {\n  float h = clamp(0.5+0.5*(b-a)/k,0.0,1.0);\n  return mix(a, b, h) + k * h * (1.0 -h);\n}\n\nfloat smod(float value, float m) {\n  float frac = mod((value), m) / m;\n  return smoothstep(0.0, 1.0, abs(0.5-frac));\n}\n\nfloat wave1(vec2 p) {\n  float sx = sin(p.x);\n  float cx = cos(p.x);\n  float sy = sin(p.y);\n  float cy = cos(p.y);\n  \n  float x = mix(sx, cx, ONE_PI);\n  float y = mix(sy, cy, ONE_PI);\n  \n  return x*y;\n}\n\nfloat wave2(vec2 p) {\n  float a = wave1(p-0.05);\n  float b = wave1(p+0.05);\n  return wave1(vec2(a, b)*EXP1);\n}\n\nfloat wave3(vec2 p) {\n  float a = wave2(p/ONE_PI);\n  float b = wave2(p*ONE_PI);\n  return wave2(vec2(a, b)*EXP1);\n}\n\nfloat wave4(vec2 p) {\n  return (wave3(p + EPS) - wave3(p - EPS)) / (2.0*EPS);\n}\n\nvoid mainImage(out vec4 O, in vec2 fc)\n{\n    vec2 uv = (fc.xy - 0.5 * R.xy) / R.y;\n    vec3 col = vec3(0.0);\n    vec2 co = (uv)*25.+TAU*vec2(sin(T), cos(T));\n    float pat = smoothstep(0.25, 0.45, tanh(wave3(co)));\n    col += wave4(co);\n    col += smax(smod(co.x-M_PI, 12.5), smod(co.y-M_PI, 12.5), -0.5);\n    col = tanh(col);\n    col = max(col, vec3(0.0));\n    col = mix(col, col*vec3(1, 0.1,0.1), pat);\n    col += (col*col*col*TAU);\n    col += length(col)/M_PI;\n    col = pow(col, vec3(1.0 / 2.2));\n    O = vec4(col, 1.0);\n}","name":"Image","description":"","type":"image"}]}