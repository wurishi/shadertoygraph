{"ver":"0.1","info":{"id":"mtlXDs","date":"1675519303","viewed":330,"name":"Seigaiha Pattern","username":"cmzw","description":"Scrolling Seigaiha pattern","likes":12,"published":3,"flags":0,"usePreview":0,"tags":["pattern","japanese","seigaiha"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define AA 3\n\nvoid mainImage( out vec4 O, in vec2 I )\n{\n    vec3 tot = vec3(0.);\n    vec4 a = vec4(1,1.732,-1,0);\n\n    for( int m=0; m++<AA; )\n    for( int n=0; n++<AA; )\n    {\n        vec2 o = vec2(float(m),float(n)) / float(AA) -.5;\n        vec2 p = (3.*I+o - iResolution.xy) / iResolution.y + iTime*.25;\n\n        p *= a.xy;\n        vec2 k = p;\n        p = a.yx*(fract(p)-.5);\n\n        vec2 d1 = p - vec2(-.866, -.5);\n        vec2 d2 = p - vec2(.866, -.5);\n        vec2 d3 = p - a.wz;\n\n        p = mix(p,d1,s(d1));\n        p = mix(p,d2,s(d2));\n        p = mix(p,d3,s(d3));\n\n        vec2 i = mix(k - a.xz, k ,s(d1));\n        i = mix(i,k + a.xw, s(d2));\n        i = mix(i,k - a.xw, s(d3));\n     \n        float d = step(sin(length(p)*27.),.1)+.7;\n        \n        vec3 col = d*pal(hash12(floor(i)),\n            vec3(.6),vec3(.5),vec3(.5),\n            vec3(0,.12,.15));\n\n        tot += col;\n    }   \n    tot /= float(AA*AA);\n   \n    O = vec4(aces_tonemap(tot),0);\n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"// https://www.shadertoy.com/view/ll2GD3\nvec3 pal( in float t, in vec3 a, in vec3 b, in vec3 c, in vec3 d )\n{\n    return a + b*cos( 6.28318*(c*t+d) );\n}\n\n// https://www.shadertoy.com/view/4djSRW\nfloat hash12(vec2 p)\n{\n\tvec3 p3  = fract(vec3(p.xyx) * .1031);\n    p3 += dot(p3, p3.yzx + 33.33);\n    return fract((p3.x + p3.y) * p3.z);\n}\n\nvec3 aces_tonemap(vec3 color){\t\n\tmat3 m1 = mat3(\n        0.59719, 0.07600, 0.02840,\n        0.35458, 0.90834, 0.13383,\n        0.04823, 0.01566, 0.83777\n\t);\n\tmat3 m2 = mat3(\n        1.60475, -0.10208, -0.00327,\n        -0.53108,  1.10813, -0.07276,\n        -0.07367, -0.00605,  1.07602\n\t);\n\tvec3 v = m1 * color;    \n\tvec3 a = v * (v + 0.0245786) - 0.000090537;\n\tvec3 b = v * (0.983729 * v + 0.4329510) + 0.238081;\n\treturn pow(clamp(m2 * (a / b), 0.0, 1.0), vec3(1.0 / 2.2));\t\n}\n\nfloat s(vec2 p) { return step(length(p),1.); }","name":"Common","description":"","type":"common"}]}