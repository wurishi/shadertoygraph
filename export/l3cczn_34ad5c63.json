{"ver":"0.1","renderpass":[{"outputs":[{"channel":0,"id":"4dfGRr"}],"inputs":[{"channel":0,"type":"buffer","id":"4dXGR8","filepath":"/media/previz/buffer00.png","sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}},{"channel":2,"type":"buffer","id":"4sXGR8","filepath":"/media/previz/buffer02.png","sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}}],"code":"Main {\n    \n    Q = C(.0*R+U);\n\n    Q *= 1.+.5*sin(30.*A(vec2(0,10)).x+U.x/R.x+vec4(1,2,3,4));\n    \n    Q *= 1.-.5*exp(-.1*U.x);\n    Q *= 1.-.5*exp(-.1*U.y);\n    Q *= 1.-.5*exp(-.1*(R.x-U.x));\n    Q *= 1.-.5*exp(-.1*(R.y-U.y));\n    \n    Q *= Q;\n    //Q = A(U);\n}","name":"Image","description":"","type":"image"},{"outputs":[],"inputs":[],"code":"#define R iResolution.xy\n#define A(U) texture(iChannel0,(U)/R)\n#define B(U) texture(iChannel1,(U)/R)\n#define C(U) texture(iChannel2,(U)/R)\n#define D(U) texture(iChannel3,(U)/R)\n#define Main void mainImage(out vec4 Q, in vec2 U)\n#define ei(a) mat2(cos(a),sin(a),-sin(a),cos(a))\nvec4 hash(vec4 p4)\n{\n    p4 = fract(p4  * vec4(.1031, .1030, .0973, .1099));\n    p4 += dot(p4, p4.wzxy+33.33);\n    return fract((p4.xxyz+p4.yzzw)*p4.zywx);\n}\nvec4 opElongate( in vec3 p, in vec3 h )\n{\n    vec3 q = abs(p)-h;\n    return vec4( max(q,0.0), min(max(q.x,max(q.y,q.z)),0.0) );\n}\nfloat sdCappedCylinder( vec3 p, vec2 h )\n{\n  vec2 d = abs(vec2(length(p.xy),p.z)) - .25*h;\n  return min(max(d.x,d.y),0.0) + length(max(d,0.0));\n}\nfloat roundBox(vec3 p, vec3 b , float r) {\n    vec4 w = opElongate( p, .5*b );\n    return w.w+sdCappedCylinder( w.xyz, vec2(r,.5*b.z) ) ;\n}\nfloat roundBox(vec2 p, vec2 b, float r) {\n    return roundBox(vec3(p,0),vec3(b,1e9),r);\n}","name":"Common","description":"","type":"common"},{"outputs":[{"channel":0,"id":"4dXGR8"}],"inputs":[{"channel":0,"type":"music","id":"XsXGzn","filepath":"/media/a/29de534ed5e4a6a224d2dfffab240f2e19a9d95f5e39de8898e850efdb2a99de.mp3","sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}},{"channel":1,"type":"buffer","id":"4dXGR8","filepath":"/media/previz/buffer00.png","sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}}],"code":"Main {\n    \n    Q = .4*A(vec2(U.x,0));\n    Q *= Q*Q*Q;\n    if (U.y>1.) {\n        U.y -= 1.;\n        vec4 db = B(U-vec2(-1,0))+B(U-vec2(1,0)) - 2.*B(U);\n        //Q.y += (B(U-vec2(-1,1))+B(U-vec2(1,1))).x-2.*B(U).x;\n        Q = B(U);\n        Q.y += db.x*.5-.5*Q.x;\n        Q.x += Q.y;\n    }\n}","name":"Buffer A","description":"","type":"buffer"},{"outputs":[{"channel":0,"id":"XsXGR8"}],"inputs":[{"channel":0,"type":"buffer","id":"4dXGR8","filepath":"/media/previz/buffer00.png","sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}},{"channel":1,"type":"buffer","id":"XsXGR8","filepath":"/media/previz/buffer01.png","sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}}],"code":"Main {\n    Q = vec4(0);\n    {\n        vec2 V = .5*(U-vec2(.5,.3)*R)/R.y;\n        vec2 u = vec2(roundBox(V,vec2(1)*A(vec2(1)).x,2.*A(vec2(20,0)).x),atan(V.y,V.x));\n        Q += .5*texture(iChannel0,vec2(.5*u.x,1./R.y));\n        Q += .5*texture(iChannel0,vec2(.5*u.x,2./R.y));\n        Q += .5*texture(iChannel0,vec2(.5*u.x,4./R.y));\n    }\n    {\n        vec2 V = 3.*(U-vec2(.2,.4)*R)/R.y;\n        V *= ei(A(vec2(10,1.)).x);\n        vec2 u = vec2(roundBox(V,vec2(.5)*A(vec2(0)).x,.01*A(vec2(20,0)).x),atan(V.y,V.x));\n        Q += .5*texture(iChannel0,vec2(.5*u.x,6./R.y));\n        Q += .5*texture(iChannel0,vec2(.5*u.x,8./R.y));\n        Q += .5*texture(iChannel0,vec2(.5*u.x,10./R.y));\n    }\n    {\n        vec2 V = 1.*(U-vec2(.4,.6)*R)/R.y;\n        V *= ei(A(vec2(5,5.)).x);\n        vec2 u = vec2(roundBox(V,vec2(.1)*A(vec2(0)).x,3.*A(vec2(20,0)).x),atan(V.y,V.x));\n        Q += .5*texture(iChannel0,vec2(.5*u.x,12./R.y));\n        Q += .5*texture(iChannel0,vec2(.5*u.x,14./R.y));\n        Q += .5*texture(iChannel0,vec2(.5*u.x,16./R.y));\n    }\n    {\n        vec2 V = 1.*(U-vec2(.6,.6)*R)/R.y;\n        V *= ei(A(vec2(5,5.)).x);\n        vec2 u = vec2(roundBox(V,vec2(.1)*A(vec2(0)).x,1.*A(vec2(20,0)).x),atan(V.y,V.x));\n        Q += .5*texture(iChannel0,vec2(.5*u.x,18./R.y));\n        Q += .5*texture(iChannel0,vec2(.5*u.x,20./R.y));\n        Q += .5*texture(iChannel0,vec2(.5*u.x,22./R.y));\n    }\n    {\n        vec2 V = 3.*(U-vec2(.8,.4)*R)/R.y;\n        V *= ei(3.+20.*A(vec2(5,5.)).x);\n        vec2 u = vec2(roundBox(V,vec2(20)*A(vec2(0)).x,.5*A(vec2(20,0)).x),atan(V.y,V.x));\n        Q += .5*texture(iChannel0,vec2(.5*u.x,24./R.y));\n        Q += .5*texture(iChannel0,vec2(.5*u.x,26./R.y));\n        Q += .5*texture(iChannel0,vec2(.5*u.x,28./R.y));\n    }\n    Q *= .2;\n    Q.x = Q.y;\n    Q.x = mix(Q.x,0.25*(B(U+vec2(1,0)).x+B(U+vec2(-1,0)).x+\n        B(U+vec2(0,1)).x+B(U+vec2(0,-1)).x),.8);\n    Q.zw = vec2(\n        B(U+vec2(1,0)).x-B(U+vec2(-1,0)).x,\n        B(U+vec2(0,1)).x-B(U+vec2(0,-1).x)\n    \n    );\n    Q.y = 1./(1.+abs(1e4*(\n        B(U+vec2(1,0)).z-B(U+vec2(-1,0)).z+\n        B(U+vec2(0,1)).w-B(U+vec2(0,-1)).w\n    \n    )));\n}","name":"Buffer B","description":"","type":"buffer"},{"outputs":[{"channel":0,"id":"4sXGR8"}],"inputs":[{"channel":1,"type":"buffer","id":"XsXGR8","filepath":"/media/previz/buffer01.png","sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}},{"channel":2,"type":"buffer","id":"4sXGR8","filepath":"/media/previz/buffer02.png","sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}}],"code":"Main {\n\n    Q = .8*C(U);\n    float N = 50.;\n    vec4 H = hash(vec4(U,iFrame,1));\n    for (float i = 0.; i < N; i++) {\n        \n        float a = (i+H.z);\n        vec2 h = 2.*H.xy+10.*sqrt(i/N)*vec2(cos(a),sin(a));\n        float k = .2;\n        vec4 b = B(U+h.xy);\n        b.y = 1.;\n        b.zw = 2.*exp(-4.*length(U-.5*R)/R.x)*reflect(vec3(0,0,1),normalize(vec3(b.zw,.0001))).xy;\n        h.xy -= 10.*b.zw;\n        Q.z += k*exp(-dot(h.xy,h.xy)*b.y*b.y)*b.y;\n        h.xy -= 4.*b.zw;\n        Q.y += k*exp(-dot(h.xy,h.xy)*b.y*b.y)*b.y;\n        h.xy -= 4.*b.zw;\n        Q.x += k*exp(-dot(h.xy,h.xy)*b.y*b.y)*b.y;\n       \n    \n    }\n}","name":"Buffer C","description":"","type":"buffer"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":true,"mFlagMusicStream":false},"info":{"id":"l3cczn","date":"1734633017","viewed":231,"name":"AudioReactive Caustic","username":"wyatt","description":"audio reactive caustic (might have to hit play in buffer A)","likes":17,"published":3,"flags":32,"usePreview":0,"tags":["audio"],"hasliked":0,"parentid":"","parentname":""}}