{"ver":"0.1","info":{"id":"XlcBR8","date":"1538507315","viewed":65,"name":"EGP-200 - Layered House - Jake R","username":"jacobrose","description":"no conditional, aspect ratio corrected","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["layers"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec2 houseSize = vec2(1.0,0.6);\nvec2 housePos = vec2(0.5,0.3);\nvec4 houseColor = vec4(0.4,0.2,0.8,1.0); //SWITCH OFF BY SETTING ALPHA TO 0.0\n\nvec2 chimneySize = vec2(0.15, 0.6);\nvec2 chimneyPos = vec2(0.7,0.6);\nvec4 chimneyColor = vec4(0.6,0.2,0.2, 1.0); //SWITCH OFF BY SETTING ALPHA TO 0.0\n\nvec2 window1Size = vec2(0.2, 0.2);\nvec2 window1Pos = vec2(0.35,0.4);\nvec4 window1Color = vec4(0.9,0.9,0.9, 1.0); //SWITCH OFF BY SETTING ALPHA TO 0.0\n\nvec2 window2Size = vec2(0.2, 0.2);\nvec2 window2Pos = vec2(0.65,0.4);\nvec4 window2Color = vec4(0.9,0.9,0.9, 1.0); //SWITCH OFF BY SETTING ALPHA TO 0.0\n\nvec4 backgroundColor = vec4(1.0);\n\nfloat when_lt(float x, float y);\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    \n    vec4 color = backgroundColor;\n    vec4 houseLayer = vec4(0.0);\n    vec4 windowLayer = vec4(0.0);\n    vec4 chimneyLayer = vec4(0.0);\n    \n    float aspectRatio = iResolution.y/iResolution.x;\n    uv.y *= aspectRatio;\n    houseSize.y *= aspectRatio;\n    housePos.y *= aspectRatio;\n    chimneySize.y *= aspectRatio;\n    chimneyPos.y *= aspectRatio;\n    window1Size.y *= aspectRatio;\n    window1Pos.y *= aspectRatio;\n    window2Size.y *= aspectRatio;\n    window2Pos.y *= aspectRatio;\n    \n    vec2 hp = (uv - housePos);\n    \n    houseLayer = houseColor * when_lt(abs(hp.x)*2.0, houseSize.x * aspectRatio) * when_lt(abs(hp.y)*2.0, houseSize.y);\n    \n    hp = (uv - chimneyPos);\n    \n    chimneyLayer = chimneyColor * when_lt(abs(hp.x)*2.0, chimneySize.x * aspectRatio) * when_lt(abs(hp.y)*2.0, chimneySize.y);\n    \n    hp = (uv - window1Pos);\n    \n    windowLayer = window1Color * when_lt(abs(hp.x)*2.0, window1Size.x * aspectRatio) * when_lt(abs(hp.y)*2.0, window1Size.y);\n    \n    hp = (uv - window2Pos);\n    \n    //will either be adding window2Color to zero, adding zero to window1Color, or adding zero to zero\n    windowLayer += window2Color * when_lt(abs(hp.x)*2.0, window2Size.x * aspectRatio) * when_lt(abs(hp.y)*2.0, window2Size.y);\n    \n    color = mix(color, chimneyLayer, chimneyLayer.a);\n    color = mix(color, houseLayer, houseLayer.a);\n    color = mix(color, windowLayer, windowLayer.a);\n    \n    // Output to screen\n    fragColor = color;\n}\n\nfloat when_lt(float x, float y) {\n  return max(sign(y - x), 0.0);\n}\n\n","name":"Image","description":"","type":"image"}]}