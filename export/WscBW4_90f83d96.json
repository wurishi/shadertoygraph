{"ver":"0.1","info":{"id":"WscBW4","date":"1605075710","viewed":362,"name":"SolarSystemSimple","username":"ToniMateos","description":"Circles moving","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["circles"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float circleShader(in vec2 p, in vec2 center, in float r, in float blur) \n{\n    vec2 d = p-center;\n    return 1. - smoothstep(r, r + blur, length(d));\n}\n\nvec2 pointInCircle(in vec2 center, in float r, in float angle) \n{\n    return r * vec2( cos(angle), sin(angle)) + center;\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 p = fragCoord/iResolution.xy;\n\n    float earthRadius = 0.03;\n    float moonRadius = 0.01;\n    float sunRadius = 0.09;\n\n    float earthOrbit = 0.3;\n    float moonOrbit = 0.07;\n\n    float earthPeriod = 2.;\n    float moonPeriod = earthPeriod/12.; // moon circles earth approx 12 times per year \n    \n    float noDiffuse = 0.01;\n    float quiteDiffuse = 0.15;\n    \n    // sun\n    vec2 sunCenter = vec2(0.5,0.5);\n    float movingSunRadius = sunRadius * pow(1.0 + 0.02* cos(2.*iTime), 8.0);\n    float sunColor = circleShader(p, pointInCircle(sunCenter, 0.,0.),movingSunRadius, quiteDiffuse);\n    vec3 sun = vec3(sunColor, sunColor, 0.);\n\n    // earth\n    vec2 earthCenter = pointInCircle(sunCenter, earthOrbit, iTime/earthPeriod);\n    float earthColor = circleShader(p, pointInCircle(earthCenter, 0.,0.),earthRadius, noDiffuse);\n    vec3 earth = vec3(0., 0., earthColor);\n\n    // moon\n    vec2 moonCenter = pointInCircle(earthCenter, moonOrbit, iTime/moonPeriod);\n    float moonColor = circleShader(p, moonCenter, moonRadius, noDiffuse);\n\tvec3 moon = vec3(moonColor, moonColor, moonColor);\n    \n    fragColor = vec4(moon+sun+earth,1.0);\n}","name":"Image","description":"","type":"image"}]}