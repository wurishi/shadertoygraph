{"ver":"0.1","info":{"id":"dl2XRV","date":"1676345185","viewed":234,"name":"chat gpt bayer dithering","username":"HoosierTransfer","description":"woah. chat got actually got it right","likes":6,"published":1,"flags":0,"usePreview":0,"tags":["dithering","bayer","ai","chatgpt"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4df3zn","filepath":"/media/a/3405e48f74815c7baa49133bdc835142948381fbe003ad2f12f5087715731153.ogv","previewfilepath":"/media/ap/3405e48f74815c7baa49133bdc835142948381fbe003ad2f12f5087715731153.ogv","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n    // Define the Bayer dithering matrix\n    int ditherMatrix[16] = int[](\n         1,  9,  3, 11,\n        13,  5, 15,  7,\n         4, 12,  2, 10,\n        16,  8, 14,  6\n    );\n    \n    // Sample the input texture\n    vec4 texColor = texture(iChannel0, fragCoord / iResolution.xy);\n    \n    // Convert to grayscale\n    float gray = dot(texColor.rgb, vec3(0.299, 0.587, 0.114));\n    \n    // Determine the Bayer dithering threshold for this pixel\n    int x = int(mod(fragCoord.x, 4.0));\n    int y = int(mod(fragCoord.y, 4.0));\n    int index = x + y * 4;\n    float threshold = float(ditherMatrix[index]) / 17.0;\n    \n    // Apply dithering and output black or white\n    if (gray > threshold) {\n        fragColor = vec4(1.0);\n    } else {\n        fragColor = vec4(0.0);\n    }\n}\n","name":"Image","description":"","type":"image"}]}