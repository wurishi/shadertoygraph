{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"struct sphere_t{\n\tvec3 position;\n\tfloat radius;\n};\n\nstruct ray_t{\n\tvec3 origin;\n\tvec3 direction;\n};\n\t\nfloat max_distance = 1e5;\n\nfloat intersect( const in ray_t ray, const in sphere_t sphere){\n\tfloat a = ray.direction.x * ray.direction.x + ray.direction.y * ray.direction.y + ray.direction.z * ray.direction.z;\n\tfloat b =  2.0 * (ray.origin.x * ray.direction.x + ray.origin.y * ray.direction.y + ray.origin.z * ray.direction.z);  ;\n\tfloat c = ray.origin.x*ray.origin.x + ray.origin.y * ray.origin.y + ray.origin.z * ray.origin.z - sphere.radius * sphere.radius;\n\tfloat delta = b * b - 4.0 * a * c;\n\tfloat t;\n\tif(delta < 0.0){\n\t\treturn max_distance;\n\t}\n\telse if(delta == 0.0){\n\t\treturn -b/(2.0*a);\n\t}\n\telse{\n\t\tt = (- b + sqrt(delta)) / 2.0 * a;\n\t\tif ( t < (- b - sqrt(delta))/ 2.0 * a ) return t;\n\t\telse return (- b - sqrt(delta)) / 2.0 * a;\n\t}\n\t\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ){\n\t\n\tfloat aspect_ratio = iResolution.x / iResolution.y;\n\tvec2 screen_coordinate = fragCoord.xy / iResolution.xy;\n\tvec2 screen_coordinate_centered = vec2(aspect_ratio, 1.0) *( 2.0 * screen_coordinate - 1.0);\n\t\n\tray_t primary_ray;\n\tprimary_ray.origin = vec3(2.0 * cos(iTime), 0.0, 10.0 * sin(10.0*iTime));\n\tprimary_ray.direction = vec3 (screen_coordinate_centered, - 1.0);\n\t\n\tsphere_t sphere;\n\tsphere.position = vec3(0.0, 0.0, 0.0);\n\tsphere.radius = 1.0;\n\t\n\t\n\tfloat distance_from_origin = intersect( primary_ray, sphere );\n\t\n\tif(distance_from_origin < max_distance){\n\t\tvec3 sphere_color =  vec3(0.0, 1.0, 0.0);\n\t\tfragColor = vec4( sphere_color, 1.0 );\n\t}\n\telse{\n\t\tvec3 background_color = vec3(0.7*sin(3.0*iTime), 0.3*sin(10.0*iTime), 0.8*sin(5.0*iTime));\n\t\tfragColor = vec4( background_color, 1.0 );\n\t}\n\t\n\t//fragColor = vec4(primary_ray.direction, 1.0);\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"4dBGRc","date":"1391423323","viewed":155,"name":"epilepsy2","username":"bobpool","description":"sphere epilepsy","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["epilepsy"],"hasliked":0,"parentid":"","parentname":""}}