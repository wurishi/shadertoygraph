{"ver":"0.1","info":{"id":"3dlGzr","date":"1544752510","viewed":102,"name":"Wobly guy 2","username":"tbaudon","description":"polar coordinate are awesome ","likes":2,"published":1,"flags":64,"usePreview":0,"tags":["sin","trippy","polar","jcvd"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XdfGRr","filepath":"/media/a/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm","previewfilepath":"/media/ap/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"MtX3zN","filepath":"https://soundcloud.com/mrsuicidesheep/imagined-herbal-flows-clouds?in=darwin-charles-5/sets/acid-trip","previewfilepath":"https://soundcloud.com/mrsuicidesheep/imagined-herbal-flows-clouds?in=darwin-charles-5/sets/acid-trip","type":"musicstream","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":0}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define BLEND_NORMAL 1\n\nvec4 draw(vec4 canvas, vec4 drawable, int blendMode) {\n\n    switch(blendMode) {\n        case BLEND_NORMAL :\n        \n        canvas.r = (canvas.r * (1.0 - drawable.a) + drawable.r * drawable.a);\n        canvas.g = (canvas.g * (1.0 - drawable.a) + drawable.g * drawable.a);\n        canvas.b = (canvas.b * (1.0 - drawable.a) + drawable.b * drawable.a);\n        canvas.a = 1.0;\n        \n        break;\n        \n        default: \n        break;\n    }\n    \n    return canvas;\n}\n\nvec4 JCVD(vec2 pos, vec2 fragCoord, float wobleCoef, float scale) {\n    \n    vec4 chromaKeyColor = vec4(0.05, 0.63, 0.14, 1.0);\n\n    vec2 JCVDOrigin = vec2(0.4, 0.0);\n    \n\tvec2 xy =  (fragCoord -.5* iResolution.xy ) / iResolution.y;\n    xy -= pos;\n    \n    float r = length(xy);\n    float i = atan(xy.y, xy.x) + sin(r * 10.0 + iTime * 5.0) * (0.02 + wobleCoef) + iTime * cos(iTime*0.1) * 0.001;\n    \n    float nbRepeat = 4.0;\n    \n    \n    vec2 uv = vec2(abs(cos(i * nbRepeat)), abs(sin(i * nbRepeat))) * r / scale;\n    \n    vec4 col = texture(iChannel0, uv);\n   \n    \n    float chromaKeyDiff = length(col - chromaKeyColor);   \n    chromaKeyDiff = clamp(chromaKeyDiff * 1.5, 0.0, 1.0);\n    col.a = chromaKeyDiff;\n    \n    return col;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    \n    float beatCoefA = texture( iChannel1, vec2(0.0, 0.0) ).x; \n    float beatCoefB = texture( iChannel1, vec2(0.5, 0.0) ).x; \n    float beatCoefC = texture( iChannel1, vec2(1.0, 0.0) ).x; \n    \n    \n    \n    vec3 bg = vec3(1.0, 1.0, 1.0);\n    bg.r = abs(sin(iTime * 0.02));\n    bg.g = abs(sin(iTime * 0.03));    \n    bg.b = abs(sin(iTime * 0.05));\n\n\n    fragColor = vec4(bg, 1.0);\n    \n    float scale = 0.25 * sin(iTime) + 0.5;\n\n    vec4 stamp = vec4 (0.0, 0.0, 0.0, 0.0);\n\n    float nb = 32.0;\n    for(float i = 0.0; i < nb; ++i) {\n        \n        float angle = i * (3.14159 * 2.0) / nb + iTime * ( 0.25 + beatCoefC * 0.001);\n        \n        float a = cos(angle) * 0.5;       \n        float b = sin(angle) * 0.5;\n        \n        \n        stamp = draw(\n            stamp,\n            JCVD(\n                vec2(a, b),\n                fragCoord,\n                beatCoefB,\n                0.15 + b * 0.2\n            ),\n            BLEND_NORMAL\n        );\n        \n        \n        \n    }\n    \n    stamp.a = 0.25;\n        \n    fragColor = draw(\n        fragColor,\n        stamp,\n        BLEND_NORMAL\n    );\n    \n    vec4 jc = JCVD(\n       \tvec2(0.0, 0.0),\n        fragCoord,\n        beatCoefB,\n        scale\n    );\n        \n    fragColor = draw(\n        fragColor,\n        jc ,\n        BLEND_NORMAL\n    );\n        \n}","name":"Image","description":"","type":"image"}]}