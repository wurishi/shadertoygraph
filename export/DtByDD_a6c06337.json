{"ver":"0.1","info":{"id":"DtByDD","date":"1691764613","viewed":128,"name":"Hexagon Spiral Line","username":"lemonlemon","description":"Hexagon Spiral Line","likes":12,"published":1,"flags":0,"usePreview":0,"tags":["spiral"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float random (vec2 st) {\n    return fract(sin(dot(st.xy,\n                         vec2(12.9898,78.233)))*\n        43758.5453123);\n}\n\nmat2 rotate2d(float _angle){\n    return mat2(cos(_angle),-sin(_angle),\n                sin(_angle),cos(_angle));\n}\n\nmat2 scale(vec2 _scale){\n    return mat2(_scale.x,0.0,\n                0.0,_scale.y);\n}\n\nfloat plot(float st, float pct){\n  return  smoothstep( pct-0.002, pct, st) -\n          smoothstep( pct, pct+0.002, st);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n    vec2 uv = (fragCoord.xy-.5*iResolution.xy)/min(iResolution.x, iResolution.y);\n\n    uv = uv*rotate2d(-iTime*.23);\n\n    float poly = 6.0; //poly\n\n    float angle = (acos(0.)*4.)/poly;\n    float dd = 0.0;\n\n    float D = 8.; //sub\n    float _delta =  angle/D;\n\n    vec3 color = vec3(1.);\n    float d = .4; // radius\n\n    float a = atan(uv.y, uv.x)/acos(0.)/4.*poly;\n    float e = fract(a);\n    float q = floor(a);\n\n    // if (e>0.995 || e < 0.005) {\n    //     color = vec3(0.,1.,0.);\n    // }\n\n    float ww = cos(angle/2.)/cos(angle/2.-_delta);\n\n    d = d/pow(ww,D*fract(iTime));\n\n    float ss = floor(e*D);\n\n    float start = d*pow(ww,ss);\n    float end = d*pow(ww,ss+1.);\n\n    float qq = (end - start)*pow(fract(e*D),1.) + start;\n\n    float level_raw = log(length(uv)/qq)/D/log(ww);\n    float level = floor(level_raw);\n\n    // color = vec3(random(vec2(level, floor(a*D))));\n\n    // if (length(uv) > qq) {\n    //     color = vec3(.9);\n    // }\n\n    float x = floor(a*D);\n    vec2 ccc = uv*rotate2d(-angle*.5-x*angle/D);\n\n\n    color = mix(color, vec3(0.,0.,0.), plot(start*pow(ww,D* (level))*cos(angle/2.), ccc.x));\n    for (float rcc = 0.; rcc < D-.5; rcc += 1.0) {\n        color = mix(color, vec3(0.,0.,0.), plot(start*pow(ww,D* (level+1.))*cos(angle/2.), ccc.x));\n        ccc = ccc*rotate2d(angle/D);\n        start = start/ww ;\n    }\n\n\n    // for (float r = 0.; r < 2.*D ; r+=1.) {\n    //     float a = atan(uv.y, uv.x)/acos(0.)/4.*poly;\n    //     float e = fract(a);\n    //     float q = floor(a);\n    //     vec2 st = uv *rotate2d(angle*.5-angle*(q+1.));\n    //     color = mix(color, vec3(0.), .5*plot(d*cos(angle/2.), st.x));\n    //     dd += _delta;\n    //     uv = uv * rotate2d(-_delta);\n    //     d = d*cos(angle/2.)/cos(angle/2.-_delta);\n    // }\n\n\n    fragColor = vec4(color,1.0);\n}\n","name":"Image","description":"","type":"image"}]}