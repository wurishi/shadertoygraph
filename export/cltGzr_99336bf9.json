{"ver":"0.1","info":{"id":"cltGzr","date":"1681886957","viewed":253,"name":"The High Priestess","username":"Kali","description":"Made as a gift for Cristal de Luna","likes":39,"published":1,"flags":64,"usePreview":0,"tags":["2d","drawing"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"Xd3GRH","filepath":"https://soundcloud.com/meditation-music/zensday-morning?si=158b4645e6f443ddad87845eab207ccc&utm_source=clipboard&utm_medium=text&utm_campaign=social_sharing","previewfilepath":"https://soundcloud.com/meditation-music/zensday-morning?si=158b4645e6f443ddad87845eab207ccc&utm_source=clipboard&utm_medium=text&utm_campaign=social_sharing","type":"musicstream","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":0}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define blend(c,b) mix(c.rgb,b.rgb,b.a)\n#define shape(d,s) smoothstep(s,0.,d)\n#define skin_color vec3(.8,.6,.5)\n#define eyes_color vec3(.5,.4,.2)\n#define lips_color vec3(.8,.45,.4)\n#define hair_color vec3(.1,.05,.0)\n#define so texture(iChannel0,vec2(.3)).x\n\nfloat box(vec2 p, vec2 c) {\n\treturn length(max(vec2(0.),abs(p)-c));\n}\n\n\nmat2 rot(float a) {\n    float s=sin(a),c=cos(a);\n    return mat2(c,s,-s,c);\n}\n\nvec4 sphere(vec2 p) \n{\n    p.y-=.6;\n    p.x*=.85;\n    float d=length(p)-.17;\n    vec3 yellow=vec3(1.,.7,0.4)*exp(-3.*length(p+.05));\n    p.y+=.14;\n    p.y*=6.;\n    float ring=length(p)-.2;\n    d=min(d,ring);\n    yellow=mix(yellow,vec3(.35,.3,.3),step(ring,.01));\n    yellow+=exp(-17.*ring)*.01;\n    return vec4(yellow,shape(d,.01));\n}\n\nvec4 horns(vec2 p) \n{\n    vec2 pos=p;\n    p*=.9;\n    p.y-=.65;\n    p.x=abs(p.x)-.23;\n    p*=rot(-.5);\n    p.x+=sin(p.y*17.+6.5)*.05;\n    float d=box(p,vec2(.04-p.y*.2,.27));\n    pos.y-=.39;\n    pos.y*=2.;\n    float rin=abs(length(pos)-.23)-.02;\n    d=min(d,rin);\n    pos.y*=5.;\n    vec3 c=vec3(1.,.5,.3)*.6*exp(-10.*length(p.x));\n    c=max(c,exp(-30.*rin)*.25*vec3(skin_color*2.));\n    return vec4(c,shape(d,.01));\n}\n\nvec4 head(vec2 p) \n{\n    p.y+=.01;\n\tp*=.77;\n \tp.x*=1.-p.y*p.y;\n    p.x*=1.45;\n    p.x*=1.-p.y*.9;\n    p.x*=1.-smoothstep(-.05,.1,-p.y)*.05;\n    p.x*=1.+smoothstep(0.1,.4,-p.y)*.15;\n    float d=length(p)-.3;\n    return vec4(skin_color-d*.7,shape(d,.01));\n}\n\nvec4 neck(vec2 p) \n{\n    p.y+=.4;\n    p.x*=1.-smoothstep(0.,-.3,p.y)*.7;\n    float d=box(p,vec2(.17,.4));\n    return vec4(skin_color,shape(d,.01));\n}\n\n\nvec4 eyes(vec2 pos) \n{\n\tpos.y*=1.3;\n    pos.y-=.01;\n    vec3 c=vec3(1.);\n    pos.x-=.145;\n    vec2 p=pos;\n    p.y*=1.5+p.x*p.x*20.;\n    p.y+=smoothstep(0.05,.1,-p.x)*.05;\n    p.y=abs(p.y-.05)+.055;\n    float d1=length(p)-.09;\n    c-=abs(1.-shape(d1+.01,.015))*.4;\n    p=pos;\n    p.y-=.045;\n    float d2=length(p)-.03;\n    float d3=length(p)-.012;\n    c=mix(c,eyes_color,shape(d2,.01));\n    c*=1.-shape(d3,.015);\n    p+=.005;\n    float d4=length(p)-.003;\n    c+=shape(d4,0.01)*.5;\n    return vec4(c,shape(d1,.01));\n}\n\nfloat eyelids(vec2 pos) \n{\n    pos.y*=1.1;\n    vec2 p=pos;\n    p.x-=.135;\n    p.y-=.085-p.x*p.x*7.+p.x*.25;\n    p.y*=15.;\n\tfloat d1=length(p)-.07;\n    p=pos;\n    p.x-=.155;\n    p.y-=.06-p.x*p.x*5.;\n    p.y*=15.;\n\tfloat d2=length(p)-.07;\n    p=pos;\n    p.x-=.15;\n    p.x*=.8;\n    p.y+=.01-p.x*p.x*7.;\n    p.y*=15.;\n\tfloat d3=length(p)-.07;\n    return shape(d1,.01)*.15+shape(d2,.03)*.5+shape(d3,.01)*.03;\n}\n\nfloat eyebrows(vec2 p) \n{\n\tp.x-=.12+p.x*.2;\n    p.y-=.11-p.x*p.x*4.-smoothstep(.03,.1,p.x)*.0;\n    p.y*=6.;\n    float d=length(p)-.05;\n    return shape(d,.04)*.7*(.5+fract(p.x*100.+p.y*10.)*.5);\n}\n\nfloat nose(vec2 pos) \n{\n    pos.x*=1.3;\n    vec2 p=pos;\n    p*=.9;\n    p.y-=p.x*p.x*3.;\n    p.x*=smoothstep(0.,.05,p.x);\n    p.y+=.16+cos(p.x*90.)*.005;\n    p.y*=15.;\n\tfloat d1=length(p)-.08;\n    p=pos;\n    p.x-=.047;\n    p.y+=.17;\n    p.y*=3.;\n    float d2=length(p)-.005;\n    p=pos;\n    p.y+=.02;\n    p.x-=.045+p.y*p.y*2.+p.y*.2;\n    p.x*=10.;\n    float d3=length(p)-.05;\n    return shape(d1,.01)*.1+shape(d2,.03)*.15+shape(d3,.1)*.02;\n}\n\nfloat mouth(vec2 p) \n{\n \tp.y+=.27-p.x*p.x*1.5;\n    p.y*=10.;\n    float d=length(p)-.08;\n    return shape(d,.01)*.2;\n}\n\n\nvec4 lips(vec2 pos) \n{\n    pos.y+=.0;\n    vec2 p=pos;\n    p.y+=.29-p.x*p.x*2.;\n    p.y-=smoothstep(.03,.06,p.x)*.01;\n    p.y*=8.;\n    float d1=length(p)-.09;\n    p=pos;\n    p.y+=.25;\n    p.y+=smoothstep(.03,.06,p.x)*.01;\n    p.y*=8.;\n    float d2=length(p)-.1;\n    return vec4(lips_color,shape(min(d1,d2),.01));\n}\n\nvec4 hair(vec2 pos) {\n    vec2 p=pos;   \n    p.x+=sin(iTime+cos(iTime*5.+p.y*3.))*smoothstep(0.3,-2.,p.y)*.1*step(-0.1,-p.x);\n    p.x+=sin(iTime+cos(iTime*3.+p.y*3.))*smoothstep(0.3,-2.,p.y)*.1*step(0.1,p.x);\n    p.y-=.45;\n    p.x*=1.+max(0.,p.x*.6);\n    p*=rot(-p.x*7.*abs(p.x)-p.y*.6);\n    p.y*=max(0.1,.9-abs(p.x)*1.2);\n    float d1=box(p,vec2(1.3,.05));\n    d1=max(d1,abs(pos.x+.02)-.45);\n    d1=max(d1,pos.y-.6);\n    vec3 h=hair_color+fract(p.y*50.+sin(p.x*50.)*.15)*0.2+smoothstep(.3,0.,abs(p.x))*.25-step(abs(p.x),.01)*.1;\n    return vec4(h,shape(d1,.03));\n}\n\nvec4 hair2(vec2 pos) {\n    vec2 p=pos;    \n    p.y+=.5;\n    float d1=box(p,vec2(.37,.5));\n    vec3 h=hair_color+fract(p.x*40.+sin(p.y*20.)*.5)*0.2+smoothstep(.3,0.,abs(p.x))*.25-step(abs(p.x),.01)*.1;\n    return vec4(h,shape(d1,.02));\n}\n\n\nfloat lighting(vec2 pos) {\n    vec2 p=pos;\n    p.y+=.14;\n    p.y*=1.2;\n    p.x*=.8;\n\tfloat d1=length(p)-.01;\n    p.x-=.07;\n    p.y*=.5;\n    p.y+=.04;\n\tfloat d2=length(p)-.01;\n    p=pos;\n    p.y+=.26+cos(p.x*10.)*.02;\n    p.y*=2.;\n\tfloat d3=length(p)-.05;\n    p=pos;\n    p.y-=0.04;\n    p.x-=.14;\n    p.y*=1.8;\n\tfloat d4=length(p)-.05;\n    p=pos;\n    p.y+=0.05;\n    p.x*=5.;\n\tfloat d5=length(p*p)+.075;\n    p=pos;\n    p.y+=.24-p.x*.2;\n\tp.x*=.4;\n    float d6=length(p)-.001;\n    p=pos;\n\tp.x*=.4;\n    p.y+=.34-p.x*p.x*10.;\n    float d7=length(p)-.01;\n    p=pos;\n    p.y+=.5;\n    p.x*=1.7;\n\tfloat d8=length(p)-.05;\n    return shape(d1,.05)*.1+shape(d2,.1)*.1-shape(d4,.12)*.1+shape(d5,.1)*.4+shape(d7,.05)*.15+shape(d8,.2)*.12;\n}\n\nfloat arm(vec2 uv) {\n uv.x-=.5;\n uv.y=abs(uv.y)-.07;\n uv*=rot(-.1);\n return step(step(.52,abs(uv.x))+abs(uv.y+sin(uv.x*(5.+uv.x*25.))*.05*(1.-uv.x*2.)+uv.x*.07),.01);\n}\n\nfloat star(vec2 uv) {\n    vec2 p=uv;\n    p*=rot(iTime*.5);\n    float c=0.;\n    for (int i=0; i<17; i++) {\n        c=max(c,arm(p));\n        p*=rot(float(i)*3.1416*.25*.5);\n    }\n    c*=.5+uv.y*.7;\n    return c;\n}\n\nvec3 background(vec2 p) {\n    p.x-=.5;\n    p.y+=.75;\n    p*=.6;\n    float st=star(p);\n    vec3 fab=vec3(1.,.5,1.)*.3;\n    float y=sin(p.x*10.-iTime*5.)*.04+p.y+p.x*(.5-p.x*.3);\n    fab-=-.1+fract(y*3.)*.1;\n    vec3 sky=vec3(.5,.8,1.)*exp(-1.*length(p-.1))+so;\n    p*=rot(-iTime*.2);\n    p=abs(fract(p)-.5);\n    for (int i=0; i<6; i++) {\n        p=abs(p)/dot(p,p)-.9;\n    }\n    sky+=step(length(p),.05)*.2;\n    fab=mix(fab,sky,step(.5,y));\n    return mix(fab,st*vec3(1.,.8,.5),st);\n}\n\n\nvec3 render(vec2 p) \n{\n    p.y+=.1;\n    p.x+=.2;\n    p*=1.8;\n\tvec2 pos=p;\n    p.x=abs(p.x);\n\tvec3 c=background(pos);\n    c=blend(c,hair2(pos));\n    c=blend(c,neck(p));\n    c=blend(c,head(p));\n    c=blend(c,eyes(p));\n    c=blend(c,lips(p));\n    c-=nose(p);\n    c-=eyelids(p);\n    c-=eyebrows(p);\n    c-=mouth(p);\n    c+=lighting(p);\n    c=blend(c,hair(pos));\n    c=blend(c,horns(pos));\n    c=blend(c,sphere(pos));\n    return c;\n}\n\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord-iResolution.xy*.5)/iResolution.y;\n\tvec3 col = render(uv);\n    vec2 uv2 = fragCoord/iResolution.xy-.5;\n    col*=smoothstep(.54,.48,abs(uv2.x));\n    col*=smoothstep(.54,.47,abs(uv2.y));\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}