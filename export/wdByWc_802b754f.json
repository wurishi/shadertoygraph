{"ver":"0.1","info":{"id":"wdByWc","date":"1587421127","viewed":91,"name":"Fun With Vornoi","username":"Abarrow","description":"Having a bit of fun with Vornoi diagrams.","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["2d","vornoi"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const int pt_count = 8;\n\nconst float pi = 3.14159265359;\n\n\nvec3 hsv_to_rgb(float h, float s, float v) {\n    float c = v * s;\n    float m = v - c;    \n    float x = c * (1.0 - abs(mod(h / (pi / 3.0), 2.0) - 1.0));\n    \n    vec3 pure;\n    if (h < (pi/3.0)) {\n        pure = vec3(c, x, 0.0);\n    } else if (h < (2.0 * pi / 3.0)) {\n        pure = vec3(x, c, 0.0);\n    } else if (h < pi) {\n        pure = vec3(0.0, c, x);\n    } else if (h < (4.0 * pi / 3.0)) {\n        pure = vec3(0.0, x, c);\n    } else if (h < (5.0 * pi / 3.0)) {\n        pure = vec3(x, 0.0, c);\n    } else {\n    \tpure = vec3(c, 0.0, x);\n    }\n\n    return m + pure;\n} \n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n    vec2 uv = fragCoord/iResolution.yy;\n    vec2 center = vec2(iResolution.x / iResolution.y / 2.0, 0.5);\n    \n    float pixel_size = 3.0 / iResolution.x;\n    \n    vec3 col = vec3(0.0, 0.0, 0.0);\n   \tfloat min_dist = length(iResolution.xy);\n\n    for (int i = 0; i < pt_count; ++i) {\n        float prop = float(i);\n        float hue = prop / float(pt_count) * 2.0 * pi;\n        \n        float time = iTime + hue;\n        float radius = cos(time * 3.0) * 0.25 + 0.25;\n        vec2 pt = vec2(cos(time) * radius, sin(time) * radius) + center;\n        vec3 pt_color = hsv_to_rgb(hue, 1.0, 1.0);\n        \n        float dist = length(pt - uv);\n        if (dist < min_dist) {\n            min_dist = dist;\n            if (dist < pixel_size) {\n                col = vec3(1.0, 1.0, 1.0);\n            } else {\n                col = pt_color;\n            }\n        }\n    }\n\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}