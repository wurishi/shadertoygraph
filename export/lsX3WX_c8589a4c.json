{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"const float sqrt3 = 1.73205080756888;\n\nvec2 rotate(vec2 v, float t)\n{\n\tmat2 m1 = mat2(1,0,0,1);\n\tmat2 m2 = mat2(-0.5, sqrt3*0.5, -sqrt3*0.5, -0.5);\n\tmat2 m = m1*(1.0 - t) + m2*t;\n\tfloat det = m[0][0]*m[1][1] - m[1][0]*m[0][1];\n\treturn m*v/det;\n}\n\nfloat tri_dist(vec2 uv)\n{\n\treturn max(uv.y, abs(uv.x)*sqrt3*0.5 - uv.y*0.5);\n}\n\nconst mat3 rect2tri = mat3(\n\t2.0*sqrt3, 0.0, 0.0,\n\t-sqrt3, -3.0, 0.0,\n\t-sqrt3, 1.0, 1.0\n);\n\nconst mat3 tri2rect = mat3(\n\tsqrt3/6.0, 0.0, 0.0,\n\t-1.0/6.0, -1.0/3.0, 0.0,\n\t2.0/3.0, 1.0/3.0, 1.0\n);\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tfloat scale = 32.0;\n\tvec2 uv = (fragCoord.xy - iResolution.xy/2.0)/scale;\n\t\n\t// Some fun pointless distortion.\n\tfloat t1 = iTime/10.0;\n\tuv = vec2(uv.x + 5.0*sin(t1 + uv.y/10.0), uv.y + 5.0*sin(1.3*t1 + uv.x/10.0));\n\t\n\t// Some fun pointless rotation.\n\tvec2 rot = vec2(cos(t1), sin(t1));\n\tuv = mat2(rot.x, rot.y, -rot.y, rot.x)*uv;\n\t\n\t// Convert to rectangular UVs and reflect over y=x\n\tvec2 rect = (tri2rect*vec3(uv, 1.0)).xy;\n\tvec2 wrap = rect - floor(rect);\n\tvec2 flip = (wrap.y < wrap.x ? wrap : wrap.yx);\n\t\n\t// Convert back to screen space\n\tvec2 uv2 = (rect2tri*vec3(flip, 1.0)).xy;\n\t\n\tvec2 t2 = iTime*vec2(1.0, 1.3);\n\tfloat phase = dot(sin(uv/5.0 + t2), vec2(1.0))/4.0;\n\t\n\t// Rotate the UVs of the triangles.\n\tfloat t3 = mod(iTime/16.0 + phase, 1.0);\n\tfloat d = tri_dist(rotate(uv2, t3));\n\t\n\t// Trace the d = 1.0 contour! \\o/\n\tfloat fw = fwidth(d)*0.5;\n\tfloat mask = smoothstep(1.0 - fw, 1.0 + fw, d);\n\t\n\tfloat t4 = 0.0;//pow(abs(2.0*mod(t3 + 0.95, 1.0) - 1.0), 3.0);\n\tvec3 color1 = vec3(t4, t4, 0.0);\n\tvec3 color2 = vec3(1.0, 1.0 - t3, 0.0);\n\tvec3 color = mix(color1, color2, mask);\n\tfragColor = vec4(color, 1.0); return;\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"lsX3WX","date":"1380392148","viewed":390,"name":"Trippy Triangles","username":"slembcke","description":"Spinning triangles with too many other unnecessary effects added in.","likes":9,"published":1,"flags":0,"usePreview":0,"tags":["implicit"],"hasliked":0,"parentid":"","parentname":""}}