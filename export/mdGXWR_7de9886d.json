{"ver":"0.1","info":{"id":"mdGXWR","date":"1681472574","viewed":64,"name":"Fork 2D rounded ruc_X 379","username":"ruc_X","description":"a 2 dimensional rectangular outline with rounded corners","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["2d","square","rectangle","outline","quad","rounded"],"hasliked":0,"parentid":"7tsXRN","parentname":"2D rounded rectangular outline "},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// from https://iquilezles.org/articles/distfunctions\nfloat roundedBoxSDF(vec2 CenterPosition, vec2 Size, float Radius)\n{\n    float r = max(1.0,Radius);\n    return length(max(abs(CenterPosition)-Size+r,0.0))-r;\n}\nfloat boxSDF(vec2 CenterPosition,vec2 Size)\n{\n     vec2 pos = (abs(CenterPosition)-Size);\n     return max(pos.x,pos.y);\n}\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n    vec2  size           = vec2(500.0, 300.0);\n    vec2  location       = iMouse.xy;\n    float thickness      = 15.0;\n    float shadowSoftness = 25.0f;\n    vec2  shadowOffset   = vec2(10.0, -10.0);\n    float edgeSoftness   = 1.0;\n    float radius         = 25.0;\n    \n    float distance       = roundedBoxSDF(location - fragCoord.xy, size/2.0, radius);\n    float distance1      = mix(boxSDF(location - fragCoord.xy, size/2.0),roundedBoxSDF(location - fragCoord.xy, size/2.0, radius),step(thickness+edgeSoftness,radius));\n    float roundMask = 1.0 -smoothstep(-edgeSoftness,edgeSoftness,distance1);\n    float inlineMask = 1.0 - smoothstep(mix(0.0,-edgeSoftness,step(thickness+edgeSoftness,radius)+step(0.0,distance)), mix(0.0,edgeSoftness,step(thickness+edgeSoftness,radius)+step(0.0,distance)),mix(-distance1-thickness,abs(distance)-edgeSoftness,step(0.0,distance)));\n    float outlineMask  = 1.0 - smoothstep(-edgeSoftness, edgeSoftness,mix(abs(distance)-edgeSoftness,distance - thickness,step(0.0,distance)));\n    float testmask = 1.0 - smoothstep(-edgeSoftness, edgeSoftness,-distance-thickness);        \n    vec4  quadColor      = vec4(inlineMask);\n    fragColor            = quadColor;\n}","name":"Image","description":"","type":"image"}]}