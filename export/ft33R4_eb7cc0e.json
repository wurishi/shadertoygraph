{"ver":"0.1","info":{"id":"ft33R4","date":"1635753437","viewed":77,"name":"Pumpkin flicker","username":"megan023","description":"Click to move your candlelight","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["light","circle","pumpkin"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec3 color1 =vec3(255.0, 220.0, 156.0)/255.0; // orange lighting\nvec3 color2 =vec3(255, 202, 105)/255.0; \nvec3 color3 =vec3(207, 99, 21)/255.0; //pumpkin orange\nvec3 color4 =vec3(179, 75, 20)/255.0;//dark pumpkin orange\nvec3 dark_green =vec3(60, 71, 50)/255.0; \nvec3 bk_color1 =vec3(46, 42, 39)/255.0; //dark brown\nvec3 bk_color2 =vec3(59, 83, 97)/255.0; //lighter blue\nvec3 bk_color3 =vec3(18, 23, 48)/255.0; //dark, dark blue\nvec3 bk_color4 =vec3(170, 178, 191)/255.0;\n\n\n// the following helper function is adapted from https://www.shadertoy.com/view/Md23DV\n// returns the 1.0 inside the disk area and 0.0 outside the disk area\n// and has a outer glow\nfloat disk(vec2 r, vec2 center, float radius, float glow) {\n\tfloat distanceFromCenter = length(r-center);\n\tfloat outsideOfDisk = smoothstep( radius-glow, radius, distanceFromCenter);\n\tfloat insideOfDisk = 1.0 - outsideOfDisk;\n\treturn insideOfDisk;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    //relocate center\n    vec2 r = 2.0*vec2(fragCoord.xy - 0.5*iResolution.xy)/iResolution.y; \n    \n    //draw background\n    vec3 col = dark_green; //grass\n    col -= disk(r, vec2(0,0), 1.0, 0.9)*dark_green; //shade grass\n    if (r.y>-0.4) col = mix(bk_color2,bk_color3,(r.y+0.4)/1.4); //sky gradient\n    \n    //flickering moon\n    vec2 uv = fragCoord/iResolution.xy; // Normalized pixel coordinates (from 0 to 1)\n    float x = (iTime/2.0)+uv.x;\n    float glow_factor = 0.05*sin(0.3*x)+0.1*sin(.6*x)+0.05*sin(0.9*x)+0.2;\n    float d = (disk(r, vec2(1.0,0.8), 0.6, 0.2+glow_factor)\n        - disk(r, vec2(0.8,.8), 0.45, 0.2+glow_factor)); //crescent glow\n    col += clamp(d,0.0,1.0)*bk_color4;\n    d = (disk(r, vec2(1,.8), 0.35, 0.01)\n        - disk(r, vec2(0.8,.8), 0.35, 0.01)); //crescent \n    col += clamp(d,0.0,1.0)*bk_color4;\n    \n    // draw \"pumpkin\" \n    for (float offset = -0.3; offset <= 0.3; offset+=0.6){ //outer bumps\n        float d = disk(r, vec2(0.0-offset,0), 0.5, 0.01); //outer darker shade\n        col = mix(col, color4, d); \n        d = disk(r, vec2(0.0-offset,0), 0.5, 0.25); //inner lighter shade\n        col = mix(col, color3, d); \n    }\n    \n    //inner circle\n    d = disk(r, vec2(0,0), 0.5, 0.01); //outer darker shade\n    col = mix(col, color4, d); \n    d = disk(r, vec2(0,0), 0.5, 0.25); //inner lighter shade\n    col = mix(col, color3, d);\n    \n    //draw light\n    float flicker = ((0.3)*sin(5.0*x)+(0.5)*sin(2.0*x)+0.2*sin(0.2*x)+1.0)/2.0;\n    \n    vec2 mouse = 2.0*vec2(iMouse.xy - 0.5*iResolution.xy)/iResolution.y; //relocate mouse to center\n    col += disk(r, mouse, flicker, flicker)*color1;\n    \n    // Output to screen\n    fragColor = vec4(col,1.0);\n}\n\n","name":"Image","description":"","type":"image"}]}