{"ver":"0.1","info":{"id":"DlsSzS","date":"1677143034","viewed":115,"name":"Fork [SH17A] Fr sleeplessm 564","username":"sleeplessmonk","description":"fork adds more audioreactivity","likes":1,"published":1,"flags":4,"usePreview":0,"tags":["2d","fractal","psychedelic","sh17a"],"hasliked":0,"parentid":"Xd2Bzw","parentname":"[SH17A] Fractal Thingy #2"},"renderpass":[{"inputs":[{"id":"XdXGRr","filepath":"/presets/mic.png","previewfilepath":"/presets/mic.png","type":"mic","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 c, vec2 p ) {\n    \n    // set position\n    vec2 v = iResolution.xy;\n    p = (p-v*.5)*.74 / v.y;\n    // breathing effect\n    p += p * sin(dot(p, p)*2.-iTime) * .0004;\n    \n    // accumulate color\n    c *= 0.;\n    for (float i = .5 ; i < 8. ; i++) {\n        \n        // fractal formula and rotation\n        p = abs(2.*fract(p-.5)-1.) * mat2(cos(.01*(iTime+iMouse.x*.1)*i*i + .78*vec4(1,7,3,1)));\n        p += iMouse.yx * 0.0001; // add mouse input to alter pattern\n\n        // audio reactive\n        float audioAmplitude = texture(iChannel1, vec2(i/10.0, 0.5)).r;\n        p *= audioAmplitude * .5 + 1.0;\n        \n        // coloration\n        vec3 color = vec3(0.5 + 0.5 * sin(50.0 * iTime + vec3(0.0, 2.0, 4.0) * i));\n        c += vec4(exp(-abs(p.y)*5.) * color, 1.0);\n\n    }\n    \n    // palette\n    c.rgb = pow(c.rgb, vec3(1.2));\n    \n}\n","name":"Image","description":"","type":"image"}]}