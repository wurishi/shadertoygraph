{"ver":"0.1","info":{"id":"stByRd","date":"1650099537","viewed":582,"name":"Tripole","username":"KingHashish","description":"Complex domain colouring","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["math","complex"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.14159265358979323\n\n#define mode int(iTime)%8\n#define S(v,l) smoothstep( -.7*fwidth(v), .7*fwidth(v), abs(fract(v +.5)-.5) -  (l) / (2.*PI)/2. )\n\nvec3 hrgb (float h, float m)\n{\n    vec3 c;\n    float mm;\n    float p;\n    \n    c.r =  0.5 - 0.5 * sin(2.0 * PI * h - PI / 2.0);\n    c.g = (0.5 + 0.5 * sin(2.0 * PI * h * 1.5 - PI / 2.0)) * float(h < 0.66);\n    c.b = (0.5 + 0.5 * sin(2.0 * PI * h * 1.5 + PI / 2.0)) * float(h > 0.33);\n    \n    mm = fract(m); //mod(m * 100.0, 100.0) * 0.01;\n    p = fract(mod(h,1.0/16.0));\n     \n    c.r -= (0.35*mm + 2.5*p);\n    c.g -= (0.35*mm + 2.5*p);\n    c.b -= (0.35*mm + 2.5*p);\n    \n    \n    return c;\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 s = iResolution.xy;\n    vec2 q = fragCoord;\n    vec2 uv, p;\n    vec2 z, w, f;\n    uv = q - s/2.;//vec2(q.x - s.x/2.0, s.y/2.0 - q.y);\n    \n    uv /= (0.12*iResolution.y);\n    \n    //z /= (0.2*iResolution.y); //zoom\n                \n    f.x = 1.5*cos(iTime);\n    f.y = 3.0*sin(iTime);\n    \n    z = uv - f;\n    \n    p = z * mat2(uv,-uv.y,uv.x) / dot(uv,uv);\n                \n                \n    f.x = 3.0*cos(-iTime - PI);\n    f.y = 1.5*sin(-iTime - PI);    \n    \n    z = uv - f;\n    \n    p = mat2(p,-p.y,p.x) * z;\n             \n\n    float m = length(p);\n    float a = (PI + atan(p.y, p.x)) / (2.0 * PI);\n    fragColor = vec4(hrgb(a,m), 1.0);\n\n}","name":"Image","description":"","type":"image"}]}