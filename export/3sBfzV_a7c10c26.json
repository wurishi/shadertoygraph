{"ver":"0.1","info":{"id":"3sBfzV","date":"1590351426","viewed":201,"name":"Radar Effect","username":"yp3y5akh0v","description":"Radar Effect","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["2d","radar"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define n 10.\n\n#define rand(p) fract(sin(sin(p) * mat2(12.9898, 78.233, 78.233, 12.9898)) * 143758.5453)\n#define Circle(w, p, r) smoothstep( w, 0., abs(length(p) - r ) )\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 R = iResolution.xy;\n    vec2 uv = (fragCoord - 0.5 * R) / R.y;\n    float t = iTime;\n    vec3 col = vec3(0.);\n    vec2 p = uv;\n    vec2 p1 = vec2(sin(t), cos(t));\n    vec2 PtoP0P1 = p - dot(p1, p) * p1;\n    float d = length(PtoP0P1);\n    if (dot(p, p1) < 0.) {\n        d = length(p);\n    }\n    vec2 cl = vec2(0.5, 0.);\n    col = .006 / d * cl.yxy;\n    float r = length(p1);\n    float i = round(n * length(p) / r);\n    float w = 2. * r / R.y;\n    float circle = Circle(w, p, r * i / n);\n    \n    col += circle * cl.yxy;\n    \n    vec2 delay = vec2(1., 20.) * (1. + p1); \n    if (delay.x > 0.99) {\n        float echoR = mix(r, 0., delay.y);\n        float circle = Circle(w, p, echoR);\n        col += circle * cl.yxy;\n    } else {\n        vec2 enemy = vec2(-0.2 + 0.5 * cos(0.01 * floor(t)));\n        col += .005 / length(p - enemy) * cl.xyy;\n    }\n        \n    float dTargets = length(rand(p - 1e-6 * log(t + 100.)));    \n    col += .02 / dTargets * cl.yxy;\n    \n    fragColor = vec4(col, 0.0);\n}","name":"Image","description":"","type":"image"}]}