{"ver":"0.1","info":{"id":"3sKXRm","date":"1573666783","viewed":161,"name":"test fwidth","username":"AngryBaguette","description":"Simple contour.\n\nWhat i expect with the bayer image with a nearest filter is a grid.\n\ncan Someone explain me why i don't obtain a grid with method0? and just some (and not all) vertical line.\n","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["fwidth"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"Xdf3zn","filepath":"/media/a/85a6d68622b36995ccb98a89bbb119edf167c914660e4450d313de049320005c.png","previewfilepath":"/media/ap/85a6d68622b36995ccb98a89bbb119edf167c914660e4450d313de049320005c.png","type":"texture","channel":0,"sampler":{"filter":"nearest","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float sigmoid(float a, float f)\n{\n\treturn 1.0/(1.0+exp(-f*a));\n}\n\nvec4 method0(in vec2 fragCoord)\n{\n    // here i expect to obtain a grid...\n    vec2 uv = fragCoord.xy / iResolution.xy;\n    vec4 color =  texture(iChannel0, uv);\t\t// Filter is nearest\n    float gray = length(color.rgb);\n    float g = float(fwidth(gray) > 0.0);\n    return vec4(vec3(g),1.0);\n}\n\nvec4 method1( in vec2 fragCoord )\n{    \n    // here i expect to obtain a grid...\n    vec2 uv = fragCoord.xy / iResolution.xy;\n    \n    vec2 uvx = (fragCoord.xy + vec2(1.0,0.0))  / iResolution.xy;\n    vec2 uvy = (fragCoord.xy + vec2(0.0,1.0))  / iResolution.xy;\n    \n    // Filter is nearest    \n    float color =  length(texture(iChannel0, uv).rgb);\t\t\n\tfloat colorx =  length(texture(iChannel0, uvx).rgb);\t\t\n    float colory =  length(texture(iChannel0, uvy).rgb);\t\t\n    \n    float dx = float((color-colorx) != 0.0);\n    float dy = float((color-colory) != 0.0);\n    float dxy = float((dx+dy) != 0.0);\n    \n    return vec4(vec3(dxy), 1.0);\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{    \n    fragColor = method1(fragCoord);\n}\n\n\n\n","name":"Image","description":"","type":"image"}]}