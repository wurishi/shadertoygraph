{"ver":"0.1","info":{"id":"llcyRH","date":"1531489293","viewed":214,"name":"moutain car  v2 ","username":"asis5528","description":"change the music :)...amplitude based on music pitch....","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["2d","shapes","car","pitch"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4df3Rn","filepath":"/media/a/3c33c415862bb7964d256f4749408247da6596f2167dca2c86cc38f83c244aa6.mp3","previewfilepath":"/media/ap/3c33c415862bb7964d256f4749408247da6596f2167dca2c86cc38f83c244aa6.mp3","type":"music","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define time iTime\nmat2 rotate2d(float _angle){\n    return mat2(cos(_angle),-sin(_angle),\n                sin(_angle),cos(_angle));\n}\n\nfloat circle(vec2 uv){\n    return smoothstep(0.1,0.09,length(uv))-smoothstep(0.09,0.08,length(uv));\n}\n\nfloat body(vec2 st,float pos){\n    float k;\n    vec2 uv = st;\n    st = vec2(st.x*1.7,st.y)-vec2(pos*1.7,0.6-sin(time*3.+(pos*3.)+0.5)*(0.1+texture(iChannel0,st).r/10.));\n    \n     if (st.x>0.25 && st.x <0.7){\n    k= smoothstep(0.5,0.48,st.y)-smoothstep(0.7,0.6,st.y); \n    }\n    \n    if (st.x>0.2 && st.x <0.8){\n  \n    k += smoothstep(0.4,0.38,st.y)-smoothstep(0.6,0.5,st.y);\n     \n    }\n   \n    return k;\n}\n\nvec4 tire(vec2 st,float pos){\n    vec2 lst = vec2(st.x*1.7,st.y)-vec2(pos*1.7,0.6-sin(time*3.+pos*3.)*(0.1+texture(iChannel0,st).r/10.));\n    float c = circle(lst);\n      \n   \n    float r = 0.08+0.03*cos(atan(lst.y,lst.x)*10.+time*43.);\n    float circle = smoothstep(r,r-0.05,length(lst));\n   \n    r = 0.05;\n    st.y+= -0.3;\n    float cl=circle;\n    return vec4(c)+vec4(cl)*vec4(1.,0.,0.,0.);\n\n    }\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ){\n    vec2 uv = fragCoord/iResolution.xy;\n    vec2 st = uv;\n    \n \n    uv.y+= sin(uv.x*3.+time*3.)*(0.1+texture(iChannel0,st).r/10.);\n       \n       \n    float col = 1.-smoothstep(0.5,0.52,uv.y);\n    vec3 terrain = vec3(0.1,col*0.7,0.1);\n    vec4 tir = tire(st,0.3);\n    tir += tire(st,0.5);\n    //tir += vec4(body(st+vec2(0.0,0.5),0.0))*vec4(0.2,1.3,0.3,1.);\n    vec3 back = vec3(0.0,0.0,1.)*texture(iChannel0,st).r;\n    fragColor = mix(vec4(terrain,1.)+tir,vec4(back,1.),1.-uv.y);\n     st -= vec2(0.3,0.6-0.29-sin(time*3.+(0.3*3.)+0.5)*0.1);\n   \n    st = rotate2d( (sin(time*3.+(0.3*3.)+0.5)*0.1)/3. ) * st;\n\n    st += vec2(0.3,0.60-.29-sin(time*3.+(0.3*3.)+0.5)*0.1);\n    \n    fragColor += vec4(body(st+vec2(0.0,0.29),0.1));\n    \n    }","name":"Image","description":"","type":"image"}]}