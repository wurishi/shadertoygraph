{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"#define antialias 8.0\n\n//official colors from http://en.wikipedia.org/wiki/Flag_of_the_United_States#Colors\n#define white 1.0, 1.0, 1.0\n#define red   .698, .132, .203\n#define blue  .234, .233, .430\n\n#define sky    0.086,  0.662, 0.788\n\nvec4 star(vec2 uv){\n\tuv -= vec2(.5, .5);\n\tuv *= .65;\n\tuv.x *= 2.0;\n\tvec2 polar = vec2(atan(uv.x, uv.y), length(uv));\n\tpolar.x /= 2.0*3.141592;\n\t\n\tpolar.x += .5;\n\t\n\tfloat triangle = polar.y*3.1415*2.0*(fract(polar.x*10.0)-.5) * -sign(fract(polar.x*5.0)-.5);\n\t\n\t//triangle = cos(polar.x*5.0*2.0*3.1415);\n\t\n\treturn polar.y > (triangle*.6+1.0)*.2 ? vec4(blue,1) : vec4(white,1);\n}\n\nvec2 warp(vec2 uv){\n\tuv.y += sin(-iTime*5.0 + uv.x*uv.x*10.0)*.2*uv.x - uv.x*.3;\n\tuv.x += uv.y*.05;\n\treturn uv;\n}\n\nvec4 fsample(vec2 coord){\n\tvec2 uv = coord / iResolution.xy;\n\tuv *= vec2(1.05, 1.2);\n\tuv -= vec2(0.05, 0.025);\n\t\n\tuv = warp(uv);\n\t\n\tvec4 color = vec4(white, 1);\n\t\n\tif(uv.x < .4 && uv.y > 6.0/13.0){\n\t\tcolor = vec4(blue, 1);\n\t\t\n\t\t//stars\n\t\tvec2 uv_star = (uv+vec2(0.0, 6.0/13.0)) / vec2(.4, 6.0/13.0);\n\t\t\n\t\t\n\t\tfloat indexxmax = 6.0;\n\t\tfloat indexxmin = 0.0;\n\t\t\n\t\tif(fract(uv_star.y*9.0*.5) < .5){\n\t\t\tuv_star.x += .5/6.0;\n\t\t\tindexxmin = 5.0;\n\t\t\tindexxmin = 1.0;\n\t\t}\n\t\t\n\t\tfloat indexy = floor(uv_star.y*9.0);\n\t\tfloat indexx = uv_star.x*6.0;\n\t\t\n\t\t\n\t\tuv_star.y -= floor(uv_star.y*9.0)/9.0;\n\t\tuv_star.y *= 9.0;\n\t\t\n\t\t\n\t\tuv_star.x -= floor(uv_star.x*6.0)/6.0;\n\t\tuv_star.x *= 6.0;\n\t\t\n\t\t\n\t\tif(indexx > indexxmin && indexx < indexxmax && indexy > 18.0 && indexy < 28.0){\n\t\t\tcolor = star(uv_star);\n\t\t}\n\t} else {\n\t\t//stripes\n\t\tif(fract(uv.y*6.5) < .5){\n\t\t\tcolor = vec4(red, 1);\n\t\t}\n\t\t\n\t}\n\t\n\tif(uv.x < 0.0 || uv.x > 1.0 || uv.y < 0.0 || uv.y > 1.0){\n\t\tcolor = vec4(sky,1);\n\t}\n\t\n\t\n\treturn color;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ){\n\t\n\t//do anti alias\n\tvec4 accum = vec4(0,0,0,0);\n\t\n\tfloat ct = 0.0;\n\n\tfor(float x = -.5+.5/antialias; x <= .5-.25/antialias; x += 1.0/antialias){\n\t\tfor(float y = -.5+.5/antialias; y <= .5-.25/antialias; y += 1.0/antialias){\n\t\t\tvec2 off = vec2(x, y);\n\t\t\taccum += fsample(fragCoord.xy + off);\n\t\t\tct += 1.0;\n\t\t}\n\t}\n\n\tfragColor = accum/ct;\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"MdlXRj","date":"1404506534","viewed":471,"name":"AMERICA","username":"TylerGlaiel","description":"Happy 4th!","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["flag"],"hasliked":0,"parentid":"","parentname":""}}