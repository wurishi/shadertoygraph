{"ver":"0.1","info":{"id":"dtKSDV","date":"1686385412","viewed":121,"name":"JWST diffraction spike","username":"xingyzt","description":"slight mod (line 26) to make the spikes connect more than a pure ellipsoidal approach","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["astrophysics","optics","blackbody","fourier","planck","psf"],"hasliked":0,"parentid":"7syBzW","parentname":"Star PSF - JWST mod"},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define R32 0.8660254\n\nconst mat2 rot1 = mat2(0.5, -R32, R32, 0.5);\t\nconst mat2 rot2 = mat2(0.5, R32, -R32, 0.5);\t\n\nfloat spike(vec2 d) {\n    vec2 s = abs(d) * vec2(8,1);\n    return 16.*(dot(s,s) + sqrt(s.x) + s.y);\n}\nfloat spikes(vec2 p) {\n    float d = length(p);\n    if(d > 1.) return 0.;\n    \n    return 0.3/spike(p.yx) + 1.0/spike(p) \n    + 1.0/spike(rot1*p) + 1.0/spike(rot2*p);\n\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n   vec2 uv = (fragCoord.xy - 0.5*iResolution.xy)/iResolution.y;\n   vec3 col = vec3(spikes(uv));\n   for(int i = 0; i < 64; i++) {\n       col += 0.05*spikes(uv + 0.5*sin(vec2(i, i+5) + 0.1*iTime));\n   }\n   fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}