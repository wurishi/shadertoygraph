{"ver":"0.1","info":{"id":"3lVXR1","date":"1582205397","viewed":384,"name":"background removal + recontrast","username":"FabriceNeyret2","description":"just by replacing luminance by some \"character vs background index\".\n( not really making an alpha mask, even if  a poor one can be derivated )","likes":3,"published":3,"flags":0,"usePreview":0,"tags":["video","background","keying"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"Xdf3Rn","filepath":"/media/a/e81e818ac76a8983d746784b423178ee9f6cdcdf7f8e8d719341a6fe2d2ab303.webm","previewfilepath":"/media/ap/e81e818ac76a8983d746784b423178ee9f6cdcdf7f8e8d719341a6fe2d2ab303.webm","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 O, vec2 U )\n{\n    O = texture(iChannel0, U/iResolution.xy); O.a = 0.;\n    O = pow(O,vec4(2.2));            // sRGB -> flat space\n    float l = O.r+O.g+O.b,           // luminance\n          v = (2.*O.r-O.g)/.6;       // character/background index\n    O /= l;                          // cancel luminance\n    O *= v;                          // ... and replace by C/B index\n  //O = vec4(v);                     // test: show pseudo-luminance\n  //O = vec4(v/l);                   // test: show pseudo-mask\n    O = pow(O,vec4(1./2.2));         // -> back to sRGB\n // O = mix(sqrt(max(O,0.)),texture(iChannel1, U/iResolution.xy),smoothstep(1.5,0.,v/l));\n}","name":"Image","description":"","type":"image"}]}