{"ver":"0.1","info":{"id":"ltlcD2","date":"1506535434","viewed":87,"name":"eclipse_jb","username":"JacobB","description":"temp","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["temp"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float gradient = 0.07; //create a sharp gradient.\n\nfloat circleRad = 0.8; //small circle for sun\n\nvec2 circleCoord = vec2(0.5, 0.3);\n\nvec4 orange = vec4(0.9,0.5,0.0, 1.0); //hopefully this is a dull orange.\n\nvec4 sky = vec4(0.4, 0.6, 1.0, 1.0); //hopefully this is a light blue;\n\nvec4 sunColor = vec4(1.0, 0.4, 0.0, 1.0); //hopefully this is a bright orange.\nfloat circleRat = 0.12;\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord){\n\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n\n    //aspect ratio correction.\n\tuv.y = uv.y * iResolution.y / iResolution.x; \n\n\tvec4 background = uv.y * sky + (iResolution.y / iResolution.x)-uv.y * orange; \n\n\tvec4 sun = sunColor;\n\tsun.a = 1.0-smoothstep(length(circleCoord- uv)*circleRad, 0.0, gradient); //figured it out by accident.\n    vec4 layer1 = mix(background, sun, sun.a);\n    \n    //create the circle where the \"eclipse\" is visible.\n    vec4 sunLoc = vec4(0.0);\n\tsunLoc.a= step(length(circleCoord-uv), circleRat*circleRad);\n    \n    \n    vec4 eclipse = vec4(0.0);\n    uv.x += sin(iTime)*0.2*circleRad;\n    uv.y += sin(iTime)*0.2*circleRad;\n    eclipse.a = step(length(circleCoord-uv), circleRat*circleRad);\n    \n    //background.a = 0.0;\n    vec4 layer2 = mix(sunLoc, eclipse, sunLoc.a);\n   \n    \n    fragColor=mix(layer1, layer2, layer2.a);\n}","name":"Image","description":"","type":"image"}]}