{"ver":"0.1","info":{"id":"l3ScWV","date":"1727784729","viewed":17,"name":"Wavy functions blurred variation","username":"cesio","description":"Wavy functions blurred variation","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["blackandwhite","wavy","blurred"],"hasliked":0,"parentid":"l3jyzt","parentname":"Wavy functions"},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.141592654\n#define DEG2RAD(d) (d * PI / 180)\n#define N 12.\n#define N_MAX 30.\n//#define INC (N_MAX / N)\n#define SPEED 0.8\n//#define WAVES 25.\n#define WAVES_COS 4.\n#define SMOOTHINESS_MAX 0.12\n\n#define CHANGE_FUNCTIONS 0\n#define SPEED_W 2\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 sc = fragCoord.xy / iResolution.xy;\n    vec3 color = vec3(0.0);\n    float time = iTime * SPEED;\n    \n    float WAVES = cos(iTime) *  N_MAX;\n    if (WAVES <= 0.05) WAVES = 0.05;\n    \n    float SMOOTHINESS = cos(iTime) * SMOOTHINESS_MAX;\n    if (SMOOTHINESS < 0.01) SMOOTHINESS = 0.01;\n    \n    float deltaY = 1. / N;\n    float offsetY = 1. - deltaY;\n    \n    \n    // we are calculating a value of function Fi(x), where i is from N till 1 - top to the bottom of the screen\n    // first Y\n    for (int i = 0; i < int(N); i++) {\n        float phase = 0.;//fract(float(i) / N) * N;\n        float pos = 0.;\n        \n#if CHANGE_FUNCTIONS == 1\n        if (mod(float(i), 2.) == 0.) {\n            pos = sin(sc.x * WAVES * float(i * SPEED_W) + time + phase);\n        } else {\n            pos = cos(sc.x * WAVES_COS  + time + phase);\n        }\n#else       \n        pos = sin(sc.x * WAVES + time + phase);\n#endif \n        \n        // calculate a value of funtion Fi where Fi(x) = 1/N * FUNCTION + offsetY\n        float valueFi = deltaY * pos + offsetY;\n        \n        // we will decrease offsetY (each funtion Fi is offseted by (i * deltaY)\n        offsetY -= deltaY;\n\n        float blackOrWhite = mod(float(i), 2.);\n \n        if (abs(sc.y - valueFi) <= SMOOTHINESS) { // I am \"on border\" between functions\n            if (blackOrWhite == 0.0) {\n                color = vec3(smoothstep (sc.y-SMOOTHINESS, sc.y, valueFi));\n            } else {\n                color = vec3(1.-smoothstep (sc.y - SMOOTHINESS, sc.y, valueFi));\n            }\n            \n            if (sc.y >= valueFi) break;\n        } else { // I am not \"on border\" between functions\n             color = vec3(blackOrWhite);\n             if (sc.y >= valueFi) break;\n        }\n    }\n    \n\tfragColor = vec4(color,1.0);\n    color = vec3(1.,0.,0.);\n    \n    // NOW X\n    float deltaX = 1. / N;\n    float offsetX = 1.;// - deltaX;\n    \n    for (int i = 0; i <= int(N); i++) {\n        float phase = 0.;\n        float pos = 0.;\n        \n#if CHANGE_FUNCTIONS == 1\n        if (mod(float(i), 2.) == 0.) {\n            pos = sin(sc.y * WAVES * float(i * SPEED_W) + time + phase);\n        } else {\n            pos = cos(sc.y * WAVES_COS  + time + phase);\n        }\n#else       \n        pos = sin(sc.y * WAVES + time + phase);\n#endif \n        \n        // calculate a value of funtion Fi where Fi(y) = 1/N * FUNCTION + offsetX\n        float valueFi = deltaX * pos + offsetX;\n        \n        // we will decrease offsetX (each funtion Fi is offseted by (i * deltaX)\n        offsetX -= deltaX;\n\n        float blackOrWhite = mod(float(i), 2.);\n \n        if (abs(sc.x - valueFi) <= SMOOTHINESS) { // I am \"on border\" between functions\n            if (blackOrWhite == 0.0) {\n               color = vec3(smoothstep (sc.x-SMOOTHINESS, sc.x, valueFi));\n             //  color = vec3(1., 0., 0.);\n            } else {\n                color = vec3(1. - smoothstep (sc.x - SMOOTHINESS, sc.x, valueFi));\n               // color = vec3(0., 1., 0.);\n            }\n            \n            if (sc.x >= valueFi) break;\n        } else { // I am not \"on border\" between functions\n             color = vec3(blackOrWhite);\n             //color = vec3(0., 0., 1.0);\n             if (sc.x >= valueFi) break;\n        }\n    }\n    \n\tfragColor *= vec4(color,1.0);\n\n}\n\n","name":"Image","description":"","type":"image"}]}