{"ver":"0.1","info":{"id":"3sBBDd","date":"1591083871","viewed":995,"name":"WebCam Long Exposure","username":"Zi7ar21","description":"Originally based on https://shadertoy.com/view/Xslfzj by user rohtie, but I modified it now to work better.","likes":6,"published":3,"flags":50,"usePreview":0,"tags":["fork","webcam","lowlight","lowlight","noisereduction","webcamghosting","longexposure","webcamlongexposure","webcamaveraging"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// ^^^ Change to Buffer A for settings or B for export up here ^^^\n\n// Fork of \"Extremely Long Exposure\" by rohtie. https://shadertoy.com/view/Xslfzj\n// 2020-06-02 07:38:44\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    vec2 uv = fragCoord/iResolution.xy;\n\tfragColor = texture(iChannel0, uv);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4sf3zn","filepath":"/presets/webcam.png","previewfilepath":"/presets/webcam.png","type":"webcam","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGRr","filepath":"/presets/tex00.jpg","previewfilepath":"/presets/tex00.jpg","type":"keyboard","channel":3,"sampler":{"filter":"nearest","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"// These two numbers change the output.\n// Calibration coming soon.\n// For now, take your main exposure and then take one with the camera in a dark spot with no light or just cover it.\n// Then, use a third-party program like GIMP (https://www.gimp.org/downloads/) to subract the light from the dark.\nbool isKeyPressed(int KEY){\n\treturn texelFetch( iChannel3, ivec2(KEY,0), 0 ).x > 0.5;\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n\tvec2 uv = fragCoord/iResolution.xy;\n    fragColor = texture(iChannel0, uv)+(texture(iChannel1, uv)/8192.0);\n    vec4 oldFragColor = vec4(0.);\n    fragColor += oldFragColor;\n    if(iFrame != 0) oldFragColor = texelFetch(iChannel0, ivec2(fragCoord), 0);\n    if(isKeyPressed(32)){\n        fragColor.rgba = vec4(0.0);\n    }\n    if(iMouse.z >= 128.0){\n        fragColor.rgba = vec4(0.0);\n    }\n}","name":"Buffer A","description":"","type":"buffer"},{"inputs":[{"id":"4dXGRr","filepath":"/presets/tex00.jpg","previewfilepath":"/presets/tex00.jpg","type":"keyboard","channel":3,"sampler":{"filter":"nearest","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"XsXGR8","channel":0}],"code":"// Settings in Buffer A and Export in Buffer B\n// Export this with the button in the bottom left of the editor, it will save a 32-Bit OpenEXR File (I think)\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord){\n    vec2 uv = fragCoord/iResolution.xy;\n    vec4 texel = texelFetch(iChannel0, ivec2(fragCoord), 0);\n    vec3 color = (texel.a == 0. ? vec3(0.) : texel.rgb / texel.a);\n\tfragColor = vec4(color, 1);\n}","name":"Buffer B","description":"","type":"buffer"}]}