{"ver":"0.1","info":{"id":"4d2yWt","date":"1494357424","viewed":156,"name":"Psychedelic hyperbolic","username":"decrooks","description":"A Psychedelic Poincaré Hyperbolic Disk","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["hyperbolic"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\nfloat arcosh(float x) {\n    return log(x + sqrt(x*x - 1.0));\n}\n\nfloat hyperbolicDist(vec2 p, vec2 q){\n    //distance between points on  Poincaré Hyperbolic Disk\n    float pq = length(p-q);\n    float op = length(p);\n    float oq = length(q);\n    \n    return arcosh(1.0 + 2.0*pq*pq/((1.0 - op*op)*(1.0 - oq*oq)) );\n}\n\nvec3 hyp3(vec2 uv) {\n    \n    float a = 3.0*sin(iTime);\n    \n    //vertices of equlateral trinagle of side a in the disc\n    vec2 v1 = vec2( 0.0 , a/sqrt(3.0) );\n    vec2 v2 = 0.5*vec2(a,-a/sqrt(3.0));\n    vec2 v3 = 0.5*vec2(-a,-a/sqrt(3.0));\n    \n    //hyperbolic distance to each vertice\n    float d1 = fract(hyperbolicDist(uv,v1));\n    float d2 = fract(hyperbolicDist(uv,v2));\n    float d3 = fract(hyperbolicDist(uv,v3));\n   \n    return vec3(d1,d2,d3);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = 2.0*(fragCoord - 0.5*iResolution.xy) / iResolution.y;\n    \n    float r = length(uv);\n    \n    vec4 black = vec4(vec3(0.0),1.0);\n    vec4 white = vec4(1.0);\n    \n    if (r>1.0) {\n        //outside the disk\n       fragColor = black;\n    }\n    else { \n        //inside the disk\n       fragColor = vec4(hyp3(uv),1.0);\n    }\n}","name":"Image","description":"","type":"image"}]}