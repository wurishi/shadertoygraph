{"ver":"0.1","info":{"id":"M3jSWy","date":"1711248203","viewed":216,"name":"ISM","username":"ukeshet","description":"ISM (interstellar medium)-like fractal, based on @Kali's Star Nest [url]https://www.shadertoy.com/view/XlfGRj[/url]) with added transients, dark nebulae (black patches), flight-direction control, and random colors (not bluer with increasing distance). ","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["fractal","star","dust","starcluster","ism"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// ISM-like fractal\n// Based on Star Nest (https://www.shadertoy.com/view/XlfGRj) by Pablo Roman \n// Andrioli (@Kali), with added transients, dark nebulae (molecular clouds: \n// black patches), flight-direction control, and random star colors (original\n// -version stars were bluer with increasing distance, unlike the ISM). \n// By ukeshet for ICP and Astro 1 courses.\n\nvoid mainImage(out vec4 O,vec2 C){    \n    vec3 p, dr=vec3(1), Or=dr*.7, v, V=dr*.0002; \n    vec2 R=iResolution.xy, i=.2-.4*iMouse.xy/R, uv=C/R.y-.5; \n    float sh=.57, st=.1, zo=.4, ti=.85, sp=.05, br=.0007, ds=.5, \n          fad=.8, sa=.9, bi=.01, fa=1., dn=1.8, s=.1, ii=length(i), \n          t=iTime, x=t*sp*ii+.25, dm, c, pa, a, aa, r, j;\n    dr.xy = uv*zo*mat2(i,-i.y,i)/ii;         \n    for (Or += vec3(2.*x,x,-2); r++<23.; fa*=fad, s+=st) {\n       p = ti-mod(Or+s*dr*.5,ti*2.)+V*t;\n       for (a=pa=j=0.; j++<19.;) \n          a += abs(pa-(pa=length(p=abs(p)/dot(p,p)-sh))); \n       dm = max(0.,ds-.001*(aa=a*a));\n       c = .5+.5*tanh(2.*cos(1e8*s));    \n       v += (fa*=r>6.?1.-dn-dm:1.)+s*vec3(c,min(.4,c),1.-c)*a*aa*br*fa; \n    }\n    O = vec4(mix(vec3(length(v)),v,sa)*bi,1);\n}\n\n// sh  = shift in main formula\n// st  = step size\n// zo  = zoom\n// ti  = tile fold\n// sp  = speed\n// br  = brightness\n// ds  = dust\n// dn  = dark nebulae\n// fad = fade\n// sa  = saturation\n// bi  = final brightness correction\n// V   = transient velocity","name":"Image","description":"","type":"image"}]}