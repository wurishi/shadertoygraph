{"ver":"0.1","info":{"id":"st2cWD","date":"1649827878","viewed":68,"name":"Shades of Grey","username":"PittPattPett","description":"Darkens everything to be a shade of grey","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["postprocessing","colorchange"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XdfGRr","filepath":"/media/a/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm","previewfilepath":"/media/ap/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// This code is run for each pixel\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n\tvec2 xy = fragCoord.xy / iResolution.xy;\n    // Return the color of the texture in iChannel0\n    vec4 texColor = texture(iChannel0, xy);\n    \n \t// Initialize the variables\n    vec4 black = vec4(0, 0, 0, 1);\n    \n    vec4 black_grey = vec4(0.1, 0.1, 0.1, 1);\n    vec4 dark_grey = vec4(0.2, 0.2, 0.2, 1);\n    vec4 mid_dark_grey = vec4(0.3, 0.3, 0.3, 1);\n    vec4 dark_light_grey = vec4(0.4, 0.4, 0.4, 1);\n    vec4 grey = vec4(0.5, 0.5, 0.5, 1);\n    vec4 light_dark_grey = vec4(0.6, 0.6, 0.6, 1);\n    vec4 mid_light_grey = vec4(0.7, 0.7, 0.7, 1);\n    vec4 light_grey = vec4(0.8, 0.8, 0.8, 1);\n    vec4 white_grey = vec4(0.9, 0.9, 0.9, 1);\n    \n    vec4 white = vec4(1, 1, 1, 1);\n    \n    float average = (texColor.r + texColor.g + texColor.b)/3.0;\n    \n    // Find which shade of grey the color is most similar to\n    if (average <= 0.1)\n    {\n        texColor = black;\n    }\n    else if (average > 0.1 && average <= 0.2) \n    {\n        texColor = black_grey;\n    }\n    else if (average > 0.2 && average <= 0.3)\n    {\n        texColor = dark_grey;\n    }\n    else if (average > 0.3 && average <= 0.4)\n    {\n        texColor = mid_dark_grey;\n    }\n    else if (average > 0.4 && average <= 0.5)\n    {\n        texColor = dark_light_grey;\n    }\n    else if (average > 0.5 && average <= 0.6)\n    {\n        texColor = grey;\n    }\n    else if (average > 0.6 && average <= 0.7)\n    {\n        texColor = light_dark_grey;\n    }\n    else if (average > 0.7 && average <= 0.8)\n    {\n        texColor = mid_light_grey;\n    }\n    else if (average > 0.8 && average <= 0.9)\n    {\n        texColor = light_grey;\n    }\n    else if (average > 0.9 && average <= 1.0) \n    {\n        texColor = white_grey;\n    }\n    else\n    {\n        texColor = white;\n    }\n\n  \t// set the pixel's color\n    fragColor = texColor;\n}","name":"Image","description":"","type":"image"}]}