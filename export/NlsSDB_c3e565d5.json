{"ver":"0.1","info":{"id":"NlsSDB","date":"1626466330","viewed":40,"name":"MyMandelMap","username":"Donald","description":" Conformally warps texture to fit around outside of mandelbrot set.","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["test","mandelbrot"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGRn","filepath":"/media/a/10eb4fe0ac8a7dc348a2cc282ca5df1759ab8bf680117e4047728100969e7b43.jpg","previewfilepath":"/media/ap/10eb4fe0ac8a7dc348a2cc282ca5df1759ab8bf680117e4047728100969e7b43.jpg","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"int crosses(in vec2 pos,in vec2 upd){\nvec2 res=pos+upd;\nif (pos.x<0. && res.x<0.){return 0;}\nif (pos.y<0. && res.y<0.){return 0;}\nif (pos.y>0. && res.y>0.){return 0;}\nfloat cpos=pos.x-upd.x*(pos.y/upd.y);\nif (cpos>0.){\nif (pos.y>0.){return -1;}else{return 1;}}\nreturn 0;\n\n\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    int n=100;\n    vec2 c = (fragCoord/iResolution.xy-vec2(.75,.5))*3.;//(fragCoord/iResolution.xy-vec2(.5))*9.;//(fragCoord/iResolution.xy-vec2(.75,.5))*3.;\n    vec2 v=vec2(0.);\n    vec3 col = vec3(0.);\n    bool inn=true;\n    int cn=0;\n    int i;\n    for (i=0;i<n;i++){\n        cn*=2;\n        if (v.y<=0.){cn+=1;}\n        v=vec2(v.x*v.x-v.y*v.y,2.*v.x*v.y);\n        \n        \n        cn+=crosses(v,c);\n        v+=c;\n        if (v.x*v.x+v.y*v.y>64.){\n        //i++;\n        //i--;\n        //col=vec3(1.);\n        inn=false;\n        break;\n        }\n    }\n    //col.x=1./float(abs(cn)+1);\n    float sc=1./float(1<<i);\n    float a=log(length(v))*sc;//\n    //a=pow(length(v),sc);  (0.25/asin(1.))\n    float pi2=3.1415926*2.;\n    float b=((float(cn)+atan(-v.y,-v.x)*(1./pi2)+.5)*sc-1.)*pi2;// *sc+1.0;\n    a=exp(a);\n    vec2 po=vec2(cos(b),sin(b))*a;\n    \n   \n    //col.r=0.5*b+.5;\n    //col=vec3(clamp(sin(100.*b*pi2)*.5+.5,0.,1.));\n    col=texture(iChannel1,po*3.).rgb;\n    if (inn){col=vec3(0.5,0.,1.);}\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}