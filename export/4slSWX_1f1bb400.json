{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"#define time iTime*1000.\n#define resolution iResolution.xy\n#define PI 3.1415\n\nfloat smin( float a, float b, float k )\n{\n    float res = exp( -k*a ) + exp( -k*b );\n    return -log( res )/k;\n}\nfloat smax( float a, float b, float k ) {\n    return -smin(-a,-b,k);\n}\n\nvec2 r(vec2 x)\n{\n\treturn fract(sin(vec2(dot(x,vec2(127.1,311.7)),dot(x,vec2(269.5,183.3))))*43758.5453);\n}\n\nvec2 sr2(vec2 x) {\n    vec2 floored = floor(x);\n    vec2 fracted = .5*sin(PI*(fract(x)-.5))+.5;\n    return mix(mix(r(floored), r(floored+vec2(1,0)), fracted.x),\n              mix(r(floored+vec2(0,1)), r(floored+vec2(1,1)), fracted.x),\n              fracted.y);       \n}\n\nvec2 sr1(float x) {\n    return sr2(vec2(0,x));\n}\n\nfloat volcano (vec2 pos) {\n   \treturn smax(pos.y+.1*length(sr1(25.*pos.x))-3.,pos.y-1./pow(pos.x,2.), 1.);\n}\n\nfloat volcanoLava (vec2 pos) {\n    return abs(pos.x + .01*pos.y*(.5-length(sr1(pos.y-time/100.))))-.4;\n}\n\nfloat lavaBall (vec2 pos) {\n    pos -= vec2(0, -time/200.);\n    vec2 mods = mod(pos, vec2(2.,3.));\n    vec2 divs = floor(pos/vec2(2.,3.));\n    pos = mods;\n    pos-=vec2(.1,.1)+vec2(1.8,2.8)*sr2(divs);\n    return length(pos)-.1;\n}\n\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / resolution;\n    uv-=vec2(.5,0.);\n    vec4 backgroundCol = mix(vec4(1,.4,0,1), mix(vec4(.8,.5,0.,1.), vec4(.1,0,0,1), min(1.,uv.y)), min(1.,4.*uv.y));\n    uv*=5.;\n    uv+=0.1*sr1(time/100.);\n    vec4 lavaBallCol = vec4(1,.5,0,1);\n    float lavaBallMul = lavaBall(uv)<0. ? 1. : 0.;\n    vec4 volcanoLavaCol = mix(vec4(1,1,0,1), vec4(1,0,0,1), length(sr1(uv.x*25.-uv.y+0.1*sin(5.*uv.y)+time/200.)));\n    float volcanoLavaMul = float(volcanoLava(uv)<0.);\n    vec4 volcanoCol = .25*(3.+length(sr2(uv*10.)))*vec4(171./256.,106./256.,32./256., 1.);\n    float volcanoMul = float(volcano(uv) < 0.);\n\tfragColor = mix(\n        mix(mix(backgroundCol,\n                lavaBallCol, lavaBallMul),\n            volcanoLavaCol, volcanoLavaMul)\n        ,volcanoCol, volcanoMul);\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"4slSWX","date":"1407324223","viewed":213,"name":"Lava-Spewing Volcano","username":"reuben364","description":"A volcano. It was pretty rushed, but I had fun doing it.","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["volcanolava2d"],"hasliked":0,"parentid":"","parentname":""}}