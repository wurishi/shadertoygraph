{"ver":"0.1","info":{"id":"sddBW8","date":"1656491301","viewed":62,"name":"DimaVitruk28062022","username":"DimaVitruk12345","description":"Shader1","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["dimavitrukshader28062022"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define BG vec3(0.0748, 0.0872, 0.1059)\n\nfloat udSegment( in vec2 p, in vec2 a, in vec2 b )\n{\n    vec2 pa = p-a;\n    vec2 ba = b-a;\n       float h = clamp(dot(pa,ba) / dot(ba,ba), 0.0, 1.0 );\n          return length(pa-h*ba);\n}\n\n        float lineSegment(in vec2 p1, in vec2 p2, in vec2 sc) //udSegment\n        {\n            vec2 relocate = vec2(150., -400.);\n            vec2 v1 = vec2(200. * p1.x, -200.0 * p1.y);\n                v1 += relocate;\n            vec2 v2 = vec2(200. * p2.x, -200.0 * p2.y);\n                v2 += relocate;\n            return udSegment( sc, v2, v1 );\n        }\n\nfloat ellipsis(in vec2 uv, in vec2 p1, in vec2 p2)\n{\n    float d1 = length(p1-uv); \n    float d2 = length(p2-uv); \n    return abs((d1+d2)-2.6);\n}\n\n        void mainImage( out vec4 fragColor, in vec2 fragCoord ) //ellipsis, lineSegmemt\n        {\n            // Точки лица\n\n            vec2 dots[49];\n            dots[0]  = vec2(1.42, -3.8200);\n            dots[1]  = vec2(1.05, -3.5100);\n            dots[2]  = vec2(1.3 , -3.3200);\n            dots[3]  = vec2(1.43, -3.0900);\n            dots[4]  = vec2(1.45, -2.7000);\n            dots[5]  = vec2(1.29, -2.4000);\n            dots[6]  = vec2(1.07, -1.9400);\n            dots[7]  = vec2(0.95, -1.3700);\n            dots[8]  = vec2(1.03, -0.80000);\n            dots[9]  = vec2(1.25, -0.25000);\n            dots[10] = vec2(1.36, -0.030000);\n            dots[11] = vec2(1.87, 0.25000);\n            dots[12] = vec2(2.35, 0.31000);\n            dots[13] = vec2(3.1 , 0.18000);\n            dots[14] = vec2(3.28, 0.19000);\n            dots[15] = vec2(3.52, 0.10000);\n            dots[16] = vec2(3.74, -0.15000);\n            dots[17] = vec2(3.93, -0.46000);\n            dots[18] = vec2(3.97, -0.71000);\n            dots[19] = vec2(3.95, -0.84000);\n            dots[20] = vec2(3.81, -0.84000);\n            dots[21] = vec2(3.76, -0.88000);\n            dots[22] = vec2(3.85, -1.0100);\n            dots[23] = vec2(3.91, -1.1400);\n            dots[24] = vec2(3.95, -1.4000);\n            dots[25] = vec2(3.94, -1.4800);\n            dots[26] = vec2(4.17, -1.7200);\n            dots[27] = vec2(4.33, -1.9400);\n            dots[28] = vec2(4.29, -2.0400);\n            dots[29] = vec2(4.18, -2.1600);\n            dots[30] = vec2(4.1 , -2.2300);\n            dots[31] = vec2(4.08, -2.4700);\n            dots[32] = vec2(4.07, -2.5400);\n            dots[33] = vec2(4.04, -2.5600);\n            dots[34] = vec2(4.09, -2.6100);\n            dots[35] = vec2(4.08, -2.7200);\n            dots[36] = vec2(3.96, -2.8000);\n            dots[37] = vec2(3.95, -3.0000);\n            dots[38] = vec2(3.94, -3.1700);\n            dots[39] = vec2(3.81, -3.3300);\n            dots[40] = vec2(3.61, -3.4000);\n            dots[41] = vec2(3.33, -3.4300);\n            dots[42] = vec2(3.24, -3.4500);\n            dots[43] = vec2(3.04, -3.7900);\n            dots[44] = vec2(2.95, -4.0200);\n            dots[45] = vec2(2.75, -4.2500);\n            dots[46] = vec2(2.39, -4.2300);\n            dots[47] = vec2(1.9 , -4.0400);\n            dots[48] = vec2(1.42, -3.8200);\n\n            vec2 sc = vec2(fragCoord.x, iResolution.y - 2.*fragCoord.y);\n            vec3 col = BG;\n            float thick = 4.;\n\n            // Соиденяя точки вместе\n            for(int i = 1; i < dots.length(); ++i){\n                float d = lineSegment(dots[i-1], dots[i], sc) - thick;\n                    col += vec3(1.0,1.0,1.0) * smoothstep(2.5,0.,d);\n            }\n\n            vec2 uv = (vec2(2500. -2.*fragCoord.x, 750.+iResolution.y - 2.*fragCoord.y)-vec2(1280,720))/700.;\n            float px = 2.0/iResolution.y;\n\n            vec2 b1 = vec2(0.5,0.0);\n            vec2 b2 = vec2(-0.7,0.0);\n\n            float el = ellipsis(uv, b1, b2);\n                col = mix(col, vec3(1.0,1.0,1.0), 1.0-smoothstep(0.01,0.01+3.0*px, 1./thick*el));\n                    fragColor = vec4(col,1.0);\n        }","name":"Image","description":"","type":"image"}]}