{"ver":"0.1","info":{"id":"dtlcDM","date":"1690845764","viewed":87,"name":"July 31","username":"scry","description":"trippy!","likes":6,"published":1,"flags":0,"usePreview":0,"tags":["2d"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"////////////////////////////////////////////////////////////////////////////////\n#define pi acos(-1.)\n#define deg pi/180.\n#define time iTime*pi/10.\n#define R iResolution.xy\n#define ar R.x/R.y\nvec3 cs = vec3(1.,2.,3.);\nmat2 r2d(float a) {\n    return mat2(cos(a),sin(a),-sin(a),cos(a));\n}\n\nfloat sdBox(vec2 p, vec2 s) {\n    vec2 q = abs(p)-s;\n    return length(max(q,0.))+min(0.,max(q.x,q.y));\n}\nvec3 t1(vec2 uv, float t) {\n    vec3 col = vec3(0.);\n    float b = 0.;\n    float c = length(uv);\n    \n    for (int i=0;i<40;i++) {\n        float ii = float(i);\n        b = sdBox(uv,vec2(0.01*sin(t+ii),0.01*cos(t+ii)));\n        col += smoothstep(0.01+sin(c*3.+time)*0.01,0.,abs(b))*(sin(cs+ii)*0.3+0.8);\n        uv.x = abs(uv.x)-0.02;\n        uv += vec2(sin(t+ii),cos(t+ii))*0.03;\n        uv *= r2d(deg*30.*float(i+1)/5.+sin(t/20.+float(i)/4.)*pi/8.);\n        col += smoothstep(0.02,0.,abs(b)-0.5)*(0.005+sin(t*pi*8.)*0.0001);\n    }\n    return col;\n}\nvec3 rgb2hsv(vec3 c){vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);vec4 p = mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g));vec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r));float d = q.x - min(q.w, q.y);float e = 1.0e-10;return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);}vec3 hsv2rgb(vec3 c){vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);}float bitm(vec2 uv,int c) {float h = 5.;float w = 3.;int p = int(pow(2.,w));float line1 = 9591.;uv = floor(vec2(uv.x*w,uv.y*h))/vec2(w,w);float c1 = 0.;float cc = uv.x + uv.y*w;c1 = mod( floor( float(c) / exp2(ceil(cc*w-0.6))) ,2.);c1 *= step(0.,uv.x)*step(0.,uv.y);c1 *= step(0.,(-uv.x+0.99))*step(0.,(-uv.y+1.6));return (c1);}vec3 slogo(vec2 uv, float ar_, float size) {size = 240./size;uv.x = 1.-uv.x;vec2 px = vec2(1./3.,1./5.);float ls = 4.1;uv *= 240./5.25/size;ls += 2.;float ul = length(uv);ul = length(vec2(uv.x*0.5,uv.y)-0.5);uv -= 0.4;uv.x *= ar*1.75;uv.y *= 1.04;int s = 29671;int c = 29263;int r = 31469;int y = 23186;uv.x= 5.-uv.x;float b = bitm(uv,s);uv.x -= 1./3.*4.;b += bitm(uv,c);uv.x -= 1./3.*4.;b += bitm(uv,r);uv.x -= 1./3.*4.;b += bitm(uv,y);float rr = step(0.,uv.x+px.x*13.)*step(0.,uv.y+px.y)*step(0.,(-uv.x+px.x*4.))*step(0.,(-uv.y+px.y*6.));b = clamp(b,0.,1.);vec3 l = hsv2rgb(vec3(b+iTime/40.,0.1,rr-b*1.9))*rr;l -= 0.1-clamp(ul*0.1,rr*1.-b,0.1);return vec3(l);}\n\n\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n    vec2 uv = fragCoord.xy / iResolution.xy;\n    vec2 tv = uv;\n    uv -= 0.5;\n    uv.x *= ar;\n    vec3 col = vec3(0.);\n    vec2 bv = uv;\n    for (int i=0;i<12;i++) {\n        //uv *= r2d(deg*45.);\n        float ii = float(i);\n        col += t1(uv,time+float(i+1)/80.)*(sin(cs+ii+time*2.+length(uv)*8.)*0.8+0.2);\n        bv = abs(bv)-0.04+sin(time+ii/pi)*0.04;\n        uv += vec2(sin(time+ii+uv.y*8.),cos(time+ii+uv.x*8.))*0.003;\n        col += t1(bv,time+float(i+1)/80.)*(sin(cs+ii+time*2.+length(uv)*8.)*0.8+0.2)/13.;\n    }\n    col = abs(col-0.2)/2.;\n    col *= 0.5;\n    col += slogo(tv,1.,300./1.)*(sin(vec3(cs*0.6+tv.x*20.))*0.4+0.6)*0.5;\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}