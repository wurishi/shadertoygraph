{"ver":"0.1","info":{"id":"MsGXDc","date":"1467057239","viewed":393,"name":"Masked transition","username":"Senryoku","description":"Just a funny experimentation, try different 'masks' (iChannel1)!","likes":6,"published":1,"flags":0,"usePreview":0,"tags":["transition","mask"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XsXGRn","filepath":"/media/a/cd4c518bc6ef165c39d4405b347b51ba40f8d7a065ab0e8d2e4f422cbc1e8a43.jpg","previewfilepath":"/media/ap/cd4c518bc6ef165c39d4405b347b51ba40f8d7a065ab0e8d2e4f422cbc1e8a43.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"Xdf3zn","filepath":"/media/a/85a6d68622b36995ccb98a89bbb119edf167c914660e4450d313de049320005c.png","previewfilepath":"/media/ap/85a6d68622b36995ccb98a89bbb119edf167c914660e4450d313de049320005c.png","type":"texture","channel":1,"sampler":{"filter":"nearest","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const float speed = 0.5;\t// Global speed of the animation\nconst float _smooth = 0.25;\t// Duration of the smooth transition to black ([0, 1])\nconst int mask_channel = 0;\t// Which channel (rgba) of the mask texture will be used.\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float asp = iResolution.x / iResolution.y;\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    uv.y /= asp;\n    \n    vec4 color = texture(iChannel0, uv);\n    float mask = texture(iChannel1, uv)[mask_channel];\n    \n \tfloat time = mod(speed * iTime, 3.5) - 0.5;\n    time = time > 1.5 ? 2.5 - time : time; // Black -> iChannel0 -> Black\n    \n    fragColor = smoothstep(0.0, 1.0, 1.0 - (mask - time) / _smooth) * color;\n}","name":"Image","description":"","type":"image"}]}