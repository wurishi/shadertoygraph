{"ver":"0.1","info":{"id":"wscBRX","date":"1605774755","viewed":82,"name":"Circle pizza slice","username":"Peewi","description":"Circle pizza slice","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["pizza"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Pi, the ratio of a circle's circumference to its diameter.\n\tconst float M_PI = 3.14159265358979323846264338327950288;\n    \n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n    \n    // Draw circle\n    vec3 bg = vec3(0.1, 0.1, 0.1);\n    vec3 white = vec3(0.9);\n    vec3 col = bg;\n    //vec2 center = vec2(200.0, iResolution.y - 150.0);\n    vec2 center = iResolution.xy / 2.;\n    float l = length(fragCoord-center);\n    //float radius = ((sin(iTime*3.0)+1.0) * 40.0);\n    float radius = 125.0;\n    float am = (l - radius);\n    am = clamp(am, 0.0, 1.0);\n    col = mix(white, bg, am);\n\n    // Only draw a pizza slice of the circle\n    float startAngle = atan(iMouse.y - center.y, iMouse.x - center.x);\n    float span = (sin(iTime) + 1.) * M_PI;\n    \n    float angle = atan(fragCoord.y - center.y, fragCoord.x - center.x);\n    float aim = startAngle - span / 2.;\n    \n    float range = span / 2.;\n    \n    float arcL = l * angle;\n    float arcLAim = l * aim;\n    float arcRangeLength = l * range;\n    \n    float arcDist = abs(arcL - arcLAim);\n    float halfCircumf = l * M_PI;\n    if(arcDist >= halfCircumf)\n    {\n        arcDist -= halfCircumf * 2.;\n        arcDist = -arcDist;\n    }\n    float arcDistDist = (arcDist - arcRangeLength);\n    arcDistDist = clamp(arcDistDist, 0., 1.);\n    col = mix(col, bg, arcDistDist);\n    /*\n    float adist = abs(angle - aim);\n    if(adist >= M_PI)\n    {\n        adist -= M_PI * 2.;\n        adist = -adist;\n    }\n    adist /= range;\n    adist = clamp(adist, 0., 1.);\n    \n    col = mix(col, bg, adist);\n    */\n    \n    // Output to screen\n    fragColor = vec4(col, 1.0);\n}","name":"Image","description":"","type":"image"}]}