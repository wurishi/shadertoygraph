{"ver":"0.1","info":{"id":"csdGD2","date":"1677860996","viewed":68,"name":"Offset Circle Rings","username":"WhileRomeBurns","description":"draw sine waves from offset center to circle boundary. more complex example https://www.shadertoy.com/view/Dst3D2","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["2d","circle","ring","distance","shift"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// https://iquilezles.org/articles/distfunctions2d/\nfloat sdCircle( vec2 p, float r )\n{\n    return length(p) - r;\n}\n\n\nfloat parameterizeCircle01(vec2 center, vec2 uv, float radius)\n{\n    // uv is our shading point\n    // center is the offset center point inside the bounding circle\n    // radius is the radius of the bounding circle centered at (0,0)\n\n    vec2 to = uv - center;\n    vec2 rd = normalize(to); // ray direction\n    vec2 ro = uv;            // ray origin\n    \n    // https://www.shadertoy.com/view/wlcfW7\n    float a = dot(rd, rd);\n    float b = dot(2.0 * ro, rd);\n    float c = dot(ro, ro) - radius * radius;\n\n    float discr = b * b - 4.0 * a * c;\n    if (discr > 0.0) {\n        float root = sqrt(discr);\n        float denom = 2.0 * a;\n        float t1 =  (root - b) / denom; // 1st root (intersection distance)\n        // don't need the second intersection in our case\n        // float t2 = -(root + b) / denom; // 2nd root (intersection distance)\n        \n        float distToCenter = length(to);\n        float spokeLength = t1 + distToCenter;\n\n        return min(distToCenter / spokeLength, 1.0);\n    }\n    \n    return 1.0;\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float radius = 0.5;\n    vec2  center = vec2(cos(iTime*0.5), sin(iTime*0.5))*0.25;\n\n    // normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.x;\n    float aspect = iResolution.x/iResolution.y;\n    \n    // center uv space so (0,0) is in the middle of our canvas\n    uv = (uv - vec2(0.5, 0.5/aspect)) * 2.0;\n    \n    // distance to bounding circle at (0,0)\n    float d = sdCircle(uv, radius);\n    \n\t// coloring bounding circle and outline\n    vec3 col = (d>0.0) ? vec3(0.3,0.3,0.3) : vec3(1,1,1);\n\tcol = mix( col, vec3(0.95), 1.0-smoothstep(0.0,0.01,abs(d)) );\n\n    // draw center point\n    float d2 = sdCircle(center-uv, 0.02);\n    col = mix( col, vec3(0.0,1.0,0.94), 1.0-smoothstep(0.0, 0.001, d2) );\n    \n    // draw waves\n    float circle01 = parameterizeCircle01(center, uv, radius);\n    float wave = sin(50.0*circle01);\n    col = mix(vec3(wave), col, smoothstep(0.98, 1.0, circle01));\n\n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}