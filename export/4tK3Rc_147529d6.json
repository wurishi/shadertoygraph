{"ver":"0.1","info":{"id":"4tK3Rc","date":"1475905535","viewed":141,"name":"Planet Umma","username":"VoidChicken","description":"A planet with that looks alien... At least to me. There are mouse controls by the way. Turn down RES for higher performance.","likes":1,"published":1,"flags":32,"usePreview":0,"tags":["raymarch","alien","curvature","fakehorizon"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 c, vec2 f )\n{\n\tvec2 uv = f.xy / iResolution.xy;\n    float d = pow(1.-length(uv-.5)/1.62, 1.3);\n    vec2 p = 1./iResolution.xy;\n\tvec4 b = texture(iChannel0, uv)*.5;\n    b+=texture(iChannel0, uv+p)*.0208333333;\n    b+=texture(iChannel0, uv-p)*.0208333333;\n    b+=texture(iChannel0, uv+vec2(0,p.y))*.0208333333;\n    b+=texture(iChannel0, uv-vec2(0,p.y))*.0208333333;\n    b+=texture(iChannel0, uv+vec2(p.x, 0))*.0208333333;\n    b+=texture(iChannel0, uv-vec2(p.x, 0))*.0208333333;\n    b+=texture(iChannel0, uv+vec2(p.x,-p.y))*.0208333333;\n    b+=texture(iChannel0, uv-vec2(p.x,-p.y))*.0208333333;\n    c = b*d;\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4df3Rr","filepath":"/media/a/3871e838723dd6b166e490664eead8ec60aedd6b8d95bc8e2fe3f882f0fd90f0.jpg","previewfilepath":"/media/ap/3871e838723dd6b166e490664eead8ec60aedd6b8d95bc8e2fe3f882f0fd90f0.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":2,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"#define RES 100\nfloat dF(vec3 v, float d) {\n       float f = texture(iChannel0, v.xz/200.0,3.).r;\n       f=pow(f,2.9)+sqrt(f);\n       f-=d/(5.);\n       return v.y-f;\n}\n float sdot(vec3 a, vec3 b) {\n\treturn min(max(dot(a,b),0.),1.);\n }\nvec3 sky(vec3 rd) {\n\treturn mix(vec3(100./255., 50./255., 245./255.),vec3(135./255., 200./255.,235./255.),sdot(rd,vec3(0,1,0))*2.);\n}\nvec4 ray(vec3 ro, vec3 rd) {\n\tvec3 r = ro;\n    vec3 final = sky(rd);\n    bool hit = false;\n    for (int i = 0; i < RES; i++) {\n        float f = dF(r, distance(ro,r));\n    \tr+=rd*f/2.;//, distance(ro,r)); \n        if (f < .5) {\n            hit = true;\n        }\n    }\n    if (hit) {\n    \tfinal =( texture(iChannel0, r.xz/100.0).gbr+\n                texture(iChannel0, r.xz/10.0).bgr)/2.; \n    }\n    return vec4(final, distance(ro,r));\n}\nvoid mainImage( out vec4 c, vec2 f )\n{\n\tvec2 uv = f.xy / iResolution.xy;\n\tc = mix(texture(iChannel2,f/iResolution.xy),ray(vec3(0, 2.5+iMouse.y/iResolution.y, texture(iChannel1,vec2(0.)).z), vec3(uv*2.-1., 1)),.4);\n}","name":"Buf A","description":"","type":"buffer"},{"inputs":[{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"XsXGR8","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    fragColor = iFrame==0?vec4(0):texture(iChannel0, vec2(0.))+vec4(0,0, (1.1+sin(iTime/2.))/20.,1);\n}","name":"Buf B","description":"","type":"buffer"}]}