{"ver":"0.1","info":{"id":"msyfz1","date":"1697911220","viewed":456,"name":"Watercolors","username":"felipetovarhenao","description":"Procedural watercolor graphics","likes":19,"published":1,"flags":0,"usePreview":0,"tags":["watercolors"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"/*\nAuthor: Felipe Tovar-Henao [www.felipe-tovar-henao.com]\nTitle: Watercolors\n*/\n\n\n#define PI 3.14159265359\n#define TWO_PI 6.28318530718\n#define SPEED.25\n\nvec2 adjustViewport(vec2 coord,vec2 res){\n\treturn(coord*2.-res)/(res.x<res.y?res.x:res.y);\n}\n\nmat2 rot2(in float a){\n    float c=cos(a);\n    float s=sin(a);\n    return mat2(c,-s,s,c);\n}\n\nfloat fold(in float x){\n    return abs(mod(x+1.,2.)-1.);\n}\n\nvec2 fold(in vec2 p){\n    return vec2(fold(p.x),fold(p.y));\n}\n\nfloat cosine(in float x,in float s){\n    float y=cos(fract(x)*PI);\n    return floor(x)+.5-(.5*pow(abs(y),1./s)*sign(y));\n}\n\nvec2 cosine(in vec2 p,in float s){\n    return vec2(cosine(p.x,s),cosine(p.y,s));\n}\n\nvec3 cosine(in vec3 p,in float s){\n    return vec3(cosine(p.xy,s),cosine(p.z,s));\n}\n\nfloat scale(in float x,in float a,in float b,in float c,in float d){\n\treturn(x-a)/(b-a)*(d-c)+c;\n}\n\nvec3 gradient(in float t,in vec3 a,in vec3 b,in vec3 c,in vec3 d){\n\treturn a+b*cos(TWO_PI*(c*t+d));\n}\n\nvec3 c1=vec3(.1);\nvec3 c2=vec3(.15);\nvec3 c3=vec3(2.6);\nvec3 c4=vec3(.1,.5,.6);\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord){\n    vec2 uv=adjustViewport(fragCoord.xy,iResolution.xy);\n\tfloat t=iTime*SPEED;\n\tt += cosine(t*.25, 2.);\n\tuv*=5.;\n\tvec2 p=uv;\n\tvec2 q=1.-uv;\n\tfloat a=.5;\n\tvec3 col=vec3(0);\n\tfor(float i=1.;i<9.;i++){\n\t\tfloat s=pow(1.3,i);\n\t\tfloat an=-a-cos(a*.5+t)*.125;\n\t\tmat2 m=rot2(an);\n\t\tp*=m;\n\t\tq*=m;\n\t\ta+=dot(cos(q+t+i-a)/s,vec2(.25));\n\t\tvec2 k=fold(q-t-a+s);\n\t\tfloat h=scale(sin(a+t*1.5),-1.,1.,.5,.75);\n\t\tq=mix(q,k,h);\n\t\tvec2 tmp=q;\n\t\tq=p;\n\t\tp=tmp;\n\t\tq*=2.;\n\t\tfloat w=a;\n\t\tcol+=gradient(a*.5+t*.3+i,c1,c2,c3,c4)*w;\n\t}\n\tcol=cosine(col,1.5);\n\tfragColor=vec4(col,1.);\n}","name":"Image","description":"","type":"image"}]}