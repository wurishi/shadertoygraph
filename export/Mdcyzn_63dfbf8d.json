{"ver":"0.1","info":{"id":"Mdcyzn","date":"1517733929","viewed":75,"name":"shader practicing","username":"Hoyong","description":"shader practicing","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["2d"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4df3Rn","filepath":"/media/a/3c33c415862bb7964d256f4749408247da6596f2167dca2c86cc38f83c244aa6.mp3","previewfilepath":"/media/ap/3c33c415862bb7964d256f4749408247da6596f2167dca2c86cc38f83c244aa6.mp3","type":"music","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XdfGRr","filepath":"/media/a/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm","previewfilepath":"/media/ap/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define pi 3.14159265358979\n#define WIDTH 5.\n\nfloat removeGreen(vec4 col)\n{\n    if ( col.r+0.01 + col.b+0.01 < col.g )\n    {\n        return 0.;\n    }else{return 1.;}\n}\n\nfloat rect(vec2 uv, vec2 leftBottom, vec2 rightTop)\n{\n    if(uv.x <= rightTop.x && uv.y <= rightTop.y)\n    {\n    \tif(uv.x >= leftBottom.x && uv.y >= leftBottom.y)\n    \t{\n        \treturn 1.0;\n        }\n    }else{return .0;}\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    vec2 aPixel = vec2(1.0)/iResolution.xy;\n\n    vec4 Final;\n    vec4 guy;\n    vec4 guyShadow;\n\n    vec2 q = uv + vec2(sin(iTime*5. + uv.y)*0.25) * (1.5+cos(iTime*0.5))*0.5 + vec2(cos(iTime)*0.25, sin(iTime)*0.1);\n\n    Final.xyz = vec3(0.8);\n    Final.a = 1.0;\n    \n    // cut texture\n    Final.a = rect(q, vec2(0.0), vec2(1.0)); \n    \n    //lines\n    if ( mod( cos(uv.x)*0.5-sin(uv.y) - iTime*0.5, 0.2) < 0.1)\n    \tFinal.xyz = vec3(0.5);     \n    \n    Final.xyz = mix(Final.xyz,vec3(q.y,1.0,q.x),0.1);\n    \n\n    //textures\n    guy = texture(iChannel0,q);\n    guyShadow = texture(iChannel0,q + vec2(-0.05,0.05));\n    \n    //work some colours\n    guy.a = removeGreen(guy);\n    guy.xyz += vec3(guy.r+uv.y,guy.g,guy.b+uv.x);\n    guy.a *= Final.a;\n    \n    guyShadow.a = removeGreen(guyShadow);\n    guyShadow.xyz = vec3(0.0);\n    guyShadow.a *= 0.6*Final.a;\n    \n    // outline\n    for ( int i = 0; i < 4; i ++ )\n    {\n        vec4 samplet = texture(iChannel0,q + aPixel*WIDTH*vec2(cos(pi/2.0*float(i)),sin(pi/2.0*float(i))));\n        samplet.rgb *= removeGreen(samplet) * Final.a;\n\n        if ( guy.a == 0. )\n        {\n            if ( (samplet.r+samplet.g+samplet.b) > 0. )\n            {\n                vec3 colour = vec3(cos(iTime));\n                guy.xyz = mix(colour,guy.xyz,0.);\n                guy.a = 1.0;\n            }\n        }\n\n    }\n    \n    Final.xyz = mix(Final.xyz, guyShadow.xyz,guyShadow.a);\n    Final.xyz = mix(Final.xyz, guy.xyz,guy.a);\n    \n    fragColor = Final;\n}","name":"Image","description":"","type":"image"}]}