{"ver":"0.1","info":{"id":"ctKfzw","date":"1701963151","viewed":39,"name":"Wavestuff <3","username":"shophorn","description":"Something small I made while listening a lecture about wave propagation an noise in space system communication.","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["waves"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PULSE_COUNT 100\n\nvec2 pulsePositions[] = vec2[PULSE_COUNT](\n\tvec2(0.007349999999999968, -0.39390000000000003),\n\tvec2(-0.27688999999999997, 0.87592),\n\tvec2(-0.73908, 0.8745099999999999),\n\tvec2(0.20046000000000008, -0.65534),\n\tvec2(0.6352199999999999, 0.24580000000000002),\n\tvec2(0.44265, -0.47762000000000004),\n\tvec2(0.5172399999999999, 0.72234),\n\tvec2(-0.61058, -0.85588),\n\tvec2(0.007859999999999978, 0.63455),\n\tvec2(0.3846400000000001, -0.48187),\n\tvec2(-0.30616, -0.93775),\n\tvec2(-0.19086999999999998, -0.27154),\n\tvec2(-0.46272, -0.11446999999999996),\n\tvec2(0.4052800000000001, 0.69659),\n\tvec2(-0.05742000000000003, 0.20117000000000007),\n\tvec2(0.79592, -0.32820000000000005),\n\tvec2(-0.12283, -0.731),\n\tvec2(0.053180000000000005, -0.34740000000000004),\n\tvec2(-0.96824, 0.7890999999999999),\n\tvec2(-0.87051, -0.20509999999999995),\n\tvec2(-0.98998, 0.1429800000000001),\n\tvec2(0.8820399999999999, -0.43538),\n\tvec2(0.10777999999999999, -0.79388),\n\tvec2(0.5400100000000001, 0.5971200000000001),\n\tvec2(-0.10604999999999998, 0.8319799999999999),\n\tvec2(0.31847000000000003, 0.3232900000000001),\n\tvec2(0.09213000000000005, 0.10533999999999999),\n\tvec2(-0.08126, -0.34753999999999996),\n\tvec2(-0.50283, 0.80216),\n\tvec2(0.80115, -0.38354999999999995),\n\tvec2(0.4606300000000001, 0.5385200000000001),\n\tvec2(-0.65985, 0.64663),\n\tvec2(-0.50101, -0.64662),\n\tvec2(0.5569299999999999, -0.76825),\n\tvec2(0.80111, 0.21555999999999997),\n\tvec2(0.8470500000000001, -0.22551),\n\tvec2(0.57179, -0.07033),\n\tvec2(-0.017630000000000035, -0.47585),\n\tvec2(0.29576, -0.52271),\n\tvec2(0.005519999999999969, -0.8328800000000001),\n\tvec2(0.9659, -0.09328000000000003),\n\tvec2(-0.26205999999999996, -0.30257),\n\tvec2(0.89435, 0.44449000000000005),\n\tvec2(-0.80597, 0.20991000000000004),\n\tvec2(-0.95819, 0.3352900000000001),\n\tvec2(-0.98047, -0.61426),\n\tvec2(0.28644000000000003, -0.27356),\n\tvec2(-0.08986000000000005, -0.36831),\n\tvec2(-0.50463, 0.13539999999999996),\n\tvec2(-0.39218, 0.8561799999999999),\n\tvec2(-0.07487999999999995, 0.72119),\n\tvec2(0.46116, 0.52847),\n\tvec2(0.6755599999999999, -0.04118999999999995),\n\tvec2(-0.77333, 0.22563),\n\tvec2(0.9732000000000001, -0.9614),\n\tvec2(0.70784, 0.27762),\n\tvec2(0.6265099999999999, 0.4132),\n\tvec2(0.40518999999999994, -0.91292),\n\tvec2(0.21937000000000006, 0.27859999999999996),\n\tvec2(-0.99438, 0.47052000000000005),\n\tvec2(-0.52198, -0.04581000000000002),\n\tvec2(0.22334999999999994, 0.12081000000000008),\n\tvec2(0.6523300000000001, -0.46855),\n\tvec2(-0.31045999999999996, -0.14063000000000003),\n\tvec2(0.28289999999999993, -0.65941),\n\tvec2(0.6138600000000001, -0.43975),\n\tvec2(-0.08131, 0.5647500000000001),\n\tvec2(-0.07708999999999999, -0.91155),\n\tvec2(-0.35153, -0.75183),\n\tvec2(0.64584, -0.97309),\n\tvec2(-0.52162, 0.26926000000000005),\n\tvec2(0.19364000000000003, 0.0020199999999999108),\n\tvec2(0.5649200000000001, 0.7830299999999999),\n\tvec2(0.1854800000000001, -0.63544),\n\tvec2(-0.09763, -0.93546),\n\tvec2(0.49275, -0.1693),\n\tvec2(0.9641200000000001, -0.87819),\n\tvec2(-0.26505, -0.75813),\n\tvec2(-0.601, -0.14573000000000003),\n\tvec2(-0.8994800000000001, 0.5116700000000001),\n\tvec2(0.57168, -0.40280000000000005),\n\tvec2(0.3129599999999999, 0.90987),\n\tvec2(0.70346, 0.18784),\n\tvec2(0.9050100000000001, 0.46114999999999995),\n\tvec2(0.70383, -0.42178000000000004),\n\tvec2(0.3599699999999999, 0.4285300000000001),\n\tvec2(0.11850000000000005, -0.05511999999999995),\n\tvec2(-0.35557000000000005, 0.6372500000000001),\n\tvec2(-0.11226000000000003, -0.15863000000000005),\n\tvec2(-0.06659000000000004, 0.51806),\n\tvec2(-0.40086, -0.56933),\n\tvec2(-0.8022199999999999, -0.46741999999999995),\n\tvec2(0.56447, 0.6912100000000001),\n\tvec2(0.4190499999999999, -0.75286),\n\tvec2(0.40854999999999997, 0.8070299999999999),\n\tvec2(-0.6370100000000001, -0.63768),\n\tvec2(-0.38836000000000004, -0.23641999999999996),\n\tvec2(-0.21952000000000005, -0.30687),\n\tvec2(0.11247999999999991, -0.09843999999999997),\n\tvec2(0.19815000000000005, -0.45160999999999996)\n);\n\nfloat pulseWidths[] = float[PULSE_COUNT](\n\t0.22557400000000002,\n\t0.262358,\n\t0.254944,\n\t0.13366,\n\t0.22434600000000002,\n\t0.22558,\n\t0.354534,\n\t0.297742,\n\t0.411548,\n\t0.16411,\n\t0.144648,\n\t0.377818,\n\t0.42600800000000005,\n\t0.44716200000000006,\n\t0.442786,\n\t0.279026,\n\t0.148756,\n\t0.180742,\n\t0.3980640000000001,\n\t0.32584599999999997,\n\t0.23573200000000002,\n\t0.1468,\n\t0.216594,\n\t0.20183,\n\t0.21235,\n\t0.331986,\n\t0.20006800000000002,\n\t0.38515600000000005,\n\t0.417084,\n\t0.3559,\n\t0.48213800000000007,\n\t0.39499800000000007,\n\t0.110504,\n\t0.39125200000000004,\n\t0.35768,\n\t0.24793600000000002,\n\t0.392516,\n\t0.495054,\n\t0.28034800000000004,\n\t0.43512400000000007,\n\t0.354978,\n\t0.432852,\n\t0.13741,\n\t0.37343000000000004,\n\t0.12984800000000002,\n\t0.12238800000000001,\n\t0.297654,\n\t0.25154,\n\t0.47468600000000005,\n\t0.117178,\n\t0.43831600000000004,\n\t0.13073600000000002,\n\t0.4265960000000001,\n\t0.15196,\n\t0.3592000000000001,\n\t0.15875,\n\t0.27689600000000003,\n\t0.4241480000000001,\n\t0.410262,\n\t0.36589400000000005,\n\t0.387096,\n\t0.21544200000000002,\n\t0.37576,\n\t0.33704999999999996,\n\t0.41180400000000006,\n\t0.24802800000000003,\n\t0.10790200000000001,\n\t0.3895620000000001,\n\t0.348996,\n\t0.32952000000000004,\n\t0.38605999999999996,\n\t0.38121400000000005,\n\t0.39322,\n\t0.29364,\n\t0.117954,\n\t0.186092,\n\t0.17691400000000002,\n\t0.138988,\n\t0.41029400000000005,\n\t0.425914,\n\t0.126546,\n\t0.341916,\n\t0.14625000000000002,\n\t0.42139400000000005,\n\t0.334708,\n\t0.270764,\n\t0.27690400000000004,\n\t0.200816,\n\t0.11386800000000001,\n\t0.413188,\n\t0.194272,\n\t0.34772000000000003,\n\t0.322302,\n\t0.14555400000000002,\n\t0.38547200000000004,\n\t0.251114,\n\t0.29115800000000003,\n\t0.182782,\n\t0.2341,\n\t0.30775\n);\n\nfloat frequencies[] = float[PULSE_COUNT](\n\t4.62821,\n\t4.587619999999999,\n\t4.77797,\n\t2.9043275,\n\t4.5160475,\n\t2.1444799999999997,\n\t1.0200875,\n\t3.1111025,\n\t1.2232625000000001,\n\t0.5956475,\n\t1.7100725,\n\t2.84702,\n\t4.188807499999999,\n\t2.5551049999999997,\n\t0.9994775,\n\t4.467335,\n\t0.8200624999999999,\n\t4.9925975,\n\t2.069105,\n\t4.8729425,\n\t1.239215,\n\t3.7982975000000003,\n\t1.399775,\n\t3.8674850000000003,\n\t2.33861,\n\t3.74432,\n\t1.8475925,\n\t0.58982,\n\t4.3156175,\n\t0.542705,\n\t4.3171925,\n\t4.005297499999999,\n\t1.443335,\n\t1.4139725,\n\t0.54329,\n\t1.92848,\n\t4.7352425,\n\t2.145965,\n\t1.30343,\n\t3.3677375,\n\t3.6041,\n\t0.6647675,\n\t3.4268674999999997,\n\t2.2178525000000002,\n\t3.1224875,\n\t3.0029675,\n\t0.7447325,\n\t4.3564325,\n\t4.988525,\n\t4.847855,\n\t1.9081625,\n\t2.6108824999999998,\n\t2.8010525000000004,\n\t3.7505075,\n\t2.3648675,\n\t3.6317075,\n\t4.1928125000000005,\n\t3.1216774999999997,\n\t1.5836,\n\t1.206635,\n\t0.9843124999999999,\n\t4.424315,\n\t0.896945,\n\t0.54914,\n\t1.2593524999999999,\n\t2.0010425,\n\t4.2680975,\n\t4.5692375,\n\t4.397427499999999,\n\t2.468795,\n\t3.911,\n\t4.154585,\n\t3.30044,\n\t4.5457925,\n\t2.9182550000000003,\n\t4.35389,\n\t3.362135,\n\t2.45543,\n\t3.3925325,\n\t2.54453,\n\t4.96715,\n\t1.3210925,\n\t4.9293499999999995,\n\t4.33265,\n\t0.5943425,\n\t0.9738724999999999,\n\t2.1883775,\n\t2.594615,\n\t4.8309575,\n\t1.3399475,\n\t1.6175975,\n\t2.817095,\n\t0.7440575,\n\t4.7866775,\n\t3.4361825,\n\t3.9204725000000002,\n\t2.1657425000000003,\n\t0.9163175,\n\t4.3641725000000005,\n\t1.60079\n);\n\nfloat pulseAmplitudes[] = float[PULSE_COUNT](\n\t1.48417,\n\t0.8574200000000001,\n\t1.355585,\n\t0.87824,\n\t0.94971,\n\t1.2061600000000001,\n\t0.664725,\n\t0.6110949999999999,\n\t0.993395,\n\t0.869225,\n\t0.6787650000000001,\n\t0.688855,\n\t0.946415,\n\t0.68318,\n\t1.408005,\n\t1.119195,\n\t1.039335,\n\t0.922185,\n\t0.72062,\n\t1.053965,\n\t0.83378,\n\t1.11836,\n\t0.7585850000000001,\n\t0.872625,\n\t1.1302750000000001,\n\t0.57982,\n\t0.71901,\n\t0.51544,\n\t1.274375,\n\t0.543985,\n\t0.680445,\n\t1.4867050000000002,\n\t1.135195,\n\t0.7229099999999999,\n\t0.92291,\n\t0.7881750000000001,\n\t1.370495,\n\t0.8868849999999999,\n\t1.14277,\n\t1.070525,\n\t1.48338,\n\t1.24613,\n\t1.4190049999999998,\n\t1.292605,\n\t0.877165,\n\t0.916975,\n\t0.98123,\n\t1.439785,\n\t1.147715,\n\t1.000025,\n\t0.8213699999999999,\n\t0.9755750000000001,\n\t1.470085,\n\t1.077815,\n\t0.65535,\n\t0.597635,\n\t0.737385,\n\t0.73288,\n\t0.53159,\n\t1.135595,\n\t0.600315,\n\t1.434285,\n\t0.59045,\n\t1.412785,\n\t0.80423,\n\t1.3785500000000002,\n\t0.809285,\n\t1.3930150000000001,\n\t1.2446199999999998,\n\t0.84597,\n\t0.8157749999999999,\n\t0.9963,\n\t0.54409,\n\t0.6291,\n\t1.11717,\n\t0.69173,\n\t0.7211799999999999,\n\t1.358635,\n\t0.596565,\n\t0.97056,\n\t1.109685,\n\t1.17809,\n\t1.1172149999999998,\n\t1.252,\n\t1.0642399999999999,\n\t0.796075,\n\t1.15088,\n\t1.40561,\n\t1.094965,\n\t0.625055,\n\t0.9834700000000001,\n\t0.693145,\n\t0.96568,\n\t1.05921,\n\t1.030235,\n\t0.704395,\n\t0.536825,\n\t1.24181,\n\t0.9734700000000001,\n\t0.57745\n);\n\nfloat cycleLengths[] = float[PULSE_COUNT](\n\t1.664426,\n\t2.8059205,\n\t1.764373,\n\t1.292823,\n\t2.746372,\n\t1.9238215,\n\t2.524505,\n\t0.748791,\n\t2.2077735,\n\t1.7709489999999999,\n\t1.7775855,\n\t1.7273315,\n\t2.8712415,\n\t1.46946,\n\t2.301255,\n\t2.5524155,\n\t1.5700269999999998,\n\t1.2570535,\n\t1.006934,\n\t2.1282755,\n\t2.6327220000000002,\n\t2.8834915,\n\t1.499075,\n\t1.9801,\n\t2.9520455,\n\t2.334739,\n\t1.004488,\n\t2.0120255,\n\t3.1985460000000003,\n\t2.4686690000000002,\n\t0.853405,\n\t1.8183815,\n\t1.9639685,\n\t2.4628094999999997,\n\t1.0671515,\n\t2.2778350000000005,\n\t2.259679,\n\t2.801385,\n\t2.635337,\n\t2.4506975,\n\t2.701701,\n\t1.39496,\n\t1.6253859999999998,\n\t3.053167,\n\t1.6132374999999999,\n\t2.6305785,\n\t1.771899,\n\t2.438143,\n\t2.5937035,\n\t2.6670404999999997,\n\t2.479655,\n\t1.6047060000000002,\n\t2.8920955,\n\t1.4489355,\n\t1.7145175,\n\t2.102381,\n\t1.73238,\n\t2.1457135000000003,\n\t1.4431845,\n\t2.6707314999999996,\n\t1.7038760000000002,\n\t1.9271574999999999,\n\t1.5010849999999998,\n\t1.550348,\n\t2.3458835000000002,\n\t2.9604930000000005,\n\t1.2510094999999999,\n\t2.7668035,\n\t2.5054345,\n\t1.6232820000000001,\n\t2.691534,\n\t2.200789,\n\t2.160841,\n\t2.150718,\n\t1.971242,\n\t2.5189820000000003,\n\t1.4221689999999998,\n\t2.7396055,\n\t1.9321825000000001,\n\t2.24609,\n\t2.618155,\n\t1.5292035,\n\t2.7899779999999996,\n\t2.3092485,\n\t2.691954,\n\t2.716959,\n\t1.582164,\n\t1.7444495,\n\t1.4839835,\n\t2.5282405,\n\t2.054294,\n\t2.337161,\n\t2.7668925,\n\t2.4625719999999998,\n\t1.5126765,\n\t1.4679129999999998,\n\t1.0424275,\n\t2.7340730000000004,\n\t1.0785335,\n\t2.5241265\n);\n\nconst float PI = 3.14159265359;\nconst float pulseSpeed = 0.7;\nconst float mapScale = 6.0;\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n    vec2 pixelPosition = uv - vec2(0.5, 0.5);\n    pixelPosition.x /= (iResolution.y / iResolution.x);\n    pixelPosition *= mapScale;\n\n\n    float totalSignal = 0.0;\n    float totalMaxAmplitude = 0.0;\n    \n    for (int i = 0; i < 60; i += 1) {\n\n        float baseDistance = pulseSpeed * iTime;\n        float rawDistance = length(pixelPosition - pulsePositions[i]);\n        float traveledDistance = rawDistance - baseDistance;\n        \n        float cycleLength = cycleLengths[i];\n        float cycleDistance = mod(traveledDistance, cycleLength);\n        \n        // map the pulse at the beginnning of the cycle to [0, 1]\n        float pulseWidth = pulseWidths[i];\n        float pulseT = clamp(cycleDistance, 0.0, pulseWidth) / pulseWidth;\n   \n        float distanceAttenuation = 0.6 * rawDistance*rawDistance;\n        float attenuation = clamp(distanceAttenuation, 0.0, 1.0);\n        float power = 1.0 - attenuation;\n    \n        float amplitude = pulseAmplitudes[i];\n        float pulse = (cos(pulseT * 2.0 * PI + PI) + 1.0) / 2.0;\n        float signal = sin(cycleDistance * 2.0 * PI * frequencies[i]);\n        \n        signal *= pulse * amplitude * power;\n        \n        //signal = attenuation;\n        //signal = pulse * attenuation;\n\n        totalSignal += signal;\n        \n        totalMaxAmplitude += amplitude;\n    }\n\n    float value = pow(0.5 + totalSignal / (totalMaxAmplitude * 0.07), 1.1);\n    \n    vec3 bottom = vec3(0.0, 0.1, 0.2);\n    //vec3 mid = vec3(1.0, 0.95, 0.1);\n    vec3 mid = vec3(0.1, 0.8, 0.9);\n    vec3 top = vec3(1.0);\n  \n    vec3 color = vec3(0.0);\n    if (value < 0.5) { color = mix(bottom, mid, pow(value * 2.0, 4.0)); }\n    else { color = mix(mid, top, pow(value * 2.0 - 1.0, 4.0)); }\n  \n    \n    fragColor = vec4(color, 1);\n}","name":"Image","description":"","type":"image"}]}