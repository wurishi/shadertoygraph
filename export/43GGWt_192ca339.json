{"ver":"0.1","info":{"id":"43GGWt","date":"1718361257","viewed":55,"name":"Chromatic blur","username":"Bengabo","description":"Chromatic blur","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["blur","filter","chromatic"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XsXGRn","filepath":"/media/a/cd4c518bc6ef165c39d4405b347b51ba40f8d7a065ab0e8d2e4f422cbc1e8a43.jpg","previewfilepath":"/media/ap/cd4c518bc6ef165c39d4405b347b51ba40f8d7a065ab0e8d2e4f422cbc1e8a43.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec2 barrelDistortion(vec2 coord, float amt) {\n\tvec2 cc = coord - 0.5;\n\tfloat dist = dot(cc, cc);\n\treturn coord + cc * dist * amt;\n\n    }\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\n\tvec2 uv = (fragCoord.xy/iResolution.xy * 0.8) + 0.1;\n    vec4 photo01 = texture(iChannel0, uv);\n    \n    \n    vec2 center = vec2(0.5, 0.5);\n    float blurDist = length(uv - center) * 0.6;\n    float colDist = length(uv - center) * 0.6;\n    float effectMotion = (sin(2.5 * iTime) * cos(2.5 * iTime)) * 2.5;\n\n    // Chromatic aberration offsets\n    vec2 offset = vec2(0.04, 0.03) * colDist * effectMotion;\n    vec4 r = texture(iChannel0, barrelDistortion(uv + offset, 0.0));\n    vec4 g = texture(iChannel0, barrelDistortion(uv, 0.0));\n    vec4 b = texture(iChannel0, barrelDistortion(uv -offset, 0.0));\n    \n    vec4 texCol = vec4(r.r, g.g, b.b, 1.0);\n\n    // Blur\n    float blurOffset = 0.01 * effectMotion;\n\tvec4 b01 = texture(iChannel0, barrelDistortion(uv,0.1 * blurDist + blurOffset));\n\tvec4 b02 = texture(iChannel0, barrelDistortion(uv,0.2 * blurDist + blurOffset));\n\tvec4 b03 = texture(iChannel0, barrelDistortion(uv,0.3 * blurDist + blurOffset));\n\tvec4 b04 = texture(iChannel0, barrelDistortion(uv,0.4 * blurDist + blurOffset));\n    vec4 blur01 = (b01 + b02 + b03 + b04);\n\n\tvec4 b05 = texture(iChannel0, barrelDistortion(uv,0.8 * blurDist + blurOffset));\n\tvec4 b06 = texture(iChannel0, barrelDistortion(uv,0.9 * blurDist + blurOffset));\n\tvec4 b07 = texture(iChannel0, barrelDistortion(uv,1.0 * blurDist + blurOffset));\n\tvec4 b08 = texture(iChannel0, barrelDistortion(uv,1.1 * blurDist + blurOffset));\n    vec4 blur02 = b05 + b06 + b07 + b08;\n\n\tvec4 b09 = texture(iChannel0, barrelDistortion(uv,1.2 * blurDist + blurOffset));\n    vec4 b10 = texture(iChannel0, barrelDistortion(uv,1.3 * blurDist + blurOffset));\n    vec4 b11 = texture(iChannel0, barrelDistortion(uv,1.4 * blurDist + blurOffset));\n    vec4 b12 = texture(iChannel0, barrelDistortion(uv,1.5 * blurDist + blurOffset));\n    vec4 blur03 = b09 + b10 + b11 + b12;\n    \n    vec4 texBlur = (blur01 + blur02 + blur03) / 10.0;\n        \n    vec4 finalColor = mix(texCol, texBlur, 0.5);\n    fragColor = finalColor;\n}\n","name":"Image","description":"","type":"image"}]}