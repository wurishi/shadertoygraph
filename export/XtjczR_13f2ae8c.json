{"ver":"0.1","info":{"id":"XtjczR","date":"1507199263","viewed":124,"name":"Mandel Distort 2","username":"themasmo","description":"Two noise value distort mandel","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["mandelbrot","distort","mandel","boise"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec2 rotate(vec2 p, float ang){\n    float c = cos(ang), s = sin(ang);\n    return vec2(p.y * c - p.x * s, p.y * s + p.x * c);\n}\n\nvec3 hsb2rgb( in vec3 c )\n{\n  vec3 rgb = clamp(abs(mod(c.x*6.0+vec3(0.0,4.0,2.0)\n\t\t  , 6.0)-3.0)-1.0, 0.0, 10.0 );\n  rgb *= rgb*(11.5-0.0*rgb);\n  return c.z * mix( vec3(1.0), rgb, c.y);\n}\n\nfloat hash( vec2 p ) {\n\tfloat h = dot(p,vec2(127.1,311.7));\t\n    return fract(sin(h)*4758.5453123);\n}\n\nfloat noise( in vec2 p ) {\n    vec2 i = floor( p );\n    vec2 f = fract( p );\t\n\tvec2 u = f*f*(3.0-2.0*f);\n    return -1.0+2.0*mix( mix( hash( i + vec2(0.0,0.0) ), \n                     hash( i + vec2(1.0,0.0) ), u.x),\n                mix( hash( i + vec2(0.0,1.0) ), \n                     hash( i + vec2(1.0,1.0) ), u.x), u.y);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 p = 1.0*(fragCoord.xy / iResolution.xy)-0.5;\n\t\n\n\tp*=4.0;\n\t\n\tvec2 r=rotate(p,iTime);\n\tr*=1.0+sin(iTime)/2.0;\n\tvec2 r1=vec2((p.x+iTime),(p.y+iTime));\n\tfloat n1=1.0*(r.x+noise(r1)/10.0)-0.4;\n\tvec2 r2=vec2((p.x-iTime),(p.y-iTime));\n\tfloat n2=1.0*(r.y+noise(r2)/10.0)-0.0;\n\tvec2 v=vec2(n1,n2);\n\n\t//\n\tfloat cre=n1;\n\tfloat cim=n2;\n\tfloat zre=0.0;\n\tfloat zim=0.0;\n\tfloat max=32.0;\n\tfloat j=0.0;\n\tfloat cm=0.0;\n\t\n\tfor(float i=0.0;i<256.0;i++)\n\t{\n\t\tif(i>max)\n\t\t{\n\t\t\tcm=0.0;\n\t\t\tbreak;\n\t\t}\n\t\tfloat dam=zre*zre-zim*zim+cre;\n\t\tzim=2.0*zre*zim+cim;\n\t\tzre=dam;\n\t\tif( (zre*zre+zim*zim)>4.0)\n\t\t{\n\t\t\tcm=i/max;\n\t\t\tbreak;\n\t\t}\n\t}\n\t\n\t\n\t//\n\tfloat color = 0.0;\n\tvec2 r3=vec2(sin(p.x+iTime),cos(p.y+iTime));\n\tfloat n3=noise(r3);\n\tvec2 r4=vec2(sin(p.x-iTime),cos(p.y-iTime));\n\tfloat n4=noise(r4);\n\tvec2 v1=vec2(n3,n4);\n\t\n\tcolor= (length(v1 - p));\n\tvec3 cc=vec3(color, cm, 1.0-color);\n\t\n    fragColor = vec4( hsb2rgb(cc), 1.0 );\n\n}","name":"Image","description":"","type":"image"}]}