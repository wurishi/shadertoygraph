{"ver":"0.1","info":{"id":"clyBWt","date":"1702599196","viewed":21,"name":"10:16 shader","username":"int_45h","description":"based on the game 10:16 by catsket\nhttps://store.steampowered.com/app/2598690/1016/ ","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["cumartist"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4df3zn","filepath":"/media/a/3405e48f74815c7baa49133bdc835142948381fbe003ad2f12f5087715731153.ogv","previewfilepath":"/media/ap/3405e48f74815c7baa49133bdc835142948381fbe003ad2f12f5087715731153.ogv","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define STEPS 16.\nint dither_matrix[64] = int[](\n    0,32,8,40,2,34,10,42,\n    48,16,56,24,50,18,58,26,\n    12,44,4,36,14,46,6,38,\n    60,28,52,20,62,30,54,22,\n    3,35,11,43,1,33,9,41,\n    51,19,59,27,49,17,57,25,\n    15,47,7,39,13,45,5,37,\n    63,31,55,23,61,29,53,21\n);\n\nvec4 posterize(vec4 col, float steps)\n{\n    return floor(col*steps)/steps;\n}\n\nvec4 nearest_palette(vec4 x)\n{\n    return posterize(x, STEPS);\n}\n\nfloat luma(vec4 c)\n{\n    return dot(c, vec4(.299,.587,.114,0.));\n}\n\nvec4 brightness(vec4 col, float b)\n{\n    return (col + vec4(b-1.0));\n}\n\nvec4 contrast(vec4 col, float c)\n{\n    return (col*c + ((1.0-c)/2.));\n}\n\nbool threshold(vec4 v, float c)\n{\n    bvec4 res = lessThan(v, vec4(c));\n    return (res.x && res.y && res.z);\n}\n\nvec4 dither(vec4 col, vec2 uv)\n{\n    int x_m = int(uv.x) % 8;\n    int y_m = int(uv.y) % 8;\n    float M = float(dither_matrix[y_m*8+x_m])/64.;\n    \n    return nearest_palette(col+(M-.5f));\n}\n\nvec4 catsket(vec4 col, vec2 uv)\n{\n    col = vec4(luma(col));\n    col = contrast(col, 1.0);\n    col = (threshold(col, 0.54)) ? col : brightness(col, 1.7);\n    col = pow(col, vec4(1./1.2));\n    \n    col = dither(col, uv);\n    col *= vec4(1.,.3,.3,1.);\n    \n    return col;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n\n    vec4 col = texture(iChannel0, uv);\n    col = catsket(col, fragCoord);\n    \n    // Output to screen\n    fragColor = col;\n}","name":"Image","description":"","type":"image"}]}