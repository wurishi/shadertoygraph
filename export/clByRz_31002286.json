{"ver":"0.1","info":{"id":"clByRz","date":"1692824099","viewed":36,"name":"Perlin Noise - jc","username":"joshuc","description":"GPU implementation of 2D Perlin noise with customizable settings. ","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["noise","perlin"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define DIV_X 10\n#define DIV_Y 6\n\n\n// hash functions stolen from https://thebookofshaders.com/10/ and https://www.shadertoy.com/view/4djSRW\nfloat rand(vec2 p) {\n    return fract(sin(dot(p, vec2(12.9898, 78.233)))*43758.5453);\n}\n\nvec2 rgradient(vec2 p) {\n    vec2[] gradients = vec2[](vec2(1.0,1.0), vec2(-1.0,1.0), vec2(1.0,-1.0), vec2(-1.0,-1.0));\n    return gradients[int(floor(rand(p)*4.0))];\n}\n\nfloat lerp(float t, float a, float b) {\n    return a+t*(b-a);\n}\n\nfloat fade(float x) {\n    return ((6.0*x-15.0)*x+10.0)*x*x*x;\n}\n\nfloat perlin(vec2 uv) {\n    vec2 div = vec2(float(DIV_X), float(DIV_Y));\n    \n    vec2 celln = vec2(floor(uv.x*div.x), floor(uv.y*div.y));\n    \n    vec2 lcoord00 = (celln+vec2(0.0, 0.0))/div.xy;\n    vec2 lcoord01 = (celln+vec2(0.0, 1.0))/div.xy;\n    vec2 lcoord10 = (celln+vec2(1.0, 0.0))/div.xy;\n    vec2 lcoord11 = (celln+vec2(1.0, 1.0))/div.xy;\n    \n    float dot00 = dot((uv-lcoord00)*div, normalize(rgradient(celln+vec2(0.0, 0.0))));\n    float dot01 = dot((uv-lcoord01)*div, normalize(rgradient(celln+vec2(0.0, 1.0))));\n    float dot10 = dot((uv-lcoord10)*div, normalize(rgradient(celln+vec2(1.0, 0.0))));\n    float dot11 = dot((uv-lcoord11)*div, normalize(rgradient(celln+vec2(1.0, 1.0))));\n    \n    float tx = fade((uv.x-celln.x/div.x)*div.x);\n    float ty = fade((uv.y-celln.y/div.y)*div.y);\n    \n    float u = lerp(ty, dot00, dot01);\n    float v = lerp(ty, dot10, dot11);\n    return (lerp(tx, u, v)+1.0)/2.0;\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    vec2 uv = fragCoord/iResolution.xy;\n    \n    fragColor = vec4(perlin(uv));\n}","name":"Image","description":"","type":"image"}]}