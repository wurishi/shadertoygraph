{"ver":"0.1","info":{"id":"XXcGWH","date":"1716388449","viewed":66,"name":"spookware style distortion","username":"int_45h","description":"A simple shader that mimics the effect of the background in the game 'Spookware'\n\nthe game in question: https://papercookies.itch.io/spookware","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["postprocessing","spookware","hauntedps1"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":0,"sampler":{"filter":"nearest","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define POST_STEPS 5.\n// https://www.shadertoy.com/view/XdGfRR\nvec2 hash22(vec2 p)\n{\n\tuvec2 q = uvec2(ivec2(p))*uvec2(1597334673U, 3812015801U);\n\tq = (q.x ^ q.y) * uvec2(1597334673U, 3812015801U);\n\treturn vec2(q) * 2.328306437080797e-10;\n}\n\nvec3 posterize(vec3 col) { return floor(col*POST_STEPS)/POST_STEPS; }\nfloat luma(vec3 col) { return dot(col, vec3(.299,.584,.119)); }\n\nmat3 saturation(float s)\n{\n    float s_1 = 1. - s;\n    vec3 l = vec3(.299,.584,.119);\n    vec3 s_r = vec3(l.x*s_1)+vec3(s,0,0);\n    vec3 s_g = vec3(l.y*s_1)+vec3(0,s,0);\n    vec3 s_b = vec3(l.z*s_1)+vec3(0,0,s);\n    \n    return mat3(s_r,s_g,s_b);\n}\n\nvec2 uv_offset(vec2 p)\n{\n    vec2 pg = floor(p);\n    vec2 pc = fract(p);\n    \n    return mix(\n        mix(hash22(pg+vec2(0,0)),hash22(pg+vec2(1,0)),pc.x),\n        mix(hash22(pg+vec2(0,1)),hash22(pg+vec2(1,1)),pc.x),\n    pc.y)*2.-1.;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    vec2 scaler = vec2(8.);\n    vec2 uv2 = uv+uv_offset((uv+floor(iTime*.45*scaler))*8.)*.01;\n    vec3 col = posterize(texture(iChannel0,uv2).rgb)*saturation(2.);\n    //col *= vec3(1., .7, .65);\n    \n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}