{"ver":"0.1","info":{"id":"Wd2XWt","date":"1555337536","viewed":196,"name":"Circle Inversion","username":"Nischi","description":"A little example of a circle inversion i did while watching \"Epic Circles\" by Numberphile (watch?v=sG_6nlMZ8f4)","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["illustration"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float scale = 1.5;\t\t\t//Scale of the coordinate system\n\nbool useMouse = false;\t\t//Move the red circle or the magenta circle-line with the mouse\nbool showInverts = true;\t//Show both inverted and non-inverted circles\nfloat nCircs = 10.;\t\t\t//Amount of red/magenta circles being drawn\n\nbool easyMode = false;\t\t//Show a single inverted circle instead\nfloat R = 0.4;\t\t\t\t//Radius of the single circle\n\n\n\nfloat sqr(float a){ return a*a;}\n\nbool isOnCirc(vec2 p, vec2 m, float R, bool inv){\n    if(!inv) return abs(length(p-m)-R)<0.01;\n    else     return abs(length(p/sqr(length(p))-m)-R)<0.01/sqr(length(p));\n}\n\nbool isInCirc(vec2 p, vec2 m, float R, bool inv){\n    if(!inv) return length(p-m)<R;\n    else     return length(p/sqr(length(p))-m)<R;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = scale*(2.*fragCoord-iResolution.xy)/iResolution.y;\n    vec2 m  = scale*(2.*iMouse.xy-iResolution.xy)/iResolution.y;\n    \n    uv += vec2(0,1./3.)*scale;\n    m  += vec2(0,1./3.)*scale;\n    \n    vec4 red \t = vec4(1,0,0,1);\n    vec4 blue \t = vec4(0,0,1,1);\n    vec4 cyan\t = vec4(0,1,1,1);\n    vec4 black \t = vec4(0,0,0,1);\n    vec4 white   = vec4(1,1,1,1);\n    vec4 green   = vec4(0,1,0,1)+0.7*white;\n    vec4 magenta = vec4(1,0,1,1)+0.7*white;\n    \n    if(isOnCirc(uv,vec2(0),1.,false))\t\t\t\t\t\t\t\t//Light Green Circle\n        fragColor = green;\n    else\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//White Background\n        fragColor = white;\n\n    if(easyMode){        \n        if(isOnCirc(uv,m,R,false))\t\t\t\t\t\t\t\t\t//Red Circle\n            fragColor = red;\n        else if(showInverts && isOnCirc(uv,m,R,true))\t\t\t\t//Blue Circle\n            fragColor = blue;\n            \n    } else {   \n        if(useMouse) m-=vec2(0,0.75);\n        else \t\t m*=0.;\n        \n        for(int i=1-int(showInverts);i<=1;i++){\n            if(isOnCirc(uv,m+vec2(0,1e4+0.5),1e4,bool(i)))\n               fragColor = i==1?black:magenta;\t\t\t\t\t\t//Big black circle and lower magenta line\n            if(isOnCirc(uv,m+vec2(0,1e4+1.),1e4,bool(i)))\n               fragColor = i==1?black:magenta;\t\t\t\t\t\t//Small black circle and upper magenta line\n            for(float iCirc=-nCircs;iCirc<=nCircs+1e-4;iCirc++){\t\n\t\t\t\tif(isOnCirc(uv,m+vec2(iCirc/2.,3./4.),1./4.,bool(i)))\n                    fragColor = i==1?red:magenta;\t\t\t\t\t//Red and bigger magenta circles\n\t\t\t\tif(isInCirc(uv,m+vec2(1./4.+iCirc/2.,15./16.),1./16.,bool(i)))\t\n                    fragColor = i==1?cyan:magenta;\t\t\t\t\t//Cyan and smaller magenta circles\n            }\n        }\n    }\n}\n","name":"Image","description":"","type":"image"}]}