{"ver":"0.1","info":{"id":"wsVSDy","date":"1575275615","viewed":124,"name":"TestBenDay","username":"LeoGong","description":"Test Ben-Day dot effect.","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["benday"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sX3Rn","filepath":"/media/a/c3a071ecf273428bc72fc72b2dd972671de8da420a2d4f917b75d20e1c24b34c.ogv","previewfilepath":"/media/ap/c3a071ecf273428bc72fc72b2dd972671de8da420a2d4f917b75d20e1c24b34c.ogv","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec2 center = vec2(.5, .5);\nfloat angle = 1.57;\nfloat scale = 1.;\nvec2 tSize = vec2(1000., 563.); \n\nfloat blendLighten(float base, float blend) {\n\treturn max(blend,base);\n}\n\nvec3 blendLighten(vec3 base, vec3 blend) {\n\treturn vec3(blendLighten(base.r,blend.r),blendLighten(base.g,blend.g),blendLighten(base.b,blend.b));\n}\n\nvec3 blendLighten(vec3 base, vec3 blend, float opacity) {\n\treturn (blendLighten(base, blend) * opacity + base * (1.0 - opacity));\n}\n\nfloat pattern(vec2 uv) {\n    float s = sin( angle ), c = cos( angle );\n    vec2 tex = uv * tSize - center;\n    vec2 point = vec2( c * tex.x - s * tex.y, s * tex.x + c * tex.y ) * scale;\n    return ( sin( point.x ) * sin( point.y ) ) * 4.0;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n    vec2 uv = fragCoord/iResolution.xy;\n    vec4 color = texture(iChannel0, uv);\n    float average = ( color.r + color.g + color.b ) / 3.0;\n    vec4 halftone = vec4( vec3( average * 10.0 - 5.0 + pattern(uv) ), color.a );\n    fragColor = color + vec4(.02)*halftone;\n    fragColor = vec4(blendLighten(color.rgb, halftone.rgb, .05), 1.);\n}","name":"Image","description":"","type":"image"}]}