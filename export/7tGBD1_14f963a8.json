{"ver":"0.1","info":{"id":"7tGBD1","date":"1664423323","viewed":60,"name":"Nyan's Rainbow","username":"essaar","description":"homegirl needs a rainbow!","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["nyan"],"hasliked":0,"parentid":"stGBDR","parentname":"naked nyan"},"renderpass":[{"inputs":[{"id":"Xsf3Rn","filepath":"/media/a/cbcbb5a6cfb55c36f8f021fbb0e3f69ac96339a39fa85cd96f2017a2192821b5.png","previewfilepath":"/media/ap/cbcbb5a6cfb55c36f8f021fbb0e3f69ac96339a39fa85cd96f2017a2192821b5.png","type":"texture","channel":0,"sampler":{"filter":"nearest","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec3 cosine_palette(in float t, in vec3 a, in vec3 b, in vec3 c, in vec3 d)\n{\n    return a + b*cos( 6.28318*(c*t+d) );\n}\n\nfloat hash(vec2 p) {\n\tfloat h = dot(p,vec2(127.1,311.7));\t\n    return fract(sin(h)*43758.5453123);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.y;\n    \n    \n    vec2 uvCopy = uv;\n\t\n    uv *= 2.;\n    uv -= vec2(2.5, 0.5);\n    uv = clamp(uv, 0., 1.);\n    \n\tfloat frame = floor( mod( iTime*10.0, 6.0 ) );\n    \n\tfloat nyanWidthUV = 40.0/256.0;\n\tuv.x = (uv.x + frame)*nyanWidthUV;\n\n    //vec2 offset = vec2(0.2);\n    //float scale = 3.;\n    \n    vec3 bg = vec3(0.1, 0.3, 0.5);\n    \n    // rainbow\n    float wave = sin(uvCopy.x * 15.0 + (iTime * 2.0)) * 0.05;\n    float wave2 = cos(uvCopy.x * 15.0 + (iTime * 4.0)) * 0.03;\n    \n    float pixelSize = 1.0 / iResolution.y;\n    float cellSize = 8.0 * pixelSize;\n    uvCopy.x = floor(uvCopy.x / cellSize) * cellSize;\n    uvCopy.y = floor(uvCopy.y / cellSize) * cellSize;\n    \n    if (hash(uvCopy + frame * 50.0) > 0.996)\n    {\n        bg = vec3(1.0);\n    }\n    \n    uvCopy.y += (wave + wave2);\n    \n    float rainbowWidth = 0.1;\n    \n    vec3 Violet\t= (vec3(148.0, 0.0, 211.0)/255.0);\n    vec3 Indigo\t= (vec3(75.0, 0.0, 130.0)/255.0); \n    vec3 Blue\t= (vec3(0.0, 0.0, 255.0)/255.0);\n    vec3 Green\t= (vec3(0.0, 255.0, 0.0)/255.0);\n    vec3 Yellow\t= (vec3(255.0, 255.0, 0.0)/255.0);\n    vec3 Orange\t= (vec3(255.0, 127.0, 0.0)/255.0);\n    vec3 Red\t= (vec3(255.0, 0.0, 0.0)/255.0);\n    \n    if(uvCopy.x < 1.45 && ((uvCopy.y - 0.5) <= rainbowWidth && (uvCopy.y - 0.5) >= -rainbowWidth))\n    {\n        float t = sin(uvCopy.y) * 4.0;\n        t = floor(t / rainbowWidth) * rainbowWidth;\n        \n        bg = cosine_palette(t, \n            vec3(0.5,0.5,0.5),\n            vec3(0.5,0.5,0.5),\n            vec3(1.0,1.0,1.0),\n            vec3(0.0,0.33,0.67) );\n    }\n    \n    \n\tvec4 nyan = texture( iChannel0, uv );\n\tvec3 col = mix(bg, nyan.xyz, nyan.a);\n    \n    fragColor = vec4( col, 1.0 );\n}","name":"Image","description":"","type":"image"}]}