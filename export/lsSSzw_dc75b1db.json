{"ver":"0.1","renderpass":[{"outputs":[{"channel":0,"id":"4dfGRr"}],"inputs":[],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n\tfragColor = vec4(uv,0.5+0.5*sin(iTime),1.0);\n}","name":"Image","description":"","type":"image"},{"outputs":[{"channel":0,"id":"XsfGRr"}],"inputs":[],"code":"float sin1(float t, float f)\n{\n    return sin(f * t * 6.28319);\n}\n\nfloat square(float t, float f)\n{\n    float m = fract(t * f);\n    return m < .5 ? -1. : 1.;\n}\n\nfloat triangle(float t, float f)\n{\n    float m = fract(t * f);\n    return m < .5 ? (-1. + 4. * m) : (1. - (4. * (m - .5)));\n}\n\nconst float E1 = 41.20;\nconst float B1 = 61.74;\nconst float C2 = 65.41;\nconst float D2 = 73.42;\nconst float E2 = 82.41;\nconst float F2 = 87.31;\nconst float Fs2 = 92.50;\nconst float G2 = 98.00;\nconst float A2 = 110.00;\nconst float B2 = 123.47;\nconst float C3 = 130.81;\nconst float D3 = 146.83;\nconst float E3 = 164.81;\nconst float F3 = 174.61;\nconst float Fs3 = 185.00;\nconst float G3 = 196.00;\nconst float As3 = 233.08;\nconst float B3 = 246.94;\nconst float C4 = 261.63;\nconst float D4 = 293.66;\nconst float Ds4 = 311.13;\nconst float E4 = 329.63;\nconst float F4 = 349.23;\nconst float Fs4 = 369.99;\nconst float G4 = 392.00;\nconst float A4 = 440.;\nconst float As4 = 466.16;\nconst float B4 = 493.88;\nconst float D5 = 587.33;\nconst float E5 = 659.25;\nconst float Fs5 = 739.99;\nconst float G5 = 783.99;\nconst float A5 = 880.00;\n\nconst float FirstPart = 12. * 4.;\nconst float SecondPart = FirstPart + 12. * 2.;\nconst float ThirdPart = SecondPart + 12. * 4.;\nconst float FourthPart = ThirdPart + 12. * 2.;\nconst float FifthPart = FourthPart + 12. * 2.;\n\n#define NOTE(var, pitch, start, duration) var += float(pulse >= start && pulse < start+duration) * pitch\n\nfloat melody(float pulse)\n{\n    pulse = mod(pulse, FifthPart);\n    \n    float s = 0.;\n    \n    if (pulse < FirstPart)\n    {\n    \tpulse = mod(pulse, 12.);\n    \t\n        NOTE(s, E4,  0.,  2.);\n        NOTE(s, B3,  2.,  1.);\n        NOTE(s, A4,  3.,  2.);\n        NOTE(s, C4,  5.,  1.);\n        NOTE(s, Fs4, 6.,  2.);\n        NOTE(s, D4,  8.,  1.);\n        NOTE(s, B3,  9.,  2.);\n        NOTE(s, As3, 11., 1.);\n    }\n    else if (pulse < SecondPart)\n    {\n    \tpulse = mod(pulse - FirstPart, 12.);\n        \n        NOTE(s, G4,  0.,  2.);\n        NOTE(s, D4,  2.,  1.);\n        NOTE(s, E4,  3.,  2.);\n        NOTE(s, B3,  5.,  1.);\n        NOTE(s, Fs4, 6.,  2.);\n        NOTE(s, D4,  8.,  1.);\n        NOTE(s, A4,  9.,  2.);\n        NOTE(s, E4,  11., 1.);\n    }\n    else if (pulse < ThirdPart)\n    {\n    \tpulse = mod(pulse - SecondPart, 12.);\n        \n        if (pulse < 3.)\n        {\n            if (mod(pulse, 1.) < .5)\n \t    \t\ts = G4;\n        \telse\n                s = B3;\n        }\n        else if (pulse < 6.)\n        {\n            if (mod(pulse, 1.) < .5)\n \t    \t\ts = As4;\n        \telse\n                s = D4;\n        }\n        else if (pulse < 9.)\n        {\n            if (mod(pulse, 1.) < .5)\n \t    \t\ts = A4;\n        \telse\n                s = C4;\n        }\n        else\n        {\n            pulse = pulse - 9.;\n            \n            if (pulse < .5)\n \t    \t\ts = A4;\n        \telse if (pulse < 1.)\n                s = Ds4;\n        \telse if (pulse < 1.5)\n                s = Fs4;\n        \telse if (pulse < 2.)\n                s = Ds4;\n        \telse if (pulse < 2.5)\n                s = B4;\n            else\n                s = Ds4;\n        }\n    }\n    else if (pulse < FourthPart)\n    {\n        pulse = mod(pulse - ThirdPart, 12.);\n        \n        NOTE(s, Fs4,  0.,  .5);\n        NOTE(s, G4,  .5,  .5);\n        NOTE(s, A4,  1.,  .5);\n        NOTE(s, B4,  1.5,  .5);\n        NOTE(s, D5,  2.,  .5);\n        NOTE(s, B4,  2.5,  .5);\n        NOTE(s, Fs5, 3.,  .5);\n        NOTE(s, D5, 3.5,  .5);\n        NOTE(s, A4, 4.,  .5);\n        NOTE(s, G4, 4.5,  .5);\n        NOTE(s, Fs4, 5.,  .5);\n        NOTE(s, D5, 5.5,  .5);\n        NOTE(s, A5, 6.,  .5);\n        NOTE(s, Fs5, 6.5,  .5);\n        NOTE(s, D5, 7.,  .5);\n        NOTE(s, A4, 7.5,  .5);\n        NOTE(s, G4, 8.,  .5);\n        NOTE(s, Fs4, 8.5,  .5);\n        NOTE(s, E4, 9.,  .5);\n        NOTE(s, G4, 9.5,  .5);\n        NOTE(s, A4, 10.,  .5);\n        NOTE(s, D5, 10.5,  .5);\n        NOTE(s, E5, 11.,  .5);\n    }\n    else\n    {\n        pulse = mod(pulse, 6.);\n        \n        if (pulse < .5)\n            s = A5;\n        else if (pulse < 1.)\n            ;\n        else if (pulse < 1.5)\n            s = G5;\n        else if (pulse < 2.)\n            ;\n        else if (pulse < 2.5)\n            s = Fs5;\n        else if (pulse < 3.)\n            ;\n        else if (pulse < 3.5)\n            s = E5;\n        else if (pulse < 4.)\n            ;\n        else if (pulse < 4.5)\n            s = Fs5;\n        else if (pulse < 5.)\n            ;\n        else if (pulse < 5.5)\n            s = G5;\n    }\n        \n    return s;\n}\n\nfloat bass(float pulse)\n{\n    pulse = mod(pulse, FifthPart);\n    \n    float t = 0.;\n    \n    if (pulse < FirstPart)\n    {\n    \tpulse = mod(pulse, 12.);\n    \n    \tif (mod(pulse, 3.) < 1.)\n    \t\tt = E2;\n    \telse\n    \t    t = E3;\n    }\n    else if (pulse < SecondPart)\n    {\n    \tpulse = mod(pulse - FirstPart, 12.);\n        \n        if (pulse < 6.)\n        {\n            if (mod(pulse, 3.) < 1.)\n\t        \tt = C2;\n            else\n                t = C3;\n        }\n        else\n        {\n            if (mod(pulse, 3.) < 1.)\n\t        \tt = D2;\n            else\n                t = D3;\n        }\n    }\n    else if (pulse < ThirdPart)\n    {\n    \tpulse = mod(pulse - SecondPart, 12.);\n        \n        if (pulse < 3.)\n        {\n            if (pulse < 1.)\n                t = E2;\n            else if (pulse < 2.)\n                t = E3;\n            else\n                t = E4;\n        }\n        else if (pulse < 6.)\n        {\n            if (pulse < 4.)\n                t = Fs2;\n            else if (pulse < 5.)\n                t = Fs3;\n            else\n                t = Fs4;\n        }\n        else if (pulse < 9.)\n        {\n            if (pulse < 7.)\n                t = F2;\n            else if (pulse < 8.)\n                t = F3;\n            else\n                t = F4;\n        }\n        else\n        {\n            pulse = pulse - 9.;\n\n            if (pulse < 1.)\n                t = B1;\n            else if (pulse < 2.)\n                t = B2;\n            else\n                t = B3;\n        }\n    }\n    else if (pulse < FourthPart)\n    {\n        pulse = mod(pulse - ThirdPart, 12.);\n            \n        if (pulse < 2.)\n            t = E2;\n        else if (pulse < 3.)\n            t = B2;\n        else if (pulse < 5.)\n            t = C3;\n        else if (pulse < 6.)\n        \tt = B2;\n        else if (pulse < 8.)\n            t = C2;\n        else if (pulse < 9.)\n            t = G2;\n        else if (pulse < 11.)\n            t = A2;\n        else\n            t = B2;\n    }\n    else\n    {\n        pulse = mod(pulse, 6.);\n        \n        t = E1;\n    }\n    \n    return t;\n}\n\nvec2 mainSound( in int samp,float time)\n{\n    float pulse = floor(time * 3.8 * 3. / 1.5) / 2.;\n    \n    float loudMelody = square(time, melody(pulse));\n    float softMelody = .5 * square(time + .0001, melody(pulse - .25));\n    return vec2(.025 * (softMelody + loudMelody) + .15 * triangle(time, bass(pulse)));\n}\n","name":"Sound","description":"","type":"sound"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":true,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"lsSSzw","date":"1410308921","viewed":220,"name":"NES Kraid Music","username":"Cubeleo","description":"Music from Kraid's Lair","likes":6,"published":1,"flags":8,"usePreview":0,"tags":["sound"],"hasliked":0,"parentid":"","parentname":""}}