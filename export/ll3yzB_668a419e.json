{"ver":"0.1","info":{"id":"ll3yzB","date":"1582687828","viewed":101,"name":"Worley Noise Relax","username":"fscur","description":"worley noise studies","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["worley2d"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//https://www.shadertoy.com/view/4djSRW\n//#define HASHSCALE3 vec3(443.897, 441.423, 437.195)\n#define HASHSCALE3 vec3(123.34, 234.34, 345.65)\n\nvec2 hash22(vec2 p)\n{\n\tvec3 p3 = fract(vec3(p.xyx) * HASHSCALE3);\n    p3 += dot(p3, p3.yzx+19.19);\n    return fract((p3.xx+p3.yz)*p3.zy);\n}\n\nfloat worley_noise_2(vec2 uv, float t) {\n    vec2 f = fract(uv)-.5;\t\n    vec2 id = floor(uv);\n    float min_dist = 8.0;\n    \n    for(float y = -1.0; y <= 1.0; ++y) \n    {\n        for(float x = -1.0; x <= 1.0; ++x) \n        {\n            vec2 offset = vec2(x, y);\n            vec2 rand = hash22(id + offset);\n            vec2 p = offset + sin(rand * t) * 0.5;\n            vec2 r = f-p;\n            \n            float d = dot(r,r);\n\n            if (d < min_dist)\n                min_dist = d;\n        }\n    }\n    \n    return sqrt(min_dist);\n}\n\nfloat worley_fbm(vec2 uv, float t, float scale, float amplitude, float octaves) {\n    \n    float f = 0.0;\n    \n    for (float i = 0.0; i < octaves; i++)\n    {\n        f += worley_noise_2(uv * scale, t) * amplitude;\n        amplitude *= .5;\n        scale *= 2.;\n    }\n    \n    return f;\n}\n\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n    \n    vec2 uv = fragCoord.xy/iResolution.xy;\n\tuv.x *= iResolution.x/iResolution.y;\n    uv -= vec2(iTime*0.0055, iTime*0.003);\n    \n    vec3 sky_color = vec3(0.17, 0.31, 0.8);\n    vec3 clouds_color = vec3(1.0);\n    \n    float speed = iTime * 0.0262 + 150.0;\n    float scale = 2.2;\n    float amplitude = sin(iTime*0.15)*0.4+1.2; //[.8 .. 1.6]\n    float octaves = 16.0;\n    float w = worley_fbm(uv, speed, scale, amplitude, octaves);\n    float f = 1.0 - min(w, 1.0);\n    \n    fragColor = vec4(mix(sky_color, clouds_color, f), 1.0);\n}","name":"Image","description":"","type":"image"}]}