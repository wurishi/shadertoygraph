{"ver":"0.1","info":{"id":"NdscD2","date":"1642730774","viewed":149,"name":"Kochcurve Carpet","username":"tholzer","description":"Play around with different abstractions of the Koch curve and texture.\nA Fork of \"Kochcurve (variable angles)\"\nPress mouse button to view only Koch curve ... ","likes":8,"published":1,"flags":0,"usePreview":0,"tags":["2d","curve","koch","carpet"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XsXGRn","filepath":"/media/a/cd4c518bc6ef165c39d4405b347b51ba40f8d7a065ab0e8d2e4f422cbc1e8a43.jpg","previewfilepath":"/media/ap/cd4c518bc6ef165c39d4405b347b51ba40f8d7a065ab0e8d2e4f422cbc1e8a43.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Fork of \"Kochcurve (variable angles)\" by Rxphi. \n//   <https://shadertoy.com/view/sdfcDj\n// 2022-01-21 01:40:42\n\nvec2 N(float angle) { return vec2(sin(angle), cos(angle)); }\n\nconst float k = 5. / 6. * 3.1415;\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n  vec2 uv = 1.3*(fragCoord-0.5*iResolution.xy)/iResolution.y;\n  uv.x = abs(uv.x);\n  uv.y += tan(k)*0.5;\n    \n  vec2 n = N(k);\n  float d = dot(uv - vec2(0.5, 0.), n);\n  uv -= n*max(0., d)*2.; \n    \n  n = N((2./3.)*3.1415);\n  uv.x += 0.5;\n  int recursionDepth = 4;\n  for(int i=0; i < recursionDepth; i++)\n  { uv *= 3.;\n    uv.x = abs(uv.x - 1.5) - 0.5;\n    uv -= n*min(0., dot(uv, n))*2.; \n  }\n\n  float scale = pow(3., float(recursionDepth));\n  d = length(uv-vec2(clamp(uv.x, -1., 1.), 0));\n//  uv /= scale;\n    \n  fragColor = vec4(smoothstep(1./iResolution.y, 0.0, d/scale));\n  if ((iMouse.z < 0.) || (iMouse.x == 0.))\n    fragColor += texture(iChannel0, uv/scale*2.-iTime*0.03);\n}","name":"Image","description":"","type":"image"}]}