{"ver":"0.1","info":{"id":"Wdcyz7","date":"1600618738","viewed":179,"name":"Screensaver squares","username":"julianlumia","description":"small change after following the tutorial by bigwings","likes":16,"published":1,"flags":0,"usePreview":0,"tags":["tutorial"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//full credits to BigWings:\n//https://www.youtube.com/watch?v=rvDo9LvfoVE\n\n#define NUM_LAYERS 3.\n\n\nfloat Hash21(vec2 p){\n   p = fract (p*vec2(123.34,456.21));\n   p+= dot(p,p+45.32);\n    return fract(p.x*p.y);\n    }\n\n\nmat2 Rot(float a){\n    \n float s = sin(a), c= cos(a);\n   return mat2(c,-s,s,c); \n}\nfloat star(vec2 uv){\n    float d = length(uv);\n    float m = .1/d;\n    m *= smoothstep(1.,.01,d);\n\treturn m;\n}\n\nvec2 GetPos(vec2 id, vec2 offs){\n    \t\tfloat n = Hash21(id+offs);\n    return offs+sin(n)*3.;\n}\n\n\nvec3 StarLayer( vec2 uv){\t\n    vec3 col = vec3(0);\n \tvec2 id = floor(uv)-0.5;\n\n    for(int y = -1; y<=1; y++){\n  \t\tfor(int x = -1; x<=1; x++){\n\t\t    vec2 offs = vec2(x,y);\n    \t\tfloat n = Hash21(id+offs);\n    \t\tfloat size = fract(n*545.32);\n\t\t\n            \n             float star=  star(GetPos(id,offs));\n\t\t\tvec3 color =sin(vec3(1.,0.2,0.9)*fract(n*2345.2)*123.2)*.5+.5;\n            color= color*vec3(1.,1.,.5+size);\n  \t\t    star*=sin(iTime*2.+n*6.2831)*.5+1.;\n \t\t    col+= star*size*color;\n\n  \t\t}\n    }\n\n return col;\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord.xy-.5*iResolution.xy)/iResolution.y;\n    uv*=1.;\n    float t = iTime*.05;\n    float move = t*3.; \n    uv+= vec2(cos(move),sin(move));\n    \n    uv *= Rot(t);\n      vec3 col = vec3(0.);\n    \n    \n    for (float i=0.; i<1.; i+=1./NUM_LAYERS){\n        float depth = fract(i+t);\n  \t\tfloat scale = mix(20.,.5, depth);\n        float fade = depth*smoothstep(1.,.9,depth);\n        col += StarLayer(uv*scale+i*453.2-move)*fade;\n    }\n \n    \n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}