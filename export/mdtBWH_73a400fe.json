{"ver":"0.1","info":{"id":"mdtBWH","date":"1697139874","viewed":54,"name":"12. Spicy","username":"Ladus","description":"Inktober 2023 Day 12. A news paper with a spicy scandal","likes":10,"published":1,"flags":0,"usePreview":0,"tags":["paper","news","inktober","spicey","spicy"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGzr","filepath":"/media/a/08b42b43ae9d3c0605da11d0eac86618ea888e62cdd9518ee8b9097488b31560.png","previewfilepath":"/media/ap/08b42b43ae9d3c0605da11d0eac86618ea888e62cdd9518ee8b9097488b31560.png","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// thanks to PrzemyslawZaworski @ https://www.shadertoy.com/view/4sBfRd\n// thanks to Fabrice Neyret for algorhitm https://www.shadertoy.com/view/llySRh\n// and thanks to otaviogood for font texture\n#define PI 3.14159265359\n#define HC(c) U.x-=.68; newsPaperTextMask+= char(U,64+c)\n#define C(c) U.x-=.5; newsPaperTextMask+= char(U,64+c)\n#define Space(); C(-32);\n\nvec4 char(vec2 p, int c) \n{\n    if (p.x<.0|| p.x>1. || p.y<0.|| p.y>1.) return vec4(0,0,0,1e5);\n\treturn textureGrad( iChannel0, p/16. + fract( vec2(c, 15-c/16) / 16. ), dFdx(p/16.),dFdy(p/16.) );\n}\n// SDF Functions from IÃ±igo Quiles - https://iquilezles.org/articles/distfunctions2d/\nfloat sdBox( in vec2 p, in vec2 b )\n{\n    vec2 d = abs(p)-b;\n    return length(max(d,0.0)) + min(max(d.x,d.y),0.0);\n}\n\nvec2 normalizeScreenSpace(vec2 fragCoord, out float aa) {\n    vec2 uv = fragCoord/iResolution.xy;\n    uv.x *= iResolution.x / iResolution.y;\n    uv.x -= 1.-(iResolution.y/iResolution.x);\n    uv = (uv - vec2(0.5))*2.;\n    aa = 0.01; // I should probably calculate the anti aliasing res with the iResolution...\n    return uv;\n}\n\nmat2 rotate(float a) {\n    a *= PI * 2.;\n    float s = sin(a);\n    float c = cos(a);\n    return mat2(c, -s, s, c);\n}\n\nvoid mainImage(out vec4 fragColor, vec2 uv)\n{\n    float aa = 0.;\n    vec2 p = normalizeScreenSpace(uv, aa);\n    \n    float loopingTime = smoothstep(0.,0.5,fract(iTime/3.5));\n    \n    // Animation\n    // Move down and up\n    p+= vec2(0.,pow(max(1.-loopingTime,.5),4.));\n    // Rotate\n    p*= rotate((pow((1.-loopingTime),4.)+0.16)*6.);\n    // Zoom\n    p*= mix(0.4,4.,pow(max(1.-loopingTime,.5),4.));\n\n    \n    vec2 newsPaperSpace = (p *.6) - vec2(-0.5,-0.5);\n\n    // Add header\n    float HeaderFontSize = 16.;\n    vec4 newsPaperTextMask = vec4(0.0);\n    vec2 position = vec2(-0.2,.75);\n    vec2 U = ( (newsPaperSpace * vec2(0.7,1.)) - position)*64.0/HeaderFontSize;\n    HC(14);HC(5);HC(23);HC(19);\n    \n    // Add line under header\n    vec2 lineSpace = newsPaperSpace + vec2(-0.49,-0.74);\n    float lineMask = smoothstep(0.,0.-aa,sdBox(lineSpace, vec2(0.45,0.015)));\n    \n    // Add article header\n    float AHeaderFontSize = 4.;\n    vec4 newsPaperArticleTextMask = vec4(0.0);\n    vec2 Aposition = vec2(-0.012,.625);\n    U = ( (newsPaperSpace * vec2(0.7,1.)) - Aposition)*64.0/AHeaderFontSize;\n    C(19);C(16);C(9);C(3);C(25);Space();C(19);C(3);C(1);C(14);C(4);C(1);C(12);\n    \n    // Add article lines\n    float AlineMask = 0.;\n    for(float i = 0.; i < 4.0; i += 0.4){\n        vec2 AlineSpace = newsPaperSpace + vec2(-0.34,-0.6+(0.1*i)+(-0.6*(sin(newsPaperSpace.x*100.+i*10.)/100.)));\n        AlineMask += smoothstep(0.,0.-aa,sdBox(AlineSpace, vec2(0.3,0.01)));\n    }\n    \n    // Add article lines2\n    float Aline2Mask = 0.;\n    for(float i = 0.; i < 3.3; i += 0.4){\n        vec2 Aline2Space = newsPaperSpace + vec2(-0.81,-0.36+(0.1*i)+(-0.6*(sin(newsPaperSpace.x*100.+i*10.)/100.)));\n        Aline2Mask += smoothstep(0.,0.-aa,sdBox(Aline2Space, vec2(0.15,0.01)));\n    }\n    \n    // Add image 1 right\n    float image1Mask = smoothstep(0.,0.-aa,\n        sdBox(newsPaperSpace + vec2(-0.81,-0.54), vec2(0.15,0.15)));\n    \n    // Add image 2 bottom\n    float image2Mask = smoothstep(0.,0.-aa,\n        sdBox(newsPaperSpace + vec2(-0.34,-0.14), vec2(0.305,0.12)));\n    \n    // Mask the other edges\n    float newsPaperMask = smoothstep(0.0,0.0-aa,newsPaperSpace.x) \n        + smoothstep(0.0,0.0-aa,newsPaperSpace.y) \n        + smoothstep(0.0-aa,0.0,newsPaperSpace.x - 1.)\n        + smoothstep(0.0-aa,0.0,newsPaperSpace.y - 1.);\n    \n    vec4 col = newsPaperTextMask.xxxx + vec4(newsPaperMask + lineMask + newsPaperArticleTextMask + AlineMask + image1Mask + image2Mask + Aline2Mask);\n    float newsPaperMaskFull = 1.-clamp(col.x,0.,1.);\n    \n    vec3 newsPaperColor = mix(vec3(0.1,0.1,0.1), vec3(0.9,0.9,0.8), newsPaperMaskFull);\n    \n    fragColor = vec4(newsPaperColor,1.);\n}","name":"Image","description":"","type":"image"}]}