{"ver":"0.1","info":{"id":"3lBSDW","date":"1565826830","viewed":438,"name":"Visualiser Experiments","username":"bombshell93","description":"babies first visualiser, thought I'd give it a go","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["visualizer","dancing"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sXGRr","filepath":"/media/a/48e2d9ef22ca6673330b8c38a260c87694d2bbc94c19fec9dfa4a1222c364a99.mp3","previewfilepath":"/media/ap/48e2d9ef22ca6673330b8c38a260c87694d2bbc94c19fec9dfa4a1222c364a99.mp3","type":"music","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\n//\ttoggle whether within screen or square region\n#define CLAMP_RANGE 0\n\n//\tsample scale modifier\n#define SAMPLE_SCALE 1.\n\n//\tshape of the visualizer\n//\t\t0 - line\n//\t\t1 - waveform\n#define VISUALIZER_SHAPE 0\n\nvoid mainImage( out vec4 t_out_colour, in vec2 t_coord )\n{\n    // normalize\n    vec2 uv = (t_coord - iResolution.xy * .5) / (iResolution.y * .5);\n    \n    // output colour, is purty\n    vec3 c = vec3(sin(uv.x + iTime) * .5 + .5, cos(uv.y + iTime * .5) * .5 + .5, sin(iTime * .33));\n    c = max(c, vec3(.2, .2, .2));\n    \n#if CLAMP_RANGE\n    // coord within box\n    float cd = texture(iChannel0, vec2((uv.x / SAMPLE_SCALE) * .5 + .5, 0.)).r;\n    \n    // clamp range\n    cd *= step(abs(uv.x), 1.);\n#else\n    // coord within screen\n    float cd = texture(iChannel0, vec2(((t_coord.x / SAMPLE_SCALE) / iResolution.x), 0.)).r;\n#endif\n    \n    // scale amplitude\n    cd *= .4;\n    \n#if VISUALIZER_SHAPE == 1\n    // distance from coord\n    float d = distance(abs(uv.y), cd * cd * 8. + 4. / iResolution.y);\n    \n    // colour mod\n    c*= smoothstep(abs(uv.y), abs(uv.y) + 4. / iResolution.y, d);\n#else \n    // colour mod\n    c*= smoothstep(0., distance(uv.y, cd), 1. / iResolution.y);\n#endif\n\n    // output\n    t_out_colour = vec4(c, 1.);\n}","name":"Image","description":"","type":"image"}]}