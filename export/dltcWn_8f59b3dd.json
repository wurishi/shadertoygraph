{"ver":"0.1","info":{"id":"dltcWn","date":"1699081556","viewed":35,"name":"rotate in triangle","username":"nayk","description":"triangle, rotate, mix, copypast","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["mix","triangle","rotate","copypast"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define R(p,a,r)mix(a*dot(p,a),p,cos(r))+sin(r)*cross(p,a)\n#define H(h)(cos((h)*6.3+vec3(0,23,21))*.5+.5)\n#define PI 3.14159265359\n/*original  https://www.shadertoy.com/view/msKBzD  https://www.shadertoy.com/view/cltczN */\nmat2 rotate2d(float _angle){\n\treturn mat2(cos(_angle),-sin(_angle),\n\t\t\t\t\t\t\tsin(_angle),cos(_angle));\n}\n\nvec3 palette( float t ) {\n    vec3 a = vec3(0.5,0.5,0.5);\n    vec3 b = vec3(0.5,0.5,0.5);\n    vec3 c = vec3(2.000,1.000,0.000);\n    vec3 d = vec3(0.5,0.2,0.25);\n\n    return a + b*cos( 6.28318*(c*t+d) );\n}\n\nfloat SDF_Triangle( in vec2 p, in float r )\n{\n    const float k = sqrt(3.0);\n    p.x = abs(p.x) - r;\n    p.y = p.y + r/k;\n    if( p.x+k*p.y>0.0 ) p = vec2(p.x-k*p.y,-k*p.x-p.y)/2.0;\n    p.x -= clamp( p.x, -2.0*r, 0.0 );\n    return -length(p)/sign(p.y);\n}\n\nfloat spiral(in vec2 p)\n{\n    float x = p.x*3.;\n    float m = min (fract (x), fract (3. -x)) ;\n    return smoothstep (-0.2, .5, m*.5+.2-p.y) ;\n}\nvoid mainImage(out vec4 O, vec2 C)\n{\n    O=vec4(0);\n    vec3 p,q,r=iResolution,\n    d=normalize(vec3((C*2.-r.xy)/r.y,1)); \n    \n   \n\n\n      vec2 uv = (C.xy-.5*iResolution.xy) / iResolution.y;\n    \n    vec2 st = vec2 (atan(uv.x, uv.y), length (uv)) ;\n    uv = vec2 (st.x / 6.2831+.5 - (-iTime + st.y), st.y);\n    float c = 0.0;\n    \n    float triangle = SDF_Triangle((C.xy-.5*iResolution.xy) / iResolution.y, .3);\n    \n    c = spiral(uv) * 0.5 * spiral(vec2(spiral(uv / 0.6), triangle));\n    \n    \n    c += triangle * 1.6;\n\n    \n    vec3 col = palette(length(st.y) + 1.4 + iTime*.4);\n    col *= c;\n    \n    \n    uv = (C.xy-.5*iResolution.xy) / iResolution.y;\n    c *= smoothstep(0.0, 0.05, length(uv));\n\n    col *= c;\n\n    st.x=fract(2.*sin(8.*(ceil(st.x*384.)/128.)));\n\n    float\n        t=iTime*2.*((st.x+.5)/2.), \n        b=pow(1.-fract(st.y+st.x+t),4.);\n\n    b=(b*.5)+step(1.-b,.05);\n    col += st.y * b*vec3(0.,.5,1.);\n\n    for(float i=0.,a,s,e,g=0.;\n        ++i<110.;\n        O.xyz+=mix(vec3(1),H(g*.1),sin(.8))*1./e/8e3\n    )\n    \n    \n    {\n        p=g*d;\n        p.z+=iTime*1.5;\n        a=2.;\n        p=mod(p-a,a*2.)-a;\n        s=6.;\n        for(int j=0;j++<8;){\n            p=.3-abs(p);\n            \n            p.x<p.z?p=p.zyx:p;\n            p.z<p.y?p=p.xzy:p;\n            \n            s*=e=1.7+(.0234)*.1;\n            p=abs(p)*e-vec3(\n                    10.+cos(iTime*.3+.5*cos(iTime*.3))*3.,\n                    120,\n                    10.+sin(iTime*.2)*5.\n                 )*c;\n         }\n         g+=e=length(p.yz)/s;\n    }\n}","name":"Image","description":"","type":"image"}]}