{"ver":"0.1","info":{"id":"wdGcR1","date":"1603183239","viewed":55,"name":"brut set","username":"sylistine","description":"julia and mandelbrot set play","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["julia","mandelbrot","complex"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec3 hsv2rgb(vec3 c) {\n  c = vec3(c.x, clamp(c.yz, 0.0, 1.0));\n  vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n  vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n  return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\nvec2 complexMul(in vec2 l, in vec2 r) {\n    return vec2(\n        l.x * r.x - l.y * r.y,\n        l.x * r.y + l.y * r.x);\n}\n\nvec2 complexSquare(in vec2 n) {\n    return vec2(\n        n.x * n.x - n.y * n.y,\n        2.0*n.x*n.y);\n}\n\nfloat iterate(in vec2 z, in vec2 c) {  \n    float iterc = 0.0; \n    for (int i = 0; i < 512; i++) {\n        z = complexSquare(z) + c;\n        if (dot(z, z) > 512.) return iterc;\n        iterc += 1.0;\n    }\n    return 0.0;\n}\n\nfloat julia(in vec2 z0) {\n    float t = iTime * 0.0654;\n    float rmin = 0.25;\n    float rmax = 1.0;\n    float tr = sin(iTime * 0.1334);\n    float r = mix(rmin, rmax, tr);\n    vec2 c = vec2(cos(t), sin(t)) * r;\n    return iterate(z0, c);\n}\n\nfloat mandelbrot(in vec2 c) {\n    return iterate(vec2(0.0), c);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (2.0*fragCoord/iResolution.xy-1.0);\n    float aspect = iResolution.y / iResolution.x;\n    uv.y *= aspect;\n    //uv.x += 1.0;\n    uv *= 2.0;\n    \n    float stepsToInstability = mandelbrot(uv);\n    vec3 col;\n    if (stepsToInstability > 0.) {\n    \tcol = vec3(hsv2rgb(vec3(stepsToInstability/32., 1.0, 1.0)));\n    } else {\n        col = vec3(0.);\n    }\n    vec3 axisColor = vec3(0.0);\n    float axisWidth = 0.001;\n    //if (abs(uv.x) < axisWidth || abs(uv.y) < axisWidth) axisColor = vec3(1.0);\n    fragColor = vec4(max(axisColor, col),1.0);\n}","name":"Image","description":"","type":"image"}]}