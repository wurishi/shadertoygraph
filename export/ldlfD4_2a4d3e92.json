{"ver":"0.1","info":{"id":"ldlfD4","date":"1496270502","viewed":1119,"name":"Circle progressbar","username":"tort32","description":"Circle progress bar with antialiased edges","likes":8,"published":1,"flags":0,"usePreview":0,"tags":["antialiasing","proceduralgeometry","gui"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float duration = 50.0;\n    float progress = fract(iTime / duration);\n    \n    float innerRadius = 100.0;\n    float outerRadius = 200.0;\n    \n    float middleRadius = 0.5 * (innerRadius + outerRadius);\n    float halfWidth = 0.5 * (outerRadius - innerRadius);\n    \n    vec2 pos = fragCoord.xy - 0.5 * iResolution.xy;\n    float radius = length(pos.xy);\n\t\n\tfloat fr = halfWidth - abs(radius - middleRadius) + 1.0; // radius double edge function\n\t//if(fr < 0.0) discard;\n    fr = clamp(fr, 0.0, 1.0);\n\t\n\tfloat angle = degrees(atan(-pos.x, -pos.y)) + 180.0; // angle clockwise from the top\n\tfloat fa = radians(angle - progress * 360.0) * radius + 1.0; // angle edge function\n    fa = clamp(fa, 0.0, 1.0);\n\t\n\t// Compute mixed bar color with antialiasing\n    vec4 color = vec4(0.8,0.9,1,1);\n    vec4 color2 = vec4(0.7,0.6,0.5,1);\n    vec4 col = mix(color, color2, fa);\n\tcol.a *= fr;\n    \n    // Blend with background\n    vec4 bgColor = vec4(0.1,0.3,0.2,1);\n    col = mix(bgColor, col, col.a);\n\t\n\tfragColor = col;\n}","name":"Image","description":"","type":"image"}]}