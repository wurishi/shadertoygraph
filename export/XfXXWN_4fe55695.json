{"ver":"0.1","info":{"id":"XfXXWN","date":"1705250698","viewed":245,"name":"3-regular automata","username":"SnoopethDuckDuck","description":"click reset if you see a black screen","likes":17,"published":3,"flags":32,"usePreview":1,"tags":["graph","ca","cellularautomata","retract"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 o, vec2 px )\n{\n    o = cell(ch0, px);\n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"#define res iResolution.xy\n\n#define ch0 iChannel0\n#define ch1 iChannel1\n\n#define cell(ch, p) texelFetch(ch, ivec2(mod(p, res)), 0)\n","name":"Common","description":"","type":"common"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsBSR3","filepath":"/media/a/cb49c003b454385aa9975733aff4571c62182ccdda480aaba9a8d250014f00ec.png","previewfilepath":"/media/ap/cb49c003b454385aa9975733aff4571c62182ccdda480aaba9a8d250014f00ec.png","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"void mainImage( out vec4 o, vec2 px )\n{   \n    if (iFrame < 5) // noise texture loads in slowly\n        o = cell(ch1, 1e3*fract(iDate[3]) + .1*px);\n    else {\n        o = cell(ch0, px);\n        \n        float sum;\n        for (int i = -5; i <= 5; i++)\n        for (int j = -5; j <= 5; j++)\n            sum += cell(ch0, px + vec2(i, j)).x;  \n        sum /= 121.;\n        \n        if (sum > .6 || sum < .45) o -= .25;\n        else o += .5;\n        \n        o = clamp(o, 0., 1.);\n    }\n}","name":"Buffer A","description":"","type":"buffer"}]}