{"ver":"0.1","renderpass":[{"outputs":[{"channel":0,"id":"4dfGRr"}],"inputs":[{"channel":0,"type":"buffer","id":"4dXGR8","filepath":"/media/previz/buffer00.png","sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord.xy / iResolution.xy;\n    fragColor = texture(iChannel0, vec2(1.-uv.x, uv.y));\n}\n","name":"Image","description":"","type":"image"},{"outputs":[{"channel":0,"id":"4dXGR8"}],"inputs":[{"channel":0,"type":"webcam","id":"4sf3zn","filepath":"/presets/webcam.png","sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}}],"code":"\nvec3 rgb2hsv(vec3 c) {\n    vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\n    vec4 p = mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g));\n    vec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r));\n\n    float d = q.x - min(q.w, q.y);\n    float e = 1.0e-10;\n    return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);\n}\n\n\nvec3 hsv2rgb(vec3 c) {\n    vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n    vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n    return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\n\n//////////////////////////\n//////////////////////////\n\n\nconst float samples = 3.;\nconst float blur = 0.5;\nconst float power = 1.;\n\nconst float r_shift = 0.;\nconst float g_shift = 3.;\nconst float b_shift = 3.;\n\nconst float contrast_ratio = 0.05;\n\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    \n    vec4 result = vec4(0);\n\tfor(float i=0.; i<samples; i++) {\n        \n        vec2 direction = vec2(0.5)-uv;\n        direction *= blur * pow(length(direction)*0.5, power);\n        direction *= i/samples;\n        \n        vec2 r_pos = uv + r_shift*direction*blur;\n        vec2 g_pos = uv + g_shift*direction*blur;\n        vec2 b_pos = uv + b_shift*direction*blur;\n        \n        vec3 r_col = texture(iChannel0, r_pos).rgb;\n        vec3 g_col = texture(iChannel0, g_pos).rgb;\n        vec3 b_col = texture(iChannel0, b_pos).rgb;\n        \n        \n        ////////////////\n        // Saturation //\n        //////////////////////////////\n        \n        vec3 r_hsv = rgb2hsv(r_col);\n        vec3 g_hsv = rgb2hsv(g_col);\n        vec3 b_hsv = rgb2hsv(b_col);\n        \n        r_hsv = vec3(r_hsv.r, 0., r_hsv.b);\n        g_hsv = vec3(g_hsv.r, 0., g_hsv.b);\n        b_hsv = vec3(b_hsv.r, 0., b_hsv.b);\n        \n        r_col = hsv2rgb(r_hsv);\n        g_col = hsv2rgb(g_hsv);\n        b_col = hsv2rgb(b_hsv);\n        \n        //////////////////////////////\n        \n        result.r += r_col.r/samples;\n        result.g += g_col.g/samples;\n        result.b += b_col.b/samples;\n    }\n\n    vec3 result_hsv = rgb2hsv(result.rgb);\n    result_hsv = vec3(result_hsv.r, \n                      smoothstep(0., 0.6, result_hsv.g), \n                      smoothstep(contrast_ratio, 1.-contrast_ratio, result_hsv.b));\n    result.rgb = hsv2rgb(result_hsv);\n\n    \n\tfragColor = result;\n}\n\n\n\n\n","name":"Buffer A","description":"","type":"buffer"}],"flags":{"mFlagVR":false,"mFlagWebcam":true,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":true,"mFlagMusicStream":false},"info":{"id":"3syczz","date":"1734427279","viewed":99,"name":"ZoomBlur.No.1","username":"avartation","description":"zoom bloor with color shift","likes":0,"published":1,"flags":34,"usePreview":0,"tags":["zoomblurstart"],"hasliked":0,"parentid":"","parentname":""}}