{"ver":"0.1","info":{"id":"wdKcDK","date":"1603819067","viewed":92,"name":"Multi-Stop Elliptical Gradient","username":"liammartens","description":"Multi stop elliptical gradient","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["gradient"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    const int u_num_stops=4;\n    vec2 u_center_point=vec2(.2,.2);// relative x,y\n    vec2 u_radius=vec2(200,50);// absolute x,y radius\n    float u_rotation=iTime * 1.0;// this is the rotation in radians\n    \n    float u_stops[32];\n    vec4 u_colors[32];\n    u_stops[0]=0.;\n    u_stops[1]=.3;\n    u_stops[2]=.7;\n    u_stops[3]= 1.;\n    u_colors[0]=vec4(0.,1.,0.,1.);\n    u_colors[1]=vec4(1.,0.,0.,1.);\n    u_colors[2]=vec4(0.0, 0.149, 0.9922, 1.0);\n    u_colors[3]=vec4(1, 1, 0, 1.0);\n    \n    vec2 uv=(fragCoord.xy/iResolution.xy);\n    uv.y=(uv.y-1.)*-1.;\n    \n    float max_radius = max(u_radius.x, u_radius.y);\n    float sx = u_radius.x / max_radius;\n    float sy = u_radius.y / max_radius;\n    \n    float rot_c = cos(u_rotation);\n    float rot_s = sin(u_rotation);\n    \n    vec2 abs_center_point = u_center_point * iResolution.xy;\n    vec2 st = (uv * iResolution.xy) - abs_center_point;\n    st = vec2(\n        st.x * rot_c - st.y * rot_s,\n        st.x * rot_s + st.y * rot_c\n    );\n    st /= vec2(sx, sy);\n    st += abs_center_point;\n    \n    if (u_num_stops == 1) {\n        fragColor = vec4(u_colors[0]);\n    } else {\n        float abs_d = distance(abs_center_point, st);\n        float progress = abs_d / max_radius; // this is based off the max radius\n        fragColor = mix(u_colors[0], u_colors[1], smoothstep(u_stops[0], u_stops[1], progress));\n        for(int i=1;i<32;i++){\n            if(i<u_num_stops - 1) {\n                fragColor = mix(fragColor, u_colors[i+1], smoothstep(u_stops[i], u_stops[i+1], progress));\n            }\n        }\n    }\n}","name":"Image","description":"","type":"image"}]}