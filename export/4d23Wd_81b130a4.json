{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[{"channel":0,"type":"texture","id":"XdX3Rn","filepath":"/media/a/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg","sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"}},{"channel":1,"type":"texture","id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"}},{"channel":3,"type":"texture","id":"Xsf3Rn","filepath":"/media/a/cbcbb5a6cfb55c36f8f021fbb0e3f69ac96339a39fa85cd96f2017a2192821b5.png","sampler":{"filter":"nearest","wrap":"clamp","vflip":"false","srgb":"false","internal":"byte"}}],"code":"float r;\n\nfloat map( in vec3 p )\n{\n\tfloat e = r*0.1*sin(10.0*p.x)*sin(10.0*p.y)*sin(10.0*p.z);\n\t\n    return tan(-iTime) * 0.1 + min( e + length(p + p.y ) - 1.0, p.y +2.0 );\n}\n\nvec3 calcNormal( in vec3 p )\n{\n\n\tvec3 e = vec3(0.001,0.0,0.0);\n\treturn normalize( vec3(map(p+e.xyy) - map(p-e.xyy),\n\t\t\t\t\t\t   map(p+e.yxy) - map(p-e.yxy),\n\t\t\t\t\t\t   map(p+e.yyx) - map(p-e.yyx) ) \n\t\t\t\t\t);\n\t\t\t\t\t\t   \n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n\t\n\tvec2 p = -1.0 + 2.0*uv;\n\t\n\tp.x *= iResolution.x/iResolution.y;\n\n    r = 10.0*texture( iChannel0, vec2(\n\t\tsin(iTime * 0.01),\n\t\tcos(iTime * 0.01))\n\t).x;\n\t\n\tvec3 ro = vec3(0.0, 0.0, 2.0 );\n\tvec3 rd = normalize( vec3( p, -1.0 ) );\n\t\n\tfloat tmax = 10.0;\n\tfloat h = 1.0;\n\tfloat t = 0.0;\n\tfor( int i=0; i < 20; i++ )\n\t{\n\t\tif( h<0.0001 || t>tmax ) continue;\n\t\th = map( ro + t*rd );\n\t\tt += h;\n\t}\n\t\n    vec4 texsound = texture( iChannel1, vec2(0.01, 0.25));\n\n\tvec3 col = texture(iChannel1, uv * -1.0).xyz * 0.5 + 1.5 - length(uv.y) * 2.0;\n\t\t\t\t\t\t\t\t\t\t\t\t\t  \n\tif( t<tmax )\n\t{\n\t\tvec3 pos = ro + t*rd;\n\t\tvec3 nor = calcNormal( pos );\n\t\t\n\t\tcol *= dot( nor, vec3(0.5, 1.0, 0.1) );\n\t\tcol *= nor;\n\t}\n\n\tfragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"4d23Wd","date":"1395285272","viewed":152,"name":"[SH2014] Oh god what have I done","username":"DelvarWorld","description":"My first raymarched shader ever","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["blob"],"hasliked":0,"parentid":"","parentname":""}}