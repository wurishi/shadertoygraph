{"ver":"0.1","info":{"id":"wl3BRX","date":"1613294781","viewed":61,"name":"Draw circles","username":"Baruch","description":"Shader that shows how to draw circles in an easy and understandable way.","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["drawcircle"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// result == 0,0,0,0 -> don't draw\n// other values should be drawn\nvec4 drawCircle(vec2 uv, vec2 pos, float r, float xByY)\n{\n    // (x - h)² + (y - v)² = r²\n    // => y = h +/- sqrt(r^2 - (\n    \n    float x2 = ((uv.x* xByY - pos.x) * (uv.x* xByY - pos.x));\n    float y2 = (uv.y - pos.y) * (uv.y - pos.y);\n    float r2 = x2 + y2;\n    \n    if(abs(sqrt(r2)) <= r)\n        return vec4(0.2, 0.2, 0.2, 1.0);\n    \n    return vec4(0.0);\n}\n\n// returns a if all components of b = 0, otherwise like mix\nvec4 mixm(vec4 a, vec4 b, float m)\n{\n    if(b == vec4(0))\n        return a;\n    \n    return mix(a, b, m);\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n    // make the canvas a square\n    /*vec2 uv = vec2(fragCoord.x / iResolution.y, \n                  fragCoord.y / iResolution.y);\n\n    // move the \"camera\" left, so the canvas to the right\n    uv.x -= (iResolution.x - iResolution.y) / iResolution.y / 2.0;*/\n    vec2 uv = fragCoord / iResolution.xy;\n    float xByY = iResolution.x / iResolution.y;\n    \n    // 470 × 313 pixels\n    \n    // background - linear Verlauf\n    vec4 topColor = vec4(0.863, 0.855, 0.859, 1.0);\n    vec4 bottomColor = vec4(0.808, 0.773, 0.745, 1.0);\n    \n    // circle\n    float r = 0.2425;\n    \n    // top row\n    vec2 pos = vec2(0.5, 0.402);\n    vec4 circle = drawCircle(uv, pos, r, xByY);\n    \n    vec2 pos2 = vec2(0.99, 0.38);\n    vec4 circle2 = drawCircle(uv, pos2, r, xByY);\n        \n    vec2 pos3 = vec2(1.48, 0.402);\n    vec4 circle3 = drawCircle(uv, pos3, r, xByY);\n    \n    // second row    \n    vec2 pos4 = vec2(0.75, 0.3);\n    vec4 circle4 = drawCircle(uv, pos4, r, xByY);\n    \n    vec2 pos5 = vec2(1.3, 0.31);\n    vec4 circle5 = drawCircle(uv, pos5, r, xByY);\n    \n    // mix all together\n    vec4 result = mix(topColor, bottomColor, uv.y); // background\n    result = mixm(result, circle, 0.5);\n    result = mixm(result, circle2, 0.5);\n    result = mixm(result, circle3, 0.5);\n    \n    result = mixm(result, circle4, 0.5);\n    result = mixm(result, circle5, 0.5);\n\n\n    fragColor = result;\n}\n\n","name":"Image","description":"","type":"image"}]}