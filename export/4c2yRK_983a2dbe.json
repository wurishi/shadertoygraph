{"ver":"0.1","info":{"id":"4c2yRK","date":"1722609703","viewed":62,"name":"tunnel without camera","username":"Elsio","description":"Cheio de glichs, eu sei. Eu só fazia túneis assim. e estranhava que os tuneis dos outros tinha toda aquela matemática para a câmera. Hoje, voltando pro meu tunel antigo eu percebo que, na verdade, esse tipo de shader é praticamente 2D com paralax. ","likes":8,"published":1,"flags":0,"usePreview":0,"tags":["torus","tutorial","rings","tunel"],"hasliked":0,"parentid":"cdjBDK","parentname":"tunnel minimal (boilerplate)"},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"/*  \n    base - @Elsio\n    https://www.shadertoy.com/view/cdjBDK\n\n\n    SIMILAR: (tudo tunel sem calculo de camera)\n    \n    Sonic Rings\n    https://www.shadertoy.com/view/cdjfDV\n    \n    panacota\n    https://www.shadertoy.com/view/cljfRc\n\n    mysterious rotation\n    https://www.shadertoy.com/view/DlffD4\n    \n    Corrente\n    https://www.shadertoy.com/view/ctSfRV    \n    \n    banheiro\n    https://www.shadertoy.com/view/cs3cR7\n    \n    Miojo\n    https://www.shadertoy.com/view/dlsyRj\n    \n    Trepadeira\n    https://www.shadertoy.com/view/ctsyRn    \n    \n    Cabos\n    https://www.shadertoy.com/view/DlXyD2\n    \n    Cabos 2\n    https://www.shadertoy.com/view/ctByRy\n    \n    Fitas\n    https://www.shadertoy.com/view/dtfcRr\n    \n    Espinhos\n    https://www.shadertoy.com/view/mlXcRr\n    \n    Espinhos 2\n    https://www.shadertoy.com/view/mlXyDn\n    \n    Corrida Doce\n    https://www.shadertoy.com/view/mtfczr\n    \n    lixos do espaço\n    https://www.shadertoy.com/view/DlfyWn\n    \n    \n    \n    \n    \n    estes não são da mesma base de tunel + path\n    mas também não tem cálculo (complexo) de câmera\n    e são muito bons de camera.\n    \n    Forminhas\n    https://www.shadertoy.com/view/lfXSzr\n    \n    Batom\n    https://www.shadertoy.com/view/dtVyRW\n    \n    Abominations\n    https://www.shadertoy.com/view/mlcyWr\n    \n    Oncinha\n    https://www.shadertoy.com/view/DllBzl    \n    \n    Elementos teste 2\n    https://www.shadertoy.com/view/DdVyR3\n\n    Chuva de cubos\n    https://www.shadertoy.com/view/lcfyW7\n    \n    Banheira do Gugu\n    https://www.shadertoy.com/view/DlXfzj\n    \n\n*/\n\n\n#define rot(a) mat2(cos(a + vec4(0, 11, 33, 0)))\n#define r33(p) fract(7896. * sin(p * 452.))\n#define T  iTime * 4.\n\nvec4 cor;\n\nvec2 path(float z) {\n    return  2. * vec2(\n        sin(z * .3), \n        cos(z * .2) \n    );\n}\n\nfloat texturize(vec3 p){\n    p = fract(p) - .5;\n    return length(p) - .1;\n}\n\nfloat insertObjs(vec3 p){\n    vec3 id = floor(p);\n         p = fract(p) - .5;\n    \n    p.zy *= rot(T + id.x);\n    p.zx *= rot(T + id.z);\n    \n    float torus = length(p.xy) - .1;\n          torus = length(vec2(torus, p.z)) - .03;\n    \n    return id.y < 0.? torus : 1.;\n}\n\n\nfloat map(vec3 p){\n    p.z += T;\n    p.xy -= path(p.z) - path(T);\n    \n    cor.xyz = r33(floor(p));\n    \n    float tunel = 3. - length(p.xy);;\n    tunel += texturize(p);\n    tunel *= insertObjs(p);\n    return tunel * .4;\n}\n\n\nvoid mainImage(out vec4 O, vec2 u){\n    vec2 R = iResolution.xy;\n         u = (u - .5 * R) / R.y;\n\n    vec3 p = vec3(0, 0, -1), \n         ld = vec3(0, 0, -1), \n         D = vec3(u, 1);\n    \n    float i, d, s = 1.;\n    while(i++ < 1e3 && d < 1e3 && s > .001) \n        s = map(p) * .6,\n        d += s,\n        p += s * D;\n        \n    vec3 e = vec3(.01, 0, 0),\n         n = normalize(\n             map(p) - vec3(\n                 map(p-e.xyy), \n                 map(p-e.yxy),\n                 map(p-e.yyx)));\n\n    O = cor * (smoothstep(-.4, 2.1, dot(n, ld)) + .4);\n}","name":"Image","description":"","type":"image"}]}