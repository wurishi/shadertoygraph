{"ver":"0.1","info":{"id":"wsycRR","date":"1602085691","viewed":128,"name":"Why I get the wrong(?) rotation ","username":"GCScholar","description":"I two groups of points whit the same coordinates are rotated, but in one of them on Firefox Windows I got a differert rotation why? Stranger thing, if I uncomment row 47 (jumping one point in the wrong plot) I get the right plot...","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["why"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define drawPoint(P, r) step( length(U - P), r)\n\n// Rotate a vector of an angle around the Y-axis for right handed coordinate system\nmat4 RotateY(float angle) \n{\n    float c = cos(angle);\n    float s = sin(angle);\n    \n    return mat4(\n         c, 0., -s, 0.,\n        0., 1., 0., 0.,\n        s, 0.,  c, 0.,\n        0., 0., 0., 1.\n    );\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{       \n    // Screen coordinates\n    vec2 U = (2.0*fragCoord - iResolution.xy)/iResolution.y;\n    \n\tfragColor = vec4(0.0);\n    mat4 M = RotateY(iTime);\n    \n    // Alternate the two scenario, in both I print rotating poins with coordinates from 0.0 to 1.0. \n    if(sin(iTime) > 0.0)\n    {\n        \n        // If i generate d point and print them this way it works fine ...\n        for(int i=0; i<10; i+=1) \n        {\n            float d = float(i)/10.0; // d is from 0. to 1.0\n            \n            vec3 rP = vec3(-d,0.0,d); \t  // Red point\n            vec3 gP = vec3(d,0.0,d); \t  // Green point\n\n            rP = (M*vec4(rP,1.0)).xyz;\n            gP = (M*vec4(gP,1.0)).xyz;\n\n            fragColor += vec4(drawPoint(rP.xz,0.01),0.0,0.0,1.0);\n            fragColor += vec4(0.0,drawPoint(gP.xz,0.01),0.0,1.0);\n        }\n    }\n\telse \n    {\n        // ... otherwise if i generate d point this OTHER way i get strange rotation.\n        \n        for(float d=0.0; d<1.0; d += 0.1)  // d is from 0. to 1.0\n        {\n            //if(d == 0.1) continue; // If I uncommet this row it works fine ...\n            vec3 rP = vec3(-d,0.0,d); \t  // Red point\n            vec3 gP = vec3(d,0.0,d); \t  // Green point\n\n            rP = (M*vec4(rP,1.0)).xyz;\n            gP = (M*vec4(gP,1.0)).xyz;\n\n            fragColor += vec4(drawPoint(rP.xz,0.01),0.0,0.0,1.0);\n            fragColor += vec4(0.0,drawPoint(gP.xz,0.01),0.0,1.0);\n        }\n    }\n    \n    // But I think the d values are the same\n    // WHY ?\n}","name":"Image","description":"","type":"image"}]}