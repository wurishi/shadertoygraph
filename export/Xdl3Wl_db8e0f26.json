{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"#define stiffness 7.0 // Blobbiness factor (higher = stiffer balls)\n#define cfalloff 10.0 // Glow factor (higher = sharper, shorter glow)\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n\t\n\tuv -= 0.5;//center it\n\tuv *= 2.0;//screen domain is now -1 to 1\n\tuv.x *= iResolution.x/iResolution.y; //correct for aspect ratio by varying length of horizontal axis\n\t\n\t// calculate some ball positions (sin is nice for animating)\n\tvec2 ballA = vec2(1.0*sin(iTime),\t\t1.0*cos(iTime));\n\tvec2 ballB = vec2(1.0*sin(iTime*1.7),\t\t0.8*cos(iTime*1.3));\n\tvec2 ballC = vec2(0.8*sin(iTime*2.0),\t1.0*cos(iTime*1.7));\n\t\n\t// calc range-based per-pixel values\n\t// subtract from length to make the ball bigger (every pixel closer)\n\t// clamp to avoid negative distances and fucky values\n\t// invert it so it's \"closeness\" to the ball\n\t// raise to power to \"sharpen\" the edge of the ball (more sudden falloff from 1.0)\n\tfloat r1 = pow(1.0-clamp(length(uv-ballA)-0.2,0.0,1.0),stiffness);\n\tfloat r2 = pow(1.0-clamp(length(uv-ballB)-0.1,0.0,1.0),stiffness);\n\tfloat r3 = pow(1.0-clamp(length(uv-ballC)-0.05,0.0,1.0),stiffness);\n\t\n\t// sum for blobbage!\n\tfloat v = r1+r2+r3;\n\t\n\t// calculate colour\n\tvec3 final = vec3(v,v,v);\n\tfinal.x = pow(v,cfalloff);\n\tfinal.y = pow(v,cfalloff);\n\tfinal.z = pow(v,cfalloff*0.4); // sharpen blue less, for a blue glow\n\t\n\t// gimme some pixels baby!\n\tfragColor = vec4(final,1.0);\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"Xdl3Wl","date":"1381714073","viewed":471,"name":"Metaball","username":"squeakyneb","description":"Simple 2D metaballs","likes":8,"published":1,"flags":0,"usePreview":0,"tags":["2d","simple","metaball","commented"],"hasliked":0,"parentid":"","parentname":""}}