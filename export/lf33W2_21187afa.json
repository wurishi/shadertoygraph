{"ver":"0.1","info":{"id":"lf33W2","date":"1726666628","viewed":24,"name":"voronoi shenannigans","username":"Balas","description":"Trying out how to do a voronoi noise in shader.\nUsed this one as a helper to try and understand how to do it\nhttps://www.shadertoy.com/view/ldl3W8","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["noise"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec2 voronoi(vec2 x){\n    vec2 cellID = floor(x);\n    vec2 cellUV = fract(x);\n\n    float id;\n\n    float md = 1.;\n    for(int i=-1; i<=1; i++){\n        for(int j=-1; j<=1; j++){\n            vec2 currentCell = vec2(i, j);\n            vec2 cellRnd = hash22(cellID+currentCell);\n            cellRnd = vec2(sin(iTime+cellRnd*3.14)) *.5+.5;\n            vec2 r = currentCell + cellRnd - cellUV;\n            float d = length(r);\n            if(d<md){\n                md=d;\n                id= hash12(currentCell+cellID);\n            }\n        }\n    }\n\n    return vec2(md, id);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.y;\n    vec2 grid = vec2(9., 9.);\n    vec2 cent = fract(uv*grid)*2.-1.;\n    vec2 gridHash = hash22(floor(uv*grid));\n   \n    vec2 vnoise = voronoi(uv*12.);\n    vec3 albedo = hsv2rgb(vec3(vnoise.y*iTime*.3, 1., 1.-(vnoise.x)));\n   \n    fragColor = vec4(albedo,1.0);\n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"//https://www.shadertoy.com/view/4djSRW\nfloat hash12(vec2 p)\n{\n\tvec3 p3  = fract(vec3(p.xyx) * .1031);\n    p3 += dot(p3, p3.yzx + 33.33);\n    return fract((p3.x + p3.y) * p3.z);\n}\nvec2 hash22(vec2 p)\n{\n\tvec3 p3 = fract(vec3(p.xyx) * vec3(.1031, .1030, .0973));\n    p3 += dot(p3, p3.yzx+33.33);\n    return fract((p3.xx+p3.yz)*p3.zy);\n\n}\n\nvec3 hsv2rgb(vec3 c)\n{\n    vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n    vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n    return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}","name":"Common","description":"","type":"common"}]}