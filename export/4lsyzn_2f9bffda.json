{"ver":"0.1","info":{"id":"4lsyzn","date":"1503187490","viewed":148,"name":"Good Morning, good night","username":"edapx","description":"Make the sun goes up and down with the mouse","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["mouse","shape","desert","distancefieldfunction"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float circleSmooth(in vec2 st, in vec2 pos, in float begin, in float end) {\n    float pct = 0.0;\n    pct = 1. - smoothstep(begin, end, distance(st, pos));\n    return pct;\n}\n\nfloat rectangleGradientBottom(in vec2 st, in vec2 origin, in vec2 dimensions, float smoothness) {\n    vec2 center = step(origin, st); // it is actually the bottom left cornter\n    float pct = center.x * center.y;\n    vec2 full = step(1.0 - origin - dimensions, 1.0 - st);\n    float height = origin.y+dimensions.y;\n    pct *= full.x * full.y;\n    pct *= smoothstep(height, origin.y+smoothness,st.y);\n    return pct;\n}\n\n//  Function from IÃ±igo Quiles \n//  iquilezles.org/articles/functions\nfloat parabola( float x, float k ){\n    return pow( 4.0*x*(1.0-x), k );\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    vec4 m = iMouse / iResolution.xyzz;\n    vec3 color = vec3(0.1, 0.4, 0.9);\n\n    uv.x *= iResolution.x / iResolution.y;\n    if(iMouse.z>0.0){\n        m.x *= iResolution.x / iResolution.y;\n    }else{\n        vec2 fakeMovent = vec2(1.0-abs(sin(iTime*0.2)), parabola(abs(sin(iTime*0.2)),0.6));\n        m.xy = fakeMovent;\n        m.x *= iResolution.x / iResolution.y;\n    }\n    color += vec3(0.9-m.y,0.6-uv.y, -(1.0-m.y));\n\n    \n    vec2 recPos = vec2(0.0, 0.0);\n        \n    // kind of sun, with a lot of imagination\n    color.rg += circleSmooth(uv, vec2(m), 0.05, 0.15);\n    float turnOffSky = smoothstep(0.25, 0.27,m.y);\n    color*= turnOffSky;\n    // earth\n    vec3 earth = vec3(vec2(rectangleGradientBottom(uv, recPos, vec2(2.0, 0.3), 0.16)), 0.0);\n    earth.r += 1.0 -m.y;\n    color += earth;\n    float turnOffEarth = smoothstep(0.09, 0.25,m.y);\n    color*= turnOffEarth;\n    \n  \n    fragColor = vec4(color, 1.0);\n}","name":"Image","description":"","type":"image"}]}