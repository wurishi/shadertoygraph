{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"// Adapted from 'Tileable Water Caustic' by Dave_Hoskins\n// -J.\n\n// -----------------------------------------------------------------------\n// Water turbulence effect by joltz0r 2013-07-04, improved 2013-07-07\n// Altered\n// -----------------------------------------------------------------------\n\n// Redefine below to see the tiling...\n//#define SEE_TILING\n\n#define TAU 6.28318530718\n#define MAX_ITER 5\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) \n{\n\tfloat time = iTime * .5+23.0;\n    // uv should be the 0-1 uv of texture...\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    \n#ifdef SEE_TILING\n\tvec2 p = mod(uv*TAU*2.0, TAU)-250.0;\n#else\n    vec2 p = mod(uv*TAU, TAU)-250.0;\n#endif\n\tvec2 i = vec2(p);\n    vec2 i2 = vec2(p);\n\tfloat c = 1.0;\n    float c2 = 1.0;\n\tfloat inten = .005;\n\n\tfor (int n = 0; n < MAX_ITER; n++) \n\t{\n\t\tfloat t = time * (1.0 - (3.5 / float(n+1)));\n        float t2 = time * (1.0 - (3.5 / float(MAX_ITER+n+1)));\n        \n\t\ti = p + vec2(cos(t - i.x) + sin(t + i.y), sin(t - i.y) + cos(t + i.x));\n\t\tc += 1.0/length(vec2(p.x / (sin(i.x+t)/inten),p.y / (cos(i.y+t)/inten)));\n        \n\t\ti2 = p + vec2(cos(t2 - i2.x) + sin(t2 + i2.y), sin(t2 - i2.y) + cos(t2 + i2.x));\n\t\tc2 += 1.0/length(vec2(p.x / (sin(i2.x+t2)/inten),p.y / (cos(i2.y+t2)/inten)));\n\t}\n\tc /= float(MAX_ITER);\n\tc = 1.17-pow(c, 1.4);\n    c2 /= float(MAX_ITER);\n    c2 = 1.17-pow(c2, 1.4);\n\tvec3 colour = vec3(pow(abs(c), 8.0));\n    colour *= vec3(sin(time*1.9), sin(time*1.5), sin(time*1.1));\n    vec3 col2 = vec3(pow(abs(c2), 8.0)) * vec3(cos(time));\n    vec3 space = vec3(0.4 + 0.1*uv.y + 0.1*uv.x, 0.6 - 0.2*uv.y, 0.4 + 0.2*uv.x);\n\tfragColor = vec4(clamp(colour + col2 + space, 0.0, 1.0), 1.0);\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"lsSXDG","date":"1416622767","viewed":455,"name":"J. Noodling","username":"Jokes","description":"New to the language, learning my way around by messing with pretty things. Adapted this from 'Tileable Water Caustic' by Dave_Hoskins.","likes":19,"published":1,"flags":0,"usePreview":0,"tags":["2d"],"hasliked":0,"parentid":"","parentname":""}}