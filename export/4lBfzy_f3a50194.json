{"ver":"0.1","info":{"id":"4lBfzy","date":"1516183208","viewed":300,"name":"Circular Smooth","username":"Ultraviolet","description":"Fork of [url]https://www.shadertoy.com/view/MsSBRh[/url] using a different function.","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["smoothstep","circular"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\n\nfloat preSmoothStep(float step0, float step1, float x)\n{\n    return clamp((x-step0)/(step1-step0), 0., 1.);\n}\n\nfloat smoothFn(float x)\n{\n    /*\n    if(x < 0.5)\n    {\n        return .5-sqrt(0.25-x*x);\n    }\n    return .5+sqrt(0.25-(1.-x)*(1.-x));\n\t*/\n    \n    float x_ = min(x, 1.-x);\n    float y = .5-sqrt(0.25-x_*x_);\n\treturn (x<0.5) ? y : 1.0-y;\n}\n\n\nfloat smoothFnInv(float x)\n{\n    /*\n    if(x < 0.5)\n        return sqrt(0.25-(.5-x)*(.5-x));\n    return 1.-sqrt(0.25-(x-.5)*(x-.5));\n\t*/\n    \n    float y = sqrt(x - x*x);\n\treturn (x<0.5) ? y : 1.0-y;\n}\n\n    \nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\t\n    float px = 1.0/iResolution.y;\n    vec2  p = ( vec2((iResolution.y-iResolution.x)/2.0,0.0)+fragCoord)/iResolution.y;\n    \n    vec3 col = vec3(0.0);\n    \n    if( p.x>0.0 && p.x<1.0 )\n    {\n        col = vec3( 0.2 ) + 0.01*mod(floor(p.x*20.0)+floor(p.y*20.0),2.0);\n\n        // blue: smoothstep\n        float y1 = smoothFn( preSmoothStep(0.0, 1.0, p.x) );\n        float x1 = smoothFnInv( preSmoothStep(0.0, 1.0, p.y) );\n        float d1 = min(abs(p.y-y1),abs(p.x-x1));\n        col = mix( col, vec3(0.0,0.4,0.8), 1.0-smoothstep( 0.0, 2.0*px, d1 )) ;\n\n        // yellow: inverse_smoothstep\n        float y2 = smoothFnInv( p.x );\n        float x2 = smoothFn( preSmoothStep(0.0, 1.0, p.y) );\n        float d2 = min(abs(p.y-y2),abs(p.x-x2));\n        col = mix( col, vec3(1.0,0.7,0.0), 1.0-smoothstep( 0.0, 2.0*px, d2 )) ;\n\n        // gray: smoothstep of inverse_smoothstep, back to identity\n        float y3 = smoothFn( preSmoothStep(0.0, 1.0, y2 ));\n        float x3 = smoothFnInv( preSmoothStep(0.0, 1.0, x2) );\n        float d3 = min(abs(p.y-y3),abs(p.x-x3));\n        col = mix( col, vec3(0.5,0.5,0.5), 1.0-smoothstep(0.0, 1.5*px, d3 ) );\n    }\n    \n    fragColor = vec4( col, 1.0 );\n}\n","name":"Image","description":"","type":"image"}]}