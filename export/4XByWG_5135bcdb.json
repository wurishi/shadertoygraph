{"ver":"0.1","info":{"id":"4XByWG","date":"1727629949","viewed":19,"name":"icosa test 2","username":"Elsio","description":"test","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["raymarching","sdf","short","golf"],"hasliked":0,"parentid":"cldyR4","parentname":"peaky icosahedron"},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define rot(a) mat2(cos((a) + vec4(0, 33, 11, 0)))\n#define wmod(p, w) (mod(p, w) - w / 2.)\n#define pi acos(-1.)\n#define t iTime * 5.\n\n\nvec3 cor;\nvoid rotObj(inout vec3 p){\n    vec3 C = cos(.3 * iTime + vec3(0, 11, 0));\n    //if(false)\n    {\n        p.yz *= rot(C.y);\n        p.xz *= rot(C.x);\n    }\n    //p.zx *= rot(iTime * 1.);\n    //p.zy *= rot(t * .1);\n    p.zx *= rot(pi / pi);\n}\n\n\n\n//  + cos(t) * .05\n\nfloat map(vec3 p){\n    rotObj(p);\n    cor = vec3(8, 4, 1);\n    \n    float s, pi5 = pi / 5.;\n    vec2 q = p.xy;\n         \n    //if(false)\n    q = vec2(\n           length(q.xy),\n           atan(q.y, q.x)\n        );\n\n    p.z < 0.\n        ? q.y += pi5, \n          p.z = -p.z\n          \n        : q.y;\n\n\n    q.y = wmod(q.y, pi5 * 2.);\n    \n    p.xy = q.x * cos(q.y + vec2(0, 11));\n\n    p.xz *= rot(\n                atan(p.z, q.x) < pi5\n                               ? (\n                                   cor = vec3(1, 4, 8), \n                                   1.36  + cos(t) * .01\n                                 )\n                               : pi5  + cos(t) * .05\n            );\n\n\n\n\n    s = max(\n        length(p.xy) - .5, \n        abs(length(p) - 3.1) - .1\n    ); \n\n    return s;\n}\n\n\n\n\nvoid mainImage(out vec4 o, vec2 u) {\n    float s = 1.;\n    vec2 r = iResolution.xy;\n    \n    u = (u - r / 2.) / r.y;\n    \n    vec3 D = normalize(vec3(u, 1.25)),\n         p = vec3(0, 0, -10), q;\n    \n    o = vec4(1);    \n    while(o.x > 0. && s > .01){\n        s = map(p);\n        p += .2 * s * D;\n        o -= vec4(cor, 0) * .001;\n    }\n    o *= o * o * o * 2.;\n}","name":"Image","description":"","type":"image"}]}