{"ver":"0.1","info":{"id":"ltcGRH","date":"1467876249","viewed":303,"name":"Falling Squares","username":"Peetu","description":"Transparent squares falling from the sky","likes":7,"published":1,"flags":0,"usePreview":0,"tags":["2dsquare"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"bool square(vec2 p, float w){\n\treturn (abs(p.x) < w && abs(p.y) < w);\n}\n\n//returns seemingly random float between 0.0 and 1.0\nfloat randomNumber(float seed){\n\tfloat number = seed * seed * 16070.;\n    float final = mod(number, 100.);\n    return 0.01 * final;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.y;\n    \n    vec4 col = vec4(sin(iTime + uv.y) + 0.5) * .6;\n    \n    //SQUARES\n    for(int i = 0; i < 9; i++){\n        for(int j = 0; j < 6; j++){\n            \n            vec2 moveduv = uv - vec2(.25 * float(i - 1), -.2 + mod(.25 * float(j - 1) - iTime * .25, 1.5));\n\n            //ROTATION\n            vec2 rotateduv = vec2(0.0);\n            \n            float rot = iTime * 5.8 * (.5 - randomNumber(float(i + j + 185))); \n\n            vec2 newuv = mat2(cos(rot), -sin(rot), sin(rot), cos(rot)) * moveduv;\n\n            if(square(newuv, mod(iTime / 15. + float(i) / 7. + float(j) /  13., .2)) == true){\n                col += vec4(1. - mod(iTime / 15. + float(i) / 7. + float(j) /  13., .2) * 5.); \n            }\n        }\n    }\n\n\tfragColor = col;\n}","name":"Image","description":"","type":"image"}]}