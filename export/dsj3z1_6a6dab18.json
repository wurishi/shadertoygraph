{"ver":"0.1","info":{"id":"dsj3z1","date":"1667254878","viewed":78,"name":"geometric series subdivision tex","username":"jt","description":"Revisiting [url=https://www.shadertoy.com/view/ll2SW3]BinarySubDiv2[/url] implemented n-ary subdivision.\n","likes":6,"published":1,"flags":0,"usePreview":0,"tags":["tree","subdivision","geometric","short","nary","series","sum","telescope"],"hasliked":0,"parentid":"ll2SW3","parentname":"BinarySubDiv2"},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[],"code":"// https://www.shadertoy.com/view/dsj3z1 geometric series subdivision tex by jt\n// textured variant of https://www.shadertoy.com/view/ll2SW3 BinarySubDiv2\n\n// tag: tree, subdivision, geometric, short, nary, series, sum, telescope\n\nvec2 subdiv(vec2 p, uint n) // n must be >= 2\n{\n    float n1 = float(n) - 1.0;\n    float b = float(n) / n1;\n    return fract(pow(b, ceil(-log2(p.y) / log2(b))) * p * n1);\n}\n\nvoid mainImage(out vec4 O, vec2 I)\n{\n    vec2 R = iResolution.xy;\n    I /= R.y;\n    I.x *= R.y / R.x; // aspect\n    I.x -= 0.5; // center\n    uint n = uint(floor((0.5 - 0.5 * cos(iTime)) * 10.0 + 2.0));\n    O = texture(iChannel0, subdiv(I, n));\n    //O = vec4(subdiv(I, n), 0.0, 1.0);\n}\n","name":"Image","description":"","type":"image"}]}