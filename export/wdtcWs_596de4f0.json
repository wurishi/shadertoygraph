{"ver":"0.1","info":{"id":"wdtcWs","date":"1602041713","viewed":112,"name":"#inktober2020 d5: ripples","username":"zaiyugi","description":"Day 5 of Inktober 2020 challenge. making ripples on a grid","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["waves","grid","inktober"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define nTiles 100.0\n#define waves 10.0\n#define rot(a) mat2(cos(a), -sin(a), sin(a), cos(a))\n#define line(e0, d, f) (smoothstep(e0-d, e0, f)-smoothstep(e0, e0+d, f))\n\nvec3 colormap(float t)\n{\n    return .5 + .5 * cos(6.28 * (t + vec3(.0, .1, .2)));\n}\n\nvoid mainImage( out vec4 C, in vec2 U )\n{\n    // pixel -> uv\n    float dn = 1.0 / (2.*nTiles);\n    vec2 p = (U - 0.5*iResolution.xy) / iResolution.x+dn;\n    \n    float t = iTime;\n    vec3 col = vec3(0.0);\n    \n    float pix = nTiles / iResolution.y;\n    float wave_t = mix(0., waves/1.5, fract(t * 0.1));\n    float shape = line(wave_t-pix, wave_t, length(p));\n    \n    float f = 1.0-fract(sin(waves*shape));\n\tvec2 qp = rot(f * 1.571)*vec2(-dn)+p;\n    \n    float pts = line(0., pix, length(fract(qp * nTiles)-.5));\n    f = clamp(f, 0., 1.);\n    col = mix(vec3(pts), colormap(f), .2);\n    \n    C = vec4(col, 1.0);\n}\n","name":"Image","description":"","type":"image"}]}