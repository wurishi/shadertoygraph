{"ver":"0.1","info":{"id":"lsVSRD","date":"1463339436","viewed":5167,"name":"smoothstep() demo","username":"MichaelPohoreski","description":"A demo of smoothstep() inspired from: The Book of Shaders by Patricio Gonzalez Vivo\nClick and Drag the mouse button from the bottom left to the top right.\nLeft/Right: The left edge (\"attack\")\nUp/Down: The \"right edge (falloff\") or \"width\"","likes":15,"published":1,"flags":0,"usePreview":0,"tags":["blending","smoothstep"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"/*\n\nReferences:\n\n* https://www.opengl.org/sdk/docs/man/html/smoothstep.xhtml\n* https://thebookofshaders.com/glossary/?search=smoothstep\n\n*/\n\nfloat smooth_step( float edge0, float edge1, float x )\n{\n    float p = clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);\n    float v = p * p * (3.0 - 2.0 * p); // smoothstep formula\n    \n    //v = smoothstep( edge0, edge1, x ); // Compare with built-in\n    \n    return v;\n}\n\nfloat plot(vec2 st, float y)\n{\n  return  smooth_step( y-0.02, y     , st.y) - \n          smooth_step( y     , y+0.02, st.y);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 st = fragCoord.xy/iResolution.xy;\n    vec2 m  = iMouse.xy / iResolution.xy;\n    \n    float mina = m.x;\n    float maxa = 1.0 - m.y;\n\n    if (mina > maxa)\n        mina = maxa;\n    \n    float y = smooth_step( mina, maxa, st.x );\n    \n    // grey gradient\n    vec3 color = vec3(y);\n\n    // draw smoothstep curve in green\n    float percent = plot(st,y);\n    color = (1.0-percent)*color + percent*vec3(0.0,1.0,0.0);\n\n    fragColor = vec4(color,1.0);\n}","name":"Image","description":"","type":"image"}]}