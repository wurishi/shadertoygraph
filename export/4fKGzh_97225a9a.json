{"ver":"0.1","info":{"id":"4fKGzh","date":"1722902073","viewed":14,"name":"Fork dynamic mu - square wave","username":"ioblackshaw","description":"genertates a gradient from an array of colours of any length\nthe thing used by this https://enchanted.games/generator/custom-xp/\n","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["gradient","multistop"],"hasliked":0,"parentid":"dstSWB","parentname":"dynamic multicolour gradient"},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    vec2 normalMouse = iMouse.xy/iResolution.xy;\n    if(iMouse.xy == vec2(0,0)) normalMouse.y = 0.5;\n    float anim = fract((uv.x + iTime / 6.) / 1.5 );\n    \n    float period = 2.;\n    float osc = 1.;\n    anim = abs(mod(uv.x + iTime / 6., period) - osc);\n\n    vec4 colours[] = vec4[](\n        vec4(1.0, 0.4863, 0.4667, 1.0),\n        vec4(1.0, 0.9725, 0.4667, 1.0),\n        vec4(0.5098, 1.0, 0.4627, 1.0),\n        vec4(0.4667, 0.9725, 1.0, 1.0),\n        vec4(0.5137, 0.4667, 1.0, 1.0),\n        vec4(1.0, 0.4627, 0.8941, 1.0),\n        vec4(1.0, 0.2196, 0.1922, 1.0),\n        vec4(1.0, 0.9608, 0.1922, 1.0),\n        vec4(0.2588, 1.0, 0.1922, 1.0),\n        vec4(0.2, 0.9608, 1.0, 1.0),\n        vec4(0.251, 0.1843, 1.0, 1.0),\n        vec4(1.0, 0.1882, 0.8392, 1.0)\n    );\n\n    vec4 gradient = vec4(0);\n\n    bool smoothMix = false;\n    if(uv.y > normalMouse.y){\n        smoothMix = true;\n    }\n\n    float len = float(colours.length() - 1);\n    for(int i = 0; i < colours.length(); i++){\n    \n        float _step = smoothMix ? float(i-1)/len : (float(i-1)+0.5)/len;\n        float _step2 = smoothMix ? (float(i-1)+1.)/len : (float(i-1)-0.5)/len;\n\n        gradient = mix(\n            i == 0 ? colours[colours.length()-1] : gradient,\n            colours[i],\n            smoothMix ? smoothstep(_step, _step2, anim) : step(_step, anim)\n        );\n    }\n    \n    \n    fragColor = gradient;\n    if(uv.x > normalMouse.x){\n        fragColor = vec4(anim);\n    }\n}","name":"Image","description":"","type":"image"}]}