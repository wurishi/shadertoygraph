{"ver":"0.1","info":{"id":"mdyXDK","date":"1681601291","viewed":73,"name":"Kaleidescope scenes","username":"104","description":"more artsy 2D stuff.","likes":6,"published":1,"flags":0,"usePreview":0,"tags":["2d","kaleidescope"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const float gStep = 0.1;\nvec4 hash42(vec2 p)\n{\n\tvec4 p4 = fract(vec4(p.xyxy) * vec4(.1031, .1030, .0973, .1099));\n    p4 += dot(p4, p4.wzxy+33.33);\n    return fract((p4.xxyz+p4.yzzw)*p4.zywx);\n}\n\nvoid mainImage( out vec4 o, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    vec2 uvo = uv-.5;\n    uv.x *= iResolution.x / iResolution.y;\n    uv += vec2(uv.y, -uv.x); // rotate 45 deg\n    o = vec4(0);\n    \n    float t = (iTime+12.)*.3;\n    float idt = floor(t);\n    float pt = t - idt;\n    vec4 ht = hash42(floor(vec2(t)));\n    uv += (step(ht.xy,vec2(.5))-.5); // animated pan\n    uv *= .5 + (ht.z * 5.); // animated zoom\n    \n    o = vec4(0);\n    vec4 oc = o;\n    float a = 0.;\n\n    for (float i = 0.;i<1.;i+=gStep)\n    {\n        vec2 id = floor(uv-t);\n        vec4 h = hash42(id);\n\n        vec2 par1 = sign(sin(id*3.14159)); // periodic pattern\n        vec2 par2 = sign(h.xy-.5); // random pattern\n        vec2 par = mix(par1, par2, floor(ht.w+.5));\n        par += 0.00001; // perturb the pattern enough to create interest. for colored rendering this is useful\n        uv += uv.yx * par;\n\n        id = floor(uv); // recalc cell after skew applied\n        vec2 p = uv-id;\n        h = hash42(id);\n\n        vec2 p2 = abs(p-.5)*2.; // cell position shading\n        a = min(p.x,p.y);\n        a = pow(a,.2);\n\n        oc = (oc+h); // colored rendering\n        o = sign(sin((o+h).xxxx*6.28)); // B&W\n    }\n    oc *= gStep * a; // for colored rendering\n    o = o * .5+ .5; // B&W rendering    \n    o = mix(o,oc,floor(ht.y+.5)); // select color\n\n    // scene transitions.\n    float tr = abs(pt-.5)*2.;\n    tr = pow(tr,9.);\n    tr = mix(.2,1.,tr);\n    o = mix(o,hash42(fragCoord+t).xxxx,tr);\n    o *= 1.-dot(uvo,2.5*uvo);\n}\n","name":"Image","description":"","type":"image"}]}