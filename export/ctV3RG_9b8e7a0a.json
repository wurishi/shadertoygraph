{"ver":"0.1","info":{"id":"ctV3RG","date":"1684710355","viewed":74,"name":"Worly Zoom","username":"Dirk","description":"Noise Experiment","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["voronoi","fbm","worly"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\n    \n    V loop( out v4 O, in v2 U ){\n    \n        v2 uv = ( 2.0*U - iR.xy )/iR.y;\n        \n        F  t = iT; \n        v2 s = uv; \n        v3 c = v3(0.0);\n        \n           s *= 1.0;\n          \n        \n           s.y += t*.1;\n        F  v = voronoi( s, .5, .5, iT ).x*goo1(s*.346+sin(t));\n           s.y += iTime*.02;\n        F  d = goo2(s*15.1+20.*goo1(s-8.0*v*.01));\n           s += 0.5+0.5*cos(t)*0.2;\n           d = mix(v,d,.5);\n        F  d2 = mix(goo2(s*3.5+d*2.1),d,.5);\n           d = goo2(v2(s.x+d,s.y+d2));\n               \n           d2 = goo1(uv/.5+v2(10.5,2.26)*goo1(abs(.5+sin(fract(iT*0.05)*PI))*uv*1.9+30.2));\n           d2 = smoothstep(0.,1.0,d2);\n           d *= 1.0+0.1*d2*d*.001;\n           \n           d = goo1(mix(uv,d*s,0.5));\n        \n        c = mix( d2*v3(.7,.5,.3 ), d2*v3(.5,.2,0.), d2*.5 );\n        O = v4( c, 1.0 );\n    }","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"\n\n    #define loop mainImage\n    \n    #define iR iResolution\n    #define iT iTime\n    \n    #define PI 3.1415926\n    \n    #define V  void\n    #define I  int\n    #define F  float\n    #define v2 vec2\n    #define v3 vec3\n    #define v4 vec4\n    \n    F  hash12( v2 p ){ \n           return fract(sin(dot(p, v2(12.9898, 78.233))) * 43758.5453);\n       }\n    v2 hash22( v2 p ){\n           v3 p3 = fract(v3(p.xyx) * v3(.1031, .1030, .0973));\n           p3 += dot(p3, p3.yzx+33.33);\n           return fract((p3.xx+p3.yz)*p3.zy);\n       }\n    F  goo0( v2 p ){\n        v2 i = floor( p );\n        v2 f = fract( p );\n        v2 u = f*f*(3.0-2.0*f);\n        return mix( mix( hash12( i + v2(0.0,0.0) ), \n                         hash12( i + v2(1.0,0.0) ), u.x),\n                    mix( hash12( i + v2(0.0,1.0) ), \n                         hash12( i + v2(1.0,1.0) ), u.x), u.y);\n       }\n    F  goo1( v2 x ){\n        F f = 0.0;\n        F s = 0.5;\n        I   p = 8;\n        for( I i=0; i<9; i++ ){\n            f += s*goo0( x );\n            s *= 0.5;\n            x *= 2.0;\n            p *= 2;\n        }\n        return f;\n    }\n    F  goo2( v2 uv ){\n        uv *= .75;\n        F  value = 0., amplitude = .75, n2=0.;\n        v2 n1 = v2(0.);\n        for (I i = 0; i < 8; i++){\n            n2 = sin(uv.x+sin(uv.y*.43)/.37)+cos(uv.y+sin(uv.x*.37)/.43)+n2;\n            value -= abs(n2-value/2.0) * amplitude;\n            value = sqrt(value*value+.001/2.0);\n            amplitude *= .37;\n            uv *= 2.05;\n            uv = v2(uv.y,uv.x+n2);\n        }\n        return value;\n    }\n    v2 voronoi( v2 uv, F mm, F gm, F t ){\n        v3 c  = v3(0.);\n        F md = 100.;\n        uv *= 4.;\n        v2 gv  = fract(uv)-.5,\n           id  = floor(uv),\n           cid = v2(0);\n        for( F y=-1.; y<=1.; y++ ){\n            for( F x=-1.; x<=1.; x++ ){\n                v2 o = v2(x,y),\n                   n = hash22(id+o),\n                   p = o+sin(n*t)*.4*(gm);\n                   p -= gv;\n                   \n                F  ed = length(p),\n                   ma = abs(p.x)+abs(p.y),\n                   d  = mix(ed,ma,1.-mm);\n                   \n                if(d<md){\n                    md = d;\n                    cid = id+o;\n                }\n            }\n        }\n        return v2( md, hash22(cid+457.637).x );\n    }","name":"Common","description":"","type":"common"}]}