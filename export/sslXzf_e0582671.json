{"ver":"0.1","renderpass":[{"outputs":[{"channel":0,"id":"4dfGRr"}],"inputs":[{"channel":0,"type":"webcam","id":"4sf3zn","filepath":"/presets/webcam.png","sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}}],"code":"mat2 get_rotation_matirx(float rot) {\n    return mat2(\n        cos(rot), -sin(rot), \n        sin(rot), cos(rot)\n    );\n}\n\nvec2 rotate_uv(vec2 uv, mat2 rotation) {\n    uv -= 0.5;\n    uv.x = uv.x * iResolution.x / iResolution.y;\n    uv = rotation * uv;\n    uv.x = uv.x / iResolution.x * iResolution.y;\n    uv += 0.5;\n    \n    uv = abs(uv);\n    uv = step(1., uv) * 2. + sign(1.-uv) * uv;\n    return uv;\n}\n\nvec3 blur(vec2 uv, float strength) {\n    vec2 power = vec2(strength) / iResolution.xy;    \n    vec3 result = vec3(0.);\n    for (float i = -2.0; i <= 1.0; ++i) {\n        for (float j = -2.0; j <= 1.0; ++j) {\n            result += texture(iChannel0, uv + power * vec2(i,j)).rgb;\n        }\n    }\n    result /= 16.0;\n    return result;\n}\n\n\nconst float shake_speed = 20.;\nconst float shake_power = 0.7;\nconst float rot_power = 0.3;\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float time = mod(0.7 * iTime, 1.);\n    float ratio = 1. - time;\n    ratio *= -tanh(5. * (time - 0.5)) * 0.5 + 0.5;\n    \n    vec2 uv = fragCoord/iResolution.xy;\n    \n    float rot = rot_power * pow(ratio, 2.2) * sin(1.5 * shake_speed * time);\n    uv += pow(ratio, 3.) * shake_power * vec2(0., -cos(shake_speed * time));\n    \n    mat2 rotation = get_rotation_matirx(rot);\n    uv = rotate_uv(uv, rotation);\n    \n    vec3 col = blur(uv, 5.*ratio); // texture(iChannel0, uv).rgb;\n    col += ratio * ratio * col;\n    \n    fragColor = vec4(col, 1.);\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":true,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"sslXzf","date":"1734426865","viewed":33,"name":"Shake.No.19","username":"avartation","description":"asdfg","likes":3,"published":1,"flags":2,"usePreview":0,"tags":["sdfgh"],"hasliked":0,"parentid":"","parentname":""}}