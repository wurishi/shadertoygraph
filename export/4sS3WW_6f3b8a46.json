{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[{"channel":0,"type":"cubemap","id":"XdX3zn","filepath":"/media/a/488bd40303a2e2b9a71987e48c66ef41f5e937174bf316d3ed0e86410784b919.jpg","sampler":{"filter":"linear","wrap":"clamp","vflip":"false","srgb":"false","internal":"byte"}}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 aspect = vec2(iResolution.x/iResolution.y, 1.0);\n\tvec2 uv = aspect*(-1.0 + (2.0*fragCoord.xy / iResolution.xy));\n\tfloat st = sin(iTime*0.6);\n\tfloat ct = cos(iTime*0.6);\n\tvec3 ro = vec3(0.0, -1.8, -1.5);\n\tvec3 rd = vec3(uv.x*0.1, -uv.y*0.1, 0.05);\n\tro.xz = vec2(ct*ro.x - st*ro.z, st*ro.x + ct*ro.z);\n\trd.xz = vec2(ct*rd.x - st*rd.z, st*rd.x + ct*rd.z);\n\trd.zy = vec2(ct*rd.y - st*rd.z, st*rd.y + ct*rd.z);\n\tvec3 color = vec3(0.0);\n\tfloat hits = 0.0;\n\tfor (int i=0; i<50; i++) {\n\t\tro += rd;\n\t\trd += vec3(0.0, -0.15, 0.0);\n\t\tvec3 v = vec3(0.0, 1.0, 0.0);\n\t\tvec3 rov = ro-2.0*v;\n\t\tfloat l = length(rov);\n\t\tif (l < 1.0) {\n\t\t\tif (l > 0.97) {\n\t\t\t\tfragColor = vec4(0.0);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tro -= rd;\n\t\t\trd = reflect(rd, normalize(rov))*0.9;\n\t\t}\n\t\tif (ro.y <= -1.0) {\n\t\t\tro.y *= -1.0;\n\t\t\trd.y *= -1.0;\n\t\t\trd *= 0.9;\n\t\t\tcolor += 13.0*vec3(0.1, 0.08, 0.025);\n\t\t\thits++;\n\t\t}\n\t}\n\tfragColor = vec4(color/max(1.0,hits), 1.0)*texture(iChannel0, rd);\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"4sS3WW","date":"1387662608","viewed":233,"name":"Gold foils","username":"kig","description":"Raymarching with rays affected by gravity.","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["raymarching","strange"],"hasliked":0,"parentid":"","parentname":""}}