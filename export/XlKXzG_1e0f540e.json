{"ver":"0.1","info":{"id":"XlKXzG","date":"1484810694","viewed":144,"name":"Mandelbrot zoom Meep edition","username":"MeepMu","description":"A simple Mandelbrot zoom","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["fractal"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define MAXITS 1024\n#define ZOOMSPEED 10.\n#define ZOOMX -1.74995768370609350360221450607069970727110579726252077930242837820286008082972804887218672784431700831100544507655659531379747541999999995\n#define ZOOMY 0.00000000000000000278793706563379402178294753790944364927085054500163081379043930650189386849765202169477470552201325772332454726999999995\n\nstruct Complex {\n float r;\n float i;\n};\n\nfloat magSq(Complex c) {\n    return (c.r*c.r) + (c.i*c.i);\n}\n\nComplex complexMultiply(Complex first, Complex second) {\n    float r1r2;\n    float r1i2;\n    float i1r2;\n    float i1i2;\n    \n    r1r2 = first.r * second.r;\n    r1i2 = first.r * second.i;\n    i1r2 = first.i * second.r;\n    i1i2 = -(first.i*second.i);\n    \n    Complex c = Complex(r1r2 + i1i2, r1i2 + i1r2);\n    \n    return c;\n}\n\nComplex complexAdd(Complex first, Complex second) {\n    Complex c;\n    c.i = first.i + second.i;\n    c.r = first.r + second.r;\n    return c;\n}\n\n//from https://gist.github.com/eieio/4109795\nvec3 hsv2rgb(float h, float s, float v) {\n  vec3 c = vec3(h,s,v);\n  vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n  vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n  return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n  vec2 coord = vec2(fragCoord.x-(iResolution.x/2.),fragCoord.y-(iResolution.y/2.));\n  vec3 color;\n  bool inf = false;\n  float its = 0.;\n    \n  Complex z = Complex(0.0, 0.0);\n  Complex c = Complex((coord.x)/(ZOOMSPEED*pow(2.,iTime))+ZOOMX, (coord.y)/(ZOOMSPEED*pow(2.,iTime))+ZOOMY);\n    \n  for(int i = 0; i < MAXITS; i++) {\n    if(magSq(z) > 4.) {inf = true; break;}\n    z = complexMultiply(z,z);\n    z = complexAdd(z,c);\n    its += 1.;\n  }\n    if(inf) {\n        color = hsv2rgb(its*.01, 1., 1.);\n    } else {\n        color = vec3(0,0,0);\n    }\n  fragColor = vec4(color,1.);\n}","name":"Image","description":"","type":"image"}]}