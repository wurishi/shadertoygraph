{"ver":"0.1","info":{"id":"3d2yDR","date":"1586442686","viewed":95,"name":"bouncing ball 02","username":"bhuwan0000","description":"bouncing ball from here https://www.desmos.com/calculator/cjdjsqwngy","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["ball","physics","projectile"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// implemented from here https://www.desmos.com/calculator/cjdjsqwngy\n\nfloat plot(vec2 st, float pct){\n  return  smoothstep( pct-0.04, pct, st.y) -\n          smoothstep( pct, pct+0.04, st.y);\n}\n\nfloat ln(float x)\n{\n    return log(x)/log(2.71828);\n}\n\nfloat circle(vec2 st, vec2 cent, float r)\n{\n    st.x *= iResolution.x/iResolution.y;\n    float d = length(st-cent);\n    d = d<r?1.0:0.0;\n    return d;\n}\n\nfloat tsx(float x, float Hinit)\n{\n    if (x>=0.0)\n    {\n        return (x + sqrt(Hinit)/4.0);\n    }\n}\n\nfloat nx(float x, float d, float c, float Hinit)\n{\n    float _tsx = tsx(x, Hinit)/d;\n    float res = floor( (ln(1.0-_tsx))/ln(c) );\n    return res;\n}\n\nfloat tpx(float x, float Hinit, float d, float c)\n{\n    float _tsx = tsx(x, Hinit);\n    float _nx = nx(x, d, c, Hinit);\n    float res = _tsx - d*(1.0-pow(c, _nx));\n    return res;\n}\n\nfloat hx(float x, float Hinit, float d, float c)\n{\n    float _tpx = tpx(x, Hinit, d, c);\n    float _nx = nx(x, d, c, Hinit);\n    float res = (8.0*sqrt(Hinit)*pow(c, _nx)*_tpx) - (16.0*(pow(_tpx, 2.0)));\n    return res;\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n    uv *= 2.0;\n    float aspect = iResolution.x/iResolution.y;\n    vec3 col = vec3(0.2);\n    \n    //from here https://www.desmos.com/calculator/cjdjsqwngy\n    float Hinit = 1.5; // initial height\n    float f = 2.0/2.8;\n    float t = iTime;\n    float c = sqrt(f);\n    float d = sqrt(Hinit)/(2.0*(1.0-c));\n    float t_stop = (sqrt(Hinit)/(2.0*(1.0-sqrt(f)))) - (sqrt(Hinit)/4.0);\n    t = mod(t, t_stop);\n    float d_x = t;\n    float d_y = hx(t, Hinit, d, c);\n\n    //circle\n    float rad = 0.06;\n    vec2 cent = vec2(d_x, d_y+rad);\n    float cir = circle(uv, cent, rad);\n\n\t\n    //plot graph\n    float d_y_plot = hx(uv.x*aspect, Hinit, d, c);\n    float plo = plot(uv, d_y_plot);\n    \n    // Output to screen\n    \n    vec3 bg = vec3(0.8);\n    col = bg*(1.-cir)+(vec3(0.7, 0.4, 0.1)*cir);\n    col -= vec3(plo);\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}