{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[{"channel":0,"type":"music","id":"XsXGRr","filepath":"/media/a/d96b229eeb7a08d53adfcf1ff89e54c9ffeebed193d317d1a01cc8125c0f5cca.mp3","sampler":{"filter":"linear","wrap":"clamp","vflip":"false","srgb":"false","internal":"byte"}}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n\t\n\tuv[0]-=0.5;\n\tuv[0]*=2.0;\n\tuv[0]=-abs(uv[0]);\n\n\tuv[1]-=0.5;\n\tuv[1]*=2.0;\n\tuv[1]=-abs(uv[1]);\n\n\t\n\tconst int niter = 45;\n\t\n\tfloat p = 1.0;\n\tint escape=0;\n\t\n\tconst float scale=-1.3; //2.0; // -1.5\n\tfloat r=0.25; // + 0.5*(iMouse[0]/iResolution[0]); // 0.25;\n\tconst float f=1.0;\n\t\n\tvec2 c=vec2(0.0,0.0);\n\n\tuv/=2.0; //(100.0*(iMouse[0]/iResolution[0]));\n\tvec2 z = uv;\n    float d = length(uv);\n\tvec4 t3 = texture(iChannel0, vec2(d/32.0,0.1) );\t\n\t\n\tfor (int i=0;i<niter;i++){\n\t\t\n\t\tif (z[0]>1.0){\n\t\t\tz[0]=f*(2.0-z[0]);\t\n\t\t}\n\t\tif (z[1]>1.0){\n\t\t\tz[1]=f*(2.0-z[1]);\t\n\t\t}\n\t\t\n\t\tfloat l = length(z);\n\t\tif (l<r){\n\t\t\tz/=r*r;\n\t\t}else if (l<1.0){\n\t\t\tz/=l*l;\n\t\t}\n\t\t\n\t\tz*=scale;\n\t\tz*=t3[0]*1.0; // scale by fft\n\t\t\n\t\t\n\t\tif (z[0]*z[0]+z[1]*z[1]>16.0){\n\t\t\tescape=i;\n\t\t\tbreak;\n\t\t}\t\t\t\n\t}\n\t\n\tfloat a = 1.0-(float(escape)/float(niter));\n\tvec4 t1 = texture(iChannel0, vec2(a,0.1) );\t\n\t\n\t\n\tfloat fft;\n\tfft=t1[0];\n\t\n\t//float fft = 1.0-\n\n\tif (escape<niter-1){\n\t\tfft=0.0;\n\t}else{\n\t\tfft=0.5;\n\t}\n\tfloat b = (float(escape)/float(niter));\n    fft=b;\t\n//fft=0.5;\n\t\n//\tfft *= 1.0-(iMouse[0]/iResolution.xy[0]); // adjust intensity\n\t\t\n\tvec3 col = vec3( sin(fft*3.141), sin(fft*3.141*2.0),sin(fft*3.141*4.0));\n\tfragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"4dsSWr","date":"1399867322","viewed":404,"name":"2d mandelbox fft distortions","username":"pixelbeast","description":"Mandelbox fft distortions.","likes":6,"published":1,"flags":0,"usePreview":0,"tags":["2dmusicfftmandlebox"],"hasliked":0,"parentid":"","parentname":""}}