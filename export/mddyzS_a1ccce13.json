{"ver":"0.1","info":{"id":"mddyzS","date":"1695212935","viewed":55,"name":"Circular rainbow fire","username":"Arbethi","description":"Circular rainbow fire with mouse interaction","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["circularsinerainbow"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Inspired from Sine Puke II, by WAHa.06x36.\n\n#define TWO_PI 6.28318530718\nvec3 spectral_colour(float l) // RGB <0,1> <- lambda l <400,700> [nm]\n{\n\tfloat r=0.0,g=0.0,b=0.0;\n         if ((l>=400.0)&&(l<410.0)) { float t=(l-400.0)/(410.0-400.0); r=    +(0.33*t)-(0.20*t*t); }\n    else if ((l>=410.0)&&(l<475.0)) { float t=(l-410.0)/(475.0-410.0); r=0.14         -(0.13*t*t); }\n    else if ((l>=545.0)&&(l<595.0)) { float t=(l-545.0)/(595.0-545.0); r=    +(1.98*t)-(     t*t); }\n    else if ((l>=595.0)&&(l<650.0)) { float t=(l-595.0)/(650.0-595.0); r=0.98+(0.06*t)-(0.40*t*t); }\n    else if ((l>=650.0)&&(l<700.0)) { float t=(l-650.0)/(700.0-650.0); r=0.65-(0.84*t)+(0.20*t*t); }\n         if ((l>=415.0)&&(l<475.0)) { float t=(l-415.0)/(475.0-415.0); g=             +(0.80*t*t); }\n    else if ((l>=475.0)&&(l<590.0)) { float t=(l-475.0)/(590.0-475.0); g=0.8 +(0.76*t)-(0.80*t*t); }\n    else if ((l>=585.0)&&(l<639.0)) { float t=(l-585.0)/(639.0-585.0); g=0.82-(0.80*t)           ; }\n         if ((l>=400.0)&&(l<475.0)) { float t=(l-400.0)/(475.0-400.0); b=    +(2.20*t)-(1.50*t*t); }\n    else if ((l>=475.0)&&(l<560.0)) { float t=(l-475.0)/(560.0-475.0); b=0.7 -(     t)+(0.30*t*t); }\n\n\treturn vec3(r,g,b);\n}\n\nvec3 spectral_palette(float x) { return spectral_colour(x*300.0+400.0); }\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float r=max(iResolution.x,iResolution.y)/min(iResolution.x,iResolution.y);\n\tvec2 p=(2.0*fragCoord.xy)/iResolution.y-1.;\n    vec2 m=(iMouse.xy/iResolution.xy);\n    //p*=2.;\n    //p*=1.-m.x;\n    //p*=m.y*100.;\n    //p-=10.;\n    //p.x+=m.x*200.;\n    \n    //p=fract(p);\n    \n    float offset=1.;\n    float a=0.79;\n    a=0.012;\n    float size=50.;\n    float speed=m.x*10.;\n    float width=m.y*4.+6.;\n    float ratio=1.;//.+m.y/20.;\n\tfor(float i=1.;i<=size;i++)\n\t{\n\t\tp+=vec2(\n\t\t\ta*sin(i*p.y+iTime*4.+speed)+offset,\n\t\t\ta*sin(ratio*i*p.x+iTime*4.+speed)-offset\n\t\t);\n\t}\n    \n    \n    float dx=width*(p.x-(size+r/2.)*offset);\n    float dy=width*(p.y+(size)*offset);\n    //float d = mod(atan(dy,dx),TWO_PI);\n    float z=m.x+0.5;\n    float d = exp(z-3.)*pow(dx*dx+dy*dy,0.8)-z;\n    //float d = angle;\n    //d=pow(d,0.9);\n\t//d=0.5/d;\n    vec3 col=spectral_palette(d);\n\t//vec3 col=spectral_palette(width*((p.x*p.x)/(size)+(p.y*p.y)/(size)-size));\n    \n\t//fragColor=vec4(vec3(d),1.0);\n\tfragColor=vec4(pow(col,vec3(.44)),1.0);\n}\n","name":"Image","description":"","type":"image"}]}