{"ver":"0.1","info":{"id":"MtcyWr","date":"1532195542","viewed":622,"name":"Traveling Through Mist","username":"Emil","description":"A fake effect of traveling through some mist","likes":24,"published":1,"flags":0,"usePreview":0,"tags":["3d","noise","horizon"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float n21 (vec3 uvw)\n{\n    return fract(sin(uvw.x*23.35661 + uvw.y*6560.65 + uvw.z*4624.165)*2459.452);\n}\n\nfloat smoothNoise (vec3 uvw)\n{\n    float fbl = n21(floor(uvw));\n    float fbr = n21(vec3(1.0,0.0,0.0)+floor(uvw));\n    float ful = n21(vec3(0.0,1.0,0.0)+floor(uvw));\n    float fur = n21(vec3(1.0,1.0,0.0)+floor(uvw));\n    \n    float bbl = n21(vec3(0.0,0.0,1.0)+floor(uvw));\n    float bbr = n21(vec3(1.0,0.0,1.0)+floor(uvw));\n    float bul = n21(vec3(0.0,1.0,1.0)+floor(uvw));\n    float bur = n21(vec3(1.0,1.0,1.0)+floor(uvw));\n    \n    uvw = fract(uvw);\n    vec3 blend = uvw;\n    blend = (blend*blend*(3.0 -2.0*blend)); // cheap smoothstep\n    \n    return mix(\tmix(mix(fbl, fbr, blend.x), mix(ful, fur, blend.x), blend.y),\n        \t\tmix(mix(bbl, bbr, blend.x), mix(bul, bur, blend.x), blend.y),\n               \tblend.z);\n}\n\nfloat perlinNoise (vec3 uvw)\n{\n    float blended = smoothNoise(uvw*4.0);\n    blended += smoothNoise(uvw*8.0)*0.5;\n    blended += smoothNoise(uvw*16.0)*0.25;\n    blended += smoothNoise(uvw*32.0)*0.125;\n    blended += smoothNoise(uvw*64.0)*0.0625;\n    \n    blended /= 2.0;\n    //blended = fract(blended*2.0)*0.5+0.5;\n    blended *= pow(0.8-abs(uvw.y),2.0);\n    return blended;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.x-0.5*vec2(1.0,(iResolution.y/iResolution.x));\n\t\n    \n    vec3 uvw = vec3(uv, iTime*0.14);\n    \n    vec3 result = vec3(0.0);\n    float moreDepth = 0.0;\n    \n    for(int i=0;i<20;i++)\n    {\n        moreDepth += 0.008;\n        result += \t\tvec3(perlinNoise(uvw*vec3(vec2(moreDepth*12.0+1.0),1.0) + vec3(0.0,0.0, moreDepth)));\n    }\n    result /= 14.0;\n    \n    result *= 2.4*(0.6-length(uvw.xy));\n    \n    fragColor = vec4(result * vec3(0.8,0.9,1.0)*1.0 + vec3(0.2,0.3,0.4)*(0.9-abs(uv.y)), 1.0);\n}","name":"Image","description":"","type":"image"}]}