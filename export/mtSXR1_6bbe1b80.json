{"ver":"0.1","info":{"id":"mtSXR1","date":"1675736814","viewed":162,"name":"Water Heart","username":"Sun_y20","description":"wyn_heart,Ray_marching","likes":2,"published":3,"flags":0,"usePreview":0,"tags":["raymarching"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float rand(vec2 n) {\n  return fract(sin(dot(n, vec2(12.9898, 4.1414))) * 43758.5453);\n}\n// 返回low ~ high的sin函数\nfloat sint(float low, float high) {\n  float t = sin(iTime*3.);\n  float tall = high - low;\n  return tall / 2. * t + tall / 2. + low;\n}\n// 爱心函数\nfloat Heart(vec2 uv, vec2 p, float r, float blur) {\n  uv *= vec2(.7, .95)*3.;\n  uv -= p;\n  float d = pow(uv.x, 2.) + pow(uv.y - pow(pow(uv.x, 2.), 1./3.), 2.) - 1.;\n  return smoothstep(r, r-blur, d);\n}\n\nvoid mainImage(out vec4 fragColor,in vec2 fragCoord) {\n  vec2 uv = (2.*fragCoord - iResolution.xy)/iResolution.xx;\n  vec3 col = vec3(0.);\n  vec3 baseCol = vec3(1.);\n  uv *= 1.5;\n  \n  vec2 p = vec2(0., -.5);\n  float edge = Heart(uv*.8*length(uv*.8)*1.8, vec2(0., -.47), .3, .8);\n  vec3 col_edge = baseCol*edge;\n  col_edge -= baseCol * Heart(uv*1.1, p, .3, 0.01);\n  col_edge *= pow(rand(uv), 1./pow(length(uv), 4.*(2.2-sint(.7, 1.5))));\n\n  float innerAnim = sint(length(uv)*1.5, 1.);\n  float heart = Heart(uv * innerAnim, p, .3, 0.1);\n  col = baseCol * heart * pow(rand(uv), 1./pow(length(uv), 2.5*(2.3-sint(.8, 1.5))));\n\n  float border = Heart(uv * innerAnim, p, .3, .01);\n  vec3 borderCol = baseCol * border * pow(rand(uv), 1./pow(length(uv), 2.5*(2.3-sint(.8, 1.5))));\n  borderCol -= baseCol * Heart(uv * 2.0 * innerAnim, p, .3, .5);\n  col += col_edge + borderCol*.2;\n  col *= vec3(0.8, 0.1882, 0.2314)*1.5;\n  \n  col = mix(col,vec3(1.0,0.33,0.6),0.5);\n  \n  \n  fragColor = vec4(col, 1.);\n}\n","name":"Image","description":"","type":"image"}]}