{"ver":"0.1","info":{"id":"Wlsfzs","date":"1597495770","viewed":445,"name":"Apollonian wires","username":"gaz","description":"fractal","likes":35,"published":1,"flags":0,"usePreview":0,"tags":["fractal"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define rot(a)mat2(cos(a),sin(a),-sin(a),cos(a))\n\nfloat map(vec3 p)\n{\n\tp.xz*=rot(iTime*.5);\n\tp.xy*=rot(iTime*.5);\n\tfloat s=2.,r2;\n\tp=abs(p);\n    for(int i=0; i<12;i++){\n\t\tp=1.-abs(p-1.);\n        if(fract(iTime*.5)<.7){\n            r2=1.2/dot(p,p);\n        }else{\n            r2=(i%3==1)?1.3:1.3/dot(p,p);\n        }\n    \tp*=r2;\n    \ts*=r2;\n\t}\n\treturn length(cross(p,normalize(vec3(1))))/s-0.003;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv=(2.*fragCoord-iResolution.xy)/iResolution.y;\n  \tvec3 ro=vec3(\n        mix(8.,3.,sin(iTime*.2+.3*sin(iTime*.5))*.5+.5),\n        mix(-.5,.5,cos(iTime*.1+.5*cos(iTime*.7))*.5+.5),\n        0);\n  \tvec3 w=normalize(-ro);\n  \tvec3 u=normalize(cross(w,vec3(0,1,0)));\n  \tvec3 rd=mat3(u,cross(u,w),w)*normalize(vec3(uv,2));\n    vec3 p;\n    float h=0.,d,i;\n\tfor(i=1.;i<120.;i++)\n    {\n    \tp=ro+rd*h;    \n\t\td=map(p);\n    \tif(d<.0001)break;\n    \th+=d;\n\t}\n    fragColor.xyz=30.*vec3(cos(p*.8)*.5+.5)/i;\n}\n","name":"Image","description":"","type":"image"}]}