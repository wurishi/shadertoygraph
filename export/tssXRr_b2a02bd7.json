{"ver":"0.1","info":{"id":"tssXRr","date":"1550522706","viewed":72,"name":"City of lightsadg","username":"theepicsnail","description":"lights1adg","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["lights"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec2 cs(float f) {\n    return vec2(cos(f), sin(f));\n}\n\nfloat noise(float f) {\n    return fract(sin(f*1430.856+1355.2)*9898.11);\n}\nvec3 noise3(float f){ \n    return vec3(noise(f), noise(f*1.2+43.), noise(f*1.3+12.));\n}\n\nvec3 getColor(float i, float t) {\n    vec3 c1 = noise3(floor(t) + i);\n    vec3 c2 = noise3(floor(t) + i + 1.);\n    return mix(c1, c2, fract(t));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 texCoord = (fragCoord*2.-iResolution.xy)/iResolution.y;\n    vec2 r = cs(iTime*.1);\n    \n    float falloff =1.-length(texCoord)*.25;\n\ttexCoord.x += iTime*.1;\n\t\n\tvec3 result = vec3(0,0,0);\n\tfloat sum = 0.;\n\n    vec3 color;\n\tfor(int i = 0 ; i < 6 ; i++) {\n        float r;\n\t\ttexCoord = fract(texCoord)*2.-1.;\n        \n\t\tr = 3.1415/4.;\n\t\tfloat c = cos(r);\n\t\tfloat s = sin(r);\n\t\ttexCoord *= mat2(vec2(c,-s),vec2(s,c));\n    \t//texCoord *= mat2x2(r.x, -r.y, r.y, r.x);\n\t\tcolor = getColor(float(i), iTime);\n\n\t\tfloat d = length(texCoord);\n\t\t r = 1.0 *noise(float(i));\n\t\tif(d<r){\n\t\t\td/=r;\n\t\t\tfloat v = 1.-d;\n\t\t\tv = pow(v, 2.) * falloff;\n\t\t\t//sum += v*3;\n\t\t\t//result = lerp(color, result, v/sum);\n\t\t\tresult += color*v;\n\t\t\tsum += v;\n\t\t}\n\n        //texCoord += iTime*.11;\n\t\t\n\t}\n\tcolor = result * sum;\n\tfragColor.rgb = color;\n}","name":"Image","description":"","type":"image"}]}