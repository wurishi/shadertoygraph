{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"#define ANIMATE\n\n#define M_PI 3.1415926535897932384626433832795\n\n//    0  1  2  3  4  5 \n// R  1  1  0  0  0  1\n// G  0  1  1  1  0  0\n// B  0  0  0  1  1  1\nvec3 getHueColor(vec2 pos)\n{\n#ifdef ANIMATE\n\tfloat theta = mod(3.0 + 3.0 * atan(pos.x, pos.y) / M_PI + iTime, 6.0);\n#else\n\tfloat theta = 3.0 + 3.0 * atan(pos.x, pos.y) / M_PI;\n#endif\n\t\t\n\tvec3 color = vec3(0.0);\n\t\n\treturn clamp(abs(mod(theta + vec3(0.0, 4.0, 2.0), 6.0) - 3.0) - 1.0, 0.0, 1.0);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = vec2(2.0, -2.0) * (fragCoord.xy - 0.5 * iResolution.xy) / iResolution.y;\n\tvec2 mouse = vec2(2.0, -2.0) * (iMouse.xy - 0.5 * iResolution.xy) / iResolution.y;\n\t\n\tfloat l = length(uv);\n\tfloat m = length(mouse);\n\t\n\tfragColor = vec4(0.0);\n\n\tif (l >= 0.75 && l <= 1.0)\n\t{\n\t\tl = 1.0 - abs((l - 0.875) * 8.0);\n\t\tl = clamp(l * iResolution.y * 0.0625, 0.0, 1.0); // Antialiasing approximation\n\t\t\n\t\tfragColor = vec4(l * getHueColor(uv), l);\n\t}\n\telse if (l < 0.75)\n\t{\n\t\tvec3 pickedHueColor;\n\t\t\n\t\tif (m < 0.75 || m > 1.0)\n\t\t{\n#ifdef ANIMATE\n\t\t\tmouse = vec2(sin(iTime), cos(iTime));\n#else\n\t\t\tmouse = vec2(0.0, -1.0);\n\t\t\tpickedHueColor = vec3(1.0, 0.0, 0.0);\n#endif\n\t\t}\n#ifndef ANIMATE\n\t\telse\n\t\t{\n#endif\n\t\t\tpickedHueColor = getHueColor(mouse);\n#ifndef ANIMATE\n\t\t}\n#endif\n\t\t\n\t\tuv = uv / 0.75;\n\t\tmouse = normalize(mouse);\n\t\t\n\t\tfloat sat = 1.5 - (dot(uv, mouse) + 0.5); // [0.0,1.5]\n\t\t\n\t\tif (sat < 1.5)\n\t\t{\n\t\t\tfloat h = sat / sqrt(3.0);\n\t\t\tvec2 om = vec2(cross(vec3(mouse, 0.0), vec3(0.0, 0.0, 1.0)));\n\t\t\tfloat lum = dot(uv, om);\n\t\t\t\n\t\t\tif (abs(lum) <= h)\n\t\t\t{\n\t\t\t\tl = clamp((h - abs(lum)) * iResolution.y * 0.5, 0.0, 1.0) * clamp((1.5 - sat) / 1.5 * iResolution.y * 0.5, 0.0, 1.0); // Fake antialiasing\n\t\t\t\tfragColor = vec4(l * mix(pickedHueColor, vec3(0.5 * (lum + h) / h), sat / 1.5), l);\n\t\t\t}\n\t\t}\n\t}\n}\n","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"MsXXzX","date":"1404945172","viewed":1190,"name":"Color wheel","username":"GoldenCrystal","description":"A simple color wheel, reacting to mouse.","likes":13,"published":1,"flags":0,"usePreview":0,"tags":["2d","color","wheel","hsl"],"hasliked":0,"parentid":"","parentname":""}}