{"ver":"0.1","info":{"id":"fdtSRs","date":"1633733271","viewed":216,"name":"Reef and waves short","username":"guil","description":"short version","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["waves","reef"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"mat2 R(float a){\n    return mat2(cos(a), sin(a), -sin(a), cos(a));\n}\n\n\nvoid mainImage( out vec4 C, vec2 FC )\n{\n    float o,i,e,f,s, g=4., t=iTime, k=.1;\n    vec3 q, r=iResolution, l=vec3(2.);\n    C = vec4(0);\n    \n    for(;i++<1e2; g+=min(f,min(e,3.*e*f))*k){\n        s=2.;\n        vec3 p=vec3((FC.xy-r.xy/s)/r.y*g,g-5.);\n        k*=1.015;\n        p.yz*=R(-.7);\n        p.z+=t;\n        for(e=f=p.y;s<2e2;s/=.6)\n            p.xz*=R(s),\n            q=p,\n            q.x+=t,\n            e+=abs(dot(sin(q.xz*s*.1)/s,l.xz)),\n            f+=abs(dot(sin(p*s*.15)/s,l));\n         o=1.+(f>4e-3?(e>.002?exp(-f*e):-exp(-e*e)):-exp(-f*f));\n         \n         C *= .96;\n         C.rgb += .05*max(o,.1)*(exp(-f)*vec3(.5,.3,.2)+exp(-e)*vec3(.1,.4,.7));\n         }\n    \n}","name":"Image","description":"","type":"image"}]}