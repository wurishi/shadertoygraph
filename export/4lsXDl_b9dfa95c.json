{"ver":"0.1","info":{"id":"4lsXDl","date":"1440657883","viewed":283,"name":"Warming / Cooling Shader","username":"chamberlain","description":"Looks like Instagram!","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["filter"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"Xdf3Rn","filepath":"/media/a/e81e818ac76a8983d746784b423178ee9f6cdcdf7f8e8d719341a6fe2d2ab303.webm","previewfilepath":"/media/ap/e81e818ac76a8983d746784b423178ee9f6cdcdf7f8e8d719341a6fe2d2ab303.webm","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[],"code":"float lumin( vec4 color ) { return dot( color, vec4( 0.299, 0.587, 0.114, 0.0 ) ); }\n \nvec4 filterByColor( vec4 color, vec4 filter )\n{    \n    float lumOld = lumin( color );\n    color *= filter;\n    float lumNew = lumin( color );\n   \n    return color * ( lumOld / lumNew );\n}\n\nfloat vignette( vec2 uv ) \n{\n    return distance( vec2( 0.5, 0.5 ), uv );\n}\n \nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord.xy / iResolution.xy;\n   \n    vec4 color = texture( iChannel0, uv );\n   \n    vec4 filterColorWarm = vec4( 1.33, 1.21, 1.0, 1.0 );\n    vec4 filterColorCold = vec4( 1.0, 1.1515, 1.33, 1.0 );\n    \n    float vig = 1.33 - pow( 1.33 * vignette( uv ), 1.33 );\n   \n    vec4 colorWarm = filterByColor( color, filterColorWarm );\n    vec4 colorCold = filterByColor( vig * color, filterColorCold );\n    \n    fragColor = uv.x > 0.33 ? ( uv.x > 0.666 ? colorWarm : color ) : colorCold;\n    // fragColor = vec4( vec3( vig ), 1.0 );\n}","name":"","description":"","type":"image"}]}