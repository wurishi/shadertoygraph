{"ver":"0.1","info":{"id":"clyXWD","date":"1686087297","viewed":114,"name":"DaCuteRaccoon","username":"DaCuteRaccoon","description":"My name, rendered with the font texture.\n\nInspired by https://www.shadertoy.com/view/MsSfzc and https://www.shadertoy.com/view/7lVfRW","likes":0,"published":3,"flags":0,"usePreview":0,"tags":["text"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGzr","filepath":"/media/a/08b42b43ae9d3c0605da11d0eac86618ea888e62cdd9518ee8b9097488b31560.png","previewfilepath":"/media/ap/08b42b43ae9d3c0605da11d0eac86618ea888e62cdd9518ee8b9097488b31560.png","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// original 0.25\n#define margin 0.1\nconst float marginL = margin;\nconst float marginR = 1.0 - marginL;\n\n\nconst int[] string = int[](68, 97, 67, 117, 116, 101, 82, 97, 99, 99, 111, 111, 110); // ascii-code\n\nvec4 text(vec2 pixelpos, vec2 start, vec2 end)\n{\n    pixelpos = (pixelpos - start) / (end - start);\n    pixelpos.x *= float(string.length());\n\n    float alias = length(fwidth(pixelpos)) * 0.5; // (I don't understand this line)\n    ivec2 tile = ivec2(floor(pixelpos));\n    vec2 local = fract(pixelpos);\n    local.x = (local.x * 0.5 + 0.25); // skip gaps between chars\n    local.y = (local.y * 0.75 + 0.125); // skip gaps between chars\n    vec3 color = vec3(0);\n    float opacity = 0.0;\n    if(tile.x >= 0 && tile.x <= string.length() - 1 && tile.y == 0)\n    {\n        int char = string[tile.x];\n        int column = char & 0xf;\n        int row = 15 - (char >> 4);\n        float dist = texture(iChannel0, ((vec2(column, row) + local) * 64.0) / 1024.0).w;\n        float border = 0.05; // must be a positive value\n        opacity = smoothstep(+alias,-alias, dist - 0.5 - border);\n        color += smoothstep(+alias,-alias, dist - 0.5);\n    }\n\n    return vec4(color, opacity);\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n    //vec2 uv = 2.0 * fragCoord.xy / iResolution.xy - 1.0;\n    vec2 uv = fragCoord.xy / iResolution.xy;\n\n    {\n        vec4 string = text(uv, vec2(marginL, 0.4), vec2(marginR, 0.6));\n        fragColor.rgb = mix(vec3(0, 0, 0.5), string.rgb, string.a);\n    }\n\n    fragColor.rgb = pow(fragColor.rgb, vec3(1.0 / 2.2));\n}\n","name":"Image","description":"","type":"image"}]}