{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"\n\n#define PIXELSIZE_X 15.0\n#define PIXELSIZE_Y 15.0\n#define GRIDSIZE_X 3.0\n#define GRIDSIZE_Y 3.0\n\nvec3 gridColor=vec3(0.0,0.0,0.0);\nvec3 color= vec3(0.4,0.4,0.4);\nfloat barrelPower=1.0;\nfloat gradientValue;\nfloat r,g,b;\n\nvoid DoGrid(vec2 pos){\n\tfloat moduloX= mod(pos.x,PIXELSIZE_X);\n\tfloat moduloY= mod(pos.y,PIXELSIZE_Y);\t\n\tif(moduloX<GRIDSIZE_X || moduloY<GRIDSIZE_Y){\n\t\tcolor.x=gridColor.x;\n\t\tcolor.y=gridColor.y;\n\t\tcolor.z=gridColor.z;\n\t}\n}\n\nvec2 Distort(vec2 p){\n    float theta  = atan(p.y, p.x);\n    float radius = length(p);\n    radius = pow(radius, barrelPower);\n    p.x = radius * cos(theta);\n    p.y = radius * sin(theta);\n    color.r=0.5 * (p.y + 1.0);\n    color.b=radius;    \n    return 0.5 * (p + 1.0);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n\tbarrelPower+=(sin(iTime)+cos(cos(iTime)))/2.1;\n\tvec2 normalizedUV=(fragCoord.xy/(iResolution.xy/2.0))-1.0;\n\tvec2 distortedUV=Distort(normalizedUV)*iResolution.xy;;\t\n\tDoGrid(distortedUV.xy);\t\t\n\tfragColor = vec4( color, 1.0 );\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"lslGRN","date":"1364623016","viewed":4506,"name":"Grid Barrel Distortion","username":"Q_Layer","description":"My very first public shader, its a simple demo of a barrel distortion using a grid to show the effect a little bit better. ","likes":34,"published":1,"flags":0,"usePreview":0,"tags":["2d","grid","distortion","colors","barrel","qlayer","yellow","animated"],"hasliked":0,"parentid":"","parentname":""}}