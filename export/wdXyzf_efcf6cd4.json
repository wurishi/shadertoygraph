{"ver":"0.1","info":{"id":"wdXyzf","date":"1585264172","viewed":79,"name":"Pacman [WIP]","username":"Hojaverde","description":"Just a pacman wip","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["pacman"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define tau 6.2831\n#define radius .3\n#define mouthAngle .25\n#define maxAbertureAngle 0.3\n#define frecuency  5.\n\nfloat DrawCircle(vec2 cuv, vec2 origin,float cradius,float fade)\n{\n    float circle = length(cuv-origin);\n    \n    circle = smoothstep(cradius,cradius-fade,circle);\n    \n    return circle;\n}\n\nfloat DrawPacman(vec2 uv)\n{\n    \n    float circle = DrawCircle(uv,vec2(0.,0.),radius,0.006);\n    \n    float angle = atan(uv.x,uv.y)/tau + 0.5;\n    \n    float abertureAngle = abs(sin(iTime*frecuency))*maxAbertureAngle;\n    \n    float mouth1 = smoothstep(1.-mouthAngle-abertureAngle*.5-.005,1.-mouthAngle-abertureAngle*.5,angle);\n    float mouth2 = smoothstep(1.-mouthAngle+abertureAngle*.5-.005,1.-mouthAngle+abertureAngle*.5, angle);\n    \n    float mouth = mouth1-mouth2;\n    \n    float eye = DrawCircle(uv,vec2(-.1,0.1),0.04,0.008);\n    float pacman =circle*(1.-mouth) * (1.-eye);\n    \n    return pacman;\n}\n\nfloat DrawFood(vec2 uv)\n{\n    float factor = 6.;\n    \n    float hmask = uv.x+.5;\n    hmask = step(.5,hmask);\n    \n    float vmask = clamp(1.-abs(uv.y*2.),.0,1.);\n    \n    vmask = step(1.-1./factor, vmask);\n    \n    uv.x+=iTime;\n    uv.y+=0.25;\n    uv = fract(uv*factor)-0.5;\n    float food = DrawCircle(uv,vec2(0.,0.),.3,0.05);\n    \n    food = food*hmask*vmask;\n    \n    return food;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = (fragCoord-.5*vec2(0,iResolution.y))/iResolution.y;\n\n    uv.x -= fract(iTime/2.5)*2.5 - radius;\n\n    \n    float pacman = DrawPacman(uv);\n    \n    float food = DrawFood(uv);\n    \n    food*=(1.-pacman);\n\t    \n    fragColor = vec4(food+pacman,pacman+food,food,0.);\n}\n\n","name":"Image","description":"","type":"image"}]}