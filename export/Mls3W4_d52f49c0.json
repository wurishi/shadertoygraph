{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[{"channel":0,"type":"texture","id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"}}],"code":"// digorydoo points out puddles are a reflection so may look better \"upside\" down\n#define FLIP_Y_AXIS // comment out for upside down image\n\n#define NUM_DRIPS 50\n\nfloat Random( vec2 p )\n{\n//    return fract(cos(mod(12345678.,256.*dot(p,vec2(3.1415962,2.6651441426902)))));\n return fract(cos(dot(p,vec2(23.140692632779269,2.6651441426902251))) * 123456.);\n}\n\nvec2 dripPos (float fTime, out float fAge, vec2 p)\n{\n    float t = floor (fTime*0.1);\n    fAge = fTime*0.1 - t;\n    return vec2(Random(vec2(t+p)));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 vRel = fragCoord.xy / iResolution.xy;\n\n    float t = iTime;\n    float fStep = 123.456;\n    float fHeight = 0.0;\n    \n    for (int i = 0; i < NUM_DRIPS; i++)\n    {\n        float fAge;\n        vec2 vRnd = dripPos (t, fAge, vRel);\n\n        vec2 vD = vec2 (vRel - vRnd);\n        float fD = sqrt (dot (vD, vD));\n        float fDa = 10.0 * (fD - fAge + 0.6);\n\n        fHeight += (1.0 - fAge) \n            * max (0.0, 1.0 - (fDa*fDa))\n            * sin (fD*150.0 - fAge*80.0);\n        \n        t += fStep;\n    }\n\n//    vRel.y -= sign (fHeight) * fHeight*fHeight; // Original\n//    vRel.y -= fHeight*fHeight; // Tweaked\n    vRel.y -= fHeight; // Tweaked -- bigger spread\n#ifdef FLIP_Y_AXIS\n    vRel.y = 1. - vRel.y; // Bugfix Flip Y Texture\n#endif\n    vec4 vTex = texture (iChannel0, vRel);\n\n    if (fHeight < 0.0)\n    {\n        float p = -fHeight*0.8;\n        float q = 1.0 - p;\n        vTex.b = p + q*vTex.b;\n        p = -fHeight*0.3;\n        q = 1.0 - p;\n        vTex.g = p + q*vTex.g;\n    }\n    \n    fragColor = vTex; \n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"Mls3W4","date":"1422185686","viewed":483,"name":"It's raining even harder","username":"MichaelPohoreski","description":"Modified: \"It's raining again\" by digorydoo\nhttps://www.shadertoy.com/view/4tl3WN\n\nFlipped image so right side up","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["2d","fake","water","vfx","rain","drip"],"hasliked":0,"parentid":"","parentname":""}}