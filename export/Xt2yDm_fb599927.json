{"ver":"0.1","info":{"id":"Xt2yDm","date":"1508846035","viewed":86,"name":"Simple audio inspector - 3 bands","username":"williammanco","description":"audio glsl stream","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["audio","inspector"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XsXGzn","filepath":"/media/a/29de534ed5e4a6a224d2dfffab240f2e19a9d95f5e39de8898e850efdb2a99de.mp3","previewfilepath":"/media/ap/29de534ed5e4a6a224d2dfffab240f2e19a9d95f5e39de8898e850efdb2a99de.mp3","type":"music","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// License Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.\n// --------------------------------\t\n// twitter.com/williammanco\n// --------------------------------\n// twitter.com/nicolopierotti\n\nfloat getAmplitude(int b, int s) {\n  float band = float(b);\n  float uvStep = float(s);\n  float y = 0.0;\n  float startBand = (uvStep - 1.) * band;\n  float endBand = band * uvStep;\n  float amplitude = 0.0;\n  for (float i = startBand; i < endBand; i+=1.0) {\n    y += 1.0;\n    amplitude += texture(iChannel0, vec2(i,0.0)).x;\n  }\n  return amplitude / y;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n  vec2 uv = fragCoord.xy / iResolution.xy;\n  const float bands = 3.0;\n  \n \n  float amplitudeL = getAmplitude(3, 1);\n  float amplitudeM = getAmplitude(3, 2);\n  float amplitudeH = getAmplitude(3, 3);\n   \n  vec3 color = vec3(0.0);\n    \n  if (uv.x < 0.35) {\n    color.rgb = vec3(amplitudeL);\n  }\n  if (uv.x > 0.33 && uv.x < 0.66) {\n    color.rgb = vec3(amplitudeM);\n  }\n  if (uv.x > 0.66) {\n    color.rgb = vec3(amplitudeH);\n  }\n\n  fragColor = vec4(color, 1.0);\n}","name":"Image","description":"","type":"image"}]}