{"ver":"0.1","info":{"id":"3tfGDs","date":"1557984068","viewed":199,"name":"Flowing Margarita","username":"tpfto","description":"An adaptation of the [url=http://www.peda.com/grafeq/gallery/margarita.html]classical GrafEq example[/url]. Thanks to Shane for inspiring a modification of my original take.","likes":6,"published":1,"flags":0,"usePreview":0,"tags":["2d"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// originally adapted from http://www.peda.com/grafeq/gallery/margarita.html\n\n#define PI 3.14159265359\n#define SCALE 60.0\n\nfloat f(float a, vec2 p)\n{\n      float cf = 2.0 - cos(0.1 * iTime);\n      float d = (length(p) - 3.5 * atan(p.y, p.x) + sin(cf * p.x) + cos(cf * p.y))/(a * PI);\n     \n      return smoothstep(0.0, 0.2, 0.5 * cos(PI * (2.0 * d - iTime)));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n        vec2 aspect = iResolution.xy / iResolution.y;\n        vec2 uv = ( fragCoord.xy / iResolution.y ) - 0.5 * aspect;\n        uv *= SCALE;\n        \n        vec3 col = mix(vec3(0.29, 0.22, 0.48), vec3(0.88, 0.03, 0.11), f(7.0, uv));\n        col = mix(vec3(0.9, 0.87, 0.63), col, f(1.0, uv));\n\n        col *= 1.0 - 0.1 * length(fragCoord/iResolution.xy - 0.5); // vignetting\n        fragColor = vec4( col, 1.0 );\n}","name":"Image","description":"","type":"image"}]}