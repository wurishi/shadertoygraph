{"ver":"0.1","info":{"id":"McSBDm","date":"1725015849","viewed":28,"name":"aurora asd","username":"goLLuMz","description":"asd","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["asd"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Simplified Aurora Shader (based on original by nimitz)\n\n#define time iTime\n\nmat2 mm2(in float a){float c = cos(a), s = sin(a);return mat2(c,s,-s,c);}\nmat2 m2 = mat2(0.95534, 0.29552, -0.29552, 0.95534);\nfloat tri(in float x){return clamp(abs(fract(x)-.5),0.01,0.49);}\nvec2 tri2(in vec2 p){return vec2(tri(p.x)+tri(p.y),tri(p.y+tri(p.x)));}\n\nfloat triNoise2d(in vec2 p, float spd)\n{\n    float z=1.8;\n    float z2=2.5;\n    float rz = 0.;\n    p *= mm2(p.x*0.06);\n    vec2 bp = p;\n    for (float i=0.; i<5.; i++ )\n    {\n        vec2 dg = tri2(bp*1.85)*.75;\n        dg *= mm2(time*spd);\n        p -= dg/z2;\n\n        bp *= 1.3;\n        z2 *= .45;\n        z *= .42;\n        p *= 1.21 + (rz-1.0)*.02;\n\n        rz += tri(p.x+tri(p.y))*z;\n        p*= -m2;\n    }\n    return clamp(1./pow(rz*29., 1.3),0.,.55);\n}\n\nfloat hash21(in vec2 n){ return fract(sin(dot(n, vec2(12.9898, 4.1414))) * 43758.5453); }\n\nvec4 aurora(vec3 ro, vec3 rd)\n{\n    vec4 col = vec4(0);\n    vec4 avgCol = vec4(0);\n\n    for(float i=0.;i<50.;i++)\n    {\n        float of = 0.006*hash21(gl_FragCoord.xy)*smoothstep(0.,15., i);\n        float pt = ((.8+pow(i,1.4)*.002)-ro.y)/(rd.y*2.+0.4);\n        pt -= of;\n        vec3 bpos = ro + pt*rd;\n        vec2 p = bpos.zx;\n        float rzt = triNoise2d(p, 0.06);\n        vec4 col2 = vec4(0,0,0, rzt);\n        col2.rgb = (sin(1.-vec3(2.15,-.5, 1.2)+i*0.043)*0.5+0.5)*rzt;\n        avgCol =  mix(avgCol, col2, .5);\n        col += avgCol*exp2(-i*0.065 - 2.5)*smoothstep(0.,5., i);\n    }\n\n    col *= (clamp(rd.y*15.+.4,0.,1.));\n\n    return col*1.8;\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n    vec2 q = fragCoord.xy / iResolution.xy;\n    vec2 p = q - 0.5;\n    p.x *= iResolution.x/iResolution.y;\n\n    vec3 ro = vec3(0,0,-6.7);\n    vec3 rd = normalize(vec3(p,1.3));\n\n    vec3 col = vec3(0.);\n    \n    // Simple dark background\n    col = vec3(0.05,0.1,0.2);\n\n    // Only render aurora if looking up\n    if (rd.y > 0.) {\n        vec4 aur = smoothstep(0.,1.5,aurora(ro,rd));\n        col = col*(1.-aur.a) + aur.rgb;\n    }\n\n    fragColor = vec4(col, 1.);\n}","name":"Image","description":"","type":"image"}]}