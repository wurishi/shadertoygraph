{"ver":"0.1","info":{"id":"XstSWS","date":"1461220123","viewed":174,"name":"Series Length","username":"loganmcbroom","description":"This is a function of complex numbers, that function being:\n||f(z)-z|| = a||z||\nwhere f(z) = Sum n = 1 to infinity of z^n\nThe color is given by a.\n","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["math","complex","iteration","series"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//||f(z)-z|| = ||f(z)|| * ||z||\n\n\n#define ITERATIONS 1000.0\n#define M_PI 3.1415926535897932384626433832795\n\nvec3 hsv2rgb( vec3 c )\n{\n    vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n    vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n    return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\nvec2 complexProduct(vec2 z, vec2 w)\n{\n    return vec2( z.x*w.x - z.y*w.y, z.x*w.y + w.x*z.y );\n}\n\nvec2 complexDivide(vec2 n, vec2 d)\n{\n    float div = d.x*d.x + d.y*d.y;\n    return vec2( (n.x*d.x + n.y*d.y) / div, (n.y*d.x - n.x*d.y) / div );\n}\n\nvec2 series( vec2 z, const float iter )\n{\n    vec2 sum = vec2(0,0);\n    vec2 c = vec2(1,0);\n \tfor( float i = 1.0; i < ITERATIONS; ++i )\n    {\t\n        c = complexProduct(c,z);\n        sum += c;\n        if(i >= iter) break;\n    }\n    return sum;\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float t = ITERATIONS * (sin( iTime ) + 1.0) / 2.0;\n    \n    vec2 uv = ( fragCoord / (.5*iResolution.y) ) + vec2(-1,-1);\n    \n    if (uv.x*uv.x+uv.y*uv.y > 1.0)\n    {\n        fragColor = vec4(0,0,0,0);\n    }\n    else\n    {\n    vec2 sum = series( uv, t );\n    vec3 color = vec3(\n        length( sum ),\n    \t1,\t     \n        1\t\t\t\t\t\t\t\t\t\n    );\n\tfragColor = vec4( hsv2rgb( color ), 1 );\n    }\n    \n}","name":"Image","description":"","type":"image"}]}