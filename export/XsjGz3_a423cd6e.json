{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[{"channel":0,"type":"video","id":"4df3zn","filepath":"/media/a/3405e48f74815c7baa49133bdc835142948381fbe003ad2f12f5087715731153.ogv","sampler":{"filter":"linear","wrap":"clamp","vflip":"false","srgb":"false","internal":"byte"}},{"channel":1,"type":"music","id":"4sXGzn","filepath":"/media/a/a6a1cf7a09adfed8c362492c88c30d74fb3d2f4f7ba180ba34b98556660fada1.mp3","sampler":{"filter":"linear","wrap":"clamp","vflip":"false","srgb":"false","internal":"byte"}}],"code":"vec3 COLOR1 = vec3(0.0, 0.0, 0.3);\nvec3 COLOR2 = vec3(0.5, 0.0, 0.0);\nfloat BLOCK_WIDTH = 0.01;\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n\t\n\tvec3 final_color = vec3(1.0);\n\tvec3 bg_color = vec3(0.0);\n\tvec3 wave_color = vec3(0.0);\n\t\n\tbg_color = mix(COLOR1, COLOR2, uv.x) + texture(iChannel1, vec2(uv.x/8., abs(.5 - uv.y))).rgb - .7;\n\tbg_color += texture(iChannel0, fract(uv - iMouse.xy/iResolution.xy)).r/2.;\n\t\n\tfloat wave_width;\n\tuv  = -1.0 + 2.0 * uv;\n\tuv.y += 0.1;\n\tuv.x *= 2.;\n\tconst float n = 20.;\n\tfloat prev = 0.;\n\tfloat curr = .6;\n\tfloat next = texture(iChannel1, vec2(0.,0.)).r;\n\t\n\tfor(float i = 0.0; i < n; i++) {\n\t\tprev = curr;\n\t\tcurr = next;\n\t\tnext = texture(iChannel1, vec2((i+1.)/n,0.)).r;\n\t\t\n\t\tfloat a = max(0., curr * 2. - prev - next);\n\t\t\n\t\tuv.y += (1. * cos(mod(uv.x * 2. * i / n * 10. + iTime * i, 2.*3.14)) * a * a);\n\t\tuv.x += 0.1;\n\t\t\n\t\twave_width = abs(1.0 / (200.0 * uv.y));\n\t\t\n\t\twave_color += vec3(wave_width * 1.9, wave_width, wave_width * 1.5) * 5. / n;\n\t}\n\t\n\tfinal_color = bg_color + wave_color;\n\t\n\t\n\tfragColor = vec4(final_color, 1.0);\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"XsjGz3","date":"1391691455","viewed":1168,"name":"Undulant Spectre","username":"mafik","description":"Waveform with background video. Based on https://www.shadertoy.com/view/4dsGzH.","likes":21,"published":1,"flags":0,"usePreview":0,"tags":["2d","waveform"],"hasliked":0,"parentid":"","parentname":""}}