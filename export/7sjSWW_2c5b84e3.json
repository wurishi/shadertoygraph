{"ver":"0.1","info":{"id":"7sjSWW","date":"1620285580","viewed":297,"name":"Laplacian of texture - 2","username":"FabriceNeyret2","description":"playing with the width of the Laplacian filter.\nLeft: reference   Laplacian    Right: approx with MIPmap","likes":6,"published":3,"flags":0,"usePreview":0,"tags":["bench","laplacing","hardwarederivative"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XdX3Rn","filepath":"/media/a/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg","previewfilepath":"/media/ap/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// variant of https://shadertoy.com/view/fsSSDD\n\n\n#define lapl1    ( ( Txy(-1,0)+ Txy(1,0)+ Txy(0,-1)+ Txy(0,1) ) /4. - T(U,0.) )\n#define lapl2    9./8.* ( T(U,lod) - T(U,0.) )    // approx Laplacian using MIPmap LOD difference\n                                                  // 9/8 because T(1) includes a bit of T(0) ;-)\n#define T(U,l)   texture( iChannel0, (U)*R/size, l+0. ) \n#define Txy(x,y)   T( U+vec2(x,y)/R*width, 0. )\n\nvoid mainImage( out vec4 O, vec2 u )\n{\n    vec2 R = iResolution.xy,  U = u/R;\n\nfloat size = 256.,                // scale of left texture\n      lod  = 3.*(1.+sin(iTime)),  // width of outlines\n      width = exp2(lod);\n      \n    O = .5 + ( U.x < .5 ?  lapl1 : lapl2 ) *16. / width;\n    if ( abs( fract(2.*U.x)*R.x/2. -.5 ) < .5 ) O = vec4(0,0,1,1);\n}","name":"Image","description":"","type":"image"}]}