{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"#define PI \t\t\t3.1415926\n#define N_UFO\t\t9.0\n\nmat3 m = mat3( 0.10,  0.40,  0.60,\n               0.80,  -0.76,  0.28,\n              -0.20, -0.18,  0.94 );\n\nfloat hash( float n )\n{\n    return fract(sin(n)*43758.5453);\n}\n\n\nfloat noise( in vec3 x )\n{\n    vec3 p = floor(x);\n    vec3 f = fract(x);\n\n    f = f*f*(3.0-2.0*f);\n\n    float n = p.x + p.y*57.0 + 113.0*p.z;\n\n    float res = mix(mix(mix( hash(n+  0.0), hash(n+  1.0),f.x),\n                        mix( hash(n+ 57.0), hash(n+ 58.0),f.x),f.y),\n                    mix(mix( hash(n+113.0), hash(n+114.0),f.x),\n                        mix( hash(n+170.0), hash(n+171.0),f.x),f.y),f.z);\n    return res;\n}\n\nfloat fbm(in vec3 p) {\n\tfloat f = 0.0;\n\tf += 0.50000*noise(p); p = m*p*1.98;\n\tf += 0.25000*noise(p); p = m*p*2.03;\n\tf += 0.12500*noise(p); p = m*p*2.04;\n\tf += 0.06250*noise(p);\n\treturn f/0.9375;\n}\n\n\nvec4 ufoColor() {\n\treturn vec4(0.0,0.0,1.0,1.0);\t\n}\n\nvec4 foregroundColor(in vec3 p) {\n\tfloat fact = sin(iTime);\n\treturn vec4(0.5+0.5*abs(fact),0.1+0.8*fbm(fact*p),0.1+0.8*fbm(p),1.0);\t\n}\n\nvec4 backgroundColor(in vec3 p) {\n\tfloat r = fbm(15.0*m*p);\n\tfloat g = fbm(8.0*m*m*p);\n\tfloat b = fbm(11.0*p*p);\n\t//r = g = b = 1.0;\n\treturn vec4(r,g,b,1.0);\t\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n\tvec2 p = -1.0+2.0*fragCoord.xy / iResolution.xy;\n\tp.x *= iResolution.x/iResolution.y;\n\tfloat time = iTime;\t\n\t\n\tfloat theta = sin(0.3*time);\n\tmat2 m2 = mat2(cos(theta), -sin(theta),\n               \t   sin(theta),  cos(theta));\n\tvec2 p2 = m2*(p-vec2(3.0*sin(0.4*time),3.0*pow(sin(0.41*time),0.5)));\n\tp += vec2(0.6*sin(3.192*time)*sin(time),0.5*cos(3.2*time)*cos(time));\n\tp += vec2(-0.6,-0.1);\n\tfloat r = sqrt(dot(p,p));\n\tfloat a = atan(p.x,p.y);\n\t\n\tfloat radius = (0.6+ 0.05*sin(time*3.0))*(1.0+0.2*sin(6.0*(atan(p.x,p.y)+time)));\n\tfloat bg = smoothstep(radius, radius+0.02, r);\n\tfloat fg = 1.0-bg;\n\tfloat ufos = 0.0;\n\t\n\tfloat vUfo = 1.0;\n\tfloat rUfo = 0.1;\n\tfor (float k=0.0; k<N_UFO; k++) {\n\t\tvec2 ps = (0.3*sin(time*1.0)+0.5)*radius*vec2(sin(vUfo*time+k*2.0*PI/N_UFO),cos(vUfo*time+k*2.0*PI/N_UFO));\n\t\tufos += 1.0-smoothstep(rUfo, rUfo*1.01, sqrt(dot(p-ps,p-ps)));\n\t\tfloat border = smoothstep(rUfo*1.1, rUfo*1.11, sqrt(dot(p-ps,p-ps)));\n\t\tborder *= 1.0-smoothstep(rUfo*1.11, rUfo*1.2, sqrt(dot(p-ps,p-ps)));\n\t\tufos += border;\n\t\tborder = smoothstep(rUfo*1.3, rUfo*1.33, sqrt(dot(p-ps,p-ps)));\n\t\tborder *= 1.0-smoothstep(rUfo*1.33, rUfo*1.5\n\t\t\t\t\t\t\t\t , sqrt(dot(p-ps,p-ps)));\n\t\tufos += border;\n\t}\n//\tvUfo = 2.0;\n//\trUfo = 0.01+0.04*pow(sin(time*15.0),2.0);\n//\tfloat newRad = 0.3/radius+0.1*cos(15.0*time);\n//\tfor (float k=-0.5; k<3.0*N_UFO; k++) {\n//\t\tvec2 ps = (0.3*sin(-time*1.0)+0.5)*newRad*vec2(sin(vUfo*time+k*2.0*PI/(3.0*N_UFO)),cos(vUfo*time+k*2.0*PI/(3.0*N_UFO)));\n//\t\tufos += 0.5-0.5*smoothstep(rUfo, rUfo*1.01, sqrt(dot(p-ps,p-ps)));\n//\t}\n\t\n\tvec4 col = vec4(0.0);\n\tcol += bg*backgroundColor(vec3(p2.xy,noise(vec3(sin(time)*cos(time)*(p2.x-3.0)-cos(time)*p2.y,cos(3.3*time)*p2.y+time/10.0,sin(time/2.0)*(p2.y-0.3)))));\n\t//col += bg*backgroundColor(vec3(p.xy,noise(vec3(sin(time)*p.y,cos(3.3*time)*p.x,sin(time/2.0)*p.x))));\n\tcol += (fg-ufos)*foregroundColor(vec3(p.xy/(sin(time*3.0)+1.8),0.0))*(1.0-smoothstep(radius*0.9,radius,r));\n\tcol += ufos*ufoColor();\n\t\n\tfragColor = col;\n}\n","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"ldfGR8","date":"1362182936","viewed":180,"name":"Test1","username":"brimborium","description":"just some playing around to figure out syntax and stuff","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["test"],"hasliked":0,"parentid":"","parentname":""}}