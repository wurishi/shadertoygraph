{"ver":"0.1","info":{"id":"wtdfDn","date":"1612553721","viewed":278,"name":"The End","username":"EmmaChase","description":"My take on the \"End\" shader from minecraft.","likes":9,"published":1,"flags":0,"usePreview":0,"tags":["procedural","noise"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define NOISE_CUTOFF 0.66\n#define SPEED 10.0\n\nfloat rand(vec2 n) { \n\treturn fract(sin(dot(n, vec2(12.9898, 4.1414))) * 43758.5453);\n}\n\nfloat noise(vec2 p){\n\tvec2 ip = floor(p);\n\tvec2 u = fract(p);\n\tu = u*u*(3.0-2.0*u);\n\t\n\tfloat res = mix(\n\t\tmix(rand(ip),rand(ip+vec2(1.0,0.0)),u.x),\n\t\tmix(rand(ip+vec2(0.0,1.0)),rand(ip+vec2(1.0,1.0)),u.x),u.y);\n\treturn res*res;\n}\n\nfloat samplePoint(vec2 p) {\n    float n = noise(p);\n    n *= n * n * n;\n    n = step(NOISE_CUTOFF, n);\n    \n    return n;\n}\n\nfloat layer(vec2 fragCoord, float scale) {\n    float n = 0.0;\n    \n    vec2 squared = floor((fragCoord + vec2(0, SPEED*iTime))/scale);\n    n += samplePoint(squared);\n    n += 0.5*samplePoint(squared - vec2(0., 1.));\n    n += 0.25*samplePoint(squared - vec2(0., 2.));\n    n += 0.125*samplePoint(squared - vec2(0., 3.));\n\n    return n;\n}\n\nmat2 rotate2d(float _angle){\n    return mat2(cos(_angle),-sin(_angle),\n                sin(_angle),cos(_angle));\n}\n\nvec3 decodeSRGB(vec3 screenRGB)\n{\n    vec3 a = screenRGB / 12.92;\n    vec3 b = pow((screenRGB + 0.055) / 1.055, vec3(2.4));\n    vec3 c = step(vec3(0.04045), screenRGB);\n    return mix(a, b, c);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec3 c = vec3(0.);\n    c += 1.4*layer(rotate2d(0.2)*fragCoord, 2.0) * vec3(32./255., 57./255., 99./255.);\n    c += 1.73*layer(rotate2d(-0.4)*fragCoord, 4.0) * vec3(34./255., 67./255., 75./255.);\n    c += 1.87*layer(rotate2d(1.5)*fragCoord, 6.0) * vec3(37./255., 72./255., 72./255.);\n    c += 2.*layer(rotate2d(-0.8)*fragCoord, 10.0) * vec3(41./255., 74./255., 61./255.);\n\n    fragColor = vec4(decodeSRGB(c),1.0);\n}","name":"Image","description":"","type":"image"}]}