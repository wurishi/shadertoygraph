{"ver":"0.1","info":{"id":"DtyyRd","date":"1700605932","viewed":45,"name":"Rain shader","username":"FrederikJA","description":"A shader of rain hitting the ground, inspired by https://www.shadertoy.com/view/ldfyzl","likes":0,"published":1,"flags":0,"usePreview":1,"tags":["rain"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XdX3Rn","filepath":"/media/a/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg","previewfilepath":"/media/ap/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.14159265359\n\nfloat random(float seed)\n{\n    return fract(sin(seed)*43758.5453);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float sTime = iTime * 30.0;\n    vec2 coord = fragCoord;\n    \n    \n    for (int i = 0; i < 50; i++) {\n        float seed = float(i);\n        float localTime = sTime - random(seed * 5.0) * 50.0;\n        localTime = mod(localTime, 50.0);\n        vec2 dropletCenter = iResolution.xy * vec2(random(seed * 2.0), random(seed * 3.0));\n        \n        vec2 distVec = abs(coord - dropletCenter);\n        float dist = length(distVec);\n        float waveTime = dist - localTime;\n        float wave = sin(waveTime);\n        float waveOnOff = smoothstep(localTime - PI*8.0, localTime - PI*4.0, waveTime) * step(waveTime, localTime) / localTime;\n        coord += waveOnOff * wave * 50.0;\n    }\n    \n    vec2 uv = coord / iResolution.xy;\n\n    fragColor = texture(iChannel0, uv);\n    //fragColor = vec4(0.0, sin(length(distVec) * 10.0), 0.0, 1.0);\n    //fragColor = vec4(uv, 0.0, 1.0);\n}","name":"Image","description":"","type":"image"}]}