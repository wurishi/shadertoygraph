{"ver":"0.1","info":{"id":"4sdGzr","date":"1447778370","viewed":371,"name":"Test Plane Helix","username":"Orace","description":"http://www.pouet.net/topic.php?which=4161&page=245","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["test"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[],"code":"const float BLADE       = 5.0;\nconst float BLADE_RADIUS  = 0.5;\nconst float SCAN_SPEED  = 4.5;\nconst float SCAN_LINE   = 1.0;\n\n\nconst float TAU         = 6.2831853;\nconst vec2 CENTER       = vec2(0.5,0.5);\nconst vec4 BLACK        = vec4(0.0,0.0,0.0,1.0);\nconst vec4 BLUE         = vec4(0.0,0.0,1.0,1.0);\n\nbool bladeBorder(vec2 uv, float r, inout vec4 fragColor)\n{\n    float cur_radius = length(uv)/BLADE_RADIUS;\n    if (cur_radius < r)\n    {\n        if (length(cur_radius - r) < 0.04)\n        {\n            fragColor = vec4(0.2,0.6,.4,1.0);\n        }\n        return true;\n    }\n    return false;\n}\n\nbool bladeColor(vec2 uv, float r, inout vec4 fragColor)\n{\n    float cur_radius = length(uv)/BLADE_RADIUS;\n    if (cur_radius < r)\n    {\n        if (length(cur_radius - r) < 0.04)\n        {\n            fragColor = vec4(0.2,0.6,.4,1.0);\n        }\n        else\n        {\n\t\t\tfragColor = vec4(1.0,0.0,0.0,1.0);\n        }\n        return true;\n    }\n    return false;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = vec2(0.0,0.0);\n    vec2 center =  iResolution.xy/2.0;\n    \n    float m = min(iResolution.x, iResolution.y);\n    uv = (fragCoord-center)/m;\n    \n    float time = iTime/4.0;    \n    \n    float t = atan(uv.y, uv.x);\n    \n    float dt1 = uv.y;    \n    float dt2 = mod(time, TAU*BLADE);\n    \n    float t1 = (t + dt1) * BLADE;\n    float t2 = (t + dt2) * BLADE;\n    \n    float dl = mod(t1 - t2, TAU);\n    float dl2 = mod(t1 - t2, 2.0 * TAU);\n    \n    if (length(dl)*iResolution.y < 2.0)\n    {\n        fragColor = BLUE;\n    }\n    else\n    {       \n        float r1 = cos(t1);\n        float r2 = cos(t2);\n        \n        if (dl >= dl2)\n        {\n            \n            if (!bladeColor(uv, r1, fragColor))\n            if (!bladeBorder(uv, r2, fragColor))\n                fragColor = BLACK;\n        }\n        else\n        {\n            \n            if (!bladeColor(uv, r2, fragColor))\n            if (!bladeBorder(uv, r1, fragColor))\n                fragColor = BLACK;\n        }\n    }\n}","name":"","description":"","type":"image"}]}