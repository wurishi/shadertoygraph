{"ver":"0.1","info":{"id":"lcBXWW","date":"1706313896","viewed":165,"name":"pixel sandbox","username":"tague","description":"click and drag to draw. hold shift to erase.\n\nfor fun, go to Buffer A and change iChannel0's Wrap mode to Repeat. :)","likes":4,"published":3,"flags":48,"usePreview":0,"tags":["simulation","fun","sandbox","physics","pixels"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"nearest","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n\n    // Output to screen\n    fragColor = texture(iChannel0, uv);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"Xsf3zn","filepath":"/media/a/f735bee5b64ef98879dc618b016ecf7939a5756040c2cde21ccb15e69a6e1cfb.png","previewfilepath":"/media/ap/f735bee5b64ef98879dc618b016ecf7939a5756040c2cde21ccb15e69a6e1cfb.png","type":"texture","channel":1,"sampler":{"filter":"linear","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGRr","filepath":"/presets/tex00.jpg","previewfilepath":"/presets/tex00.jpg","type":"keyboard","channel":2,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"nearest","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"vec3 hsv2rgb(vec3 c)\n{\n    vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n    vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n    return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    vec2 uvAbove = (fragCoord+vec2(0,1))/iResolution.xy;\n    vec2 uvBelow = (fragCoord+vec2(0,-1))/iResolution.xy;\n\n    if (length((iMouse.xy/iResolution.xy)-uv) < 0.02 && sign(iMouse.z) == 1.0f) {\n        bool unclick = texelFetch(iChannel2, ivec2(16,0), 0).x > 0.0f;\n        float rand = texture(iChannel1, vec2(iTime*0.003f, iTime * 2.3f * 0.003f)).r;\n        fragColor = unclick ? vec4(0, 0, 0, 0) : vec4(hsv2rgb(vec3(rand, 1.0f, 1.0f)), 1.0f);\n    } else {\n        vec4 color = texture(iChannel0, uv);\n        vec4 colorAbove = texture(iChannel0, uvAbove);\n        vec4 colorBelow = texture(iChannel0, uvBelow);\n        \n        if (color.a > 0.1f && (colorBelow.a < 0.1f))\n            color = vec4(0, 0, 0, 0);\n        else if (colorAbove.a > 0.1f && color.a < 0.1f)\n            color = colorAbove;\n        \n        fragColor = color;\n    }\n}","name":"Buffer A","description":"","type":"buffer"}]}