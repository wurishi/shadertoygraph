{"ver":"0.1","info":{"id":"sslXRs","date":"1619099369","viewed":106,"name":"PolarTrip","username":"ZiMMaBuE","description":".","likes":6,"published":1,"flags":0,"usePreview":0,"tags":["loop","trip"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGzn","filepath":"/media/a/0c7bf5fe9462d5bffbd11126e82908e39be3ce56220d900f633d58fb432e56f5.png","previewfilepath":"/media/ap/0c7bf5fe9462d5bffbd11126e82908e39be3ce56220d900f633d58fb432e56f5.png","type":"texture","channel":0,"sampler":{"filter":"nearest","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const float PI = 3.14159;\n\nfloat cellnoise(vec2 p) // poor and bad, but i don't care\n{\n\tp = floor(p);\n\treturn texture(iChannel0, p / 256.0).x;\n}\n\nvec3 hueGradient(float t) {\n  vec3 p = abs(fract(t + vec3(1.0, 2.0 / 3.0, 1.0 / 3.0)) * 6.0 - 3.0);\n\treturn (clamp(p - 1.0, 0.0, 1.0));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = (2.0*fragCoord-iResolution.xy)/iResolution.x;\n\n    vec2 polar = vec2(atan(uv.y, uv.x) / (2.0*PI) + 0.5, length(uv));\n    polar *= 20.0;\n\t\n    float t = iTime * 2.0;\n\tpolar.y -= t;\n\tfloat iy = floor(polar.y);\n    \n\tvec3 rc = hueGradient(cellnoise(vec2(iy)) + cos(iTime));\n\n\tfloat dir = mod(iy, 2.0)*2.0-1.0;\n\tpolar.x += dir * t;\n\n\tvec2 f = fract(polar)-.5;\n\n\tfloat l = 1.0-step(0.1, abs(f.x + abs(f.y) * -dir));\n\trc = mix(1.0-rc,rc, l);\n\t\n\tl = 1.0-step(.4, f.y);\n\tvec3 col = rc * l * smoothstep(0.0, 1.0, 1.0-abs(f.y));\n\n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}