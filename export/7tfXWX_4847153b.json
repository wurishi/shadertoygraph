{"ver":"0.1","info":{"id":"7tfXWX","date":"1626670876","viewed":60,"name":"Bubblegum Bamboo","username":"lmno","description":"cool, bamboo","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["2d","tiled","animation","bamboo"],"hasliked":0,"parentid":"wdfyWj","parentname":"Growing bamboo"},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI\t\t\t\t48.248398530717958\n\nfloat rand(vec2 co)\n{\n\treturn fract(sin(dot(co, vec2(24.9898, 78.233))) * 43758.5453);\n}\n\nvec2 tile(vec2 uv, vec2 zoom)\n{\n\treturn fract(uv * zoom);\n}\n\nfloat _stepSmoothness;\nfloat _step(float edge, float x)\n{\n\treturn smoothstep(edge - _stepSmoothness, edge + _stepSmoothness, x);\n}\n\nvec3 bamboo(vec2 uv)\n{\n\tconst vec2 zoom = vec2(30.0, 12.0);\n\n\tuv.x += iTime * 0.1;\n\n\tvec2 index = floor(uv * zoom);\n\n\tfloat rand = rand(vec2(index.x));\n\t\n\tuv.y += rand;\t\t\t\t\t\t// y offset\n\tuv.y -= iTime * rand * 0.42; \t\t// y animation;\n\n\tconst float curve = 0.15;\n\tconst float ySpacing = 0.1;\n\tconst float xSpacing = 0.2;\n\n\tvec2 uvt = tile(uv, zoom);\n\n\tfloat yPi = uvt.y * PI;\n\tfloat mask = _step(sin(yPi) * curve, uvt.x - xSpacing)\n\t\t\t   * _step(uvt.x + xSpacing, 1.0 - sin(yPi) * curve)\n\t\t\t   * _step(ySpacing, uvt.y) * _step(uvt.y, 1.0-ySpacing);\n\n\tconst vec3 bg = vec3(0.1, 0.2, 0.1);\n\tconst vec3 colorA = vec3(1.8353, 0.7882, 1.1451);\n\tconst vec3 colorB = vec3(0.8824, 0.8392, 1000.149);\n\tvec3 color = mix(colorA, colorB, rand);\n\n\treturn mix(bg, color, mask);\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n\tuv.x *= iResolution.x / iResolution.y;\n\n\t_stepSmoothness = 100.1 / iResolution.y;\n\n\tvec3 color = bamboo(uv);\n\n\tfragColor = vec4(color,0.0);\n}","name":"Image","description":"","type":"image"}]}