{"ver":"0.1","info":{"id":"XddSzS","date":"1459995726","viewed":229,"name":"simple simple sdf","username":"tiansijie","description":"simple simple sdf","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["sdf"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float circleDist(vec2 p, float radius)\n{\n\treturn length(p) - radius;\n}\n\nvec2 translate(vec2 p, vec2 t)\n{\n\treturn p - t;\n}\n\n\nfloat fillMask(float dist)\n{\n\treturn clamp(-dist, 0.0, 1.0);\n}\n\nfloat merge(float d1, float d2)\n{\n\treturn min(d1, d2);\n}\n\n\nfloat innerBorderMask(float dist, float width)\n{\n\t//dist += 1.0;\n\tfloat alpha1 = clamp(dist + width, 0.0, 1.0);\n\tfloat alpha2 = clamp(dist, 0.0, 1.0);\n\treturn alpha1 - alpha2;\n}\n\n\nfloat sceneDist(vec2 p)\n{\n    float radius = 50.0;\n    vec2 pos = vec2(350.0, 250.0);\n    float c = circleDist(translate(p, pos), radius);\n    vec2 pos2 = vec2(150.0, 150.0);\n    float c2 = circleDist(translate(p, pos2), radius);\n    vec2 pos3 = vec2(450.0, 150.0);\n    float c3 = circleDist(translate(p, pos3), radius);\n\t\n    float res = merge(c, c2);\n    res = merge(res, c3);\n    \n    return res;\n}\n\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n\n    vec2 p = fragCoord.xy + vec2(0.5);\n\tvec2 c = iResolution.xy / 2.0;\n    \n    float dist = sceneDist(p);\n\tvec4 col = vec4(0.5, 0.5, 0.5, 1.0);// * (1.0 - length(c - p)/iResolution.x);\n    col = mix(col, vec4(1.0, 0.4, 0.0, 1.0), fillMask(dist));\n    col = mix(col, vec4(0.1, 0.1, 0.1, 1.0), innerBorderMask(dist, 1.5));\n    fragColor = clamp(col, 0.0, 1.0);\n    \n}","name":"Image","description":"","type":"image"}]}