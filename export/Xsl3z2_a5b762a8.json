{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"#define StepSize 0.3\n#define LineCount 10\n\n//Function to draw a line, taken from the watch shader\nfloat line(vec2 p, vec2 a, vec2 b, float thickness )\n{\n\tvec2 pa = p - a;\n\tvec2 ba = b - a;\n\tfloat h = clamp(dot(pa, ba) / dot(ba, ba), 0.0, 1.0);\n\treturn 1.0 - smoothstep(thickness * 0.8, thickness * 1.2, length(pa - ba * h));\n}\t\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = (fragCoord.xy / iResolution.xy) * 2.0 - 1.0;\n\n\t// convert the input coordinates by a cosinus\n\t// warpMultiplier is the frequency\n\tfloat warpMultiplier = (3.0 + 2.5 * sin(iTime * 0.15));\n\tvec2 warped = sin(uv * 6.28318530718 * warpMultiplier);\n\n\t// blend between the warpeffect and no effect\n\t// don't go all the way to the warp effect\n\tfloat warpornot = smoothstep(-0.5, 1.3, -sin(iTime * 0.23));\n\tuv = mix(uv, warped, warpornot);\n\n\t// Variate the thickness of the lines\n\tfloat thickness = pow(4.0 - 2.5 * cos(iTime * 0.067), 2.0) / iResolution.x;\n\tthickness *= 1.0 + (warpMultiplier * warpornot);\n\tfloat gt = floor(iTime * 15.0) * StepSize;\n\n\t// Add 10 lines to the pixel\n\tvec4 color = vec4(0.0, 0.0, 0.0, 1.0);\n\tfor (int i = 0; i < LineCount; i++)\n\t{\n\t\tgt += StepSize;\n\n\t\t//Calculate the next two points\n\t\tvec2 point1 = vec2(sin(gt * 0.39), cos(gt * 0.63));\n\t\tvec2 point2 = vec2(cos(gt * 0.69), sin(gt * 0.29));\n\n\t\t// Fade older lines\n\t\tcolor.rgb = 0.95 * color.rgb;\n\n\t\t// Add new line\n\t\tcolor.rgb += line(\tuv,\n\t\t\t\t\t\t\tpoint1, point2,\n\t\t\t\t\t\t\tthickness\t\t)\n\t\t\t\t\t//With color\n\t\t\t\t\t* ( 0.3 +\n\t\t\t\t\t\t0.3 * vec3(\tsin(gt * 3.13),\n\t\t\t\t\t\t\t\t\tsin(gt * 1.69),\n\t\t\t\t\t\t\t\t\tsin(gt * 2.67)));\n\t}\n\n\t// Clamp oversaturation\n\tfragColor = clamp(color, 0.0, 1.0);\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"Xsl3z2","date":"1374685407","viewed":3110,"name":"Dancing lines","username":"Andre","description":"I'm new at this, but i tought i'd make a variation of the line graphics i used to make 20 years ago. The line effect was used a lot in the 80'ties like in the game QIX and also between tv commercials in the Netherlands.","likes":35,"published":1,"flags":0,"usePreview":0,"tags":["retro","lines","kaleidoscope","qix"],"hasliked":0,"parentid":"","parentname":""}}