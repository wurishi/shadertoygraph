{"ver":"0.1","info":{"id":"lcGyRm","date":"1732167168","viewed":37,"name":"CS 44N - Terrain","username":"david_li","description":"use perlin noise to generate basic islands","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["noise"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec3 blue = vec3(65,105,225) / 255.0;\nvec3 darkBlue = vec3(65,80,225) / 255.0;\nvec3 green = vec3(34,139,34) / 255.0;\nvec3 beach = vec3(238, 214, 175) / 255.0;\nvec3 snow = vec3(255, 250, 250) / 255.0;\nvec3 mountain = vec3(139, 137, 137) / 255.0;\n\nfloat random(in vec2 st) {\n    return fract(sin(dot(st.xy, vec2(5., 60.2))) * 15.);\n}\n\n//noise function modeled from Inigo Quilez\nfloat noise(in vec2 st) {\n    vec2 i = floor(st);\n    vec2 f = fract(st);\n    vec2 u = f * f * f * f * (3.0 - 2.0 * f);\n    return mix(mix(random(i + vec2(0., 0.)), random(i + vec2(1., 0.)), u.x),\n               mix(random(i + vec2(0., 1.)), random(i + vec2(1., 1.)), u.x), u.y);\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    vec2 p = fragCoord.xy / iResolution.xy;\n    p = p * 2.0 - 1.0; // Center coordinates at (0, 0)\n    float distanceFromCenter = length(p);\n\n    float f = 0.0;\n    vec2 uv = fragCoord.xy / iResolution.xy * vec2(iResolution.x / iResolution.y, 1.0);\n    uv *= 8.0;\n    mat2 m = mat2(1.6, 1.2, -1.2, 1.6);\n    f  = 0.5000 * noise(uv); uv = m * uv;\n    f += 0.2500 * noise(uv); uv = m * uv;\n    f += 0.1250 * noise(uv); uv = m * uv;\n    f += 0.0625 * noise(uv); uv = m * uv;\n\n    f *= smoothstep(6., 0.0, distanceFromCenter); \n\n    vec3 color;\n    if (f < 0.25) {\n        color = darkBlue;  // Deep ocean\n    } else if(f < 0.4){\n        color = blue;      // Ocean\n    } else if (f < 0.48) {\n        color = beach;     // Beach\n    } else if (f < 0.7) {\n        color = green;     // Forest\n    } else if (f < 0.75) {\n        color = mountain;  // Mountain\n    } else {\n        color = snow;      // Snow cap\n    }\n\n    fragColor = vec4(color, 1.0);\n}\n","name":"Image","description":"","type":"image"}]}