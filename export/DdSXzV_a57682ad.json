{"ver":"0.1","info":{"id":"DdSXzV","date":"1670672818","viewed":87,"name":"all circles all the time","username":"HaleyHalcyon","description":"a","likes":7,"published":1,"flags":0,"usePreview":0,"tags":["a"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define TURN 6.283185\n#define HEX(x) vec3((ivec3(x) >> ivec3(16, 8, 0)) & 255) / 255.\n\nfloat smootherstep(float low, float high, float t) {\n    t = (t - low) / (high - low);\n    t = clamp(t, 0., 1.);\n    return t * t * t * (t * (t * 6. - 15.) + 10.);\n}\n\nvec3 color(float x, float smoothing) {\n    float factor = mod(floor(x * 16.) / 16., 4.0);\n    float f0 = smootherstep(0., 0. + smoothing, factor);\n    float f1 = smootherstep(1., 1. + smoothing, factor);\n    float f2 = smootherstep(2., 2. + smoothing, factor);\n    float f3 = smootherstep(3., 3. + smoothing, factor);\n    return (\n        HEX(0x009BE8) * (f0 - f1) +\n        HEX(0xEB0072) * (f1 - f2) +\n        HEX(0xfff100) * (f2 - f3) +\n        HEX(0x010a31) * (f3 - f0 + 1.)\n    );\n}\n\nfloat parity(vec2 uv) {\n     return 0.375 * mod(floor(uv.x) + floor(uv.y), 2.);\n}\n\nfloat spiral(vec2 rt, float t) {\n    return (rt.x * 10. + t) * 4.;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float t = fract(iTime / 1.25);\n    \n    // why is this not a const\n    float scale = iResolution.x;\n    vec2 uv = (2. * fragCoord - iResolution.xy) / scale;\n    uv *= 4.;\n   \n    vec2 uvTile0 = fract(uv + 0.5) - 0.5;\n    vec2 uvTile1 = fract(uv) - 0.5;\n    \n    vec2 rt0 = vec2(length(uvTile0), atan(uvTile0.y, uvTile0.x) / TURN);\n    vec2 rt1 = vec2(length(uvTile1), atan(uvTile1.y, uvTile1.x) / TURN);\n    \n    float sm00th = max(fwidth(rt0.x), fwidth(rt1.x)) * 0.75;\n    \n    float layer = smoothstep(-sm00th, sm00th, rt0.x - 0.5);\n    \n    vec3 col0 = color(\n        spiral(rt0, t + parity(uv + .5)), sm00th * 48.\n    );\n    \n    vec3 col1 = color(\n        spiral(rt1, -t + 0.25 + parity(uv)), sm00th * 48.\n    );\n    \n\n    // Output to screen\n    fragColor = vec4(\n        mix(col0, col1, layer),\n        1.0\n    );\n}","name":"Image","description":"","type":"image"}]}