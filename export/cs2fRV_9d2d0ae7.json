{"ver":"0.1","info":{"id":"cs2fRV","date":"1689897091","viewed":55,"name":"temporal bandpass 4","username":"khlorghaal","description":"  _\n","likes":1,"published":1,"flags":32,"usePreview":0,"tags":["complex","strobe","buffer"],"hasliked":0,"parentid":"DsjfzD","parentname":"temporal bandpass"},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float sum(vec2 v){ return v.x+v.y; }\n\nvoid mainImage( out vec4 c, in vec2 fc ){\n\tvec2 uv = fc/iResolution.xy;\n    \n\tvec4 tx= texture(iChannel0, uv);\n    float f= sum(tx);\n    c= vec4(vec3(f),1.);\n    c= sqrt(c*2.+ETA)*1.5;\n    //fragColor= vec4(0.,abs(tx.xy),1.);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"//MIT License\n//author @khlorghaal\n//attribution appreciated\n\nconst float sharp= .00;\nconst float mag= 1.9;\n\nvoid mainImage( out vec4 color, in vec2 fcf ){\n    ivec2 fc= ivec2(fcf);\n    \n    vec4  B=  texelFetch(iChannel0,fc ,0);\n    vec4  T0= texelFetch(iChannel1,fc,0);\n         \n    vec4 F= //uhh idk about this\n        +vec4( 1,-1, 1,-1)*.6\n        +vec4( 1,-1,-1, 1)*.4\n        ;\n    vec4 o= T0 * F;\n    //o/= max(ETA,T0.x);\n    \n    o= mix( o,B, .420);//smoothing\n    \n    color= o;\n}","name":"Buffer A","description":"","type":"buffer"},{"inputs":[],"outputs":[],"code":"#define count(N) for(int i=0;i!=N;i++)\nfloat lum(vec3 c){ return dot(c,vec3(.3,.45,.25)); }\nfloat sum ( vec4 v){ return dot(v,vec4(1));}\nfloat maxv( vec4 a){ return max(a.w,max(a.z,max(a.x,a.y)));}\nfloat minv( vec4 a){ return min(a.w,min(a.z,min(a.x,a.y)));}\nfloat maxv( vec3 a){ return         max(a.z,max(a.x,a.y));}\nfloat minv( vec3 a){ return         min(a.z,min(a.x,a.y));}\nconst float TAU= 6.283185;\nconst float ETA= 1.e-8;\n#define len length\n#define lerp mix","name":"Common","description":"","type":"common"},{"inputs":[{"id":"4sX3Rn","filepath":"/media/a/c3a071ecf273428bc72fc72b2dd972671de8da420a2d4f917b75d20e1c24b34c.ogv","previewfilepath":"/media/ap/c3a071ecf273428bc72fc72b2dd972671de8da420a2d4f917b75d20e1c24b34c.ogv","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"XsXGR8","channel":0}],"code":"//hacky, replace when not shadertoy\n\nfloat m(vec3 c){\n    return (maxv(c))+(1.-minv(c));\n}\n\nvoid mainImage( out vec4 o, in vec2 f ){\nvec3 c = texelFetch(iChannel0,ivec2(f),0).rgb;\nvec4 t = texelFetch(iChannel1,ivec2(f),0);\no= vec4(m(c),t.xyz);}\n\n//push scalar onto vector left/x, discarding right/w\n//should use a scalar-texture array instead\n\n//swapchain limited to length 4 because\n//i dont want to fuck with invocation ordering under this hack","name":"Buffer B","description":"","type":"buffer"}]}