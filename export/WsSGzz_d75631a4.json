{"ver":"0.1","info":{"id":"WsSGzz","date":"1548204098","viewed":202,"name":"Morphing hearts","username":"Saturos","description":"Just messing around with complex functions","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["math","complex","transform","hyperbolic","domaincoloring"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define cplx vec2\n\nconst float PI = 3.1415926535897932384626433832795;\nconst float E  = 2.7182818284590452353602874713527;\nconst cplx c_1 = cplx(1.,0.);\nconst cplx c_i = cplx(0.,1.);\n\ncplx c_mul(cplx z, cplx w) {\n\treturn cplx(z.x*w.x-z.y*w.y, z.x*w.y+z.y*w.x);\n}\ncplx c_div(cplx z, cplx w) {\n    float d = w.x*w.x + w.y*w.y;\n    return cplx(z.x*w.x+z.y*w.y, z.y*w.x-z.x*w.y) / d;\n}\ncplx c_pow(cplx z, cplx w) {\n    float ln_r = log(length(z));\n    float theta = atan(z.y,z.x);\n    float rho = exp(w.x*ln_r-w.y*theta);\n    float phi = w.y*ln_r + w.x*theta;\n    return cplx(rho*cos(phi), rho*sin(phi));\n}\ncplx c_exp(cplx z) {\n    return exp(z.x) * cplx(cos(z.y),sin(z.y));\n}\ncplx c_log(cplx z) {\n    return cplx(log(length(z)), atan(z.y,z.x));\n}\ncplx c_tanh(cplx z) {\n\tcplx u = c_exp(2.0*z);\n\treturn c_div(u-c_1, u+c_1);\n}\ncplx c_atanh(cplx z) {\n\treturn 0.5*(c_log(c_1+z)-c_log(c_1-z));\n}\n\nvec3 hsv2rgb(vec3 hsv) {\n    vec4 k = vec4(1., 2./3., 1./3., 3.);\n    vec3 p = abs(fract(hsv.xxx + k.xyz)*6. - k.www);\n    return hsv.z*mix(k.xxx, clamp(p-k.xxx, 0., 1.), hsv.y);\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    float ar = iResolution.x/iResolution.y;\n    float nc = (cos(iTime)+1.)/2.;\n    float ns = (sin(iTime)+1.)/2.;\n    \n    cplx p = fragCoord/iResolution.xy;\n    cplx z = cplx((2.*p.x-1.)*ar, -2.*p.y+1.);\n    cplx m = 2.5*nc*ns*cplx(nc,ns);\n    cplx w0 = c_div(c_tanh(c_div(m,c_atanh(z))),\n                        c_atanh(c_mul(m,c_atanh(z))));\n    cplx w = c_pow(w0,w0);\n    \n    vec3 hsv = vec3(mod(length(w),nc),\n                    mod(atan(w.y,w.x),ns),\n                    .5*nc/length(w));\n    \n    fragColor = vec4(hsv2rgb(hsv)*vec3(ns,nc,ns),1.);\n}","name":"Image","description":"","type":"image"}]}