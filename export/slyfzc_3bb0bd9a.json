{"ver":"0.1","info":{"id":"slyfzc","date":"1665087734","viewed":92,"name":"DashyFox line_test","username":"DashyFox","description":"Just first shader","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["ball","electric"],"hasliked":0,"parentid":"ls3Sz4","parentname":"Neon Music Reaction"},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define wave;\n//#define pulse;\n//#define move;\n//#define mouse_pos;\n\nfloat hash(int x) { return fract(sin(float(x))*7.847); } \n\nfloat dSegment(vec2 a, vec2 b, vec2 c)\n{\n    vec2 ab = b-a;\n    vec2 ac = c-a;\n\n    float h = clamp(dot(ab, ac)/dot(ab, ab), 0., 1.);\n    vec2 point = a+ab*h;\n    return length(c-point);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec3 color = vec3(0.);\n    //color = vec3(0.005, 0.006, 0.007);\n    float N =49.0;\n    float speed = 1.7;\n    float T = iTime;\n    T += 16350.87;\n    T += 32.0 + 103.72;\n\n    \n\tvec2 uv = (fragCoord.xy*2.-iResolution.xy) / iResolution.yy \n                                                                #ifdef wave\n                                                                /(sin(T*2.*speed*0.3+T*0.79)*0.11+0.89)*1.\n                                                                #endif\n    ;\n    #ifdef move\n        uv *= sin(T)*0.7+1.5;\n        uv.x -= cos(T*0.75+T);\n        uv.y -= sin(T*2.)*0.3;\n    #endif\n    #ifdef mouse_pos\n        uv -= ((iMouse.xy*2.-iResolution.xy)/iResolution.yy);\n    #endif\n\n    for(int i=0; float(i) < N; ++i)\n    {\n        vec2 a = vec2(0.0, -0.0);\n        //a -= cos(iMouse.xy/iResolution.xy*3.14159265)*cos(uv.x*uv.y*2.);\n        vec2 b = vec2(0.0, 0.0);\n\n        vec3 lineColor = vec3(\n                0.0+abs(cos(T+float(i)/29.)),\n                0.0+abs(sin(T+float(i)/23.)), \n                0.0+abs(sin(T+float(i)/31.))\n            );\n        \n        float size = 0.35 + sin(float(i))*0.;\n        \n        b += vec2(\n        sin(float(i)/1.05+(T*float(i+1)/N*speed))*cos(uv.x*uv.y*2.5)*dot(atan(iTime),(sin(T+float(i*2))*0.13+0.75)-0.23),\n        sin(float(i)*5.0+(T)*float(i+1)/N*speed)*cos(uv.y*uv.x)*dot(atan(iTime),(sin(T)*0.07+0.95)-0.23)\n        );\n        \n        \n        \n        \n        float dist = dSegment(a, b, uv/vec2(1.357663,0.9));\n        \n        \n        dist -= atan(abs(cos(b.x)*cos(b.y))*((dist)*1.001));\n        \n        \n        color += mix(\n        lineColor, vec3(-0.003), smoothstep(-0.05, 0.42, \n            pow(\n                abs(-cos(sqrt(5.00-length(uv*2.15)-0.5))*dist/size)*\n                (atan(length(b-uv)*(length(b*7.)+0.19)))/size, 0.29 \n                #ifdef pulse\n                    *sqrt(abs(sin(T)*0.25)+0.5+0.7*(0.7-atan(1.-smoothstep(sin(T*3.0-(uv.x+sin(b.y*tan(b.x+float(i)+T)))*cos(uv.y+cos(b.x*tan(b.y+float(i)+T)))+(length(b)))*2.3-length(vec2((uv.x),(uv.y))), length(vec2((uv.x),(uv.y))), dist+(sin(T)*2.)))))+0.035\n                #endif\n                )\n            )\n        );\n    }\n   \n\tfragColor = vec4(color,1.0);\n}","name":"Image","description":"","type":"image"}]}