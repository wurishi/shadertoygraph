{"ver":"0.1","info":{"id":"4ddBRH","date":"1524064637","viewed":194,"name":"Lilac chaser","username":"fjavifabre","description":"Focusing on the black cross in the center, then a green dot appears where the pink circle dissapears\n\nExplanation: [url]https://en.wikipedia.org/wiki/Lilac_chaser[/url]","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["illusion","perception"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define AVOID_DISTORSIONS 1\n\n#define PI 3.14159265359\n\nfloat circle( vec2 p, vec2 c, float radius) \n{\n    \n    return sqrt(pow(p.x-c.x, 2.) + pow(p.y-c.y, 2.)) - radius;\n        \n}\n\nfloat line( vec2 p, vec2 a, vec2 b, float r )\n{\n    vec2 pa = p - a, ba = b - a;\n    float h = clamp( dot(pa,ba)/dot(ba,ba), 0.0, 1.0 );\n    return length( pa - ba*h ) - r;\n}\n\nvec2 getCirclePoint(vec2 c, float r, float a)\n{\n    return c + vec2(sin(a),cos(a)) * r;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n#if AVOID_DISTORSIONS\n    vec2 uv = fragCoord/iResolution.y;\n   \tuv.x += (iResolution.y - iResolution.x) \n        / max(iResolution.x,iResolution.y) ;\n#else    \n    vec2 uv = fragCoord/iResolution.xy;\n#endif    \n\n    // Select circle to dissapear\n    int cS = int(iTime*10.) % 12;\n    \n    \n\t// Circles\n    bool hitCircle = false;\n    for(int i = 0; i < 12; i++)\n    {\n        hitCircle = hitCircle || cS != i && (0. >= circle(uv, \n               getCirclePoint(vec2(.5), .45, float(i)/ 12. *2.*PI + 0.25 ), 0.07));\n    }\n    \n    float l0 = line(uv, vec2(.5, .52),vec2(.5, .48), 0.005);\n    float l1 = line(uv, vec2(.52,.5),vec2(.48,.5), 0.005);\n    \n    if(l0 <=0. || l1 <= 0.)\n        fragColor = vec4(0);\n    else if(hitCircle)\n        fragColor = vec4(.85,.59,.85,1.);\n    \n    else\n        fragColor = vec4(0.6);\n}","name":"Image","description":"","type":"image"}]}