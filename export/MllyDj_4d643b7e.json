{"ver":"0.1","info":{"id":"MllyDj","date":"1506492352","viewed":155,"name":"pulsy-spiral","username":"mds2","description":"just stare at it for a while with headphones on.  You'll love it.","likes":4,"published":1,"flags":64,"usePreview":0,"tags":["spiral","soundcloud"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sfSWl","filepath":"https://soundcloud.com/k_o_f/desert_data","previewfilepath":"https://soundcloud.com/k_o_f/desert_data","type":"musicstream","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":0}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\nfloat ramp(float minval, float maxval, float x) {\n    return clamp((x-minval) / (maxval - minval), 0.0, 1.0);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    const float speed = 1.0; // <-- change this to change speed\n\n    const float lines_per_screen = 40.0; // <-- change this to change\n    \n    float pixels_per_line = lines_per_screen / min(iResolution.x, iResolution.y);\n\t\n\n    vec2 uv = \n        (fragCoord.xy - 0.5 * iResolution.xy) / max(iResolution.x, iResolution.y);\n\n    float angleness = atan (uv.y, uv.x) / 3.141592654;\n    float rad = length(uv.xy);\n    float angle_refl =\n        abs(mod(3.0 * angleness, 2.0) - 1.0);\n    rad += 0.3 * texture(iChannel0, vec2(angle_refl, 1.0)).r/lines_per_screen;\n    \n    float lineness =\n        ramp (0.2, 0.2 + pixels_per_line,\n                    abs(mod(lines_per_screen * rad + angleness + speed * iTime,\n                            1.0) - 0.5));\n    \n\tfragColor = vec4(vec3(1.0) * lineness,1.0);\n}","name":"Image","description":"","type":"image"}]}