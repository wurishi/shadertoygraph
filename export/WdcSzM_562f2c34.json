{"ver":"0.1","info":{"id":"WdcSzM","date":"1571630829","viewed":90,"name":"natural 16 beat","username":"uynet","description":"16beat","likes":3,"published":1,"flags":8,"usePreview":0,"tags":["sound"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n\n    // Time varying pixel color\n    vec3 col = 0.5 + 0.5*cos(iTime+uv.xyx+vec3(0,2,4));\n\n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"float PI = 3.14159265;\nfloat sq(float t){\n    t = fract(t);\n\tif(t < 0.5)return 0.0;\n    return 1.0;\n}\nfloat rand(vec2 co){\n    return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\nfloat kick(float t){\n     float f = 4.0 *exp(-8.0*t) ;\n    return  sin(f*440.0*t)*exp(-3.0*t) ;\n}\nfloat bass(float t){\n    float f = 1.8;\n    float a = t-0.0;\n    if(a>0.0) return 0.0;\n\treturn sin(f*440.0*t);\n}\nfloat sqbass(float t){\n    float f = 2.6;\n    float a = t-0.0;\n    if(a>0.0) return 0.0;\n\treturn sq(f*440.0*t);\n}\n\n\nfloat hihat(float t){\n\treturn rand(vec2(t)) * exp(-12.0*t);\n}\n\nfloat hihat2(float t){\n\treturn rand(vec2(t)) * exp(-22.0*t);\n}\nfloat compresser(float i , float thr){\n    if(i > thr){\n        float d = i - thr;\n       float r = i / thr ;\n        i *= (r-d);\n    }\n     return i;\n}\nvec2 mainSound( in int samp, float time )\n{\n    float BPM = 140.0;\n    float a =BPM / 60.0;\n    float t = fract(time * a)/a;\n    float t2 =  fract(time * a-0.5)/a;\n    float t4 =  fract(time * a * 4.0)/a /4.0;\n   \n    float o = 0.0;\n    o += kick(t);\n    o += bass(t2-0.25)*0.80; \n    //o += sqbass(t2-0.25)*0.80; \n    float his = 0.0;\n    his += hihat2(t) * 0.3;\n    his += hihat(t2) * 0.5;\n    his += hihat2(t4) * 0.2;\n    his *= 0.8;\n    o += his;\n    o = compresser(o , 0.7);\n    o *= 1.0/0.7;\n    // A 440 Hz wave that attenuates quickly overt time\n    return vec2(o);\n}\n\n\n","name":"Sound","description":"","type":"sound"}]}