{"ver":"0.1","info":{"id":"4tlXWX","date":"1440172709","viewed":2154,"name":"Eyes In The Ceiling","username":"Robotic","description":"blabla","likes":8,"published":1,"flags":0,"usePreview":0,"tags":["eyes"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[],"code":"vec3 hash3( float n )\n{\n    return vec3(-0.5,-0.5,0.0)+fract(sin(vec3(n,n+1.0,n+2.0))*vec3(13.5453123,31.1459123,37.3490423));\n}\n\nvec3 noise( in float x )\n{\n    float p = floor(x);\n    float f = fract(x);\n    f = f*f*(3.0-2.0*f);\n    return mix( hash3(p+0.0), hash3(p+1.0),f);\n}\n\nvec4 rgb(in int r, in int g, in int b)\n{\n    float rf=float(r);\n    float gf=float(g);\n    float bf=float(b);\n    \n    return vec4(rf/255.0,gf/255.0,bf/255.0,0.0);\n}\n\nvoid eye(inout vec4 c,in vec2 coord,in vec2 pos, in float size,in vec2 mouse,in vec4 col1, in vec4 col2)\n{\n    vec4 e=c;\n    \n    //vec2 iris=pos+(mouse-pos)/20.0;\n    vec2 iris=pos+noise(pos.x*37.0+pos.y*123.0+float(iTime/3.0)).xy/2.0*size;\n    \n    vec2 almond=coord;\n    \n    float opening=0.5+sin(iTime)/2.;\n    \n    almond=vec2(almond.x,almond.y-sign(pos.y-almond.y)*size*0.9);\n    \n    \n    \n\n    \n    \n    coord-=(vec2(0.5,0.5)-coord)*0.6*size;\n    \n    \n    \n    \n    \n    if (length(almond-pos)<size*1.5)\n    {\n        if (length(pos-coord)<size)\n        {\n            if (length(coord-iris)>0.5*size)\n                e=rgb(255,251,237);\n            else\n            {\n                if (length(coord-iris)>0.25*size)\n                {\n                    e=mix(col1,col2,(coord.y-iris.y)/size);\n                    if (length(coord-iris)>0.3*size\n                        && length(coord-iris)<0.45*size)\n                    {\n                        vec2 rad=coord-iris;\n                        if (mod(floor(atan(rad.y,rad.x)*8.0),2.0)==0.0)\n                        e=e*0.9;\n                    }\n                    \n                }\n                else\n                    e=rgb(44,68,71);\n            }\n        \n        if (length(coord-(pos+vec2(0.5,0.2)*size))<0.1*size)\n            e=vec4(1.0);\n    \t}\n        else\n        {\n            e=rgb(133,91,75);\n        }\n        \n        \n        if (length(almond-pos)>size*1.4 && almond.y>=pos.y)\n        {\n            e=e*0.9;\n        }\n        \n    }\n    \n    \n\n    \n    c=e;\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    uv =vec2(uv.x,uv.y*(iResolution.y/iResolution.x));\n    \n    vec4 c=mix(rgb(226,210,145),rgb(244,138,96),fragCoord.y/iResolution.y/2.0);\n    vec2 mouse=iMouse.xy / iResolution.xy;\n    mouse=vec2(mouse.x,mouse.y*(iResolution.y/iResolution.x));\n    \n    //c=vec4(mouse.x,mouse.y,0.,0.);\n    \n    eye(c,uv,vec2(0.5,0.4),0.1,mouse,rgb(145,210,218),rgb(84,133,139));\n    eye(c,uv,vec2(0.75,0.3),0.06,mouse,rgb(255,152,184),rgb(255,120,234));\n    eye(c,uv,vec2(0.15,0.1),0.06,mouse,rgb(255,152,184),rgb(255,120,234));\n    eye(c,uv,vec2(0.4,0.2),0.12,mouse,rgb(192,228,80),rgb(98,193,51));\n    \n\tfragColor = c;\n}","name":"Image","description":"","type":"image"}]}