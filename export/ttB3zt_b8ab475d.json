{"ver":"0.1","info":{"id":"ttB3zt","date":"1560696750","viewed":120,"name":"Texture julia","username":"matistjati","description":"A julia set colored by indexing a texture","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["julia","texture"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGRn","filepath":"/media/a/10eb4fe0ac8a7dc348a2cc282ca5df1759ab8bf680117e4047728100969e7b43.jpg","previewfilepath":"/media/ap/10eb4fe0ac8a7dc348a2cc282ca5df1759ab8bf680117e4047728100969e7b43.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XdX3Rn","filepath":"/media/a/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg","previewfilepath":"/media/ap/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec3 mandelbrot(vec2 pos, vec2 b)\n{\n    vec2 z = pos;\n    vec2 trap = vec2(100.,100.);\n    const float maxIter = 1024.;\n    const float escapeRadius = 4.;\n    float iP;\n    for (float i = 0.;i < maxIter; i++) \n    {\n        if (z.x * z.x + z.y * z.y > escapeRadius) break;\n        float xtemp = z.x * z.x - z.y * z.y;\n        z.y = 2. * z.x * z.y  + b.y;\n        z.x = xtemp + b.x;\n        trap = min(trap, z);\n        iP++;\n     }\n    \n    iP /= maxIter;\n    //return vec3(iP*z.x, iP*length(z), iP*z.y);\n    return mix(texture( iChannel0, z/escapeRadius, 0.0).xyz, texture( iChannel1, z/escapeRadius, 0.0).xyz, 0.5);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = (fragCoord)/iResolution.xy * 2. - 1.;\n\tuv.x *= iResolution.x/iResolution.y;\n    // Time varying pixel color\n    vec3 col;\n    if (iMouse.x==0.&&iMouse.y==0.)\n    {\n    \tcol = mandelbrot(uv, vec2(cos(iTime*0.25)*sin(iTime*0.125), sin(iTime*0.25)));\n    }\n    else\n    {\n    \tcol = mandelbrot(uv, iMouse.xy/iResolution.xy*2.-1.); \n    }\n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}