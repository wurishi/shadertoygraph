{"ver":"0.1","info":{"id":"ms3XW7","date":"1679915978","viewed":75,"name":"Circle test 3","username":"vjancik","description":"Comparing circle rendering methods","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["circle"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{ \n    float minDim = min(iResolution.x, iResolution.y);\n    vec2 winCoord = fragCoord * vec2(1., -1.) + vec2(0., iResolution.y);\n    //center origin point\n\tvec2 uv = (winCoord - floor(.5 * iResolution.xy)) / minDim;\n    // for portrait mode-r's like me\n    if (iResolution.y > iResolution.x) uv = uv.yx;\n    \n    float d;\n    float r = 0.2;\n    float thick =  10.;\n    float onepix = 1. / minDim;\n    float twopix = 2. / minDim;\n    float pix = thick / minDim;\n    vec3 bgCol = vec3(1., 1., 1.);\n    vec3 circleCol = vec3(0., 0., 0.);\n    vec3 col = bgCol;\n    \n    uv.x += 2./3.;\n    d = length(uv);\n    float lincircle = mix(0., 1., max((pix - abs(d-r)) / pix, 0.));\n    col = mix(col, circleCol, lincircle);\n    \n    uv.x -= 1./3.;\n    d = length(uv);\n    float smoothcircle = 1. - smoothstep(0., pix, abs(d-r));\n    col = mix(col, circleCol, smoothcircle);\n    \n    uv.x -= 1./3.;\n    d = length(uv);\n    float stepcircle = 1. - step(pix / 2., abs(d-r));\n    col = mix(col, circleCol, stepcircle);\n    \n    uv.x -= 1./3.;\n    d = length(uv);\n    float edgecircle;\n    if (mod(iTime, 4.) < 2.)\n        edgecircle = 1. - smoothstep(0., onepix, abs(abs(d-r) - (pix - onepix) / 2.));    \n    else\n        edgecircle = 1. - smoothstep(0., twopix, abs(abs(d-r) - (pix - onepix) / 2.) + onepix / 2.);\n    col = mix(col, circleCol, edgecircle);\n    \n    uv.x -= 1./3.;\n    d = length(uv);\n    // float combstep = 1. - step((pix - twopix) / 2., abs(d-r));\n    // float combedge = 1. - smoothstep(0., twopix, abs(abs(d-r) - (pix - twopix) / 2.));\n    // float combcircle = max(combstep, combedge);\n    // thanks to msm01 and elanzil in the comments!\n    float combcircle = 1. - smoothstep(0., twopix, abs(d-r) - (pix - twopix) / 2.);\n    col = mix(col, circleCol, combcircle);\n    \n    fragColor = vec4(col, 1.0);\n}","name":"Image","description":"","type":"image"}]}