{"ver":"0.1","renderpass":[{"outputs":[{"channel":0,"id":"4dfGRr"}],"inputs":[],"code":"float hash21(vec2 p) {\n    p = fract(p * vec2(123.34, 456.21));\n    p += dot(p, p + 45.32);\n    return fract(p.x * p.y);\n}\n\nfloat noise2D(vec2 p) {\n    vec2 i = floor(p);\n    vec2 f = fract(p);\n    f = f * f * (3.0 - 2.0 * f);\n    \n    return mix(\n        mix(hash21(i), hash21(i + vec2(1,0)), f.x),\n        mix(hash21(i + vec2(0,1)), hash21(i + vec2(1,1)), f.x),\n        f.y\n    );\n}\n\nfloat fbm(vec2 p) {\n    float value = 0.0;\n    float amplitude = 0.6;\n    float frequency = 1.5;\n    \n    for(int i = 0; i < 100; i++) {\n        value += amplitude * noise2D(p * frequency);\n        amplitude *= 0.6;\n        frequency *= 2.1;\n    }\n    return value;\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    vec2 uv = fragCoord/iResolution.xy;\n    vec2 uvNorm = (fragCoord - 0.5 * iResolution.xy) / iResolution.y;\n    \n    float time = iTime * 0.15;\n    \n    float c1 = fbm(uvNorm * 3.0 + vec2(time * 0.4 + 20.0, 0.0));\n    float c2 = fbm(uvNorm * 5.0 - vec2(time * 0.3 - 43.0, 0.0));\n    float c3 = fbm(uvNorm * 9.0 + vec2(time * 0.2 + 83.0, 0.0));\n    \n    float clouds = c1 * 0.65 + c2 * 0.25 + c3 * 0.1;\n    clouds = pow(clouds, 1.2);\n    clouds = smoothstep(0.35, 0.7, clouds);\n    \n    vec3 skyTop = vec3(0.3, 0.5, 0.9);\n    vec3 skyBottom = vec3(0.6, 0.8, 1.0);\n    vec3 sky = mix(skyBottom, skyTop, uv.y);\n    \n    vec3 sunColor = vec3(1.0, 0.9, 0.8);\n    vec3 cloudDark = vec3(0.6, 0.7, 0.8);\n    vec3 cloudLight = mix(vec3(1.0), sunColor, 0.6);\n    \n    float cloudShape = clouds;\n    float lighting = fbm(uvNorm * 4.0 + vec2(time * 0.2, 0.0));\n    lighting = pow(lighting, 1.3);\n    vec3 cloudColor = mix(cloudDark, cloudLight, lighting * cloudShape);\n    \n    vec3 color = mix(sky, cloudColor, cloudShape * 0.95);\n    \n    vec2 sunPos = vec2(0.8, 0.8);\n    float sunGlow = 1.0 - distance(uv, sunPos);\n    sunGlow = pow(max(0.7, sunGlow), 10.0);\n    color += sunColor * sunGlow * 0.25;\n    \n    fragColor = vec4(color, 1.0);\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"XfKfz1","date":"1733760488","viewed":114,"name":"Clouds simulation","username":"yannnm","description":"clouds sim","likes":9,"published":1,"flags":0,"usePreview":1,"tags":["clouds"],"hasliked":0,"parentid":"","parentname":""}}