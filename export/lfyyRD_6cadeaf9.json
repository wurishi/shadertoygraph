{"ver":"0.1","info":{"id":"lfyyRD","date":"1731546890","viewed":37,"name":"local shifting!","username":"wainggan","description":"shift a bunch of rectangles","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["processing"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XdfGRr","filepath":"/media/a/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm","previewfilepath":"/media/ap/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\nfloat random(vec2 p) {\n    return fract(sin(dot(p.xy, vec2(12.9898, 78.233))) * 43758.5453123);\n}\n\nmat2 rotate(float r) {\n    return mat2(\n        cos(r), -sin(r),\n        sin(r), cos(r)\n    );\n}\n\n#define AMOUNT 8.0\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ){\n    vec2 uv = fragCoord/iResolution.xy;\n\n    vec2 nuv = fract(uv * AMOUNT);\n    float r = random(floor(uv * AMOUNT));\n    \n    float t = iTime * r;\n    \n    vec2 p = vec2(\n        cos(floor(t * 0.978)),\n        sin(floor(t * 0.957))\n    ) * 0.25 + 0.5;\n    \n    vec2 s = vec2(\n        sin(floor(t * 0.895)),\n        cos(floor(t * 0.867))\n    ) * 0.5 + 0.5 + 0.2;\n    \n    vec2 o = vec2(0.0, 1.0) * rotate(sin(floor(t)));\n\n    o *= step(p.x - s.x, nuv.x);\n    o *= step(p.y - s.y, nuv.y);\n    o *= 1.0 - step(p.x + s.x, nuv.x);\n    o *= 1.0 - step(p.y + s.y, nuv.y);\n    \n    uv += o * 0.2;\n\n    vec3 col = texture(iChannel0, uv).rgb;\n    \n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}