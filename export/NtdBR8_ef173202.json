{"ver":"0.1","info":{"id":"NtdBR8","date":"1662640331","viewed":145,"name":"packUnorm4x8","username":"whkrmrgks0","description":"final?","likes":2,"published":1,"flags":32,"usePreview":0,"tags":["packunorm4x8"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord ){\n    vec2 uv = fragCoord/iResolution.xy;\n\n    float packed = texture(iChannel0,uv).x;\n    \n    fragColor = unpackUnorm4x8(packed);\n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"#ifndef packUnorm4x8\nfloat packUnorm4x8(vec4 cram){\n    const uvec4 shift = uvec4(24,16,8,0);\n    uvec4 crd = uvec4(clamp(cram,.0,1.)*255.)<<shift;\n    uint haz = crd.x|crd.y|crd.z|crd.w;\n    uint cond = haz<<1>>24; //exponent - for nan & unnorm cond (IEEE 754)\n    haz = cond!=255u ? cond==0u ? haz | 0x1000000u : haz : haz ^ 0x1000000u;\n    return uintBitsToFloat(haz);\n}\nvec4 unpackUnorm4x8(float cram){\n    uvec4 haz = uvec4(floatBitsToUint(cram));\n    const uvec4 shift = uvec4(24,16,8,0);\n    haz = haz>>shift&0xFFu;\n    return vec4(haz)/255.;\n}\n#endif\n//2022 whkrmrgks0","name":"Common","description":"","type":"common"},{"inputs":[{"id":"4sX3Rn","filepath":"/media/a/c3a071ecf273428bc72fc72b2dd972671de8da420a2d4f917b75d20e1c24b34c.ogv","previewfilepath":"/media/ap/c3a071ecf273428bc72fc72b2dd972671de8da420a2d4f917b75d20e1c24b34c.ogv","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord ){\n    vec2 uv = fragCoord/iResolution.xy;\n    vec3 col = texture(iChannel0,uv).xyz;\n    vec4 tbp = vec4(col,1.0);\n    \n    float packed = packUnorm4x8(tbp);\n    \n    fragColor = vec4(packed,.0,.0,.0);\n}","name":"Buffer A","description":"","type":"buffer"}]}