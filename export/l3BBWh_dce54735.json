{"ver":"0.1","info":{"id":"l3BBWh","date":"1729476604","viewed":92,"name":"Severe Motion Blur","username":"dray","description":"Just fooling around with buffers. Played with green-screen removal. Must be lots of these on Shadertoy.\nChange \"speed\" in Buffer A.   Stop Buffer A iChannel0 video.    Also move mouse.","likes":0,"published":3,"flags":32,"usePreview":0,"tags":["blur","motion"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\n//  Look at Buffer A.  This is boring.\n\nvoid mainImage(out vec4 fragColor, vec2 fragCoord) {\n   fragColor=texelFetch(iChannel0, ivec2(fragCoord), 0);\n}\n","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":2,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XdfGRr","filepath":"/media/a/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm","previewfilepath":"/media/ap/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm","type":"video","channel":0,"sampler":{"filter":"nearest","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"float speed = 1.; // blur seconds to 63%\n\n// ----------------------------------------------\n// https://www.shadertoy.com/view/MlVXWD\n\n//conversion between rgb and YUV\nmat4 RGBtoYUV = mat4(0.257,  0.439, -0.148, 0.0,\n                     0.504, -0.368, -0.291, 0.0,\n                     0.098, -0.071,  0.439, 0.0,\n                     0.0625, 0.500,  0.500, 1.0 );\n\n//color to be removed\nvec4 chromaKey = vec4(0.05, 0.63, 0.14, 1);\n\n// ----------------------------------------------\n\nfloat colorDist(vec4 col, vec4 col2)\n{\n\n  vec4 yuv  = RGBtoYUV * col;\n  vec4 yuv2 = RGBtoYUV * col2;\n  return distance( yuv.gb, yuv2.gb );\n}\n\nvoid mainImage(out vec4 O, vec2 fragCoord) {\n   vec2 m = iMouse.xy;\n   if ( m.x != 0. ) m -= vec2(50);\n   O = texture( iChannel2, fragCoord/iResolution.xy );\n   vec2 pos = (fragCoord-m.xy)*2.;\n   if ( pos.x > 0. && pos.y > 0. \n       && pos.x < iResolution.x && pos.y < iResolution.y )\n   {\n       vec4 fg = texture(iChannel0, pos/iResolution.xy );\n       O = mix( O, fg, clamp( (colorDist(fg,chromaKey)-.2)*30., 0., 1. ) );\n   }\n   vec4 old=texelFetch(iChannel1, ivec2(fragCoord), 0);\n   O = mix( O, old, exp( -1. / iFrameRate / speed ) );\n}\n\n","name":"Buffer A","description":"","type":"buffer"}]}