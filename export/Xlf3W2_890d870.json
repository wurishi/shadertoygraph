{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"#ifdef GL_ES\nprecision mediump float;\n#endif\n\nstruct rayData {\n\tvec3 start;\n\tvec3 normal;\n};\n\nrayData lens(vec2 fragCoord) {\n\treturn rayData(vec3(0.0, 0.0, sin(iTime) * 10.0), normalize(vec3((fragCoord / iResolution.xy) - 0.5, 0.3)));\n}\n\t\nrayData translate(vec3 offset, rayData ray) {\n\treturn rayData(ray.start - offset, ray.normal);\n}\n\nrayData scale(vec3 factor, rayData ray) {\n\treturn rayData(ray.start / factor, normalize(ray.normal / factor));\n}\n\nrayData scale(float factor, rayData ray) {\n\treturn rayData(ray.start / factor, ray.normal);\n}\n\nvec3 shade(vec3 color, float intensity) {\n\treturn color * intensity;\n}\n\nfloat distanceAlong(rayData ray) {\n\treturn -dot(ray.start, ray.normal);\n}\n\nvec3 closestPoint(rayData ray) {\n\treturn ray.start + ray.normal * distanceAlong(ray);\n}\n\nfloat radial(rayData ray) {\n\treturn clamp(distanceAlong(ray), 0.0, 1.0) * max(0.0, 1.0 - (length(closestPoint(ray))));\n}\n\nfloat spot(rayData ray) {\n\treturn max(normalize(closestPoint(ray)).y, 0.0);\n}\n\nfloat spotWithReflection(rayData ray, float strength) {\n\tfloat magnitude = normalize(closestPoint(ray)).y;\n\treturn abs(magnitude) * (magnitude < 0.0 ? strength : 1.0);\n}\n\nfloat quadratic(float val) {\n\treturn val * val * val * val;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n\tfragColor = pow(vec4(vec3(0.0)\n\t\t+ shade(vec3(0.6, 0.1, 0.1), quadratic(radial(scale(32.0, translate(vec3(-30.0, 8.0, 40.0), lens(fragCoord))))))\n\t\t+ shade(vec3(0.5, 0.6, 0.8), quadratic(radial(scale(16.0, translate(vec3(-2.0, 8.0, 20.0), lens(fragCoord))))))\n\t\t+ shade(vec3(0.5, 0.6, 0.8) * 0.25, quadratic(radial(scale(12.0, translate(vec3(-2.0, -4.0, 20.0), lens(fragCoord))))))\n\t\t+ shade(vec3(0.8, 0.9, 0.1), quadratic(radial(scale(16.0, translate(vec3(-2.0, 8.0, 10.0), lens(fragCoord))))))\n\t\t+ shade(vec3(0.8, 0.9, 0.1) * 0.25, quadratic(radial(scale(12.0, translate(vec3(-2.0, -4.0, 10.0), lens(fragCoord))))))\n\t\t+ shade(vec3(1.0), quadratic(\n\t\t\tspotWithReflection(scale(vec3(4.0, 16.0, 4.0), translate(vec3(3.0, -4.0, 10.0), lens(fragCoord))), 0.5)\n\t\t\t* radial(scale(vec3(4.0, 16.0, 4.0), translate(vec3(3.0, -4.0, 10.0), lens(fragCoord))))\n\t\t))\n\t\t+ shade(vec3(1.0), quadratic(\n\t\t\tspotWithReflection(scale(vec3(4.0, 16.0, 4.0), translate(vec3(3.0, -4.0, 15.0), lens(fragCoord))), 0.5)\n\t\t\t* radial(scale(vec3(4.0, 16.0, 4.0), translate(vec3(3.0, -4.0, 15.0), lens(fragCoord))))\n\t\t))\n\t\t+ shade(vec3(1.0), quadratic(\n\t\t\tspotWithReflection(scale(vec3(4.0, 16.0, 4.0), translate(vec3(3.0, -4.0, 5.0), lens(fragCoord))), 0.5)\n\t\t\t* radial(scale(vec3(4.0, 16.0, 4.0), translate(vec3(3.0, -4.0, 5.0), lens(fragCoord))))\n\t\t))\t\t\t\t\n\t\t+ shade(vec3(1.0), quadratic(\n\t\t\tspotWithReflection(scale(vec3(4.0, 16.0, 4.0), translate(vec3(3.0, -4.0, 0.0), lens(fragCoord))), 0.5)\n\t\t\t* radial(scale(vec3(4.0, 16.0, 4.0), translate(vec3(3.0, -4.0, 0.0), lens(fragCoord))))\n\t\t))\t\t\n\t\t+ shade(vec3(1.0), quadratic(\n\t\t\tspotWithReflection(scale(vec3(4.0, 16.0, 4.0), translate(vec3(-3.0, -4.0, 10.0), lens(fragCoord))), 0.5)\n\t\t\t* radial(scale(vec3(4.0, 16.0, 4.0), translate(vec3(-3.0, -4.0, 10.0), lens(fragCoord))))\n\t\t))\n\t\t+ shade(vec3(1.0), quadratic(\n\t\t\tspotWithReflection(scale(vec3(4.0, 16.0, 4.0), translate(vec3(-3.0, -4.0, 15.0), lens(fragCoord))), 0.5)\n\t\t\t* radial(scale(vec3(4.0, 16.0, 4.0), translate(vec3(-3.0, -4.0, 15.0), lens(fragCoord))))\n\t\t))\n\t\t+ shade(vec3(1.0), quadratic(\n\t\t\tspotWithReflection(scale(vec3(4.0, 16.0, 4.0), translate(vec3(-3.0, -4.0, 5.0), lens(fragCoord))), 0.5)\n\t\t\t* radial(scale(vec3(4.0, 16.0, 4.0), translate(vec3(-3.0, -4.0, 5.0), lens(fragCoord))))\n\t\t))\t\t\t\t\n\t\t+ shade(vec3(1.0), quadratic(\n\t\t\tspotWithReflection(scale(vec3(4.0, 16.0, 4.0), translate(vec3(-3.0, -4.0, 0.0), lens(fragCoord))), 0.5)\n\t\t\t* radial(scale(vec3(4.0, 16.0, 4.0), translate(vec3(-3.0, -4.0, 0.0), lens(fragCoord))))\n\t\t))\t\t\t\t\n\t, 1.0), vec4(1.0 / 2.2));\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"Xlf3W2","date":"1425078684","viewed":637,"name":"False Volumetrics II","username":"jameswilddev","description":"Another experiment with false volumetics.","likes":32,"published":1,"flags":0,"usePreview":0,"tags":["falsevolumetricsdistancefield"],"hasliked":0,"parentid":"","parentname":""}}