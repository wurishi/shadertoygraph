{"ver":"0.1","info":{"id":"sssfR7","date":"1644688035","viewed":90,"name":"Love Shape","username":"RITEE","description":"Draw love","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["love"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float PI = 3.1415926;\n\nbool fallInLove(in float x, in float y) {\n    float x2 = x * x;\n    float y2 = y * y;\n    float y3 = y2 * y;\n    float term0 = pow(x2 + y2 - 1.0, 3.0);\n    float term1 = -x2 * y3;\n    return term0 + term1 <= 0.0;\n}\n\nfloat F(in float x, in float y) {\n    float x2 = x * x;\n    float y2 = y * y;\n    float y3 = y2 * y;\n    float term0 = pow(x2 + y2 - 1.0, 3.0);\n    float term1 = -x2 * y3;\n    return term0 + term1;\n}\n\nfloat sgn(in float f) {\n    if (f > 0.0) return 1.0;\n    else if (f < 0.0) return -1.0;\n    else return 0.0;\n}\n\nvoid normalizeCoord(in vec2 fragCoord, out float u, out float v) {\n    float x = fragCoord.x;\n    float y = fragCoord.y;\n    float rx = iResolution.x;\n    float ry = iResolution.y;\n    float r = min(rx, ry);\n    float halfR = r / 2.0;\n    float halfRx = rx / 2.0;\n    float halfRy = ry / 2.0;\n    if (x < halfRx - halfR) {\n        u = 0.0;\n    } else if (x > halfRx + halfR) {\n        u = 1.0;\n    } else {\n        u = (x - (halfRx - halfR)) / r;\n    }\n    if (y < halfRy - halfR) {\n        v = 0.0;\n    } else if (y > halfRy + halfR) {\n        v = 1.0;\n    } else {\n        v = (y - (halfRy - halfR)) / r;\n    }\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n    float u;\n    float v;\n    normalizeCoord(fragCoord, u, v);\n    float u_love = u * 3.0 - 1.5;\n    float v_love = v * 3.0 - 1.5;\n    if (!fallInLove(u_love, v_love)) {\n        fragColor = vec4(0, 0, 0, 1);\n        return;\n    }\n\n    vec2 uv = vec2(u, v);\n    vec3 color = 0.5 + 0.5 * cos(uv.xyx + vec3(0.0, 2.0, 4.0));\n    float heartBeat = 15.0 / 60.0; // per second\n    color *= 0.5 + 0.5 * cos(2.0 * PI * heartBeat * iTime);\n    fragColor = vec4(color, 1.0);\n}","name":"Image","description":"","type":"image"}]}