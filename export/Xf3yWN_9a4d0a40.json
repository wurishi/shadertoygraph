{"ver":"0.1","info":{"id":"Xf3yWN","date":"1730658478","viewed":195,"name":"GLSL bug #78: const in API","username":"FabriceNeyret2","description":"omitting const line #4 changes the result ( at least on OpenGL/nvidia/chrome )\nfrom vertical gradient to plain black.\nâ†’ bug report: https://issues.chromium.org/issues/377026945","likes":4,"published":3,"flags":0,"usePreview":0,"tags":["spectrum","color","rgb","function","gamma","mapping","xyz","wavelength","gamut","cie","matching","2006"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// acid test from https://shadertoy.com/view/XcfSD7\n\n\nfloat F( vec2 U, const float red ) // ommiting const changes the result\n{\n    float  T[] = float[](red), // no bug if T = red\n          prev = 1.,\n          t;\n    \n    for(int i = 0; i < 2; ++i ) // no bug if no loop\n    {\n        t = 1. - prev - U.y; // no bug if  prev - U.y\n   \n        if(t > 0.) return t;\n\n        prev = T[min(0,i)]; // no bug if = red, T[0],  float[](red)[i]\n    }\n    \n    return 0.;\n}\n\n\nvoid mainImage( out vec4 fragColor, vec2 fragCoord )\n{\n\t\n    vec2 U = fragCoord / iResolution.xy;\n    \n    float red = 1.;\n\n    fragColor = vec4( F(U,red) );\n}\n","name":"Image","description":"","type":"image"}]}