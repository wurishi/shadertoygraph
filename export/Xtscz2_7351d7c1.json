{"ver":"0.1","info":{"id":"Xtscz2","date":"1505532547","viewed":414,"name":"Timer Test","username":"DjinnKahn","description":"The white line is a graph of the `iTime`variable. The x-axis is the current frame. The y-axis is `int( iTime * 60. )`. Each pixel is one unit.\n\nThe red dots are a graph of fract( iTime * 60. ), scaled by 100 pixels.","likes":0,"published":1,"flags":32,"usePreview":0,"tags":["timer"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tfragColor = texelFetch( iChannel0, ivec2( fragCoord ), 0 );\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    ivec2 POS = ivec2( fragCoord );\n    if ( iTime < .02 ) { fragColor = vec4( 0. ); return; }\n        \n    int   frameIndex     = int( iTime * 60. );\n    float fracFrameIndex = fract( iTime * 60. );\n    \n    float currentPixel = texelFetch( iChannel0, ivec2( fragCoord ) + ivec2(  0, 0 ), 0 ).r;\n    float leftPixel    = texelFetch( iChannel0, ivec2( fragCoord ) + ivec2( -1, 0 ), 0 ).r;    \n    if ( POS.x == 0 ) \n        leftPixel = 1.;\n    \n    bool fillThisPixel = currentPixel == 0. && leftPixel > 0.;\n    if ( !fillThisPixel ) { fragColor = texelFetch( iChannel0, ivec2( fragCoord ), 0 ); return; }\n    \n    fragColor = vec4( .1 );\n    \n    if ( POS.y < 100 )\n        fragColor = vec4( .2 );\n        \n    if ( POS.y == int( fracFrameIndex * 100. ) )\n        fragColor = vec4( 1., .3, .3, 1. );\n    \n    if ( POS.y == frameIndex )\n        fragColor = vec4( 1. );\n}","name":"Buf A","description":"","type":"buffer"}]}