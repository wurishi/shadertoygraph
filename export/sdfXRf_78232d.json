{"ver":"0.1","info":{"id":"sdfXRf","date":"1619046194","viewed":105,"name":"parallax_route_66.ff3","username":"ff3","description":"Parallax highway scenery.  The next iteration is going to have rays from the sun and the yellow line is going to periodically switch to a dotted line.  I'll maybe add some highlights on the hills if I get ambitious.","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["cartoon","parallax","road"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const float TWO_PI = 6.283185307; //good old 2 pi\nconst float SPEED = 20.; //adjustment factor of iTime\nconst float BASE_HILL_SPEED = .01; //percent per frame the front set of hills move\nconst float BORDER = .003; //border width for anti-aliasing\n\nvec4 YELLOW = vec4(.8,.8,0,1); //pallette\nvec4 GREY = vec4(.3,.3,.3,1);\nvec4 GREEN = vec4(0,.8,0,1);\nvec4 BLUE = vec4(0.15,0.15,.8,1);\n\nvec2 hillVector(vec2 uv, float percentPerFrame)\n{\n    float angle = (uv.x + mod(iTime * SPEED * percentPerFrame, iResolution.x)) * TWO_PI;\n    float offset = .1 * cos(angle);\n    \n    return uv + vec2(0,offset);\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    \n    //set uv coords from -.5 to .5 with origin in the middle\n    vec2 uv = (fragCoord - (.5*vec2(iResolution))) / iResolution.xx;\n    \n    vec2 hillvec = hillVector(uv, BASE_HILL_SPEED);\n    vec2 hillvec_2 = hillVector(uv, BASE_HILL_SPEED * .5); //parallax\n    vec2 hillvec_3 = hillVector(uv, BASE_HILL_SPEED * .25); //parallax\n\n    float isHill1,isHill2,isHill3,isSun,isNotRoad,isPaint;\n    isSun = smoothstep(51.,49.,distance(fragCoord,iResolution.xy));\n    isHill1 = smoothstep(BORDER,-BORDER,hillvec.y);\n    isHill2 = smoothstep(-.03+BORDER,-.03-BORDER,hillvec_2.y);\n    isHill3 = smoothstep(-.06+BORDER,-.06-BORDER,hillvec_3.y);\n    isNotRoad = step(-.2, uv.y);\n    isPaint = (1.0 - step(-.236, uv.y)) - (1.0 - step(-.24, uv.y))\n              + (1.0 - step(-.23, uv.y)) - (1.0 - step(-.234, uv.y));\n\n    fragColor = isHill3 * (GREEN * .25) + (1.0 - isHill3) * BLUE;\n    fragColor = isHill2 * (GREEN *.5) + (1.0 - isHill2) * fragColor;\n    fragColor = isHill1 * GREEN + (1.0 - isHill1) * fragColor;\n    fragColor = isSun * YELLOW + (1.0 - isSun) * fragColor;\n    fragColor = (1.0 - isNotRoad) * GREY + isNotRoad * fragColor;\n    fragColor = isPaint * YELLOW + (1.0 - isPaint) * fragColor;\n}","name":"Image","description":"","type":"image"}]}