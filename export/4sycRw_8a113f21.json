{"ver":"0.1","info":{"id":"4sycRw","date":"1570045193","viewed":90,"name":"3D Practice - RB","username":"shuerpiola","description":"Practicing camera creation","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["3d","practice"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float distLine(vec3 ori, vec3 dir, vec3 pt) {\n    return length(cross(pt-ori,dir)/length(dir));\n}\n\nfloat drawPoint(vec3 ori, vec3 dir, vec3 pt) {\n    float dis = distLine(ori,dir,pt);\n    dis = smoothstep(.06,.05,dis);\n    return dis;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates\n    vec2 uv = fragCoord/iResolution.xy;\n    uv = (2.*uv)-1.0;\n    uv.x *= iResolution.x/iResolution.y;\n    \n    // Camera\n    vec3 ori = vec3(3.*sin(iTime)+.5, .5,3.*cos(iTime)+.5); // Point of origin for camera\n    // vec3 dir = vec3(uv.x,uv.y,-1.)-ori; // Direction non-moving camera, 1 unit back\n    vec3 lookAt = vec3(.5); // Look-at point\n    \n    \n    vec3 f = normalize(lookAt-ori); // Forward vector\n    vec3 r = cross(vec3(.0,.1,.0),f); // Right vector\n    vec3 u = cross(f,r); // Up vector\n    \n    float zoom = (iMouse.y/iResolution.y)*.3+.2;\n    vec3 cen = ori+f*zoom;// Center of screen\n    vec3 itc = cen+uv.x*r+uv.y*u; // Point of intersection\n    vec3 dir = itc-ori; // Direction of moving camera\n    \n    vec3 pt = vec3(0.,0.,2.);\n    \n    float img = 0.;\n    \n    img += drawPoint(ori,dir,vec3(0.,0.,0.));\n    img += drawPoint(ori,dir,vec3(0.,0.,1.));\n    img += drawPoint(ori,dir,vec3(0.,1.,0.));\n    img += drawPoint(ori,dir,vec3(0.,1.,1.));\n    img += drawPoint(ori,dir,vec3(1.,0.,0.));\n    img += drawPoint(ori,dir,vec3(1.,0.,1.));\n    img += drawPoint(ori,dir,vec3(1.,1.,0.));\n    img += drawPoint(ori,dir,vec3(1.,1.,1.));\n    \n    \n\n    // Time varying pixel color\n    vec3 col = 0.5 + 0.5*cos(iTime+uv.xyx+vec3(0,2,4));\n\n    // Output to screen\n    fragColor = vec4(img);\n}","name":"Image","description":"","type":"image"}]}