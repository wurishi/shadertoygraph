{"ver":"0.1","info":{"id":"ftXyDN","date":"1647989107","viewed":186,"name":"lcd effect","username":"Wally869","description":"Creating a LCD effect.  \nWe create a grid, create 3 masks for each channel color which are positioned with a given offset from the UV center vec2(0.5, 0.5)\nThen we look up texture color and multiply by the channel color masks.","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["lcdeffect"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// create a mask circle for each color\nfloat circle_mask(vec2 pos, vec2 center, float circle_size) {\n    vec2 distances = abs(center - pos);\n    return sqrt(distances.x * distances.x + distances.y * distances.y) < circle_size ? 1.0 : 0.0;\n\n}\n\n\nvec2 RESOLUTION = vec2(160.0, 80.0);\n\nfloat LED_SIZE = 0.25;\n\nfloat LED_DISTANCE_CENTER = sqrt(0.16666 * 0.16666 + 0.16666 * 0.16666);\n\nvec2 LED_OFFSET_DIRECTION[3] = vec2[3](vec2(-0.5, -0.5), vec2(0.0, 1.0), vec2(0.5, -0.5));\n\n\nvec2 UV_CENTER = vec2(0.5, 0.5);\n\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 base_uv = fragCoord/iResolution.xy;\n    vec2 grid_uv = fract(base_uv * RESOLUTION);\n\n    vec2 pixellated_uv = round(base_uv * RESOLUTION) / RESOLUTION;\n    \n    \n    vec4 color_mask = vec4(0.0, 0.0, 0.0, 1.0);\n    for (int i = 0; i < 3; i++) {\n        color_mask[i] = circle_mask(grid_uv, UV_CENTER + LED_OFFSET_DIRECTION[i] * LED_DISTANCE_CENTER, LED_SIZE);\n    \n    }\n    \n    vec4 main_tex = texture(iChannel0, pixellated_uv);\n\n    // Output to screen       \n    fragColor = color_mask * main_tex;\n}","name":"Image","description":"","type":"image"}]}