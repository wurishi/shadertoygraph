{"ver":"0.1","info":{"id":"ws2yz1","date":"1586141443","viewed":111,"name":"COVID, Stop!","username":"harry7557558","description":"Today's Google Doodle: Stay Home. Save Lives: Help Stop Coronavirus.\n\n(of course, you don't your home to have virus.)\n","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["virus","coronavirus","covid19","covid"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Shadertoy version of https://www.desmos.com/calculator/59x14hqpt3\n// I made this because that one is too slow\n\n#define res iResolution.xy\n#define t (1.2*iTime)\n#define PI 3.14159265358979\n\n#define cp(x) clamp(x,0.,1.)\n#define ss(x) (x)*(x)*(x)*((6.*(x)-15.)*(x)+10.)\n\nfloat smin(float a, float b, float k){\n    float d = a-b;\n    return abs(d)>k?min(a,b):.5*(-0.5/k*d*d+a+b-.5*k);\n}\n\n\n// Virus Modeling\n\n#define R 0.74\n#define r 0.25\n#define n 8.\n#define df 0.058\n#define ff 14.4\n#define rc 1.06\nfloat u(vec2 p){ return length(vec2(rc*(p.x+df*cos(ff*p.y)-(R+r)),p.y))-r; }\n\n#define sm 0.156\nfloat V(vec2 p, float td, inout vec3 col){\n    float a = mod(atan(p.y,p.x)-td, 2.*PI/n)-PI/n;\n    vec2 q = length(p)*vec2(cos(a),sin(a));\n    float d = smin(u(q),length(p)-R,sm);\n    if (d<0.) col-=sqrt(dot(p,p)+.1)*vec3(0,1,1);\n    return d;\n}\n\n\n// Virus Crowd\n\n#define P1 vec2(-0.82,-0.35)\n#define v1 -0.5\n#define s1 0.85\n#define m1 0.095\n#define f1 3.\n#define P2 vec2(0.81,0.54)\n#define to 2.56\n#define v2 0.625\n#define s2 0.58\n#define m2 0.044\n#define f2 4.\n\nfloat Vs(vec2 p, inout vec3 col){\n    vec3 c1; float d1 = V((p-P1)/s1+vec2(0,m1*sin(f1*t)),v1*t,c1);\n    vec3 c2; float d2 = V((p-P2)/s2+vec2(0,m2*sin(f2*(t+to))),v2*(t+to),c2);\n    col += c1 + c2;\n    return min(d1,d2);\n}\n\n\n// Liquid\n\n#define wf 6.77\n#define wm 0.14\n#define wv 5.\n#define whf 0.15\nfloat whfs(float x) { return x<0.5?0.:x<1.5?ss(x-0.5):x<2.?1.:1.-ss(x-2.); }\n\nfloat W(float x, float y, inout vec3 col){\n    float wh = 4.*whfs(mod(whf*t,3.))-2.5;\n    float d = y-(wm*exp(sin(wf*x+wv*t))+wh);\n    if (d<0.) col-=(1.-exp(y-wh-3.*wm))*vec3(1,.8,0);\n    return d;\n}\n\n\n// Main\n\nfloat scene(vec2 p, inout vec3 col){\n    float clip = max(abs(p.x)-3.,abs(p.y)-2.);\n    float sd = smin(Vs(p,col),W(p.x,p.y,col),0.1);\n    if (clip>0.) col=vec3(1.);\n    return max(clip,sd);\n}\n\nfloat house(vec2 p){\n    vec2 b = abs(p);\n    float u = max(b.x-3.,b.y-2.);\n    float v = min(p.y+2.,min(3.-b.x,(7.-2.*p.y-b.x)/sqrt(5.)));\n    return min(abs(u),abs(v));\n}\n\nvoid mainImage(out vec4 col, in vec2 coord) {\n    col.xyz = vec3(1.0);\n    float S = min(res.x,res.y);\n    vec2 p = 7.0*(coord-0.5*res)/S-vec2(0,-.5);\n    float ds = scene(p,col.xyz);\n    float d = abs(ds)/length(vec2(dFdx(ds),dFdy(ds))) - .001*S;\n    col.xyz *= cp(d)*cp(house(p)*.14*S-.001*S);\n}\n\n","name":"Image","description":"","type":"image"}]}