{"ver":"0.1","info":{"id":"fsjyWR","date":"1643377031","viewed":61,"name":"Smiley_","username":"mays","description":"Smly","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["smiley"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define S(a, b, t) smoothstep(a, b, t)\n#define sat(x) clamp(x, 0.0, 1.0)\n\nfloat remap01(float a, float b, float t)\n{\n    return sat((t - a) / (b - a));\n}\n\nfloat remap(float a, float b, float c, float d, float t)\n{\n    return sat((t - a) / (b - a)) * (d - c) + c;\n}\n\nvec2 within(vec2 uv, vec4 rect)\n{\n    return (uv - rect.xy) / (rect.zw - rect.xy);\n}\n\nvec4 Eye(vec2 uv)\n{\n    uv -= 0.5;\n    float d = length(uv);\n    vec4 irisCol = vec4(0.03416, 0.0596, 0.914, 1.0);\n    vec4 col = mix(vec4(1.0), irisCol, S(0.1, 0.7, d) * 0.31415);\n    \n    col.rgb *= 1.0 - S(0.41, 0.5, d) * 0.4 * sat(- uv.y - uv.x);\n    col.rgb = mix(col.rgb, irisCol.rgb * 0.4, S(0.3, 0.28, d));\n    irisCol.rgb *= 1.0 - S(0.1, 0.5, d);\n    col.rgb = mix(col.rgb, irisCol.rgb, S(0.2867, 0.24, d));\n    col.rgb = mix(col.rgb, vec3(0.0), S(0.17, 0.15, d));\n    \n    float highlight = S(0.1, 0.09, length(uv - vec2(-0.15, 0.15)));\n    highlight += S(0.067, 0.0492, length(uv + vec2(-0.08, 0.08)));\n    col.rgb = mix(col.rgb, vec3(1.0), highlight);\n    col.a = S(0.5, 0.48, d);\n    return col;\n}\n\nvec4 Mouth(vec2 uv)\n{\n    uv -= 0.5;\n    vec4 col = vec4(0.5, 0.18, 0.05, 1.0);\n    uv.y *= 1.5;\n    uv.y -= uv.x * uv.x * 2.0;\n    float d = length(uv);\n    col.a = S(0.5, 0.48, d);\n    \n    float td = length(uv - vec2(0.0, 1.6));\n    vec3 toothCol = vec3(1.0) * S(0.6, 0.34, d);\n    col.rgb = mix(col.rgb, toothCol, S(1.4, 1.38, td));\n    td = length(uv + vec2(0.0, 0.3));\n    col.rgb = mix(col.rgb, vec3(0.42, 0.183, 0.128), S(0.5, 0.1, td));\n    return col;\n}\n\nvec4 Head(vec2 uv)\n{\n    vec4 col = vec4(0.9, 0.65, 0.1, 1.0);\n    float d = length(uv);\n    col.a = S(0.5, 0.49, d);\n    float edgeShade = remap01(0.35, 0.5, d);\n    edgeShade *= edgeShade;\n    col.rgb *= 1.0 - edgeShade * 0.5;\n    col.rgb = mix(col.rgb, vec3(0.59, 0.37, 0.09), S(0.476, 0.49, d));\n    float highlight = S(0.41, 0.405, d);\n    highlight *= remap(.41, -0.1, 0.6482, 0.0, uv.y);\n    col.rgb = mix(col.rgb, vec3(1.0), highlight);\n    d = length(uv - vec2(0.2789, -0.187));\n    float cheek = S(0.2, 0.01, d) * 0.31415;\n    cheek *= S(0.18, 0.16, d);\n    col.rgb = mix(col.rgb, vec3(0.9, 0.074, 0.074), cheek);\n    return col;\n}\n\nvec4 Smiley(vec2 uv)\n{\n    vec4 col = vec4(0.0);\n    uv.x = abs(uv.x);\n    \n    vec4 head = Head(uv);\n    vec4 eye = Eye(within(uv, vec4(0.03, -0.1, 0.37, 0.25)));\n    vec4 mouth = Mouth(within(uv, vec4(-0.3, -0.4, 0.3, -0.1)));\n    \n    col = mix(col, head, head.a);\n    col = mix(col, eye, eye.a);\n    col = mix(col, mouth, mouth.a);\n    \n    return col;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    \n    uv -= 0.5;\n    uv.x *= iResolution.x / iResolution.y;\n    \n    fragColor = Smiley(uv);\n}","name":"Image","description":"","type":"image"}]}