{"ver":"0.1","info":{"id":"DtcBWB","date":"1701513075","viewed":35,"name":"dok @ Inércia 2023 Shader Jam","username":"dok","description":"\nThe Inércia logo was used instead of the NyanCat :P\nhttps://2023.inercia.pt/\n\n","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["live","bonzomatic","liveshader","inercia"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"Xsf3Rn","filepath":"/media/a/cbcbb5a6cfb55c36f8f021fbb0e3f69ac96339a39fa85cd96f2017a2192821b5.png","previewfilepath":"/media/ap/cbcbb5a6cfb55c36f8f021fbb0e3f69ac96339a39fa85cd96f2017a2192821b5.png","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"},"published":1},{"id":"4sXGRr","filepath":"/media/a/48e2d9ef22ca6673330b8c38a260c87694d2bbc94c19fec9dfa4a1222c364a99.mp3","previewfilepath":"/media/ap/48e2d9ef22ca6673330b8c38a260c87694d2bbc94c19fec9dfa4a1222c364a99.mp3","type":"music","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"/* shadertoy glue wrapping for bonzomatic */\n#define fGlobalTime iTime\n#define v2Resolution iResolution\n#define texFFT iChannel0\n#define texFFTSmoothed iChannel0\n#define gl_FragCoord fragCoord\n#define out_color fragColor\n#define main(_) mainImage(out vec4 fragColor, in vec2 fragCoord)\n\n#define texInerciaBW iChannel1\nvec4 texture(sampler2D t, float x) {return texture(t, vec2(x));}\n/* ----------------- */\n\n#define texI texInerciaBW\n#define texF texFFTSmoothed\n#define time fGlobalTime\n#define gain 0.25\n\nmat2 rot2(float a) {return mat2(cos(a), sin(a), -sin(a), cos(a));}\n#if 1\nvec3 s2(vec2 uv) {\n        uv -= 0.5;\n        uv *= rot2(time);\n        uv+=0.5;\n        uv = abs(uv - 0.5) * 2.0;\n\n        uv = 1.0-uv;\n        uv.x = max(\n        step(0.2, uv.x) * step(0.95, uv.y),\n        step(0.2, uv.y) * step(0.95, uv.x))\n        ;\n        return vec3(uv,0);\n}\n#endif\nvec3 s1(vec2 uv,float w){\n        uv = abs(uv - 0.5);\n        uv = step(mix(0.1,0.8,w), uv);\n        uv *= uv.x * uv.y;\n        return vec3(uv,0);\n}\n#if 1\nfloat s3(vec2 uv) {\n        uv.x += (tan(uv.y) / 3.1416)*abs(uv.y)*sin(time/4.0)*11.0;\n        uv *= rot2(time * 0.1);\n        uv *= 4.0;\n        uv = floor(uv*32.0)/32.0;\n        //uv = fract(uv);\n        uv *= 3.0;\n        uv *= rot2(mix(0.4, 1.8, 0.5+0.5*sin(time/10.)));uv=abs(uv);\n        uv.x += 0.5;\n        uv *= rot2(mix(1.3, -2.5, 0.5+0.5*sin(time/7.0)));uv=abs(uv);\n        uv.x += 4.0;\n        //uv *= rot2(mix(0.1, 0.4, sin(time)));uv=abs(uv);\n        uv.y += 1.0;\n        uv *= rot2(mix(1.7, 0.2, 0.5+0.5*sin(time/3.0)));uv=abs(uv);\n        uv.x -= time * (120./60.0);\n\n        return step(0.8, fract(uv.x));\n}\n#endif\n#if 1\nvec2 sI(vec2 uv) {\n        float r = mix(64.0,1024.0,sin(time/10.0));\n        vec2 S = vec2(textureSize(texI, 0));\n        uv /= vec2(S.x/S.y, 1.0);\n        uv = floor(uv*r)/r;\n        uv.y = -uv.y;\n        uv.x += time*0.1;\n        uv.y += sin(uv.x*4.0-time) / 10.0;\n        return texture(texI, uv.xy).ra;\n}\n#endif\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n        vec2 UV = vec2(gl_FragCoord.xy - 0.5 * v2Resolution.xy) / v2Resolution.y;\n        vec3 col = vec3(0);\n        //UV = fract((fract(UV * 10.0) -0.5)* rot2(0.3+sin(time)));\n\n        col.rg = s1(fract((fract(UV*8.0)-0.5)*rot2(0.3+sin(time))), texture(texF,0.01).r*gain).rg;\n\n        col.r = mix(col.r, 1.0-col.r, s2(fract(UV*8.0)).r);\n        //col.r = mix(col.r, 1.0-col.r, s3(UV));\n        col.r = max(col.r, s3(UV));\n        col.rbg = col.rrr;\n        //float i = sI(UV / mix(1.0,1.4,texture(texF, 0.01).r*gain)).r;\n        vec2 t = sI(UV+0.5);\n        t *= t.y;\n        col.rgb = mix(col.rgb, t.rrr, smoothstep(0.0,0.001,t.r));\n        //float j = sI(UV).r;\n        //col.rgb *= mix(1.0-j, 1.0,smoothstep(0.0, 0.001,i));\n        //col.rg = s2(UV).r;\n        //col.r = s3(UV);\n        out_color = vec4(col,1);\n}\n\n\n","name":"Image","description":"","type":"image"}]}