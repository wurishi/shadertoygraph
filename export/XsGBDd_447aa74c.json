{"ver":"0.1","info":{"id":"XsGBDd","date":"1530970758","viewed":1299,"name":"Smoothstep example","username":"Lazzux","description":"An example of smoothstepping of colors with SDF font rendering.","likes":5,"published":1,"flags":0,"usePreview":1,"tags":["smoothstep"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec4 color1 = vec4(0.0, 0.0, 0.0, 1.0);\nvec4 color2 = vec4(1.0, 0.0, 1.0, 1.0);\nvec4 color3 = vec4(1.0, 1.0, 0.0, 1.0);\nvec4 color4 = vec4(0.0, 1.0, 1.0, 1.0);\n\nfloat edge1Pos = 0.25;\nfloat edge22Pos = 0.5;\nfloat edge3Pos = 0.75;\n\n// Change this to see how it affects the edge. Too low value = pixelated, too large value = gradients\nfloat edgeSize = 0.001;\n\nfloat pxRange = 2.0;\n\nfloat median(float r, float g, float b) {\n    return max(min(r, g), min(max(r, g), b));\n}\n\nfloat GetSDFValue(vec2 uv)\n{\n    vec2 msdfUnit = pxRange/vec2(textureSize(iChannel0, 0));\n    vec3 texel = texture(iChannel0, uv).rgb;\n    float sigDist = median(texel.r, texel.g, texel.b) - 0.5;\n    sigDist *= dot(msdfUnit, 0.5/fwidth(uv));\n    return clamp(sigDist + 0.5, 0.0, 1.0);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n    \n    //float fromSDFTexel = uv.x;\n    float fromSDFTexel = uv.x + sin((iTime + uv.y + uv.x * cos(iTime)) * 2.0) * 0.05;\n    //float fromSDFTexel = GetSDFValue(uv); // if only there were SDF texture\n    \n    float firstColorChange = smoothstep(edge1Pos - edgeSize, edge1Pos + edgeSize, fromSDFTexel);\n    float secondColorChange = smoothstep(edge22Pos - edgeSize, edge22Pos + edgeSize, fromSDFTexel);\n    float thirdColorChange = smoothstep(edge3Pos - edgeSize, edge3Pos + edgeSize, fromSDFTexel);\n    \n    vec4 pixelColor = mix(mix(color1, color2, firstColorChange), mix(color3, color4, thirdColorChange), secondColorChange);\n\n    // Output to screen\n    fragColor = pixelColor;\n}","name":"Image","description":"","type":"image"}]}