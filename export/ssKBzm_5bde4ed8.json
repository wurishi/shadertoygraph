{"ver":"0.1","info":{"id":"ssKBzm","date":"1657905501","viewed":513,"name":"Lava new version","username":"MelisaHot","description":"New version of lava.","likes":14,"published":1,"flags":0,"usePreview":0,"tags":["lavamagma"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\nmat2 rot(float a){\nreturn mat2(cos(a),sin(a),-sin(a),cos(a));\n}\n\n\n\nfloat hash21(vec2 n) {\n    return fract(cos(dot(n, vec2(5.9898, 4.1414))) * 65899.89956);\n}\n\n\nfloat noise( in vec2 n )\n{   \n    const vec2 d = vec2(0.0, 1.0);\n    vec2 b = floor(n);\n    vec2 f = smoothstep(vec2(0.), vec2(1), fract(n));\n    return mix(mix(hash21(b), hash21(b + d.yx), f.x), mix(hash21(b + d.xy), hash21(b + d.yy), f.x), f.y);\n    }\n\nvec2 mixNoise(vec2 p)\n{\n    float epsilon = .968785675;\n\tfloat noiseX = noise(vec2(p.x+epsilon,p.y))-noise(vec2(p.x-epsilon,p.y));\n\tfloat noiseY = noise(vec2(p.x,p.y+epsilon))-noise(vec2(p.x,p.y-epsilon));\n\treturn vec2(noiseX,noiseY);\n}\n\nfloat fbm(in vec2 p)\n{\n\tfloat amplitude=3.;\n\tfloat total = 0.;\n\tvec2 pom = p;\n\tfor (float i= 1.3232;i < 7.45;i++ )\n\t{\n\t\tp += iTime*.05;\n\t\tpom+=iTime*0.09;\n\t\tvec2 n= mixNoise(i*p*.3244243+iTime*.131321);\n\t\tn*=rot(iTime*.5-(0.03456*p.x+0.0342322*p.y)*50.);\n\t\tp += n*.5;\n\t\ttotal+= (sin(noise(p)*8.5)*0.55+0.4566)/amplitude;\n\t\t\n\t\tp = mix(pom,p,0.5);\n\t\t\n\t\tamplitude *= 1.3;\n\t\t\n\t\tp *= 2.007556;\n\t\tpom *= 1.6895367;\n\t}\n\treturn total;\t\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    uv.x *= iResolution.x/iResolution.y;\n    uv*= 2.2;\n\tfloat fbm = fbm(uv);\n\tvec3 col = vec3(.212,0.08,0.03)/max(fbm, 0.0001);\n\tcol=pow(col,vec3(1.5));\n\tfragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}