{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"float eval(vec2 uv)\n{\n\tfloat time = mix(0.0, iTime, clamp(iMouse.z, 0.0, 1.0));\n\tuv /= iResolution.xy + sin(time / 5.0) * 100.0;\n\t\n\tfloat sf = ((tan(uv.x / uv.y * 25.0) * cos(uv.y * uv.x * 10.0)) + \n\t\t\t    (sin(uv.y) * fract(uv.x * 20.0 + uv.y * 14.0))) * 5.0;\n\treturn clamp(sf, 0.0, 1.0);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tfloat sf = eval(fragCoord.xy);\n\t//float d = fwidth(sf);\n\tfloat r;\n\t\n\tbool doSSAA = true; //d > 0.0;\n\t\n\tif (doSSAA)\n\t{\t\t\n\t\t// 4x rotated grid\n\t\tvec4 offsets[2];\n\t\toffsets[0] = vec4(-0.375, 0.125, 0.125, 0.375);\n\t\toffsets[1] = vec4(0.375, -0.125, -0.125, -0.375);\n\t\t\n\t\tvec4 samples;\n\t\t\n\t\tsamples = vec4(eval(fragCoord.xy + offsets[0].xy),\n\t\t\t\t\t  eval(fragCoord.xy + offsets[0].zw),\n\t\t\t\t\t  eval(fragCoord.xy + offsets[1].xy),\n\t\t\t\t\t  eval(fragCoord.xy + offsets[1].zw));\n\t\t\n\t\t//float centerSample = clamp(sf, 0.0, 1.0);\n\t\t//float centerSample = sf;\n\t\t//samples = clamp(samples, 0.0, 1.0);\n\t\t\n\t\tvec4 weights = vec4(0.25);\n\t\t//float centerWeight = 0.125;\n\t\t\n\t\tr = //centerSample * centerWeight + \n\t\t\tdot(samples, weights);\n\t\t\n\t\tr = clamp(r, 0.0, 1.0);\n\t\t//r = dot(samples, weights);\n\t\t//r = 1.0;\n\t}\t\n\telse\n\t{\n\t\t//r = 0.0;\n\t\tr = clamp(sf, 0.0, 1.0);\n\t}\n\t\t\n\t//fragColor = vec4(sf, r, 0.0, 1.0);\n\tfragColor = vec4(0.0, r, 0.0, 1.0);\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"4sXGWs","date":"1381353001","viewed":720,"name":"Rotated grid supersampling","username":"renaudbedard","description":"Supersampling of a high and low frequency function for screen-space anti-aliasing.\nClick to animate!","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["antialiasing","supersampling","rgssaa","ssaa"],"hasliked":0,"parentid":"","parentname":""}}