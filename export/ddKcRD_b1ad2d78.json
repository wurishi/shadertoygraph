{"ver":"0.1","info":{"id":"ddKcRD","date":"1695864509","viewed":84,"name":"Titanic","username":"Elsio","description":"Jack!? where you are?","likes":8,"published":1,"flags":0,"usePreview":0,"tags":["tutorial","water","flood","rose","deck","barco","cabine"],"hasliked":0,"parentid":"ddVczW","parentname":"Corre!"},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define rot(r) mat2(cos(r), sin(r), -sin(r), cos(r))\n#define t iTime\n#define r iResolution\n\n// inspiração: https://www.shadertoy.com/view/ldV3W1\n\nvoid mainImage(out vec4 o, vec2 u) {    \n    o -= o;\n    u = (u - r.xy / 2.) / r.y;\n    \n    vec2 q; \n    vec3 D = normalize(vec3(u, .5)),\n         p = vec3(0, 0, t * .01),\n         f;     \n    \n    float i, j, d = 1.;\n    \n    D.zy *= rot(sin(t) * .1);\n    bool teste;\n    while(i++ < 100. && d > .0001) {\n        q = fract(p.xz) - .5;\n        float water = abs(p.y + cos(t) * .2 + .4) - .01;\n        d = min(\n                length(q) - .2, \n                min(\n                    -abs(p.y) + .9,\n                    water\n                )\n            );\n        \n        teste = d == water;\n\n        j = 1.;\n        while(j < 512.) \n            j += j,\n            f = (p + vec3(p.x, p.y, p.z * (teste?1.7:.01))) * j * 8., \n            f.yz *= rot(j),\n            d += abs(dot(sin(f*.1), vec3(1))) / j * .02;\n            \n        \n        p += D * d * .7;\n    }\n        \n    o += vec4(teste?5:11, 10, 9, 0) / i;\n}","name":"Image","description":"","type":"image"}]}