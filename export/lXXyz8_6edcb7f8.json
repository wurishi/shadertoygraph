{"ver":"0.1","info":{"id":"lXXyz8","date":"1725818069","viewed":27,"name":"Psychedelic effect","username":"bogdanmikh","description":"Psychedelic effect","likes":0,"published":1,"flags":2,"usePreview":0,"tags":["psychedelicmwebcam"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sf3zn","filepath":"/presets/webcam.png","previewfilepath":"/presets/webcam.png","type":"webcam","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float nSin(float x) {\n  return sin(x)*0.5+0.5;\n}\n\nvoid mainImage( out vec4 c , vec2 u ) {\n    float t = iDate.w;\n    u /= iResolution.xy;\n    u += vec2(sin(t*0.4), sin(t*0.6))*0.03;\n    \n    u.x = (u.x - 0.5)*(1.0+sin(t*0.4)*0.15) + 0.5;\n    u.y = (u.y - 0.5)*(1.0+sin(t*0.1)*0.15) + 0.5;\n    \n    u.x += sin(u.y*3.0+t)*0.02;\n    u.y += cos(u.x*4.5+t)*0.02;\n    \n    float w = sin(t*0.5)*0.2;\n    vec2 p = u - 0.5;\n  vec2 pu = vec2(length(p), atan(p.y, p.x));\n    pu.x *= (1.0/w*clamp(pu.x, 0.0, w));\n    u = vec2(pu.x*cos(pu.y), pu.x*sin(pu.y))+0.5;\n\n    \n    float vibration = nSin(t*0.8)*nSin(t*0.2);\n    vec2 vibU = u;\n  vibU.x += vibration*sin(t*99.0)*vibration*0.03;\n    vibU.y += vibration*sin(t*24.0)*vibration*0.03;\n    \n    \n    c = texture(iChannel0, u);\n    float r1 = 0.5*sin(t*4.0)+0.6;\n    float g1 = 0.1*sin(t*2.0)+0.8;\n    float b1 = 0.2*sin(iDate.w*3.51)+0.2;\n    float t1 = 0.5*sin(iDate.w)+1.0;\n    float rc1 = 0.5*sin(iDate.w*4.0)+0.6;\n    float gc1 = 0.1*sin(iDate.w*2.0)+0.8;\n    float bc1 = 0.2*sin(iDate.w*3.51)+0.2;\n    if (r1*c.r + g1*c.g + b1*c.b > t1) {\n      c.r *= rc1;\n        c.g *= gc1;\n        c.b *= bc1;\n    }\n    \n    float r2 = 0.3*sin(t*4.0)-0.3;\n    float g2 = 0.2*sin(t*2.0)+0.8;\n    float b2 = 0.1*sin(t*3.51)+0.2;\n    float t2 = 0.3*sin(t*0.9)+0.9;\n    float rc2 = 0.1*sin(iDate.w*2.0)+0.6;\n    float gc2 = 0.2*sin(iDate.w*1.0)+0.8;\n    float bc2 = 0.4*sin(iDate.w*0.51)+0.2;\n    if (r2*c.r + g2*c.g + b2*c.b < t1) {\n      c.r *= rc2;\n        c.g *= gc2;\n        c.b *= bc2;\n    }\n    \n  vec4 vibSamp = texture(iChannel0, vibU);\n    c += vibSamp*vibration;\n}\n","name":"Image","description":"","type":"image"}]}