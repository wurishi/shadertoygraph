{"ver":"0.1","info":{"id":"Xl23Rt","date":"1431451639","viewed":333,"name":"First Metaballs (Anastadunbar)","username":"anastadunbar","description":"Never tried to make metaballs before. I am bored. They're kissing? Just made a random music in the background.","likes":6,"published":1,"flags":8,"usePreview":0,"tags":["2d","sound","metaballs","balls","noob"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[],"code":"float clamps(float val) {\n    return clamp(val,0.,1.);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    vec2 suv = ((uv-0.5)*vec2(1.8,1.))+0.5;\n    //Pixelated:\n    //suv = floor(suv*100.)/100.;\n    //uv = floor(uv*100.)/100.;\n    float time = iTime;\n    float sintime1 = (sin(time)/2.)+0.5;\n    float costime1 = (cos(time)/2.)+0.5;\n    float sintime2 = (sin(time*1.4)/2.)+0.5;\n    float costime2 = (cos(time*1.2)/2.)+0.5;\n    vec2 pos1 = vec2(costime1, ((sintime1-0.5)*0.7)+0.5 );\n    vec2 pos2 = vec2(costime2, ((sintime2-0.5)*0.8)+0.5 );\n    float circle1 = length(suv-pos1);\n    float circle2 = length(suv-pos2);\n    float circle3 = (((clamps(1.-circle1)+clamps(1.-circle2))-0.5)*2.)/7.;\n    float circlea1 = clamps(1.-circle1);\n    float circlea2 = clamps(1.-circle2);\n    float circlea3 = clamps((clamps((circlea1-0.91))+clamps((circlea2-0.91)))*200.);\n    \n    float metaballs1 = 1.-clamps((circle1*circle2)*2.);\n    metaballs1 -= 0.9;\n    metaballs1 *= 300.;\n    metaballs1 = clamps(metaballs1);\n    metaballs1 += circlea3;\n    \n    vec3 grd1 = vec3(sin(uv.x*2.4),sin((uv.x+0.2)*3.),uv.y);\n    \n    vec3 colors = vec3(metaballs1);\n    colors = clamp(colors,0.,1.);\n    colors = vec3((grd1-colors)+circle3);\n    \n\tfragColor = vec4(colors,1.0);\n}","name":"","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"float sin1( float val ) {\n    return (fract((val/3.1415)/4.)/4.)+sin(val);\n}\n\nfloat random_music(float time){\n    \n    float t = time*1.0;    \n    float a = 0.;\n    float b = floor(mod(t,4.));\n    float c = floor(mod(t*2.,8.));\n    float b1 = (mod(t*8.,4.))+1.;\n    float b2 = (mod(t*16.,4.))+1.;\n    \n    if(b == 0. && c != 1.){\n    a = (sin1(t*1000.));\n    a += (sin1(t*2400.*2.))/b1;\n    }\n    if(c == 1.){\n    a = (sin1(t*1200.));\n    a += (sin1(t*3000.*2.))/b1; \n    }\n    if(b == 1.){\n    a = (sin1(t*1500.));\n    a += (sin1(t*1200.*2.))/b1;\n    }\n    if(b == 2.){\n    a = (sin1(t*2000.));\n    a += (sin1(t*2000.*2.))/b1;\n    }\n    if(b == 3.){\n    a = (sin1(t*1800.));\n    a += (sin1(t*1500.*2.))/b1;\n    }\n    \n    a = (a/b2)/2.;\n    float kt = 1.-(mod(t*2.,1.)+1.);\n    float k = sin(kt*(400.-((1.-kt)*100.)));\n    k = k/3.;\n    \n    return ( a+k );\n}\n\nvec2 mainSound( in int samp,float time)\n{\n    float t = time*1.0;\n    float music = random_music(t);\n    \n    /* DELAY:\n    const int REPEAT = 30;\n    for(int i = 0; i < REPEAT; i++) {\n    float ii = float(i);\n    music += random_music(t-(ii/3.))/(ii+1.);\n    }\n    music /= float(REPEAT)/13.;\n    */\n    \n    \n    return vec2( music );\n}","name":"","description":"","type":"sound"}]}