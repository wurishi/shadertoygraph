{"ver":"0.1","info":{"id":"XsdXWn","date":"1458729833","viewed":2188,"name":"texture advection: 3 phased","username":"FabriceNeyret2","description":"Combining 3 phased regenerated texture maintains a constant contrats.\nIn the case of deformation, this also allows to keep the pattern unstretched.","likes":28,"published":3,"flags":0,"usePreview":0,"tags":["texture","advection"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGzn","filepath":"/media/a/0c7bf5fe9462d5bffbd11126e82908e39be3ce56220d900f633d58fb432e56f5.png","previewfilepath":"/media/ap/0c7bf5fe9462d5bffbd11126e82908e39be3ce56220d900f633d58fb432e56f5.png","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"Xdf3zn","filepath":"/media/a/85a6d68622b36995ccb98a89bbb119edf167c914660e4450d313de049320005c.png","previewfilepath":"/media/ap/85a6d68622b36995ccb98a89bbb119edf167c914660e4450d313de049320005c.png","type":"texture","channel":1,"sampler":{"filter":"nearest","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// cf https://hal.inria.fr/inria-00537472  ( also exist in Lagrangian form )\n\n#define rot(a) mat2(cos(a),-sin(a),sin(a),cos(a))\n\nvoid mainImage( out vec4 O, in vec2 U )\n{\n    float t = mod(iTime,6.283);\n\tvec2 uv = U / iResolution.xy - .5;\n    \n    O-=O;\n    \n    for (float i=0.; i<3.; i++) {\n        float ti = t+ 6.283/3.*i,\n              wi = (.5-.5*cos(ti))/1.5,\n              v = 3./(.01+length(uv));\n        vec2 uvi = uv*rot(.3*(-.5+fract(ti/6.283))*v);\n        //if (i>0.) break;// else wi=1.; // uncomment to show smearing / trick with 1 layer\n        if (uv.x < 0.)\n\t        O += texture(iChannel0, .5 + uvi ).rrrr  * wi;\n\t    else\n            O[int(i)] += texture(iChannel1, .5 + uvi ).x  * wi;  // show each phase in colors\n    }\n}","name":"Image","description":"","type":"image"}]}