{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"vec3 rotate(vec3 src, float pitch, float yaw, float roll)\n{\n\tvec3 dst;\n\tdst.x = src.x * cos(pitch) - src.y * sin(pitch);\n\tdst.y = src.x * sin(pitch) + src.y * cos(pitch);\n\tdst.z = src.z;\n\t\n\tsrc = dst;\n\t\n\tdst.x = src.x * cos(yaw) - src.z * sin(yaw);\n\tdst.y = src.y;\n\tdst.z = src.x * sin(yaw) + src.z * cos(yaw);\n\t\n\tsrc = dst;\n\n\tdst.x = src.x;\t\n\tdst.y = src.y * cos(roll) - src.z * sin(roll);\n\tdst.z = src.y * sin(roll) + src.z * cos(roll);\n\t\n\treturn dst;\n}\n\nfloat acc_line(vec3 a, vec3 b, vec2 uv)\n{\t\n\tvec2 dir = normalize(a.xy-b.xy);\n\tvec2 dir2 = a.xy-uv;\n\tvec2 dir3 = uv-b.xy;\n\tvec2 pdir = vec2(-dir.y,dir.x);\n\t\n\tfloat d = dot(pdir,dir2);\n\t\n\tif ( dot(dir,dir2) < 0.0 ) d = length(uv-a.xy);\n\tif ( dot(dir,dir3) < 0.0 ) d = length(uv-b.xy);\n\t\n\treturn max(0.04 - abs(d), 0.0) * 10.0;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec3 box[8], tbox[8];\n\tbox[0] = vec3(0.5,0.5,0.5);\n\tbox[1] = vec3(-0.5,0.5,0.5);\n\tbox[2] = vec3(-0.5,-0.5,0.5);\n\tbox[3] = vec3(-0.5,-0.5,-0.5);\n\tbox[4] = vec3(0.5,-0.5,-0.5);\n\tbox[5] = vec3(0.5,0.5,-0.5);\n\tbox[6] = vec3(0.5,-0.5,0.5);\n\tbox[7] = vec3(-0.5,0.5,-0.5);\n\t\n\tvec2 uv = vec2(-0.5,-0.5) + fragCoord.xy / iResolution.xy;\n\tfloat c = 0.0;\n\tfloat c2 = 0.0;\n\t\n\tfor(int i=0; i<8; i++)\n\t{\n\t\ttbox[i] = rotate(box[i] * .5,iTime/3.0,iTime,iTime/2.0);\n\t\ttbox[i] = tbox[i] * (1.0 + tbox[i].z);\n\t\tvec2 diff = (uv - tbox[i].xy);\n\t\tfloat len = length(diff) * 10.0 - tbox[i].z / 2.0;\n\t\tc = max((5.0 - len) * (0.025 + cos(iTime) / 80.0), c);\n\t}\n\t\n\tc = max(c, acc_line(tbox[0],tbox[1],uv));\n\tc = max(c, acc_line(tbox[0],tbox[5],uv));\n\tc = max(c, acc_line(tbox[0],tbox[6],uv));\n\t\n\tc = max(c, acc_line(tbox[1],tbox[2],uv));\n\tc = max(c, acc_line(tbox[1],tbox[7],uv));\n\t\n\tc = max(c, acc_line(tbox[2],tbox[6],uv));\n\tc = max(c, acc_line(tbox[2],tbox[3],uv));\n\t\n\tc = max(c, acc_line(tbox[3],tbox[4],uv));\n\tc = max(c, acc_line(tbox[3],tbox[7],uv));\n\t\n\tc = max(c, acc_line(tbox[4],tbox[5],uv));\n\tc = max(c, acc_line(tbox[4],tbox[6],uv));\n\t\n\tc = max(c, acc_line(tbox[5],tbox[7],uv));\n\t\n\tfragColor = vec4(\n\t\t0.0,\n\t\tcos(c*30.0 + 3.14),\n\t\tc*8.0,\n\t\t1.0);\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"MdSGWW","date":"1387864155","viewed":189,"name":"Box Thing","username":"Hxrmn","description":"It's a pretty box.","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["2d","distancefield"],"hasliked":0,"parentid":"","parentname":""}}