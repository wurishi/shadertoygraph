{"ver":"0.1","info":{"id":"ttByDV","date":"1595363241","viewed":135,"name":"fork- Disco Lighting","username":"jorge2017a1","description":"//https://www.shadertoy.com/view/lllXWr   .....Creado por eiffie en 2015-07-04\n//Disco Lighting\n","likes":5,"published":1,"flags":8,"usePreview":0,"tags":["forkdiscolightingsonido"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"///code de ShaderSketches....Lattice3.glsl\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    const float pi = 3.1415926;\n    float t = iTime * 0.7;\n\n    float scale = 10.0 / iResolution.y;\n    vec2 p = fragCoord.xy * scale + 0.5; // pos normalized /w grid\n    p += vec2(2.0, 0.5) * iTime;\n\n    float rnd = fract(sin(dot(floor(p), vec2(21.98, 19.37))) * 4231.73);\n    float flip = fract(rnd * 13.8273) > 0.5 ? 1.0 : -1.0;\n    rnd = floor(rnd * 2.0) / 2.0 + floor(t) * flip / 2.0;\n\n    float anim = smoothstep(0.0, 0.66, fract(t));\n    float phi = pi * (rnd + anim * flip / 2.0);\n    vec2 a1 = vec2(cos(phi), sin(phi));\n    vec2 a2 = vec2(-a1.y, a1.x);\n    vec2 a3 = vec2(cos(phi + pi / 4.0), sin(phi + pi / 4.0));\n\n    vec2 pf = fract(p) - 0.5;\n    float d1 = abs(min(min(dot( pf, a1), dot( pf, a2)), dot( pf, a3) - 0.2));\n    float d2 = abs(min(min(dot(-pf, a1), dot(-pf, a2)), dot(-pf, a3) - 0.2));\n\n    float w = 0.1 + sin(t) * 0.08; // line width\n    float c = 1.0 - clamp((w - min(d1, d2)) / scale, 0.0, 1.0);\n    fragColor = vec4(c, 0.5 * c, 0.0, 1.0);\n}\n\n\n","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"///modificado por Jorge F.p\n//Referencia de sonido\n//https://www.shadertoy.com/view/lllXWr   .....Creado por eiffie en 2015-07-04\n//Disco Lighting\n\n#define PI 3.14159\nconst float tau = 6.2831855;\n\nfloat rand(float t){return fract(sin(dot(vec2(t),vec2(12.9898,78.233)))*43758.5453);}\nfloat noyz(float t){return mix(rand(floor(t)),rand(floor(t)+1.0),fract(t));}\n\n\n// from https://www.shadertoy.com/view/lsfSW2\nfloat music_boxv0(float freq, float time)\n{\n    float y = 0.0;\n    y += 0.35*sin(1.00*tau*freq*time);\n    y += 0.22*sin(3.00*tau*freq*time);\n    y += 0.14*sin(5.00*tau*freq*time);\n    y += 0.07*sin(7.00*tau*freq*time);\n    y += 0.03*sin(9.00*tau*freq*time);\n    y *= exp(-2.*time);\n\treturn y;\n}\n\n\nvec2 mainSound( in int samp,float time)\n{\n\ttime*=0.95;\n\t//just making a snare - sorry i forgot who i stole the other drums from :(\n\tfloat beat=fract(time*1.0);\n    \n\tfloat kick1=sin(beat*1000.0*max(1.0-beat*6.0,0.441))*(1.0-beat);\n    float kick2=sin(beat*1000.0*max(1.0-beat*6.0,0.441)+sin(beat*400.0+sin(beat*20.0)))*(1.0-beat);\n    \n    \n\tbeat=fract(time+0.5);\n\tfloat bt2=beat*2600.0*max(1.0-beat*6.0,0.666);\n\tfloat snare=sin(bt2)*noyz(bt2)*exp(-beat*16.0);\n    \n\tfloat hihat=rand(time)/pow(mod(time,0.125)+1.0,20.0)*(0.5+sin(time*PI*8.0)*0.45);\n    float hihat2=rand(time*1.0/4.0)*(0.5+sin(time*PI*8.0)*0.45);\n    \n    \n\tbeat=fract(time+0.75);\n\tfloat openhat=rand(beat)*exp(-beat*15.0);\n    \n    \n    \n    beat=fract(time+0.025+0.5);\n    float mb1= music_boxv0(200.0, beat+0.75);\n    \n    beat=fract(time+0.025+0.6);\n    float mb2= music_boxv0(210.0, beat+0.75);\n    \n    beat=fract(time+0.025+0.9);\n    float mb3= music_boxv0(230.0, beat+0.5);\n    \n    \n\t//float beats=kick1+0.5*kick2+0.25*snare+0.05*hihat+0.1*openhat+hihat2*0.025+mb1+mb3;\n    float beats=kick1+0.25*snare+0.05*hihat+0.1*openhat+hihat2*0.025+mb1+mb3;\n    //float beats=kick1+0.25*snare+0.05*hihat+0.1*openhat+mb1+mb3;\n    //float beats=kick1+0.25*snare+0.05*hihat+0.1*openhat+hihat2*0.025+mb1+mb3*kick2;\n\t\n    \n    \n\t\n\treturn clamp(vec2(beats),-1.0,1.0);\n}\n","name":"Sound","description":"","type":"sound"}]}