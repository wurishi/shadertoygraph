{"ver":"0.1","info":{"id":"4tVfzc","date":"1543462348","viewed":212,"name":"Pikmin's gpu sound","username":"pikmin2010","description":"playing around with sound","likes":4,"published":1,"flags":64,"usePreview":0,"tags":["sound"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4tl3DH","filepath":"https://soundcloud.com/best_no_copyright_music/ship-wrek-pain-ft-mia-vaile","previewfilepath":"https://soundcloud.com/best_no_copyright_music/ship-wrek-pain-ft-mia-vaile","type":"musicstream","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":0}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\nfloat DistLine(vec3 ro, vec3 rd, vec3 p) {\n    \n    \n    return length(cross(p-ro,rd))/length(rd)-0.2;\n    \n    \n}\n\nvec3 render(vec3 color,float fft,vec3 p,vec3 freq){\n    \n        //This is done very poorly will fix lol\n\n    float d = color.r;\n    \n    color.r += sin(fft)*.2 + sin(p.z*.5 - fft * 3.);\n    fft +=0.33;\n\tcolor.g += sin(fft)*.2 + sin(p.z*.5 - fft * 3.);\n    fft +=0.33;\n\tcolor.b += sin(fft)*.2 + sin(p.z*.5 - fft * 3.);\n    \n    \n    color += .025 / (.01 + d * d);\n    color = mix(color,freq,0.45);\n\treturn (color);\n    \n    \n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n \n \n   \n    vec2 uv = fragCoord/iResolution.xy;\n    uv.y -= .5;\n    //uv.x +=0.35;\n    uv.x *= iResolution.x / iResolution.y;\n    \n    \n    // first texture row is frequency data\n\tfloat fft  = texture( iChannel0, vec2(uv.x,0.25) ).x; \n    // second texture row is the sound wave\n\tfloat wave = texture( iChannel0, vec2(uv.x,0.75) ).x;\n\t// convert frequency to colors\n\tvec3 freq = vec3( fft, 4.0*fft*(1.0-fft), 1.0-fft ) * fft;\n\n    wave = smoothstep(0., 3.0, wave);\n    \n    vec3 ro = vec3(0.,0.,-2.);\n    vec3 rd = vec3(uv.x,uv.y,0.)- ro;\n    \n    float t = wave *2.0;\n    vec3 p = vec3(sin(t*0.5)+.25,sin(t*15.)/25.,(sin(t*15.)/1.)+0.5);\n    float d = DistLine(ro,rd,p);\n    \n    d = smoothstep(.1, .09, d);\n\t\t\n    // Output to screen\n\n  \tvec3 color = render( vec3(d),fft ,p,freq );\n    \n\n    fragColor = vec4(color,1.);\n    \n}\n  \n\n\n\n/*used some code from\ninputing sound\nhttps://www.shadertoy.com/view/Xds3Rr\ncoloring\nhttps://www.shadertoy.com/view/MscBRs\n\n*/\n\n","name":"Image","description":"","type":"image"}]}