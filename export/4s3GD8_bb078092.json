{"ver":"0.1","info":{"id":"4s3GD8","date":"1449167887","viewed":211,"name":"TruchetFlipPlanes","username":"jt","description":"Perspective projection of changing truchet-tiles, based on Fabrice's compactification of my TruchetFlip\n[url]https://www.shadertoy.com/view/4st3R7[/url]\n[url]https://www.shadertoy.com/view/lst3R7[/url]\n[url]https://www.shadertoy.com/view/Xd33W8[/url]","likes":10,"published":1,"flags":0,"usePreview":0,"tags":["truchet","perspective","planes"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"Xsf3zn","filepath":"/media/a/f735bee5b64ef98879dc618b016ecf7939a5756040c2cde21ccb15e69a6e1cfb.png","previewfilepath":"/media/ap/f735bee5b64ef98879dc618b016ecf7939a5756040c2cde21ccb15e69a6e1cfb.png","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Truchet Flip Planes - written 2015 by JT, compactified & documented by FabriceNeyret2\n// License Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.\n// based on\n// https://www.shadertoy.com/view/Xd33W8 Checkers Perspective Planes (JT)\n// https://www.shadertoy.com/view/4st3R7 TruchetTilesFlip (JT)\n// https://www.shadertoy.com/view/lst3R7 TruchetTilesFlip2 (FabriceNeyret2)\n\n#define R(s) texture(iChannel0, s + t/1e3).x  // random generator\n#define S(v) smoothstep(.45,.55, len(v))        // use either len() or length()\n\nfloat t,s,d;\n\nfloat len(vec2 v) {                             // roundness tuning. richer than length(v)\n    float w = .2 + 1.6*abs(fract(t/16.)-.5);    // 1/w in [1/5 .. 1]\n    v = pow(v, vec2(1./w));\n    return pow(v.x+v.y, w);\n}\n\nvoid mainImage( out vec4 O,  vec2 I ) {\n    t = iTime;\n\n    vec2 w = iResolution.xy;\n    I = (I+I-w)/w.y;\n    I /= vec2(2, d=I.y) * abs(d) / 5.;\n    I.y += t;\n    w = ceil(I);\n    I.x *= s = sign( R(w/128.) - .5 );          // random flip (for orientation and coloring)\n    s *= 2.*mod(w.x+w.y,2.)-1.;                 // checkboard flip (for coloring)\n    O -= O -(s*S(I=fract(I))*S(1.-I) + .5-.5*s)*d*d;\n}\n","name":"Image","description":"","type":"image"}]}