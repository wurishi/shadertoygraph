{"ver":"0.1","info":{"id":"mldyzf","date":"1699618166","viewed":39,"name":"Lotus Flower","username":"Aleksandr73591","description":"Hello, my name is Aleksandr, I made this shader. Originally I wrote it on my android device in GLES (Shader Editor application).\n\nMy LinkedIn profile: https://www.linkedin.com/in/aleksandrpogosov\n","likes":7,"published":1,"flags":0,"usePreview":0,"tags":["flower","color","lotus"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Written by Aleksandr Pogosov,\n// 2023 All rights reserved\n// aleksandr7937937@gmail.com\n// Originally written by me on Android (GLES) via Shader Editor application\n\nvec3 waveCol (vec3 point, float edge_inner, float edge_outer, float time)\n{\n\tfloat pLength = length(point);\n\tfloat outerRing = smoothstep(pLength + edge_outer, pLength + edge_inner,\n\ttime);\n\tfloat innerRing = 1.0 - outerRing;\n\tfloat finalRing = innerRing * outerRing;\n\tvec3 vecReturn = point* vec3( finalRing);\n\treturn vecReturn;\n}\n\n\nfloat sd_circle(vec3 point,float radius)\n{\n\treturn length(point.xy)- radius;\n}\n\n\nfloat sd_square(vec3 point,float size)\n{\n\treturn max(abs(point.x), abs(point.y))- size;\n}\n\n//PS, initially this shader was written in 3D \n//but I changed it later to 2D. \n//So most of the functions work with vec3.\n//I might fix it to vec2 later but for now I `ll leave it as it is.\n\nmat3 rotate_z(float angle)\n{\nreturn mat3(\n\tcos(angle), -sin(angle),0.0,\n\tsin(angle),cos(angle),0.0,\n\t0.0,0.0,1.0);\n}\n\nfloat sd_leaf(vec3 point)\n{\n\tfloat square_1 = sd_square(point+vec3(0.5,0.5,0.0),0.5);\n\tfloat square_2 = sd_square(point-vec3(0.5,0.5,0.0),0.5);\n\tfloat squares= min(square_1, square_2);\n\tsquares = step(0.0,squares);\n\n\tfloat circle = sd_circle(point, 1.);\n\tcircle = step(0.0,circle);\n\treturn min(circle,squares);\n}\n\nvec3 leafPosCal(vec3 vec, float rotationAngle, float distFromCenter)\n{\n\treturn vec * rotate_z(rotationAngle)+ vec3(distFromCenter,distFromCenter,0.0);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n\tfloat posCos= (cos(iTime)+1.)/2.;\n\tvec3 col = vec3(uv, .75);\n\n\tuv= uv * 2.-1.;\n\tuv.y*= iResolution.y/iResolution.x;\n    uv *= 2.0;\n\tcol += waveCol(vec3(uv,1.),0.0,1.0,\n\tposCos);\n\n\tvec3 uv_leaf = vec3(uv,1.);\n\tuv_leaf*=5.;\n\n\t// Circle at the center of the flower\n\n\tvec3 extraBackCol = vec3(0.0,0.5,1.0);\n\tcol= mix(extraBackCol,col, sd_circle(vec3(uv,1.0),posCos));\n\n\tvec3 centerCircleCol = vec3(.7,0.0,.5);\n\tcol= mix(centerCircleCol,col, step(0.0,sd_circle(vec3(uv,0.0),0.03)));\n\n\t// Third leaf row\n\tvec3 uv_leaf_3 = vec3(uv,1.);\n\tuv_leaf_3*=8.;\n\n\tvec3 leaf_col_3 = col/2.-vec3(\n\tsd_circle(vec3(uv,1.), posCos),\n\t0.0,\n\tsd_circle(vec3(uv,1.), 1.0-posCos));\n\n\tfloat dis_3 = 4.5;\n\tfloat timeSp_3 = 3.;\n\n\tcol = mix(leaf_col_3,col, sd_leaf(leafPosCal(uv_leaf_3,iTime/timeSp_3, dis_3)));\n\tcol = mix(leaf_col_3,col, sd_leaf(leafPosCal(uv_leaf_3,iTime/timeSp_3+1.57, -dis_3)));\n\tcol = mix(leaf_col_3,col, sd_leaf(leafPosCal(uv_leaf_3,iTime/timeSp_3, -dis_3)));\n\tcol = mix(leaf_col_3,col,sd_leaf(leafPosCal(uv_leaf_3,iTime/timeSp_3+1.57,dis_3)));\n\n\tcol = mix(leaf_col_3,col,sd_leaf(leafPosCal(uv_leaf_3,iTime/timeSp_3+0.8,-dis_3)));\n\tcol = mix(leaf_col_3,col,sd_leaf(leafPosCal(uv_leaf_3,iTime/timeSp_3+1.57+0.8,dis_3)));\n\tcol = mix(leaf_col_3,col,sd_leaf(leafPosCal(uv_leaf_3,iTime/timeSp_3+0.8,dis_3)));\n\tcol = mix(leaf_col_3,col,sd_leaf(leafPosCal(uv_leaf_3,iTime/timeSp_3+ 1.57+0.8,-dis_3)));\n\n\tcol = mix(leaf_col_3,col, sd_leaf(leafPosCal(uv_leaf_3,iTime/timeSp_3 + 0.392, dis_3)));\n\tcol = mix(leaf_col_3,col, sd_leaf(leafPosCal(uv_leaf_3,iTime/timeSp_3+1.57 + 0.392, -dis_3)));\n\tcol = mix(leaf_col_3,col, sd_leaf(leafPosCal(uv_leaf_3,iTime/timeSp_3 + 0.392, -dis_3)));\n\tcol = mix(leaf_col_3,col,sd_leaf(leafPosCal(uv_leaf_3,iTime/timeSp_3+1.57 +0.392,dis_3)));\n\n\tcol = mix(leaf_col_3,col,sd_leaf(leafPosCal(uv_leaf_3,iTime/timeSp_3+1.18,-dis_3)));\n\tcol = mix(leaf_col_3,col,sd_leaf(leafPosCal(uv_leaf_3,iTime/timeSp_3+1.57+1.18,dis_3)));\n\tcol = mix(leaf_col_3,col,sd_leaf(leafPosCal(uv_leaf_3,iTime/timeSp_3+1.18,dis_3)));\n\tcol = mix(leaf_col_3,col,sd_leaf(leafPosCal(uv_leaf_3,iTime/timeSp_3+ 1.57+1.18,-dis_3)));\n\n\t//Second leaf row\n\tvec3 uv_leaf_2 = vec3(uv,1.);\n\tuv_leaf_2*=6.;\n\tvec3 leaf_col_2 = col/2.+vec3(\n\tsd_circle(vec3(uv,1.), posCos),\n\t0.0,\n\tsd_circle(vec3(uv,1.), 1.0-posCos));\n\n\tfloat dis_2 = 2.5;\n\tfloat timeSp_2 = 4.;\n\n\tcol = mix(leaf_col_2,col, sd_leaf(leafPosCal(uv_leaf_2,-iTime/timeSp_2, dis_2)));\n\tcol = mix(leaf_col_2,col, sd_leaf(leafPosCal(uv_leaf_2,-iTime/timeSp_2+1.5, -dis_2)));\n\tcol = mix(leaf_col_2,col, sd_leaf(leafPosCal(uv_leaf_2,-iTime/timeSp_2, -dis_2)));\n\tcol = mix(leaf_col_2,col,sd_leaf(leafPosCal(uv_leaf_2,-iTime/timeSp_2+1.57,dis_2)));\n\n\tcol = mix(leaf_col_2,col,sd_leaf(leafPosCal(uv_leaf_2,-iTime/timeSp_2+0.8,-dis_2)));\n\tcol = mix(leaf_col_2,col,sd_leaf(leafPosCal(uv_leaf_2,-iTime/timeSp_2+1.57+0.8,dis_2)));\n\tcol = mix(leaf_col_2,col,sd_leaf(leafPosCal(uv_leaf_2,-iTime/timeSp_2+0.8,dis_2)));\n\tcol = mix(leaf_col_2,col,sd_leaf(leafPosCal(uv_leaf_2,-iTime/timeSp_2+ 1.57+0.8,-dis_2)));\n\n\t//First leaf row\n\tvec3 leaf_col_1 =  col/3.- vec3(\n\tsd_circle(vec3(uv,1.), posCos),\n\tsd_circle(vec3(uv,1.),1.- posCos),\n\t1.0); \n\n\tfloat dis_1 = 1.3;\n\tfloat timeSp_1 = 5.;\n\tcol = mix(leaf_col_1,col, sd_leaf(leafPosCal(uv_leaf,iTime/timeSp_1,dis_1)));\n\tcol = mix(leaf_col_1,col, sd_leaf(leafPosCal(uv_leaf,iTime/timeSp_1+1.57,-dis_1)));\n\tcol = mix(leaf_col_1,col, sd_leaf(leafPosCal(uv_leaf,iTime/timeSp_1,-dis_1)));\n\tcol = mix(leaf_col_1,col,sd_leaf(leafPosCal(uv_leaf,iTime/timeSp_1 + 1.57,dis_1)));\n\n\n\tfragColor = vec4(col, 1.0);\n}\n","name":"Image","description":"","type":"image"}]}