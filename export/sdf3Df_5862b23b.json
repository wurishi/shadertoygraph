{"ver":"0.1","info":{"id":"sdf3Df","date":"1616648403","viewed":185,"name":"Wave ring","username":"ddpms","description":"reference : https://iquilezles.org/articles/morenoise/morenoise.htm","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["wave","domain","ring"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define WAVE_SPEED .7\n\nfloat random11(float t){\n    return fract(t*12575.825)*2521.5;\n}\n\nvec2 random22(vec2 c_){\n    float x = fract(sin(dot(c_, vec2(75.8,48.6)))*1e5);\n    float y = fract(sin(dot(c_, vec2(85.8,108.6)))*1e5);\n    return vec2(x,y)*2.-1.;\n}\n\nmat2 rotate2d(float _angle){\n    return mat2(cos(_angle),-sin(_angle),\n                sin(_angle),cos(_angle));\n}\n\nfloat noise(vec2 coord){\n    vec2 i = floor(coord);\n    vec2 f = fract(coord);\n    \n    f = f*f*f*(f*(f*6.-15.)+10.); \n    \n    float returnVal = mix(\tmix( dot(random22(i), coord-i), \n                                 dot(random22(i+vec2(1., 0.)), coord-(i+vec2(1., 0.))), \n                                 f.x),\n                            mix( dot(random22(i+vec2(0., 1.)), coord-(i+vec2(0., 1.))), \n                                 dot(random22(i+vec2(1., 1.)), coord-(i+vec2(1., 1.))), \n                                 f.x),\n                          \tf.y);\n\n    return returnVal; //-1 ~ 1\n}\n\nvec2 noiseVec2(vec2 coord){\n    coord += iTime*WAVE_SPEED;\n\t\n    // -1 ~ 1\n    return vec2( noise((coord+vec2(10.550,71.510))), \n                noise((coord+vec2(-710.410,150.650))));\n}\n\nfloat ring(vec2 p, float size){\n    float radius = 5.;\n    float brightness = 0.648;\n    float t = random11(size);\n    float r = 1./(radius*abs(size*length(p)-0.632));\n    \n    return r*brightness;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord){\n    vec2 uv = fragCoord/iResolution.xy;\n    uv *= 8.;\n    uv +=  noiseVec2(uv*-0.520);\n    \n    float size = sin(iTime)*.2+0.6;    \n    float depth = sin(size*.06)*1.5+1.5;\n    float r = ring(uv-4., size)*depth;\n\n    vec3 bgcol = vec3(0.01);\n    vec3 ring_col = vec3(0.049,0.114,0.265);\n    vec3 col = mix(bgcol, ring_col, r);\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}