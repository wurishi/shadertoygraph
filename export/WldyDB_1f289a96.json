{"ver":"0.1","info":{"id":"WldyDB","date":"1609844890","viewed":470,"name":"water color with turbidity","username":"FabriceNeyret2","description":"Floor of color F (left) seen through water of transmittance C, \nwith water depth gradient 0 (left) to max (right).\nTop: + turbidity of reflectance T.\n( no water-air interface accounted ).\nWould be cool to try with real values, or even spectra.\n","likes":9,"published":3,"flags":0,"usePreview":0,"tags":["water","spectral","beerlambert"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 O, vec2 U )\n{\n    U /= iResolution.xy;                                                  // --- without sRGB:\n    vec4 C = vec4(.006,.13,.8, 1),   // water transmittance spectrum per m   vec4(.1,.4,.8, 1)\n         F = vec4(1,.44,.013, 1),    // floor refectance spectrum            vec4(1,.686,.141,1)\n         T = vec4(.1),               // turbidity reflectance spectrum       vec4(.2)\n    \n    W = pow(C,vec4(3.*U.x));         // total transmitance up to floor\n    \n    O = W *  F;                      // floor color seen through water\n    if (U.y >.5) \n      O += (W-1.) / log(C) * T;      // turbidity seen through water\n      \n    O = pow(O, vec4(1./2.2));        // to sRGB\n}","name":"Image","description":"","type":"image"}]}