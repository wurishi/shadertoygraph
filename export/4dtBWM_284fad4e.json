{"ver":"0.1","info":{"id":"4dtBWM","date":"1525397185","viewed":236,"name":"simple music visualizer","username":"saidwho12","description":"some music","likes":2,"published":1,"flags":32,"usePreview":0,"tags":["music"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"nearest","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n    vec2 uv = fragCoord/iResolution.xy;\n    fragColor = texture(iChannel0, uv);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4df3Rn","filepath":"/media/a/3c33c415862bb7964d256f4749408247da6596f2167dca2c86cc38f83c244aa6.mp3","previewfilepath":"/media/ap/3c33c415862bb7964d256f4749408247da6596f2167dca2c86cc38f83c244aa6.mp3","type":"music","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"#define PI 3.14159\n#define TAU (2.*PI)\n\nfloat sdCircle( in vec2 p, in float r ) {\n\treturn length(p)-r;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n    vec2 uv = fragCoord/iResolution.xy;\n    vec2 p = (2.*fragCoord - iResolution.xy)/iResolution.y;\n    \n    vec4 idata = texture(iChannel0, uv), odata = vec4(0);\n    \n    float wave = 0.;\n    vec3 color = vec3(0);\n    float div = .125;\n    if(uv.y > div) {\n        float angle = abs(atan(p.x, p.y))/PI; // normalized angle\n        wave = texture(iChannel1, vec2(angle, 0)).x;\n        float dist = 1.-clamp(32.*abs(sdCircle(p, .36)-.25*wave), 0., 1.);\n        color = mix(vec3(.345, .553, 0), vec3(.9125, .2, .2), wave)*dist;\n        odata = vec4(.4*color+idata.xyz*idata.w, .912);\n    } else {\n        wave = uv.y-div*texture(iChannel1, vec2(uv.x, 1)).x;\n        color = vec3(abs(wave)<.003,0,0);\n        odata = vec4(.56*color+idata.xyz*idata.w, 0.75);\n    }\n    \n    fragColor = clamp(odata, 0., 1.);\n}","name":"Buf A","description":"","type":"buffer"}]}