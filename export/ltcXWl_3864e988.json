{"ver":"0.1","info":{"id":"ltcXWl","date":"1482161772","viewed":628,"name":"Explosion deform","username":"tibor0991","description":"Really basic shader, meant to be used on a video game.\nIt creates a distorsion on the pic based on the sourced (_X, _Y) coordinates which travels for a certain DIST_RANGE.\n","likes":7,"published":1,"flags":0,"usePreview":0,"tags":["2d","test","distorsion"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define _X 0.5\n#define _Y 0.5\n\n//center of distorsion\n#define CENTER -vec2(_X, _Y)\n\n//affects the distorsion speed\n#define TIME_FACTOR 1.0\n\n//PI constant\n#define M_PI 3.1415926535897932384626433832795\n\n//maximum distorsion distance\n#define DIST_RANGE 0.6 \n\n//maximum distorsion amplitude\n#define A 0.1\n\nfloat damped_sine_wave(float t)\n{\n    //dampening factor\n    #define LAMBDA 20.0 \n\n    //roughly equals to the amount of rippling in the distorsion\n    #define OMEGA 8.0\n    return A * exp(-LAMBDA*abs(t)) * (sin(OMEGA*M_PI*t));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy/ iResolution.xy;\n    uv += CENTER;      \n    float len = length(uv);\n    vec2 ver = uv / len;\n    //first correction: the length of the current point gets distorted following a damped sine wave.\n    float corr = damped_sine_wave( len-iTime*TIME_FACTOR );\n    //second correction: the effect of the correction gets further reduced in function of its distance from the center.\n    uv = ver * ( len + corr * clamp(DIST_RANGE-length(uv), 0.0, DIST_RANGE ));\n    uv -= CENTER;\n    fragColor = texture(iChannel0, uv);\n}\n","name":"Image","description":"","type":"image"}]}