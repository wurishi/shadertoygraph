{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"#define PI 3.14159265359\n#define GEAR_PHASE 0.0958\n\nvec2 cmul(vec2 v1, vec2 v2) {\n\treturn vec2(v1.x * v2.x - v1.y * v2.y, v1.y * v2.x + v1.x * v2.y);\n}\n\nvec2 cdiv(vec2 v1, vec2 v2) {\n\treturn vec2(v1.x * v2.x + v1.y * v2.y, v1.y * v2.x - v1.x * v2.y) / dot(v2, v2);\n}\n\nvec4 gear(vec2 uv, float dir, float phase) {\n\tvec2 p = uv - 0.5;\n\t\n\tfloat r = length(p);\n\tfloat t = smoothstep(0.0, 1.0, fract(iTime));\n\tt *= 2.0 * PI / 6.0;\n\tfloat a = atan(p.y, p.x) + (phase + t) * dir;\n\tfloat e = 0.20 + clamp(sin(a * 6.0) * 0.13, 0.0, 0.1);\n\t\n\tif (r < e) {\n\t\treturn vec4(0.7 + e - r, 0.0, 0.0, 1.0);\n\t}\n\telse {\n\t\treturn vec4(0.0);\n\t}\n}\n\nvec4 gears(vec2 uv) {\n\tvec4 c1 = gear(uv, 1.0, 0.0);\n\tvec4 c2 = gear(vec2(fract(uv.x + 0.5), uv.y), -1.0, GEAR_PHASE);\n\tvec4 c3 = gear(vec2(uv.x, fract(uv.y + 0.5)), -1.0, GEAR_PHASE);\n\t\n\treturn c1 * c1.a + c2 * c2.a + c3 * c3.a;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n\t\n\tuv -= 0.5;\n\tuv.x /= iResolution.y / iResolution.x;\n\t\n\tfloat t = sin(iTime * 0.1) * 6.0;\n\tvec2 a = vec2(3.0, 0.0);\n\tvec2 b = vec2(0.0, 0.0);\n\tvec2 c = vec2(0.0, t);\n\tvec2 d = vec2(0.0, 1.0);\n\tvec2 uv2 = cdiv(cmul(uv, a) + b, cmul(uv, c) + d);\n\t\n\tvec4 col = gears(fract(uv2));\n\t\n\tfragColor = col.a * col + vec4(abs(dot(uv, normalize(uv2))) * 0.25) * (1.0 - col.a);\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"Xdf3RM","date":"1364930061","viewed":876,"name":"Áttételek","username":"vahokif","description":"Thanks iq!","likes":14,"published":1,"flags":0,"usePreview":0,"tags":["2d","gears","mobius"],"hasliked":0,"parentid":"","parentname":""}}