{"ver":"0.1","info":{"id":"MtKGzW","date":"1473624308","viewed":215,"name":"Test In Ellipse","username":"Dermenslof","description":"test if point is in ellipse","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["ellipse"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define R iResolution.xy\n#define T iTime\n\nbool isInEllipse(vec2 uv, vec2 c, vec2 dim, float angle)\n{\n    uv *= mat2(cos(angle), -sin(angle), sin(angle), cos(angle));\n    c = pow(abs(uv - c) / dim, vec2(2));\n\treturn c.x + c.y <= 1.;\n}\n\nbool isOnEllipse(vec2 uv, vec2 c, vec2 dim, float angle)\n{\n    uv *= mat2(cos(angle), -sin(angle), sin(angle), cos(angle));\n    c = pow(abs(uv - c)/ dim, vec2(2));\n\tfloat d = c.x + c.y;\n    return d < 1. && d > .98;\n}\n\nvoid mainImage( out vec4 C, in vec2 U )\n{\n    /* start initialization */\n\tvec2 uv = 2. * U / R - 1.;\n    uv.x *= R.x / R.y;\n    C.rgb = vec3(0);\n    vec2 center = vec2(0, 0);\n    vec2 dim = vec2(.5, 1);\n    /* end initialisation */\n    \n    vec2 p;\n    p.x = cos(T * 2. * 1.2) * 1.2;\n    p.y = sin(T / 2. * 1.2) / 2.;\n    \n    /* start drawing */\n\tif (isOnEllipse(uv, center, dim, T / 2.3))\n        C.rgb = vec3(1, 0, 0);\n    \n    if (length(uv - p) < 1. / 64.)\n        C.rgb = vec3(1, 1, 0);\n    \n    if (length(uv - vec2(1.5, .5)) < .175)\n    {\n        if (isInEllipse(p, center, dim, T / 2.3))\n        \tC.rgb = vec3(0, 1, 0);\n        else\n            C.rgb = vec3(1, 0, 0);\n    }\n    \n    if (abs(uv.x - .002) < .002 || abs(uv.y - .002) < .002)\t// axis\n        C.rgb = vec3(1);\n    /* end drawing */\n}","name":"Image","description":"","type":"image"}]}