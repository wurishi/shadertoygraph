{"ver":"0.1","info":{"id":"ctsyzX","date":"1692349495","viewed":31,"name":"Bezier Curve Learning","username":"thekiross","description":"d","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["learningshader"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float Circle (vec2 p, vec2 c){\n    float d = length (p-c);\n    return smoothstep(fwidth(d),.0,d-.03);\n}\nfloat Line (vec2 p, vec2 a, vec2 b){\n    vec2 pa = p-a, ba = b-a;\n    float t = clamp(dot(pa,ba)/dot(ba,ba),0.,1.);\n    vec2 c = a +ba*t;\n    float d = length(c-p);\n    return smoothstep(fwidth(d),.0,d-.01);\n}\nvec2 Bezier(vec2 a, vec2 b, vec2 c,float t){\n    return mix(mix(a,c,t),mix(c,b,t),t);\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    \n    vec2 uv = (fragCoord-iResolution.xy*.5)/iResolution.x;\n    uv *= 5.;\n    float T = sin(iTime);\n    // points, start positions\n    vec2 A = vec2(-2.,-1.2),\n         AS = vec2(-2.,-1.2),\n         B = vec2(2.,1.),\n         BS = vec2(2.,1.5),\n         C = 5.*((iMouse.xy - iResolution.xy*.5)/iResolution.x);\n         \n    //points, end position \n    A = vec2(sin(AS.x*iTime*.5)*2.,sin(AS.y*iTime*.5)*1.2);\n    B = vec2(sin(BS.x*iTime*.5)*1.2,sin(BS.y*iTime*.5)*0.7);\n    vec3 col = vec3(0.);\n    \n    int NUM_SEGMENTS = 25;\n    vec2 P, PP = A, CC;\n    \n    float t=0.;\n    for(int i =1;i<=NUM_SEGMENTS;i++){\n        t = float(i)/float(NUM_SEGMENTS);\n        P = Bezier(A,B,C,t);\n        CC = Bezier (A,B,C,T*.5+.5);\n        vec3 lineCol = mix(vec3(1.,0.,0.),vec3(0.,0.,1.),t)*Line(uv, P, PP);\n        vec3 gradientCol = mix(vec3(1.,0.,0.),vec3(0.,0.,1.),t)* Line (uv,P,CC);\n        vec3 finalCol = mix(lineCol,gradientCol,0.5);\n        col += clamp(finalCol,0.,1.);\n        \n        PP = P;\n    }\n    col += vec3(1,0,0) *Circle(uv,A);\n    col += vec3(0,0,1) *Circle(uv,B);\n    col += vec3(0,1,1)* Circle(uv,C);\n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}