{"ver":"0.1","renderpass":[{"outputs":[{"channel":0,"id":"4dfGRr"}],"inputs":[],"code":"\n#define PI 3.1415926538\nfloat hash(vec2 p) {\n    return fract(sin(dot(p, vec2(127.1, 311.7))) * 43758.5453);\n}\n\nfloat gradientNoise(vec2 p) {\n    // Grid cell coordinates\n    vec2 i = floor(p);\n    vec2 f = fract(p);\n\n    // Interpolation weights (smoothstep for smooth interpolation)\n    vec2 u = f * f * (3.0 - 2.0 * f);\n\n    // Hash the corners of the cell\n    float a = hash(i);\n    float b = hash(i + vec2(1.0, 0.0));\n    float c = hash(i + vec2(0.0, 1.0));\n    float d = hash(i + vec2(1.0, 1.0));\n\n    // Interpolate the values\n    return mix(mix(a, b, u.x), mix(c, d, u.x), u.y);\n}\nfloat fbm( in vec2 x)\n{    \n\tfloat H = 1.;\n\tint numOctaves = 4;\n    float G = exp2(-H);\n    float f = 1.0;\n    float a = 1.0;\n    float t = 0.0;\n    float tenCycle = iTime*50.;\n    float fiveCycle = 5. * (sin(2. * PI * iTime/5.) + 1.)/.5;\n    vec2 offset = vec2(tenCycle, fiveCycle);\n    for( int i=0; i<numOctaves; i++ )\n    {\n        t += a*gradientNoise(f*x + offset*.1);\n        f *= 2.0;\n        a *= G;\n    }\n    return t;\n}\n\nvec3 palette(float t) {\n\tvec3 a = vec3(0.4); // Brightness\n\tvec3 b = vec3(0.5); // Contrast\n\tvec3 c = vec3(0.3, 0.3, 0.75); // Color change speed\n\tvec3 d = vec3(0.6, 0.4, 0.7); // Offset\n\t\n\treturn a + b * cos(PI * 2. * (c * t + d));\n}\n\nfloat pattern(vec2 p) {\n\tvec2 q = vec2(fbm(p), fbm(p + vec2(5.2, 1.3)));\n\t\n\tvec2 r = vec2(fbm(p + 4. * q + vec2(1.8, 4.5)), fbm(p + 4. * q + vec2(5.8, 2.0)));\n\n\treturn fbm(p + 4. * r);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = gl_FragCoord.xy/iResolution.y*10.;\n    \n    float pat = pattern(uv);\n    \n    vec3 color = palette(pat);\n    \n    fragColor = vec4(color,1.0);\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"lX3yzB","date":"1735257858","viewed":64,"name":"FBM Warp Test","username":"emilyel","description":"fbm","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["fbm"],"hasliked":0,"parentid":"","parentname":""}}