{"ver":"0.1","info":{"id":"ldXXzM","date":"1475028557","viewed":179,"name":"Scattered Brick","username":"Smitty","description":"Cutout / Block texture experiment","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["block"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec3 hash3( vec2 p )\n{\n    vec3 q = vec3( dot(p,vec2(127.1,311.7)), \n\t\t\t\t   dot(p,vec2(269.5,183.3)), \n\t\t\t\t   dot(p,vec2(419.2,371.9)) );\n\treturn fract(sin(q)*43758.5453);\n}\n\nfloat iqnoise( in vec2 x, float u, float v )\n{\n    vec2 p = floor(x);\n    vec2 f = fract(x);\n\t\t\n\tfloat k = 1.0+63.0*pow(1.0-v,4.0);\n\t\n\tfloat va = 0.0;\n\tfloat wt = 0.0;\n    for( int j=-2; j<=2; j++ )\n    for( int i=-2; i<=2; i++ )\n    {\n        vec2 g = vec2( float(i),float(j) );\n\t\tvec3 o = hash3( p + g )*vec3(u,u,1.0);\n\t\tvec2 r = g - f + o.xy;\n\t\tfloat d = dot(r,r);\n\t\tfloat ww = pow( 1.0-smoothstep(0.0,1.414,sqrt(d)), k );\n\t\tva += o.z*ww;\n\t\twt += ww;\n    }\n\t\n    return va/wt;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tfloat s = 20.;\n\t\n\tvec2 uv = (fragCoord.xy / iResolution.xy) - iMouse.xy/ iResolution.xy;\n\t\n\tfloat x = uv.x * s * 0.7;\n\tfloat y = uv.y * s;\n\t\n\tfloat x1 = floor(uv.x * s * 0.7);\t\n\tfloat y1 = floor(uv.y * s);\t\n\tif (mod(y1,2.) == 1.)\n\t{\n\t\tx1 = floor(uv.x * 0.7 * s + 0.5) - 0.5;\n\t}\n\t\n\tfloat y2 = y + 1.;\n\tfloat x2 = x + 1.;\t\n\t\t\n\t\n\tfloat l = x - x1;\n\tfloat r = x2 - x;\n\tfloat u = y2 - y;\n\tfloat d = y - y1;\t\n\t\n\tvec2 uv2 = vec2(x1  / (s*0.7), y1 / s);\n\t\n\tfloat f = iqnoise(7.1*uv2, 0.5, 0.5);\n\tif ((d > 0.15 && u > 0.15 && r > 0.15 && l > 0.15) && f > 0.8)\n\t{\t\t\n\t\tfragColor = vec4(0.4,0.11,0.1,1.0);\n\t}\n\telse\n\t{\n\t\tfragColor = vec4(0.5,0.5,0.5,1.0);\n\t}\t\n}","name":"Image","description":"","type":"image"}]}