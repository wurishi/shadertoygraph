{"ver":"0.1","info":{"id":"cdyfRm","date":"1698029982","viewed":55,"name":"video test-jf","username":"jorge2017a2","description":"video test","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["videotest"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4df3zn","filepath":"/media/a/3405e48f74815c7baa49133bdc835142948381fbe003ad2f12f5087715731153.ogv","previewfilepath":"/media/ap/3405e48f74815c7baa49133bdc835142948381fbe003ad2f12f5087715731153.ogv","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//por jorge2017a2\n//video test-jf----22-oct-2023-\n//referencia\n//https://iquilezles.org/articles/distfunctions2d\n///\n#define antialiasing(n) n/min(iResolution.y,iResolution.x)\n#define S(d,b) smoothstep(antialiasing(0.8),b,d)\n#define S2(d,b) smoothstep(6.0*antialiasing(0.5),b,d)\n#define PI     3.14159265\n#define TWO_PI 6.28318530\n\n\nfloat intersectSDF(float distA, float distB)\n\t{ return max(distA, distB);}\nfloat unionSDF(float distA, float distB)\n\t{ return min(distA, distB);}\nfloat differenceSDF(float distA, float distB)\n\t{ return max(distA, -distB);}\n\n\n\nvec3 DrawFigBorde(vec3 pColObj, vec3 colOut, float distObj )\n{ colOut = mix(colOut,pColObj ,S2( distObj,0.0));\n  colOut = mix(colOut,vec3(0.0) ,S2(abs( distObj)-0.005,0.0));\n  return colOut;\n}\n\n\n///oneshade    \nvec2 Rotate(in vec2 p, in vec2 o, in float r) \n{   float c = cos(r), s = sin(r);\n    return (p - o) * mat2(c, -s, s, c) + o;\n}\n\nfloat sdBox( in vec2 p, in vec2 b )\n{ vec2 d = abs(p)-b;  return length(max(d,0.0)) + min(max(d.x,d.y),0.0);  }\n\n\nfloat sdTriangleIsosceles( in vec2 p, in vec2 q )\n{\n    p.x = abs(p.x);\n    vec2 a = p - q*clamp( dot(p,q)/dot(q,q), 0.0, 1.0 );\n    vec2 b = p - q*vec2( clamp( p.x/q.x, 0.0, 1.0 ), 1.0 );\n    float s = -sign( q.y );\n    vec2 d = min( vec2( dot(a,a), s*(p.x*q.y-p.y*q.x) ),\n                  vec2( dot(b,b), s*(p.y-q.y)  ));\n    return -sqrt(d.x)*sign(d.y);\n}\n\n\nvec3 drawscreen(vec2 p, vec3 col, vec3 colIn)\n{\nvec2 p0=p;    \nvec2 pos, med;\nfloat d1;\n\n pos=vec2(2.26,2.16);\n med=vec2(1.55,1);\n d1= sdBox(p-pos, med );\ncol=DrawFigBorde(vec3(0.0), col, d1);\n\n\np.y=-p0.y+7.0;\n pos=vec2(0.69,3.15);\n med=vec2(0.45, 1);\n \nfloat d2= sdTriangleIsosceles(p-pos, med );\ncol=DrawFigBorde(vec3(0.0), col, d2);\n\n\n pos=vec2(3.81,3.14);\n med=vec2(0.45, 1);\n\nfloat d3= sdTriangleIsosceles(p-pos, med );\ncol=DrawFigBorde(vec3(0.0), col, d3);\n\n\npos=vec2(2.26,3.17);\nmed=vec2(0.45, 1);\nfloat d4= sdTriangleIsosceles(p-pos, med );\ncol=DrawFigBorde(vec3(0.0), col, d4);\n\n\np.y=-p0.y;\n//inferior triangulo\n pos=vec2(0.71,-1.47);\n med=vec2(0.45, 1);\n//rotar\nfloat ang = 180. * PI / 180.0;\nvec2 pr = Rotate(p- pos, med/2.0, ang);\nfloat d5 = sdTriangleIsosceles(pr, med);\ncol = DrawFigBorde(vec3(0.0), col, d5);\n\n\n\npos=vec2(3.25,-1.47);\nmed=vec2(0.45, 1);\n//rotar\nang = 180. * PI / 180.0;\npr = Rotate(p- pos, med/2.0, ang);\nfloat d6 = sdTriangleIsosceles(pr, med);\ncol = DrawFigBorde(vec3(0.0), col, d6);\n\n\n\npos=vec2(2.0,-1.45);\nmed=vec2(0.45, 1);\n//rotar\nang = 180. * PI / 180.0;\npr = Rotate(p- pos, med/2.0, ang);\nfloat d7 = sdTriangleIsosceles(pr, med);\ncol = DrawFigBorde(vec3(0.0), col, d7);\n\n pos=vec2(2.1,2.1);\n med=vec2(1.0,0.8);\n float d1a= sdBox(p-pos, med );\n \n float dif= differenceSDF(d1, d1a);\n \ncol=DrawFigBorde(colIn, col, dif);\n    return col;\n}\n\n\nvec3 drawscreenv2(vec2 p, vec3 col, vec3 colIn)\n{\nvec2 p0=p;    \nvec2 pos, med;\nfloat d1;\n\n pos=vec2(2.26,2.16);\n med=vec2(1.55,1);\n d1= sdBox(p-pos, med );\ncol=DrawFigBorde(vec3(0.0), col, d1);\n\n\np.y=-p0.y+7.0;\n pos=vec2(0.69,3.15);\n med=vec2(0.45, 1);\n \nfloat d2= sdTriangleIsosceles(p-pos, med );\nd1=unionSDF(d1, d2);\n\n pos=vec2(3.81,3.14);\n med=vec2(0.45, 1);\n\nfloat d3= sdTriangleIsosceles(p-pos, med );\nd1=unionSDF(d1, d3);\n\npos=vec2(2.26,3.17);\nmed=vec2(0.45, 1);\nfloat d4= sdTriangleIsosceles(p-pos, med );\ncol=DrawFigBorde(vec3(0.0), col, d4);\nd1=unionSDF(d1, d4);\n\np.y=-p0.y;\n//inferior triangulo\n pos=vec2(0.51,-1.47);\n med=vec2(0.45, 1);\n//rotar\nfloat ang = 180. * PI / 180.0;\nvec2 pr = Rotate(p- pos, med/2.0, ang);\nfloat d5 = sdTriangleIsosceles(pr, med);\nd1=unionSDF(d1, d5);\n\n\n\npos=vec2(3.25,-1.47);\nmed=vec2(0.45, 1);\n//rotar\nang = 180. * PI / 180.0;\npr = Rotate(p- pos, med/2.0, ang);\nfloat d6 = sdTriangleIsosceles(pr, med);\nd1=unionSDF(d1, d6);\n\n\n\npos=vec2(2.0,-1.45);\nmed=vec2(0.45, 1);\n//rotar\nang = 180. * PI / 180.0;\npr = Rotate(p- pos, med/2.0, ang);\nfloat d7 = sdTriangleIsosceles(pr, med);\nd1=unionSDF(d1, d7);\n\n\npos=vec2(3.82,-2.15);\nmed=vec2(0.45, 1);\nfloat d8= sdTriangleIsosceles(p-pos, med );\n//rotar\nang = -90. * PI / 180.0;\npr = Rotate(p- pos, med/2.0, ang);\nd8 = sdTriangleIsosceles(pr, med);\nd1=unionSDF(d1, d8);\n\npos=vec2(0.2,-2.8);\nmed=vec2(0.45, 1);\nfloat d9= sdTriangleIsosceles(p-pos, med );\n//rotar\nang = 90. * PI / 180.0;\npr = Rotate(p- pos, med/2.0, ang);\nd9 = sdTriangleIsosceles(pr, med);\nd1=unionSDF(d1, d9);\n\n\n pos=vec2(2.1,2.1);\n med=vec2(1.0,0.8);\n float d1a= sdBox(p-pos, med );\n float dif=unionSDF(d1, d1a);\ncol=DrawFigBorde(colIn, col, d1);\n\n    return col;\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    \n     vec2 uv = -1.0 + 2.0 * fragCoord.xy/iResolution.xy;\n\tuv.x *= iResolution.x/iResolution.y;\n    \n    vec2 uva = fragCoord/iResolution.xy;\n    uva*=1.20;\n    \n    uv-=vec2(-1.2,-1.0);\n    \n    float esc=2.0;\n    uv*=esc;\n    vec2 uv0=uv;\n    vec3 col = 0.5 + 0.5*cos(iTime+uv.xyx+vec3(0,2,4));\n\n    vec3 colin=texture(iChannel0, uva+vec2(-0.25,0.0)).xyz;\n    vec2  posb=-vec2(-1.6,-0.8);\n    vec3 colinb=texture(iChannel0, uva+vec2(0.2,0.1)).xyz;\n    \n    colinb=pow(colinb,  vec3(0.654545));\n    col= drawscreen(uv+posb, col, colinb);\n    col= drawscreenv2(uv+vec2(-1.2,0.0) ,col, colin);\n    \n    fragColor = vec4(col,1.0);\n}\n","name":"Image","description":"","type":"image"}]}