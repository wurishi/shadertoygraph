{"ver":"0.1","info":{"id":"lt2Xzt","date":"1445983131","viewed":235,"name":"quantum moire","username":"fnord","description":"my first attempt at porting haiku forth to shadertoy.\noriginal is at https://forthsalon.appspot.com/haiku-view/ahBzfmZvcnRoc2Fsb24taHJkchILEgVIYWlrdRiAgIDAtIOHCgw","likes":8,"published":1,"flags":0,"usePreview":0,"tags":["2d","moire","psychedelic","hypnotic"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[],"code":"vec2 xyRot(float n, in vec2 xy)\n\t{\n\t\treturn vec2(xy.x*cos(n)-xy.y*sin(n),\n\t\t\t\t\txy.x*sin(n)+xy.y*cos(n));\n\t}\n\nfloat r(vec2 xy)\n\t{\n\t\tvec2 tmp1 = xyRot(iTime/20.,xy);\n\t\tfloat tmp2 = 25.+30.*(sin(iTime/50.)+1.);\n\t\treturn sqrt(\n\t\t\t\tpow(sin(tmp1.x*tmp2),2.) +\n\t\t\t\tpow(sin(tmp1.y*tmp2),2.)\n\t\t\t\t);\n\t}\n\nfloat a(float m, float n, float x, float y)\n\t{\n\t\treturn (x-sin(iTime*m))*(y-cos(iTime*n));\n\t}\n\nfloat s(float n, float r)\n\t{\n\t\treturn abs(1.-abs(n-r));\n\t}\n\nfloat t_(float m, float n)\n\t{\n\t\treturn sin(iTime/n)*m+1.001;\n\t}\n\nvoid mainImage(out vec4 color, in vec2 coord)\n{\n   vec2 xy = coord.xy / iResolution.xy - vec2(0.5,0.5);\n   xy.x *= iResolution.x/iResolution.y;\n   float r_ = r(xy);\n   color.r = s(s(a(xy.x*t_(0.0505,5.050),xy.y*t_(0.0504,5.070),xy.x,xy.y),r_),r_);\n   color.g = s(s(a(xy.x*t_(0.0503,5.090),xy.y*t_(0.0502,5.011),xy.x,xy.y),r_),r_);\n   color.b = s(s(a(xy.x*t_(0.0501,5.013),xy.y*t_(0.0500,5.017),xy.x,xy.y),r_),r_);\n}","name":"","description":"","type":"image"}]}