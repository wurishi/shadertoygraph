{"ver":"0.1","info":{"id":"clBBWc","date":"1694541262","viewed":67,"name":"Approximate VHS luma halo","username":"untodesu","description":"Luminance halo is a peculiar effect that occurs in analog video, especially on VHS tapes. It looks like a haze on sharp luminance edges (so there's black haze on white background and white haze on black background)","likes":3,"published":1,"flags":32,"usePreview":0,"tags":["blur","luminance","halo","vhs"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage(out vec4 target, in vec2 frag)\n{\n    vec2 uv = frag / iResolution.xy;\n    vec4 vx = texture(iChannel0, uv);\n    vec4 vy = texture(iChannel1, uv);\n    target = 2.0 * vx - vy;\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"XdfGRr","filepath":"/media/a/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm","previewfilepath":"/media/ap/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"void mainImage(out vec4 target, in vec2 frag)\n{\n    /* Backported straight from RITEG */\n    vec4 color = texture(iChannel0, frag / iResolution.xy);\n    float y = dot(color.rgb, vec3(0.2990, 0.5870, 0.1140));\n    target = vec4(y, y, y, color.a);\n}\n","name":"Buffer A","description":"","type":"buffer"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"XsXGR8","channel":0}],"code":"void mainImage(out vec4 target, in vec2 frag)\n{\n    /* https://github.com/Jam3/glsl-fast-gaussian-blur */\n    const vec2 direction = vec2(3.5, 0.0);\n    vec2 uv = frag / iResolution.xy;\n    vec2 off1 = 1.411764705882353 * direction / iResolution.xy;\n    vec2 off2 = 3.294117647058823 * direction / iResolution.xy;\n    vec2 off3 = 5.176470588235294 * direction / iResolution.xy;\n    target = texture(iChannel0, uv) * 0.1964825501511404;\n    target += texture(iChannel0, uv + off1) * 0.2969069646728344;\n    target += texture(iChannel0, uv - off1) * 0.2969069646728344;\n    target += texture(iChannel0, uv + off2) * 0.09447039785044732;\n    target += texture(iChannel0, uv - off2) * 0.09447039785044732;\n    target += texture(iChannel0, uv + off3) * 0.010381362401148057;\n    target += texture(iChannel0, uv - off3) * 0.010381362401148057;\n}","name":"Buffer B","description":"","type":"buffer"}]}