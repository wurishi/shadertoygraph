{"ver":"0.1","info":{"id":"XlVfDy","date":"1543934755","viewed":329,"name":"Jumping Boxes","username":"gaz","description":"limted raymarchig","likes":11,"published":1,"flags":0,"usePreview":0,"tags":["raymarchig"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec3 rotate(vec3 p,vec3 n,float a)\n{\n    vec3 v = cross(p, n), u = cross(v, n);\n    return u * cos(a) + v * sin(a) + n * dot(p, n);   \n}\n\nfloat hash(float n)\n{\n\treturn fract(sin(n+99.0))*2.0-1.0;\n}\n\nfloat sdBox( vec3 p, vec3 b )\n{\n  vec3 d = abs(p) - b;\n  return length(max(d,0.0)) + min(max(d.x,max(d.y,d.z)),0.0); \n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec3 rd = normalize(vec3((fragCoord * 2.0-iResolution.xy) / iResolution.y,-2));\n    vec3 ro = vec3(0,0,20);\n\tvec3 col = vec3(0);\n\n    float t = iTime + 20.0;\n\tfloat z=99.0;\n\tfor(float i=0.0;i<500.0;i++){\n\t\tvec3 p=vec3(hash(i),hash(i*18.0),hash(i*182.0))*t*0.2;\n\t\tp = (abs(fract(p)*2.0-1.0)*2.0-1.0)*15.0;\n\t\tif(length(cross(rd,p-ro))<1.45)\n\t\t{\n\t\t\tvec3 a =ro;\n\t\t\tfor(float j=1.0; j>0.0;j-=0.05) {\n\t\t\t\tvec3 q = a-p;//rotate(a-p,normalize(vec3(1)),t*2.0+i);\n\t\t\t\tfloat x=sdBox(q,vec3(0.5));      \n \t\t\t\tif(x<.001)\n    \t\t\t{\n\t\t\t\t\tfloat s = dot(rd,a-ro);\n\t\t\t\t\tif(s<z)\n\t\t\t\t\t{\n\t\t\t\t\t\tcol =exp(-0.0005*s*s)*j*j*j*vec3(1); \n\t\t\t\t\t\tz=s;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\t}\n \t\t\t\ta += rd*x;\n     \t\t}\n\t\t}\n\t}\n    col = pow(col,vec3(1,2,3)*0.8);\n    fragColor = vec4(col, 1);\n}","name":"Image","description":"","type":"image"}]}