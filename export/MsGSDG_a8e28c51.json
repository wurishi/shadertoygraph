{"ver":"0.1","info":{"id":"MsGSDG","date":"1466258179","viewed":307,"name":"Waffleball","username":"bwestlin","description":"Just an idea that turned out looking like some kind of waffleball.","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["2d","sound","soundcloud"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4df3Rn","filepath":"/media/a/3c33c415862bb7964d256f4749408247da6596f2167dca2c86cc38f83c244aa6.mp3","previewfilepath":"/media/ap/3c33c415862bb7964d256f4749408247da6596f2167dca2c86cc38f83c244aa6.mp3","type":"music","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Used to have https://soundcloud.com/socionode/younger-brother-psychic-gibbon but not working anymore\n#define M_PI 3.1415926535897932384626433832795\n#define r iResolution\n#define t iTime\n#define lw 0.001 * s3\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / r.x;\n    vec2 m = vec2(1., r.y / r.x) / 2.;\n    float s1 = texture( iChannel0, vec2( .2, 0. ) ).x;\n    float s2 = texture( iChannel0, vec2( .5, 0. ) ).x;\n    float s3 = .3 + .8 * texture( iChannel0, vec2( .8, 0. ) ).x;\n\n    \n   \tfloat c = .0;\n    \n\tconst int MAX_N = 16;\n    int N = 3 + int(s1 * 13.);\n    float r1 = (m.x / 6.) + s1 / 10.;\n    float r2 = (m.x / 6.) + s2 / 3.;\n    float as = M_PI * 2. / float(N);\n    for(int i = 0; i < MAX_N; i++)\n    {\n        float a = (M_PI * 2. + sin(t) * M_PI) + float(i) * as - t / 2.;\n    \tvec2 xy = m + vec2(cos(a) * r1, sin(a) * r1);\n    \tfloat d = distance(uv, xy);\n        float ad = abs(d - r2);\n        c += (.5 + .5 * sin(t * 4. + s3)) * clamp((1. - (ad / 10. - lw) / lw), 0., 1.);\n        c = max(c, clamp(1. - (ad * 10. / s3), 0., 1.));\n        if (i >= N - 1) break;\n    }\n\n    fragColor = vec4(\n        c * (.5 + .5 * sin(t)),\n        c * (.5 + .5 * cos(t / 2.)),\n        c * (.5 + .5 * sin(t / 3.)),\n        1.);\n}","name":"Image","description":"","type":"image"}]}