{"ver":"0.1","info":{"id":"wl3GDB","date":"1577423108","viewed":264,"name":"Limb Darkening","username":"yuletian","description":"limb darkening","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["rendering"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//attempts to simulate Sun`s limb darkening\n\n// modify from martinsh`s https://www.shadertoy.com/view/tsSGDm\n\nfloat gamma = 2.2;\nfloat scale = 1.1;\n\nvec3 sunColor = vec3(6.0,0.6,0.1); //artistic value\n\nfloat simplerLimbDarkening(in float cosTheta)\n{\n    float ul = 1.0; //u lambda\n    float limbfilt = 1.0 - ul *(1.0-sqrt(1.0-cosTheta * cosTheta));\n    return limbfilt;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    \n    vec2 uv = fragCoord/iResolution.xy;\n    vec2 aspect = vec2(iResolution.x/iResolution.y,1.0);\n    vec2 dir = -(uv * 2.0 - 1.0)* aspect * scale;\n    \n\tfloat cosTheta = max(0.0,dot(dir, dir));\n    vec3 col = vec3(simplerLimbDarkening(cosTheta)) * sunColor;\n\n    // Output to screen\n    fragColor = vec4(pow(col,vec3(1.0/gamma)),1.0);\n}\n\n","name":"Image","description":"","type":"image"}]}