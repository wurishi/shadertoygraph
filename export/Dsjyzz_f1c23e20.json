{"ver":"0.1","info":{"id":"Dsjyzz","date":"1687368294","viewed":137,"name":"Custom texture loader","username":"DaCuteRaccoon","description":"I modified someone else's script for this and made it better. Now we have upload buttons under every iChannel0 and can be accessible from a bookmarked page.\n\nGo to the \"Common\" tab for the script.\n\nSadly, I don't think you can share it though.","likes":1,"published":3,"flags":0,"usePreview":0,"tags":["texture","hack","texturing","script","external","js","ichannel0","upload"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n\n    // sample texture and output to screen\n    fragColor = texture(iChannel0, uv);\n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"// bookmarklet\n// javascript:for(let t=0;t<4;++t)(d=document.createElement(\"div\")).className=\"upload\",d.innerHTML=\"<button onclick=\\\"document.querySelector('#texture\"+t+'>div.upload>div>input\\').click()\" style=\"width:100%;\">Upload</button><div style=\"display:none;\"><input type=\"file\" accept=\"image/*\"/><p>#</p></div>',document.querySelector(\"#texture\"+t).append(d),document.querySelector(\"#texture\"+t+\">div.upload>div>input\").addEventListener(\"change\",function(){var e;this.files&&this.files[0]&&(e=document.querySelector(\"#texture\"+t+\">div.upload>div>p\"),URL.revokeObjectURL(e.innerText),e.innerText=URL.createObjectURL(this.files[0]),gShaderToy.SetTexture(t,{mSrc:e.innerText,mType:\"texture\",mID:1,mSampler:{filter:\"mipmap\",wrap:\"repeat\",vflip:\"true\",srgb:\"false\",internal:\"byte\"}}))});\n\n\n\n/* Paste directly into the console\n\nfor (let i = 0; i < 4; ++i) {\n    d = document.createElement('div');\n    d.className = \"upload\";\n    d.innerHTML = '<button onclick=\"document.querySelector(\\'#texture' + i + '>div.upload>div>input\\').click()\" style=\"width:100%;\">Upload</button>' +\n        '<div style=\"display:none;\"><input type=\"file\" accept=\"image/*\"/>' +\n        '<p>#</p></div>';\n    document.querySelector('#texture' + i).append(d);\n    document.querySelector('#texture' + i + '>div.upload>div>input').addEventListener('change', function () {\n        if (this.files && this.files[0]) {\n            let p = document.querySelector('#texture' + i + '>div.upload>div>p');\n            URL.revokeObjectURL(p.innerText);\n            p.innerText = URL.createObjectURL(this.files[0]);\n            gShaderToy.SetTexture(i, { mSrc: p.innerText, mType: 'texture', mID: 1, mSampler: { filter: 'mipmap', wrap: 'repeat', vflip: 'true', srgb: 'false', internal: 'byte' } });\n        }\n    });\n}\n\n*/","name":"Common","description":"","type":"common"}]}