{"ver":"0.1","info":{"id":"WslyDM","date":"1585143786","viewed":63,"name":"Circle 58","username":"NoeDev","description":"My first attempt at putting SDF shapes on top of each other.","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["sdf"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float sdBox( in vec2 p, in vec2 b )\n{\n    vec2 d = abs(p)-b;\n    return length(max(d,0.0)) + min(max(d.x,d.y),0.0);\n}\n\nfloat sdSegment( in vec2 p, in vec2 a, in vec2 b )\n{\n    vec2 pa = p-a, ba = b-a;\n    float h = clamp( dot(pa,ba)/dot(ba,ba), 0.0, 1.0 );\n    return length( pa - ba*h );\n}\n\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (0.0,0.0) is at the center\n    vec2 uv = (2.0*fragCoord-iResolution.xy)/iResolution.y;\n\tvec4 red = vec4(0.9,0.27,0.27,1.0);\n    vec4 blue = vec4(0.27, 0.49, 0.9,1.0);\n    float t = iTime*2.0;\n    float radius = 0.5;\n    float thickness = 0.01;\n    float c = sdSegment(uv, vec2(cos(t)*0.5,0.0), vec2(cos(t),sin(t) )*0.5 );\n\tfloat s = sdSegment(uv, vec2(0.0,0.5*sin(t)), vec2(cos(t),sin(t) ) *0.5);\n   \n    float p = length(uv- vec2(cos(t),sin(t)) *0.5);\n    \n    float d = length(uv);\n    \n    float point = smoothstep(0.01+fwidth(p), 0.01, p);\n\n\tfloat cosinus = smoothstep(thickness/2.0+fwidth(c), thickness/2.0  , c );\n    float sinus = smoothstep(thickness/2.0+fwidth(s), thickness/2.0  , s );\n    \n    float axe = (-step( 0.0, sdBox(uv, vec2(0.005, 1.0))) +1.0)+ ( -step( 0.0, sdBox(uv, vec2(2.0, 0.005) ) )  +1.0);      \n    \n    \n    float cercle = smoothstep(radius-thickness/2.0, radius-thickness/2.0+fwidth(d), d)\n        * smoothstep(radius+thickness/2.0+fwidth(d), radius+thickness/2.0, d) ;\n    \n    \n    vec3 col = vec3(cercle+sinus*red+cosinus*blue+axe+point);\n\t\n\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}