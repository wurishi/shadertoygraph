{"ver":"0.1","info":{"id":"DdfyzM","date":"1686664344","viewed":96,"name":"Weird Bubbles (Marching Squares)","username":"YAr","description":"Animation of blobby object","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["bubblesweirdmarchingsquares"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"struct Ball {\n    vec2 pos;\n    float r;\n    vec3 color;\n};\n\nfloat sdCircle( vec2 p, float r )\n{\n    return length(p) - r;\n}\n\nvec3 marching_squares(Ball[6] balls, vec2 uv) {\n    vec3 main_color = vec3(0.);\n    float filter_value = 0.;\n    \n    for (int i = 0; i < 6; i++) {\n        float d = sdCircle(uv-balls[i].pos, balls[i].r);\n        //float dsm = step(0.005, abs(d));\n        \n        main_color += (1.-d)*balls[i].color;\n        filter_value += balls[i].r/(length(uv - balls[i].pos));\n    }\n    main_color*=2.;\n    filter_value -= 1.;\n    float fv1 = 1.-step(0.975, filter_value);\n    float fv2 = step(1., filter_value);\n    \n    \n    filter_value = 1.-(fv1+fv2);\n    \n    vec3 filter_color = vec3(filter_value);\n    \n    vec3 col = main_color * filter_color;\n    return col;\n    \n}\n\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = (fragCoord*2.-iResolution.xy)/iResolution.y;\n    \n    float t = iTime/3.;\n    \n    Ball ball1;\n    ball1.pos = vec2(sin(t*sqrt(2.)), cos(t*2.));\n    ball1.r = 0.35;\n    ball1.color = vec3(1., 0., 0.);\n    \n    Ball ball2;\n    ball2.pos = vec2(sin(t*2.), cos(t*sqrt(2.)));\n    ball2.r = 0.375;\n    ball2.color = vec3(0., 1., 0.);\n    \n    Ball ball3;\n    ball3.pos = vec2(cos(t*2.), sin(t*sqrt(3.)));\n    ball3.r = 0.4;\n    ball3.color = vec3(0., 0., 1.);\n    \n    Ball ball4;\n    ball4.pos = vec2(cos(t*sqrt(2.)), sin(t*sqrt(3.)));\n    ball4.r = 0.1;\n    ball4.color = vec3(1., 0., 0.);\n    \n    Ball ball5;\n    ball5.pos = vec2(cos(t*sqrt(2.5)), sin(t*sqrt(3.5)));\n    ball5.r = 0.125;\n    ball5.color = vec3(0., 1., 0.);\n    \n    Ball ball6;\n    ball6.pos = vec2(cos(t*sqrt(3.)), sin(t*sqrt(5.)));\n    ball6.r = 0.15;\n    ball6.color = vec3(0., 0., 1.);\n\n    \n    Ball[] balls = Ball[](ball1, ball2, ball3, ball4, ball5, ball6);\n    vec3 col = marching_squares(balls, uv);\n\n\n    // Output to screen\n    fragColor = vec4(col, 1.);\n}","name":"Image","description":"","type":"image"}]}