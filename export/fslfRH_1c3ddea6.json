{"ver":"0.1","info":{"id":"fslfRH","date":"1644498277","viewed":191,"name":"Gerstner Wave","username":"ligaobo","description":"尾流仿真","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["waves","trochoid","gerstner"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"Xdf3zn","filepath":"/media/a/85a6d68622b36995ccb98a89bbb119edf167c914660e4450d313de049320005c.png","previewfilepath":"/media/ap/85a6d68622b36995ccb98a89bbb119edf167c914660e4450d313de049320005c.png","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// https://catlikecoding.com/unity/tutorials/flow/waves/\n// https://www.shadertoy.com/view/7djGRR\n\n\nconst float _Wavelength = 0.5;\nconst float _Amplitude = 0.05;\nconst float _Speed = 1.0;\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n    vec2 uv = fragCoord / iResolution.xy;\n    \n    // [0.5, -0.5] -> [-2.0, 2.0] -> [0.067, 3.694]\n    float r = 0.03*exp(-4.0*(0.5 - uv.y)) * uv.x * 2.0;\n\n    vec2 p = uv;\n    \n    float k = 2.0 * 3.1415926 / _Wavelength;\n    float f = k * (p.x - _Speed * iTime);\n    p.x += r * cos(f);\n    p.y += r * sin(f);\n    \n    if(p.y < 0.5)\n        fragColor = texture(iChannel0, p);\n}","name":"Image","description":"","type":"image"}]}