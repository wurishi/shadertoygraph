{"ver":"0.1","info":{"id":"DtlXWB","date":"1675299136","viewed":279,"name":"Pearly Ropes","username":"ChunderFPV","description":"semi-3d, no raymarch\nmouse rotates","likes":17,"published":1,"flags":0,"usePreview":0,"tags":["spiral","logarithmic"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define H(a) (sin(vec3(0,1.047,2.094)+((a)*6.2832))*.5+.5) // color\n#define RT(a) mat2(cos(m.a*1.571+vec4(0,-1.571,1.571,0)))  // rotate\n#define Q(v) max(H(u.v-t), H(1./u.v+t)) * g(u.v, t)        // quick func\n\nfloat g(float x, float t) // grid\n{\n    if (abs(x) < 1.) x = -1./x; // reciprocals\n    return (1.-abs(sin((x-t)*3.1416))) / max(0., abs(x));\n}\n\nvoid mainImage(out vec4 RGBA, in vec2 XY)\n{\n    vec3  c = vec3(0), u, v;\n    vec2  R = iResolution.xy,\n          m = (iMouse.xy/R*4.)-2.,\n          o;\n    float p = 2., // aa pass (1=off)\n          t = (iTime-10.)/5.,\n          a, r;\n    if (iMouse.z < 1.) \n          m = vec2(sin(t/2.)*.2, sin(t)*.1); // rotate with time\n    mat2  pitch = RT(y),\n          yaw   = RT(x);\n    for (int k = 0; k < int(p*p); k++) // aa loop\n    {\n        o = vec2(k%2, k/2)/p; // aa offset\n        u = normalize(vec3((XY-.5*R+o)/R.y, 1))*8.;\n        u.yz *= pitch;\n        u.xz *= yaw;\n        a = atan(u.y, u.x);\n        r = length(u.xy);\n        u.xy = tan( log(r) + vec2(a, -a*3.)/2. ); // log spirals\n        v = Q(x); // set 1\n        v = max(v, .5*Q(y)); // set 2\n        v = min(v, H(r-t*4.) * g(r, t*4.) + .25) + pow(v, vec3(5.)); // rings\n        c += v;\n    }\n    c /= p*p; // fix brightness after aa\n    RGBA = vec4(c+c*c*4., 1);\n}","name":"Image","description":"","type":"image"}]}