{"ver":"0.1","info":{"id":"3lBcRc","date":"1594917762","viewed":147,"name":"Phased array sensor display","username":"rory618","description":"Show phase of received signal at each antenna element. Mouse to control signal direction of arrival","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["radar"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\nvec3 hsv2rgb(vec3 c) {\n  vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n  vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n  return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\nvec4 color( vec2 z ){\n    return vec4( hsv2rgb(vec3(\n        fract(atan(z.y,z.x)/(2.*3.14159)),\n        1.0,\n        5.*log(1.+length(z/4.))\n    \n    )), 1. );\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n\tvec2 array = vec2(9,7);\n    vec2 sensorID = floor(uv * array);\n    vec2 sensorCoord= fract(uv * array);\n    vec2 sensorValue = (texelFetch(iChannel0, ivec2(sensorID), 0).xy-.5)*2.;\n    sensorValue =  cos(dot(.01*(sensorID-array/2.)*(iMouse.xy-iResolution.xy/2.),vec2(1))+vec2(0,3.14159/2.));\n    float m = 0.2;\n    if(sensorCoord.x>m&&sensorCoord.x<1.-m&&sensorCoord.y>m&&sensorCoord.y<1.-m){\n    \tfragColor = vec4(color(sensorValue));\n    } else {\n        fragColor = vec4(0.5);\n    }\n}","name":"Image","description":"","type":"image"}]}