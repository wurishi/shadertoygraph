{"ver":"0.1","info":{"id":"Wd2SWd","date":"1555358148","viewed":52,"name":"Volumetric Terrain","username":"Confession","description":"A shader that renders 3D noise as a solid surface","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["terrain","volumetric"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sf3Rn","filepath":"/media/a/0a40562379b63dfb89227e6d172f39fdce9022cba76623f1054a2c83d6c0ba5d.png","previewfilepath":"/media/ap/0a40562379b63dfb89227e6d172f39fdce9022cba76623f1054a2c83d6c0ba5d.png","type":"texture","channel":1,"sampler":{"filter":"nearest","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4sfGRr","filepath":"/media/a/27012b4eadd0c3ce12498b867058e4f717ce79e10a99568cca461682d84a4b04.bin","previewfilepath":"/media/ap/27012b4eadd0c3ce12498b867058e4f717ce79e10a99568cca461682d84a4b04.bin","type":"volume","channel":0,"sampler":{"filter":"linear","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float n(vec3 pos)\n{\n\treturn texture(iChannel0, pos*vec3(0.3, 0.5, 0.3)).r - pow(pos.y*3.0, 3.0);\n}\nfloat t(vec3 pos)\n{\n\treturn smoothstep(0.0, 1.0, texture(iChannel1, vec2(pos.x, pos.z)).r);\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy*2.-1.;\n    uv.x *= iResolution.x/iResolution.y;\n    vec3 col = vec3(0.1, 0.1, 0.1);\n    \n    vec3 cp, ct, cd, cu, cr, rp, rd;\n\tcp = vec3(sin(iTime/10.0), 0.3, cos(iTime/10.0))*1.2;\n    ct = vec3(0.0);\n    cu = vec3(0.0, 1.0, 0.0);\n    cd = normalize(ct-cp);\n    cr = cross(cu, cd);\n    rd = normalize(normalize(ct-cp) + cr * uv.x + cross(cd, cr) * uv.y);\n    float s = 0.005;\n    for(float i = 0.; i < 1.; i+=s)\n    {\n  \n        rp = cp + rd*pow(i, 1.1);;\n        if(n(rp)*(1.2+pow(length(rp),2.0)/3.0) > 0.5)\n        {\n        \tcol = mix(vec3(0.5, 1.0 * (0.9 + t(rp)*0.1), 0.6*(0.9+t(rp)*0.1)), col, i*i);\n            break;\n        }\n    }\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}