{"ver":"0.1","info":{"id":"4csSDM","date":"1705337914","viewed":284,"name":"stretch illusion: isoluminance","username":"FabriceNeyret2","description":"stare the spiral center for some time ( at least 10\"), then click to see the image.\nTAB: try on BW vs color-booste dimage.\nvariant of the classical illusion: here, we do it in pure chrominance, at isoluminance.\nSPACE for the classical luminance illusion.","likes":9,"published":3,"flags":16,"usePreview":1,"tags":["illusion","perception","isoluminance","chrominance"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGRr","filepath":"/presets/tex00.jpg","previewfilepath":"/presets/tex00.jpg","type":"keyboard","channel":3,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define keyToggle(a)  ( texelFetch(iChannel3,ivec2(a,2),0).x > 0.)\n\nvoid mainImage( out vec4 O, vec2 u )\n{\n    vec2  R = iResolution.xy,\n          U = 2.*u - R; u /= R;\n    float v = .5 + .5* sin( atan(U.y,U.x) - 6.28*length(U)/30. + 16.*iTime ); // spiral\n    \n    if ( max(u.x,u.y) < .1 ) u *= 10., U-=U;                                  // inset at bottom left\n    O = texture( iChannel0, u );                                              // still image\n    \n    if ( keyToggle(9) ) {                    // TAB: use color-boosted still texture\n        float m = min(O.r,min(O.g,O.b)),     \n              M = max(O.r,max(O.g,O.b)),\n              l = .75; // iMouse.x/R.x;      // pure chrominance image reads poorly: use lesser l % \n        m = mix(0.,m,l);\n        M = mix(1.,M,l);\n        O = ( O - m ) / ( M - m );           // if m = min(RGB) & M = max(RGB), saturates image colors and luminance\n    }\n    else O = vec4(length(O.rgb)/sqrt(3.));   // not TAB: BW image   \n    \n    O = iMouse.z > 0. || U.x==0. ? O                                         // still texture\n          : keyToggle(32.) ? vec4( .75*v )                                   // SPACE:     B&W spiral\n          :                  pow( vec4(v,.5*(1.-v),0,1), vec4(1./2.2) );     // not SPACE: isoluminance spiral\n                                      // .5 for max green and red have ~same luminance\n}","name":"Image","description":"","type":"image"}]}