{"ver":"0.1","info":{"id":"MsfyW2","date":"1489883447","viewed":193,"name":"Impulse","username":"dedmoros","description":"Experiments in plotting functions","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["sinxplot"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.14159265359\n\nvec2 getPixelUnit()\n{\n\treturn 1./iResolution.xy;\n}\n\nfloat expStep( float x, float k, float n )\n{\n    return clamp(exp( -k*pow(x,n) ), 0., 1.);\n}\n\nfloat plot(float y, float thickness)\n{\n    vec2 px = getPixelUnit();\n    float val = expStep( y, 40., thickness*1. );\n    return clamp(pow(val, 10.)*2., 0., 1.);\n}\n\nfloat plot(float y1, float y2, float thickness)\n{\n    float m = y1-y2;\n    m = abs(m)*70.;\n    return plot(y1, thickness+m);\n}\n        \nfloat impulse(float x)\n{\n\treturn sin( x*PI ) / ( x*PI );\n}\n\nfloat plotImpulse(vec2 p, float repetitions, float amplitude, float offset)\n{\n    vec2 px = getPixelUnit();\n    float sinx1 = impulse(p.x*repetitions);\n    float sinx2 = impulse((p.x+1.5*px.x)*repetitions);\n    float y1 = (p.y-sinx1*amplitude+offset);\n    float y2 = (p.y-sinx2*amplitude+offset);\n    return plot(y1, y2, .9);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy * 2. - 1.;\n    uv.x *= 2.;\n    vec3 c = vec3(1.);\n    vec2 px = getPixelUnit();\n    for(float i = 0.; i < 10.; i ++)\n    {\n        float val = plotImpulse(uv, 2.+i, sin(iTime/(10.+i))*.77, .0);\n        c -= val;\n    }\n    fragColor = vec4(c,1.0);\n}","name":"Image","description":"","type":"image"}]}