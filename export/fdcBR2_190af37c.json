{"ver":"0.1","info":{"id":"fdcBR2","date":"1659841248","viewed":98,"name":"circle square confusion","username":"HaleyHalcyon","description":"a","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["circlesquarespiral"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define TURN (6.283185307)\n#define HEX(x) vec3((ivec3(x)>>ivec3(16,8,0))&255)/255.\n\nfloat zig(float x) {return 1. - abs(1. - 2. * fract(x));}\n\nfloat post(float x, float lvs) {\n    return round(x * lvs) / lvs;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n  float time = fract(iTime / 2.);\n  // Normalized pixel coordinates (from 0 to 1)\n  float scale = min(iResolution.x, iResolution.y);\n  vec2 uv = (gl_FragCoord.xy - 0.50 * iResolution.xy) / scale;\n  float dist = log2(uv.x * uv.x + uv.y * uv.y);\n  float a = -1. * time * TURN * 0.25 + 0.05 * dist;\n  float distS = 2. * log2(max(\n      abs(uv.x * cos(a) + uv.y * sin(a)),\n      abs(uv.y * cos(a) - uv.x * sin(a))\n  ));\n  float aadistS = fwidth(distS) * 1.5;\n  \n  float raw1 = zig(\n  0.4 * dist - 2. * time\n  ) - 0.5;\n  float aa1 = fwidth(raw1) * .75;\n  float spiral1 = post(\n  smoothstep(-aa1, aa1, raw1)\n  , 2.);\n  \n  float raw2 = zig(\n  0.25 * distS + 1. * time + 0.5\n  ) - 0.5;\n  float aa2 = fwidth(raw2) * .75;\n  float spiral2 = post(\n  smoothstep(-aa2, aa2, raw2)\n  , 2.);\n  \n  vec3 col = mix(\n      mix(\n          HEX(0x009BE8), HEX(0xEB0072), spiral1\n      ), mix(\n          HEX(0x010a31), HEX(0xfff100), spiral1\n      ), spiral2\n  );\n  // Output to screen\n  fragColor = vec4(\n    col, 1.0\n  );\n}","name":"Image","description":"","type":"image"}]}