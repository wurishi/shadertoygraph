{"ver":"0.1","info":{"id":"4dVGzG","date":"1455130376","viewed":388,"name":"Draw Border","username":"TheGrego","description":"Draw a equilength border around a scene","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["border"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float borderSize = 5.0;\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;    \n    vec4 color = vec4(1, 0, 0, 1);\n    vec4 bg = texture( iChannel0, uv);\n    float ratio = iResolution.x / iResolution.y;\n    vec4 bgColor =  texture( iChannel0, uv);\n\t\n    // outer\n                   // x1  y1   x2   y2\n    vec4 rect = vec4(0.1, 0.01, 0.9, 0.99);\n    vec2 hv = step(rect.xy, uv) * step(uv, rect.zw);\n    float onOff = hv.x * hv.y;\n    vec4 col1 = mix(vec4(0), vec4(1,0,0,0), onOff); // inner is visible\n    \n    // inner\n    float\tthickness1 = (borderSize/iResolution.x) * ratio;\n    float\tthickness2 = (borderSize/iResolution.y) * ratio;\n    vec4 inner = vec4(rect[0] + thickness1, \n                      rect[1] + thickness2, \n                      rect[2] - thickness1, \n                      rect[3] - thickness2);\n    hv = step(inner.xy, uv) * step(uv, inner.zw);\n    onOff = hv.x * hv.y;\n    vec4 col2 = mix(vec4(0), vec4(0,0,0,1), onOff);\n    bgColor = mix(col1, bgColor, onOff);\n    \n    fragColor = bgColor + (col2 * col1);\n}","name":"Image","description":"","type":"image"}]}