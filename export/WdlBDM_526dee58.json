{"ver":"0.1","info":{"id":"WdlBDM","date":"1588369083","viewed":169,"name":"circle fun sdf","username":"mtx","description":"circle and segment sdf ","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["sdf"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float sdCircle( vec2 p, float r ) {\n  return length(p) - r;\n}\n\nfloat udSegment( in vec2 p, in vec2 a, in vec2 b ) {\n    vec2 ba = b-a;\n    vec2 pa = p-a;\n    float h =clamp( dot(pa,ba)/dot(ba,ba), 0.0, 1.0 );\n    return length(pa-h*ba);\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n    \n  \n    // fragCoord (0,0)...(width, height)\n\t// p point in NDS(-1...1)\n    vec2 p = ( 2.0 * fragCoord - iResolution.xy )/ (iResolution.y);\n\tfloat d = sdCircle(p, 0.3);\n    \n    vec2 v1 = cos( iTime + vec2(0.25,0.25) + 0.0 );\n\tvec2 v2 = cos( iTime + vec2(0.25,0.25) + 1.0 );\n    \n    float s = udSegment(p, v1, v2) - 0.05;\n   \n    \n    // circle\n    \n\t// shapes body\n    vec3 col = vec3(1.0) - (sign(d)+sign(s)) * 0.5 * vec3(0.1, 0.4, 0.7);\n    \n    // for single body\n    //vec3 col = vec3(1.0) - sign(s) * vec3(0.1, 0.4, 0.7);\n    \n    // 'shading'\n    // col *= 1.0 - exp(-3.0*abs(d));\n    // col *= 1.0 - exp(-3.0*abs(s));\n\t\n    // 'ripples'\n    // col *= (0.9 + 0.1 * cos(250.0 * (d*s)));\n    \n    // 'edge'\n\tcol = mix( col, vec3(1.0), 1.0 - smoothstep(0.0, 0.01, abs(d * s)) );\n\n\t// col = mix( col, vec3(1.0), 1.0 - smoothstep(0.0,0.015,abs(s)) );\n    \n    \n\tfragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}