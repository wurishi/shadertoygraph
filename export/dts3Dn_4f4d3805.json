{"ver":"0.1","info":{"id":"dts3Dn","date":"1671690986","viewed":65,"name":"complex massimo","username":"Mqssimo","description":"test plan complexe","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["massimo"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const float b = 1.5 ;\nconst float n = 15.0;\n\nconst float M_PI = 3.14159265358979323846264338327950288;\n\n\nconst float M_PI_2 = 1.57079632679489661923132169163975144;\n\nfloat shadeCalc(vec2 z){\n    float arg = atan(z.y,z.x);\n    float d = length(z);\n    float m = mod(n*arg + M_PI, 2.0 * M_PI) - M_PI;\n    \n    \n    float f = ((-abs(m) + M_PI) * M_PI)/b;\n    float shade = sin(min(f,M_PI_2));\n    shade *= shade;\n    \n    float m2 = mod(n*log(d), 2.0 * M_PI) - M_PI;\n    \n    \n    float f2 = ((-abs(m2) + M_PI) * M_PI)/b;\n    float shade2 = sin(min(f2,M_PI_2));\n    shade2 *= shade2;\n    \n    shade2 *= shade;\n    return shade2;\n\n}\n\n#define rainbow(u) .5 + .5 * cos( atan(u.x,u.y) + 6.3 + vec3(0,23,21) )\nvec2 mult(vec2 a,vec2 b){return vec2(a.x*b.x - a.y*b.y, a.x*b.y + a.y*b.x);}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    //Cartesian\n    float zoom = 4.0;\n    vec2 z = fragCoord/iResolution.xy;\n    z -= (0.5,0.5);\n    z.x *= (iResolution.x/iResolution.y);\n    z *= zoom; \n   \n    //Polynome avc les pi comme zeros (deg4)\n    \n    vec2 p1 = vec2(2.0,0.0);\n    vec2 p2 = vec2(-1.0,sqrt(3.0));\n    vec2 p3 = vec2(-1.0,-sqrt(3.0));\n    vec2 p4 = vec2(0.0,0.0);\n    \n    vec2 u = exp(iTime/3.0) * mult(z -p1,mult(z - p2,mult(z -p3,z - p4)));\n    \n\n    \n    vec3 color = rainbow(u);\n    color -= vec3(1.0-shadeCalc(u));\n    \n    // Output to screen\n    fragColor = vec4(color,1.0);\n}","name":"Image","description":"","type":"image"}]}