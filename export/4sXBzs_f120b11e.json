{"ver":"0.1","info":{"id":"4sXBzs","date":"1497445772","viewed":178,"name":"moregears","username":"jt","description":"Gears, somewhat similar to https://www.shadertoy.com/view/MsyXDw but more mechanical looking.","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["gears","polarcoordinates"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// 2017 by JT\n\n#define pi 3.1415926\n\nvec2 gearify(vec2 uv, float n, float offset)\n{\n    uv = vec2(atan(uv.y, uv.x) / 2.0 / pi + 0.5 + offset, length(uv));\n    uv.x = (fract(uv.x * n + 0.5) - 0.5) / n;\n    uv = vec2(cos((uv.x - 0.5) * 2.0 * pi) * uv.y,\n              sin((uv.x - 0.5) * 2.0 * pi) * uv.y);\n    return uv;\n}\n\nfloat gear(vec2 uv, float n, float a, float b, float c, float t)\n{\n    vec2 uv0 = gearify(uv, n, t);\n    \n    float spikes = step(0.25, b*abs(uv0.y)+0.2 * abs(uv0.x));\n    float outer = step(c, abs(uv0.x));\n    \n    vec2 uv1 = gearify(uv, n, n / 2.0 + t);\n    \n    float inner = step(a, abs(uv1.x));\n    return min(inner, max(outer, spikes));\n}\n\nfloat gear2(vec2 uv, float n, float a, float b, float c, float t)\n{\n    return max(step(length(uv), 0.45),gear(uv, n, a, b, c, t));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = ( 2. * fragCoord - iResolution.xy ) / iResolution.y;\n    \n    float t = iTime * 0.1;\n    fragColor = vec4(1);\n    fragColor *= gear(uv - vec2(0.68,0.0), 7.0, 0.60, 0.81, 0.75, t);\n    fragColor *= gear(uv + vec2(0.68,0.0), 7.0, 0.60, 0.81, 0.75,-t);\n}\n","name":"Image","description":"","type":"image"}]}