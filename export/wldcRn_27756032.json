{"ver":"0.1","info":{"id":"wldcRn","date":"1608400040","viewed":394,"name":"Paisley","username":"yasuo","description":"Paisley\nI wanted use the following parametrization things. I'll try it next time. The goal is so far.\nhttps://www.shadertoy.com/view/WldSWX","likes":21,"published":3,"flags":0,"usePreview":0,"tags":["paisley"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define Rot(a) mat2(cos(a),-sin(a),sin(a),cos(a))\n#define antialiasing(n) n/min(iResolution.y,iResolution.x)\n#define S(d,b) smoothstep(antialiasing(1.0),b,d)\n#define BASE_COLOR vec3(0.3,0.6,0.3)\n\nvec2 bend(vec2 p, float k){\n    float c = cos(k*p.y);\n    float s = sin(k*p.y);\n    mat2  m = mat2(c,-s,s,c);\n    vec2  q = p*m;\n    return q;\n}\n\n// https://iquilezles.org/articles/distfunctions2d\nfloat sdVesica(vec2 p, float r, float d)\n{\n    p = abs(p);\n    float b = sqrt(r*r-d*d);\n    return ((p.y-b)*d>p.x*b) ? length(p-vec2(0.0,b))\n                             : length(p-vec2(-d,0.0))-r;\n}\n\n// https://iquilezles.org/articles/distfunctions2d\nfloat sdUnevenCapsule( vec2 p, float r1, float r2, float h )\n{\n    p.x = abs(p.x);\n    float b = (r1-r2)/h;\n    float a = sqrt(1.0-b*b);\n    float k = dot(p,vec2(-b,a));\n    if( k < 0.0 ) return length(p) - r1;\n    if( k > a*h ) return length(p-vec2(0.0,h)) - r2;\n    return dot(p, vec2(a,b) ) - r1;\n}\n\nfloat paiselyDist(vec2 p, float sy, float scale) {\n    vec2  q = bend(p,1.5);\n\n    q.y*=sy*scale;\n    q*=0.8*scale;\n    float d = sdUnevenCapsule(q,0.15,0.02*scale,0.35*scale);\n    return d;\n}\n\nvec3 paiselyTex(vec2 p, vec3 col, float dir, float t) {\n    p*=Rot(radians(t*30.0*dir));\n    p*=1.2;\n    vec2 prevP = p;\n    p = abs(p);\n    p -= vec2(0.05,0.05);\n    float d = abs(sdVesica(p*Rot(radians(45.0)),0.1,0.07))-0.005;\n    col = mix(col,BASE_COLOR,S(d,0.0));\n    \n    p = prevP;\n    \n    p *= Rot(radians(45.0));\n    p = abs(p);\n    p -= vec2(0.05,0.05);\n    d = abs(sdVesica(p*Rot(radians(45.0)),0.1,0.07))-0.005;\n    col = mix(col,BASE_COLOR,S(d,0.0));\n    \n    return col;\n}\n\nvec3 paisely(vec2 p, vec3 col, float t) {\n    vec3 baseCol = BASE_COLOR;\n    vec2 pos = vec2(0.0,-0.1);\n    vec2 prevP = p;\n    float d = abs(paiselyDist(p-pos,0.9,0.88))-0.002;\n    float d2 = abs(paiselyDist(p-pos,0.87,1.05))-0.001;\n    float d3 = abs(paiselyDist(p-pos,0.85,1.25))-0.003;\n    float d4 = abs(paiselyDist(p-pos,0.9,0.82))-0.001;\n    col = mix(col,baseCol,S(d,0.0));\n    col = mix(col,baseCol*1.2,S(d2,0.0));\n    col = mix(col,baseCol,S(d3,0.0));\n    col = mix(col,baseCol,S(d4,0.0));\n    \n    p*=3.2;\n    col = paiselyTex(p-vec2(0.4,0.55),col,1.0,t);\n    \n    p = prevP;\n    p*=1.8;\n    col = paiselyTex(p-vec2(0.11,0.15),col,-1.0,t);\n    \n    p = prevP;\n    col = paiselyTex(p-vec2(0.01,-0.11),col,1.0,t);\n    \n    p = prevP;\n    p*=3.5;\n    col = paiselyTex(p-vec2(-0.13,0.13),col,1.0,t);\n    \n    p = prevP;\n    p*=2.8;\n    col = paiselyTex(p-vec2(0.1,-0.82),col,-1.0,t);\n    \n    p = prevP;\n    p*=3.2;\n    col = paiselyTex(p-vec2(-0.2,-0.89),col,1.0,t);\n    \n    p = prevP;\n    p*=3.2;\n    col = paiselyTex(p-vec2(0.4,-0.78),col,1.0,t);\n        \n    p = prevP;\n    p*=4.2;\n    col = paiselyTex(p-vec2(1.15,1.25),col,1.0,t);\n    \n    p = prevP;\n    \n    p.x -=0.01;\n    p.x = abs(p.x);\n    p.x -= 0.15;\n    d = length(p-vec2(0.01,0.0))-0.02;\n    col = mix(col,baseCol,S(d,0.0));\n    \n    p = prevP;\n    p.x = abs(p.x);\n    p.x -= 0.18;\n    d = length(p-vec2(0.0,-0.12))-0.02;\n    col = mix(col,baseCol,S(d,0.0));\n    \n    p = prevP;\n    d = length(p-vec2(-0.14,-0.22))-0.02;\n    col = mix(col,baseCol,S(d,0.0));\n    \n    d = length(p-vec2(-0.072,0.11))-0.02;\n    col = mix(col,baseCol,S(d,0.0));\n    \n    d = length(p-vec2(0.063,0.215))-0.013;\n    col = mix(col,baseCol,S(d,0.0));\n        \n    d = length(p-vec2(0.187,0.13))-0.017;\n    col = mix(col,baseCol,S(d,0.0));\n    \n    return col;\n}\n\nvec3 renderTexture(vec2 p, vec3 col, float t) {\n    p*=1.3;\n    \n    vec2 prevP = p;\n    \n    p.x = mod(p.x,1.0)-0.5;\n    p.y = mod(p.y,0.8)-0.4;\n    col = paisely(p,col,t);\n    p = prevP;\n        \n    p.y+=0.1;\n    p.x+=0.475;\n    p.x = mod(p.x,1.0)-0.5;\n    p.y = mod(p.y,0.8)-0.4;\n    \n    p*=1.2;\n    col = paisely(p*Rot(radians(-180.0)),col,t);\n    p = prevP;\n    \n    p.x+=0.3;\n    p.y+=-0.35;\n    p.x = mod(p.x,1.0)-0.5;\n    p.y = mod(p.y,0.8)-0.4;\n    p*=1.8;\n    col = paisely(p*Rot(radians(120.0)),col,t);\n    p = prevP;\n    \n    p.x+=0.08;\n    p.y+=-0.31;\n    p.x = mod(p.x,1.0)-0.5;\n    p.y = mod(p.y,0.8)-0.4;\n    p*=1.2;\n    col = paiselyTex(p,col,1.0,t);\n    p = prevP;\n        \n    p.x+=0.28;\n    p.y+=-0.57;\n    p.x = mod(p.x,1.0)-0.5;\n    p.y = mod(p.y,0.8)-0.4;\n    p*=1.8;\n    col = paiselyTex(p,col,-1.0,t);\n    p = prevP;\n            \n    p.x+=0.56;\n    p.y+=-0.3;\n    p.x = mod(p.x,1.0)-0.5;\n    p.y = mod(p.y,0.8)-0.4;\n    p*=2.1;\n    col = paiselyTex(p,col,1.0,t);\n    \n    return  col;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord-.5*iResolution.xy)/iResolution.y;\n    float t = iTime*0.1;\n    \n    uv.y+=t;\n    \n    vec2 prevUV = uv;\n    vec3 col = vec3(0.99,0.98,0.95);\n\n    float t2 = mod(iTime,8000.0);\n    col = renderTexture(uv,col,t2);\n    \n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}