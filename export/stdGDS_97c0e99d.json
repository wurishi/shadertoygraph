{"ver":"0.1","info":{"id":"stdGDS","date":"1636665592","viewed":88,"name":"sin_wave_00","username":"flashball_shu","description":"use sin function to create wave.","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["2d"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float random (in vec2 st) {\n    return fract(sin(dot(st.xy, vec2(12.9898,78.233))) * 43758.5453123);\n}\n\nfloat customsin(float x, float offset){\n    //sin function\n    //float amp = 0.3;\n    //float pi = 3.1415926;\n    //float y = 0.2*amp * cos((x+offset)*pi*3. + iTime*2.) + 0.5*amp + 0.25;\n    \n    //noise fuction\n    float y = 0.;\n    float xo = x + offset;\n    float amplitude = 1.;\n    float frequency = 3.;\n    y = sin(x * frequency);\n    float t = iTime*1.;\n    y += sin(xo*frequency*3. + t)*4.5;\n    y += sin(xo*frequency*1.72 + t*1.121)*4.0;\n    y += sin(xo*frequency*2.221 + t*0.437)*5.0;\n    y += sin(xo*frequency*3.1122+ t*4.269)*2.5;\n    y *= amplitude*0.01;\n    y += 0.3;\n    \n    return y; \n}\n\nvec3 wavegraph(vec2 uv){\n    float y = customsin(uv.x, 0.);\n    y = smoothstep(y, y+0.005, uv.y);\n    vec3 col = vec3(y);\n    return col;\n}\n\nvec3 circle(vec2 uv, float x, float size){\n    //calculate y axis value\n    float offset = 0.01;\n    float y = customsin(x, 0.);\n    float prey = customsin(x, offset);\n    \n    //calculate normal\n    vec3 pos = vec3(x, y, 0.);\n    vec3 prepos = vec3(x+offset, prey, 0.);\n    vec3 dir = prepos - pos;\n    vec3 normal = -1.*normalize(cross(dir,vec3(0.,0.,1.)));\n    \n    //use normal to assign value of offset\n    pos += normal * size;\n    float len = length(pos - vec3(uv.xy, 0.));\n    float s = smoothstep(size, size+0.005, len);\n    vec3 col = vec3(s);\n    return col;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{   \n    float scale = iResolution.x/iResolution.y;\n    vec2 uv = fragCoord/iResolution.xy;\n    uv.x *= scale;\n    \n    float xpos = 0.5 * scale;    \n    float ys = customsin(uv.x, 0.);   \n    vec3 s = wavegraph(uv);\n    vec3 c = circle(uv, xpos, 0.02*sin(iTime*2.)+0.02+0.04);    \n    vec3 col = c*s;\n\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}