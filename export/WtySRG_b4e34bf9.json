{"ver":"0.1","info":{"id":"WtySRG","date":"1582926341","viewed":85,"name":"Randomness Testing","username":"Jim_Watson","description":"random","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["random"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float random(vec2 uv)\n{\n    return fract(sin(dot(uv, vec2(12.129, 76.128)))*4567.987);\n}\n\nfloat remap(float v, float l0, float h0, float l1, float h1)\n{\n    return l0+(v-l1)*(h1-l1)/(h0-l0);\n}\n\nfloat lineRand(vec2 uv, float r)\n{\n    uv.x *= r;\n    \n    vec2 mouse = iMouse.xy/iResolution.xy;\n    \n    float rr = remap(r, 0., 20., 0., 1.);\n    \n    float frac = fract(rr*456123.);\n    //float tm = remap(frac, 0., 1., 0., 2.);\n    if(frac < 0.5)\n    {\n        uv.x -= iTime*(-frac*2.);\n    }\n    else\n    {\n        uv.x -= iTime*(frac*10.);\n    }\n    \n    \n    vec2 stuv = uv*vec2(20., 1.);\n    \n    vec2 pos = floor(stuv);\n    \n    float mult = round(pow(random(pos), 10.));\n    \n    //mult = tm;\n    \n    return mult;\n}\n\nfloat lineReveal(vec2 uv, float ca, float num)\n{\n    float rd = mix(0., 1., step(1.-uv.y, num/ca));\n    float n = mix(0., 1., step(1.-uv.y, num-1./ca));\n    \n    return rd-n;\n}\nfloat rowReveal(vec2 uv, float ca, float num)\n{\n    float line = lineReveal(uv, ca, num);\n    float line2 = lineReveal(uv, ca, num-1.);\n    \n    \n    line-= line2;\n    line *= 1.-uv.x*fract(1.-iTime*10.);\n    \n    return line;\n}\nfloat fill(vec2 uv, float ca, float num)\n{\n    float fill = 0.;\n    fill += step(1.-uv.y, num/ca);\n    \n    return fill;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n    uv.x *= iResolution.x/iResolution.y;\n    \n    int numLines = 70;\n    \n    vec3 col = vec3(1.);\n    \n    float top = lineRand(uv, 2.);\n    float bottom = lineRand(uv, 10.);\n    \n    float sl = 1./float(numLines);\n    \n    float premult = 0.;\n    \n    float line = 0.;\n    \n    for (int i = 0; i < numLines+1; i++)\n    {\n        //while(fract(iTime)< 1.)\n        //{\n            float lo = mix(0., 1., fract(iTime)*1.-uv.x);\n            premult = mix(premult, lineRand(uv, float(i)), step(uv.y, 1.-(float(i)*sl)));\n\n\n            float q = 0.;\n        \n        \tlo = lineReveal(uv, float(numLines), float(i));\n\n            line = lo;\n            //line = lo;\n\n            /*while(q < 1.)\n            {\n                line = mix(0., premult, iTime*q);\n                q+= 0.1;\n            }*/\n        //}\n    }\n    \n    float lineCol = 0.;\n    \n    for (int j = 0; j < numLines+1; j++)\n    {\n        \n        lineCol += rowReveal(uv, float(numLines), float(j));\n    }\n    \n    float f = fract(iTime * .05)*float(numLines+1);\n    float frame = clamp(f, 0., float(numLines+1));\n    \n    lineCol += rowReveal(uv, float(numLines), round(frame));\n    lineCol += fill(uv, float(numLines), round(frame));\n    \n    \n    col *= mix(0., premult, lineCol);\n    \n    //col = mix(col*top, col*bottom, 1.- step(uv.y, 0.5));\n\n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}