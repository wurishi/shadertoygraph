{"ver":"0.1","info":{"id":"4dSfWV","date":"1502140848","viewed":350,"name":"SNOWVIKING","username":"Coolok","description":"SNOWVIKING","likes":6,"published":1,"flags":0,"usePreview":0,"tags":["snowviking"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\n#define LIGHT_SNOW // Comment this out for a blizzard\n\n#ifdef LIGHT_SNOW\n\t#define LAYERS 50\n\t#define DEPTH .5\n\t#define WIDTH .3\n\t#define SPEED .6\n#else // BLIZZARD\n\t#define LAYERS 200\n\t#define DEPTH .1\n\t#define WIDTH .8\n\t#define SPEED 1.5\n#endif\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tconst mat3 p = mat3(13.323122,23.5112,21.71123,21.1212,28.7312,11.9312,21.8112,14.7212,61.3934);\n\tvec2 uv = iMouse.xy/iResolution.xy + vec2(1.,iResolution.y/iResolution.x)*fragCoord.xy / iResolution.xy;\n\tvec3 acc = vec3(0.0);\n\tfloat dof = 5.*sin(iTime*.1);\n\tfor (int i=0;i<LAYERS;i++) {\n\t\tfloat fi = float(i);\n\t\tvec2 q = uv*(1.+fi*DEPTH);\n\t\tq += vec2(q.y*(WIDTH*mod(fi*7.238917,1.)-WIDTH*.5),SPEED*iTime/(1.+fi*DEPTH*.03));\n\t\tvec3 n = vec3(floor(q),31.189+fi);\n\t\tvec3 m = floor(n)*.00001 + fract(n);\n\t\tvec3 mp = (31415.9+m)/fract(p*m);\n\t\tvec3 r = fract(mp);\n\t\tvec2 s = abs(mod(q,1.)-.5+.9*r.xy-.45);\n\t\ts += .01*abs(2.*fract(10.*q.yx)-1.); \n\t\tfloat d = .6*max(s.x-s.y,s.x+s.y)+max(s.x,s.y)-.01;\n\t\tfloat edge = .005+.05*min(.5*abs(fi-5.-dof),1.);\n\t\tacc += vec3(smoothstep(edge,-edge,d)*(r.x/(1.+.02*fi*DEPTH)));\n\t}\n\tfragColor = vec4(vec3(acc),1.0);\n}","name":"Image","description":"","type":"image"}]}