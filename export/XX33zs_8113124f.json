{"ver":"0.1","info":{"id":"XX33zs","date":"1716872323","viewed":165,"name":"Noise_Oil","username":"doolhong","description":"my first Noise!","likes":17,"published":1,"flags":0,"usePreview":0,"tags":["procedural","2d","noise","fbm","warp"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.141592\n#define TWOPI 6.283184\n\n#define R2D 180.0/PI*\n#define D2R PI/180.0* \n\nmat2 rotMat(in float r){float c = cos(r);float s = sin(r);return mat2(c,-s,s,c);}\n\n//fract -> -0.5 -> ABS  : coordinate absolute Looping\nfloat abs1d(in float x){return abs(fract(x)-0.5);}\nvec2 abs2d(in vec2 v){return abs(fract(v)-0.5);}\n\n#define OC 15.0\nvec3 Oilnoise(in vec2 pos, in vec3 RGB)\n{\n    vec2 q = vec2(0.0);\n    float result = 0.0;\n    \n    float s = 2.2;\n    float gain = 0.44;\n    vec2 aPos = abs2d(pos)*0.5;//add pos\n\n    for(float i = 0.0; i < OC; i++)\n    {\n        pos *= rotMat(D2R 30.);\n        float time = (sin(iTime)*0.5+0.5)*0.2+iTime*0.8;\n        q =  pos * s + time;\n        q =  pos * s + aPos + time;\n        q = vec2(cos(q));\n\n        result += abs1d(dot(q, vec2(0.3))) * gain;\n\n        s *= 1.07;\n        aPos += cos(q);\n        aPos*= rotMat(D2R 5.0);\n        aPos*= 1.2; \n    }\n    \n    result = pow(result,4.0);\n    return clamp( RGB / result, vec3(0.0), vec3(1.0));\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec3 col = vec3(0.0,0.0,0.0);\n    vec2 st = (fragCoord/iResolution.xy);\n            st.x = ((st.x - 0.5) *(iResolution.x / iResolution.y)) + 0.5;\n    float stMask = step(0.0, st.x * (1.0-st.x));\n\n\n    //st-=.5; //st move centor. Oil noise sampling base to 0.0 coordinate\n    st*=5.;\n    \n    col =Oilnoise(st,vec3(0.30, 0.7, 1.200));\n    //col *= stMask;\n\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}