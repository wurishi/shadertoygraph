{"ver":"0.1","info":{"id":"4djfzG","date":"1500925386","viewed":383,"name":"Structured noise","username":"Kchplr","description":"Inspired by prior works by Alien https://www.dwitter.net/d/2842 / https://twitter.com/LienTheAlien","likes":2,"published":3,"flags":32,"usePreview":0,"tags":["quasica"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{  \n    ivec2 texPos = ivec2(ceil(fragCoord.xy / 3.) * 3.);\n    int id = int(floor(mod(fragCoord.x, 3.)) + floor(mod(fragCoord.y, 3.)) * 3.); // 0-2 / 3-5 / 6-9\n    \n    vec4 A = texelFetch(iChannel0, texPos + ivec2(-1,-1) * 3, 0);\n    vec4 B = texelFetch(iChannel0, texPos + ivec2(0,-1) * 3, 0);\n    vec4 C = texelFetch(iChannel0, texPos + ivec2(1,-1) * 3, 0);\n    vec4 D = texelFetch(iChannel0, texPos + ivec2(-1,0) * 3, 0);\n    vec4 E = texelFetch(iChannel0, texPos, 0);\n    vec4 F = texelFetch(iChannel0, texPos + ivec2(1,0) * 3, 0);\n    vec4 G = texelFetch(iChannel0, texPos + ivec2(-1,1) * 3, 0);\n    vec4 H = texelFetch(iChannel0, texPos + ivec2(0,1) * 3, 0);\n    vec4 I = texelFetch(iChannel0, texPos + ivec2(1,1) * 3, 0);\n    \n    vec4 result;\n    \n    if (id == 0 && D==B && D!=H && B!=F) result = D;\n    else if (id == 1 && ((D==B && D!=H && B!=F && E!=C) || (B==F && B!=D && F!=H && E!=A))) result = B;\n\telse if (id == 2 && B==F && B!=D && F!=H) result = F;\n    \n    else if (id == 3 && ((H==D && H!=F && D!=B && E!=A) || (D==B && D!=H && B!=F && E!=G))) result = D;\n    else if (id == 5 && ((B==F && B!=D && F!=H && E!=I) || (F==H && F!=B && H!=D && E!=C))) result = F;\n        \n    else if (id == 6 && H==D && H!=F && D!=B) result = D;\n    else if (id == 7 && ((F==H && F!=B && H!=D && E!=G) || (H==D && H!=F && D!=B && E!=I))) result = H;\n    else if (id == 8 && F==H && F!=B && H!=D) result = F;\n        \n    else result = E;\n    \n    fragColor = result;\n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[{"id":"4dXGR8","channel":0}],"code":"vec3 _hsv2rgb (const in vec3 c) {\n  vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n  vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n  return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\nvec3 getColor (float s) {\n    s = floor(pow(s, 3.) * 4.) / 4.;\n    \n    return mix(vec3(s), _hsv2rgb(vec3(s* iTime, 1., 1.)), 0.1);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 p = fragCoord.xy - iResolution.xy / 2.;\n    p = ceil(p / 7.) * 7.;\n    float d = length(p);\n    \n    //flavor\n    float q = d + iTime / 50000.;\n    float s = pow(30.*cos(q + sin(q+iTime/120.)), 3.);\n    \n    s = mod(s, 256.) / 255.;\n\tfragColor = vec4(getColor(s),1.0);\n}","name":"Buf A","description":"","type":"buffer"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"XsXGR8","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    ivec2 texPos = ivec2(ceil(fragCoord.xy / 3.) * 3.);\n    int id = int(floor(mod(fragCoord.x, 3.)) + floor(mod(fragCoord.y, 3.)) * 3.); // 0-2 / 3-5 / 6-9\n    \n    vec4 A = texelFetch(iChannel0, texPos + ivec2(-1,-1) * 3, 0);\n    vec4 B = texelFetch(iChannel0, texPos + ivec2(0,-1) * 3, 0);\n    vec4 C = texelFetch(iChannel0, texPos + ivec2(1,-1) * 3, 0);\n    vec4 D = texelFetch(iChannel0, texPos + ivec2(-1,0) * 3, 0);\n    vec4 E = texelFetch(iChannel0, texPos, 0);\n    vec4 F = texelFetch(iChannel0, texPos + ivec2(1,0) * 3, 0);\n    vec4 G = texelFetch(iChannel0, texPos + ivec2(-1,1) * 3, 0);\n    vec4 H = texelFetch(iChannel0, texPos + ivec2(0,1) * 3, 0);\n    vec4 I = texelFetch(iChannel0, texPos + ivec2(1,1) * 3, 0);\n    \n    vec4 result;\n    \n    if (id == 0 && D==B && D!=H && B!=F) result = D;\n    else if (id == 1 && ((D==B && D!=H && B!=F && E!=C) || (B==F && B!=D && F!=H && E!=A))) result = B;\n\telse if (id == 2 && B==F && B!=D && F!=H) result = F;\n    \n    else if (id == 3 && ((H==D && H!=F && D!=B && E!=A) || (D==B && D!=H && B!=F && E!=G))) result = D;\n    else if (id == 5 && ((B==F && B!=D && F!=H && E!=I) || (F==H && F!=B && H!=D && E!=C))) result = F;\n        \n    else if (id == 6 && H==D && H!=F && D!=B) result = D;\n    else if (id == 7 && ((F==H && F!=B && H!=D && E!=G) || (H==D && H!=F && D!=B && E!=I))) result = H;\n    else if (id == 8 && F==H && F!=B && H!=D) result = F;\n        \n    else result = E;\n    \n    fragColor = result;\n}","name":"Buf B","description":"","type":"buffer"}]}