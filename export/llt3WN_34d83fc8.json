{"ver":"0.1","info":{"id":"llt3WN","date":"1469424187","viewed":426,"name":"VisualizerTest","username":"Jwebb4191","description":"a quick visualizer test","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["visualizer"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sXGzn","filepath":"/media/a/a6a1cf7a09adfed8c362492c88c30d74fb3d2f4f7ba180ba34b98556660fada1.mp3","previewfilepath":"/media/ap/a6a1cf7a09adfed8c362492c88c30d74fb3d2f4f7ba180ba34b98556660fada1.mp3","type":"music","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define NUM_COLUMNS 32.0\n#define NUM_ROWS 32.0\n#define BAR_HEIGHT 2\n#define BAR_WIDTH 2\n\n\nint modul(float lhs, float rhs) {\n\treturn int(lhs - rhs * floor(lhs / rhs));\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    float discX ;\n    \n    discX = floor(uv.x * NUM_COLUMNS) / NUM_COLUMNS;    \n\n\tfloat freq = texture(iChannel0, vec2(discX, 0.0)).x;\t\n    float wave = texture(iChannel0, vec2(discX, 1.0)).x;\n\n    float discFrequency = floor(freq * NUM_ROWS) / NUM_ROWS;\n    vec4 color = vec4(0.0, 0.0, 0.0, 1.0);\n    \n    int blackBarV = modul(fragCoord.y, iResolution.y / NUM_COLUMNS);\n    int blackBarH = modul(fragCoord.x, iResolution.x / NUM_ROWS);\n\n    \n    if(discFrequency > uv.y && blackBarV > BAR_HEIGHT && blackBarH > BAR_WIDTH) {\n        color = vec4((1.0 - uv.x) * freq, freq * uv.x, uv.y,1.0);\n    }\n    \n\tfragColor = color;\n}","name":"Image","description":"","type":"image"}]}