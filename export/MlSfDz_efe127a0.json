{"ver":"0.1","info":{"id":"MlSfDz","date":"1515356699","viewed":59,"name":"Equirectangular Panorama","username":"bela333","description":"This is a simple panorama rotator","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["panorama","equirectangular"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGRn","filepath":"/media/a/10eb4fe0ac8a7dc348a2cc282ca5df1759ab8bf680117e4047728100969e7b43.jpg","previewfilepath":"/media/ap/10eb4fe0ac8a7dc348a2cc282ca5df1759ab8bf680117e4047728100969e7b43.jpg","type":"texture","channel":0,"sampler":{"filter":"linear","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.14159265358979323846264\n\nmat3 xRotation(float angle){\n\tmat3 rotOut = mat3(1);\n    \n    rotOut[1] = vec3(0, cos(angle), sin(angle));\n    rotOut[2] = vec3(0, -sin(angle), cos(angle));\n    \n    return rotOut;\n}\n\nmat3 yRotation(float angle){\n\tmat3 rotOut = mat3(1);\n    \n    rotOut[0] = vec3(cos(angle), 0, sin(angle));\n    rotOut[2] = vec3(-sin(angle), 0, cos(angle));\n    \n    return rotOut;\n}\n\nmat3 zRotation(float angle){\n\tmat3 rotOut = mat3(1);\n    \n    rotOut[0] = vec3(cos(angle), -sin(angle), 0);\n    rotOut[1] = vec3(sin(angle), cos(angle), 0);\n    \n    return rotOut;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    float yaw = (uv.x*2.0-1.0)*PI;\n    float pitch = (uv.y*2.0-1.0)*PI/2.0;\n    \n    float len = cos(pitch);\n    \n    vec3 point;\n        \n    point.x = cos(yaw)*len;\n    point.y = sin(yaw)*len;\n    point.z = sin(pitch);\n    \n    //APPLY CHANGES\n    \n    point = yRotation(((1.0-iMouse.y/iResolution.y)*2.0-1.0)*PI/2.0)*zRotation((iMouse.x/iResolution.x*2.0-1.0)*PI)*point;\n    \n    //END OF CHANGES\n    \n    pitch = asin(point.z);\n    len = cos(pitch);\n\n    yaw = atan(point.y, point.x);\n    \n    uv.x = (yaw/PI+1.0)/2.0;\n    uv.y = (pitch*2.0/PI+1.0)/2.0;\n        \n\tfragColor = texture(iChannel0, uv);\n}","name":"Image","description":"","type":"image"}]}