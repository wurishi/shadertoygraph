{"ver":"0.1","info":{"id":"4c3BWX","date":"1733521154","viewed":28,"name":"Midi note test","username":"dragan","description":"Simple midi note playing test","likes":2,"published":1,"flags":8,"usePreview":0,"tags":["audio"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n\n    // Time varying pixel color\n    vec3 col = 0.5 + 0.5*cos(iTime+uv.xyx+vec3(0,2,4));\n\n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"#define M_TAU 6.28318530718\n\n// Midi value (0...127) to fraquency \nfloat midi2freq(int note) {\n    return exp2((float(note) - 69.0) / 12.0) * 440.0;\n}\n    \nvec2 mainSound( int samp, float time ) {\n    // Middle C example (C4)\n    // Notes: C4-D4-E4-F4-G4-A4-B4-C5\n    int midiNote[8] = int[8]( 60, 62, 64, 65, 67, 69, 71, 72 );\n    float bpm = 240.0, bar = time * bpm / 60.0;\n    float env = max(0.0, 1.0 / 4.0 - fract(bar));\n    float freq = midi2freq( midiNote[int(mod(bar, 8.0))] );\n    return vec2(sin(M_TAU * time * freq)) * env;\n}","name":"Sound","description":"","type":"sound"}]}