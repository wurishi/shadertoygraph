{"ver":"0.1","info":{"id":"Ml23DD","date":"1429272375","viewed":189,"name":"Mandlebro","username":"reuben364","description":"Mandlebrot shader","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["mandlebrot"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[],"code":"#define ITER 50\n#define PI 3.1415\n\n#define time (iTime*1000.)\n#define resolution (iResolution.xy)\n\n\nfloat mandlebrot(vec2 pos) {\n    vec2 z = vec2(0);\n    for(int i=1; i<ITER; i++) {\n        z = vec2(z.x*z.x-z.y*z.y, 2.*z.x*z.y) + pos;\n        if(length(z) > 2.) {\n            return float(i);\n        }\n    }\n    return float(ITER);\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n\tvec2 pos = fragCoord / resolution;\n    pos -= .5;\n    pos *= 2.;\n    float rev = time/2000.;\n    float posiOsc = .5*(1.-cos(PI*fract(rev)));\n    float posiOsc2 = .5*(1.-cos(PI*rev));\n    float thres = float(ITER)*posiOsc;\n    float mandy = mandlebrot(pos);\n    float mandyWrap = 1./max(1., thres-mandy);\n    float mandyActual = float(ITER)-mandy < .1 ? 1. : 0.;\n    vec4 col1 = vec4(1,0,0,1);\n    vec4 col2 = vec4(1,1,0,1);\n    vec4 actualColor = mix(col2, col1, posiOsc2);\n    vec4 backgroundColor = mod(rev, 2.) < 1. ? col2 : col1;\n    vec4 wrapColor = mod(rev, 2.) < 1. ? col1 : col2;\n    fragColor = mix(mix(backgroundColor, wrapColor, mandyWrap), actualColor, mandyActual);\n}","name":"","description":"","type":"image"}]}