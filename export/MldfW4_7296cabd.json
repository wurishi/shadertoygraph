{"ver":"0.1","info":{"id":"MldfW4","date":"1541876671","viewed":82,"name":"PremierPasCercle","username":"dacruzquen","description":"premier pas cercle","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["cercle"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//Fonctionne mais il faut changer le repère totalement dans transform_to_apply\n\n/*const vec2 diskCenter = vec2(0,0);\nconst float diskRadius = 0.750;\n\nvec2 transform_to_apply(vec2 xy){\n    return vec2(xy.x - iResolution.x/2.,xy.y - iResolution.y/2.);\n}\n\n\nbool isInDisk(vec2 p)\n{\n    vec2 v = vec2(diskCenter.x - p.x, diskCenter.y - p.y);\n    float distancePoint = v.x*v.x + v.y*v.y;\n    float realRadius = diskRadius * iResolution.y/2.;\n    return (distancePoint)<=(realRadius*realRadius);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    //Apply change of coordinates from pixel\n    vec2 pt = transform_to_apply(fragCoord.xy);\n    \n    //Determines if point is inside the disk\n    if(isInDisk(pt))\n        fragColor = vec4(1,0,0,1.0);\n    else\n        fragColor = vec4(0,0,0,1.0);\n}*/\n\n\n//Avec le changement de repère dans transform_to_apply\n\nconst vec2 diskCenter = vec2(0,0);\nconst float diskRadius = 1.0;\n\nvec2 transform_to_apply(vec2 xy){\n    //xy = (2.*xy.xy - iResolution.xy)/iResolution.y;\n    //return vec2(xy.x,xy.y);\n    xy = (2.*xy - iResolution.xy)/iResolution.y;\n    return xy;\n}\n\n\n/*bool isInDisk(vec2 p)\n{\n    return distance(p.xy,diskCenter.xy)<=diskRadius;\n}*/\n\nfloat isInDisk(vec2 p)\n{\n    return distance(p.xy,diskCenter.xy);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    //Apply change of coordinates from pixel\n    vec2 pt = transform_to_apply(fragCoord.xy);\n    \n    //Determines if point is inside the disk\n    /*if(isInDisk(pt))\n        fragColor = vec4(1,0,0,1.0);\n    else\n        fragColor = vec4(0,0,0,1.0);*/\n    \n    \n    //I tried what what Fabrice advised me but I have no idea what I'm doing :)\n    float d = isInDisk(pt);\n    \n    d = step(diskRadius,d);\n    d = smoothstep(0.0,1.0,d);\n    fragColor = vec4(1.0-d,0,0,1.0);\n    \n}\n\n\n\n","name":"Image","description":"","type":"image"}]}