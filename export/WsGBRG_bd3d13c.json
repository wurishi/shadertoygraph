{"ver":"0.1","info":{"id":"WsGBRG","date":"1607340808","viewed":182,"name":"Gymnop√©die No. 1 synthesized","username":"digitcrusher","description":"enjoy :-)","likes":2,"published":1,"flags":8,"usePreview":0,"tags":["piano","synth","gymnopedies"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.14159265358\n#define TIME_SCALE 1.0\n\nfloat sine(float time, float freq, float phase) {\n    return sin((time * freq + phase) * PI * 2.0);\n}\n\nfloat square(float time, float freq, float duty, float phase) {\n    return mod(time * freq + phase, 1.0) < duty ? 1.0 : -1.0;\n}\n\nfloat nes_sine(float time, float freq, float phase) {\n    return floor((sine(time, freq, phase) + 1.0) / 2.0 * 15.0) / 15.0 * 2.0 - 1.0;\n}\n\n#define PAUSE 0.0\n#define WEAK 0.5\n#define STRONG 1.0\n\nfloat key_freq(int num) {\n    return pow(1.059463, float(num - 49)) * 440.0;\n}\n\nfloat note_freq(float pos) {\n    return key_freq(int(pos * 2.0) + 36);\n}\n\nstruct Note {\n    float duration;\n    float freq, force;\n    bool is_stacked;\n    bool should_reset_start;\n};\n\n#define NOTEC 97\n    \nfloat sound(float time) {\n    float val = 0.0;\n    \n    //val += nes_sine(time, 100.0, 0.0);\n    //val += sine(time + 0.1, (sine(time, 1.0, 0.0) + 1.0) / 2.0 * 10.0, 0.5);    \n    //val += sine(time, 100.0, sine(time, 1.5, 0.0) * 1.0); // phase modulation\n    \n    Note notes[NOTEC];\n    \n    //first\n    notes[0] = Note(0.25, note_freq(0.0), STRONG, false, true);\n    notes[1] = Note(0.5,  note_freq(4.5), STRONG, true, false);\n    notes[2] = Note(0.5,  note_freq(5.0), STRONG, true, false);\n    notes[3] = Note(0.5,  note_freq(5.5), STRONG, false, false);\n    \n    notes[4] = Note(0.25, note_freq(-1.5), STRONG, false, false);\n    notes[5] = Note(0.5,  note_freq(4.0), STRONG, true, false);\n    notes[6] = Note(0.5,  note_freq(4.5), STRONG, true, false);\n    notes[7] = Note(0.5,  note_freq(5.5), STRONG, false, false);\n    \n    notes[8] = Note(0.25, note_freq(0.0), STRONG, false, false);\n    notes[9] = Note(0.5,  note_freq(4.5), STRONG, true, false);\n    notes[10] = Note(0.5,  note_freq(5.0), STRONG, true, false);\n    notes[11] = Note(0.5,  note_freq(5.5), STRONG, false, false);\n    \n    notes[12] = Note(0.25, note_freq(-1.5), STRONG, false, false);\n    notes[13] = Note(0.5,  note_freq(4.0), STRONG, true, false);\n    notes[14] = Note(0.5,  note_freq(4.5), STRONG, true, false);\n    notes[15] = Note(0.5,  note_freq(5.5), STRONG, false, false);\n    \n    \n    //second\n    notes[16] = Note(0.25, note_freq(0.0), STRONG, false, false);\n    notes[17] = Note(0.5,  note_freq(4.5), STRONG, true, false);\n    notes[18] = Note(0.5,  note_freq(5.0), STRONG, true, false);\n    notes[19] = Note(0.5,  note_freq(5.5), STRONG, false, false);\n    \n    notes[20] = Note(0.25, note_freq(-1.5), STRONG, false, false);\n    notes[21] = Note(0.5,  note_freq(4.0), STRONG, true, false);\n    notes[22] = Note(0.5,  note_freq(4.5), STRONG, true, false);\n    notes[23] = Note(0.5,  note_freq(5.5), STRONG, false, false);\n    \n    notes[24] = Note(0.25, note_freq(0.0), STRONG, false, false);\n    notes[25] = Note(0.5,  note_freq(4.5), STRONG, true, false);\n    notes[26] = Note(0.5,  note_freq(5.0), STRONG, true, false);\n    notes[27] = Note(0.5,  note_freq(5.5), STRONG, false, false);\n    \n    notes[28] = Note(0.25, note_freq(-1.5), STRONG, false, false);\n    notes[29] = Note(0.5,  note_freq(4.0), STRONG, true, false);\n    notes[30] = Note(0.5,  note_freq(4.5), STRONG, true, false);\n    notes[31] = Note(0.5,  note_freq(5.5), STRONG, false, false);\n    \n    \n    //third\n    notes[32] = Note(0.25, note_freq(0.0), STRONG, false, false);\n    notes[33] = Note(0.5,  note_freq(4.5), STRONG, true, false);\n    notes[34] = Note(0.5,  note_freq(5.0), STRONG, true, false);\n    notes[35] = Note(0.5,  note_freq(5.5), STRONG, false, false);\n    \n    notes[36] = Note(0.25, note_freq(-1.5), STRONG, false, false);\n    notes[37] = Note(0.5,  note_freq(4.0), STRONG, true, false);\n    notes[38] = Note(0.5,  note_freq(4.5), STRONG, true, false);\n    notes[39] = Note(0.5,  note_freq(5.5), STRONG, false, false);\n    \n    notes[40] = Note(0.25, note_freq(0.0), STRONG, false, false);\n    notes[41] = Note(0.5,  note_freq(4.5), STRONG, true, false);\n    notes[42] = Note(0.5,  note_freq(5.0), STRONG, true, false);\n    notes[43] = Note(0.5,  note_freq(5.5), STRONG, false, false);\n    \n    notes[44] = Note(0.25, note_freq(-1.5), STRONG, false, false);\n    notes[45] = Note(0.5,  note_freq(4.0), STRONG, true, false);\n    notes[46] = Note(0.5,  note_freq(4.5), STRONG, true, false);\n    notes[47] = Note(0.5,  note_freq(5.5), STRONG, false, false);\n    \n    \n    //fourth\n    notes[48] = Note(0.25, note_freq(0.0), STRONG, false, false);\n    notes[49] = Note(0.5,  note_freq(4.5), STRONG, true, false);\n    notes[50] = Note(0.5,  note_freq(5.0), STRONG, true, false);\n    notes[51] = Note(0.5,  note_freq(5.5), STRONG, false, false);\n    \n    notes[52] = Note(0.25, note_freq(-1.5), STRONG, false, false);\n    notes[53] = Note(0.5,  note_freq(4.0), STRONG, true, false);\n    notes[54] = Note(0.5,  note_freq(4.5), STRONG, true, false);\n    notes[55] = Note(0.5,  note_freq(5.5), STRONG, false, false);\n    \n    notes[56] = Note(0.25, note_freq(0.0), STRONG, false, false);\n    notes[57] = Note(0.5,  note_freq(4.5), STRONG, true, false);\n    notes[58] = Note(0.5,  note_freq(5.0), STRONG, true, false);\n    notes[59] = Note(0.5,  note_freq(5.5), STRONG, false, false);\n    \n    notes[60] = Note(0.25, note_freq(-1.5), STRONG, false, false);\n    notes[61] = Note(0.5,  note_freq(4.0), STRONG, true, false);\n    notes[62] = Note(0.5,  note_freq(4.5), STRONG, true, false);\n    notes[63] = Note(0.5,  note_freq(5.5), STRONG, false, false);\n    \n    notes[64] = Note(0.25, note_freq(0.0), STRONG, false, false);\n    notes[65] = Note(0.5,  note_freq(4.0), STRONG, true, false);\n    notes[66] = Note(0.5,  note_freq(4.5), STRONG, true, false);\n    notes[67] = Note(0.5,  note_freq(5.5), STRONG, false, false);\n    \n    \n    //first\n    notes[68] = Note(0.75, 0.0, PAUSE, false, true);\n    \n    notes[69] = Note(0.75, 0.0, PAUSE, false, false);\n    \n    notes[70] = Note(0.75, 0.0, PAUSE, false, false);\n    \n    notes[71] = Note(0.75, 0.0, PAUSE, false, false);\n    \n    \n    //second\n    notes[72] = Note(0.25, 0.0, PAUSE, false, false);\n    notes[73] = Note(0.25, note_freq(4.0), STRONG, false, false);\n    notes[74] = Note(0.25, note_freq(5.0), STRONG, false, false);\n    \n    notes[75] = Note(0.25, note_freq(4.5), STRONG, false, false);\n    notes[76] = Note(0.25, note_freq(4.0), STRONG, false, false);\n    notes[77] = Note(0.25, note_freq(2.5), STRONG, false, false);\n   \n    notes[78] = Note(0.25, note_freq(2.0), STRONG, false, false);\n    notes[79] = Note(0.25, note_freq(2.5), STRONG, false, false);\n    notes[80] = Note(0.25, note_freq(3.0), STRONG, false, false);\n    \n    notes[81] = Note(0.75, note_freq(1.5), STRONG, false, false);\n    \n    \n    //third\n    notes[82] = Note(0.75, note_freq(1.5), STRONG, false, false);\n    \n    notes[83] = Note(0.75, note_freq(1.5), STRONG, false, false);\n    \n    notes[84] = Note(0.75, note_freq(1.5), STRONG, false, false);\n    \n    notes[85] = Note(0.75, note_freq(1.5), STRONG, false, false);\n    \n    \n    //fourth\n    notes[86] = Note(0.25, 0.0, PAUSE, false, false);\n    notes[87] = Note(0.25, note_freq(4.0), STRONG, false, false);\n    notes[88] = Note(0.25, note_freq(5.0), STRONG, false, false);\n    \n    notes[89] = Note(0.25, note_freq(4.5), STRONG, false, false);\n    notes[90] = Note(0.25, note_freq(4.0), STRONG, false, false);\n    notes[91] = Note(0.25, note_freq(2.5), STRONG, false, false);\n    \n    notes[92] = Note(0.25, note_freq(2.0), STRONG, false, false);\n    notes[93] = Note(0.25, note_freq(2.5), STRONG, false, false);\n    notes[94] = Note(0.25, note_freq(3.0), STRONG, false, false);\n    \n    notes[95] = Note(0.75, note_freq(1.5), STRONG, false, false);\n    \n    notes[96] = Note(0.75, note_freq(1.5), STRONG, false, false);\n    \n    float start = 0.0;\n    for(int i = 0; i < NOTEC; i++) {\t\n        if(notes[i].should_reset_start) {\n            start = 0.0;\n        }\n        if(start <= time && time < start + notes[i].duration) {\n    \t\tval += sine(time - start, notes[i].freq, mod(start, 1.0)) * notes[i].force;\n        }\n        if(!notes[i].is_stacked) {\n        \tstart += notes[i].duration;\n        }\n    }\n    \n    return val;\n}\n\n#define LINE_WIDTH 10.0\n#define WIDTH 0.01\n#define HEIGHT 3.0\n\nfloat sound_at(float x) {\n    return sound((x - 0.5) / iResolution.x * WIDTH + iTime * TIME_SCALE);\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    float y = sound_at(fragCoord.x);\n    float dy = abs((fragCoord.y - 0.5 - iResolution.y / 2.0) - y * iResolution.y / 2.0 / HEIGHT);\n    float val = max(1.0 - dy / LINE_WIDTH, 0.0);\n    fragColor = vec4(vec3(val), 1.0);\n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"#define PI 3.14159265358\n#define TIME_SCALE 1.0\n\nfloat sine(float time, float freq, float phase) {\n    return sin((time * freq + phase) * PI * 2.0);\n}\n\nfloat square(float time, float freq, float duty, float phase) {\n    return mod(time * freq + phase, 1.0) < duty ? 1.0 : -1.0;\n}\n\nfloat nes_sine(float time, float freq, float phase) {\n    return floor((sine(time, freq, phase) + 1.0) / 2.0 * 15.0) / 15.0 * 2.0 - 1.0;\n}\n\n#define PAUSE 0.0\n#define WEAK 0.5\n#define STRONG 1.0\n\nfloat key_freq(int num) {\n    return pow(1.059463, float(num - 49)) * 440.0;\n}\n\nfloat note_freq(float pos) {\n    return key_freq(int(pos * 2.0) + 36);\n}\n\nstruct Note {\n    float duration;\n    float freq, force;\n    bool is_stacked;\n    bool should_reset_start;\n};\n\n#define NOTEC 97\n    \nfloat sound(float time) {\n    float val = 0.0;\n    \n    //val += nes_sine(time, 100.0, 0.0);\n    //val += sine(time + 0.1, (sine(time, 1.0, 0.0) + 1.0) / 2.0 * 10.0, 0.5);    \n    //val += sine(time, 100.0, sine(time, 1.5, 0.0) * 1.0); // phase modulation\n    \n    Note notes[NOTEC];\n    \n    //first\n    notes[0] = Note(0.25, note_freq(0.0), WEAK, false, true);\n    notes[1] = Note(0.5,  note_freq(4.5), WEAK, true, false);\n    notes[2] = Note(0.5,  note_freq(5.0), WEAK, true, false);\n    notes[3] = Note(0.5,  note_freq(5.5), WEAK, false, false);\n    \n    notes[4] = Note(0.25, note_freq(-1.5), WEAK, false, false);\n    notes[5] = Note(0.5,  note_freq(4.0), WEAK, true, false);\n    notes[6] = Note(0.5,  note_freq(4.5), WEAK, true, false);\n    notes[7] = Note(0.5,  note_freq(5.5), WEAK, false, false);\n    \n    notes[8] = Note(0.25, note_freq(0.0), WEAK, false, false);\n    notes[9] = Note(0.5,  note_freq(4.5), WEAK, true, false);\n    notes[10] = Note(0.5,  note_freq(5.0), WEAK, true, false);\n    notes[11] = Note(0.5,  note_freq(5.5), WEAK, false, false);\n    \n    notes[12] = Note(0.25, note_freq(-1.5), WEAK, false, false);\n    notes[13] = Note(0.5,  note_freq(4.0), WEAK, true, false);\n    notes[14] = Note(0.5,  note_freq(4.5), WEAK, true, false);\n    notes[15] = Note(0.5,  note_freq(5.5), WEAK, false, false);\n    \n    \n    //second\n    notes[16] = Note(0.25, note_freq(0.0), WEAK, false, false);\n    notes[17] = Note(0.5,  note_freq(4.5), WEAK, true, false);\n    notes[18] = Note(0.5,  note_freq(5.0), WEAK, true, false);\n    notes[19] = Note(0.5,  note_freq(5.5), WEAK, false, false);\n    \n    notes[20] = Note(0.25, note_freq(-1.5), WEAK, false, false);\n    notes[21] = Note(0.5,  note_freq(4.0), WEAK, true, false);\n    notes[22] = Note(0.5,  note_freq(4.5), WEAK, true, false);\n    notes[23] = Note(0.5,  note_freq(5.5), WEAK, false, false);\n    \n    notes[24] = Note(0.25, note_freq(0.0), WEAK, false, false);\n    notes[25] = Note(0.5,  note_freq(4.5), WEAK, true, false);\n    notes[26] = Note(0.5,  note_freq(5.0), WEAK, true, false);\n    notes[27] = Note(0.5,  note_freq(5.5), WEAK, false, false);\n    \n    notes[28] = Note(0.25, note_freq(-1.5), WEAK, false, false);\n    notes[29] = Note(0.5,  note_freq(4.0), WEAK, true, false);\n    notes[30] = Note(0.5,  note_freq(4.5), WEAK, true, false);\n    notes[31] = Note(0.5,  note_freq(5.5), WEAK, false, false);\n    \n    \n    //third\n    notes[32] = Note(0.25, note_freq(0.0), WEAK, false, false);\n    notes[33] = Note(0.5,  note_freq(4.5), WEAK, true, false);\n    notes[34] = Note(0.5,  note_freq(5.0), WEAK, true, false);\n    notes[35] = Note(0.5,  note_freq(5.5), WEAK, false, false);\n    \n    notes[36] = Note(0.25, note_freq(-1.5), WEAK, false, false);\n    notes[37] = Note(0.5,  note_freq(4.0), WEAK, true, false);\n    notes[38] = Note(0.5,  note_freq(4.5), WEAK, true, false);\n    notes[39] = Note(0.5,  note_freq(5.5), WEAK, false, false);\n    \n    notes[40] = Note(0.25, note_freq(0.0), WEAK, false, false);\n    notes[41] = Note(0.5,  note_freq(4.5), WEAK, true, false);\n    notes[42] = Note(0.5,  note_freq(5.0), WEAK, true, false);\n    notes[43] = Note(0.5,  note_freq(5.5), WEAK, false, false);\n    \n    notes[44] = Note(0.25, note_freq(-1.5), WEAK, false, false);\n    notes[45] = Note(0.5,  note_freq(4.0), WEAK, true, false);\n    notes[46] = Note(0.5,  note_freq(4.5), WEAK, true, false);\n    notes[47] = Note(0.5,  note_freq(5.5), WEAK, false, false);\n    \n    \n    //fourth\n    notes[48] = Note(0.25, note_freq(0.0), WEAK, false, false);\n    notes[49] = Note(0.5,  note_freq(4.5), WEAK, true, false);\n    notes[50] = Note(0.5,  note_freq(5.0), WEAK, true, false);\n    notes[51] = Note(0.5,  note_freq(5.5), WEAK, false, false);\n    \n    notes[52] = Note(0.25, note_freq(-1.5), WEAK, false, false);\n    notes[53] = Note(0.5,  note_freq(4.0), WEAK, true, false);\n    notes[54] = Note(0.5,  note_freq(4.5), WEAK, true, false);\n    notes[55] = Note(0.5,  note_freq(5.5), WEAK, false, false);\n    \n    notes[56] = Note(0.25, note_freq(0.0), WEAK, false, false);\n    notes[57] = Note(0.5,  note_freq(4.5), WEAK, true, false);\n    notes[58] = Note(0.5,  note_freq(5.0), WEAK, true, false);\n    notes[59] = Note(0.5,  note_freq(5.5), WEAK, false, false);\n    \n    notes[60] = Note(0.25, note_freq(-1.5), WEAK, false, false);\n    notes[61] = Note(0.5,  note_freq(4.0), WEAK, true, false);\n    notes[62] = Note(0.5,  note_freq(4.5), WEAK, true, false);\n    notes[63] = Note(0.5,  note_freq(5.5), WEAK, false, false);\n    \n    notes[64] = Note(0.25, note_freq(0.0), WEAK, false, false);\n    notes[65] = Note(0.5,  note_freq(4.0), WEAK, true, false);\n    notes[66] = Note(0.5,  note_freq(4.5), WEAK, true, false);\n    notes[67] = Note(0.5,  note_freq(5.5), WEAK, false, false);\n    \n    \n    //first\n    notes[68] = Note(0.75, 0.0, PAUSE, false, true);\n    \n    notes[69] = Note(0.75, 0.0, PAUSE, false, false);\n    \n    notes[70] = Note(0.75, 0.0, PAUSE, false, false);\n    \n    notes[71] = Note(0.75, 0.0, PAUSE, false, false);\n    \n    \n    //second\n    notes[72] = Note(0.25, 0.0, PAUSE, false, false);\n    notes[73] = Note(0.25, note_freq(4.0), STRONG, false, false);\n    notes[74] = Note(0.25, note_freq(5.0), STRONG, false, false);\n    \n    notes[75] = Note(0.25, note_freq(4.5), STRONG, false, false);\n    notes[76] = Note(0.25, note_freq(4.0), STRONG, false, false);\n    notes[77] = Note(0.25, note_freq(2.5), STRONG, false, false);\n   \n    notes[78] = Note(0.25, note_freq(2.0), STRONG, false, false);\n    notes[79] = Note(0.25, note_freq(2.5), STRONG, false, false);\n    notes[80] = Note(0.25, note_freq(3.0), STRONG, false, false);\n    \n    notes[81] = Note(0.75, note_freq(1.5), STRONG, false, false);\n    \n    \n    //third\n    notes[82] = Note(0.75, note_freq(1.0), STRONG, false, false);\n    \n    notes[83] = Note(0.75, note_freq(1.0), STRONG, false, false);\n    \n    notes[84] = Note(0.75, note_freq(1.0), STRONG, false, false);\n    \n    notes[85] = Note(0.75, note_freq(1.0), STRONG, false, false);\n    \n    \n    //fourth\n    notes[86] = Note(0.25, 0.0, PAUSE, false, false);\n    notes[87] = Note(0.25, note_freq(4.0), STRONG, false, false);\n    notes[88] = Note(0.25, note_freq(5.0), STRONG, false, false);\n    \n    notes[89] = Note(0.25, note_freq(4.5), STRONG, false, false);\n    notes[90] = Note(0.25, note_freq(4.0), STRONG, false, false);\n    notes[91] = Note(0.25, note_freq(2.5), STRONG, false, false);\n    \n    notes[92] = Note(0.25, note_freq(2.0), STRONG, false, false);\n    notes[93] = Note(0.25, note_freq(2.5), STRONG, false, false);\n    notes[94] = Note(0.25, note_freq(3.0), STRONG, false, false);\n    \n    notes[95] = Note(0.75, note_freq(1.5), STRONG, false, false);\n    \n    notes[96] = Note(0.75, note_freq(2.5), STRONG, false, false);\n    \n    float start = 0.0;\n    for(int i = 0; i < NOTEC; i++) {\t\n        if(notes[i].should_reset_start) {\n            start = 0.0;\n        }\n        if(start <= time && time < start + notes[i].duration) {\n    \t\tval += sine(time - start, notes[i].freq, 0.0) * notes[i].force;\n        }\n        if(!notes[i].is_stacked) {\n        \tstart += notes[i].duration;\n        }\n    }\n    \n    return val;\n}\n\nvec2 mainSound( in int samp,float time) {\n    return vec2(sound(time * TIME_SCALE));\n}","name":"Sound","description":"","type":"sound"}]}