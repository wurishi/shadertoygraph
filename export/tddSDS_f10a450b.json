{"ver":"0.1","info":{"id":"tddSDS","date":"1572812077","viewed":83,"name":"Proc Gen tutrial","username":"xdegtyarev","description":"procgen tutorial","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["proc"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void getSkyColor(float x, float y, inout vec3 color) {\n    float h = max(0.0, 1.4 - y - pow(abs(x - 0.5), 3.0));\n    color.r = pow(h, 3.0);\n    color.g = pow(h, 9.0);\n    color.b = 0.3 + pow(max(0.0, h - 0.1), 10.0);\n}\n\nfloat rand(float x){\n    return fract(sin(x)*1000.0);\n}\n\nfloat noise(float x){\n    float i = floor(x);\n    float f = fract(x);\n    return mix(rand(i),rand(i+1.0),f * f * (3.0 - 2.0*f));\n}\n\nfloat terrain(float x){\n    float y = 0.0;\n    for(int oct = 0; oct<10; ++oct){\n        float k = pow(2.0,float(oct));\n        y+=noise(x * k)/k;\n    }\n    return y*0.5;\n}\n\nfloat water(float x){\n    float y = 0.0;\n    y = sin(x*75.0)*0.01 + 0.2;\n    return y;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    vec3 col = 0.5 + 0.5*cos(iTime+uv.xyx+vec3(0,2,4));\n    vec3 col2 = vec3(0,0,0);\n\tgetSkyColor(uv.x,uv.y,col2);\n    col = mix(col,col2,sin(uv.x*0.1+0.9));\n    // Output to screen\n    float shift = 0.1 *iTime + 0.2;\n    uv.x += shift;\n    float h = max(water(uv.x), terrain(uv.x));\n    if(uv.y<h) col = vec3(0,0,0);\n    fragColor = vec4(col,1.0);\n    \n}","name":"Image","description":"","type":"image"}]}