{"ver":"0.1","info":{"id":"XdfczB","date":"1488640121","viewed":154,"name":"Neon bars","username":"TomCat","description":"Neon test with cats - nothing special","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["glow","neon"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XdfGRn","filepath":"/media/a/e6e5631ce1237ae4c05b3563eda686400a401df4548d0f9fad40ecac1659c46c.jpg","previewfilepath":"/media/ap/e6e5631ce1237ae4c05b3563eda686400a401df4548d0f9fad40ecac1659c46c.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"Xsf3Rn","filepath":"/media/a/cbcbb5a6cfb55c36f8f021fbb0e3f69ac96339a39fa85cd96f2017a2192821b5.png","previewfilepath":"/media/ap/cbcbb5a6cfb55c36f8f021fbb0e3f69ac96339a39fa85cd96f2017a2192821b5.png","type":"texture","channel":1,"sampler":{"filter":"nearest","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Neon bars with cats by TomCat/Abaddon\n\n#define Speed 1.5\n#define Amp .75\n#define PI 3.14159\n#define next PI*4.\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tint Size = int(iResolution.y / 225.);\n    float Delta = 48. * float(Size) / iResolution.y;\n\n    float time = mod( Speed*iTime,next*2.5 );\n    if( (time+4.*Delta)>next*1.5 )\n    {\n\t\ttime = time + 4.*Delta;\n        Delta = 0.;\n    }\n\n    vec2 uv = fragCoord.xy / iResolution.xy;\t\t\t\t// screen coords: 0-1\n    vec3 color = vec3(texture( iChannel0, uv ).z*.5);\t\t// background\n\n    float bar = cos(6.*(uv.y-.5));\t\t\t\t\t\t\t// big bar\n    int b = 3 & int(8.*iTime);\n    float frame = float( b & ((((b&1)*2) ^ (b&2)) +1) );\t// 0,1,2,1\n    vec2 cat = vec2(.45+(1.-uv.x)*.5-.15*frame-mod(.25*iTime,.15),uv.y*3.-1.05);\n    if(bar>.3)\n    {\n        if(texture( iChannel1, cat ).w > 0.) color = texture( iChannel1, cat ).xyz;\n        else color = vec3(bar,bar,bar);\n    }\n\n    vec3 ncolor = vec3(1., 0., 1.);\t\t\t\t\t\t\t// magenta\n    float row = .5*(cos(time)*Amp + 1.) * iResolution.y + 16.*float(Size);\n    int dy = int(row - fragCoord.y);\n    if(dy>0 && dy<(32*Size+1))\n    {\n        if(dy>16*Size) dy = 32*Size - dy + 1;\n        float neon = float(dy) * 4. / float(Size);\t\t\t// glow\n\t    color = color + neon/255. * ncolor;\n        if(dy>10*Size)\n        {\n        \tneon = float(dy-8*Size) * 20. / float(Size);\t// tube\n        \tif(dy>(16-1)*Size) neon = 255.;\t\t\t\t\t// core\n\t\t    color = neon/255. * ncolor;\n        }\n    }\n    \n    ncolor = vec3(1., 0., 0.);\t\t\t\t\t\t\t\t// red\n    time = time + Delta;\n    row = .5*(cos(time)*Amp + 1.) * iResolution.y + 16.*float(Size);\n    dy = int(row - fragCoord.y);\n    if(dy>0 && dy<(32*Size+1))\n    {\n        if(dy>16*Size) dy = 32*Size - dy + 1;\n        float neon = float(dy) * 4. / float(Size);\t\t\t// glow\n\t    color = color + neon/255. * ncolor;\n        if(dy>10*Size)\n        {\n        \tneon = float(dy-8*Size) * 20. / float(Size);\t// tube\n        \tif(dy>(16-1)*Size) neon = 255.;\t\t\t\t\t// core\n\t\t    color = neon/255. * ncolor;\n        }\n    }\n\n    ncolor = vec3(1., 1., 0.);\t\t\t\t\t\t\t\t// yellow\n    time = time + Delta;\n    row = .5*(cos(time)*Amp + 1.) * iResolution.y + 16.*float(Size);\n    dy = int(row - fragCoord.y);\n    if(dy>0 && dy<(32*Size+1))\n    {\n        if(dy>16*Size) dy = 32*Size - dy + 1;\n        float neon = float(dy) * 4. / float(Size);\t\t\t// glow\n\t    color = color + neon/255. * ncolor;\n        if(dy>10*Size)\n        {\n        \tneon = float(dy-8*Size) * 20. / float(Size);\t// tube\n        \tif(dy>(16-1)*Size) neon = 255.;\t\t\t\t\t// core\n\t\t    color = neon/255. * ncolor;\n        }\n    }\n\n    ncolor = vec3(0., 1., 0.);\t\t\t\t\t\t\t\t// green\n    time = time + Delta;\n    row = .5*(cos(time)*Amp + 1.) * iResolution.y + 16.*float(Size);\n    dy = int(row - fragCoord.y);\n    if(dy>0 && dy<(32*Size+1))\n    {\n        if(dy>16*Size) dy = 32*Size - dy + 1;\n        float neon = float(dy) * 4. / float(Size);\t\t\t// glow\n\t    color = color + neon/255. * ncolor;\n        if(dy>10*Size)\n        {\n        \tneon = float(dy-8*Size) * 20. / float(Size);\t// tube\n        \tif(dy>(16-1)*Size) neon = 255.;\t\t\t\t\t// core\n\t\t    color = neon/255. * ncolor;\n        }\n    }\n    \n    ncolor = vec3(0., 1., 1.);\t\t\t\t\t\t\t\t// cyan\n    time = time + Delta;\n    row = .5*(cos(time)*Amp + 1.) * iResolution.y + 16.*float(Size);\n    dy = int(row - fragCoord.y);\n    if(dy>0 && dy<(32*Size+1))\n    {\n        if(dy>16*Size) dy = 32*Size - dy + 1;\n        float neon = float(dy) * 4. / float(Size);\t\t\t// glow\n\t    color = color + neon/255. * ncolor;\n        if(dy>10*Size)\n        {\n        \tneon = float(dy-8*Size) * 20. / float(Size);\t// tube\n        \tif(dy>(16-1)*Size) neon = 255.;\t\t\t\t\t// core\n\t\t    color = neon/255. * ncolor;\n        }\n    }\n\n    if( ( 1& int( Speed*iTime/PI ) )==1) if(bar>.3)\n    {\n        if(texture( iChannel1, cat ).w > 0.) color = texture( iChannel1, cat ).xyz;\n        else color = vec3(bar,bar,bar);\n    }\n    \n\tfragColor = vec4(color, 1.0);\n}","name":"Image","description":"","type":"image"}]}