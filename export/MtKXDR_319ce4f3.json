{"ver":"0.1","info":{"id":"MtKXDR","date":"1483949536","viewed":1945,"name":"kaleidoscope effect","username":"krwq","description":"based on https://www.shadertoy.com/view/4sfGzs (aji's Kaleidoscope)","likes":7,"published":1,"flags":0,"usePreview":1,"tags":["kaleidoscope"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XdX3Rn","filepath":"/media/a/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg","previewfilepath":"/media/ap/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4df3Rn","filepath":"/media/a/3c33c415862bb7964d256f4749408247da6596f2167dca2c86cc38f83c244aa6.mp3","previewfilepath":"/media/ap/3c33c415862bb7964d256f4749408247da6596f2167dca2c86cc38f83c244aa6.mp3","type":"music","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define pi 3.14159265359\n\n#define volume texture(iChannel1, vec2(0., 0.)).x\n#define freq texture(iChannel1, vec2(floor(100., 0.0)).x\n\nvec2 kaleido(vec2 uv)\n{\n\tfloat th = atan(uv.y, uv.x);\n\tfloat r = pow(length(uv), 1.);\n\n    float p1 = sin(2. * pi * iTime / 10.);\n    float q = 2. * pi / ( 5. + 4. * p1);\n    th = abs(mod(th, q) - 0.5 * q);\n\treturn vec2(cos(th), sin(th)) * pow(r, 1.3 + 1.3 / (1.3 + sin(2. * pi * iTime / 3.))) * .1;\n}\n\nvec2 transform(vec2 at)\n{\n\tvec2 v;\n\tfloat th = .1 * iTime;\n\tv.x = at.x * cos(th) - at.y * sin(th) - .3 * sin(th);\n\tv.y = at.x * sin(th) + at.y * cos(th) + .3 * cos(th);\n\treturn v;\n}\n\nvec4 scene(vec2 at)\n{\n\treturn texture(iChannel0, transform(mod(at + 0.1, 1.)) * 2.0);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\t\n\tuv.x = mix(-1.0, 1.0, uv.x);\n\tuv.y = mix(-1.0, 1.0, uv.y);\n\tuv.y *= iResolution.y / iResolution.x;\n\tfragColor = scene(kaleido(uv));\n}","name":"Image","description":"","type":"image"}]}