{"ver":"0.1","info":{"id":"ttcXRr","date":"1580286062","viewed":260,"name":"feelings bside","username":"nabr","description":"b side","likes":10,"published":1,"flags":8,"usePreview":0,"tags":["noise","sound","feedback","dark","reverb","delay","noisemusic"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGzr","filepath":"/media/a/08b42b43ae9d3c0605da11d0eac86618ea888e62cdd9518ee8b9097488b31560.png","previewfilepath":"/media/ap/08b42b43ae9d3c0605da11d0eac86618ea888e62cdd9518ee8b9097488b31560.png","type":"texture","channel":3,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// -----------------------------------------------------\n// feelings bside by nabr\n// https://www.shadertoy.com/view/ttcXRr\n// License Creative Commons Attribution-NonCommercial 4.0 International (CC BY-NC 4.0)\n// https://creativecommons.org/licenses/by-nc/4.0/\n// -----------------------------------------------------\n\n\n// https://www.shadertoy.com/view/MslGR8\n#define dither(_vP)(fract(vec3(dot(vec2(171,231),_vP))/vec3(103,71,97))/255.)\n// print chars by FabriceNeyret2\n#define char(_p,_C)(((_p.x<0.||_p.x>1.||_p.y<0.||_p.y>1.))?vec4(0,0,0,1e5):textureGrad(iChannel3,_p/16.+fract(vec2(_C,15-_C/16)/16.),dFdx(_p/16.),dFdy(_p/16.))).xyz\n\n\n// same thing different colors: https://www.shadertoy.com/view/WlVGW3\nvoid mainImage(out vec4 O,in vec2 U)\n{\n    vec2 R=iResolution.xy;\n    float t=iTime;\n    vec2 u=1.5*(U-.5*R)/min(R.x,R.y);\n    //--------text\n    int ch[]=int[](32,98,45,115,105,100,101,32,150,149,149,156,153,158,151,131);\n    vec2 pt=vec2(1);\n    vec2 tp=u;\n    for(int i=0;i<(ch.length()/2);++i){\n        pt.x+=char(12.*vec2(tp.x-.1,tp.y+.65),ch[i]).x;\n        pt.y+=char(12.*vec2(-tp.x-.125,.3-tp.y),ch[i+8]).x;\n        tp.x-=.052;\n    }\n    // vec3 d=normalize(vec3(u,-1.25));\n    vec3 d=normalize(vec3(u,-.8*max(R.x/R.y, R.y/R.x)));\n    // -------- album cover\n    float l,ad;\n    if(abs(u.x)<.5&&abs(u.y)<.5){\n        vec3 sp=vec3(0.,.025,1)-d,\n             lds=normalize(vec3(sin(t),-2.*cos(t),.2));\n        float sph=1.-dot(sp,12.*vec3(sp.x,sp.y,1e-3));\n        vec3 sln=normalize(vec3(1e-4*sin(t),1e-2,1e-1)*mat3(1,0,0,0,1,0,sph,sph,-1)*d);\n        l=max(0.,dot(lds,sln));//calc light\n        //O=vec4((2.*t-cos(2.*t+vec3(pt.x,pt.x,.5*pt.x)+l)*.5+.85),1);\n        ad=(2.*t-cos(t));\n    }\n    // -------- backdrop\n\tt = 0.; \n    vec3 sc=vec3(0,-.5,2),n=(-dot(-sc,d)+1.)*d,p,cl;\n    for(float j=0.;j<6.;j++)\n        p=14.*n+cos(p.z-p.y)*vec3(cos(j+p.x)+sin(t+2.*j+p.y),sin(j-p.y)+cos(p.x),cos(t+p.z));\n    cl=smoothstep(0.,abs(d.y),1.-asin(2.*abs(d.y)))\n        -(cos(iTime-vec3(l+ad)+dot(vec3(0,.2,-2),-p))*.5+.45);\n    cl=vec3(.21,.3423,.34)*cl+l;\n    cl.xz*=pt.y;\n    cl=clamp(cl+.2*pt.x*pt.x,0.,1.);\n    O=vec4(dither(U)+mix(cl*cl,.5-cl,.54-sqrt(n.z)),1.);\n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"// -----------------------------------------------------\n// feelings bside by nabr\n// https://www.shadertoy.com/view/ttcXRr\n// License Creative Commons Attribution-NonCommercial 4.0 International (CC BY-NC 4.0)\n// https://creativecommons.org/licenses/by-nc/4.0/\n// -----------------------------------------------------\n// bandcamp link is rendered on the CPU \n// no post effects/third party soft no change to the source\n// except using double precision\n// type ZER0$ for free download\n// https://tolka-nabroski.bandcamp.com/track/b-side\n// -----------------------------------------------------\n\n\nfloat synth(float rt)\n{\n\tfloat s = 0.,  s0 = 0., s1 = 0.;\n\tfloat p = 20.1;\n\tif (mod(rt, 4.) > .5)p = 22.5;\n\tp = .5*(floor(p*10. + sin(5.*rt))*2.5);\n\tif (mod(rt, 64.) < 16.) {\n\t\tp = 1. - sin(rt)*270.;\n\t\tp = .05*(floor(p*10. + sin(rt))*.5);\n\t}\n\tif(mod(rt, 5.) > 4.)p = 37.98;\n\tif(mod(rt, 8.) > 7.)p = 83.;\n\t\n\ts = sin(mod(fract(p*rt)*float(int(12.*rt) % 8 | 1 << 2), 1.25));\n\ts0 = fract(-.05*rt) * s;\n\ts1 = s; \n\treturn s0 + .5*s1;\n}\nvec2 mainSound( in int samp,float t)\n{\n    // A 440 Hz wave that attenuates quickly overt time\n    // return vec2( sin(6.2831*440.0*time)*exp(-3.0*time) );\n    \n    float rvt = -(.5+t);\n    vec2 r=vec2(1);\n    float rand,t2,sum=1.,amp=1.,ivR=1./15.0015;\n    //rev https://www.shadertoy.com/view/XldcRr\n    for(float _ii=0.;(_ii<=1.);_ii+=ivR){\n        rand=fract(120.*sin(_ii*1000.));\n        t2=(ivR+_ii)+.025005*rand;\n        amp=exp(-_ii*t2);\n        r+=vec2(amp*synth(rvt+t2),amp*synth(t+t2));\n        sum+=amp;\n    }\n    r/=sum;\n    const float angle = .3926991; //radians(22.5); \n\tconst float sqh2 =  .7071067; //sqrt(2)/2\n\tvec2 rx = vec2(sqh2* (cos(angle) + sin(angle)) * r.x, \n                   sqh2 * (cos(angle) - sin(angle)) * r.x);\n\tvec2 ry = vec2(sqh2* (cos(angle) - sin(angle)) * r.y,\n                   sqh2 * (cos(angle) + sin(angle)) * r.y);\n\treturn vec2(.707*(rx.x + ry.x), .707*(ry.y + rx.y));   \n}","name":"Sound","description":"","type":"sound"}]}