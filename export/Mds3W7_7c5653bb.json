{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"// Lightning shader\n// rand,noise,fmb functions from https://www.shadertoy.com/view/Xsl3zN\n// jerome\n\nfloat rand(vec2 n) {\n    return fract(sin(dot(n, vec2(12.9898, 4.1414))) * 43758.5453);\n}\n\nfloat noise(vec2 n) {\n    const vec2 d = vec2(0.0, 1.0);\n    vec2 b = floor(n), f = smoothstep(vec2(0.0), vec2(1.0), fract(n));\n    return mix(mix(rand(b), rand(b + d.yx), f.x), mix(rand(b + d.xy), rand(b + d.yy), f.x), f.y);\n}\n\nfloat fbm(vec2 n) {\n    float total = 0.0, amplitude = 1.0;\n    for (int i = 0; i < 7; i++) {\n        total += noise(n) * amplitude;\n        n += n;\n        amplitude *= 0.5;\n    }\n    return total;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec4 col = vec4(0,0,0,1);\n    vec2 uv = fragCoord.xy * 1.0 / iResolution.xy;\n   \n   \n    // draw a line, left side is fixed\n    vec2 t = uv * vec2(2.0,1.0) - iTime*3.0;\n    vec2 t2 = (vec2(1,-1) + uv) * vec2(2.0,1.0) - iTime*3.0; // a second strand\n   \n    // draw the lines,\n//  this make the left side fixed, can be useful\n//  float ycenter = mix( 0.5, 0.25 + 0.25*fbm( t ), uv.x*4.0);\n//    float ycenter2 = mix( 0.5, 0.25 + 0.25*fbm( t2 ), uv.x*4.0);\n    float ycenter = fbm(t)*0.5;\n    float ycenter2= fbm(t2)*0.5;\n\n    // falloff\n    float diff = abs(uv.y - ycenter);\n    float c1 = 1.0 - mix(0.0,1.0,diff*20.0);\n   \n    float diff2 = abs(uv.y - ycenter2);\n    float c2 = 1.0 - mix(0.0,1.0,diff2*20.0);\n   \n    float c = max(c1,c2);\n    col = vec4(c*0.6,0.2*c2,c,1.0); // purple color\n    fragColor = col;\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"Mds3W7","date":"1372447286","viewed":1901,"name":"Lightning2","username":"LeGuignon","description":"Attempt at a lightning effect for a game. Not exactly what I had in mind (would like more \"splitting\"), feel free to propose any improvements ;)","likes":39,"published":1,"flags":0,"usePreview":0,"tags":["noise","lightning"],"hasliked":0,"parentid":"","parentname":""}}