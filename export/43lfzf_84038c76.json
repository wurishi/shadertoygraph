{"ver":"0.1","info":{"id":"43lfzf","date":"1728720899","viewed":66,"name":"Beating Heart 2008","username":"yuanlin2008","description":"hahahahaha","likes":0,"published":3,"flags":0,"usePreview":0,"tags":["simplesdf"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"/** Screen to world coord. */\nvec2 screenToWorld(in vec2 fragCoord) {\n    vec2 pos = fragCoord / iResolution.xy - 0.5;\n    pos.x *= iResolution.x / iResolution.y;\n    return pos * 2.0;\n}\n\nvec2 worldToLocal(in vec2 translation, in float rotation, in vec2 pos) {\n    pos -= translation;\n    float sin = sin(rotation);\n    float cos = cos(rotation);\n    return mat2(cos, sin, -sin, cos) * pos;\n}\n\nfloat distToCircle(in vec2 center, in float radius, in vec2 pos) {\n    return length(pos - center) - radius;\n}\n\nfloat distToRect(in vec2 center, in float rot, in vec2 size, in vec2 pos) {\n    pos = abs(worldToLocal(center, rot, pos))-size;\n    return max(pos.x, pos.y);\n}\n\nfloat distToHeart(in vec2 center, in float rot,in float size, in vec2 pos){\n    pos = worldToLocal(center, rot, pos);\n    float x = pos.x;\n    float y = pos.y;\n    float xx = x*x;\n    float yy = y*y;\n    float yyy = yy*y;\n    float group = xx + yy - size;\n    return group * group * group - xx * yyy;\n}\n\nfloat fill(in float dist, in float edge){\n    return 1.0 - smoothstep(0.f, edge, dist);\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    vec2 pos = screenToWorld(fragCoord);\n    //pos = mod(pos, 1.0)-0.5;\n    // vec3 bg = vec3(0.0);\n    // float rect1 = distToRect(vec2(0.0,0.0),iTime, vec2(0.4, 0.2), pos);\n    // float rect2 = distToRect(vec2(0.0,0.0),iTime, vec2(0.2, 0.4), pos);\n    // float circle = distToCircle(vec2(0.0,0.0), 0.4, pos);\n    // float c = fill(max(-circle, min(rect1, rect2)), 0.03);\n    // fragColor = vec4(mix(bg, vec3(1,1,0), c), 1);\n    float scale = (sin(iTime*4.0)+1.0)/0.5*0.1 + 1.0;\n    float rot = sin(iTime*2.0)*0.3;\n    float heart = distToHeart(vec2(0.0,0.0),rot, 0.3*scale, pos);\n    float heart1 = distToHeart(vec2(0.0,0.0),rot, 0.25/scale, pos);\n    float c = fill(max(-heart1, heart), 0.0);\n    fragColor = vec4(c,0,0, 1);\n}","name":"Image","description":"","type":"image"}]}