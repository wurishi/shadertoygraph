{"ver":"0.1","info":{"id":"WdXyD2","date":"1585559684","viewed":306,"name":"Universal with white","username":"gjy_1992","description":"universal transition effect with a white gap","likes":4,"published":3,"flags":0,"usePreview":0,"tags":["2d","transition"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XdXGzr","filepath":"/media/a/8979352a182bde7c3c651ba2b2f4e0615de819585cc37b7175bcefbca15a6683.jpg","previewfilepath":"/media/ap/8979352a182bde7c3c651ba2b2f4e0615de819585cc37b7175bcefbca15a6683.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec4 rule(vec2 coord)\n{\n    vec2 uv2 = coord-vec2(0.5,0.5);\n    float angle = atan(uv2.y, uv2.x);\n    float c = angle/2.0/3.1416+0.5;\n    return vec4(c,c,c,1);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n\tvec4 src = texture(iChannel0, uv);\n    vec4 dst = texture(iChannel1, uv);\n    vec4 white = vec4(1.0);\n    float rule = rule(uv).g;\n    float progress = mod(iTime,10.0)/10.0;\n    //control the mix range\n    float vague=0.1;\n    //control how much percent the white part occupies\n    float delay=1.0;\n    float phase=progress*(1.0+vague+delay);\n\tfloat p0=smoothstep(rule, rule+vague, phase);\n    //float p1=smoothstep(rule+delay, rule+vague+delay, phase);\n    float p1=smoothstep(rule+delay, rule+vague+delay, phase);\n    //if(p0<1.0)\n\t//    fragColor=mix(src, white, p0);\n    //else\n    //    fragColor=mix(white, dst, p1);\n    fragColor=src*(1.0-p0)+white*(p0-p1)+dst*p1;\n}","name":"Image","description":"","type":"image"}]}