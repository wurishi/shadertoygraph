{"ver":"0.1","info":{"id":"DlcczX","date":"1699457919","viewed":60,"name":"anamorphic bokeh (hold LMB)","username":"SleepiDreamer","description":"Hold down left mouse button on the canvas to see it in action!","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["bokeh","camera","anamorphic"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define SCALE 0.05\n#define VIGNETTE 7.0\n\n#define DEBUG false\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.x;\n    vec2 mouse = iMouse.xy/iResolution.x;\n\n    float AR = iResolution.x / iResolution.y;\n    // Time varying pixel color\n    vec3 col = vec3(0.0);\n    \n    bool clip = false;\n    vec2 centerOffset = mix(mouse, vec2(0.0), 0.5) - vec2(0.25, 0.125);\n    if (length((uv - 0.0) - (mouse - centerOffset * SCALE * VIGNETTE)) < SCALE * 2.3) {\n        col = vec3(1.0, 0.0, 0.75) * vec3(DEBUG);\n        clip = true;\n    }\n    \n    float dist = length((uv - mouse) / vec2(2.0, 2.0));\n    if (dist < SCALE && clip) {\n        col = vec3(1.0);\n    }\n    \n    \n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}