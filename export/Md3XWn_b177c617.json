{"ver":"0.1","info":{"id":"Md3XWn","date":"1458644001","viewed":2019,"name":"infinite street","username":"FabriceNeyret2","description":"contrast preserving blend using https://www.shadertoy.com/view/lsKGz3","likes":34,"published":3,"flags":0,"usePreview":1,"tags":["texture","infinite"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define SCALE 2.\n#define SWIRL 1\n\nvoid mainImage( out vec4 O,  vec2 U )\n{\n    O -= O;\n    float s=0., s2=0., t=iTime; \n\tU = U/iResolution.xy -.5;\n    U.x += .03*sin(3.14*t);\n    float sc = pow(SCALE,-mod(t,2.)-.8);\n    U *= sc;\n    \n    for (int i=0; i<10; i++) {\n        vec2 V = abs(U+U); \n        if (max(V.x,V.y)>1.) break;\n        V = smoothstep(1.,.5,V);\n        float m = V.x*V.y;\n\t    O = mix(O,texture(iChannel0,U+.5),m);\n      //O = mix(O,texture(iChannel0,U+.5,(sc *= 2.)*.15),m);  // Andre's blurred version\n      //O = mix(O,texture(iChannel0,U+.5,sqrt((sc *= 2.)*.3)),m); //   ...\n        s = mix(s,1.,m); s2 = s2*(1.-m)*(1.-m) + m*m;\n        U*=SCALE; \n#if SWIRL\n        U.x=-U.x;\n#endif\n    }\n    \n    vec4 mean = texture(iChannel0,U,10.);\n    O = mean + (O-s*mean)/sqrt(s2); \n}","name":"Image","description":"","type":"image"}]}