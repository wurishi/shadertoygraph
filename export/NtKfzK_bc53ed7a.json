{"ver":"0.1","info":{"id":"NtKfzK","date":"1664848105","viewed":151,"name":"Heat Vision","username":"Empio","description":"Blends along the spectrum based on luminance.","likes":10,"published":1,"flags":0,"usePreview":0,"tags":["postprocess","heat"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"Xdf3Rn","filepath":"/media/a/e81e818ac76a8983d746784b423178ee9f6cdcdf7f8e8d719341a6fe2d2ab303.webm","previewfilepath":"/media/ap/e81e818ac76a8983d746784b423178ee9f6cdcdf7f8e8d719341a6fe2d2ab303.webm","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// swaps the direction to (black = violet) and (white = red)\n#define VIOLET_TO_RED\n\nconst int RAINBOW_LENGTH = 7;\nconst int RAINBOW_MAX_INDEX = RAINBOW_LENGTH - 1;\n\nconst vec3 RAINBOW[RAINBOW_LENGTH] = vec3[]\n(\n    vec3(1, 0, 0),    // red\n    vec3(1, 0.5, 0),  // orange\n    vec3(1, 1, 0),    // yellow\n    vec3(0, 1, 0),    // green\n    vec3(0, 0.5, 1),  // blue\n    vec3(0, 0, 0.5),  // indigo\n    vec3(0, 0.5, 0.5) // violet\n);\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord / iResolution.xy;\n\n    vec3 col = texture(iChannel0, uv).rgb;\n    \n    float luma = dot(col, vec3(0.299, 0.587, 0.114));\n    float index = luma * float(RAINBOW_MAX_INDEX);\n\n    #ifdef VIOLET_TO_RED\n        index = float(RAINBOW_MAX_INDEX) - index;\n    #endif\n\n    vec3 colMin = RAINBOW[int(index)];\n    vec3 colMax = RAINBOW[min(int(index) + 1, RAINBOW_MAX_INDEX)];\n\n    col = mix(colMin, colMax, fract(index));\n\n    // Output to screen\n    fragColor = vec4(col, 1.0);\n}","name":"Image","description":"","type":"image"}]}