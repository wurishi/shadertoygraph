{"ver":"0.1","info":{"id":"cdlSzs","date":"1669405908","viewed":116,"name":"Pixel Perfect Bar","username":"STaghavi","description":"Pixel Perfect Bar that snap to pixel.","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["pixelperfectbar"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    float gapWidthPixel =1.;\n    float fillWidthPixel = 3.;\n    float barSizePixel = (gapWidthPixel + fillWidthPixel) - 1.;\n    \n    float outVal = 0.0;\n\n    float i = floor(uv.x * iResolution.x);\n    \n    if( mod(i, barSizePixel + 1.) != 0. ) \n    {\n        float barIndex = floor( i / (barSizePixel + 1.) );\n        float barOffset = barIndex * (barSizePixel + 1.) + gapWidthPixel;\n        float barFillRight = (barIndex * (barSizePixel + 1.) + gapWidthPixel ) + fillWidthPixel;\n\n        \n        float u = (( barFillRight - i) / (fillWidthPixel + 1.0));\n        float v = 1.0 - abs(uv.y * 2.0 - 1.0) * (iResolution.y / (fillWidthPixel * 2.0) );\n        \n        \n        float barHeight = 1.0 - abs(cos(barIndex * 0.09) * (150. / fillWidthPixel) );\n                      \n        outVal = ((v < barHeight) ?  0.0 : 1.0);\n        outVal *= ((i < barOffset) ? 0.0 : 1.0);\n        \n        float dis = length( vec2( 0.5, barHeight ) - vec2(u,v) );\n        outVal = clamp( outVal + smoothstep(0.5, 0.5 - (1.0 / fillWidthPixel), dis), 0.0, 1.0);            \n    }\n    \n    vec4 outColor = vec4(outVal, outVal, outVal, 1.0);\n    \n    float seekPosition = abs(cos( uv.x - iTime * 0.4 ));\n    if( uv.x < seekPosition )\n      outColor *= vec4( 0.7, 0.8, 1.0, 1.0 );\n      \n    fragColor = outColor;\n}","name":"Image","description":"","type":"image"}]}