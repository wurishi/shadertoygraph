{"ver":"0.1","info":{"id":"3dcBRl","date":"1605721131","viewed":112,"name":"By","username":"Voldemar","description":"Torus2","likes":11,"published":1,"flags":0,"usePreview":0,"tags":["torus2"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sXGRr","filepath":"/media/a/48e2d9ef22ca6673330b8c38a260c87694d2bbc94c19fec9dfa4a1222c364a99.mp3","previewfilepath":"/media/ap/48e2d9ef22ca6673330b8c38a260c87694d2bbc94c19fec9dfa4a1222c364a99.mp3","type":"music","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"mat2 rot(float a){float s=sin(a),c=cos(a);return mat2(c,-s,s,c);}\n\n\nfloat dist(vec3 p){\n    float scale=3.;\n    //p.xz*=rot(p.y*4.+iTime);\n    p.xz*=rot(iTime);\n    //p.yz*=rot(3.14/2.);\n    //return sdTorus(p, vec2(.5,.2+.1))*.8;\n    int i;\n    for(i=0;i<3;i++){\n        p.xy*=rot(iTime);\n        p.zy*=rot(iTime);\n        p*=scale;\n        p=abs(p);\n        p-=.8;\n\t}\n\treturn (length(p)-.5)/pow(scale,float(i));\n}\n\nvec3 norm(vec3 p){\n    vec2 e = vec2(.01,0.);\n\treturn normalize(vec3(\n    \tdist(p+e.xyy)-dist(p-e.xyy),\n    \tdist(p+e.yxy)-dist(p-e.yxy),\n        dist(p+e.yyx)-dist(p-e.yyx)\n    ));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 FC )\n{\n    vec2 uv=(FC*2.-iResolution.xy)/iResolution.y;\n    float e,d=0.;\n    vec3 p,rd=vec3(uv,1);\n    int i;\n    for(i=0;i<9;i++){\n        p=rd*d-vec3(0.,0.,1.2);\n        d+=e=dist(p);\n        if(e<.01)break;\n    }\n    vec3 col=norm(p)*.5+.5;\n    fragColor = vec4(vec3(col),1.0);\n}","name":"Image","description":"","type":"image"}]}