{"ver":"0.1","info":{"id":"ds3BR8","date":"1696842141","viewed":35,"name":"diffraction_cat0x00","username":"cat_0x00","description":"test","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["test"],"hasliked":0,"parentid":"ms3BRn","parentname":"particletest2322"},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define G 9.81\n#define pi 3.1415\n#define c 3e8\n#define h 6.626e-34\n#define h_b h/(4*pi)\n#define voffset (-iResolution.y / 2.)\n#define green 3.*iResolution.x/iResolution.y\n#define slit_w (iResolution.x/green)\n#define def_dist (3. * iResolution.x)\n#define I_0 1.\n#define slit_sp slit_w\n#define sint (sin(iTime))\n#define cost (cos(iTime))\n\nfloat sq(float x){\n    return x * x;\n}\n\nfloat dsq(vec2 v1, vec2 v2){\n    return sq(distance(v1,v2));\n}\n\nvec2 norm(vec2 fragCoord){\n    return (fragCoord * 2.0 - iResolution.xy) / iResolution.y;\n}\n\nfloat phase_angle(float theta, float wl){\n    return 2.*pi*slit_w*sin(theta)/wl;\n}\n\nfloat intensity_at(float y, float i0, float dist, float wl, float slit_width){\n    float it=(pi*slit_width*y)/(wl*dist);\n    return i0 * sq(sin(it))/sq(it);\n}\n\nvec3 screen_response(float i){\n    return vec3(i) * vec3(1.5, 1., 1.);\n}\n\nvoid intensity(out vec4 fragColor, vec2 slitCoord, vec2 uv, float wl, float t, float i_0){\n    float y_rel = abs(uv.x - slitCoord.x + (slit_w / 2.));\n    fragColor.xyz += screen_response(intensity_at(y_rel, \n                                i_0, \n                                def_dist,\n                                wl, \n                                slit_w));\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    vec2 uv = norm(fragCoord);\n    fragColor = vec4(vec3(0.), 0.1); // make everything black\n    /*\n    intensity(fragColor, \n        (vec2(iResolution.x-fragCoord.x-(slit_w/3.),.0)), \n        uv,\n        green /2., \n        iTime);*/\n    intensity(fragColor, \n        (vec2(iResolution.x-fragCoord.x-2.*(slit_w/3.)+slit_sp* (1.+cost/5.)/2.9,.0)), \n        uv,\n        green * 1., \n        iTime, I_0 * 1.);\n        \n    intensity(fragColor, \n        (vec2(iResolution.x* (1.)-fragCoord.x-2.*(slit_w/3.)+slit_sp/2.9,.0)), \n        uv,\n        green * 1., \n        iTime, I_0 * 2.);\n}","name":"Image","description":"","type":"image"}]}