{"ver":"0.1","info":{"id":"4fcBz7","date":"1732819114","viewed":116,"name":"Fork: Neural Stanford Skull","username":"ArthurTent","description":"Thank you so much @Blackle Mori for the great tutorial! <3\nhttps://www.youtube.com/watch?v=8pwXpfi-0bU\n\nTrained siren on a skull, changed the background, added color palette change based on snd+sin(time) and added zoom based on snd.","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["bunny"],"hasliked":0,"parentid":"wtVyWK","parentname":"Neural Stanford Bunny (5 kb)"},"renderpass":[{"inputs":[{"id":"XdfGzn","filepath":"/media/a/894a09f482fb9b2822c093630fc37f0ce6cfec02b652e4e341323e4b6e4a4543.mp3","previewfilepath":"/media/ap/894a09f482fb9b2822c093630fc37f0ce6cfec02b652e4e341323e4b6e4a4543.mp3","type":"music","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//CC0 1.0 Universal https://creativecommons.org/publicdomain/zero/1.0/\n//To the extent possible under law, Blackle Mori has waived all copyright and related or neighboring rights to this work.\n// this is just a modified fork with another siren model\n\n#define FFT(a) pow(texelFetch(iChannel0, ivec2(a, 0), 0).x, 5.)\nfloat snd = 0.;\nconst float PI = 3.1415926;\n\n// MIT Licensed hash From Dave_Hoskins (https://www.shadertoy.com/view/4djSRW)\nvec3 hash33(vec3 p)\n{\n    p = fract(p * vec3(443.8975,397.2973, 491.1871));\n    p += dot(p.zxy, p.yxz+19.27);\n    return fract(vec3(p.x * p.y, p.z*p.x, p.y*p.z));\n}\n\nvec3 stars(in vec3 p)\n{\n    vec3 c = vec3(0.);\n    float res = iResolution.x*0.8;\n    \n\tfor (float i=0.;i<4.;i++)\n    {\n        vec3 q = fract(p*(.15*res))-0.5;\n        //q*= snd/10.;\n        vec3 id = floor(p*(.15*res));\n        vec2 rn = hash33(id).xy;\n        float c2 = 1.-smoothstep(0.,.6,length(q));\n        c2 *= step(rn.x,.0005+i*i*0.001);\n        c += c2*(mix(vec3(1.0,0.49,0.1),vec3(0.75,0.9,1.),rn.y)*0.25+0.75);\n        p *= 1.4;\n    }\n    return c*c*.65;\n}\nvoid camera(vec2 fragCoord, out vec3 ro, out vec3 rd, out mat3 t)\n{\n    float a = 1.0/max(iResolution.x, iResolution.y);\n    //rd = normalize(vec3((fragCoord - iResolution.xy*0.5)*a, 0.5));\n    rd = normalize(vec3(fragCoord, 1.0));\n\n    ro = vec3(0.0, 0.0, -15.);\n\n    //float ff = min(1.0, step(0.001, iMouse.x) + step(0.001, iMouse.y));\n    float ff = min(1.0, step(0.001, iMouse.x) + step(0.001, iMouse.y))+sin(iTime/20.);\n    vec2 m = PI*ff + vec2(((iMouse.xy + 0.1) / iResolution.xy) * (PI*2.0));\n    //m.y = -m.y;\n    m.y = sin(m.y*0.5)*0.3 + 0.5;\n\n    //vec2 sm = sin(m)*sin(iTime), cm = cos(m)*(1.+sin(iTime));\n    vec2 sm = sin(m)*(1.+sin(iTime/10.)/2.), cm = cos(m);\n    mat3 rotX = mat3(1.0, 0.0, 0.0, 0.0, cm.y, sm.y, 0.0, -sm.y, cm.y);\n    mat3 rotY = mat3(cm.x, 0.0, -sm.x, 0.0, 1.0, 0.0, sm.x, 0.0, cm.x);\n\n    t = rotY * rotX;\n\n    ro = t * ro;\n    rd = t * rd;\n\n    rd = normalize(rd);\n}\n\nvec3 erot(vec3 p, vec3 ax, float ro) {\n    return mix(dot(p,ax)*ax,p,cos(ro))+sin(ro)*cross(ax,p);\n}\n\nfloat scene(vec3 p) {\n    //sdf is undefined outside the unit sphere, uncomment to witness the abominations\n    if (length(p) > 1.) {\n        return length(p)-.8;\n    }\n    p/=1.+snd;\n    //neural networks can be really compact... when they want to be\n    \n    vec4 f0_0=sin(p.y*vec4(-.215,-3.658,-1.635,2.588)+p.z*vec4(-1.444,-1.381,.783,-1.345)+p.x*vec4(1.122,-2.483,3.303,-2.900)+vec4(6.996,2.841,-2.201,4.361));\nvec4 f0_1=sin(p.y*vec4(.673,2.417,.499,-4.376)+p.z*vec4(1.007,-2.636,-1.606,-3.397)+p.x*vec4(-2.209,1.363,-2.983,-2.484)+vec4(4.775,8.548,6.736,-.104));\nvec4 f0_2=sin(p.y*vec4(.743,.342,.286,.440)+p.z*vec4(-3.300,.812,-3.858,1.584)+p.x*vec4(.607,-1.360,-2.764,4.005)+vec4(5.770,.886,3.569,3.893));\nvec4 f0_3=sin(p.y*vec4(2.744,1.329,.910,4.006)+p.z*vec4(-.498,-2.536,1.400,1.086)+p.x*vec4(1.963,3.551,-3.317,-3.179)+vec4(-7.529,-5.686,-3.087,6.050));\nvec4 f1_0=sin(mat4(.040,-.743,-.170,.434,-.182,.439,-.026,-.197,-.395,.254,.127,.270,-.315,-.099,-.207,-.168)*f0_0+\n    mat4(-.528,.151,.476,-.421,.111,-.343,-.279,-.267,.183,-.089,-.390,-.545,.128,.090,-.469,.203)*f0_1+\n    mat4(.400,-.247,-.568,-.779,.509,-.367,.436,.115,-.087,-.291,.333,-.104,-.453,-.313,-.007,.176)*f0_2+\n    mat4(.247,-.323,.276,.247,.315,-.269,.075,.153,.302,.454,-.317,.487,.104,-.457,.016,.240)*f0_3+\n    vec4(-3.085,.260,-.488,-1.832))/1.0+f0_0;\nvec4 f1_1=sin(mat4(.122,-.021,.318,-.187,.521,-.273,.009,.066,.262,.225,-.440,.109,.124,-.105,-.244,.367)*f0_0+\n    mat4(-.166,.321,-.324,-.039,-.561,.109,.009,-.090,.048,-.095,.131,.022,.263,-.329,.237,.478)*f0_1+\n    mat4(.353,.712,-.093,-.055,.044,.093,.743,.174,-.022,.324,-.238,-.082,-.162,.024,-.182,-.095)*f0_2+\n    mat4(.096,.700,.190,.314,.193,-.275,.364,-.103,.209,.299,.125,-.141,.154,-.230,-.191,.260)*f0_3+\n    vec4(.525,1.395,3.218,2.765))/1.0+f0_1;\nvec4 f1_2=sin(mat4(.705,.448,.681,-.123,.139,-.123,-.358,-.131,-.082,.238,.266,.157,-.030,-.117,-.493,-.369)*f0_0+\n    mat4(-.098,-.274,.156,.295,-.318,-.167,-.122,.082,-.449,-.657,.532,.170,-.059,.134,.062,.261)*f0_1+\n    mat4(-.255,-.249,.052,-.386,-.326,-.242,-.749,-.242,-.207,.006,-.228,-.402,-.284,.243,.252,.109)*f0_2+\n    mat4(-.019,.135,-.310,-.273,.194,-.533,.056,.460,.158,.209,.264,-.154,.201,-.000,-.153,-.141)*f0_3+\n    vec4(-.599,3.511,2.368,3.132))/1.0+f0_2;\nvec4 f1_3=sin(mat4(.578,.716,-.181,-.033,.147,.296,.007,-.077,-.153,.456,-.142,-.015,-.172,.144,-.184,.143)*f0_0+\n    mat4(-.167,-.484,.260,.493,-.538,.177,-.291,.164,.235,.026,.476,-.623,-.113,.180,-.093,-.279)*f0_1+\n    mat4(.266,.248,.375,-.260,-.675,-.199,.229,.266,.155,-.204,.265,-.101,-.369,-.154,.049,.451)*f0_2+\n    mat4(.378,-.239,-.626,.144,.299,.275,.062,-.446,.454,-.159,-.502,-.375,.188,.292,.240,-.246)*f0_3+\n    vec4(-1.295,1.810,2.876,-1.648))/1.0+f0_3;\nvec4 f2_0=sin(mat4(.226,.426,.158,.458,.234,.462,-.362,.484,-.100,-.033,.038,-.453,.097,-.281,.341,.513)*f1_0+\n    mat4(.191,.476,-.410,-.353,.252,-.359,-.355,-.763,.728,.160,.243,.028,-.093,-.209,-.007,.313)*f1_1+\n    mat4(.388,-.530,-.193,-.229,.260,.560,-.246,.422,-.291,.234,.031,-.389,-.235,.102,-.131,-.288)*f1_2+\n    mat4(.378,-.533,-.103,-.384,-.035,-.418,.171,.098,-.576,-.437,-.005,-.031,-.246,-.283,-.224,-.095)*f1_3+\n    vec4(3.184,1.400,-1.592,-1.919))/1.4+f1_0;\nvec4 f2_1=sin(mat4(-.265,.330,-.120,-.130,.286,.036,.175,-.384,-.566,-.395,.238,-.036,.024,.224,.369,.264)*f1_0+\n    mat4(-.564,.705,.535,.226,-.408,.536,.428,-.335,-.033,-.146,-.135,-.558,-.107,-.169,.243,-.309)*f1_1+\n    mat4(.218,.144,.074,-.185,.321,-.129,.243,-.019,.353,.249,-.311,.123,-.289,-.102,.390,-.124)*f1_2+\n    mat4(-.252,.007,-.413,-.293,-.364,.605,-.224,.108,.031,.074,-.041,-.188,-.054,.180,.323,.373)*f1_3+\n    vec4(1.905,.450,-2.615,-2.662))/1.4+f1_1;\nvec4 f2_2=sin(mat4(.297,.046,.707,-.208,.097,-.269,-.050,.147,-.391,-.192,.623,-.164,.148,-.448,-.955,.318)*f1_0+\n    mat4(.438,-.005,-.058,.071,.144,.173,.254,-.096,-.599,-.146,-.325,-.036,.053,-.435,.344,-.237)*f1_1+\n    mat4(.319,.534,.234,-.146,.271,.424,.971,.468,.279,.297,-.135,-.061,-.170,-.369,.524,-.300)*f1_2+\n    mat4(.282,-.135,.241,.086,.253,.384,.250,-.256,-.128,.102,.580,-.516,-.368,-.127,.378,.460)*f1_3+\n    vec4(-2.511,3.260,-2.693,2.417))/1.4+f1_2;\nvec4 f2_3=sin(mat4(-.346,-.364,.505,.203,-.051,.143,-.390,-.032,-.157,-.058,.113,.528,.144,.534,-.182,.406)*f1_0+\n    mat4(-.287,.013,-.123,.011,.506,-.787,.201,-.196,-.370,-.306,-.096,-.258,-.159,-.234,-.213,.343)*f1_1+\n    mat4(-.116,-.132,.497,.073,.923,.358,-.091,-.773,.491,.192,.280,-.572,-.052,-.173,-.692,.122)*f1_2+\n    mat4(.049,.524,-.057,-.596,-.461,.251,.584,.195,.042,-.579,.119,-.109,.236,.409,.058,-.236)*f1_3+\n    vec4(2.820,2.827,-1.473,.341))/1.4+f1_3;\nvec4 f3_0=sin(mat4(.144,.520,-.513,.335,-.247,-.290,-.113,.132,.537,.121,-.052,-.191,.221,.639,.679,-.016)*f2_0+\n    mat4(.257,-.394,-.230,-.400,.710,-.138,-.617,.071,-.641,.136,.134,-.081,.011,-.504,.590,-.297)*f2_1+\n    mat4(-.006,.297,.297,.212,.152,.187,.727,.814,-.209,-.653,.196,.268,-.259,-.495,-.582,-.063)*f2_2+\n    mat4(-.654,-.623,.111,-.173,-.283,-.154,.294,-.164,-.169,.493,.465,.080,-.235,-.032,-.095,-.187)*f2_3+\n    vec4(.948,-3.317,-2.329,1.486))/1.7+f2_0;\nvec4 f3_1=sin(mat4(.161,.210,.030,-.161,-.001,-.009,.277,.308,-.368,.254,.092,-.718,.646,-.035,.238,.603)*f2_0+\n    mat4(-.306,-.235,-.344,-.069,-.040,-.073,-.128,-.048,.202,.078,.167,-.159,.362,.253,.373,.098)*f2_1+\n    mat4(-.065,.336,-.282,-.080,.373,-.381,-.324,-.799,-.498,-.051,-.232,-.636,-.080,-.372,.185,-.230)*f2_2+\n    mat4(-.109,-.105,-.236,.438,.491,.068,.014,.167,-.097,-.498,-.184,-.035,.147,.448,-.266,.398)*f2_3+\n    vec4(-2.771,-3.245,-1.303,-.994))/1.7+f2_1;\nvec4 f3_2=sin(mat4(.240,.201,-.074,-.628,-.601,-.023,-.149,.392,-.143,-.519,-.113,.072,-.190,.113,-.353,.232)*f2_0+\n    mat4(.222,.149,.236,.460,-.036,-.045,.313,.308,-.956,.308,.115,.402,-.887,-.226,-.122,.100)*f2_1+\n    mat4(.018,-.185,-.100,-.193,.429,-.126,.355,.102,-.141,-.055,.276,.266,.357,-.175,.037,-.092)*f2_2+\n    mat4(.534,-.245,.165,.233,-.282,.047,.132,.722,.261,-.445,-.192,-.264,-.299,-.030,-.039,-.020)*f2_3+\n    vec4(1.884,-1.622,-2.918,-1.241))/1.7+f2_2;\nvec4 f3_3=sin(mat4(.316,-.147,.194,-.610,.124,.350,-.019,.249,-.259,-.443,-.269,-.184,-.608,-.197,-.149,.240)*f2_0+\n    mat4(.620,-.016,-.452,.263,.298,-.317,-.131,.087,-.298,-.147,.201,.380,-.064,-.277,.045,-.425)*f2_1+\n    mat4(-.424,.436,.418,-.335,-.524,.068,.507,-.623,-.233,.203,.100,-.415,.277,-.265,.179,.273)*f2_2+\n    mat4(-.187,-.235,-.264,.608,-.427,-.199,-.634,.533,-.574,.710,.852,.128,.268,-.171,-.415,.069)*f2_3+\n    vec4(3.331,-.404,-2.652,2.149))/1.7+f2_3;\nvec4 f4_0=sin(mat4(.064,-.155,.271,-.306,-.530,.507,.476,-.372,-.248,.041,.265,.008,-.175,-.414,.209,-.173)*f3_0+\n    mat4(-.543,.222,-.009,-.375,.075,-.258,-.363,-.354,-.468,.102,-.240,.135,-.096,-.116,.232,.417)*f3_1+\n    mat4(.394,.445,-.208,-.491,.597,.052,.568,-.479,-.142,-.523,.101,-.498,.004,.730,-.499,.381)*f3_2+\n    mat4(.246,-.496,.181,-.419,.372,-.040,.498,.023,.614,-.253,-.044,-.242,.468,.432,.483,.198)*f3_3+\n    vec4(-.939,1.586,-.749,1.067))/2.0+f3_0;\nvec4 f4_1=sin(mat4(-.521,-.066,.137,.212,.539,-.113,-.184,.260,-.243,-.153,.077,.145,.596,-.247,-.034,.642)*f3_0+\n    mat4(-.403,.300,-.306,-.378,-.471,-.111,-.016,-.604,-.093,.053,-.832,.320,.317,.443,-.348,.299)*f3_1+\n    mat4(-.756,-.455,-.116,-.014,-.135,.114,.465,-.310,-.127,.386,.100,.218,.297,-.448,-.142,-.486)*f3_2+\n    mat4(-.351,.301,-.340,-.424,.318,.498,.374,-.320,-.350,.326,.453,-.364,-.233,.294,-.492,-.630)*f3_3+\n    vec4(-2.743,3.026,-3.219,-2.796))/2.0+f3_1;\nvec4 f4_2=sin(mat4(-.190,.235,-.116,.060,-.570,-.354,-.061,-.051,.332,.199,.194,-.009,-.529,.078,.407,.515)*f3_0+\n    mat4(-.181,.358,.060,-.046,.031,.033,-.070,-.391,.232,.076,-.202,-.233,-.696,.179,.466,.351)*f3_1+\n    mat4(-.041,-.128,.259,.251,-.771,.077,.433,-.490,.497,-.533,-.256,.464,.065,-.229,-.146,-.542)*f3_2+\n    mat4(.428,-.383,.680,.284,-.448,-.230,.592,.065,-.213,-.367,-.327,.591,-.213,-.063,.243,.044)*f3_3+\n    vec4(3.792,-1.902,-.411,2.958))/2.0+f3_2;\nvec4 f4_3=sin(mat4(.045,.475,1.001,.519,-.103,.022,.015,.246,-.272,.209,-.118,-.461,.188,-.316,-.199,-.674)*f3_0+\n    mat4(.232,.403,.089,-.048,-.382,.238,.406,.254,-.291,-.158,-.459,-.269,-.111,.103,-.275,-.200)*f3_1+\n    mat4(.738,.475,-.599,.208,.178,-.359,.202,-.077,.103,-.067,.098,.174,-.053,.222,-.634,-.012)*f3_2+\n    mat4(.329,-.486,-.079,-.052,.366,-.433,.564,.317,-.059,.342,-.121,.390,.222,.335,-.555,-.114)*f3_3+\n    vec4(-1.092,2.331,-.718,-2.586))/2.0+f3_3;\nvec4 f5_0=sin(mat4(.159,.284,.529,.073,-.063,.343,.335,.486,.203,-.214,-.089,.519,.181,.343,.244,.632)*f4_0+\n    mat4(.291,.213,.023,-.337,.620,-.603,.189,-.245,.785,-.007,-.285,.292,-.270,-.398,-.044,.088)*f4_1+\n    mat4(-.008,.432,.221,-.550,-.547,.556,.151,.792,-.540,-.046,.410,.100,-.182,.205,-.391,.352)*f4_2+\n    mat4(.609,.467,.010,.600,-.226,-.167,.225,-.449,-.443,.156,-.100,-.274,.653,.086,-.260,-.115)*f4_3+\n    vec4(-1.644,.455,-.877,-1.142))/2.2+f4_0;\nvec4 f5_1=sin(mat4(.096,.249,.443,-.026,.314,-.133,-.611,.255,-.464,-.674,-.199,-.105,.247,-.207,-.696,.186)*f4_0+\n    mat4(-.254,.186,-.103,.555,-.035,-.403,-.460,.259,.120,.333,-.348,.028,.294,.017,-.123,-.711)*f4_1+\n    mat4(-.358,-.412,.327,.423,.332,.677,.334,-.797,.274,-.168,-.193,-.111,-.152,.201,.061,.142)*f4_2+\n    mat4(-.594,-.185,-.369,.441,.150,-.245,-.138,.601,.547,.106,.083,-.014,-.315,-.029,-.304,-.256)*f4_3+\n    vec4(1.928,1.140,-1.335,-.542))/2.2+f4_1;\nvec4 f5_2=sin(mat4(.196,.170,-.005,.600,-.135,.135,-.313,-.211,-.041,-.350,-.043,-.401,.283,-.754,.078,-.459)*f4_0+\n    mat4(.369,.007,-.280,-.087,.270,-.106,-.208,.476,-.288,-.208,-.340,-.319,-.415,-.513,.138,-.242)*f4_1+\n    mat4(-.050,.016,.565,-.099,-.048,.666,-.297,.310,.301,.300,.345,.134,-.076,.082,.698,.079)*f4_2+\n    mat4(.114,-.741,-.078,-.279,.269,-.324,.831,.085,-.196,-.275,.055,-.159,-.579,-.504,-.222,-.177)*f4_3+\n    vec4(2.741,-2.119,-2.951,.962))/2.2+f4_2;\nvec4 f5_3=sin(mat4(-.016,-.638,.223,-.502,.245,.507,-.174,-.127,.460,.512,.197,.720,-.176,.051,-.393,.310)*f4_0+\n    mat4(-.123,.004,-.010,-.157,-.051,-.486,-.072,-.532,-.418,-.132,-.079,.570,-.513,.339,.599,-.548)*f4_1+\n    mat4(-.482,-.913,-.430,.539,.241,-.066,.428,-.042,.309,-.067,.155,-.249,.695,-.252,-.550,.023)*f4_2+\n    mat4(.130,.153,-.147,.516,.602,-.170,-.695,-.300,-.427,.141,1.144,-.311,.401,.762,-.360,.178)*f4_3+\n    vec4(.462,-2.530,-1.217,2.529))/2.2+f4_3;\nvec4 f6_0=sin(mat4(-.145,.223,.820,-.376,-.479,-.498,-.348,-.515,-.109,-.471,-.592,.661,.179,-.654,-.219,-.347)*f5_0+\n    mat4(.568,-.769,-.229,.242,-.064,.351,-.231,-.024,-.538,-.063,.082,.129,-.192,.274,-.783,-.132)*f5_1+\n    mat4(.290,-.615,-.153,.070,.123,-.935,-.387,.099,-.644,-.265,-.121,.635,-.300,-.020,.595,-.128)*f5_2+\n    mat4(.438,-.145,-.163,.353,-.137,.152,.469,.125,-.092,-.180,.173,.592,-.444,.368,-.650,.419)*f5_3+\n    vec4(1.074,3.388,-.050,-3.059))/2.4+f5_0;\nvec4 f6_1=sin(mat4(.023,.346,.061,.076,-.010,-.146,.135,-.219,-.175,-.223,.078,-.069,.070,.033,-.202,-.069)*f5_0+\n    mat4(.262,-.079,.534,.058,-.284,.102,-.235,-.463,.387,.121,.196,-.059,-.537,-.104,.202,.278)*f5_1+\n    mat4(-.254,-.205,.429,-.462,.199,.292,-.062,.855,-.328,-.309,.098,.352,-.014,.198,.819,-.057)*f5_2+\n    mat4(-.574,-.487,-.428,.139,-.318,-.264,.383,-.118,-.038,.179,-.548,-.563,-.472,.249,-.364,.179)*f5_3+\n    vec4(.496,1.077,2.425,.380))/2.4+f5_1;\nvec4 f6_2=sin(mat4(.551,-.122,-.104,-.076,.153,.626,-.344,.069,-.341,-.193,.124,.449,-.104,.540,-.412,.208)*f5_0+\n    mat4(.138,.227,.176,-.608,.236,-.374,.481,-.363,.182,-.392,-.213,-.327,.155,.460,.155,-.122)*f5_1+\n    mat4(.167,-.099,-.039,.786,.756,-.439,.722,.317,.390,.212,-.531,.133,-.201,-.144,.283,-.051)*f5_2+\n    mat4(.222,-.033,.427,.241,-.282,.138,-.070,-.196,-.067,.171,-.054,.244,-.350,.043,.066,-.604)*f5_3+\n    vec4(-1.120,-2.391,-2.533,-3.298))/2.4+f5_2;\nvec4 f6_3=sin(mat4(-.714,.153,-.254,.482,-.049,-.028,.703,-.219,-.411,-.213,-.150,-.394,-.102,.455,.501,-.635)*f5_0+\n    mat4(-.130,-.357,-.254,-.148,-.135,-.340,.008,-.049,.174,-.098,-.470,-.028,-.246,.227,.742,.085)*f5_1+\n    mat4(.301,.280,.195,-.039,-.391,.171,-.349,-.198,-.274,-.424,.490,.302,.360,.575,-.038,.247)*f5_2+\n    mat4(-.477,.206,-.354,-.848,-.459,-.141,.309,.308,-.556,.221,.125,.141,-.592,-.435,.140,.105)*f5_3+\n    vec4(-3.072,-1.503,-3.122,-2.180))/2.4+f5_3;\nvec4 f7_0=sin(mat4(.189,-.134,-.465,-.023,-.374,-.410,.025,.258,.317,-.257,-.487,-.388,.234,-.175,-.059,-.589)*f6_0+\n    mat4(-.560,-.400,.093,.014,-.167,-.848,-.610,-.626,.165,.930,.593,-.172,.013,-.228,.136,.568)*f6_1+\n    mat4(.271,-.360,.354,-.610,.569,-.279,-.088,-.369,-.106,-.284,-.265,-.439,-.235,.564,.213,-.147)*f6_2+\n    mat4(.019,.423,.072,-.576,.384,-.003,.150,-.001,.325,.092,.757,-.070,-.303,.457,.101,.237)*f6_3+\n    vec4(-1.841,-2.790,.337,.128))/2.6+f6_0;\nvec4 f7_1=sin(mat4(-.294,-.240,.063,-1.031,.390,.175,.421,-.415,-.262,-.002,.555,.809,.026,.055,.442,.627)*f6_0+\n    mat4(-.648,.105,.587,-.334,.062,-.578,-.036,-.021,-.377,.120,-.045,-.474,.275,-.350,-.143,-.081)*f6_1+\n    mat4(-.686,-.298,-.110,.498,.492,-.618,.100,-.011,.051,.414,.046,.553,.036,.485,-.235,.490)*f6_2+\n    mat4(-.284,-.357,.188,-.276,.105,-.463,.233,.305,.070,.371,-.108,.163,-.386,-.081,.116,-.213)*f6_3+\n    vec4(-2.028,.092,-1.277,-2.540))/2.6+f6_1;\nvec4 f7_2=sin(mat4(-.296,.601,-.374,-1.103,.104,.277,.106,.041,.382,-.430,-.885,-.064,-.435,-.323,.177,.158)*f6_0+\n    mat4(-.322,.185,.350,-.140,-.354,-.110,-.451,-.308,.360,-.059,.100,.103,.065,-.266,-.567,.071)*f6_1+\n    mat4(-.180,.179,.021,-.494,-.385,-.313,-.654,-.408,.140,-.081,.493,.355,.543,.017,.262,.312)*f6_2+\n    mat4(-.456,-.732,-.438,.104,.504,.171,-.397,-.543,.372,.013,.240,.387,-.471,-.013,-.720,.509)*f6_3+\n    vec4(-3.436,-2.716,1.445,.744))/2.6+f6_2;\nvec4 f7_3=sin(mat4(-.118,.436,-.682,-.027,.586,.406,-.580,-.323,-.305,-.170,.717,.740,.628,-.372,-.303,-.231)*f6_0+\n    mat4(.476,.700,-.693,.447,.007,.303,.101,-.138,-.119,-.548,.728,.263,-.058,.462,-.154,.564)*f6_1+\n    mat4(-.122,.800,-.297,-.130,.259,-.543,-.355,-.817,.266,.346,-.217,.442,-.534,-.401,.020,-.158)*f6_2+\n    mat4(1.070,-.569,.619,-.578,-.800,-.031,.466,.206,1.076,.350,.322,-.143,.138,.181,-.264,.657)*f6_3+\n    vec4(.013,1.517,-1.058,2.104))/2.6+f6_3;\nvec4 f8_0=sin(mat4(.340,-.002,.516,.582,.102,-.162,.116,-.339,-.653,.598,.191,-.286,.179,-.239,-.440,.187)*f7_0+\n    mat4(.866,.307,.425,.300,-.555,.362,.629,.303,-.338,.384,-.501,.025,.071,-1.033,-.043,.428)*f7_1+\n    mat4(.583,-.289,-.399,-.337,-.044,-.022,.505,-.027,.251,.225,-.103,.008,.372,-.871,.495,-.146)*f7_2+\n    mat4(-.177,-.207,.197,.129,-.554,.062,.372,-.333,-.940,1.166,-.258,-.146,.338,-.460,-.538,-.211)*f7_3+\n    vec4(3.102,1.580,-3.320,.636))/2.8+f7_0;\nvec4 f8_1=sin(mat4(-.254,.933,.110,-.319,.197,.412,-.386,-.113,-.071,-.450,-.064,.230,.185,-.131,.387,.325)*f7_0+\n    mat4(.514,.810,-.543,.186,-.333,.258,.781,-.159,.446,.107,.247,.400,-.401,-.284,-.232,.171)*f7_1+\n    mat4(.315,-.087,.746,.011,-.252,.826,.204,-.101,-.424,-.245,-.451,-.155,.474,.027,.647,-.033)*f7_2+\n    mat4(-.258,.141,.356,.442,-.231,.158,-.162,-.415,-.374,.023,-.282,-.245,-.048,-.429,-.416,.336)*f7_3+\n    vec4(-.135,-1.281,2.444,2.833))/2.8+f7_1;\nvec4 f8_2=sin(mat4(-.001,-.562,.322,.187,-.192,.334,.276,-.073,.213,.480,.185,-.148,.148,.132,-.423,-.199)*f7_0+\n    mat4(-.529,-.049,-.314,.318,.248,-.188,-.356,-.497,.264,-.479,.172,.089,-.302,-.031,-.555,-.275)*f7_1+\n    mat4(-.308,.112,.395,.055,.256,.122,-.008,.390,.227,-.116,-.042,.082,-.083,-.014,-.419,1.132)*f7_2+\n    mat4(-.129,.731,-.237,.422,.468,-.104,-.363,-.567,-.317,.098,.501,-.363,.178,.086,-.155,-.561)*f7_3+\n    vec4(.035,-.225,-.789,1.368))/2.8+f7_2;\nvec4 f8_3=sin(mat4(.255,-.239,.550,.405,-.217,-.418,.595,-.119,-.352,.097,.569,.193,.087,.246,-.536,-.091)*f7_0+\n    mat4(-.330,-.568,-1.182,.391,.108,-.296,.252,.402,.048,-.566,.331,-.265,.199,-.425,-.048,.198)*f7_1+\n    mat4(.238,-.786,-.480,.335,.077,-.483,-.540,.031,.493,.249,.446,.167,-.174,-.586,1.211,.369)*f7_2+\n    mat4(.020,.475,-.557,-.356,.315,-.066,-.119,.603,-.191,-.178,.693,-.257,-.287,.908,-.600,-.148)*f7_3+\n    vec4(-.032,2.087,-.019,2.767))/2.8+f7_3;\nreturn dot(f8_0,vec4(.027,-.037,-.030,.034))+\n    dot(f8_1,vec4(.060,.039,-.044,-.001))+\n    dot(f8_2,vec4(-.053,-.042,-.053,.044))+\n    dot(f8_3,vec4(-.018,-.032,.006,-.048))+\n    -0.046;\n    \n    \n}\n\nvec3 palette(float t) {\n    if(t <1.)t+=1.;\n    vec3 a = vec3(0.5);\n    vec3 b = vec3(0.5);\n    vec3 c = vec3(1.);\n    vec3 d = vec3(0.563,0.416,0.457 + .2);\n    \n    return a + b*cos( 6.28 * c * (t+d)); // A + B * cos ( 2pi * (Cx + D) )\n}\n\nvec3 norm(vec3 p) {\n    mat3 k = mat3(p,p,p)-mat3(0.001);\n    return normalize(scene(p) - vec3(scene(k[0]),scene(k[1]),scene(k[2])));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    int max_freq = 100;\n    for(int i=1; i < max_freq; i++){\n        snd +=FFT(i)*float(i);\n    }\n    snd /=float(max_freq*20);\n    \n\n    vec2 uv = (fragCoord-0.5*iResolution.xy)/iResolution.y;\n    vec2 mouse = (iMouse.xy-0.5*iResolution.xy)/iResolution.y;\n    vec3 cam = normalize(vec3(1.5,uv));\n    vec2 cam_uv = (fragCoord-.5*iResolution.xy)/iResolution.y;\n    \n    //camera + rd for stars\n    vec3 ro = vec3(0.0);//rd = vec3( 0.0 );\n\tvec3 rd = normalize(vec3(cam_uv,-1.5));\n    mat3 t3 = mat3(1.0);\n\tcamera(uv, ro, rd, t3);\n    \n    vec3 init = vec3(-3.,0,0);\n    //vec3 rd = normalize(vec3(cam_uv,-1.5));\n    rd.x+=sin(iTime/1000.)*2.;\n    \n    float yrot = 0.5;\n    float zrot = iTime*1.42;\n    if (iMouse.z > 0.) {\n        yrot += -4.*mouse.y;\n        zrot = 4.*mouse.x;\n    }\n    cam = erot(cam, vec3(0,1,0), yrot);\n    init = erot(init, vec3(0,1,0), yrot);\n    cam = erot(cam, vec3(0,0,1), zrot);\n    init = erot(init, vec3(0,0,1), zrot);\n    \n    vec3 p = init;\n    bool hit = false;\n    for (int i = 0; i < 150 && !hit; i++) {\n        float dist = scene(p);\n        hit = dist*dist < 1e-6;\n        p+=dist*cam;\n        if (distance(p,init)>5.) break;\n    }\n    vec3 n = norm(p);\n    vec3 r = reflect(cam,n);\n    //don't ask how I stumbled on this texture\n    vec3 nz = p - erot(p, vec3(1), 2.) + erot(p, vec3(1), 4.);\n    float spec = length(sin(r*3.5+sin(nz*120.)*.15)*.4+.6)/sqrt(3.);\n    spec *= smoothstep(-.3,.2,scene(p+r*.2));\n    vec3 col = vec3(.1,.1,.12)*spec + pow(spec,8.);\n    float bgdot = length(sin(cam*8.)*.4+.6)/2.;\n    //vec3 bg = vec3(.1,.1,.11) * bgdot + pow(bgdot, 10.);\n    vec3 bg = stars(rd)*(1.+30.*snd);\n    //fragColor.xyz = hit ? col *.75+palette(snd*2.+sin(iTime/10.)): bg;\n    fragColor.xyz = hit ? col *palette(snd*2.+sin(iTime/10.))*2.: bg;\n    fragColor = smoothstep(-.02,1.05,sqrt(fragColor)) * (1.- dot(uv,uv)*.5);\n}","name":"Image","description":"","type":"image"}]}