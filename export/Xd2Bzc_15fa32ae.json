{"ver":"0.1","info":{"id":"Xd2Bzc","date":"1501493823","viewed":851,"name":"Disco Texture","username":"maxeonyx","description":"woot","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["rgb","disco"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sfGRn","filepath":"/media/a/fb918796edc3d2221218db0811e240e72e340350008338b0c07a52bd353666a6.jpg","previewfilepath":"/media/ap/fb918796edc3d2221218db0811e240e72e340350008338b0c07a52bd353666a6.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4sf3Rr","filepath":"/media/a/ad56fba948dfba9ae698198c109e71f118a54d209c0ea50d77ea546abad89c57.png","previewfilepath":"/media/ap/ad56fba948dfba9ae698198c109e71f118a54d209c0ea50d77ea546abad89c57.png","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define circle(radius, period, phase) vec2((radius)*cos(iTime/(period) + (phase)), (radius)*sin(iTime/(period) + (phase)))\n#define periodic(min, max, period, phase) (((max)-(min))*sin(iTime/(period) + (phase)) + (min))\n\n#define tau 6.2832\n#define center vec2(0.5, 0.5)\n\n#define sample(channel, loc) length(texture((channel), (loc)).rgb)\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    //normalise coordinate space\n    vec2 coord = fragCoord/iResolution.xy;\n    vec2 frag1 = coord;\n    vec2 frag2 = coord;\n    vec2 frag3 = coord;\n    \n    frag1 += circle(0.5, 2., 0.);\n    frag2 += circle(0.5, 2., tau * 1./3.);\n    frag3 += circle(0.5, 2., tau * 2./3.);\n    \n    vec3 dists;\n    dists.x = 1.0 - periodic(2.7, 3.5, 0.5, 0.)*distance(frag1, center);\n    dists.y = 1.0 - periodic(2.7, 3.5, 0.5, tau/3.)*distance(frag2, center);\n    dists.z = 1.0 - periodic(2.7, 3.5, 0.5, 2.*tau/3.)*distance(frag3, center);\n    \n    dists.x += sample(iChannel1, coord);\n    dists.y += sample(iChannel1, -coord);\n    dists.z += sample(iChannel1, vec2(-coord.x, coord.y));\n    dists *= 0.4 + 0.6*sample(iChannel0, coord);\n\tfragColor = vec4(dists,1.0);\n}","name":"Image","description":"","type":"image"}]}