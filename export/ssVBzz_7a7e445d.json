{"ver":"0.1","info":{"id":"ssVBzz","date":"1657600599","viewed":93,"name":"c4lors","username":"natnatnat","description":"colors","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["colors"],"hasliked":0,"parentid":"fdyBRR","parentname":"c3lors"},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const float PI = 3.14,\n    z = 10.,\n    R = 1.;\n\nvec2 rotZ(vec2 p, float a) {\n    float c = cos(a);\n    float s = sin(a);\n    return mat2(c, -s, s, c) * p;\n}\n\n// start: from https://www.shadertoy.com/view/4djSRW\nfloat hash12(vec2 p)\n{\n\tvec3 p3  = fract(vec3(p.xyx) * .1031);\n    p3 += dot(p3, p3.yzx + 33.33);\n    return fract((p3.x + p3.y) * p3.z);\n}\n\nfloat hash11(float p)\n{\n    p = fract(p * .1031);\n    p *= p + 33.33;\n    p *= p + p;\n    return fract(p);\n}\n// end\n\nvec4 star1(vec2 U, vec2 C) {\n    vec2 V = U - C;\n    return vec4(0.00000001/(abs(V.x) * abs(V.y) * length(V) * hash12(C)));\n}\n\nvec4 star2(vec2 U, vec2 C) {\n    return star1(U, C) + star1(rotZ(U, -PI/4.), rotZ(C, -PI/4.));\n}\n\nvec4 star3(vec2 U, vec2 C) {\n    vec2 V = U - C;\n    return vec4(exp((-length(V) + 0.01 * hash12(C))/(0.01 * hash12(C))));\n}\n\nvec4 drawStars(vec2 U, vec2 C) {\n    float p = hash12(C);\n    if(p > 0.8) {\n        return p > 0.9 ? star1(U, C) : star2(U, C);\n    } \n    return star3(U, C);\n}\n\nvec4 draw(vec2 U) {\n    vec2 Ur = round(U * z/2. + iTime); // rounded coords\n    vec2 N = vec2(hash11(Ur.x), hash11(Ur.y));\n    vec2 U1 = round(U * z/2.); \n    if (hash12(U1) > sin(iTime/5.)) {\n        vec2 C = U1 * 2./z; // center\n        return mix(vec4(sin(iTime * N.x * PI/2.) * N.x, sin(iTime * N.y * PI/3.) * N.y, sin(iTime * PI * C.x /4.) * C.x, sin(iTime * PI * C.y /4.) * C.y), drawStars(U, C), 0.5 + abs(sin(iTime/10.)));\n    }\n    return vec4(0.);\n}\n\nvoid mainImage( out vec4 O, in vec2 u ) {\n    vec2 Res = iResolution.xy, \n        U = (2. * u - Res) / Res.y;\n    O = draw(rotZ(U, iTime/4.)) + 0.1 * draw(rotZ(U, iTime/20.) + vec2(10.));\n    \n}","name":"Image","description":"","type":"image"}]}