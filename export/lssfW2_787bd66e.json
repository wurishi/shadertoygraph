{"ver":"0.1","info":{"id":"lssfW2","date":"1498302166","viewed":131,"name":"Playing with parametric curve","username":"AngryBaguette","description":"Playing with parametric curve","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["curve","parametric"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Playing with parametric curve\nvec2 m,n;\n\nvec2 map(float t){//from iq's shader https://www.shadertoy.com/view/Xlf3zl\n\treturn 0.85*cos( (t+n) + vec2(0.0,1.0) )*(0.6+0.4*cos(t*(7.0)+m+vec2(0.0,1.0)));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n\tvec2 p=(2.0*fragCoord.xy-iResolution.xy)/iResolution.y;\n    \n    // Curve animation\n    m = cos( 0.42*iTime + vec2(2.0,0.0) );\n    n = cos( 0.61*iTime + vec2(3.0,1.0) );\n    \n    // Evaluate distance to the parametric function\n\tfloat t=0.0,d=length(p-map(t)),dt=0.001,d1=d;\n    for(int i=0;i<150;i++){\n        t+=0.2*d1;\n        d1=length(p-map(t));\n        d=min(d,d1);\n    }\n    \n    \n\t//d=smoothstep(0.0,0.01,d);   \n\tvec3 col=vec3(sqrt(d),d*d,d);    \n    float dn = col.x + col.y + col.z;\n    col /= dn;\n        \n\tfragColor = vec4(col,1.0);\n}\n","name":"Image","description":"","type":"image"}]}