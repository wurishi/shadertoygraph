{"ver":"0.1","info":{"id":"dsdcW7","date":"1695149140","viewed":64,"name":"Flower Spiral Tunnel","username":"rtsketch","description":"A variation of https://www.shadertoy.com/view/MtsfD7","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["tunnel","zoom","spiral","flower","trippy","twirl"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define pi 3.14159\n\n// from iq\nfloat expStep(float x, float k, float n) {\n    return exp(-k * pow(x, n));\n}\n\nmat2 rot(float rads) {\n    return mat2(cos(rads), sin(rads), -sin(rads), cos(rads));\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    vec2 p = (2. * fragCoord.xy - iResolution.xy) / iResolution.y;\n    p = rot(iTime * 0.75) * p;\n    p = vec2(p.x, -p.y);\n\n    // Apply distortion here\n    p += sin(0.1 * p.yx) * sin(vec2(1.0, 4.5) * p.yx + iTime);\n\n    float r = length(p);\n    \n    // Modify angle calculation to create a sharp star-like spiral\n    float a = atan(p.y, p.x);\n    \n    // Use a piecewise function to create sharp angles and alternate positive/negative\n    float angleMod = mod(a + pi/8.0, pi/4.0) - pi/8.;\n    if (int(abs(a) / (pi/8.0)) % 2 == 1) {\n        angleMod = -angleMod;\n    }\n    a += angleMod * 4.0 + angleMod * cos(iTime) * r ;  // Increase this factor for more complete star shapes\n    \n    float coord = fract(a / pi + expStep(r, 1., .5) * 8. + 1.6 * iTime);\n    vec3 col = mix(vec3(.17, 0., .25), vec3(.3, 0., .5), step(.6, coord));\n\n    col *= pow(r, .65) * 1.75;\n    fragColor.rgb = col;\n}","name":"Image","description":"","type":"image"}]}