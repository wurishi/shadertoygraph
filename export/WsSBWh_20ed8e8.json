{"ver":"0.1","info":{"id":"WsSBWh","date":"1724538185","viewed":99,"name":"Dizzy Dreams","username":"Kali","description":"Made for Newtro's Onchain Summer collective drop","likes":11,"published":1,"flags":0,"usePreview":0,"tags":["falopa"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define t iTime*.15\nfloat id=0.;\nvec3 col;\n\nfloat hash(vec2 p)\n{\n\tvec3 p3=fract(vec3(p.xyx)*.1031);\n    p3+=dot(p3,p3.yzx+33.33);\n    return fract((p3.x+p3.y)*p3.z);\n}\n\nmat2 rot(float a) \n{\n\tfloat s=sin(a),c=cos(a);\n    return mat2(c,s,-s,c);\n}\n\nfloat de(vec3 p)\n{\n    vec3 pp=p;\n    float sc = 1.;\n    p.xy*=rot(pp.z*.2+t*.5+sin(p.z*.05+t*2.)*4.);\n    p.xy = abs(2. - mod(p.xy, 4.));\n    p.z=abs(1.5-mod(p.z,3.));\n    vec3 cp=p;\n    for (int i=0;i<2;i++) \n    {\n        p.xy=abs(p.xy+1.)-abs(p.xy-1.)-p.xy;\n        float s=10./clamp(dot(p,p),.1,1.2);\n        p=p*s-11.;\n        sc=sc*s;\n    }\n    float f=length(p.xy)/sc;\n    float o=min(length(cp.yz),length(cp.xz));\n    float l=length(pp.xy)+cos(pp.z*2.1)*.4;\n    float d=min(l,min(f,o));\n\tid=step(o,d);\n    col=vec3(.0,.3,1.);\n    col*=step(abs(fract(t+pp.z*.01)-.5),.02);\n    col+=id;\n    col+=vec3(.5,.1,0)*step(l,d);\n    return (d-.02)*.5;\n}\n\n\nvec3 normal(vec3 p) {\n\tvec3 e=vec3(0.,.01,0.);\n    return normalize(vec3(de(p+e.yxx),de(p+e.xyx),de(p+e.xxy))-de(p));\n}\n\nvec3 march(vec3 from, vec3 dir) \n{\n\tfloat d,td=0.;\n    vec3 p,c=vec3(0),ot=vec3(1000),g=c;\n    for (int i=0;i<200;i++) \n    {\n        p=from+dir*td;\n        d=de(p);\n        td+=d;\n        if (d<.001||td>50.) break;\n        g+=exp(-.5*d)*col; \n    }\n    if (d<.01) {\n        p-=dir*.01;\n        vec3 n=normal(p);\n    \tc=(.5+col+fract(p.z*20.))*pow(max(0.,dot(dir,-n)),2.)+id;\n        c.rb*=rot(dir.y);\n    }\n    \n   \treturn mix(vec3(0,.05,.2),(c+g*.2),exp(-.1*td));\n}\n\nvoid mainImage(out vec4 fragColor,in vec2 fragCoord)\n{\n    vec2 uv=fragCoord/iResolution.xy-.5;\n    uv.x*=iResolution.x/iResolution.y;\n    uv*=rot(-t);\n\tvec3 dir=normalize(vec3(uv,sin(t)*2.));\n    vec3 from=vec3(sin(t),0.5,t*10.);\n\tvec3 c=march(from,dir);\n    c=mix(length(c)*vec3(.7),c,.7);\n \tc*=vec3(1.2,.8,.5)*exp(-1.*length(uv));\n    fragColor=vec4(c,1.0)*min(1.,iTime*.5);\n}","name":"Image","description":"","type":"image"}]}