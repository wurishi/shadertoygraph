{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"//#define CONST_SIZE\n#ifdef CONST_SIZE\n#define lines 5.0\n#define gradLength (1.0 / lines)\n#endif\n#define PI 3.14159\n\nvec4 sampleImg(vec2 fragCoord, float dt){\n    \t\n#ifndef CONST_SIZE\n\tfloat lines = sin((iTime + dt) / 2.2 + 1.0) * 20.0 + 21.0;\n\tfloat gradLength = (1.0 / lines);\n#endif\n\t\n\tvec2 uv = fragCoord.xy;\n\tvec2 center = iResolution.xy * 0.5;\n\tvec2 delta = uv - center;\n\tdelta.x = abs(delta.x);\n\t\n\tfloat len = length(delta);\n\tfloat gradStep = floor(len * 0.005 * lines) / lines;\n\tfloat gradSmooth = len * 0.005;\n\tfloat gradCenter = gradStep + (gradLength * 0.5);\n\tfloat percentFromCenter = abs(gradSmooth - gradCenter) / (gradLength * 0.5);\n\tfloat interpLength = 0.01 * lines;\n\tfloat s = 1.0 - smoothstep(0.5 - interpLength, 0.5 + interpLength, percentFromCenter);\n\t\n\tfloat index = gradStep / gradLength;\n\tvec4 color = vec4(sin(index*0.55), sin(index*0.2), sin(index*0.3), 1)*0.5 + vec4(0.5, 0.5, 0.5, 0);\n\t\n\tfloat angle = atan(delta.x, delta.y);\n\tfloat worldAngle = sin(gradStep * 4.0 + (iTime + dt)) * PI * 0.5 + PI * 0.5;\n\t\n    vec4 finalColor;\n    \n\tif(angle < worldAngle){\n\t\tvec2 tip = vec2(sin(worldAngle), cos(worldAngle)) * gradCenter * 200.0;\n\t\t\n\t\tfloat tipDist = length(delta - tip);\n\t\t\n\t\tfloat rad = 50.0 / lines;\n\t\tfloat tipC = 1.0 - smoothstep(rad - 1.0, rad + 1.0, tipDist);\n\t\t\n\t\tfinalColor = vec4(tipC,tipC,tipC,1);\t\n\t}else{\n\t\tfinalColor = vec4(s,s,s,1);\n\t}\n\tfinalColor *= color;\n    \n    return finalColor;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ){\n    vec4 ag = vec4(0,0,0,0);\n    for(float t = 0.0; t<0.05; t+=0.0025){\n        ag += sampleImg(fragCoord.xy, t);\n    }\n\tfragColor = ag / 20.0;\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"4dsXRX","date":"1405077878","viewed":1497,"name":"Neon Spades","username":"Amarcoli","description":"My first Shadertoy!  Playing around with different methods, learning about shaders in general.  I tried to use smoothstep to achieve an antialiased effect, but I'm not sure if that is really the right way to go about doing that, but it looks nice anyway!","likes":41,"published":1,"flags":0,"usePreview":0,"tags":["circlecolorsinsmoothspades"],"hasliked":0,"parentid":"","parentname":""}}