{"ver":"0.1","info":{"id":"Xd2BzW","date":"1499900759","viewed":485,"name":"South Korea","username":"Koltes","description":"Done after traveling to Seoul.\nSpecs from Wikipedia.","likes":6,"published":3,"flags":0,"usePreview":0,"tags":["flag","korea"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float C,S;\n#define rot(a) mat2(C=cos(a),S=sin(a),-S,C)\n#define TAU 6.28318531\n\nstruct I{vec3 c;float l,m;};\n    \nfloat smin(float a, float b, float k){\n\tfloat h=clamp(.5+.5*(b-a)/k,0.,1.);\n    return mix(b,a,h)-k*h*(1.-h);\n}\n\nfloat rd(vec2 p) {\n    return fract(sin(dot(p,vec2(12.9898,78.233)))*43758.5453123);\n}\n\nfloat noise(vec2 uv) {\n    vec2 iuv=floor(uv),\n        fuv=smoothstep(0.,1.,fract(uv)),\n        oi=vec2(0.,1.);\n    float n00=rd(iuv),\n        n01=rd(iuv+oi.xy),\n        n10=rd(iuv+oi.yx),\n        n11=rd(iuv+oi.yy);\n    return mix(\n        mix(n00,n10,fuv.x),\n        mix(n01,n11,fuv.x),\n        fuv.y);\n}\n\nvec2 uv;\nfloat sms,t,ct,a;\nI swirl(float ao,vec3 c0,vec3 c1){\n    I i;\n    float \n        ta=-20.*ct*ct+ao,\n        dta=mod(ta-a+.25*TAU,TAU)-.25*TAU,\n        cdta=max(dta,0.),\n        pa=ta-cdta,\n        majr=.25+(3.+.5*cdta+.5*noise(vec2(pa*3.,iTime)))*ct*ct,\n        minr=.25+(1.+.5*noise(vec2(pa*3.,iTime+10.)))*ct*ct;\n    vec2 p=majr*vec2(cos(pa),sin(pa)),\n        pt=majr*vec2(cos(ta),sin(ta));\n    float l=distance(uv,p),\n        lr=1.-l/minr-smoothstep(0.,.75*TAU,cdta)*(1.-exp(ct));\n    i.l=mix(TAU,cdta,smoothstep(-sms,0.,lr));\n    i.m=smoothstep(-sms,-cdta*ct,lr);\n    i.c=mix(c0,c1,5.*lr*(.8-t)*max(.8-t,0.));\n    return i;\n}\n\nfloat square(vec2 p,vec2 b)\n{\n    vec2 d=abs(p)-b;\n    return min(max(d.x,d.y),0.)+length(max(d,0.));\n}\n\nfloat trigram(float a,bool b0,bool b1,bool b2){\n    vec2 st=rot(a)*uv;\n    float d0=square(st-vec2(19./24.,0.),vec2(1./24.,.25));\n    if (b0) d0=max(d0,1./48.-abs(st.y));\n    float d1=square(st-vec2(22./24.,0.),vec2(1./24.,.25));\n    if (b1) d1=max(d1,1./48.-abs(st.y));\n    float d2=square(st-vec2(25./24.,0.),vec2(1./24.,.25));\n    if (b2) d2=max(d2,1./48.-abs(st.y));\n    return min(min(d0,d1),d2);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tuv = (fragCoord.xy -.5* iResolution.xy)*2./iResolution.y;\n    sms=4./iResolution.y;\n    t=fract(iTime/6.);\n    ct=min(t-.8,0.);\n    a=atan(uv.y,uv.x);\n    float a23=atan(2.,3.);\n    I ir=swirl(TAU*.5-a23,vec3(.77647,.04706,.18824),vec3(1.,.3,.1)),\n        ib=swirl(-a23,vec3(.0,.20392,.47059),vec3(.0,.4,.8));\n    float h=clamp(.5+.5*(ib.l-ir.l),0.,1.);\n    vec3 c=mix(\n        mix(ib.c,ir.c,h),\n        mix(mix(ir.c,ib.c,ib.m),mix(ib.c,ir.c,ir.m),h),\n        exp(20.*ct));\n    float m=max(ib.m,ir.m);\n    float d=min(\n        min(\n            trigram(-a23,true,false,true),\n            trigram(a23,true,true,true)\n        ),\n        min(\n            trigram(.5*TAU-a23,false,true,false),\n            trigram(.5*TAU+a23,false,false,false)\n        )\n    );\n\tvec3 bg=vec3(1.-t*t/.64*smoothstep(-ct,ct-sms,d));\n    c=mix(bg,c,m);\n\tfragColor = vec4(c,1.);\n}","name":"Image","description":"","type":"image"}]}