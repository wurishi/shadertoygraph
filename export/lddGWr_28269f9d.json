{"ver":"0.1","info":{"id":"lddGWr","date":"1449104207","viewed":744,"name":"LogarithmicSpiralNautilus","username":"jt","description":"A nautilus made of a textured and lighted (golden angle) logarithmic spiral.","likes":36,"published":1,"flags":0,"usePreview":0,"tags":["spiral","logarithmic","goldenangle","nautilus"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XdX3Rn","filepath":"/media/a/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg","previewfilepath":"/media/ap/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg","type":"texture","channel":2,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dX3Rn","filepath":"/media/a/bd6464771e47eed832c5eb2cd85cdc0bfc697786b903bfd30f890f9d4fc36657.jpg","previewfilepath":"/media/ap/bd6464771e47eed832c5eb2cd85cdc0bfc697786b903bfd30f890f9d4fc36657.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XdXGzn","filepath":"/media/a/3083c722c0c738cad0f468383167a0d246f91af2bfa373e9c5c094fb8c8413e0.png","previewfilepath":"/media/ap/3083c722c0c738cad0f468383167a0d246f91af2bfa373e9c5c094fb8c8413e0.png","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4sf3Rr","filepath":"/media/a/ad56fba948dfba9ae698198c109e71f118a54d209c0ea50d77ea546abad89c57.png","previewfilepath":"/media/ap/ad56fba948dfba9ae698198c109e71f118a54d209c0ea50d77ea546abad89c57.png","type":"texture","channel":3,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[],"code":"// Logarithmic Spiral Nautilus - written 2015-12-03 by Jakob Thomsen\n// License Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.\n// Thanks to FabriceNeyret2 for optimizations\n\nvoid mainImage( out vec4 O, vec2 I )\n{\n\tvec2 R = iResolution.xy;\n    I = (I+I-R)/R.y;\n    //I = (I+I-(I=iResolution.xy))/I.y; // NOT COMPATIBLE\n    float a = atan(I.y, I.x);\n    I = vec2(0, .1*iTime + log2(length(I))) - a / 6.283;\n    I = vec2((ceil(I.y) - I.x) * 2.4, fract(I.y)); // approximation to golden angle pi*(3-sqrt(5)\n    \n    float b = 2.*fract(I.y)-1.; // b in [-1,+1]\n    vec3 n = normalize(vec3(b*cos(a),b*sin(a),1.- b*b)); // b^2*cos^2+b^2*sin^2+(1-b^2) should be 1 but normalize changes it?!\n\n    float t = iTime;\n    // position light on trefoil-knot curve to make it more interesting\n    // position light relatively high (otherwise it becomes obvious that intersections/shadows are missing)\n    vec3 l = normalize(vec3(sin(t) + 2.*sin(2.*t), cos(t) - 2.*cos(2.*t),5.-sin(3.*t)));\n    float d = max(dot(n,l),0.);\n    float s = max(pow(dot(n,normalize(l+vec3(0,0,1))),50.),0.);\n    O = (d+s) * mix(texture(iChannel0, I),texture(iChannel2, I*.1),texture(iChannel1, I*.1));\n}\n","name":"","description":"","type":"image"}]}