{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"#define PI 3.1415926535897932384626433832795\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float pulse = 1.;        // pulse: on/off\n    float mag = 80.;\n    \n    float gs = iResolution.x / 20.;\n    float ar = iResolution.x / iResolution.y;\n    float t =0.2*iTime;\n\n    if (pulse != 0.) {\n        pulse = sqrt( abs( mod( t, .4 ) - .2 ) ) * 16.;\n        mag = 160.;\n    }\n    vec2 s =iResolution.xy/mag+pulse;\n\n    // correct aspect ratio\n    vec2 p =fragCoord.xy/iResolution.x;\n\n    if (pulse != 0.) {\n        p *= s-s/2.;         // scale\n    }\n\n    // rotate\n    float sa =sin(t);\n    float ca =clamp(cos(t * 4.),-.9,.9);\n    vec2  rp =vec2( p.x*ca - p.y*sa, p.x*sa + p.y*ca );\n    if (pulse != 0.) { p = rp; }\n    else { p = rp * mag * .1;  }\n\n    // calculate the cumulative value of several sine functions\n    float v =sin(p.x+.8*t)+.5*sin(p.y+.8*t)+.5*sin(p.x+p.y+.9*t);\n    p += s/2.*vec2(sin(t/.9),cos(t/.6));\n    v += sin(sqrt(p.x*p.x+p.y*p.y+1.)+t);\n\n    // color blending\n    float R =sin(.2 *PI*v),\n          G =cos(.75*PI*v),\n          B =sin(.9 *PI*v);\n\n    // restricted color palette (nice effect)\n    // code by McRam (https://www.shadertoy.com/view/ld2XRG)\n    R = ceil(R*255. /  8.) *  8. / 256.;\n    G = ceil(G*255. / 16.) * 16. / 256.;\n    B = ceil(B*255. /  8.) *  8. / 256.;\n\n    if(mod(R,16.) < 1.) R =G*.5+.5;\n    vec3 col =vec3(R,G,B);\n\n    // grid\n    col *= 0.4 * 1./length( sin( 1.*.1 * gs*p.x ) );\n    col *= 0.8 * 1./length( sin( ar*.1 * gs*p.y ) );\n\n    // deinterlaced scanlines\n    col *= .33 * length( sin( 5. * p.y * gs ) );\n\n    col =clamp(col,vec3(.0),vec3(1.));           // safe range\n    fragColor = vec4(col,1.);\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"Md2XR3","date":"1414520415","viewed":418,"name":"Plas.mAtrix.+spin","username":"joates","description":"added a bit of spin into the mix (without spin -> https://www.shadertoy.com/view/lsBXzc)","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["pulse","plasma","zoom","matrix","rotation","acid"],"hasliked":0,"parentid":"","parentname":""}}