{"ver":"0.1","info":{"id":"cdt3DM","date":"1677363491","viewed":85,"name":"Floating rainbow smiley","username":"zondor","description":"Hello Shadertoy! My first shader, feels like drawing on a calculator :D","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["smiley"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float Circle(vec2 uv, vec2 p, float r, float blur)\n{\n    float d = length(uv-p);\n    float c = smoothstep(r, r - blur, d);\n    return c;\n}\n\nvec3 Smiley(vec2 uv, vec2 pos, vec3 col, float r)\n{\n    float blur = 0.02 * r * (1.8 + sin(iTime* 4.) * .4);\n    float c = Circle(uv, vec2(pos.x * r, pos.y * r), .4 * r, blur);\n    c -= Circle(uv, vec2((-.15 + pos.x) * r, (.17 + pos.y) * r), .07 * r, blur);\n    c -= Circle(uv, vec2((.13 + pos.x) * r, (.17 + pos.y) * r), .07 * r, blur);\n\n    float mouth = Circle(uv, vec2(pos.x * r, pos.y * r), .25 * r, blur);\n    mouth -= Circle(uv, vec2(pos.x * r, (.07 + pos.y) * r), .25 * r, blur);\n    mouth = clamp(mouth, 0., 1.);\n    c -= mouth;\n    \n    col = col * c;\n    return col;\n}\n\n\nfloat Band(float t, float start, float end, float blur)\n{\n    float step1 = smoothstep(start - blur, start + blur, t);\n    float step2 = smoothstep(end + blur, end - blur, t);\n    return step1 * step2;\n}\n\nfloat Rect(vec2 uv,float left, float right, float bottom, float top, float blur)\n{\n    float band1 = Band(uv.x, left, right, blur);\n    float band2 = Band(uv.y, bottom, top, blur);\n    return band1 * band2;\n}\n\nfloat remap1(float a, float b, float t)\n{\n    return (t - a) / (b - a);\n}\n\nfloat remap(float a, float b, float c, float d, float t)\n{\n    return remap1(a, b, t) * (d - c) + c;\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n    vec2 uv = fragCoord / iResolution.xy;\n    uv -= .5;\n    uv.x *= iResolution.x / iResolution.y;\n    vec3 mask = vec3(0.);\n    float x = uv.x;\n    float y = uv.y;\n    \n    vec3 smileyColor = .5 + vec3(-sin(2. * iTime), cos(2. * iTime), sin(2. * iTime));\n    float size =  1.;\n    vec3 smiley = Smiley(uv, vec2(sin(iTime) * 0.42, sin(iTime*4.) * 0.05), smileyColor, size);\n    mask += smiley;\n    \n    mask += Band(uv.x,-.75 + (cos(iTime) * .02) + y * .5, -.7 - (cos(iTime) * .02) + y * .5, .07 + (sin(iTime) * .05));\n    mask += Rect(uv, .1 + (cos(iTime) * .7) + (cos(x*y*30000.) * .2), .7, -.4 + sin(x * 16.) * .02, -.3 + sin(x * 16.) * .02, .005);\n    \n    float blur = remap(-.2, 1.1, 0.001, .4, y);\n    float smoke = Rect(uv, .6 + sin(iTime - y * 24.) * .05, .7 + y * .4 + sin(iTime - y * 24.) * .05, -.2, .4, blur);\n    smoke -= .3 * Rect(uv, .6 + cos(iTime - y * 24.) * .05, .7 + y * .4 + cos(iTime - y * 24.) * .05, -.2, .4, blur * .9);\n    mask += clamp(smoke, 0., 1.);\n    \n    fragColor = vec4(mask, 1.0);\n}","name":"Image","description":"","type":"image"}]}