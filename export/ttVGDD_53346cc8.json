{"ver":"0.1","info":{"id":"ttVGDD","date":"1579022780","viewed":87,"name":"Colors Shaded Blob","username":"Llerd","description":"blob","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["blob"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define _PI 3.1415926535897932384626433832795\n\nfloat getAngle(float x, float y)\n{\n    return acos(dot(normalize(vec2(1, -0.5)), normalize(vec2(x, y))));\n}\n\nfloat makePoint(float x, float y, float fx, float fy, float sx, float sy, float t)\n{\n\tfloat xx = x + sin(t * fx) * sx;\n\tfloat yy = y + cos(t * fy) * sy;\n    float a = 1.0 / sqrt(xx * xx + yy * yy);\n\t//a = 0.13 * a * a * a;\n\t//a = 0.35 * a * a;\n    a =  1.5 * sqrt(a);\n    //a = 1.85 * sqrt(sqrt(a));\n    return a;\n}\n\nfloat addBlob(float x, float y, float t)\n{\n    float a = makePoint(x, y, 3.3, 2.9, 0.3, 0.3, t);\n\ta = a + makePoint(x, y, 1.9, 2.0, 0.4, 0.4, t);\n\ta = a + makePoint(x, y, 0.8, 0.7, 0.4, 0.5, t);\n\ta = a + makePoint(x, y, 2.3, 0.1, 0.6, 0.3, t);\n\ta = a + makePoint(x, y, 0.8, 1.7, 0.5, 0.4, t);\n\ta = a + makePoint(x, y, 0.3, 1.0, 0.4, 0.4, t);\n\ta = a + makePoint(x, y, 1.4, 1.7, 0.4, 0.5, t);\n\ta = a + makePoint(x, y, 1.3, 2.1, 0.6, 0.3, t);\n\ta = a + makePoint(x, y, 1.8, 1.7, 0.5, 0.4, t);\n    return a;\n}\n\nvec3 int2rgb(int c)\n{\n\tfloat r = float((c >> 16) & 255) / 255.0f;\n\tfloat g = float((c >> 8) & 255) / 255.0f;\n\tfloat b = float((c >> 0) & 255) / 255.0f;\n\treturn vec3(r, g, b);\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n\tvec3 c1 = int2rgb(0xFFB340);\n\tvec3 c2 = int2rgb(0xFFB340);\n\tvec3 c3 = int2rgb(0xFFFF00);\n\tfloat cutoff = 20.0;\n\tfloat speed = 0.2;\n    float separation = 0.15;\n\n\tvec2 p = 2.0 * ((fragCoord.xy / iResolution.x) * 2.0 - vec2(1.0, iResolution.y / iResolution.x));\n\n\tfloat t = (iTime + 13.0) * speed;\n\n    float x, y;\n\tx = p.x + sin(t * 0.123) * separation;\n\ty = p.y + cos(t * 0.312) * separation;\n\n    float dd = 0.01;\n    float a = addBlob(x, y, t);\n    float a1 = addBlob(x + dd, y, t);\n    float a2 = addBlob(x, y + dd, t);\n\n/*\tx = p.x + sin(t * 0.323) * separation;\n\ty = p.y + cos(t * 0.112) * separation;\n\n    float b = makePoint(x, y, 1.2, 1.9, 0.3, 0.3, t);\n\tb = b + makePoint(x, y, 0.7, 2.7, 0.4, 0.4, t);\n\tb = b + makePoint(x, y, 1.4, 0.6, 0.4, 0.5, t);\n\tb = b + makePoint(x, y, 2.6, 0.4, 0.6, 0.3, t);\n\tb = b + makePoint(x, y, 0.7, 1.4, 0.5, 0.4, t);\n\tb = b + makePoint(x, y, 0.7, 1.7, 0.4, 0.4, t);\n\tb = b + makePoint(x, y, 0.8, 0.5, 0.4, 0.5, t);\n\tb = b + makePoint(x, y, 1.4, 0.9, 0.6, 0.3, t);\n\tb = b + makePoint(x, y, 0.7, 1.3, 0.5, 0.4, t);\n\n\tx = p.x + sin(t * 0.223) * separation;\n\ty = p.y + cos(t * 0.212) * separation;\n\n    float c = makePoint(x, y, 3.7, 0.3, 0.3, 0.3, t);\n\tc = c + makePoint(x, y, 1.9, 1.3, 0.4, 0.4, t);\n\tc = c + makePoint(x, y, 0.8, 0.9, 0.4, 0.5, t);\n\tc = c + makePoint(x, y, 1.2, 1.7, 0.6, 0.3, t);\n\tc = c + makePoint(x, y, 0.3, 0.6, 0.5, 0.4, t);\n\tc = c + makePoint(x, y, 0.3, 0.3, 0.4, 0.4, t);\n\tc = c + makePoint(x, y, 1.4, 0.8, 0.4, 0.5, t);\n\tc = c + makePoint(x, y, 0.2, 0.6, 0.6, 0.3, t);\n\tc = c + makePoint(x, y, 1.3, 0.5, 0.5, 0.4, t);*/\n\n\tvec3 d = vec3(1.0);\n\tif (a > cutoff)\n    {\n\t\td = c1;\n        float f = 2.85 * a / cutoff - 2.0;\n        if (f < 1.0)\n        {\n            float vv = getAngle(a2 - a, a1 - a) / _PI / 2.0;\n        \tfloat aa = 1.0 - clamp(vv, 0.0, 0.25) * 4.0;\n            float vv2 = getAngle(a - a2, a - a1) / _PI / 2.0;\n        \tfloat bb = 1.0 - clamp(vv2, 0.0, 0.25) * 4.0;\n        \t//float bb = (clamp(vv, 0.5, 0.75) - 0.5) * 4.0 * 1.0;\n            f = 1.0 - f;\n            d *= 1.0f - 4.0 * aa *aa * f;\n            d += bb * bb * f;\n        }\n        \n        //d *= clamp(2.7 * a2 / cutoff - 2.0, 0.0, 1.0);\n    }\n\n\tvec3 as = clamp(d, vec3(0), vec3(1));\n\td = as;\n\t//d=hsv2rgb(as);\n\t//vec3 d = hsv2rgb(e);\n\n\tif (as == vec3(0))\n\t\tfragColor = vec4(1.0);\n\telse\n\t\tfragColor = vec4(d.x, d.y, d.z, 1.0);\n}\n","name":"Image","description":"","type":"image"}]}