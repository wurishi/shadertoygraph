{"ver":"0.1","info":{"id":"llffz8","date":"1510931009","viewed":182,"name":"Ultrawave 1","username":"lsdlive","description":"Another experiment.","likes":6,"published":1,"flags":0,"usePreview":0,"tags":["raymarch"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\nmat2 r2d(float a) {\n\tfloat c = cos(a), s = sin(a);\n\treturn mat2(c, s, -s, c);\n}\n\n#define sph(p, r) (length(p) - r)\n#define cube(p, b) length(max(abs(p) - vec3(b), 0.))\n\nfloat de(vec3 p) {\n\n\tp.xy *= r2d(cos(iTime*.5));\n\t//p.xy *= r2d(iTime);\n\n\tp.x = abs(p.x);\n\tfloat e1 = .8;\n\tp.xz = mod(cos(p.xz + p.yx), e1*2.) - e1;\n\n\tfloat e2 = .7;\n\tp.yz *= r2d(iTime);\n\t//p.yz = abs(p.zy*e2 + .2*sin(iTime));\n\tp.yz = abs(p.zy*e2);\n\n\treturn max(cube(p, .7) + max(sin((p.x + p.y + p.z)*70.) * .003, 0.), -sph(p, .68));\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n\tvec2 uv = (fragCoord - .5*iResolution.xy) / iResolution.y;\n\n\tvec3 ro = vec3(cos(iTime)*.7, -sin(iTime)*.3, -iTime), p;\n\t//vec3 ro = vec3(cos(iTime), -sin(iTime)*.3, 1.3), p;\n\tvec3 rd = normalize(vec3(uv, -1));\n\tp = ro;\n\n\tfloat ri = 0.;\n\tfor (float i=0.; i < 1.; i += .01) {\n        ri = i;\n\t\tfloat d = de(p);\n\t\tif (d < .001) break;\n\t\tp += rd * d;\n\t}\n\n\t//fragColor = vec4(.4*abs(p.yxz) + mix(vec3(.8, .8, .2), vec3(.2, .1, .2), ri), 1);\n\tfragColor = vec4(.25*abs(p.yxz) + mix(vec3(.8, .8, .2), vec3(.2, .1, .2), .8 - ri), 1);\n}","name":"Image","description":"","type":"image"}]}