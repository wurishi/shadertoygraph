{"ver":"0.1","info":{"id":"XcdGWn","date":"1714660925","viewed":28,"name":"color_palette_4","username":"alesteba","description":"color interpolation animation","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["colorlerp"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define SIZE_ARRAY 4\n\nint binarySearch(float[SIZE_ARRAY] nums,float searchnum ){\n\n    int low = 0;\n    int high = SIZE_ARRAY - 1;\n    int mid = (low + high) / 2;\n    \n    while(low < high){\n        if(nums[mid] < searchnum){\n            if(nums[mid + 1] > searchnum){\n                return mid;\n            }\n            else{\n                low = mid + 1;\n            }\n        }\n        else{\n            high = mid - 1;\n        }\n        mid = (low + high) / 2;\n    }\n    \n    return mid;\n}\n\nfloat lerp (float x0, float x1, float y0, float y1, float x)\n{\n    float d = x1 - x0;\n    \n    if (d == 0.0)\n        return (y0 + y1) / 2.0;\n        \n    return y0 + ( (x - x0) * (y1 - y0) ) / d;\n}\n\nvec3 vec3_lerp(float x0, float x1, vec3 a, vec3 b, float x)\n{\n\n    return vec3(\n        lerp(x0, x1, a.x, b.x, x),\n        lerp(x0, x1, a.y, b.y, x),\n        lerp(x0, x1, a.z, b.z, x)\n    );\n}\n\n\nvec3 piecewise_lerp (float[SIZE_ARRAY] Xs, vec3[SIZE_ARRAY] Ys, float x)\n{\n    int index = int(binarySearch(Xs, x));\n\n    return vec3_lerp\n    (\n        Xs[index ], Xs[index+1],\n        Ys[index ], Ys[index+1],\n        x\n    );\n}\n\nvec3 rgb_normal(float r, float g, float b)\n{\n    return vec3(r/255.0, g/255.0, b/255.0);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n\n    float interpolant = uv.x;\n    \n    float sin_map = 0.25*sin(iTime)+0.5;\n    \n    float mid_1 = lerp(0.0, 1.0, 0.0, 0.5, sin_map);\n    \n    float mid_2 = lerp(0.0, 1.0, 0.5, 1.0, 1.0 -sin_map);\n    \n    float x[4]=float[](0.0,mid_1, mid_2,1.0); \n    vec3 COLOR_MASKS[4];\n    COLOR_MASKS[0] = rgb_normal( 1.0, 166.0, 185.0 );\n    COLOR_MASKS[1] = rgb_normal( 7.0, 7.0, 7.0 );\n    COLOR_MASKS[2] = rgb_normal( 196.0, 85.0, 118.0 );\n    COLOR_MASKS[3] = rgb_normal( 199.0,200.0,73.0);\n    \n    vec3 combination = piecewise_lerp(x,COLOR_MASKS,interpolant);\n    \n    if( uv.y < 0.33 )\n       fragColor = vec4( 0.0);\n    else if( uv.y < 0.66 )\n        \n        fragColor = vec4(combination, 0.0);\n    else\n        fragColor = vec4( 0.0);\n            \n}","name":"Image","description":"","type":"image"}]}