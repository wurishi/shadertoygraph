{"ver":"0.1","info":{"id":"WtK3WW","date":"1579036897","viewed":307,"name":"stardots001","username":"alwas","description":"Experimental: star dots in universe, space ship view","likes":7,"published":1,"flags":0,"usePreview":0,"tags":["3d","star","space","galaxy","speed","flight","ship","starflight"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Stars in space\n// - alwas 20200116\nfloat hashOld12(vec2 p)\n{\n\treturn fract(sin(dot(p, vec2(12.9898, 78.233))) * 43758.5453);\n}\n// ro = ray origin, rd = ray direction, p = the point in space\n// The distance is the length of distance vectors between the direction \n// vector rd and the vector from origin to the point p. (p-ro).\nfloat DistLine(vec3 ro, vec3 rd, vec3 p) {\n    return length(cross(p-ro, rd))/length(rd);\n}\nfloat DrawPoint(vec3 ro, vec3 rd, vec3 p) {\n    float d = DistLine(ro, rd, p);\n    d = smoothstep(3.7, 1.02,d);\n    return d;\n}\nfloat drawRegion(int noStars, float argStretch, float argOffsetX, float argDepthFraction, vec3 ro, vec3 rd) {\n    float d = 0.0;\n    const float speed = 460.0;\n    const float stretch = 650.0;\n    const float depth = 3800.0;\n    \n    float argOffsetY=iResolution.y/2.;\n    rd.x = rd.x+sin(.5*(iTime+1.5))*.1;\n    argOffsetX+=sin(.5*iTime)*10.;\n    argOffsetY+=-(cos(iTime*.3)*50.)-(iResolution.y/2.);\n\n    float c = depth-argDepthFraction*depth;\n    float b = depth*argDepthFraction;\n    \n    for (int i=0; i<noStars; i++) {\n        float x = hashOld12(vec2(i, 2*i))*argStretch-argStretch/2.0 + argOffsetX;\n        float y = hashOld12(vec2(i,30*i))*argStretch-argStretch/2.0 - argOffsetY;\n        float z = mod(hashOld12(vec2(i,4*i))*depth - speed*iTime, b) + (c);\n        vec3 pc =  vec3(x, y, z);\n        d+=DrawPoint(ro, rd, pc)/(3.*z/depth);\n    }\n    return d;\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    uv -= .5; \n    uv.x *= iResolution.x/iResolution.y; \n    float t = iTime;\n    vec3 ro = vec3(0.0, 0.0, -2.0);\n    vec3 rd = vec3(uv.x, uv.y, 0.0)-ro;\n    float d=0.0;\n    d+=drawRegion(25,  850.0, -800.0, 0.6, ro, rd);\n    d+=drawRegion(100, 450.0,    0.0, 1.0, ro, rd);\n    d+=drawRegion(25,  850.0,  800.0, 0.6, ro, rd);\n    fragColor = vec4(0.,d/2.,d, 1.0);\n}\n// 3D hints https://www.youtube.com/watch?v=dKA5ZVALOhs\n// and \t\thttps://www.youtube.com/watch?v=PBxuVlp7nuM    \n","name":"Image","description":"","type":"image"}]}