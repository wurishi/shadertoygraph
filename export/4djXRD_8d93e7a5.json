{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"// http://demosceneacademy.wordpress.com/\n// live coding: https://www.youtube.com/watch?v=RGmgHfbU0hU\n\n// Tutorial bÃ¡sico sobre raymarching.\n// por Vinicius Graciano Santos (vgs).\n\n// Constantes.\n#define STEPS 64\n#define EPS 0.01\n#define FAR 10.0\n#define PI 3.14159265359\n\n// FunÃ§Ã£o de distÃ¢ncia.\nfloat map(vec3 p) {\n    float v = 2.5*iTime;\n    float r = 1.35 + 0.15*cos(10.0*p.y + v) + 0.15*cos(10.0*p.x + v);\n    return length(p) - r;\n}\n\n// Gradiente (numÃ©rico) da funÃ§Ã£o de distÃ¢ncia.\nvec3 grad(vec3 p) {\n    vec2 q = vec2(0.0, EPS);\n    return vec3(map(p + q.yxx) - map(p - q.yxx),\n                map(p + q.xyx) - map(p - q.xyx),\n                map(p + q.xxy) - map(p - q.xxy));\n}\n\nvec3 shade(vec3 ro, vec3 rd, float t) {\n\tvec3 n = normalize(grad(ro + t*rd));\n    return vec3(0.3, 0.5, 0.7)*pow(1.0-dot(-rd, n), 1.5);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n    // Prepara o raio.\n\tvec2 uv = (-iResolution.xy + 2.0*fragCoord.xy) / iResolution.y;\n    \n    vec3 ro = vec3(0.0, 0.0, 2.5); // inÃ­cio do raio.\n    vec3 rd = normalize(vec3(uv, -1.0)); // direÃ§Ã£o do raio.\n    \n    // Loop do raymarcher.\n    float t = 0.0, d = EPS;\n    for (int i = 0; i < STEPS; ++i) {\n        d = map(ro + t*rd);\n        if (d < EPS || t > FAR) break;\n        t += d;\n    }\n\n    // Shading.\n    vec3 col = d < EPS ? shade(ro, rd, t) : mix(vec3(0.0), vec3(0.3, 0.5, 0.7), 2.0-length(uv)) ;\n    \n    // PÃ³s-processamento. \n    col = smoothstep(0.0, 1.0, col);\n    col = pow(col, vec3(0.45));\n    \n\tfragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"4djXRD","date":"1409701158","viewed":623,"name":"[Tutorial] Blobby ","username":"vgs","description":"Tutorial para o site http://demosceneacademy.wordpress.com/","likes":20,"published":1,"flags":0,"usePreview":0,"tags":["raymarch","tutorial","ptbr"],"hasliked":0,"parentid":"","parentname":""}}