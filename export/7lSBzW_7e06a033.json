{"ver":"0.1","info":{"id":"7lSBzW","date":"1651835845","viewed":56,"name":"1Shaping functions","username":"walk","description":"简单的线条","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["line"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec3 c_blue = vec3(0.0,0.0,1.0);\nvec3 c_white = vec3(1.0,1.0,1.0);\nvec3 c_red = vec3(1.0,0.0,0.0);\n\nfloat draw_line(vec2 st,float y, float width) {\n    if(st.y>y&&st.y<y+width){\n        return 1.0;\n    }\n    return 0.0;\n}\n\nfloat draw_line_step(vec2 st,float y, float width) {\n   return step(y,st.y)-step(y+width,st.y);\n}\n\nfloat draw_line_smoothstep(vec2 st,float y, float width) {\n   float half_width = width/2.0;\n   float base_y = y+half_width;\n   return pow(smoothstep(y,base_y,st.y),8.0)-pow(smoothstep(base_y,y+width,st.y),8.0);\n}\n\nfloat line(float k, float x, float b){\n    return k*x+b;\n}\n\nfloat sin_line(vec2 st,float a, float w, float i,float b){\n// a：振幅（即纵向拉伸压缩的倍数）ω：角速度（控制波浪的周期 i：初相位 b：偏距，表示波形在Y轴的位置关系\n    return a*sin(w*st.x+i)+b;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ){\n    vec2 st = fragCoord/iResolution.xy;\n    vec3 color = vec3(0.0);\n    // 线条形状\n    // float y = line(1.0,st.x,0.02);\n    float i = 22.0*iTime*0.1;\n    float y = sin_line(st,0.78,22.0,i,0.5);\n\n    float btn = draw_line_smoothstep(st,y,0.2);\n    \n    vec3 c_bg = c_blue*(1.0-y)+c_white * y;\n    // color = btn*c_line+(1.0-btn)*c_bg;\n    color = mix(c_bg,c_red,btn);\n\n    fragColor = vec4(color,1.0);\n}","name":"Image","description":"","type":"image"}]}