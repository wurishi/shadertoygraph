{"ver":"0.1","info":{"id":"dtKfRD","date":"1701897515","viewed":28,"name":"Caneta azul - fixed","username":"Elsio","description":"fixed","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["blue","refract","object","pen","acrilic","chanfro"],"hasliked":0,"parentid":"-1","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define chanfro(a)  abs(dot(cos(a + vec2(0, -11.)), q)) - .12\n#define wmod(p, w) (mod(p, w) - w/2.)\n#define rot(a) mat2(cos(a + vec4(0, 11, 33, 0)))\n#define t      iTime\n#define PI     3.1415\n\n\nfloat azul;\nfloat map(vec3 p) {\n    float s = 0., d, l, r=.125;\n    \n    vec2 div = vec2(sqrt(3.), 1) * .25;\n    vec2 k = div * mix(cos(t * cos(t) * .1 + vec2(0, 11)), vec2(1.), cos(t*5.)*.5+.5);\n    vec2 q = mod(p.xy + k , div * 2.) - div;\n    float s1, s2 = length(mod(p.xy     , div * 2.) - div);\n    \n    s1 = \n        max(\n            abs(p.z) - 1.,\n            max(\n                max(\n                    length(q) - .135, \n                    chanfro(2.)\n                ), \n                max(\n                    chanfro(4.), \n                    chanfro(6.)\n                ) \n            )\n        ); \n        \n    s2 = \n\n        max(\n            abs(p.z) - 1.3,\n            s2 - .05\n        );\n    \n    azul = step(s1, s2);\n        \n    return abs(min(s1, s2)) - .005;\n}\n\n\n\n\n\nvoid mainImage(out vec4 o, vec2 u) {\n    vec3 R = iResolution, q;\n         \n    float d, s, f, i, j,\n          e = 1e-2;          \n    \n    for(o *= 0.; i++ < 44. ; d += max(s, e / 5.)) {\n        q = d * (vec3(u, R.y) - R/2.) / R.y - vec3(0, 0, 3.),  // p + d*D\n        \n        q.xz *= rot(cos(t) * .4);\n        q.xy *= rot(sin(t) * .3);\n       \n        s = map(q);\n        \n        for(j = 4.; j < 16.; j += j) \n            s += .01 * abs(dot(sin(q *= j * 2.), q/q)) / j;\n        \n        s = abs(s) - .002,\n        f = 1. - s / e, \n        j = f / d * i / 400.,\n        \n        f > -.5\n            ? o += j, j\n            : o.g += .004;\n            \n        f > -.5 && azul < .5 && q.z > -100. \n            ? o.rg -= j : o.rg;\n    }\n}","name":"Image","description":"","type":"image"}]}