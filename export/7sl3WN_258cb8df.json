{"ver":"0.1","info":{"id":"7sl3WN","date":"1616000846","viewed":105,"name":"Triangles (color from texture)","username":"CREAsTIVE","description":"Trdrag mouse to move\n","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["triangles"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"Xdf3zn","filepath":"/media/a/85a6d68622b36995ccb98a89bbb119edf167c914660e4450d313de049320005c.png","previewfilepath":"/media/ap/85a6d68622b36995ccb98a89bbb119edf167c914660e4450d313de049320005c.png","type":"texture","channel":0,"sampler":{"filter":"nearest","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define wSize vec2(50,20)\n#define screnPos vec2(5,5)\n//\nvec4 getPixel(ivec2 pos){\n    return texture(iChannel0, vec2(pos)/iChannelResolution[0].xy);\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    \n    vec2 uv = fragCoord/iResolution.xy;\n    //vec2 wPos = (uv * wSize) + (iMouse.xy/15.);\n    vec2 wPos =  30.* fragCoord/iResolution.y\n               * vec2( sqrt(3.)/2., .5 ) \n               + iMouse.xy/15.;\n    vec2 posLocal0 = floor(wPos);\n    vec2 localPos = wPos - posLocal0;\n    float col = 0.;\n    //Условие: Если сумма вектора четная то \n\t//знач += 1 если distance от 0;1 до точки больше чем distance от точки до 1;0\n\tcol += float(distance(vec2(1, 0), localPos) < distance(vec2(0, 1), localPos)) * float(mod(posLocal0.x + posLocal0.y, 2.0)==0.0);\n\t//иначе: \n\t//знач += 1 если distance от 0;0 до точки больше чем distance от точки до 1;1\n\tcol += float(distance(vec2(0, 0), localPos) > distance(vec2(1, 1), localPos)) * float(mod(posLocal0.x + posLocal0.y, 2.0)==1.0);\n    fragColor = vec4(getPixel(ivec2(vec2(posLocal0.x + col + .1, posLocal0.y + .1))).rgb,1.0);\n}\n","name":"Image","description":"","type":"image"}]}