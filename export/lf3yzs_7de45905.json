{"ver":"0.1","info":{"id":"lf3yzs","date":"1731018120","viewed":59,"name":"Dynamic Cubemap Resulution","username":"vladdoc","description":"Dynamic cubemap resulution","likes":1,"published":3,"flags":0,"usePreview":0,"tags":["camera","cubemap"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define foopresicion fprecision\n\nfloat fprecision(float x, float samples)\n{\n    return round(x * samples) / samples;\n}\n\nvec3 fprecision(vec3 v, float samples)\n{\n    return vec3(\n        fprecision(v.x, samples),\n        fprecision(v.y, samples),\n        fprecision(v.z, samples)\n    );\n}\n\nfloat fprecision2(float x, float samples)\n{\n    uint a = floatBitsToUint(x);\n    \n    a = a & ~(0xFFFFFu);\n    \n    return uintBitsToFloat(a);\n}\n\n\nvec3 fprecision2(vec3 v, float samples)\n{\n    return vec3(\n        fprecision2(v.x, samples),\n        fprecision2(v.y, samples),\n        fprecision2(v.z, samples)\n    );\n}\n\nvec3 nochange(vec3 v, float n)\n{\n    return v;\n}\n\nvec2 Rotate2D(in vec2 uv, in float angle) \n{ \n    float sin = sin(angle);\n    float cos = cos(angle);\n    \n    return uv * mat2(\n        +cos, +sin,\n        -sin, +cos\n    );\n}\n\n#define PI 3.1415926535897932384626433832795\n#define PI_DIV_2 (PI * 0.5)\n\nvec3 GetDir(in vec2 uv, in vec2 mouse)\n{\n    vec3 rd = vec3(uv, 1.);\n    \n    rd.yz = Rotate2D(rd.yz, PI_DIV_2 * mouse.y);\n    rd.xz = Rotate2D(rd.xz, PI * mouse.x);\n    \n    return normalize(rd);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n\n    vec2 uvClip = (fragCoord.xy - iResolution.xy * .5) / iResolution.y;\n    vec2 mouse = (iMouse.xy / iResolution.xy) * 2.0 - 1.0; // <-1.0,1.0>\n    \n    vec3 rd = GetDir(uvClip, mouse);\n\n    float cubemapRes = abs(cos(iTime / 8.0)) * 16.0;\n\n    vec3 dir = normalize(foopresicion(rd, cubemapRes));\n    fragColor = vec4(dir, 0);\n}","name":"Image","description":"","type":"image"}]}