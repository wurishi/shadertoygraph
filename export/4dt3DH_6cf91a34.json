{"ver":"0.1","info":{"id":"4dt3DH","date":"1449566471","viewed":206,"name":"shusaku","username":"RenoM","description":"game of go, Shusaku Honinbo is playing as black, only have 90ish moves.\nfirst attempt at compression, have no idea what im doing :)","likes":6,"published":1,"flags":0,"usePreview":0,"tags":["goshusaku2d"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[],"code":"#define C(A,B,C) if(p.x==(A).x&&p.y==(A).y&&mod(iTime,55.)*2.>float(B)){if(B==16&&mod(iTime,55.)*2.>81.||B==61&&mod(iTime,55.)*2.>70.)return false;float d=distance(f,vec2(.5));if(d<=.5){pl=C;pl=B==int(mod(iTime,55.)*2.)&&abs(f.x-.5)<=.2&&abs(f.y-.5)<=.2?1.-pl:pl;return true;}}\n\n//float T=mod(iTime,55.)*2.;\nmat4 g[3];\n\nvec2 coord(float x, float n)\n{\n    float s=.0;\n    for(float i=4.;i>=0.;i--)\n    {\n        if(x>=n)\n        {\n            x-=n;\n            s+=pow(2.,i);\n        }\n        n*=.5;\n    }\n    return vec2(x,s);\n}\n\nvec4 convert(float x)\n{\n    vec4 s;\n    vec2 co=coord(x,524288.); s.x=co.y;\n    co=coord(co.x,16384.); s.y=co.y;\n    co=coord(co.x,512.); s.z=co.y;\n    co=coord(co.x,16.); s.w=co.y;\n\treturn s;\n}\n\nbool move(vec2 p, out float pl)\n{\n    g[0]=mat4(102916.,167024.,540849.,109098.\n             ,462342.,363985.,509392.,571500.\n             ,174417.,176689.,477775.,573006.\n             ,443949.,606768.,607794.,538156.);\n    g[1]=mat4(474544.,508338.,510546.,411055.\n             ,410030.,506223.,411972.,331044.\n             ,526627.,398662.,203172.,429124.\n             ,103523.,100456.,70730.,74857.);\n    g[2]=mat4(76938.,109707.,143436.,43179.\n             ,208009.,73897.,113807.,112720.\n             ,209098.,205066.,81038.,144429.\n             ,79043.,200932.,198883.,169507.);\n    vec2 f=fract(p);\n    p=ceil(p);\n    for(int i=0;i<3;i++)\n    for(int j=0;j<4;j++)\n    for(int k=0;k<4;k++)\n    {\n    \tint nb=2*k+8*j+32*i;\n        vec4 conv=convert(g[i][j][k]);\n        C(conv.xy,nb,.0) C(conv.zw,nb+1,1.)\n    }\n    return false;\n}\n\nvec3 white(vec2 p)\n{\n    p=2.*fract(p)-1.;\n    float r=length(p);\n    vec3 c=1.3*vec3(.6,.45,.15);\n    if(r<1.)\n    {\n        float f=smoothstep(1.,.9,r);\n        c=mix(c,vec3(.7,.7,.6),f);\n        c*=1.2-r/5.;\n        f=smoothstep(.98,.0,length(p-vec2(.2,.24)));\n        c+=f*.4;\n    }\n    return c;\n}\n\nvec3 black(vec2 p)\n{\n    p=2.*fract(p)-1.;\n    float r=length(p);\n    vec3 c=vec3(.6,.45,.15);\n    if(r<1.)\n    {\n        float f=smoothstep(1.,.85,r);\n        c=mix(c,vec3(0),f);\n        f=smoothstep(.0,.98,r);\n        c=mix(c,vec3(0,0,.2),1.-f);\n        f=smoothstep(.98,.0,length(p-vec2(.2,.24)));\n        c+=f*.7;\n    }\n    return c;\n}\n\nvec3 board(vec2 p)\n{\n    if(p.x>=.5&&p.x<18.5&&p.y>=.5&&p.y<18.5)\n    {\n        float d;\n        vec2 f=fract(p);\n        if(distance(p,vec2(9.5))<=.15\n         ||distance(p,vec2(3.5,9.5))<=.15\n         ||distance(p,vec2(9.5,3.5))<=.15\n         ||distance(p,vec2(3.5,3.5))<=.15\n         ||distance(p,vec2(15.5,9.5))<=.15\n         ||distance(p,vec2(9.5,15.5))<=.15\n         ||distance(p,vec2(15.5,15.5))<=.15\n         ||distance(p,vec2(3.5,15.5))<=.15\n         ||distance(p,vec2(15.5,3.5))<=.15)\n            return vec3(0);\n        if(abs(.5-f.x)<=.07||abs(.5-f.y)<=.07)\n            return mix(vec3(0),vec3(.6,.45,.15),smoothstep(.0,.07,min(abs(.5-f.x),abs(.5-f.y))));\n    }\n    return p.x>=-.5&&p.x<19.5&&p.y>=-.5&&p.y<19.5?vec3(.6,.45,.15):vec3(.1);\n}\n\nvoid mainImage( out vec4 O, in vec2 U )\n{\n    vec2 R=iResolution.xy,\n         p=11.*(U+U-R)/R.y;\n    float pl;\n    p+=9.5;\n    vec3 c=board(p);\n    if(move(p,pl))c=pl==1.?white(p):black(p);\n    vec2 q=(p+22.)/24.;\n    O.xyz=sqrt(q.x*q.y)*.8*c;\n}","name":"Image","description":"","type":"image"}]}