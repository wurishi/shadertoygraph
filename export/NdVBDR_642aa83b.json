{"ver":"0.1","info":{"id":"NdVBDR","date":"1658121568","viewed":68,"name":"RaysMarching","username":"princejangid","description":"Raymarching.","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["raymarching"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float dis(in vec3 pos)\n{\n    vec3 sphcentre = vec3(0.0,0.0,-1.0);\n    return length(pos-sphcentre)-1.0;\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 p = (2.0*fragCoord-iResolution.xy)/iResolution.y;\n\n    vec3 col = vec3(1.0);\n    vec3 ro = vec3(0.0,0.0,2.0);\n    vec3 rd = normalize(vec3(p.x,p.y,-2.0));\n    vec3 sphcentre = vec3(0.0,0.0,-1.0);\n    vec3 pos = ro;\n    float t = 0.0;\n    for(int i=0;i<100;i++)\n    {\n        t = dis(pos);\n        if(t<0.001)\n        {\n            break;\n        }\n        if(t>20.0)\n        {\n            break;\n        }\n        pos += t*rd;\n    }\n    if(t<20.0)\n    {\n        vec3 sun_dir = normalize(vec3(1.0,0.0,-1.0));\n        float f = dot(normalize(pos-sphcentre),sun_dir);\n        col = vec3(1.0,0.5,0.0)*(f+0.8);\n    }\n    else\n    {\n        col = vec3 (0.0,0.0,0.2);        \n    }\n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}