{"ver":"0.1","info":{"id":"tlKGRG","date":"1579250142","viewed":78,"name":"luna - sun","username":"lymiss0","description":"Sun","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["2d"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const float PI = 3.1415926535897932384626433832795;\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (2.0 * fragCoord.xy - iResolution.xy) / min(iResolution.y, iResolution.x);\n    float len = length(uv); //点到中心的距离\n    float d = len - 0.5; //点到中心的距离-圆的半径\n    float s = 100.0;\n    float k = 0.0;\n    float a = 1.0;\n    int times = int((iTime + PI * 0.5) / PI);\n    int h = int(times / 2);\n    if (h * 2 == times) {\n        //k = tan(iTime);\n        a = 1.0;\n    } else {\n        a = -1.0;\n        //k = -tan(iTime);\n    }\n    k = tan(iTime);\n    \n    \n//    if (k <= -99.0) {\n//        a = -1.0;\n//    }\n//    k = k * a;\n    if ((a > 0.0) && (uv.y < k * uv.x)) {\n        s = 0.01;\n    }\n    if ((a < 0.0) && (uv.y > k * uv.x)) {\n        s = 0.01;\n    }\n//    if (uv.y < k * uv.x) {\n//        s = 0.01;\n//    }\n    \n\n    float t = clamp(d * min(iResolution.y,iResolution.x) * s, 0.0, 1.0);\n    if (t == 0.0) {\n        t = 1.0;\n    }\n    \n    vec4 bg = vec4(0.0, 0.0, 0.0, 1.0);\n    vec4 circle = vec4(1.0, 0.0, 0.0, 1.0 - t);\n    \n    fragColor = mix(bg, circle, circle.a);\n    \n    //if (len <= 0.5) {\n    //    fragColor = vec4(1.0, 0.0, 0.0, 1.0);\n    //} else {\n    //    fragColor = vec4(0.0, 0.0, 0.0, 1.0);\n    //}\n}","name":"Image","description":"","type":"image"}]}