{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define INV_PI 0.3183098861837907\n#define INV_PI2 0.15915494309189535\n\n#define SPEED 0.3\n#define LIGHT_OFF -0.3\n\n\nfloat saw(float x) {\n//    float t = x - PI * 0.5;\n    float t = x;\n    return 2.0 * (t * INV_PI2 - floor(0.5 + t * INV_PI2));\n}\n\nfloat tri(float t) {\n \treturn 2.0 * abs(saw(t)) - 1.0;\n}\n\nvec4 blend(vec4 a, vec4 b) {\n \tfloat sfa = a.w;\n    float sfb = 1.0 - a.w;\n    vec3 l = (a * sfa).xyz;\n    vec3 r = (b * sfb).xyz;\n    return vec4(l + r, 1.0);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float t = iTime * SPEED;\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    //float xOff = sin(uv.y * PI * 4.0) * 0.5 * (sin(iTime * 4.0) + tri(uv.x * PI) * 0.8);\n    float xOff = sin(uv.y * PI * 4.0) * 0.5 * (tri(uv.x * PI) * 1.2);\n    float r = sin((uv.x * 8.0 - 0.5 - xOff + t * 1.5) * PI) * 2.0;\n    float w = clamp(sin(uv.y * 16.0 - t * 32.0), 0.0, 1.0);\n    float o = sin(uv.y * PI * 4.0);\n    float barA = smoothstep(0.0, 1.0, clamp(r, 0.0, 1.0));\n    vec4 bar = vec4(1.0, 1.0, w, barA * barA);\n    vec4 bg  = vec4(0.0, abs(o) + 0.2, o + 0.2, 1.0) * 0.75;\n    \n    float shade = (sin(uv.y * PI * 4.0 + LIGHT_OFF) * 0.5 + 0.5) * 0.5 + 0.5;\n    vec4 shadeVec = vec4(shade, shade, shade + (1.0 - shade), 1.0);\n    fragColor = blend(bar * shadeVec, bg);\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"Mtl3RX","date":"1423952830","viewed":147,"name":"Trench","username":"unknownloner","description":"Top down view of a trench of sorts","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["light","animated","sine","perspective"],"hasliked":0,"parentid":"","parentname":""}}