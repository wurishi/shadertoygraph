{"ver":"0.1","info":{"id":"Nt3Szr","date":"1638569272","viewed":92,"name":"Weird guy on grass","username":"makipl","description":"I have no single idea what's going on here but whatever","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["fbm"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGzn","filepath":"/media/a/0c7bf5fe9462d5bffbd11126e82908e39be3ce56220d900f633d58fb432e56f5.png","previewfilepath":"/media/ap/0c7bf5fe9462d5bffbd11126e82908e39be3ce56220d900f633d58fb432e56f5.png","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define RAY_COUNT 32\n#define EPS 0.01\n#define time iTime\n\nfloat DrawGround(in vec3 ro, in vec3 rd)\n{\nfloat t=0.0;\nfor(int i = 0; i<RAY_COUNT;i++)\n{\nfloat h= length(ro+rd*t)-0.2;\nif(h< (EPS * t))\n    break;\nt+=h;\n}\nreturn t;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\nvec2 uv = (2.0*gl_FragCoord.xy-iResolution.xy)/iResolution.y;\n    vec3 ro = vec3(0.0,0.0,-0.5);\n    vec3 rd = vec3(uv, 2.0);\n    \n    float ground, cubeTest;\n    ground = DrawGround(ro,rd);\n    uv.y = 1.0-uv.y;\n    rd = vec3(uv, 1.0);\n    float ground2 = DrawGround(ro,rd);\n    vec3 col = texture(iChannel0,uv*4.0).xyz;\n    col = vec3(0.0,col.x*0.7,0.0);\n    col += vec3(0.0, texture(iChannel0,vec2(uv.x+sin(time)*.04,uv.y+cos(time)*.04)).x*abs(sin(time*0.2))*0.4,0.0);\n    col = min(col,vec3(ground-ground2));\n    uv.y = 0.9-uv.y;\n    rd=vec3(vec2(uv.x-0.2,uv.y),1.0);\n    col = max(vec3(step(length(ro+rd)-0.2,0.318)),col);\n    rd=vec3(vec2(uv.x-0.1-abs(sin(time)*0.19), uv.y-cos(time)*0.04),1.0);\n    col = min(vec3(step(1.0-length(ro+rd)-0.15,0.347)),col);\n    \nrd=vec3(vec2(uv.x+0.3,uv.y),1.0);\n     col = max(vec3(step(length(ro+rd)-0.2,0.318)),col);\n    rd=vec3(vec2(uv.x+0.4-abs(sin(time+0.5)*0.19), uv.y-cos(time)*0.04),1.0);\n    col = min(vec3(step(1.0-length(ro+rd)-0.15,0.347)),col);\n    rd=vec3(vec2(uv.x*0.65,uv.y*1.8+0.8),1.0);\n    col=max(vec3(step(length(ro+rd)-0.05,0.5)),col);\n\n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}