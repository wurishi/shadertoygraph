{"ver":"0.1","info":{"id":"tdSSRd","date":"1554700122","viewed":220,"name":"Mouse lock hack","username":"rory618","description":"hack to use mouse locking on shadertoy","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["mouse","js"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{    \n    //Draw a big circle at iMouse.zw mod iResolution\n    fragColor += vec4(length(fragCoord-mod(iMouse.zw,iResolution.xy))<50.);\n    \n    //Draw a small circle at iMouse.zw/10 mod iResolution\n    fragColor += vec4(length(fragCoord-mod(iMouse.zw/10.,iResolution.xy))<5.);\n}\n\n/*\n//javascript code:\n\nvar canvas = document.getElementById(\"demogl\");\nvar ctx = canvas.getContext('2d');\n \ncanvas.requestPointerLock = canvas.requestPointerLock ||\n                            canvas.mozRequestPointerLock;\n \ndocument.exitPointerLock = document.exitPointerLock ||\n                           document.mozExitPointerLock;\n \ncanvas.onclick = function() {\n  canvas.requestPointerLock();\n};\ndocument.addEventListener('pointerlockchange', lockChangeAlert, false);\ndocument.addEventListener('mozpointerlockchange', lockChangeAlert, false);\n \nfunction lockChangeAlert() {\n  if (document.pointerLockElement === canvas ||\n      document.mozPointerLockElement === canvas) {\n    document.addEventListener(\"mousemove\", updatePosition, false);\n  } else {\n    document.removeEventListener(\"mousemove\", updatePosition, false);\n  }\n}\n \nfunction updatePosition(e) {\n  gShaderToy.mMouseOriX += e.movementX;\n  gShaderToy.mMouseOriY += e.movementY; //Could do - instead to fix vertical flip\n \n}\n\n*/","name":"Image","description":"","type":"image"}]}