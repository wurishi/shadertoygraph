{"ver":"0.1","info":{"id":"llj3DR","date":"1428287108","viewed":249,"name":"hypersphere","username":"vahokif","description":"Lots of spheres with some cool patterns that appear when they all line up.","likes":8,"published":1,"flags":0,"usePreview":0,"tags":["raymarching"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[],"code":"// by vahokif\n\n#ifdef GL_ES\nprecision mediump float;\n#endif\n\nvec3 FOG_COLOR = vec3(54.0 / 255.0, 159.0 / 255.0, 245.0 / 255.0);\n\nbool map(vec3 pos) {\t\n    vec2 pos2 = pos.xy;\n\t\n\t//pos2.x += pos.z * 20.0;\n\tfloat twist = pos.z * tan(iTime * 0.2) * 0.01 + iTime * 0.05;\n\tfloat s = sin(twist);\n\tfloat c = cos(twist);\n\t\n\tpos2 = vec2(c * pos2.x + s * pos2.y, c * pos2.y - s * pos2.x);\n\t\n\treturn length(fract(pos2 * 2.0) - 0.5) < 0.17;\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n\n\tvec2 position = fragCoord.xy / iResolution.xy - 0.5;\n\tposition.x *= iResolution.x / iResolution.y;\n\t\n\tvec3 rayDir = normalize(vec3(position.xy, 4.0));\n\n\tbool isHit = false;\n\tvec3 hit;\n\tvec3 ray = vec3(0.0);\n\tfor (int i = 0; i < 64; i++) {\n\t  ray += rayDir * 2.0;\n\t  if (map(ray)) {\n\t\t  isHit = true;\n\t\t  hit = ray;\n\t\t  break;\n\t  }\n\t}\n\n\tvec3 color;\n\tif (isHit) {\t\t\n\t\tcolor = FOG_COLOR * hit.z / 128.0;\n\t} else {\n\t\tcolor = FOG_COLOR;\n\t}\n\tfragColor = vec4(color, 1.0 );\n\n}","name":"","description":"","type":"image"}]}