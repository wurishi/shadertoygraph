{"ver":"0.1","info":{"id":"dl3XD4","date":"1685393660","viewed":59,"name":"Green Portal Twirl","username":"Anilcan","description":"a portal shader","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["vornoi","portal","twirl"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// https://www.youtube.com/watch?v=w0znZIuvQ2I\n\nconst vec4 _Color0    = vec4(0.2, 1.0, 0.2, 1.0);\nconst float _Scale    = 2.0;\nconst float _Strenght = 15.0;\t\nconst float _Speed    = 0.2;\n\t\nvec2 voronoihash3(vec2 p)\n{\n\tp = vec2(dot(p, vec2(127.1,311.7)), dot(p, vec2(269.5, 183.3)));\n\treturn fract(sin(p) * 43758.5453);\n}\n\nfloat voronoi3(vec2 v, float time)\n{\n\tvec2 n = floor(v);\n\tvec2 f = fract(v);\n\tfloat F1 = 8.0; float F2 = 8.0; \n\n\tfor (int j = -1; j <= 1; j++)\n\t{\n\t\tfor (int i = -1; i <= 1; i++)\n\t\t{\n\t\t\tvec2 g = vec2(i, j);\n\t\t\tvec2 o = voronoihash3(n + g);\n\t\t\to = sin(time + o * 6.2831) * 0.5 + 0.5;\n\t\t\tvec2 r = f - g - o;\n\t\t\tfloat d = 0.5 * dot(r, r);\n\t\n\t\t\tif(d < F1) \n\t\t\t{\n\t\t\t\tF2 = F1; \n\t\t\t\tF1 = d; \n\t\t\t} else if(d < F2) {\n\t\t\t\tF2 = d;\n\t\t\t}\n\t\t}\n\t}\n\treturn F1;\n}\n\nvec2 Twirl(vec2 delta, float t, float lenDelta)\n{\n\t\tvec2 Offset = vec2(t, t);\n\t\tfloat angle = _Strenght * lenDelta * 1.5;\n\t\tfloat s = sin(angle), c = cos(angle);\n\t\tfloat x = c * delta.x - s * delta.y;\n\t\tfloat y = s * delta.x + c * delta.y;\n\t\treturn vec2(x + 0.5 + Offset.x, y + 0.5 + Offset.y);\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n    vec2 uv = fragCoord / vec2(iResolution);\n    uv.x *= 1.7;\n    uv.x -= .3;\n\n    float t = (iTime + 34567.0f) * _Speed;\n    // float t = (mod(iTime + 999999.9, 21600.0)) * _Speed;\n    //float t = (iTime + 9999999.9999) * _Speed;\n\tvec2 Center = vec2(0.5, 0.5);\n\tvec2 delta = uv - Center;\n\tfloat lenDelta = length(delta);\n\tvec4 color = _Color0 * voronoi3(Twirl(delta, t, lenDelta) * 2.0, t * 2.0);\n\t\n\tcolor = lenDelta < 0.5f ? color : vec4(0.0, 0.0, 0.0, 0.0);\n    fragColor = color;\n}","name":"Image","description":"","type":"image"}]}