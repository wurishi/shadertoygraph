{"ver":"0.1","info":{"id":"4llBRs","date":"1525626271","viewed":149,"name":"Low Bits glsl2","username":"dahart","description":"low bits glsl2; a simplified & glsl2 friendly version of \"low bits\" https://www.shadertoy.com/view/XtjyzD","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["lowbits"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"Xdf3Rn","filepath":"/media/a/e81e818ac76a8983d746784b423178ee9f6cdcdf7f8e8d719341a6fe2d2ab303.webm","previewfilepath":"/media/ap/e81e818ac76a8983d746784b423178ee9f6cdcdf7f8e8d719341a6fe2d2ab303.webm","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Render only the low DST_BITS, discarding high bits\n// this is one way to check the SNR of an image\n// when the low bits are pure noise and no structure is visible,\n// then the high bits are signal.\n// For example, with the Britney video, some structure is visible when DST_BITS==3\n// but when DST_BITS==2, it's only noise and compression artifacts.\n// So there are (mostly) between 5-6 bits of signal, and 2-3 bits of noise.\n\n// This is a simplified & glsl2 friendly version of \"low bits\" https://www.shadertoy.com/view/XtjyzD\n\nvec3 lowbits(vec3 src, float SRC_BITS, float DST_BITS) {\n    float m = pow(2.0, SRC_BITS - DST_BITS);\n    return mod(src * m, 1.0);// * m; // the commented *m is to optionally compensate for my bug in \"low bits\" (XtjyzD)\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    const float SRC_BITS = 8.;\n    const float DST_BITS = 5.; // adjust this\n\n    vec2 uv = fragCoord.xy / iResolution.xy;\n    fragColor.rgb = lowbits(texture(iChannel0, uv).rgb, SRC_BITS, DST_BITS);\n}\n","name":"Image","description":"","type":"image"}]}