{"ver":"0.1","info":{"id":"WdyXRm","date":"1573680530","viewed":63,"name":"scraggly circle back n forth","username":"thisisthais","description":"why is noise so hard","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["noise","tbos"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.14159265358979323846\n\nvec2 random2D(vec2 st){\n  st=vec2(dot(st,vec2(127.1,311.7)),dot(st,vec2(269.5,183.3)));\n  return-1.+2.*fract(sin(st)*43758.5453123);\n}\n\n// Gradient Noise by Inigo Quilez - iq/2013\n// https://www.shadertoy.com/view/XdXGW8\nfloat noise(vec2 st){\n  vec2 i=floor(st);\n  vec2 f=fract(st);\n  // mixing function\n  vec2 u=f*f*(3.-2.*f);\n  \n  return mix(mix(dot(random2D(i+vec2(0.,0.)),f-vec2(0.,0.)),\n  dot(random2D(i+vec2(1.,0.)),f-vec2(1.,0.)),u.x),\n  mix(dot(random2D(i+vec2(0.,1.)),f-vec2(0.,1.)),\n  dot(random2D(i+vec2(1.,1.)),f-vec2(1.,1.)),u.x),u.y);\n}\n\nfloat circle(in vec2 _st,in float _radius){\n  vec2 l=_st-vec2(.5);\n  return 1.-smoothstep(_radius-(_radius*.01),\n  _radius+(_radius*.01),\n  dot(l,l)*4.);\n}\n\nfloat shape(vec2 st,float radius){\n  st=st-vec2(.5);\n  float r=length(st)*2.;\n  float a=atan(st.y,st.x);\n  float m=abs(mod(2.*iTime,2.*PI)-PI)/a*2.2;\n  float f=radius;\n  \n  // stripeys, where they coming from, idk\n  m+=noise(st+iTime*.1)*10.;\n  st-=.9;\n  m+=noise(st+iTime*.1)*5.;\n  st.y+=.4;\n  m+=noise(st+iTime*.1)*7.;\n  st=1.-st;\n  m+=noise(st+iTime*.1)*5.;\n  st+=.9;\n  m+=noise(st+iTime*.1)*10.;\n  \n  f+=sin(a*100.)*noise(st+iTime*.2)*.1;\n  f+=(sin(a*100.)*.1*pow(m,2.));\n  return smoothstep(f,f+.007,r);\n}\n\nfloat shapeBorder(vec2 st,float radius,float width){\n  return shape(st,radius)-shape(st,radius+width);\n}\n\nvec2 rotate2D(vec2 _st,float _angle){\n  _st-=.5;\n  _st=mat2(cos(_angle),-sin(_angle),\n  sin(_angle),cos(_angle))*_st;\n  _st+=.5;\n  return _st;\n}\n\nfloat squigglyCircle(vec2 st,float radius){\n  st=vec2(.5)-st;\n  float r=length(st)*2.;\n  float a=atan(st.y,st.x);\n  float m=abs(mod(iTime*2.,PI*2.)-PI)/3.6;\n  float f=radius;\n  m+=noise(st+iTime*.1)*.5;\n  \n  f+=sin(a*50.)*noise(st+iTime*.2)*.1;\n  f+=(sin(a*20.)*.1*pow(m,2.));\n  return 1.-smoothstep(f,f+.007,r);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ){\n  vec2 st=fragCoord.xy/iResolution.yy;\n  st.x-=0.4;\n  vec3 color=vec3(0.);\n  st=rotate2D(st,PI*iTime/3.);\n  color=vec3(shapeBorder(st,1.5,30.));\n  color*=squigglyCircle(st,.5*(sin(iTime)+2.1));\n  \n  fragColor=vec4(color,1.);\n}","name":"Image","description":"","type":"image"}]}