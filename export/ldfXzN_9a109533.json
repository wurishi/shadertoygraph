{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"#define speed iTime\n\nfloat hash(float n) { \n\treturn fract(sin(n)*43758.5453123); \n}\n\nfloat noise3(vec3 x) {\n    vec3 p = floor(x);\n    vec3 f = fract(x);\n    f = f*f*(3.0-2.0*f);\n    float n = p.x + p.y*57.0 + p.z*113.0;\n    float res = mix(mix(mix( hash(n+  0.0), hash(n+  1.0),f.x),\n                        mix( hash(n+ 57.0), hash(n+ 58.0),f.x),f.y),\n                    mix(mix( hash(n+113.0), hash(n+114.0),f.x),\n                        mix( hash(n+170.0), hash(n+171.0),f.x),f.y),f.z);\n    return res;\n}\n\nfloat sdCylinder( vec3 p, vec3 c ) {\n  return length(p.xy-c.xy)-c.z;\n}\n\nvec2 rot(vec2 k, float t) {\n    return vec2(cos(t)*k.x-sin(t)*k.y,sin(t)*k.x+cos(t)*k.y);\n}\n\nfloat DE(vec3 p) {\n    p.z+=speed*2.0;\n    p.x+=sin(p.z*0.5)*2.0;\n    return sdCylinder(p, vec3(0.0,0.0,1.5));    \n}\n\nvec4 DEc4(vec3 p) {\n    float t=DE(p);\n        p.z+=speed*4.0;\n        t+=noise3(p*1.75-speed*1.5)*0.6;\n\n    vec4 res = vec4(  clamp( t, 0.0, 1.0 ) );\n    \t res.xyz = mix( vec3(1.0,1.0,1.0), vec3(0.0,0.0,0.05), res.x );\n\treturn res;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n\tvec3 ro=vec3(0.0, 0.0, -3.0);\n\tvec3 rd=normalize( vec3( (-1.0+2.0*fragCoord.xy/iResolution.xy)*vec2(iResolution.x/iResolution.y,1.0), 1.0));\n\tvec3 lig=normalize(vec3(0.0, 1.0, 0.0));\n\n    ro.x+=cos(speed)*2.5;\n    rd.xy=rot(rd.xy,speed*0.5+cos(speed));\n    rd.x+=sin(speed-3.14*0.5)*0.5;\n\n\n\tfloat d=0.0;\n\tvec4 col=vec4(0.07,0.1,0.15,0.0);\n\t\n\tfor(int i=0; i<120; i++) {\n\t\tvec4 res=DEc4(ro+rd*d);\n            res.w *= 0.35;\n    \t\tres.xyz *= res.w;\n    \t    col = col + res*(1.0 - col.w);  \n        d+=0.1;\n\t}\n\n    col.xyz/=col.w;\n    col = sqrt( col );\n    \n\tfragColor = vec4( col.xyz, 1.0 );\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"ldfXzN","date":"1397501761","viewed":1868,"name":"Clouds tunnel","username":"avix","description":"Was watching Dr.who and when i saw intro, I just had to make clouds tunnel.","likes":40,"published":1,"flags":0,"usePreview":0,"tags":["3d","raymarch"],"hasliked":0,"parentid":"","parentname":""}}