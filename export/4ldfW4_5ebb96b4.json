{"ver":"0.1","info":{"id":"4ldfW4","date":"1539668125","viewed":381,"name":"Illusory Motion Sketch","username":"Hadyn","description":"Based on this illusion, shared by Fabrice over on the Facebook: https://twitter.com/AliceProverbio/status/1050672406543486977","likes":13,"published":1,"flags":0,"usePreview":0,"tags":["illusion"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define SMOOTHNESS 0.05\n// #define CONFUSINGNESS // Uncomment to add subtle counter-rotation against the illusory rotation.\n\nvec4 DrawGrid(vec2 uv, vec4 fillColor, vec4 borderColor)\n{\n    const float padding = 0.1; \n    \n    vec2 cell = floor(uv);\n    vec2 rep = fract(uv);\n    rep -= padding;\n    rep /= 1.0-2.0*padding;\n    float border = smoothstep(1.0, 1.0+SMOOTHNESS, max( max(rep.x, rep.y), 1.0-min(rep.x, rep.y)) );\n    \n    rep = clamp (rep, 0.0, 1.0);\n       \n    vec4 col = fillColor; \n    col *= smoothstep(0.1, 0.1+SMOOTHNESS, min(rep.x, rep.y));\n    col = clamp (col, 0.0, 1.0);\n    col += smoothstep(0.9, 0.9+SMOOTHNESS, max(rep.x, rep.y));\n    col = clamp (col, 0.0, 1.0);\n    \n    col = mix(col, borderColor, border);    \n    \n    return col;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{    \n    vec2 uv = ( fragCoord - 0.5*iResolution.xy ) / iResolution.x;\n    \n    vec2 rawUV = uv;\n    \n    uv.y *= 2.0;\n    uv.x /= 0.35+(pow(abs(uv.y), 2.0));\n    \n    float mask = smoothstep(0.505, 0.5, abs(uv.x));\n    float shadow = pow(clamp(abs(2.0*uv.x), 0.0, 1.0), 2.0);\n    \n    //uv.x /= 1.0+(pow(abs(uv.y), 2.0));\n    \n    uv *= mat2(1,1,1,-1);\n    uv += .5; \n    #ifdef CONFUSINGNESS\n    \tuv += 0.001 * iTime;\n    #endif\n    \n    float padding = 0.15;//sin(iTime)*0.25 + 0.25;\n    \n    vec4 spindleColor = DrawGrid(uv * 8.0, vec4(0.5,0.0,0.75,1.0), vec4(0.0,1.0,0.5,1.0));\n    \n    spindleColor = mix( spindleColor, vec4(0.0), 0.8*shadow);\n    \n    \n    // Background:\n    uv = rawUV;    \n    uv.x /= 1.0-(pow(abs(1.0*uv.y), 2.0));\n    \n    shadow = 1.0-pow(clamp(abs(2.0*uv.x), 0.0, 1.0), 2.0);\n    \n    uv *= mat2(-1,-1,-1,1);\n    uv += .5;    \n    \n    #ifdef CONFUSINGNESS\n    \tuv +=  0.001 * iTime;\n    #endif\n    \n    vec4 backgroundColor = DrawGrid(uv * 15.0, vec4(0.3,0.0,0.65,1.0), vec4(0.0,0.6,0.4,1.0));\n    \n    backgroundColor = mix( backgroundColor, vec4(0.0), 0.4*shadow);\n    \n    // Final Mix:\n    \n    fragColor = mix(backgroundColor, spindleColor, mask);\n    \n}","name":"Image","description":"","type":"image"}]}