{"ver":"0.1","info":{"id":"dlKfRD","date":"1701897612","viewed":53,"name":"Alho fixed","username":"Elsio","description":"fixed","likes":6,"published":1,"flags":0,"usePreview":0,"tags":["refract","object","garlic","acrilic","chanfro","allium","calota"],"hasliked":0,"parentid":"-1","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define chanfro(q, a)  abs(dot(cos(a + vec2(0, -11.)), q)) - .12\n#define wmod(p, w) (mod(p, w) - w/2.)\n#define rot(a) mat2(cos(a + vec4(0, 11, 33, 0)))\n#define t      iTime\n#define PI     3.1415\n\n\nfloat azul;\nfloat map(vec3 p) {\n    float s = 0., d, l, r=.125;\n    \n    vec2 div = vec2(sqrt(3.), 1) * .15;\n    \n    vec2 q1 = mod(p.xy + div, div * 2.) - div;\n    vec2 q2 = mod(p.xy      , div * 2.) - div;\n    \n    float s1 = \n        max(\n            max(length(q1) - .135, chanfro(q1, 2.)), \n            max(chanfro(q1, 4.), chanfro(q1, 6.)) \n        ); \n    \n    float s2 = \n        max(\n            max(length(q2) - .135, chanfro(q2, 2.)), \n            max(chanfro(q2, 4.), chanfro(q2, 6.)) \n        ); \n    \n    azul = step(s1, s2);\n        \n    return abs(max(abs(p.z) - 1., min(s1, s2))) - .005;\n}\n\n\n\n\n\nvoid mainImage(out vec4 o, vec2 u) {\n    vec3 R = iResolution, q;\n         \n    float d, s, f, i, j,\n          e = 1e-2;          \n    \n    for(o *= 0.; i++ < 44. ; d += max(s, e / 5.)) {\n        q = d * (vec3(u, R.y) - R/2.) / R.y - vec3(0, 0, 3.),  // p + d*D\n        \n        q.xz *= rot(cos(t) * .4);\n        q.xy *= rot(sin(t) * .3);\n        q.xy *= 1. - dot(q, q) * (cos(t*.1 + cos(t*.1)) * .25 + .5);\n       \n        s = map(q);\n        \n        for(j = 4.; j < 16.; j += j) \n            s += .01 * abs(dot(sin(q *= j * 2.), q/q)) / j;\n        \n        s = abs(s) - .002,\n        f = 1. - s / e, \n        j = f / d * i / 400.,\n        \n        f > -.5\n            ? o += j, j\n            : o.g += .004;\n        \n        f > -.5 && azul < .5 && q.z > -80. \n            ? o.b -= j : o.b;\n    }\n}","name":"Image","description":"","type":"image"}]}