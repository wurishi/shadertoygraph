{"ver":"0.1","info":{"id":"ctdcDn","date":"1699066734","viewed":33,"name":"line_sin_cos_4","username":"yufengjie","description":"更多的line，交叉","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["line","sin","cos","cross"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"precision mediump float;\n#define PI 3.1415926;\n\nfloat pix;\nfloat w = 0.05;\n\nfloat plotSinX(vec2 uv, float k) {\n  float pct = uv.y - sin(cos(uv.x * 8.0+k) + iTime) / 3. - 0.5;\n  float pixs = pix * 80.0;\n  return 1.0 - smoothstep(w - pixs, w+pixs, abs(pct));\n}\n\nfloat plotSinY(vec2 uv, float k) {\n  float pct = uv.x - sin(cos(uv.y * 8.0+k) + iTime) / 3. - 0.5;\n  float pixs = pix * 80.0;\n  return 1.0 - smoothstep(w - pixs, w+pixs, abs(pct));\n}\n\n// https://iquilezles.org/articles/palettes/\nvec3 palette(float t) {\n  vec3 a = vec3(0.186, 0.966, 0.731);\n  vec3 b = vec3(0.199, 0.400, 0.604);\n  vec3 c = vec3(1.432, 0.024, 0.755);\n  vec3 d = vec3(0.048, 2.989, 2.952);\n\n  float TWO_PI = 2.0 * PI;\n  return a + b * cos(TWO_PI * (c * t + d));\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n  vec2 st = fragCoord.xy / iResolution.y;\n\n  pix = 1. / iResolution.y;\n\n  vec3 finc = vec3(0.0);\n  vec3 color = palette(st.x - iTime * 0.8);\n\n  vec2 uv1 = st * vec2(1., 10.);\n  uv1.y = fract(uv1.y);\n  float yi = floor(uv1.y);\n  float lx = plotSinX(uv1, yi);\n  finc += color * lx;\n\n  vec2 uv2 = st * vec2(10., 1.);\n  uv2.x = fract(uv2.x);\n  float xi = floor(uv2.x);\n  float ly = plotSinY(uv2, xi);\n  finc += color * ly;\n\n  fragColor = vec4(finc, 1.0);\n}","name":"Image","description":"","type":"image"}]}