{"ver":"0.1","renderpass":[{"outputs":[{"channel":0,"id":"4dfGRr"}],"inputs":[],"code":"#define MAX_STEPS 100\n#define MIN_DIST 0.001\n#define MAX_DIST 50.0\n\n// Signed distance function for a sphere\nfloat sdSphere(vec3 p, float radius) {\n    return length(p) - radius;\n}\n\n// Raymarching loop\nfloat raymarch(vec3 ro, vec3 rd) {\n    float t = 0.0; // Distance traveled\n    for (int i = 0; i < MAX_STEPS; i++) {\n        vec3 p = ro + t * rd;\n        float d = sdSphere(p, 1.0); // Sphere SDF\n        if (d < MIN_DIST) break;    // Hit surface\n        if (t > MAX_DIST) break;    // Exit\n        t += d;\n    }\n    return t;\n}\n\n// Function to draw a smiley face on the sphere\nvec3 getFaceColor(vec3 p) {\n    vec3 col = vec3(1.0, 0.8, 0.6); // Base color (light peach)\n\n    // Eyes (two small black circles)\n    if (length(p.xy - vec2(-0.3, 0.4)) < 0.15) col = vec3(0.0); // Left eye\n    if (length(p.xy - vec2(0.3, 0.4)) < 0.15) col = vec3(0.0);  // Right eye\n\n    // Smile (a curved line at the bottom)\n    if (p.y < 0.05 && abs(length(p.xy) - 0.1) < 0.2 && p.x > -0.5 && p.x < 0.5) {\n        col = vec3(0.0); // Black smile\n    }\n\n    return col;\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    // Normalize pixel coordinates (UV coordinates)\n    vec2 uv = (fragCoord - 0.5 * iResolution.xy) / iResolution.y;\n\n    // Camera setup (centered)\n    vec3 ro = vec3(0.0, 0.0, 3.0); // Camera position\n    vec3 target = vec3(0.0, 0.0, 0.0); // Look-at point\n    vec3 forward = normalize(target - ro); // Forward direction\n    vec3 right = normalize(cross(vec3(0.0, 1.0, 0.0), forward)); // Right direction\n    vec3 up = cross(forward, right); // Up direction\n\n    // Create ray direction\n    vec3 rd = normalize(forward + uv.x * right + uv.y * up);\n\n    // Raymarching\n    float t = raymarch(ro, rd);\n    vec3 color = vec3(0.5, 0.7, 1.0); // Background color (sky blue)\n\n    if (t < MAX_DIST) {\n        vec3 p = ro + t * rd; // Surface point\n        color = getFaceColor(p); // Add face features\n    }\n\n    fragColor = vec4(color, 1.0);\n}\n","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"lfVBDy","date":"1734432774","viewed":43,"name":"Happy Smily Face","username":"unclekarl","description":"Happy smily face.","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["smile","happy","smilyface","happyface"],"hasliked":0,"parentid":"","parentname":""}}