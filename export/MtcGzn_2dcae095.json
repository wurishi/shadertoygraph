{"ver":"0.1","info":{"id":"MtcGzn","date":"1467896429","viewed":194,"name":"[SH16A] kosua20","username":"kosua20","description":"My entry for the first 2016 Shadertoy contest.\n930 char according to Shadertoy, 869 according to Sublime :)\nWorks fine on a K2000 (error: 0.75-0.92%)\nLots of inlining, loops, macros,...\n","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["sh16a"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"Xsf3zn","filepath":"/media/a/f735bee5b64ef98879dc618b016ecf7939a5756040c2cde21ccb15e69a6e1cfb.png","previewfilepath":"/media/ap/f735bee5b64ef98879dc618b016ecf7939a5756040c2cde21ccb15e69a6e1cfb.png","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define V vec3\n#define F float\n#define G floor(\n#define N normalize(\n#define E(c) clamp(dot(c,l),.0,1.)\n#define J length(\n#define L(j) for(int i=0; i<j;i++)\n#define P mod(\n#define Q iResolution\n#define S(u) M(o+e.u,t) - M(o-e.u,t)\n\n// 7 .5, 6 .0, 10 2. \nF z = 2.;\n\nF M( V p, out F w )\n{\n    F j = p.y;\n    w=13.;\n    L(25){\n        F k = F(i),s =  .4 - .15 * P k,z), m = J p - V( G k/5.)-z,s,P k,5.)- z )) - s;\n        j = j > m ? w = G .5*k), m : j ;\n    }\n    return j;\n}\n\nvoid mainImage( out vec4 g, vec2 f )\n{\n   \n    F t,m;\n\n    V r =  mat3(-.95892,t=.0,-.28366, -.16775,.80640,.56707, -.22875,-.59136,.77328 ) * N V((z*f-Q.xy)/Q.y,z) ), o = V( .85099, z, -2.87677 ), l = V(-.5721,  .6674, -.4767);\n    \n    L(64)\n        t += M( o+t*r,m );\n    \n    o = o + t*r;\n    \n    V e = V(.001,.0,1.), n = N V(  S(xyy), S(yxy),  S(yyx))), c =  V( P P G o.x),z) + P G o.z),z), z ) > .5 ? .5*texture( iChannel0, (G 25.6*o.xz) + .5)/256., -100. ).r :  .4);\n\tt = .01;\n    c = m<13. ?  e.zyy + G m )* t * V(-8,3,6)  : max( J o.x), J o.z)) < 1.5 ? c * smoothstep(.0, .5, J o.xz - G o.xz + .5))) : c;\n\t \n\tL(64)\n\t\tt += M( o+t*l,m );\n        \n    g.rgb=sqrt(F(t>z) * E(n)*(pow(E(reflect(r,n)),16.)+V(1.2,1.02,.66)*c)+c*(++n.y)*.025*V(5,7,10));\n}","name":"Image","description":"","type":"image"}]}