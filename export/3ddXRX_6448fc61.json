{"ver":"0.1","info":{"id":"3ddXRX","date":"1572511343","viewed":300,"name":"Blood Flow","username":"bitless","description":"Based on \"Smooth Voronoi\" by Inigo Quiles\nhttps://iquilezles.org/articles/smoothvoronoi/smoothvoronoi.htm","likes":8,"published":1,"flags":0,"usePreview":0,"tags":["2d","voronoi","smoothvoronoi"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Author: bitless\n// Title: another triangular voronoi \n// Thanks to Patricio Gonzalez Vivo & Jen Lowe for \"The Book of Shaders\" and inspiration \n// Thanks to Inigo Quiles for his amazing articles\n// \"Smooth Voronoi\"  https://iquilezles.org/articles/smoothvoronoi\n\n\nvec2 random2( vec2 p ) {\n    return fract(sin(vec2(dot(p,vec2(127.1,311.7)),dot(p,vec2(269.5,183.3))))*43758.5453);\n}\n\nfloat sm_vr (in vec2 st) {\n    vec2 i_st = floor(st);\n    vec2 f_st = fract(st);\n\n    float c = 0.;\n    for (int j=-1; j<=1; j++ ) {\n        for (int i=-1; i<=1; i++ ) {\n            vec2 neighbor = vec2(float(i),float(j));\n            vec2 point = random2(i_st + neighbor);\n            point = 0.5 + 0.5*sin(iTime + 6.2831*point);\n            vec2 diff = neighbor + point - f_st;\n            float dist = length(diff)+(sin(iTime*length(random2(i_st + neighbor)))*0.25+0.25);\n            c +=  exp( -16.*dist );\n        }\n    }\n    return -(1.0/16.)*log(c);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 st = fragCoord.xy/iResolution.xy;\n    st.x *= iResolution.x/iResolution.y;\n    vec3 color = vec3(0.135,0.077,0.095);\n\n    // Scale\n    st *= 5.;\n\n    float c=0.;\n    for (float i = 3.;i >= 0.; i--)   {\n        float vr = sm_vr(st*pow(2.,i)+vec2(sin(iTime)+iTime,0.));\n        vr = smoothstep(0.,1.5,vr*(sin(iTime+i)+4.25)*0.25);\n        c = mix(c,vr,1.0-smoothstep(0.4,0.5,vr));\n        c = (c + 0.325)*(1.-i*0.25);\n\n    }\n    color = vec3(0.425,0.110,0.103)*(c);\n\n    fragColor = vec4(color,1.0);\n}","name":"Image","description":"","type":"image"}]}