{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"// Quasicrystal based on Matt Henderson's blog post:\n// http://blog.matthen.com/post/51566631087/quasicrystals-are-highly-structured-patterns-which\t\n// click and drag the mouse for interactivity.\n// Left/Right: scale\n// Up/Down: number of waves\n\n// normalized mouse position. Default values\nfloat mouseX = 0.8;\nfloat mouseY = 0.4;\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tif( iMouse.x != 0.0 ) { // once Shadertoy mouse pos is initialized use that:\n\t\tmouseX = float(iMouse.x) / float(iResolution.x);\n\t\tmouseY = float(iMouse.y) / float(iResolution.y);\n\t}\n\t\n\tfloat speed = 2.0;\n\tfloat scale = 0.1;\n\tconst int N_MAX = 20;\n\tfloat n = 7.0;\n\t\n\t// click and drag up and down to change the number of symmetries (up is more)\n\t// n is the number of waves. we allow a fractional number and fade out the final one below\n\tn = mouseY * float(N_MAX);\n\t\n\t// click and drag left and right to adjust scale (left zooms out)\n\tscale = 0.1 + (1.0-mouseX);\n\t\n\tconst float pi = 3.1415926;\n\t\n\t// accumulate n waves\n\tfloat S = 0.0;\n\tfor( int i=0; i < N_MAX; ++i){\n\t\n\t\t// allow for n+1 waves\n\t\tif( i >= (int(n)+1) )\n\t\t\tbreak;\n\t\t\n\t\tfloat theta = pi * float(i)/float(n);\n\t\t\t\n\t\t// center coordinates in viewport\n\t\tfloat x = fragCoord.x - (iResolution.x*0.5);\n\t\tfloat y = fragCoord.y - (iResolution.y*0.5);\n\t\t\n\t\tfloat wp = x*cos(theta) + y*sin(theta);\n\t\tfloat w = sin(wp*scale + iTime*speed);\n\t\t\n\t\t// fade out the final wave in proportion to n-floor(n)\n\t\tif( i == int(n) )\n\t\t\tw *= n-floor(n);\t\t\n\t\t\n\t\t// accumulate \n\t\tS += 3.0 * w / n;\n\t}\n\t\n\t// sin/cos hackery to get some colours\n\tfragColor = vec4(sin(S-0.1)*.6,cos(S+.3)*.9,cos(S+.1)*1.1,1.0);\n\t\n\t// greyscale version:\n\t//fragColor = vec4(S,S,S,1.0);\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"Xs2GDR","date":"1386159817","viewed":1099,"name":"Quasicrystal 1","username":"RossBencina","description":"Quasicrystal based on Matt Henderson's blog post:\nhttp://blog.matthen.com/post/51566631087/quasicrystals-are-highly-structured-patterns-which\nClick and drag the mouse for interaction.\n// Left/Right: scale\n// Up/Down: number of waves","likes":14,"published":1,"flags":0,"usePreview":0,"tags":["2d","quasicrystal"],"hasliked":0,"parentid":"","parentname":""}}