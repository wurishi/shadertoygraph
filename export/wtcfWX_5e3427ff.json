{"ver":"0.1","info":{"id":"wtcfWX","date":"1613565505","viewed":328,"name":"Readable rule 30","username":"illus0r","description":"Crystall CA → readable rules","likes":2,"published":3,"flags":32,"usePreview":0,"tags":["color","cellular","buildings"],"hasliked":0,"parentid":"3t3fDf","parentname":"Crystall CA → readable rules"},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 FC )\n{\n    fragColor = texelFetch(iChannel0, ivec2(FC)/10,0);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"void mainImage( out vec4 o, in vec2 FC )\n{\n#define ROOF_START .002\n#define ROOF_LEFT_STOP .0002\n#define ROOF_RIGHT_STOP ROOF_LEFT_STOP\n#define ROOF_WALL_START -.00001 + .00002*uv.x\n#define COL transpose(mat3(uv.x*10.,0,1,   .4,.92,.0,   0,.7,1))\n//#define COL mat3(1,0,0,   0,1,0,   0,0,1)\n\n#define rnd(d) fract(sin(length(FC.xy+d)*999.))\n#define T(dx,dy) (texelFetch(iChannel0,ivec2(FC.xy+vec2(dx,dy))%int(iResolution.xy),0).rgb*inverse(COL))\n#define RULE(v,c) else if(T(-1,-1)[v[0]]>.5 && T(0,-1)[v[1]]>.5 && T(1,-1)[v[2]]>.5 && c)o[v[3]]=1.;\n\nconst ivec3 v = ivec3(0,1,2);\nvec2 uv = FC.xy/iResolution.xy;\n\nif(iFrame==0) o=vec4(0);\nelse if(iTime<.1||FC.y==.5)if(rnd(100.)<.5)o.r+=1.;else o.b+=1.;\n\nRULE(v.rrrr,true)\nRULE(v.rrbb,true)\nRULE(v.rbrb,true)\nRULE(v.rbbr,true)\nRULE(v.brrb,true)\nRULE(v.brbr,true)\nRULE(v.bbrr,true)\nRULE(v.bbbr,true)\n\no.rgb*=COL;\n}","name":"Buffer A","description":"","type":"buffer"}]}