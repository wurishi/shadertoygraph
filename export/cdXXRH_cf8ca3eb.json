{"ver":"0.1","info":{"id":"cdXXRH","date":"1670678583","viewed":140,"name":"Hilma 3","username":"garabatospr","description":"concentric circles","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["circles"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define S(a,b,c) smoothstep(a,b,c)\n// normalized coords version:\n//#define S(v,v0,r)  smoothstep( 1.5/R.y, -1.5/R.y, length(v-(v0)) - (r) )  \n// pixel coords version:\n//#define S(v,v0,r)  smoothstep( 1.5, -1.5, R.y* ( length(v-(v0)) - (r) )) \n\nconst float PI = 3.14159265359;\n\n// color palette\n\nconst vec3 COLORS[14]=vec3[14](\n\tvec3(0.949,0.922,0.541),\n    vec3(0.996,0.816,0.),\n    vec3(0.988,0.518,0.0),\n    vec3(0.929,0.212,0.102),\n    vec3(0.886,0.941,0.953),\n    vec3(0.702,0.863,0.878),\n    vec3(0.267,0.392,0.631),\n    vec3(0.125,0.188,0.318),\n    vec3(1.,0.773,0.78),\n    vec3(0.953,0.596,0.765),\n    vec3(0.812,0.22,0.584),\n    vec3(0.427,0.208,0.541),\n    vec3(0.024,0.706,0.69),\n    vec3(0.294,0.541,0.373)  \n);\n\nfloat Hash21(vec2 p) {\n    p = fract(p*vec2(234.234, 435.145));\n    p += dot(p, p+34.236767);\n    return fract(p.x*p.y);\n}\n\n// get \"random\" color based on location \n\nvec3 getColor(vec2 id,float seed)\n{\n  return COLORS[int(14.*Hash21(id*seed))];\n}\n\n\nmat2 rotate2d(in float radians){\n  float c = cos(radians);\n  float s = sin(radians);\n  return mat2(c, -s, s, c);\n}\n\n\n\nvec3 drawConcentric(vec2 st,vec3 col)\n{\n\n    st -= 0.5;\n    \n    st *= 3.;\n\n    vec2 id  = floor(st)+0.5;\n\n    vec2 fst = fract(st)-0.5;\n        \n    fst *= rotate2d(PI/20.0*sign(Hash21(id)-0.5)*iTime);\n    \n    float r = length(fst);\n    \n    float blur = 0.05;\n    float edge = 0.1;\n    float rad = 0.8;\n    \n    vec3 col1 = getColor(id,154.);\n    vec3 col2 = getColor(id,566.);\n    vec3 col3 = getColor(id,667.);\n    \n    vec3 col4 = getColor(id,188.);\n    vec3 col5 = getColor(id,879.);\n    vec3 col6 = getColor(id,960.);\n    \n    // half concentric blur\n\n    col = mix(col1,col,S(rad-blur,rad+blur,r));\n    col = mix(col2,col,S(rad/1.5-blur,rad/1.5+blur,r));\n    col = mix(col3,col,S(rad/3.-blur,rad/3.+blur,r));\n\n    // half concentric sharp \n\n    col = mix(col4,col,S(rad - blur,rad + blur,r)+ smoothstep(-blur,blur,fst.y));\n    col = mix(col5,col,S(rad/1.5 - blur,rad/1.5 + blur,r)+smoothstep(-blur,blur,fst.y));\n    col = mix(col6,col,S(rad/3.0 - blur,rad/3.0 + blur,r)+smoothstep(-blur,blur,fst.y));\n\n    return col;\n    \n}\n\n\nvec2 distort(vec2 uv,float tfreq)\n{\n  float freq1 = uv.x*10.0;\n  float freq2 = uv.y*10.0;\n\n  return vec2(uv.x + cos(freq1*uv.y + tfreq*iTime)*0.05,uv.y + cos(freq2*uv.x + tfreq*iTime)*0.05);\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n  vec3 col = vec3(0.);\n  vec2 uv = (fragCoord-.5*iResolution.xy)/iResolution.y;\n  \n  vec3 YELLOW = vec3(1.0,1.0,0.0);\n\n  uv = distort(uv,0.5);\n\n  col = drawConcentric(uv,vec3(0.0));\n \n  fragColor = vec4(col,1.);\n}","name":"Image","description":"","type":"image"}]}