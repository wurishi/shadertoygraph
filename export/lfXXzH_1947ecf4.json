{"ver":"0.1","info":{"id":"lfXXzH","date":"1704921320","viewed":67,"name":"Meatclown","username":"Altoids","description":"Meatclown, what's that?","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["perlin","animated","red","pulsating","meat"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Author @kyndinfo - 2016\n// http://www.kynd.info\n// Title: Marble\n\n#ifdef GL_ES\nprecision mediump float;\n#endif\n\nfloat rand(vec2 co) {\n    return fract(sin(dot(co, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nfloat noise(vec2 p) {\n    vec2 i = floor(p);  // Integer grid coordinates\n    vec2 f = fract(p);  // Fractional part for interpolation\n\n    // Smooth Hermite interpolation\n    f = f * f * (3.0 - 2.0 * f); \n\n    // Evaluate noise at each corner of the grid cell\n    float a = rand(i);\n    float b = rand(i + vec2(1.0, 0.0));\n    float c = rand(i + vec2(0.0, 1.0));\n    float d = rand(i + vec2(1.0, 1.0));\n\n    // Bilinear interpolation\n    vec2 u = f; \n    return mix(mix(a, b, u.x), \n               mix(c, d, u.x), u.y);\n}\n\n#define OCTAVES 4\nfloat fbm (in vec2 st) {\n    // Initial values\n    float value = 0.0;\n    float amplitud = .5;\n    //\n    // Loop of octaves\n    for (int i = 0; i < OCTAVES; i++) {\n        value += amplitud * noise(st);\n        st *= 2.5;\n        amplitud *= .6;\n    }\n    return value;\n}\n\nfloat edge(in vec2 v, float edge0, float edge1) {\n    return 1.0 - smoothstep(edge0, edge1, abs(fbm(v) - 0.5));\n}\n\nconst vec3 redMeat = vec3(0.95,0.12,0.25);\nconst vec3 fattyMeat = vec3(0.95,0.65,0.130);\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 st = fragCoord.xy / iResolution.xy;\n    st.x *= iResolution.x / iResolution.y;\n    \n    // Animation - pulse using a sine function\n    float pulse = 0.01 * sin(iTime * 4.5);  // Values between -0.01 and 0.01\n\n    float v0 = edge(st * 4.0, 0.0, 0.5); // Bass-note texture\n    float v1 = smoothstep(0.6, 0.81, fbm(st * 8.0)); // splotches\n    float v2 = edge(st * 6.0, 0.0, 0.2); // veins\n    float v3 = edge(st * 64.0, 0.0, 0.5); // high-note texture\n\n    float gradientPos = 0.0;\n    gradientPos += v0 * 0.55;\n    gradientPos = mix(gradientPos, 0.45, v1);\n    gradientPos = mix(gradientPos, 0.74 + pulse, v2);\n    gradientPos += v3 * 0.27;\n    \n    vec3 col = redMeat * gradientPos;\n    col = mix(col,fattyMeat, smoothstep(0.55,1.0,gradientPos) - smoothstep(0.65,1.0,gradientPos));\n    col = mix(col,vec3(0.85), smoothstep(0.95,1.0,gradientPos));\n    \n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}