{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"#define PI 3.14159265359\n\nvec4 gear(vec2 pos, vec2 center, float dir, float phase) {\n\tvec2 p = pos - center;\n\t\n\tfloat r = length(p);\n\tfloat t = smoothstep(0.0, 1.0, fract(iTime));\n\tt *= 2.0 * PI / 6.0;\n\tfloat a = atan(p.y, p.x) + (phase + t) * dir;\n\tfloat e = 0.20 + clamp(sin(a * 6.0) * 0.13, 0.0, 0.1);\n\t\n\tif (r < e) {\n\t\treturn vec4(0.8 + e - r, 0.0, 0.0, 1.0);\n\t}\n\telse {\n\t\treturn vec4(0.0);\n\t}\n}\n\nvec4 gears(vec2 uv) {\n\tvec4 c1 = gear(uv, vec2(0.0, 0.0), 1.0, 0.0);\n\tvec4 c2;\n\tif (abs(uv.y) < -uv.x) {\n\t\tc2 = gear(uv, vec2(-0.5, 0.0), -1.0, 0.095);\n\t}\n\telse if (abs(uv.y) < uv.x) {\n\t\tc2 = gear(uv, vec2(0.5, 0.0), -1.0, 0.095);\n\t}\n\telse if (abs(uv.x) < -uv.y) {\n\t\tc2 = gear(uv, vec2(0.0, -0.5), -1.0, 0.095);\n\t}\n\telse if (abs(uv.x) < uv.y) {\n\t\tc2 = gear(uv, vec2(0.0, 0.5), -1.0, 0.095);\n\t}\n\t\n\treturn c1 * c1.a + c2 * c2.a;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n\t\n\tuv -= 0.5;\n\tuv.x /= iResolution.y / iResolution.x;\n\t\n\tvec2 c = vec2(0.5, 0.0);\n\t\n\tfloat time = iTime;\n\t\n\tfloat t = 1.0 + mod(time * 0.1, 0.481);\n\t//float t = iTime;\n\t\n\tvec2 uv2 = uv / pow(t, 10.0);\n\t\n\tuv2.x += 0.5;\n\t\n\tvec4 col = gears(fract(uv2 * 5.0) - 0.5);\n\t\n\tfor (int i = 1; i <= 2; i++) {\n\t\tcol = mix(col, col.a * gears(fract(uv2 * 5.0) - 0.5), 1.0 - 1.0 / (pow(t, 10.0)));\n\t\tuv2 *= 50.2;\n\t}\n\t\n\tfragColor = col.a * col + vec4(vec3((uv.y + 1.0) * 0.2), 1.0) * (1.0 - col.a);\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"MdlGzN","date":"1364737785","viewed":353,"name":"Áttétel","username":"vahokif","description":"Inspired by this: http://i.imgur.com/lE1sTEq.gif\n\nIf anyone knows how to do the plane deformation seen in the gif, I'd love to know. :)","likes":6,"published":1,"flags":0,"usePreview":0,"tags":["2d","gears"],"hasliked":0,"parentid":"","parentname":""}}