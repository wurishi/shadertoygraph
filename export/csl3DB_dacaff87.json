{"ver":"0.1","info":{"id":"csl3DB","date":"1666805226","viewed":223,"name":"Mighty Morphin Sea Urchin","username":"ChunderFPV","description":"Yet another number spiral.  The moire patterns were pissing me off so I flooded them with blur which produced a nice watery effect.","likes":13,"published":1,"flags":32,"usePreview":0,"tags":["2d","spiral","aa","buffer","loopless"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"mipmap","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage(out vec4 RGBA, in vec2 XY)\n{\n    vec3 c = texture(iChannel0, XY/R, 7.0*length((XY-0.5*R)/R.y)).rgb;\n    c *= c*4.0; // contrast\n    RGBA = vec4(c, 1.0);\n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"#define SCALE 2.5\n#define R iResolution.xy\n#define T iTime\n#define M iMouse\n#define PI radians(180.0)\n#define TAU (PI*2.0)\n#define CS(a) vec2(cos(a), sin(a))\n#define SV 0.19 // starting value\n#define N (T/3600.0+SV) // value to visualize\n#define RO (sqrt(abs(N))*200.0) // rotation speed\n#define PX length(fwidth(sc/1.414))\n\n// fraction spiral: decimal(n) to visual fraction\n// screen coords, exponent, value, width, rotation\nfloat fs(vec2 sc, float e, float n, float w, float ro)\n{\n\tfloat t = TAU*sqrt(abs(n))*sign(n);\n\tfloat r = round(exp(log(length(sc))/e));\n\tvec2 xy = sc-CS(ro-t*sqrt(r*2.0))*pow((r-0.5), e);\n\treturn max(0.0, 1.0-length(xy/w));\n}\n","name":"Common","description":"","type":"common"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"mipmap","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"void mainImage(out vec4 RGBA, in vec2 XY)\n{\n    float e = 0.15; //clamp(N, -1.0, 1.0); // exponent\n    float az = pow(500.0, e); // autozoom\n    vec2 mc = M.xy*2.0/R-1.0; // ±1x, ±1y\n    float z = 1.0; // zoom\n    if (iMouse.z > 0.0) // on click\n    {\n        az = 1.0; // clear autozoom\n        e = -mc.y; // exponent from mouse y\n        z = pow(1.0-abs(mc.y), 3.0*sign(mc.y)); // mouse y zoom\n    }\n\tvec2 sc = (XY-0.5*R)/R.y; // screen coords\n    float r = length(sc); // screen radius\n    sc *= SCALE*z*az; // apply scale\n    \n    float o = cos(T/10.0*TAU); // oscillation\n    o = (o+3.0)/4.0-0.5;\n    vec3 c = vec3(texture(iChannel0, mix(XY/R, vec2(0.5), -0.005), r*4.0).rgb)*0.99; // scale blur\n    \n    float w = max(PX*5.0, 0.02*z*az); // point radius\n    vec3 rgb = vec3(1.0-r, 1.0-abs(r+r-1.0), r); // color (Xor's chromatic)\n    rgb.b += o; // blue tint\n    \n    c += fs(sc, e, N, w, RO)*rgb; // fraction spiral\n    vec2 b = abs(fract(XY/R+0.5)-0.5)/fwidth(XY/R)/5.0; // black border\n    c = min(c, min(b.x, b.y)*2.0); // blend with border\n    \n\tRGBA = vec4(c, 1.0);\n}","name":"Buffer A","description":"","type":"buffer"}]}