{"ver":"0.1","info":{"id":"7lKyDD","date":"1661522053","viewed":293,"name":"Synthwave City","username":"3w36zj6","description":"Original: https://www.shadertoy.com/view/3t3GDB","likes":11,"published":1,"flags":0,"usePreview":0,"tags":["sun","80s","retro","city","synthwave","skyscraper"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Original: https://www.shadertoy.com/view/3t3GDB\n// Original License: CC BY 3.0\n// Original Author: Jan Mr√≥z (jaszunio15)\n\nfloat sdSkyscraper(vec2 p, float w, float h)\n{\n  vec2 k1 = vec2(0.0, h);\n  vec2 k2 = vec2(-w, h);\n  p.x = abs(p.x);\n  vec2 ca = p - vec2(0.0, h);\n  vec2 cb = p - k1 + k2;\n  float s = (cb.x < 0.0 && ca.y < 0.0) ? - 1.0 : 1.0;\n  return s * (dot(ca, ca));\n}\n\nfloat sun(vec2 uv, float battery)\n{\n  float val = smoothstep(0.7, 0.69, length(uv));\n  float bloom = smoothstep(0.7, 0.0, length(uv));\n  float cut = 5.0 * sin((uv.y + iTime * 0.2 * (1.02)) * 60.0)\n    + clamp(uv.y * 15.0, -6.0, 6.0);\n  cut = clamp(cut, 0.0, 1.0);\n  return clamp(val * cut, 0.0, 1.0) + bloom * 0.6;\n}\n\nfloat grid(vec2 uv, float battery)\n{\n  vec2 size = vec2(uv.y, uv.y * uv.y * 0.2) * 0.01;\n  uv += vec2(0.0, iTime * 4.0 * (battery + 0.05));\n  uv = abs(fract(uv) - 0.5);\n  vec2 lines = smoothstep(size, vec2(0.0), uv);\n  lines += smoothstep(size * 5.0, vec2(0.0), uv) * 0.4 * battery;\n  return clamp(lines.x + lines.y, 0.0, 3.0);\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n  vec2 uv = (2.0 * fragCoord.xy - iResolution.xy) / iResolution.y;\n  float battery = 1.0;\n\n  float fog = smoothstep(0.2, -0.05, abs(uv.y + 0.2));\n  vec3 col = vec3(0.0, 0.1, 0.2);\n  if (uv.y < -0.2)\n  {\n    uv.y = 3.0 / (abs(uv.y + 0.2) + 0.05);\n    uv.x *= uv.y * 1.0;\n    float gridVal = grid(uv, battery);\n    col = mix(col, vec3(1.0, 0.25, 0.5), gridVal);\n  }\n  else\n  {\n    uv.y -= 0.34;\n    col = vec3(1.0, 0.4, 0.4);\n    float sunVal = sun(uv, battery);\n    col = mix(col, vec3(1.0, 0.85, 0.3), uv.y * 2.5 + 0.2);\n    col = mix(vec3(0.0, 0.0, 0.0), col, sunVal);\n    //uv.y += 0.37;\n    col += vec3(0.1 + 1.25 * (1.0 - smoothstep(-0.2, 0.8, (0.2 + uv.y))), 0.15 * (1.0 - smoothstep(-0.2, 0.8, (0.2 + uv.y))), 0.7 - 0.45 * (smoothstep(-0.2, 0.8, (0.2 + uv.y))));\n    //col += vec3(0.75,0.1,0.45);\n\n    // bldg\n    uv.y -= 0.2;\n    float bldgD = max(-uv.y * 1.2 + 0.18, 0.0);\n    float bldgVal1 = sdSkyscraper(uv + vec2(0.1 * mod(0.0 + iTime, 40.0) - 2.0, 0.5), 0.1, 0.15);\n    col = mix(col, mix(vec3(0.0, 0.0, 0.25), vec3(1.0, 0.0, 0.5), bldgD), step(bldgVal1, 0.0));\n    float bldgVal2 = sdSkyscraper(uv + vec2(0.1 * mod(2.5 + iTime, 40.0) - 2.0, 0.5), 0.1, 0.2);\n    col = mix(col, mix(vec3(0.0, 0.0, 0.25), vec3(1.0, 0.0, 0.5), bldgD), step(bldgVal2, 0.0));\n    float bldgVal3 = sdSkyscraper(uv + vec2(0.1 * mod(6.0 + iTime, 40.0) - 2.0, 0.5), 0.2, 0.05);\n    col = mix(col, mix(vec3(0.0, 0.0, 0.25), vec3(1.0, 0.0, 0.5), bldgD), step(bldgVal3, 0.0));\n    float bldgVal4 = sdSkyscraper(uv + vec2(0.1 * mod(0.0 + iTime, 40.0) - 2.0, 0.5), 0.02, 0.35);\n    col = mix(col, mix(vec3(0.0, 0.0, 0.25), vec3(1.0, 0.0, 0.5), bldgD), step(bldgVal4, 0.0));\n\n    float bldgVal5 = sdSkyscraper(uv + vec2(0.1 * mod(10.5 + iTime, 40.0) - 2.0, 0.5), 0.2, 0.25);\n    col = mix(col, mix(vec3(0.0, 0.0, 0.25), vec3(1.0, 0.0, 0.5), bldgD), step(bldgVal5, 0.0));\n    float bldgVal6 = sdSkyscraper(uv + vec2(0.1 * mod(13.0 + iTime, 40.0) - 2.0, 0.5), 0.2, 0.12);\n    col = mix(col, mix(vec3(0.0, 0.0, 0.25), vec3(1.0, 0.0, 0.5), bldgD), step(bldgVal6, 0.0));\n    float bldgVal7 = sdSkyscraper(uv + vec2(0.1 * mod(16.0 + iTime, 40.0) - 2.0, 0.5), 0.05, 0.2);\n    col = mix(col, mix(vec3(0.0, 0.0, 0.25), vec3(1.0, 0.0, 0.5), bldgD), step(bldgVal7, 0.0));\n    float bldgVal8 = sdSkyscraper(uv + vec2(0.1 * mod(17.0 + iTime, 40.0) - 2.0, 0.5), 0.08, 0.3);\n    col = mix(col, mix(vec3(0.0, 0.0, 0.25), vec3(1.0, 0.0, 0.5), bldgD), step(bldgVal8, 0.0));\n\n    float bldgVal9 = sdSkyscraper(uv + vec2(0.1 * mod(20.0 + iTime, 40.0) - 2.0, 0.5), 0.18, 0.4);\n    col = mix(col, mix(vec3(0.0, 0.0, 0.25), vec3(1.0, 0.0, 0.5), bldgD), step(bldgVal9, 0.0));\n    float bldgVal10 = sdSkyscraper(uv + vec2(0.1 * mod(24.5 + iTime, 40.0) - 2.0, 0.5), 0.23, 0.02);\n    col = mix(col, mix(vec3(0.0, 0.0, 0.25), vec3(1.0, 0.0, 0.5), bldgD), step(bldgVal10, 0.0));\n    float bldgVal11 = sdSkyscraper(uv + vec2(0.1 * mod(27.8 + iTime, 40.0) - 2.0, 0.5), 0.05, 0.315);\n    col = mix(col, mix(vec3(0.0, 0.0, 0.25), vec3(1.0, 0.0, 0.5), bldgD), step(bldgVal11, 0.0));\n    float bldgVal12 = sdSkyscraper(uv + vec2(0.1 * mod(30.0 + iTime, 40.0) - 2.0, 0.5), 0.14, 0.1);\n    col = mix(col, mix(vec3(0.0, 0.0, 0.25), vec3(1.0, 0.0, 0.5), bldgD), step(bldgVal12, 0.0));\n\n    float bldgVal13 = sdSkyscraper(uv + vec2(0.1 * mod(32.2 + iTime, 40.0) - 2.0, 0.5), 0.06, 0.03);\n    col = mix(col, mix(vec3(0.0, 0.0, 0.25), vec3(1.0, 0.0, 0.5), bldgD), step(bldgVal13, 0.0));\n    float bldgVal14 = sdSkyscraper(uv + vec2(0.1 * mod(34.1 + iTime, 40.0) - 2.0, 0.5), 0.09, 0.02);\n    col = mix(col, mix(vec3(0.0, 0.0, 0.25), vec3(1.0, 0.0, 0.5), bldgD), step(bldgVal14, 0.0));\n    float bldgVal15 = sdSkyscraper(uv + vec2(0.1 * mod(37.0 + iTime, 40.0) - 2.0, 0.5), 0.1, 0.315);\n    col = mix(col, mix(vec3(0.0, 0.0, 0.25), vec3(1.0, 0.0, 0.5), bldgD), step(bldgVal15, 0.0));\n    float bldgVal16 = sdSkyscraper(uv + vec2(0.1 * mod(36.9 + iTime, 40.0) - 2.0, 0.5), 0.14, 0.27);\n    col = mix(col, mix(vec3(0.0, 0.0, 0.25), vec3(1.0, 0.0, 0.5), bldgD), step(bldgVal16, 0.0));\n\n    float bldgVal = min(min(min(min(bldgVal1, bldgVal2), min(bldgVal3, bldgVal4)), min(min(bldgVal5, bldgVal6), min(bldgVal7, bldgVal8))), min(min(min(bldgVal9, bldgVal10), min(bldgVal11, bldgVal12)), min(min(bldgVal13, bldgVal14), min(bldgVal15, bldgVal16))));\n\n    //col += mix( col, mix(vec3(1.0, 0.12, 0.8), vec3(0.0, 0.0, 0.2), clamp(uv.y * 3.5 + 3.0, 0.0, 1.0)), step(0.0, bldgVal) );\n  }\n\n  col += fog * fog * fog;\n  col = mix(vec3(0.75, 0.1, 0.45) * 0.2, col, battery * 0.7);\n\n  fragColor = vec4(col, 1.0);\n}\n","name":"Image","description":"","type":"image"}]}