{"ver":"0.1","info":{"id":"Wl2SD3","date":"1567320711","viewed":114,"name":"Broken LCD)))","username":"Kapsy","description":"DEMO OR DIE!","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["kapsy"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sf3Rr","filepath":"/media/a/ad56fba948dfba9ae698198c109e71f118a54d209c0ea50d77ea546abad89c57.png","previewfilepath":"/media/ap/ad56fba948dfba9ae698198c109e71f118a54d209c0ea50d77ea546abad89c57.png","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float smin(float a,float b, float h){\n  float k = clamp((a-b)/h*0.5+0.5,0.,1.);\n  return mix(a,b,k)-k*(1.0-k)*h;\n  }\n  \nvec2 moda(vec2 p, float per){\n  float a = atan(p.y,p.x);\n  float l = length(p);\n  a = mod(a-per/2.,per)-per/2.;\n  return vec2(cos(a),sin(a))*l;\n  }\n\nmat2 rot(float a){\n  return mat2(cos(a),sin(a),-sin(a),cos(a));\n  }\n  \nfloat cone(vec3 p , vec2 c){\n  float q = length(p.xy);\n  return dot(c,vec2(q,p.z));\n  }\n  \n  float nose(vec3 p , vec2 h){\n    vec3 q = abs(p);\n    return max(q.z-h.y, max(q.x*0.866025+p.y*0.5,-p.y)-h.x*0.5);\n  }\n float c1=0.0;  \nfloat head(vec3 p){\n  float b = length(p)-1.2;\n  float s1 = length(p+vec3(-0.4,0.3,1.0))-0.2;\n  float s2 = length(p+vec3(0.4,0.3,1.0))-0.2;\n  float s = min(s1,s2);\n  float f = smin(b,-s,-0.050);\n  c1=0.1/(0.1+f*f);\n  return f;\n  }\n  \nfloat sborka(vec3 p){\n  vec3 pp =p;\n  p.xz*=rot(iTime);\n  float h = head(p);\n  float n = nose(vec3(p.x,-p.y,p.z)+vec3(0.,0.,1.0),vec2(0.2));\n  float x = smin(h,-n,-0.050);\n float m = length(vec3(p.x/2.0,p.z+0.9,p.y*3.0-1.4))-mix(0.3,0.35,sin(iTime*4.0));\n   return smin(x,-m,-0.050);\n\n  }\n  \nfloat SDF(vec3 p){\n  vec3 pp = p;\n\n  p.xy = moda(p.xy,3.145926/4.0);\n  p.xy=mod(p.xy+sin(p.x),4.0);\n  p.yxz = min(p.xyz,cross(p.xyx,abs(pp))); \n  p.xz*=rot(iTime);\n  float s = sborka(p);\n  s = min(s,length(abs(p.y)));\n  \n  \n  return s;\n  }\n\nvoid mainImage (out vec4 fragColor, in vec2 fragCoord)\n{\n  vec2 uv = vec2(fragCoord.x / iResolution.x, fragCoord.y / iResolution.y);\n  uv -= 0.5;\n  vec2 reso = vec2(10,5);\n  uv /= vec2(iResolution.y / iResolution.x, 1.0);\n  vec2 uvx = vec2(fragCoord.x / reso.x, fragCoord.y / reso.y);\n  uvx -= 0.5;\n  uvx /= vec2(reso.y / reso.x, 1.0);\n  vec3 ro = vec3(0.001,0.001,-4); vec3 p =ro;\n  vec3 rd = normalize(vec3(-uv,1.));\n  vec3 col = vec3(1.);\n  float shad = 0.;\n  float dd =0.0;\n  bool hit = false;\n  for(float i =0.0; i<100.0; i++){\n    float d = SDF(p);\n    if(d<0.001) {shad=i/100.0;\n      hit = true;\n      break;}\n    if(dd>100.0) {dd=100.0; break;}\n    p+=d*rd;\n    dd+=d;    \n    }\n    float fog = 1.0-clamp(dd/100.0,0.0,1.0);\n    vec2 eps = vec2(0.001,0);\n    vec3 n = normalize(SDF(p)-vec3(SDF(p-eps.xyy),SDF(p-eps.xxy),SDF(p-eps.yyx)));\n    vec3 l = normalize(-vec3(1,3,5));\n    vec3 h = normalize(l-rd);\n    if(hit) col=max(0.0,dot(n,l))*fog*(vec3(0.0,0.300,0.4)+pow(max(0.0,dot(n,h)),1.3)*pow(max(0.0,dot(n,h)),10.0));\n    else  {\n        vec3 col2 = vec3(texture(iChannel0,vec2(mix(uv.x/1.0,uv.x/2.0,sin(iTime*0.3)),uvx)));\n       col=mix(col2.rgb+sin(uvx.y+mix(uvx.x,uvx.x+0.3,tan(iTime))),col2.rgb,tan(iTime*0.5));\n    }\n     col+=c1*vec3(4.,0.,0.);\n       \n  fragColor = vec4(clamp(col,0.0,2.0),0.0);\n}\n/*                        ______                     \n _________        .---\"\"\"      \"\"\"---.              \n:______.-':      :  .--------------.  :             \n| ______  |      | :                : |             \n|:______B:|      | |  DEMO  OR      | |             \n|:______B:|      | |                | |             \n|:______B:|      | |  DIE!          | |             \n|         |      | |                | |             \n|:_____:  |      | |                | |             \n|    ==   |      | :                : |             \n|       O |      :  '--------------'  :             \n|       o |      :'---...______...---'              \n|       o |-._.-i___/'             \\._              \n|'-.____o_|   '-.   '-...______...-'  `-._          \n:_________:      `.____________________   `-.___.-. \n                 .'.eeeeeeeeeeeeeeeeee.'.      :___:\n               .'.eeeeeeeeeeeeeeeeeeeeee.'.         \n              :____________________________:\n*/","name":"Image","description":"","type":"image"}]}