{"ver":"0.1","info":{"id":"lc3cR4","date":"1730302054","viewed":178,"name":"powstep?","username":"jeyko","description":"get potated","likes":10,"published":3,"flags":0,"usePreview":0,"tags":["curve","smoothstep","ease"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float powstep(float t, float pw){\n    int sgn = int(t > 0.5);\n    \n    float q = t;\n    \n    if(sgn == 1){\n        q = q - 0.5;\n        q = 0.5 - q;\n    } \n    float j = smoothstep(0.,1.0,q)*2.0;\n    j = pow(j, pw) ;\n    \n    if(sgn == 1){\n        j = 1. - j;\n        j += 1.;\n        j *= 0.5;\n    } else {\n        j *= 0.5;\n    }\n    return j;\n}\nfloat sdSegment( in vec2 p, in vec2 a, in vec2 b ){\n    vec2 pa = p-a, ba = b-a;\n    float h = clamp( dot(pa,ba)/dot(ba,ba), 0.0, 1.0 );\n    return length( pa - ba*h );\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ){\n    vec2 uv = fragCoord/iResolution.xy;\n    uv.y -= 0.5;\n    uv.y *= 1.06;\n    uv.y += 0.5;\n    vec3 col = vec3(0);\n    \n    float sd = 1000.0;\n    \n    float pw = 0.5 + 0.5 * sin(iTime);\n    pw *= 10.;\n    if(iMouse.z > 0.5){\n        pw = length(iMouse.xy/iResolution.xy)*15.0;\n    }\n    float liters = 130.0;\n    for(float i = 0.; i <= 1.0001; i += 1./liters){\n        vec2 pa = vec2(i,0);\n        vec2 pb = vec2(i + 1./liters,0);\n        pa.y = powstep(pa.x, pw);\n        pb.y = powstep(pb.x, pw);\n        sd = min(sd, sdSegment(uv, pa, pb));\n    }\n    \n    \n    col += smoothstep(fwidth(sd),0.,(sd) - 0.002);\n    col = sqrt(col);\n    \n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}