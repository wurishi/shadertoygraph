{"ver":"0.1","info":{"id":"sldSz7","date":"1639063212","viewed":253,"name":"Frequency Spectrum (FFT)","username":"Spi3lot","description":"Frequency Spectrum Test","likes":4,"published":1,"flags":8,"usePreview":0,"tags":["sound","fft","audio","frequency"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4df3Rn","filepath":"/media/a/3c33c415862bb7964d256f4749408247da6596f2167dca2c86cc38f83c244aa6.mp3","previewfilepath":"/media/ap/3c33c415862bb7964d256f4749408247da6596f2167dca2c86cc38f83c244aa6.mp3","type":"music","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    //ifft(iChannel0, iTime);\n\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n    \n    // Values are stored in the R/X/S component of the vec4, A/W/Q is always 1.0\n    //float value = texelFetch(iChannel0, ivec2(512.0 * uv.x, 0), 0).r;\n    float value = texture(iChannel0, vec2(uv.x, 0.25)).r;\n    \n    vec3 col = vec3(step(uv.y, value));\n\n    // Output to screen\n    fragColor = vec4(col, 1.0);\n}\n","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"vec2 mainSound( int samp, float time )\n{\n    return vec2(frame);\n}\n","name":"Sound","description":"","type":"sound"},{"inputs":[],"outputs":[],"code":"#define TWO_PI 6.28318530718\n\nfloat frame = 0.0;\n/*\nvoid ifft( sampler2D spectrum, float time )\n{\n    float sum = 0.0;\n    \n    for (int i = 0; i < 512; i++)\n    {\n        float amp = texelFetch(spectrum, ivec2(i,0), 0).r;\n        float freq = float(i+1) * 23.0;\n        sum += amp * sin(freq * time * TWO_PI);\n    }\n    \n    frame = sum;\n}\n*/","name":"Common","description":"","type":"common"}]}