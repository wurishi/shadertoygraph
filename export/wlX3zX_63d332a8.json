{"ver":"0.1","info":{"id":"wlX3zX","date":"1557090082","viewed":224,"name":"Chip Rain Audio Visualizer","username":"chronos","description":"Simple visualizer thing","likes":3,"published":1,"flags":32,"usePreview":0,"tags":["audio","visualizer"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n\n    float fade = \n        smoothstep(0., .5, uv.y) *\n        smoothstep(1., .5, uv.y) *\n        smoothstep(1., .8, uv.x) *\n        smoothstep(0., .2, uv.x)\n    ;\n    \n    fragColor = texture(iChannel0, uv) * fade;\n    \n}\n","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4sXGzn","filepath":"/media/a/a6a1cf7a09adfed8c362492c88c30d74fb3d2f4f7ba180ba34b98556660fada1.mp3","previewfilepath":"/media/ap/a6a1cf7a09adfed8c362492c88c30d74fb3d2f4f7ba180ba34b98556660fada1.mp3","type":"music","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n   \tfloat offset = iResolution.y/2.;\n    \n    if(fragCoord.y > offset)\n    {\n        vec2 uv = fragCoord.xy/iResolution.xy;\n        float scale = 1.25;\n        uv.x = abs(uv.x -  0.5) * 2. * scale;\n    \tvec2 smp_uv = vec2(uv.x, 0.9);\n        vec2 fft_uv = vec2(uv.x, 0.1);\n        \n        float smp = texture(iChannel0, smp_uv).r; // Audio sample\n        float fft = texture(iChannel0, fft_uv).r; // Fourier coefficient sample\n        \n        fragColor = vec4(\n            smp* 4. - 2.,\n            smp* 2. - 1. + fft,\n        \tfft,\n            1.\n        );\n    }\n    else\n    {\n        float speed = 1.;\n    \tfloat fps = 60.; // hopefully :)\n    \tint pan = int(speed * iResolution.y / fps);\n        ivec2 coord = ivec2(fragCoord) + ivec2(0, pan);\n   \t\tfragColor = texelFetch(iChannel1, coord, 0);\n    }\n}","name":"Buffer A","description":"","type":"buffer"}]}