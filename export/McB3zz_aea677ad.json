{"ver":"0.1","info":{"id":"McB3zz","date":"1703747248","viewed":42,"name":"A2DMetaball","username":"Leabemo","description":"mindis = min(mindis,mindis*dist);","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["2d"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//网格噪声\nvec2 random2(vec2 st){\n\n    return fract(sin(vec2(dot(st,vec2(127.1,311.7)),dot(st,vec2(269.5,183.3))))*43758.5453);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n    uv.x *= iResolution.x/iResolution.y;\n    \n    uv*=4.;\n    vec2 f = fract(uv);\n    vec2 i = floor(uv);\n    \n    float mindis = 1.;    \n    vec2 minpoint = vec2(1.);\n\n    //9个特征点，自己和周围的八个\n    for(int x=-1;x<=1;x++){\n        for(int y=-1;y<=1;y++){\n            vec2 offest = vec2(float(x),float(y));\n            vec2 point = random2(i+offest);\n            point = sin(point*6.2831 + iTime)*.5+.5;\n            vec2 diff = offest + point - f;\n            float dist = length(diff);\n\n            //metaball\n            mindis = min(mindis,mindis*dist);\n        }\n    }\n    \n    vec3 col = vec3(0.);\n    \n    //col += dot(minpoint,vec2(.3,.6));\n    \n    //center point\n    col += vec3(step(0.2,mindis));\n    //col += vec3(mindis);\n    \n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}