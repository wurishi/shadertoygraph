{"ver":"0.1","info":{"id":"fd33zX","date":"1630299126","viewed":78,"name":"complex logarithm","username":"Fylwind","description":"plot of the logarithm function on the complex plane","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["math","complex","logarithm"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float equation_mask(float z) {\n    float thickness = 0.05;\n    return min(1.0, pow(thickness / (1e-15 + abs(z)), 2.0));\n}\n\n// https://stackoverflow.com/a/17897228\nvec3 hsv2rgb(vec3 c)\n{\n    vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n    vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n    return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\nvec2 complex_exp(vec2 z) {\n    return vec2(exp(z.x) * cos(z.y), exp(z.x) * sin(z.y));\n}\n\nvec2 complex_log(vec2 z) {\n    float r = distance(z, vec2(0.0, 0.0));\n    float t = atan(z.y, z.x);\n    return vec2(log(r), t);\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n    vec4 baseColor = 1.5 * vec4(0.3, 0.7, 0, 1.0);\n    vec2 z = (fragCoord - iResolution.xy / 2.0) / min(iResolution.x, iResolution.y);\n    z *= 5.0;\n    float axes_mask = min(\n        1.0,\n        equation_mask(z.x / 0.3) + equation_mask(z.y / 0.3)\n        + equation_mask(pow(distance(mod(z.x + 0.5, 1.0), 0.5) * 32.0, 1.5))\n        + equation_mask(pow(distance(mod(z.y + 0.5, 1.0), 0.5) * 32.0, 1.5))\n    );\n    // choose your equation here:\n    vec2 w = complex_log(z);\n    // rendering\n    float wr1 = 0.0;\n    float wr2 = 4.0;\n    float wr = distance(w, vec2(0.0, 0.0));\n    float intensity = (wr - wr1) / (wr2 - wr1);\n    float clamped_intensity = clamp(0.0, 1.0, intensity);\n    float hue = atan(w.y, w.x) / radians(360.0);\n    float saturation = wr > wr2 ? 0.4 : 1.0;\n    float value = (1.0 - axes_mask) * (wr < wr1 ? 0.0 : mix(0.3, 1.0, clamp(0.0, 1.0, intensity)));\n    fragColor = vec4(hsv2rgb(vec3(hue, saturation, value)), 1.0);\n}\n","name":"Image","description":"","type":"image"}]}