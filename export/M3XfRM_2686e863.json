{"ver":"0.1","info":{"id":"M3XfRM","date":"1728154779","viewed":83,"name":"caleidoscope cosmos","username":"nayk","description":"originals https://www.shadertoy.com/view/mtyGWy https://www.shadertoy.com/view/stsXDl","likes":1,"published":3,"flags":0,"usePreview":0,"tags":["cosmos","caleidoscope"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define R(p,a,r)mix(a*dot(p,a),p,cos(r))+sin(r)*cross(p,a)\n#define H(h)(cos((h)*6.3+vec3(0,23,21))*.5+.5)\n#define n1Q(p) p *= ri(round(atan(p.x, p.y) * 10.) / 2.)\n#define ri(a) mat2(cos(a + asin(vec4(0,1.,-1.,0))))\nvec3 palette( float t ) {\nfloat time=mod(iTime,10.);\nif (time<5.){\n    vec3 a = vec3(0.5, 0.5, 0.5);\n    vec3 b = vec3(0.5, 0.5, 0.5);\n    vec3 c = vec3(1.0, 1.0, 1.0);\n    vec3 d = vec3(0.263,0.416,0.557);\n    return a + b*cos( 6.28318*(c*t+d) );\n}\nif (time>5. && time<7.5){\n    vec3 a = vec3(0.5, 0.5, 0.5);\n    vec3 b = vec3(0.1, 1.5, 1.5);\n    vec3 c = vec3(0.5, 1.0, 1.0);\n    vec3 d = vec3(1.0,0.5,0.3);\n    return a + b*cos( 6.28318*(c*t+d) );\n}\n\nif (time>7.5){\n    vec3 a = vec3(1.0, 0.5, 0.5);\n    vec3 b = vec3(1.1, 1.5, 1.5);\n    vec3 c = vec3(0.5, 1.0, 1.0);\n    vec3 d = vec3(0.5,1.5,0.3);\n    return a + b*cos( 6.28318*(c*t+d) );\n}\n   \n}\nfloat happy_star(vec2 uv, float anim)\n{\n    uv = abs(uv);\n    vec2 pos = min(uv.xy/uv.yx, anim);\n    float p = (2.0 - pos.x - pos.y);\n    return (2.0+p*(p*p-1.5)) / (uv.x+uv.y);      \n}\n \nvoid mainImage(out vec4 O, vec2 C)\n{\n    O=vec4(0);\n    vec3 p,q,r=iResolution,\n    \n    d=normalize(vec3((C*2.-r.xy)/r.y,1)); \n    \n    vec2 uv = (C * 2.0 - iResolution.xy) / iResolution.y;\n    n1Q(uv);\n    vec2 uv0 = uv;\n    vec3 finalColor = vec3(0.0);\n    float t = iTime * .1 + ((.25 + .05 * sin(iTime * .1))/(length(uv.xy) + .07)) * 2.2;\n\tfloat si = sin(t);\n\tfloat co = cos(t);\n\tmat2 ma = mat2(co, si, -si, co);\n    for (float i = 0.0; i < 4.0; i++) {\n        uv = fract(uv * 1.5) - 0.5;\n   n1Q(uv);\n        float d = length(uv) * exp(-length(uv0));\n  uv*=ma;\n        vec3 col = palette(length(uv0) + i*.4 -iTime*.4);\n\n        d = sin(d*8. -iTime)/8.;\n        d = abs(d);\n\n        d = pow(0.01 / d, 1.2);\n\n        finalColor += col * d;\n    }\n    for(float i=0.,a,s,e,g=0.;\n        ++i<70.;\n        O.xyz+=mix(vec3(1),H(g*.1),.8)*12./e/8e3\n    )\n    {\n        p=g*d;\n  p.z+=iTime;\n        a=30.;\n        p=mod(p-a,a*2.)-a;\n        s=3.;\n        for(int i=0;i++<8;){\n            p=.3-abs(p);\n            p.x<p.z?p=p.zyx:p;\n            p.z<p.y?p=p.xzy:p;\n            s*=e=1.7+sin(iTime*.021)*.1;\n            p=abs(p)*e-\n                vec3(\n                    15.*3.,\n                    120.+sin(iTime),\n                    8.*5.+cos(iTime)\n                 )+finalColor;\n         }\n         g+=e=length(p.xyyz)/s;\n         \n    }\n     uv *= 2.0 * ( cos(iTime * 2.0) -2.5); // scale\n    float anim = sin(iTime * 12.0) * 0.1 + 1.0;  // anim between 0.9 - 1.1 \n   O*= vec4(happy_star(uv, anim) * vec3(0.35,0.2,0.55)*10., 1.0);\n    O*=vec4(finalColor,1.);\n}","name":"Image","description":"","type":"image"}]}