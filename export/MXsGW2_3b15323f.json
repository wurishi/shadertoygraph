{"ver":"0.1","info":{"id":"MXsGW2","date":"1707952688","viewed":70,"name":"Valentine KIFS","username":"Sent","description":"A series of simple transforms applied several times to a heart. Default animates, mouse allows hand control","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["valentine"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float dot2( in vec2 v ) { return dot(v,v); }\n\n// credit iq for efficient heart sdf\nfloat sdHeart( in vec2 p )\n{\n    p.x = abs(p.x);\n\n    if( p.y+p.x>1.0 )\n        return sqrt(dot2(p-vec2(0.25,0.75))) - sqrt(2.0)/4.0;\n    return sqrt(min(dot2(p-vec2(0.00,1.00)),\n                    dot2(p-0.5*max(p.x+p.y,0.0)))) * sign(p.x-p.y);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord-.5*iResolution.xy)/iResolution.y;\n    vec2 mouse = iMouse.xy/iResolution.xy;\n    float t = iTime * .2;\n    \n    uv *= 15.;\n    \n        \n    if (iMouse.xy==vec2(0)) {\n        //float a = pow(t, .5) * .1;\n        float a = .5;\n        vec2 b = vec2(.5, .25);\n        mouse = a * vec2(2.*cos(1.670296*t), .25*sin(t)) + b;\n    }\n    \n    float phi = mouse.x * .25 * 3.14159265;\n    vec2 n = vec2(sin(phi), cos(phi));\n    \n    float scale = 1.;\n    uv *= .6;\n    scale *= .6; \n    \n    for (int i = 0; i < 7; i ++) {\n        float s = .05*(mouse.y-.5) + 1.05;\n        scale *= s;\n        uv *= s;\n        \n        uv.xy = abs(uv.yx);\n        uv.xy -= .7;\n        uv -= n*min(0., dot(uv, n))*(2.718 + .3*(mouse.y-.5));\n    }\n  \n    float d = sdHeart(uv);\n    \n    float f = smoothstep(1./iResolution.y, .0, .05*d/scale);\n    vec3 col = mix(.3*vec3(133., 0., 255.)/255., vec3(255, 84., 232.)/255., f);\n\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}