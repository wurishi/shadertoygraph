{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[{"channel":0,"type":"texture","id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"}}],"code":"vec3 scanline(vec2 coord, vec3 screen)\n{\n\tscreen.rgb -= sin((coord.y + (iTime * 29.0))) * 0.02;\n\treturn screen;\n}\n\nvec2 crt(vec2 coord, float bend)\n{\n\t// put in symmetrical coords\n\tcoord = (coord - 0.5) * 2.0;\n\n\tcoord *= 1.1;\t\n\n\t// deform coords\n\tcoord.x *= 1.0 + pow((abs(coord.y) / bend), 2.0);\n\tcoord.y *= 1.0 + pow((abs(coord.x) / bend), 2.0);\n\n\t// transform back to 0.0 - 1.0 space\n\tcoord  = (coord / 2.0) + 0.5;\n\n\treturn coord;\n}\n\nvec3 sampleSplit(sampler2D tex, vec2 coord)\n{\n\tvec3 frag;\n\tfrag.r = texture(tex, vec2(coord.x - 0.01 * sin(iTime), coord.y)).r;\n\tfrag.g = texture(tex, vec2(coord.x                          , coord.y)).g;\n\tfrag.b = texture(tex, vec2(coord.x + 0.01 * sin(iTime), coord.y)).b;\n\treturn frag;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n\tuv.y = 1.0 - uv.y; // flip tex\n\tvec2 crtCoords = crt(uv, 3.2);\n\n\t// shadertoy has tiling textures. wouldn't be needed\n\t// if you set up your tex params properly\n\tif (crtCoords.x < 0.0 || crtCoords.x > 1.0 || crtCoords.y < 0.0 || crtCoords.y > 1.0)\n\t\tdiscard;\n\n\t// Split the color channels\n\tfragColor.rgb = sampleSplit(iChannel0, crtCoords);\n\n\t// HACK: this bend produces a shitty moire pattern.\n\t// Up the bend for the scanline\n\tvec2 screenSpace = crtCoords * iResolution.xy;\n\tfragColor.rgb = scanline(screenSpace, fragColor.rgb);\n}\n","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"4sf3Dr","date":"1367005789","viewed":4512,"name":"CRT Effect","username":"Jasper","description":"some example for somebody","likes":41,"published":1,"flags":0,"usePreview":1,"tags":["crt","scanline","channelsplit"],"hasliked":0,"parentid":"","parentname":""}}