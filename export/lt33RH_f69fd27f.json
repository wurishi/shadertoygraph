{"ver":"0.1","info":{"id":"lt33RH","date":"1467881053","viewed":673,"name":"Pixel Contract/Expand","username":"Leukbaars","description":"useful for teleporter or charging weapon type effects in games","likes":13,"published":1,"flags":0,"usePreview":0,"tags":["pixel","contract"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float seed = 0.69; //----------------------------------------------------------starting seed - change for different looks\nconst float particles = 100.0; //----------------------------------------------change particle count\nfloat res = 50.0; //-----------------------------------------------------------pixel resolution (higher is smaller)\nfloat direction =1.0; //-------------------------------------------------------0.0 for expand, 1.0 for contract\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = (-iResolution.xy + 2.0*fragCoord.xy) / iResolution.y;\n   \tfloat clr = 0.0;  \n     \n    //seed = (seed+floor(iTime));\n    \n    float iSphere = 1.05-length(uv);\n    if(iSphere>0.0)\t//remove tests outside of influence sphere\n    {\n    \n    \tfor( float i=0.0; i<particles; i+=1.0 )\n        {\n\t\t\tseed+=i+tan(seed);\n      \t  \tvec2 tPos = (vec2(cos(seed),sin(seed)));\n        \n            vec2 pPos = vec2(0.0,0.0);\n       \t \tfloat speed=i/particles+.4713*(cos(seed)+1.5)/1.5;\n        \tfloat timeOffset = iTime*speed+(speed);\n        \tfloat timecycle = timeOffset-floor(timeOffset); \n        \n       \t \tpPos=mix(tPos,pPos,1.0+direction-timecycle);\n        \n      \t  \tpPos = floor(pPos*res)/res; //-----------------------------------------comment this out for smooth version \n\n    \t\tvec2 p1 = pPos;\n    \t\tvec4 r1 = vec4(vec2(step(p1,uv)),1.0-vec2(step(p1+1.0/res+i/particles/res,uv)));\n    \t\tfloat px1 = r1.x*r1.y*r1.z*r1.w*speed;\n        \n\t   \t \tclr += px1;\n    \t}\n    }\n\tfragColor = (vec4(clr)*vec4(0.1, 2.5, 0.5,1.0))*(1.0-length(uv));\n}","name":"Image","description":"","type":"image"}]}