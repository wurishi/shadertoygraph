{"ver":"0.1","renderpass":[{"outputs":[{"channel":0,"id":"4dfGRr"}],"inputs":[{"channel":0,"type":"webcam","id":"4sf3zn","filepath":"/presets/webcam.png","sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}}],"code":"#define pi 3.14159265359\n\nvec4 blend_with_center(vec2 center, vec2 uv, vec2 diff) {\n    vec2 centered_uv = uv - center;\n    float shift = 0.03;\n    vec3 col = vec3(\n        texture(iChannel0, centered_uv).r,\n        texture(iChannel0, vec2(centered_uv.x, \n                                centered_uv.y+shift)).g,\n        texture(iChannel0, vec2(centered_uv.x, \n                                centered_uv.y+2.*shift)).b\n    );\n    float alpha = 1.-smoothstep(0.,0.4,length(centered_uv-diff));\n    return vec4(col, alpha);\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    ////////////////////\n    ///    Clones    ///\n    ////////////////////\n    \n    vec2 uv = fragCoord/iResolution.xy; \n    vec4 base = texture(iChannel0, uv);\n    \n    vec4 col_1 = blend_with_center(vec2(0.1, 0.), uv, vec2(0.75, 0.5));\n    vec4 col_2 = blend_with_center(vec2(-0.1, 0.), uv, vec2(0.25, 0.5));\n    \n    float alpha_clone = col_1.a + col_2.a;\n    vec4 clone_col = col_1.a*col_1 + col_2.a*col_2;\n    clone_col /= alpha_clone;\n    if (alpha_clone == 0.)\n        clone_col = vec4(1.);\n    alpha_clone = (alpha_clone > 1.) ? 1.: alpha_clone;\n    \n    fragColor = mix(base, clone_col, alpha_clone);\n    // fragColor = max(base, clone_col*alpha_clone);\n    \n    \n    ///////////////////////////////////////\n    ///    Overlaying with \"plyonka\"    ///\n    ///////////////////////////////////////\n    \n    vec2 new_pos;\n    vec2 shift = vec2(15./iResolution.x, 0.);\n    \n    if (uv.x < 0.5) {\n        new_pos = vec2(uv.x/2., uv.y);\n        // new_pos = vec2((uv.x+0.5+1.)/2., uv.y);\n    } else {\n        new_pos = vec2((uv.x+1.)/2., uv.y);        \n        shift *= -1.;\n    \t// new_pos = vec2((uv.x-0.5)/2., uv.y);\n    }\n    \n    vec4 overlay = vec4(\n        texture(iChannel0, new_pos).r,\n        texture(iChannel0, new_pos+shift).g,\n        texture(iChannel0, new_pos+2.*shift).b,\n        1.\n    );\n    \n    fragColor = mix(fragColor, overlay, pow(2.*abs(uv.x-0.5), 2.));\n}\n\n\n\n\n\n\n\n\n\n\n\n\n","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":true,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"3dGczK","date":"1734267774","viewed":39,"name":"Dreamy.No.4","username":"avartation","description":"yeah buddy","likes":0,"published":1,"flags":2,"usePreview":0,"tags":["heheaaa"],"hasliked":0,"parentid":"","parentname":""}}