{"ver":"0.1","info":{"id":"Wl3XDB","date":"1581588070","viewed":59,"name":"warmwave","username":"rotmoset","description":"Playing with polars & line","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["polar"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\nfloat line(vec2 p, vec2 a,vec2 b, float width, float blur) { // --- distance to segment with caps\n    p -= a, b -= a;\n    float h = clamp(dot(p, b) / dot(b, b), 0., 1.);// proj coord on line\n    float d = length(p - b * h);                      // dist to segment\n    \n    return smoothstep(width-blur, width+blur, d);\n}\n\n\n#define PI 3.14159\n\nvec4 rays(vec2 uv)\n{\n    vec4 c = vec4(0.0);\n    uv.y += sin(uv.x*uv.x * 5.0) / 4.0;\n    \n    float armLength = 0.05 + (sin(iTime / 4.0) + 1.0) / 8.0;\n    \n    \n    vec2 pc = vec2(atan(uv.x,uv.y),sqrt(length(uv)));\n    \n    pc.y += 0.1+(sin(iTime*0.1+pc.x*50.0 ) + 1.0) / 4.0;\n    \n    vec4 rays = vec4(1.0-line(pc, vec2(-PI/3.0,armLength), vec2(PI / 3.0,armLength), 0.5, 0.02), 0.0,0.0,0.0);\n    \n\n   \trays.g += smoothstep(0.4,0.0,length(uv)) * rays.r;\n    \n    rays *= smoothstep(0.025,0.05,length(uv));\n    \n    c += rays;  \n    \n    return c;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    \n    vec4 c = vec4(0);\n    \n    c.b = 0.4;\n    \n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n    \n    uv -= 0.5;\n    uv.x *= iResolution.x / iResolution.y;\n    \n    \n    \n\tc += rays(vec2(uv.x/2.0, uv.y/2.0 +0.13));\n    \n    fragColor = c;\n    \n    \n    \n    fragColor *= pow(smoothstep(-0.8,-0.0,uv.y), 0.8);\n\n    \n}","name":"Image","description":"","type":"image"}]}