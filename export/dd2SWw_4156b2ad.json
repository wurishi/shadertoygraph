{"ver":"0.1","info":{"id":"dd2SWw","date":"1670439157","viewed":202,"name":"geompattern","username":"karanbpathak","description":"inspired by https://iquilezles.org/articles/distfunctions2d/","likes":25,"published":1,"flags":0,"usePreview":0,"tags":["2d","sdf","geometry","pattern"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//inspired by https://iquilezles.org/articles/distfunctions2d/\n\nvec3 BLUE = vec3(0.18, 0.13, 0.27);\nvec3 BACK = vec3(0.89, 0.85, 0.76);\nvec3 DBAC = vec3(0.88, 0.80, 0.59);\nvec3 ORAN = vec3(0.83, 0.25, 0.011);\nvec3 YELL = vec3(0.83, 0.71, 0.40);\nvec3 TRQO = vec3(0.88, 0.80, 0.59);\n\n\nmat2 rX(float theta) {\n    float c = cos(theta);\n    float s = sin(theta);\n    return mat2(\n        vec2(c, -s),\n        vec2(s, c)\n    );\n}\n\n// Rotation matrix around the Y axis.\nmat2 rY(float theta) {\n    float c = cos(theta);\n    float s = sin(theta);\n    return mat2(\n        vec2(c, s),\n        vec2(-s, c)\n    );\n}\n\n// Rotation matrix around the Z axis.\nmat2 rZ(float theta) {\n    float c = cos(theta);\n    float s = sin(theta);\n    return mat2(\n        vec2(c, -s),\n        vec2(s, c)\n    );\n}\n\n// Identity matrix.\nmat2 iy() {\n    return mat2(\n        vec2(1, 0),\n        vec2(0, 1)\n    );\n}\nstruct se\n{\n    vec3 col;\n    float t;\n};\nfloat sdSphere(vec2 p, float r, vec2 offset, mat2 transform)\n{\n    p = (p - offset) * transform;\n    return length(p) - r;\n}\nfloat sdRoundedBox( in vec2 p, in vec2 b, in vec4 r, vec2 offset, mat2 transform)\n{\n    p = (p - offset) * transform;\n    r.xy = (p.x>0.0)?r.xy : r.zw;\n    r.x  = (p.y>0.0)?r.x  : r.y;\n    vec2 q = abs(p)-b+r.x;\n    return min(max(q.x,q.y),0.0) + length(max(q,0.0)) - r.x;\n}\nfloat sdArcBox( in vec2 p, in vec2 b, in vec4 r, vec2 offset, mat2 transform)\n{\n    p = (p - offset) * transform;\n    r.xy = (p.x>0.0)?r.xy : r.zw;\n    r.x  = (p.y>0.0)?r.x  : r.y;\n    vec2 q = abs(p)-b+r.x;\n    return length(max(q,0.0)) - r.x;\n}\nfloat sdTriangle( in vec2 p, in vec2 p0, in vec2 p1, in vec2 p2, vec2 offset, mat2 transform)\n{\n    p = (p - offset) * transform;\n    vec2 e0 = p1-p0, e1 = p2-p1, e2 = p0-p2;\n    vec2 v0 = p -p0, v1 = p -p1, v2 = p -p2;\n    vec2 pq0 = v0 - e0*clamp( dot(v0,e0)/dot(e0,e0), 0.0, 1.0 );\n    vec2 pq1 = v1 - e1*clamp( dot(v1,e1)/dot(e1,e1), 0.0, 1.0 );\n    vec2 pq2 = v2 - e2*clamp( dot(v2,e2)/dot(e2,e2), 0.0, 1.0 );\n    float s = sign( e0.x*e2.y - e0.y*e2.x );\n    vec2 d = min(min(vec2(dot(pq0,pq0), s*(v0.x*e0.y-v0.y*e0.x)),\n                     vec2(dot(pq1,pq1), s*(v1.x*e1.y-v1.y*e1.x))),\n                     vec2(dot(pq2,pq2), s*(v2.x*e2.y-v2.y*e2.x)));\n    return -sqrt(d.x)*sign(d.y);\n}\nvoid acol(inout se surf, in float t, in vec3 col)\n{\n    if (surf.t > t) \n    {\n        surf.col = col;\n    }\n    surf.t = min(surf.t, t);\n}\nse map(vec2 p)\n{\n    se surf;\n    surf.t = sdRoundedBox(p, vec2(0.68, 0.2), vec4(0.0), vec2(-1.3,0.8), iy());//WORK\n    surf.col = BLUE;\n    acol(surf,sdRoundedBox(p, vec2(0.4, 0.1), vec4(0.0), vec2(1.379,-0.9), iy()),BLUE);//platform \n    acol(surf,sdRoundedBox(p, vec2(1.6, 0.01), vec4(0.0), vec2(1.0,-0.2), iy()), BLUE);//table\n    acol(surf,sdRoundedBox(p, vec2(0.6, 0.13), vec4(0.0), vec2(1.18,-0.3411), iy()), YELL);//drawer\n    acol(surf,sdRoundedBox(p, vec2(0.23, 0.08), vec4(0.01), vec2(-0.4,-0.113), iy()), ORAN);//hand1\n    acol(surf,sdArcBox(p, vec2(0.69, 0.87), vec4(0.0,0.0,0.57,0.0), vec2(-0.62,-0.27), iy()), TRQO);//man back\n    acol(surf,sdArcBox(p, vec2(0.6, 0.4), vec4(0.4,0.0,0.0,0.0), vec2(-0.62,0.2), iy()), BLUE);//man face\n    acol(surf,sdRoundedBox(p, vec2(0.34, 0.05), vec4(0.0), vec2(-0.96,-0.27), iy()), ORAN);//man belt\n    acol(surf,sdRoundedBox(p, vec2(0.32, 0.2), vec4(0.0,0.0,0.0,0.26), vec2(-0.98,-0.52), iy()), BLUE);//man back2\n    acol(surf,sdArcBox(p, vec2(0.5, 0.6), vec4(0.6,0.5,0.0,0.0), vec2(-1.8,-0.0), iy()), ORAN);//chair back\n    acol(surf,sdRoundedBox(p, vec2(0.6, 0.2), vec4(0.2,0.2,0.0,0.0), vec2(-1.2,-0.89), iy()), ORAN);//chair seat\n    acol(surf,sdRoundedBox(p, vec2(0.2, 0.2), vec4(0.2,0.0,0.0,0.0), vec2(-0.47,-0.52), iy()), BLUE);//man leg1\n    acol(surf,sdRoundedBox(p, vec2(0.2, 0.15), vec4(0.0,0.0,0.0,0.0), vec2(-0.41,-0.82), rX(1.5)), BLUE);//man leg2\n    acol(surf,sdRoundedBox(p, vec2(0.099, 0.07), vec4(0.1,0.1,0.0,0.0), vec2(-0.07,-0.12), iy()), YELL);//man hand2\n    acol(surf,sdRoundedBox(p, vec2(0.01, 0.04), vec4(0.01,0.0,0.01,0.0), vec2(-0.12,-0.01), iy()), BLUE);//man pen\n    acol(surf,sdTriangle(p, vec2(0.1,0.1), vec2(0.1,0.3), vec2(0.3,0.1), vec2(0.2,-0.29), iy()), ORAN);//coffee 1\n    acol(surf,sdTriangle(p, vec2(0.1,0.1), vec2(0.1,0.3), vec2(0.3,0.1), vec2(0.6,0.1), rX(3.14)), YELL);//coffee 2\n    acol(surf,sdTriangle(p, vec2(0.1,0.16), vec2(0.3,0.16), vec2(0.1,0.1), vec2(-0.5,0.04), iy()), YELL);//man nose\n    acol(surf,sdArcBox(p, vec2(0.07, 0.07), vec4(0.07,0.07,0.0,0.0), vec2(0.4,0.07), iy()), ORAN);//smoke 1\n    acol(surf,sdArcBox(p, vec2(0.05, 0.05), vec4(0.05,0.05,0.0,0.0), vec2(0.4,0.191), rX(3.14)), BLUE);//smoke 2\n    acol(surf,sdArcBox(p, vec2(0.05, 0.05), vec4(0.05,0.05,0.0,0.0), vec2(0.4,0.192), rX(3.14)), YELL);//smoke 2.1\n    acol(surf,sdArcBox(p, vec2(0.03, 0.03), vec4(0.03,0.03,0.0,0.0), vec2(0.4,0.27), iy()), ORAN);//smoke 3\n    acol(surf,sdArcBox(p, vec2(0.05, 0.05), vec4(0.05,0.05,0.0,0.0), vec2(0.30,-0.08), rX(3.14)), YELL);//handle\n    acol(surf,sdRoundedBox(p, vec2(0.03, 0.11), vec4(0.0), vec2(1.12,-0.079), iy()), BLUE);//lamp stand\n    acol(surf,sdRoundedBox(p, vec2(0.004, 0.16), vec4(0.0), vec2(1.193,0.14), rX(0.7)), ORAN);//lamp stand 1\n    acol(surf,sdRoundedBox(p, vec2(0.004, 0.16), vec4(0.0), vec2(1.24,0.14), rX(0.7)), ORAN);//lamp stand 1.1\n    acol(surf,sdRoundedBox(p, vec2(0.004, 0.16), vec4(0.0), vec2(1.2,0.45), rX(-0.7)), ORAN);//lamp stand 2\n    acol(surf,sdRoundedBox(p, vec2(0.004, 0.2), vec4(0.0), vec2(1.26,0.43), rX(-0.7)), ORAN);//lamp stand 2.2\n    acol(surf,sdRoundedBox(p, vec2(0.006, 0.09), vec4(0.0), vec2(1.05,0.58), rY(1.59)), ORAN);//lamp stand 3\n    acol(surf,sdTriangle(p, vec2(0.14,0.2), vec2(0.26,0.16), vec2(0.14,0.1), vec2(1.1,0.18), rX(0.24)), BLUE);//lamp hook\n    acol(surf,sdTriangle(p, vec2(0.17,0.1), vec2(0.3,0.2), vec2(0.3,0.12), vec2(0.72,0.35), rX(-0.22)), ORAN);//lamp bulb 1\n    acol(surf,sdTriangle(p, vec2(0.17,0.1), vec2(0.3,0.2), vec2(0.3,0.11), vec2(1.11,0.74), rX(-0.22)*rY(3.14)), YELL);//lamp bulb 2\n    acol(surf,sdArcBox(p, vec2(0.05, 0.1), vec4(0.07,0.07,0.0,0.0), vec2(0.81,0.5), rX(-0.29)), BLUE);//bulb handle\n    acol(surf,sdArcBox(p, vec2(0.06, 0.06), vec4(0.06,0.06,0.0,0.0), vec2(0.81,0.5), rX(2.9)), YELL);//bulb 1\n    acol(surf,sdArcBox(p, vec2(0.06, 0.06), vec4(0.06,0.06,0.0,0.0), vec2(0.81,0.49), rX(2.8)), DBAC);//bulb 1.1\n    acol(surf,sdRoundedBox(p, vec2(0.1, 0.17), vec4(0.0), vec2(1.2,-0.63), iy()), TRQO);//table stand\n    return surf;\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 p = (2.0*fragCoord - iResolution.xy) / iResolution.y;\n    \n    BACK = 0.8*mix(BACK, vec3(1.0), 1.0-length(p-vec2(0.2,-0.2))*1.2);\n    BLUE = 0.8*mix(BLUE, vec3(1.0), 1.0-length(p-vec2(0.2,-0.2))*1.2);\n    ORAN = 0.8*mix(ORAN, vec3(0.6,0.0,0.0), length(p-vec2(0.2,-0.2))*1.2);\n    TRQO = 0.8*mix(TRQO, vec3(0.0,0.6,0.6), length(p-vec2(0.2,-0.2))*1.2);\n    YELL = mix(YELL, vec3(0.9,0.7,0.1), 1.0-smoothstep(0.0, 0.01,length(p-vec2(0.2,-0.2))));\n\n    se surf = map(p);\n    \n    vec3 col = (surf.t < 0.0) ? surf.col : BACK;\n    \n\n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}