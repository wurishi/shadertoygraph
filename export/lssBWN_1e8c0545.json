{"ver":"0.1","info":{"id":"lssBWN","date":"1496274620","viewed":86,"name":"SingleFlower","username":"misspurple","description":"Messing around creating a flower shape.","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["flower"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const float epsilon = 0.01;\nconst float pi = radians(180.);\nconst float two_pi = pi * 2.;\nconst float leaves = 5.;\n\nbool singleTest(vec2 point, vec2 center, float size, out float brightness)\n{\n    vec2 offset = point - center;\n    float dist = length(offset);\n    if (dist < epsilon)\n    {\n     \tbrightness = 1.5;\n    \treturn true;\n    }\n   \tfloat prop_y = dist/size;\n    if (prop_y > 1.)\n    {\n        brightness = 0.;\n        return false;\n    }\n    \n    \n    float angle = atan(offset.x, offset.y) + iTime;\n    \n    float prop_x = mod(((angle / two_pi) * leaves) + 0.5, 1.);\n    float from_mid = abs(prop_x - 0.5) * 2.;\n    float from_apex = from_mid - 0.2;\n    float threshold = max(\n    \t\t\t\t\t\t1. - 4. * from_mid,\n    \t\t\t\t\t\t1. - 0.6*(from_apex * from_apex) \n    \t\t\t\t\t);\n    \n    \n    brightness = max(1.,\n                     max( 2.0 - 8. * prop_y,\n                         max(\n                         0.3 + 0.5 * prop_y,\n                         1.5 - 8.*from_mid)));\n    return prop_y < threshold;\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 center = iResolution.xy / 2.;\n    float radius = min(iResolution.x, iResolution.y) / 2.;\n    \n    float brightness = 0.;\n    bool in_area = singleTest(fragCoord, center, radius, brightness);\n    if (in_area)\n    {\n\t\tvec2 uv = fragCoord.xy / iResolution.xy;\n\t\tfragColor = vec4(uv,0.5+0.5*sin(iTime),1.0) * brightness;\n    }\n        \n}","name":"Image","description":"","type":"image"}]}