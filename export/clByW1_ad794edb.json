{"ver":"0.1","info":{"id":"clByW1","date":"1691695535","viewed":40,"name":"pills track","username":"suwqymncwec","description":"pills","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["mouse"],"hasliked":0,"parentid":"DtByW1","parentname":"cell nonsense"},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define Pi 3.14159\n\nvec2 rotateUV(vec2 uv, float rotation, vec2 mid) {\n    return vec2(\n      cos(rotation) * (uv.x - mid.x) + sin(rotation) * (uv.y - mid.y) + mid.x,\n      cos(rotation) * (uv.y - mid.y) - sin(rotation) * (uv.x - mid.x) + mid.y\n    );\n}\n\nvec3 colormap(float v, float vmin, float vmax) {\n   vec3 c = vec3(1.);\n   float dv;\n   if (v < vmin) v = vmin;\n   if (v > vmax) v = vmax;\n   dv = vmax - vmin;\n   if (v < (vmin + 0.25 * dv)) {\n      c.r = 0.;\n      c.g = 4. * (v - vmin) / dv;\n   } else if (v < (vmin + 0.5 * dv)) {\n      c.r = 0.;\n      c.b = 1. + 4. * (vmin + 0.25 * dv - v) / dv;\n   } else if (v < (vmin + 0.75 * dv)) {\n      c.r = 4. * (v - vmin - 0.5 * dv) / dv;\n      c.b = 0.;\n   } else {\n      c.g = 1. + 4. * (vmin + 0.75 * dv - v) / dv;\n      c.b = 0.;\n   }\n   return c;\n}\n\nfloat line(float w, float h, float smooth_, vec2 uv) {\n    vec2 wh2 = vec2(w,h)/2.;\n    vec2 a = vec2(.5)+wh2;\n    vec2 b = vec2(.5)-wh2;\n    vec2 f = smoothstep(a, a+smooth_, uv)-smoothstep(b, b+smooth_, uv);\n    float fr = 1.-f.x*f.y;\n    return fr;\n}\n\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    vec2 st = fragCoord/iResolution.xy;\n    vec2 mp = iMouse.xy/iResolution.xy;\n    st *= iResolution.x/iResolution.y;\n    vec2 uv = st;\n    \n    float size = 4.;\n    float sf = pow((size-distance(mp*size, st*size))/size,2.);\n    float s = size-distance(mp*size, floor(st*size));\n    float ss = floor(s)/size;\n    s = pow(s/size, 2.);\n    \n    uv = fract(uv*size);\n    uv = rotateUV(uv, s*Pi*2.+sin(iTime*ss)/2., vec2(.5));\n    \n    float sc = .002+(1.-s/size)/50.;\n    float fr = line(.6, .1, sc, uv);\n    \n    vec3 color = (1.-fr)*colormap(sf*uv.x, 0., .2);\n    vec3 bg = fr*colormap(s/size+(sf*uv.x+s*uv.y)/6., 0., 1.)/5.;\n    color += bg;\n\n    fragColor = vec4(color,1.0);\n}\n\n\n","name":"Image","description":"","type":"image"}]}