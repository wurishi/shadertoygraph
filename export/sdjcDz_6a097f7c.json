{"ver":"0.1","info":{"id":"sdjcDz","date":"1643392598","viewed":165,"name":"Potentially","username":"zommuter","description":"Just some swirling electric charges and the resulting potential field on a logarithmic-ish scale.","likes":9,"published":1,"flags":0,"usePreview":0,"tags":["potential","electric","charge"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// CC-BY-NC-SA\n#define N_CHARGES 137.0\n#define SEED -31415.\n#define SPEED 0.75\n\nfloat N21(vec2 p, float offset) {  // shamelessly taken from https://www.shadertoy.com/view/lscczl, CC-BY-NC-SA\n\tvec3 a = fract(vec3(p.xyx) * (vec3(213.897, 653.453, 253.098) + offset));\n    a += dot(a, a.yzx + 79.76);\n    return fract((a.x + a.y) * a.z);\n}\n\nvec2 N22(vec2 p) {  // forgot the definition in the video, but I guess this one's okay\n    return vec2(N21(p, 32.), N21(p, -314.159));\n}\n\nvec2 N12(float seed) {\n    return N22(vec2(seed));\n}\n\nfloat N11(float seed) {  // yes, yes, I know, horribly inefficient, sue me\n    return N21(vec2(seed, 1./seed), seed);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv_ar = fragCoord/iResolution.y;  // aspect ratio 1:1, but x > 1 possible\n    float aspect = iResolution.x/iResolution.y;\n    \n    float potential = 0.;    \n    for(float n_charge=0.; n_charge < N_CHARGES; n_charge++) {\n        float x_omega_charge = N11(n_charge + SEED + N_CHARGES + 1./137.);\n        float y_omega_charge = N11(n_charge - SEED + N_CHARGES - 1./137.);\n        float t = SPEED * iTime + SEED;\n        vec2 uv_charge = 0.5*vec2(sin(x_omega_charge*t), cos(y_omega_charge*t))+.5;\n        float charge = (N11(n_charge + SEED - N_CHARGES)-.5)*1e2;\n        float r = max(.0005 * abs(charge), length(uv_ar - uv_charge*vec2(aspect, 1.)));\n        potential += charge/r;\n    }\n\n    float l2 = log(1. + abs(potential)/100.)/4.;\n    float l1 = -sign(potential) * l2;\n    float l3 = sign(potential) * l2;\n    vec3 col = vec3(l1, length(uv_ar-.5)/2., l3);\n    \n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}