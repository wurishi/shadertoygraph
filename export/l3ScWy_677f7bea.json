{"ver":"0.1","info":{"id":"l3ScWy","date":"1727650369","viewed":99,"name":"Tubos Poliedro 3a","username":"Elsio","description":"continuando meu projeto: soca tanh() em tudo! \n(shove, force, punch, I don't know how Americans say this.)","likes":23,"published":1,"flags":0,"usePreview":0,"tags":["gears","glass","refract","object","vidro"],"hasliked":0,"parentid":"l3ByWy","parentname":"Tubos Poliedro 3"},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define cor(a) (cos(a * 6.3 + vec4(0, 23, 21, 0)) * .5 + .5)\n#define rot(a) mat2(cos(a + vec4(0, 11, 33, 0)))\n#define t iTime\n\nfloat torus(vec3 q) {\n    return\n        length(\n            vec2(\n                length(q.xy) - .6\n                    - tanh(cos(atan(q.x, q.y) * 5.) * 2.) * .08, \n                q.z\n            )\n        ) - .09;\n}\n    \nvoid rotObj(inout vec3 p){\n    p.yz *= rot(tanh(cos(t * 1.3) * 4. - 3.));\n    p.xy *= rot(tanh(cos(t * 1.2) * 3.) * .7);\n    //p.xz *= rot(cos(t * .8) * 2.);\n}\n\nfloat map(vec3 p) {\n    rotObj(p);\n    \n    vec3 q;\n    float s, j, d;\n    \n    s = 1.;\n    while(j++ < 5.){\n        q = p;\n        q.xy *= rot(j * 6.28 / 5.);\n        q.xz *= rot(6.28 / 6.);\n        d = torus(q);\n        d = j < 4.? d : abs(d);\n        s = min(s, d);\n    }\n    return s;\n}\n\n\nvoid mainImage(out vec4 o, vec2 u) {\n    float d, layers, s, i, b,\n          t = iTime;\n          \n    vec2 r = iResolution.xy;\n         u = (u - r * .5) / r.y;\n         \n    vec3 D = normalize(vec3(u, 1)), p;\n    o *= 0.;\n    \n    while(i++ < 44.) {\n        s = map(p);\n        \n        d += max(s, 2e-3) * .6;\n        \n        p = d * D;\n        p.z += - 1.8; \n        \n        s < .02 \n            ? o += (.01 - s) / d * i / 41. + cor(i / 25.) / 75.\n            : o;\n    }\n}","name":"Image","description":"","type":"image"}]}