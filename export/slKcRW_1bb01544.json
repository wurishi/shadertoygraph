{"ver":"0.1","info":{"id":"slKcRW","date":"1661082779","viewed":151,"name":"Self reflection","username":"grom12345","description":"This is made for #WCCChallenge:\nhttps://www.twitch.tv/sableraph?sr=a","likes":10,"published":1,"flags":0,"usePreview":0,"tags":["2d","sdf","cartoon","circle","snake"],"hasliked":0,"parentid":"7lKczR","parentname":"smin uroboros"},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define pi 3.1415926535\n\nmat2 Rot(float a) {\n    float s=sin(a), c=cos(a);\n    return mat2(c, -s, s, c);\n}\nvec2 N(float angle) {\n    return vec2(sin(angle), cos(angle));\n}\n\nfloat circle(vec2 p, float r){\n   return length(p)-r;\n}\n\nvec4 smin(vec4 a, vec4 b, float k) {\n    float h = clamp(0.5 + 0.5*(a.a-b.a)/k, 0.0, 1.0);\n    return mix(a, b, h) - k*h*(1.0-h);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float t = iTime*0.05+100.;\n    vec2 uv = (fragCoord - iResolution.xy * 0.5) / iResolution.y;\n    uv*=2.;\n    \n    vec2 id = floor(uv);\n    float dir = 0.;\n    mat2 rot = Rot(dir*pi);\n    uv*=rot;\n    vec2 center = vec2(0.);\n    \n    vec4 d1 = vec4(vec3(0), 10000.);\n    vec4 d2 = vec4(vec3(0), 10000.);\n    float n = 45.;\n    float r = 0.04;//point size\n    float dr = 0.08;//point scale\n    float dk = 3.;//max k\n    float w = 1.;//1 - circle, 2 - eight\n    float sk = 3.;//speed of the worm\n    \n    float f = pi*2./n;\n    float z = t*16.;\n    float s = 3.;//speed of circle rotation\n    float i1 = -z*s+floor(z*0.5)*(2.*sk+2.*s);\n    float i2 = i1+n;;\n    z = z*f*sk+pi-f*s;//+dir*f*n/4.;\n    for(float i=i1;i<i2;i++){\n       float a = i*f;\n\n       vec2 co = vec2(cos(a), sin(a*w)*1.);//position of single circle\n       co.x = sign(co.x)*pow(abs(co.x), w)*w;\n\n       float c = circle(uv-co*0.7-center,r+dr*(cos((a)*2.)*.5+.5));\n       \n       float ka = (a+z*(dir*2.-1.))*1.;\n       float k = cos(ka)*.5+.5;\n       k = pow(k, 250.)*dk;\n       \n       float tr = mod(i-i1, 3.);\n       vec3 col = vec3(tr!=0., tr!=1.,tr!=2.);\n       vec4 cc = vec4(col, c);\n       \n       k*= 9./n;\n       if (i-i1<n/3.) d1 = smin(d1, cc, k);\n       else  d2 = smin(d2, cc, k);\n    }\n    vec4 dd = smin(d1, d2,0.)*5.;\n\n    vec3 col = vec3(0);\n    col+=dd.rgb*smoothstep(.01,.0, dd.a);\n   \n    float y = z+0.07;\n    vec2 co = vec2(cos(y), sin(y*w)*1.);//eye\n    co.x = sign(co.x)*pow(abs(co.x), w)*w;\n    float c = circle(uv-co*0.79-center,0.02);\n  \n    float d = dd.a*.5;\n    col-=vec3(5)*smoothstep(.01,.0, c);\n   \n  \n   fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}