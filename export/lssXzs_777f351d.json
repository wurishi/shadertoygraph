{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"const float AaSqrt = 4.;\nconst float ShutterSpeed = 1.0/30.0;\n\n#define PI  3.14159265359\n#define TAU 6.28318530718\n\n\nfloat Saw(float t)\n{\n\treturn fract(t);\n}\n\nfloat SmoothSaw(float t)\n{\n\treturn smoothstep(0.0, 1.0, fract(t));\n}\n\n\nfloat SmootherSaw(float t)\n{\n\treturn smoothstep(0.0, 1.0, smoothstep(0.0, 1.0, fract(t)));\n}\n\t\nvec3 Scene(vec2 q, float t)\n{\n\tt = SmoothSaw(t/2.);\n\t\n\tfloat r = length(q);\n\tfloat a = atan(q.y,q.x);\n\tfloat u = 0.0;\n\t\n\n\tu = 10.*a + 3.*TAU*t*(1.- 4.0*(1. - r)*sin(TAU*t));\n\tu = 20.0*r*(1.0 + 0.1*cos(u));\n\n\t\n\tu = 0.5 + 0.5*cos(u);\n\tu = min(floor(2.0*u),1.0);\n\t\n\tu *= 1.0-smoothstep(1.,1.+0.00001,r);\n\n\tvec3 Col1 = vec3(0.01);\n\tvec3 Col2 = vec3(0.95);\n\t\n\treturn mix(Col1, Col2, u);\n}\n\n\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tfloat Ratio = 0.45*min(iResolution.x, iResolution.y);\n\t\n\tconst float AaCount = AaSqrt*AaSqrt;\n\t\n\t// Render scene in linear space with motion blur and AA:\n\tvec3 ColSum = vec3(0);\n\tfor(float F=0.0; F<AaCount; F++)\n\t{\n\t\t// AA:\n\t\tvec2 Off = vec2(1. + F/AaSqrt, mod(1. + F,AaSqrt)) / AaSqrt;\n\t\tvec2 UV = (fragCoord.xy  + Off - iResolution.xy/2.0) / Ratio;\t\n\t\t\n\t\t// Motion blur:\n\t\tfloat t = iTime + F*ShutterSpeed / AaCount;\n\t\t\n\t\t// Render:\n\t\tColSum += Scene(UV, t);\n\t}\n\t\n\tColSum /= AaCount;\n\t\n\t// Apply gamma:\n\tColSum = pow(ColSum, vec3(1.0/2.2));\n\t\n\tfragColor = vec4(ColSum,1.0);\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"lssXzs","date":"1406061093","viewed":346,"name":"Spiral01","username":"AntoineC","description":"My first Shadertoy.","likes":17,"published":1,"flags":0,"usePreview":0,"tags":["2d","polar"],"hasliked":0,"parentid":"","parentname":""}}