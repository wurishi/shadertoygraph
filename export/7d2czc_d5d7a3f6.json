{"ver":"0.1","info":{"id":"7d2czc","date":"1643931034","viewed":191,"name":"Neon Drops","username":"singintime","description":"Neon drops","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["rain","neon","drops"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const uint seed = 1u;\n\nconst uint m = 0x80000000u;\n\nconst vec3 colors[6] = vec3[] (\n    vec3(1.0, 0.5, 0.1),\n    vec3(1.0, 0.1, 0.5),\n    vec3(0.5, 1.0, 0.1),\n    vec3(0.1, 1.0, 0.5),\n    vec3(0.5, 0.1, 1.0),\n    vec3(0.1, 0.5, 1.0)\n);\n\nfloat rand(uint seed){\n    return float((seed * 1103515245u + 12345u) % m) / float(m);\n}\n\nvec3 drop(vec2 p, float timeOffset, int colorIndex)\n{\n    float t = mod(iTime - timeOffset, 10.0);\n    float l = 10.0 * length(p);\n    float d = t - l;\n    float r = 1.0 + t;\n    float s = 1.0 + d;\n    \n    \n    if (d < 0.0) {\n        return vec3(0.0, 0.0, 0.0);\n    }\n    \n    float a = 3.0 * cos(10.0 * d) / (r * r) / (s * s);\n    return a * colors[colorIndex];\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{   \n    float size = min(iResolution.x, iResolution.y);\n    vec2 norm = fragCoord / size;\n    vec2 ratio = iResolution.xy / size;\n    \n    float x = rand(seed);\n    float y = rand(uint(x * float(m)));\n    float z = rand(uint(y * float(m)));\n    \n    fragColor = vec4(0.0, 0.0, 0.0, 1.0);\n    \n    for (int i = 0; i < 100; i++) {\n    \n        vec2 p = norm - vec2(x, y) * ratio;\n        vec3 c = drop(p, 0.1 * float(i), int(z * 6.0));\n\n        x = rand(uint(z * float(m)));\n        y = rand(uint(x * float(m)));\n        z = rand(uint(y * float(m)));\n\n        // Output to screen\n        fragColor += vec4(c, 0.0);\n    }\n}","name":"Image","description":"","type":"image"}]}