{"ver":"0.1","info":{"id":"dl2czz","date":"1691440722","viewed":87,"name":"explosion image","username":"Efim","description":"at explosion second image split to 2*n parts","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["explosion"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGRn","filepath":"/media/a/10eb4fe0ac8a7dc348a2cc282ca5df1759ab8bf680117e4047728100969e7b43.jpg","previewfilepath":"/media/ap/10eb4fe0ac8a7dc348a2cc282ca5df1759ab8bf680117e4047728100969e7b43.jpg","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XdX3Rn","filepath":"/media/a/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg","previewfilepath":"/media/ap/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.14159265359\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float n = 6.0;  //count of parts of image\n    float r = 0.9;  //radius explosion\n    float n2 = 2.0; //scale of second image\n    float t = iTime * 2.0;\n    \n    \n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = (2.0*fragCoord-iResolution.xy)/iResolution.y;\n    float asp = iResolution.x / iResolution.y;\n    //uv = uv - 1.0;\n    \n    float alfa = atan(uv.y/uv.x/asp);\n    \n    float d = PI/n;\n    float d2 = d*cos(t)*step(0.0, cos(t));\n    \n    float gm = fract(alfa/d)*d;\n    \n    \n    vec4 color = texture(iChannel1, uv + 0.5);\n    vec2 tran = uv;\n    float l = length(uv);\n    float s = 0.0;\n    if (cos(t) >= 0.0)\n        s = l - r*cos(t);\n    if (gm < d2)\n        s = -1.0;\n    \n    \n    if (cos(t) >= 0.0 && gm > d2 && s >= 0.0)\n    {       \n       tran = uv * s / l;\n    }\n    \n    \n    \n    if ((step(abs(tran.x), 0.5/n2) * step(abs(tran.y), 0.5/n2) == 1.0) && (s >= 0.0))\n        color = texture(iChannel0, n2*tran + 0.5);\n    \n    fragColor = color;\n}","name":"Image","description":"","type":"image"}]}