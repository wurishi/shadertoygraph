{"ver":"0.1","info":{"id":"MXSfWK","date":"1729948327","viewed":84,"name":"index tree 2","username":"Elsio","description":"como acender um ramo específico de forma independente? é o que estou procurando saber. ","likes":13,"published":1,"flags":0,"usePreview":0,"tags":["fractal","test","raymarch","rotation","estudy"],"hasliked":0,"parentid":"M3jBWG","parentname":"index tree"},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// fractais: https://www.shadertoy.com/playlist/dcjXDc\n#define rot(r) mat2(cos(r + vec4(0, 33, 11, 0)))\n#define h22(p) fract(29. * sin(p + p) * sin(p).yx)\n#define t  iTime * .4\n\nfloat cyl(vec3 q, float j, float th) {\n    q *= pow(.83, j);\n    float d = j == 8.\n                   ? length(q + vec3(0, -.2, 0)) - .12 \n                   : max(length(q.zx) - th, abs(q.y) - .5) * .85;\n    return d;\n}\n\nvec3 h13(float i){ // tks fabrice\n    int I = int(i) % 7 + 1;\n    return vec3(I / 4, I / 2 % 2, I % 2) * .5;\n}\n\n\nfloat id, id2;\n\nfloat base(vec3 p){\n    return \n    min(\n        max(\n            abs(length(p.zx) - 1.) - .1,\n            abs(p.y + .2) - .2\n        ),\n        max(\n            length(p.zx) - 1.,\n            abs(p.y + .5) - .2\n        )\n    );\n}\n\nfloat tree(vec3 q){\n    float f, e, j, s = 1.;\n    \n    id2 = 0.;\n    \n    while(j++ < 8.){\n        e = cyl(q, j, .1);\n        if(e < s) \n            id2 = f,\n            id = j;\n        \n        s = min(s, e);\n        q.xz *= rot(cos(t * j * .3) * 3.14);\n        \n        f += step(q.x, 0.);\n        f *= 2.;\n            \n        q.x = abs(q.x) - .3;\n        q.y -= 1.; \n        q.xy *= rot(3.14/6.);\n        q *= 1.3;\n    }\n    \n    return s;\n}\n\n\nvoid mainImage(out vec4 o, vec2 u) {\n    vec2 r = iResolution.xy;\n         u = (u         - r / 2.) / r.y;\n         \n    vec3 p = vec3(0, 1.4, -5.5), q, \n         D = normalize(vec3(u, 1)); \n        \n    float s = 1., d, i,  \n          steps = 28.; \n    \n    o *= 0.;\n    float T = mod(floor(t * 7.), 128.);\n    \n    float e = .6;\n    D.yz *= rot(e);\n    p.yz *= rot(e);\n    \n    while(i++ < steps){\n        s = min(tree(p), base(p));\n        d += s;\n        \n        o.rgb += mix(\n                     exp(-s * 30.) / 40., // apagado\n                     exp(-s * 4.) / 20.,  // aceso\n                     id2 == T? id : .0\n                 ) * h13(id2);\n\n        p += s * D;\n    } \n}","name":"Image","description":"","type":"image"}]}