{"ver":"0.1","info":{"id":"X3sBDn","date":"1728272899","viewed":18,"name":"something fractal","username":"hakrackete","description":"u know, from that one 3B1B video","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["fractal"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"struct Att{\n    vec2 pos;\n    vec3 color;\n    float mass;\n    };\n    \n\nvoid drawAttractor(in vec2 fragCoord,Att att, inout vec3 col){\n    if (distance(att.pos,fragCoord) < 10.0){\n        col =  att.color;\n    }\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    \n    Att myMouse;\n    myMouse.pos = iMouse.xy;\n    myMouse.color = vec3(1.0,0.0,0.0);\n    myMouse.mass = 5.0;\n    \n    Att green;\n    green.pos = vec2(120,100);\n    green.color = vec3(0.0,1.0,0.0);\n    green.mass = 12.0;\n    \n    \n    Att blue;\n    blue.pos = vec2(400,400);\n    blue.color = vec3(0.0,0.0,1.0);\n    blue.mass = 10.0;\n    \n    \n    Att yellow;\n    yellow.pos = vec2(700,300);\n    yellow.color = vec3(1.0,1.0,0.0);\n    yellow.mass = 10.0;\n    \n    int num = 4;\n    Att attArray[4] = Att[4](myMouse,green,blue,yellow);\n    \n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n\n    // Time varying pixel color\n    vec3 col = 0.5 + 0.5*cos(iTime+uv.xyx+vec3(0,2,4));\n\n    // Output to screen\n    \n    vec2 location = fragCoord.xy;\n    vec2 direction = vec2(0.0,0.0);\n    float greatest_dist = 0.0;\n    for(int i = 0; i <1000; i++){\n        \n        for (int j = 0; j <= num; j++){\n            \n            float dist = max(1.0,distance(location,attArray[j].pos));\n            float F = (1.0 * attArray[j].mass) / (pow(dist,3.0 + (float(iFrame)/250.0)));\n            direction += F * normalize(attArray[j].pos - location);\n        }\n        // direction *= 0.999;\n        location += direction;\n    }\n    \n    for (int j = 0; j <= num; j++){\n        float dist = distance(location,attArray[j].pos);\n        if(dist< greatest_dist || greatest_dist < 0.1){\n            col = attArray[j].color;\n            greatest_dist = dist;\n        }\n\n    }\n\n    vec2 pos = vec2(100.0,100.0);\n    for (int i = 0; i <= num; i++){\n        drawAttractor(fragCoord,attArray[i],col);\n        }\n    fragColor = vec4(col,1.0);\n    \n    \n}","name":"Image","description":"","type":"image"}]}