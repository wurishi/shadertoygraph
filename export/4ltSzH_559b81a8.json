{"ver":"0.1","info":{"id":"4ltSzH","date":"1478155875","viewed":256,"name":"2D Line","username":"SFPGMR","description":"2D Line","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["2d"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec4 backcolor = vec4(0.,0.,0.,0.0);\n\nvec4 line2(vec2 p3,vec2 p1,vec2 p2,float t,vec4 c){\n\n\tfloat y2y1 = p2.y - p1.y;\n    float x2x1 = p2.x - p1.x;\n    float y3y1 = p3.y - p1.y;\n    float min_x = min(p1.x,p2.x);\n    float min_y = min(p1.y,p2.y);\n    float max_x = max(p1.x,p2.x);\n    float max_y = max(p1.y,p2.y);\n\n    if(y2y1 == 0.){\n        if(p3.x >= min_x && p3.x <= max_x){\n            return smoothstep(t/iResolution.y, 0., abs(y3y1) ) * c;\n        } else {\n            return backcolor;\n        }\n    }\n    \n    if(x2x1 == 0.){\n        if((p3.y >= min_y) && (p3.y <= max_y)){\n            return smoothstep(t/iResolution.x, 0., abs(p1.x - p3.x) ) * c;\n        } else {\n            return backcolor;\n        }\n    }\n\t\n    float x4 = (x2x1 * x2x1 * p3.x + y3y1 * x2x1 * y2y1 + y2y1 * y2y1 * p1.x) / (y2y1 * y2y1 + x2x1 * x2x1);\n    if(x4 >= min_x && x4 <= max_x){\n        float y4 = y2y1 / x2x1 * (x4 - p1.x) + p1.y;\n        float d = length(p3 - vec2(x4,y4));\n        return smoothstep(t/iResolution.y, 0., d ) * c;\n    } \n    return backcolor;\n}\n\nvec4 line3( in vec2 p, in vec2 a, in vec2 b,in float t,in vec4 c )\n{\n    vec2 pa = p - a;\n    vec2 ba = b - a;\n    float h = clamp( dot(pa,ba)/dot(ba,ba), 0.0, 1.0 );\n    float d = length( pa - ba*h );\n    \n    return smoothstep(t/iResolution.y, 0., d ) * c;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 r =  2.0*vec2(fragCoord.xy - 0.5*iResolution.xy)/iResolution.xy;\n    /*\n    fragColor = line2(r,vec2(-1.0,-1.0),vec2(1.0,1.0),3.,vec4(1.0,1.0,1.0,1.0));\n    fragColor += line2(r,vec2(0.0,-0.5),vec2(0.0,0.8),3.,vec4(1.0,1.0,1.0,1.0));\n    fragColor += line2(r,vec2(-0.5,-0.5),vec2(0.5,-0.5),3.,vec4(1.0,1.0,1.0,1.0));\n    fragColor += line2(r,vec2(1.0,-1.0),vec2(-1.0,1.0),3.,vec4(1.0,0.0,1.0,1.0));\n    fragColor += line2(r,vec2(-0.1,-0.25),vec2(-0.15,0.5),3.,vec4(1.,0.,0.,1.));\n    fragColor += line2(r,vec2(-0.1,-0.25),vec2(0.15,0.5),3.,vec4(1.,0.,0.,1.));\n    */\n    fragColor = line3(r,vec2(-1.0,-1.0),vec2(1.0,1.0),3.,vec4(1.0,1.0,1.0,1.0));\n    fragColor += line3(r,vec2(0.0,-0.5),vec2(0.0,0.8),3.,vec4(1.0,1.0,1.0,1.0));\n    fragColor += line3(r,vec2(-0.5,-0.5),vec2(0.5,-0.5),3.,vec4(1.0,1.0,1.0,1.0));\n    fragColor += line3(r,vec2(1.0,-1.0),vec2(-1.0,1.0),3.,vec4(1.0,0.0,1.0,1.0));\n    fragColor += line3(r,vec2(-0.1,-0.25),vec2(-0.15,0.5),3.,vec4(1.,0.,0.,1.));\n    fragColor += line3(r,vec2(-0.1,-0.25),vec2(0.15,0.5),3.,vec4(1.,0.,0.,1.));\n    \n}","name":"Image","description":"","type":"image"}]}