{"ver":"0.1","info":{"id":"XlcBzB","date":"1539976670","viewed":805,"name":"Ahziel - Groovy flower","username":"Ahziel","description":"Journey through the \"Book of shader\" - Shape / Function\nI do shaders to learn and have fun. If you have any advice, don't hesitate to tell me ! ","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["sin","disk"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.14159265359\n\nfloat circle(in vec2 pos, in vec2 uv, in float radius)\n{\n    float dist = distance(pos,uv);\n    return 1.0 - smoothstep(radius - 0.01,radius, dist);\n}\n\nfloat oscillation(in float angle, in float freq, in float rand)\n{\n    return sin(mod( sign(rand - 0.5) * angle + iTime,2. *PI) * freq * floor(rand * 10.));\n}\n\nfloat rand(vec2 co){\n    return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n    vec2 aspect = iResolution.xy / min(iResolution.x, iResolution.y);\n    uv *= aspect;\n    \n    vec2 center = vec2(0.5) * aspect;\n    vec2 pos = uv - center;\n    float angle = atan(pos.x,pos.y)+PI;\n    \n    // Background color\n    vec3 background = vec3(0.0, 0.0, 0.0);\n    vec3 col = background;\n    \n    // Information for the loop\n    const float numberOfCircle = 10.;\n    const float numberOfOscillation = 10.;\n    \n    for(float i = 0.; i < numberOfCircle; i++)\n    {\n       \tfloat ste = 1.0/numberOfCircle;\n\n        // Information for the function\n        float osci = 0.;\n        float amplitude = 0.01;\n\n        for(float j = 0.; j < numberOfOscillation; j++)\n        {\n            float freq = 1.0;\n            osci += oscillation(angle,freq,rand(vec2(j ,i )));\n        } \n        \n        // Information about circle\n        vec3 circleColor = vec3(ste * i,  ste * i, 1.0);\n        float radius = 0.45 - i * (ste/2.) + osci * amplitude;\n\n\t\t// Creation of the circle\n        col = mix(col,circleColor,circle(center,uv,radius));\n    }\n\n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}