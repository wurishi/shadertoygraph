{"ver":"0.1","info":{"id":"Xl3fW7","date":"1540113700","viewed":185,"name":"truchet_pattern_0","username":"balkhan","description":"Mouseable.\nkind of a truchet pattern, I guess.\n","likes":8,"published":1,"flags":0,"usePreview":0,"tags":["julia","pattern"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec2 \tcmult(vec2 a, vec2 b)\n{\n    return mat2(a,-a.y,a.x) * b; // Thanks Fabrice !\n    // return (vec2(a.x * b.x - a.y * b.y, a.x * b.y + a.y * b.x));\n}\n\n#define mylength(u) max(abs(u.x), abs(u.y))\n\nfloat pattern(vec2 u)\n{\n    float ret, domain, r;\n    vec2 iu = floor(u*25.);\n\n    u = fract(u*25.)-.5;\n    \n    r = .5;\n    \n    iu = cmult(iu, iu);\n    iu= cmult(iu, .0151*vec2(iTime*.1, -iTime*.1+.1));\n    u -= .5*vec2(sign(mod(iu.y+.5, 2.)-1.), sign(mod(iu.x+.5, 2.)-1.));\n\n    u= cmult(u, 1.0*vec2(15.*.1, -15.*.1+.1));\n\n    domain = mylength(u)-r;\n    \n    domain = max(domain, r-domain);\n\n    ret = step( domain, .3);\n\n    return ret;\n}\n\nvoid mainImage( out vec4 o, in vec2 f )\n{\n    vec2 R = iResolution.xy, u = (f - R.xy/2.)/R.y;\n\n    o.xyz = vec3(0.);\n    \n    vec2 m = (iMouse.xy-R.xy*1.0)/R.xy;\n    \n    vec2 uu = u * 2., oo = uu*1.0+vec2(.0);\n    for (float i = .0;i < 25.; i++)\n    {\n    \too = cmult(oo, oo) + m;\n        if (dot(oo, oo) > 16.)\n            break;\n    }\n    if (length(oo) < 4.)\n    u = oo;\n    \n    o.x += pattern(u);\n    o.x += pattern(-u);\n //   o.x += pattern(-u+vec2(-.05, .05));\n //   o.x += pattern(+u+vec2(-.05, .05));\n    o.yz = o.xx;\n}","name":"Image","description":"","type":"image"}]}