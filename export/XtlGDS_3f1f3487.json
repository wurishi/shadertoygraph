{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"vec2 points[6];\nfloat abs_sum(vec2 xs){\n\treturn abs(xs[0]) + abs(xs[1]);\n}\n\nvec3 color_from_point(vec2 point){\n\treturn vec3(point[0]+cos(iTime*0.02)*0.1+0.1,sin(iTime*0.01)*0.1+0.1,point[1]+0.3);\n}\n\nvec3 minimumDistColor(vec2 point){\n\tvec2 del = points[0] - point;\n\tfloat min_dist_sq = abs_sum(del);\n\tvec3 min_color = color_from_point(points[0]);\n\tif(min_dist_sq<0.005) return color_from_point(vec2(0.5,0.2))-vec3(0.2,0.2,0.2);\n\tfor(int i=0;i<6;i++){\n\t\tdel = points[i]-point;\n\t\tfloat d = abs_sum(del);\n\t\tif(d < 0.005) return color_from_point(vec2(0.5,0.2))-vec3(0.2,0.2,0.2);\n\t\tif(d < min_dist_sq){\n\t\t\tmin_color = color_from_point(points[i]);\n\t\t\tmin_dist_sq = d;\n\t\t}\n\t}\n\treturn min_color;\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tpoints[0] = vec2(0.4+sin(iTime)*0.1,0.3+cos(iTime*3.1)*0.05);\n\tpoints[1] = vec2(0.9+sin(iTime*1.1)*0.1,0.1+cos(iTime*3.3+.2)*0.05);\n\tpoints[2] = vec2(0.2+sin(iTime*0.2)*0.1,0.5+cos(iTime*2.1+.2)*0.05);\n\tpoints[3] = vec2(0.8+sin(iTime*0.4)*0.1,0.4+cos(iTime*2.7+.7)*0.05);\n\tpoints[4] = vec2(0.2+sin(iTime*2.4)*0.13,0.15+cos(iTime*1.5+.7)*0.09);\n\tpoints[5] = vec2(0.5+sin(iTime*0.6)*0.13,0.15+cos(iTime*0.7+.7)*0.09);\n\tfloat u = fragCoord.x / iResolution.x;\n\tfloat v = fragCoord.y / iResolution.x;\n\tvec2 uv = vec2(u,v);\n\n\tfragColor = vec4(minimumDistColor(uv),1.0);\n\n}\n","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"XtlGDS","date":"1424821411","viewed":693,"name":"Manhattan Voronoi","username":"triclops200","description":"Voronoi Diagram using Manhattan Distance","likes":11,"published":1,"flags":0,"usePreview":0,"tags":["manhattan","voroni"],"hasliked":0,"parentid":"","parentname":""}}