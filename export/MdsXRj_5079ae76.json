{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"float sdSphere( vec3 p, float s )\n{\n  return length(p)-s;\n}\n\nfloat sdBox( vec3 p, vec3 b )\n{\n  vec3 d = abs(p) - b;\n  return min(max(d.x,max(d.y,d.z)),0.0) +\n         length(max(d,0.0));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec3 eye = vec3(0, 0, -5);\n    vec3 up = vec3(0, 1, 0);\n    vec3 right = vec3(1, 0, 0);\n    float epsilon = 0.001;\n    float maxDistance = 100.0;\n\n    //vec2 uv = fragCoord.xy / iResolution.xy;\n\t\n\tvec2 ndcXY = -1.0 + 2.0 * fragCoord.xy / iResolution.xy;\n\t\n\t// aspect ratio\n\tfloat aspectRatio = iResolution.x / iResolution.y;\n\t\n\t// scaled XY which fits the aspect ratio\n\tvec2 uv = ndcXY * vec2( aspectRatio, 1.0 );\n\t\n\t\n    float focalLength = 2.0;\n    vec3 forward = normalize(cross(right, up));\n    \n    vec3 planePos = right * uv.x + up * uv.y;\n\t\n    vec3 pImagePlane = eye + forward * focalLength + planePos;\n    vec3 rayDirection = normalize(pImagePlane - eye);\n\n    vec4 color = vec4(0,0.5*(sin(iTime*2.0) + 1.5),0,1); // Sky color\n\n    float t = 0.0;\n    const float maxSteps = 16.0;\n    for(float i = 0.0; i < maxSteps; ++i)\n    {\n        vec3 p = pImagePlane + rayDirection * t;\n        //float d = length(p) - 0.5; // Distance to sphere of radius 0.5\n        float d = sdSphere(p, 1.0 + sin(iTime));\n\t\tif(d > maxDistance) {break;}\n        if(d < epsilon)\n        {\n\t\t\tcolor = vec4(i*0.1+0.1,0.2,0.5,0);\n            break;\n        }\n\n        t += d;\n    }\n\n    fragColor = color;\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"MdsXRj","date":"1404512681","viewed":125,"name":"Ray marched something","username":"Tsarpf","description":"simple test in ray marching ","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["distancefield","raymarch"],"hasliked":0,"parentid":"","parentname":""}}