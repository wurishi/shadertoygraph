{"ver":"0.1","info":{"id":"lXdGW8","date":"1716434839","viewed":292,"name":"  test sequence-num-16","username":"jorge2017a2","description":"test sequence-num-16","likes":22,"published":1,"flags":8,"usePreview":0,"tags":["2d","sound","sequence","z","dragonball"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XdX3Rr","filepath":"/media/a/aea6b99da1d53055107966b59ac5444fc8bc7b3ce2d0bbb6a4a3cbae1d97f3aa.bin","previewfilepath":"/media/ap/aea6b99da1d53055107966b59ac5444fc8bc7b3ce2d0bbb6a4a3cbae1d97f3aa.bin","type":"volume","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//por jorge2017a2\n//22-may-2024\n//referencia\n//https://iquilezles.org/articles/distfunctions2d\n///numero 16--Dragon Ball Z\n//  test sequence-num-16\n\n#define antialiasing(n) n/min(iResolution.y,iResolution.x)\n#define S3(d,b) smoothstep(0.0625/antialiasing(2.0),0. , d - (b) )\n\n#define PI     3.14159265\n#define TWO_PI 6.28318530\n#define POLY(N) (in vec2 p, in vec2[N] v) {const int n=v.length();float d=dot(p-v[0],p-v[0]);float s=1.;for(int i=0,j=n-1;i<n;j=i,i++){vec2 e=v[j]-v[i];vec2 w=p-v[i];vec2 b=w-e*clamp(dot(w,e)/dot(e,e),0.,1.);d=min(d,dot(b,b));bvec3 cond=bvec3(p.y>=v[i].y,p.y<v[j].y,e.x*w.y>e.y*w.x);if(all(cond)||all(not(cond))) s=-s;}return s*sqrt(d);}\n\n\n\nfloat sdPoly11_1 POLY(11)\nvec2  pt11_1[11]=vec2[]\n(\nvec2(0.0023,1.0000),vec2(1.1429,0.9954),vec2(1.1429,0.8802),vec2(1.1728,0.7166),vec2(1.1406,0.6475),\nvec2(1.1797,0.4516),vec2(1.1290,0.3548),vec2(1.1382,0.0253),vec2(1.1290,0.0115),vec2(0.0023,0.0046),\nvec2(0.0023,1.0000)  \n);\n\nfloat sdPoly10_1 POLY(10)\nvec2  pt10_1[10]=vec2[](\nvec2(0.1751,0.9332),vec2(0.3618,0.9286),vec2(0.7880,0.7834),vec2(0.7903,0.7673),vec2(0.7788,0.7604),\nvec2(0.2673,0.8433),vec2(0.0115,0.8111),vec2(0.0230,0.8272),vec2(0.1313,0.9101),vec2(0.1751,0.9332)  \n);\n\n\n\nfloat sdPoly10_1b POLY(10)\nvec2  pt10_1b[10]=vec2[](\nvec2(0.8548,0.7627),vec2(0.8756,0.7558),vec2(1.1175,0.7558),vec2(1.1336,0.7535),vec2(1.1705,0.7120),\nvec2(1.1452,0.6866),vec2(0.9447,0.7304),vec2(0.8433,0.7396),vec2(0.8456,0.7535),vec2(0.8548,0.7627)  );\n\n\nfloat sdPoly9_1 POLY(9)\nvec2  pt9_1[9]=vec2[](\nvec2(0.1429,0.8341),vec2(0.2995,0.8410),vec2(0.6751,0.7857),vec2(0.6336,0.7373),vec2(0.6106,0.7281),\nvec2(0.2143,0.7488),vec2(0.1912,0.7604),vec2(0.1659,0.7834),vec2(0.1429,0.8341)  );\n\n\nfloat sdPoly7_1 POLY(7)\nvec2  pt7_1[7]=vec2[](\nvec2(0.8825,0.7350),vec2(0.9562,0.7304),vec2(1.1129,0.6889),vec2(1.0714,0.6429),vec2(1.0599,0.6429),\nvec2(0.9147,0.6636),vec2(0.8825,0.7350)  );\n\n\nfloat sdPoly5_1 POLY(5)\nvec2  pt5_1[5]=vec2[](\nvec2(0.3387,1.0000),vec2(0.6290,0.9931),vec2(0.1567,0.7857),vec2(0.2811,0.9124),vec2(0.3387,1.0000)  );\n\n\nfloat sdPoly5_2 POLY(5)\nvec2  pt5_2[5]=vec2[](\nvec2(0.9539,0.9977),vec2(1.2834,0.9954),vec2(0.8871,0.8318),vec2(0.9378,0.9194),vec2(0.9539,0.9977)  );\n\n\nfloat sdPoly5_3 POLY(5)\nvec2  pt5_3[5]=vec2[](\nvec2(1.1083,0.1889),vec2(1.543917,0.0622),vec2(1.539894,0.0115),vec2(1.1221,-0.0092),vec2(1.1083,0.1889)  );\n\n\n\n\nfloat Sdf_I(float distA, float distB)\n\t{ return max(distA, distB);}\nfloat Sdf_U(float distA, float distB)\n\t{ return min(distA, distB);}\nfloat Sdf_D(float distA, float distB)\n\t{ return max(distA, -distB);}\n\n\n\n\n\nvec3 DFB(vec3 pColObj, vec3 colOut, float distObj )\n{ colOut = mix(colOut,pColObj ,S3( distObj,0.0));\n  colOut = mix(colOut,vec3(0.0),S3(abs( distObj)-0.005,0.0));\n  return colOut;\n}\n\n\n\nfloat sdCircle( vec2 p, float r )\n{ return length(p) - r;}\n\nfloat divf(float a, float b)\n{\n    //evita crash por 1/0.0 =Infinito=error, en compilar\n    if(b==0.0)\n    {b=0.00001;}\n    return a/b;\n}\n\n\nfloat sdSegment( in vec2 p, in vec2 a, in vec2 b )\n{  vec2 pa = p-a, ba = b-a;\n    float h = clamp( divf( dot(pa,ba),dot(ba,ba)), 0.0, 1.0 );\n    return length( pa - ba*h );\n}\n\n\n\n\nvec3 cabeza(vec2 p, vec3 colout)\n{\nvec2 A,B, med;\nfloat dfin;\nfloat d1, r1 ;\n    float sd11_1 = sdPoly11_1(p, pt11_1);\n    vec3 colc=vec3(0.93,0.65,0.55);\n    colout=DFB(colc,colout,sd11_1 );\n    return colout;\n}\n\nvec3 CejaIzq(vec2 p, vec3 colout)\n{\nvec2 A,B, med;\nfloat dfin;\nfloat d1, r1 ;\n\n    float sd10_1 = sdPoly10_1(p, pt10_1);\n    vec3 colc=vec3(0.0);\n    colout=DFB(colc,colout,sd10_1 );\n    return colout;\n}\n\nvec3 CejaDer(vec2 p, vec3 colout)\n{vec2 A,B, med;\nfloat dfin;\nfloat d1, r1 ;\n    float sd10_1b = sdPoly10_1b(p, pt10_1b);\n    vec3 colc=vec3(0.0);\n    colout=DFB(colc,colout,sd10_1b );\n    return colout;\n}\n\n\n\nvec3 OjoDer(vec2 p, vec3 colout)\n{vec2 A,B, med;\nfloat dfin;\nfloat d1, r1 ;\n\nfloat sd7_1 = sdPoly7_1(p, pt7_1);\n    vec3 colc=vec3(1.0);\n    colout=DFB(colc,colout,sd7_1 );\n    return colout;\n}\n\n\nvec3 OjoIzq(vec2 p, vec3 colout)\n{\nvec2 A,B, med;\nfloat dfin;\nfloat d1, r1 ;\n\n   float sd9_1 = sdPoly9_1(p, pt9_1);\n    vec3 colc=vec3(1.0);\n    colout=DFB(colc,colout,sd9_1 );\n    return colout;\n\n\n}\n\nvec3 PupilaIzq(vec2 p, vec3 colout)\n{ vec2 A,B, med;\nfloat dfin;\nfloat d1, r1 ;\n\n    A=vec2(0.4424,0.82719);\n    r1=0.10599;\n     d1=sdCircle(p-A,r1);\n\n    A=vec2(0.45392,0.82949);\n    r1=0.0553;\n    float d2=sdCircle(p-A,r1);\n    \n    float sd9_1 = sdPoly9_1(p, pt9_1);\n    d1=Sdf_I(sd9_1,d1);\n    vec3 colc=vec3(0.51,0.79,0.87);\n    colout= DFB(colc, colout, d1);\n    \n    d2=Sdf_I(sd9_1,d2);\n    colout= DFB(vec3(0.0), colout, d2);  \n    return colout;\n}\n\n\nvec3 PupilaDer(vec2 p, vec3 colout)\n{\nvec2 A,B, med;\nfloat dfin;\nfloat d1, r1 ;\n\nA=vec2(0.99539,0.71429);\nr1=0.06912;\n d1=sdCircle(p-A,r1);\n\nA=vec2(0.99539,0.71429);\nr1=0.03687;\nfloat d2=sdCircle(p-A,r1);\n\n    float sd7_1 = sdPoly7_1(p, pt7_1);\n    \n    d1=Sdf_I(sd7_1,d1);\n    vec3 colc=vec3(0.51,0.79,0.87);\n    colout= DFB(colc, colout, d1);\n    d2=Sdf_I(sd7_1,d2);\n    colout= DFB(vec3(0.0), colout, d2);\n    return colout;\n}\n\nvec3 Pelo1(vec2 p, vec3 colout)\n{   \nfloat sd5_1 = sdPoly5_1(p, pt5_1);\nvec3 colc=vec3(0.91,0.09,0.07);\ncolout= DFB(colc, colout, sd5_1);\n    return colout;\n}\n\nvec3 Pelo2(vec2 p, vec3 colout)\n{   \n    float sd5_2 = sdPoly5_2(p, pt5_2);\n    \n    vec3 colc=vec3(0.91,0.09,0.07);\n    colout= DFB(colc, colout,sd5_2);\n \n    return colout;\n}\n\n\nvec3 RostroLineas(vec2 p, vec3 colout)\n{\nvec2 A,B, med;\nfloat dfin;\nfloat d1, r1 ;\n\n    A=vec2(0.85945,0.03687);\n    B=vec2(0.85945,0.06682);\n    d1=sdSegment(p,A,B);\n    colout= DFB(vec3(0.0), colout, d1);\n\n    A=vec2(0.76037,0.23041);\n    B=vec2(0.64747,0.17512);\n    float d2=sdSegment(p,A,B);\n    colout= DFB(vec3(0.0), colout, d2);\n\n    A=vec2(0.87788,0.25115);\n    B=vec2(0.76498,0.23041);\n    float d3=sdSegment(p,A,B);\n    colout= DFB(vec3(0.0), colout, d3);\n\n    A=vec2(0.75115,0.21198);\n    B=vec2(0.63594,0.15207);\n    float d4=sdSegment(p,A,B);\n    colout= DFB(vec3(0.0), colout, d4);\n\n    A=vec2(0.82949,0.22811);\n    B=vec2(0.75115,0.21198);\n    float d5=sdSegment(p,A,B);\n    colout= DFB(vec3(0.0), colout, d5);\n\n    A=vec2(0.0023,0.52535);\n    B=vec2(0.16359,0.4424);\n    float d6=sdSegment(p,A,B);\n    colout= DFB(vec3(0.0), colout, d6);\n\n    A=vec2(0.2235,0.41014);\n    B=vec2(0.0023,0.50691);\n    float d7=sdSegment(p,A,B);\n    colout= DFB(vec3(0.0), colout, d7);\n\n    A=vec2(0.23733,0.38479);\n    B=vec2(0.12903,0.44931);\n    float d8=sdSegment(p,A,B);\n    colout= DFB(vec3(0.0), colout, d8);\n\n    A=vec2(0.26728,0.35945);\n    B=vec2(0.1682,0.41244);\n    float d9=sdSegment(p,A,B);\n    colout= DFB(vec3(0.0), colout, d9);\n\n    A=vec2(0.25806,0.34793);\n    B=vec2(0.19355,0.3894);\n    float d10=sdSegment(p,A,B);\n    colout= DFB(vec3(0.0), colout, d10);\n\n    A=vec2(0.25806,0.3341);\n    B=vec2(0.21429,0.36406);\n    float d11=sdSegment(p,A,B);\n    colout= DFB(vec3(0.0), colout, d11);\n\n    A=vec2(0.26267,0.30876);\n    B=vec2(0.23733,0.32488);\n    float d12=sdSegment(p,A,B);\n    colout= DFB(vec3(0.0), colout, d12);\n\n    A=vec2(0.30415,0.71429);\n    B=vec2(0.09908,0.68203);\n    float d13=sdSegment(p,A,B);\n    colout= DFB(vec3(0.0), colout, d13);\n\n    A=vec2(0.39631,0.70507);\n    B=vec2(0.23272,0.68664);\n    float d14=sdSegment(p,A,B);\n    colout= DFB(vec3(0.0), colout, d14);\n\n    A=vec2(0.4977,0.70046);\n    B=vec2(0.32028,0.68894);\n    float d15=sdSegment(p,A,B);\n    colout= DFB(vec3(0.0), colout, d15);\n\n    A=vec2(0.51843,0.69816);\n    B=vec2(0.41244,0.68203);\n    float d16=sdSegment(p,A,B);\n    colout= DFB(vec3(0.0), colout, d16);\n\n    A=vec2(0.57373,0.68664);\n    B=vec2(0.50922,0.69816);\n    float d17=sdSegment(p,A,B);\n    colout= DFB(vec3(0.0), colout, d17);\n\n    A=vec2(0.67051,0.67972);\n    B=vec2(0.52535,0.68664);\n    float d18=sdSegment(p,A,B);\n    colout= DFB(vec3(0.0), colout, d18);\n\n    A=vec2(1.02995,0.62442);\n    B=vec2(0.91705,0.62442);\n    float d19=sdSegment(p,A,B);\n    colout= DFB(vec3(0.0), colout, d19);\n\n    A=vec2(1.08295,0.59217);\n    B=vec2(0.97465,0.61751);\n    float d20=sdSegment(p,A,B);\n    colout= DFB(vec3(0.0), colout, d20);\n\n    A=vec2(0.74194,0.93548);\n    B=vec2(0.69816,0.99309);\n    float d21=sdSegment(p,A,B);\n    colout= DFB(vec3(0.0), colout, d21);\n\n    return colout;\n}\n\n\nvec3 Boca(vec2 p, vec3 colout)\n{\nvec2 A,B, med;\nfloat dfin;\nfloat d1, r1 ;\n\n    A=vec2(0.69355,0.41475);\n    B=vec2(0.59908,0.37558);\n     d1=sdSegment(p,A,B);\n    colout= DFB(vec3(0.0), colout, d1);\n\n    A=vec2(0.93318,0.39401);\n    B=vec2(0.69124,0.41475);\n    float d2=sdSegment(p,A,B);\n    colout= DFB(vec3(0.0), colout, d2);\n\n    A=vec2(0.97926,0.35484);\n    B=vec2(0.92857,0.39631);\n    float d3=sdSegment(p,A,B);\n    colout= DFB(vec3(0.0), colout, d3);\n\n    A=vec2(0.70277,0.29263);\n    B=vec2(0.67281,0.30876);\n    float d4=sdSegment(p,A,B);\n    colout= DFB(vec3(0.0), colout, d4);\n\n    A=vec2(0.7765,0.30876);\n    B=vec2(0.70507,0.29263);\n    float d5=sdSegment(p,A,B);\n    colout= DFB(vec3(0.0), colout, d5);\n\n    A=vec2(0.86175,0.30184);\n    B=vec2(0.77419,0.30876);\n    float d6=sdSegment(p,A,B);\n    colout= DFB(vec3(0.0), colout, d6);\n\n    A=vec2(0.91244,0.29032);\n    B=vec2(0.85945,0.30645);\n    float d7=sdSegment(p,A,B);\n    colout= DFB(vec3(0.0), colout, d7);\n\n    A=vec2(0.94931,0.29724);\n    B=vec2(0.91705,0.28802);\n    float d8=sdSegment(p,A,B);\n    colout= DFB(vec3(0.0), colout, d8);\n\n    return colout;\n}\n\n\nvec3 Nariz(vec2 p, vec3 colout)\n{\nvec2 A,B, med;\nfloat dfin;\nfloat d1, r1 ;\n\n    A=vec2(0.94931,0.54608);\n    B=vec2(0.84793,0.74885);\n     d1=sdSegment(p,A,B);\n    colout= DFB(vec3(0.0), colout, d1);\n\n    A=vec2(0.947,0.52995);\n    B=vec2(0.95161,0.54608);\n    float d2=sdSegment(p,A,B);\n    colout= DFB(vec3(0.0), colout, d2);\n\n    A=vec2(0.82488,0.54147);\n    B=vec2(0.70968,0.5023);\n    float d3=sdSegment(p,A,B);\n    colout= DFB(vec3(0.0), colout, d3);\n\n    A=vec2(0.92166,0.55069);\n    B=vec2(0.82488,0.54147);\n    float d4=sdSegment(p,A,B);\n    colout= DFB(vec3(0.0), colout, d4);\n\n    A=vec2(0.81797,0.51843);\n    B=vec2(0.76267,0.48848);\n    float d5=sdSegment(p,A,B);\n    colout= DFB(vec3(0.0), colout, d5);\n\n    A=vec2(0.8894,0.52535);\n    B=vec2(0.82258,0.51613);\n    float d6=sdSegment(p,A,B);\n    colout= DFB(vec3(0.0), colout, d6);\n\n    A=vec2(0.67742,0.51613);\n    B=vec2(0.67742,0.53687);\n    float d7=sdSegment(p,A,B);\n    colout= DFB(vec3(0.0), colout, d7);\n\n    A=vec2(0.69124,0.5);\n    B=vec2(0.67742,0.51843);\n    float d8=sdSegment(p,A,B);\n    colout= DFB(vec3(0.0), colout, d8);\n    \n    \nA=vec2(0.94931,0.52765);\nB=vec2(0.87788,0.47235);\nfloat d1a=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d1a);\n\nA=vec2(0.85484,0.06682);\nB=vec2(0.85714,0.00922);\nfloat d4a=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d4a);\n\n    return colout;\n}\n\n\nvec3 guino(vec2 p, vec3 colout)\n{\nvec2 A,B, med;\nfloat dfin;\nfloat d1, r1 ;\n\n    A=vec2(0.78571,0.79263);\n    B=vec2(0.7765,0.85714);\n     d1=sdSegment(p,A,B);\n    colout= DFB(vec3(0.0), colout, d1);\n\n    A=vec2(0.82488,0.78341);\n    B=vec2(0.79263,0.86866);\n    float d2=sdSegment(p,A,B);\n    colout= DFB(vec3(0.0), colout, d2);\n\n    A=vec2(0.82488,0.78341);\n    B=vec2(0.81106,0.76728);\n    float d3=sdSegment(p,A,B);\n    colout= DFB(vec3(0.0), colout, d3);\n\n    A=vec2(0.85023,0.77189);\n    B=vec2(0.82258,0.84332);\n    float d4=sdSegment(p,A,B);\n    colout= DFB(vec3(0.0), colout, d4);\n\n    A=vec2(0.85023,0.77189);\n    B=vec2(0.84101,0.75346);\n    float d5=sdSegment(p,A,B);\n    colout= DFB(vec3(0.0), colout, d5);\n\n    A=vec2(0.78802,0.75576);\n    B=vec2(0.82258,0.74885);\n    float d6=sdSegment(p,A,B);\n    colout= DFB(vec3(0.0), colout, d6);\n\n   return colout;\n}\n\n\nvec3 camisa(vec2 p, vec3 colout)\n{\nfloat sd5_3 = sdPoly5_3(p, pt5_3);\n    vec3 colc=vec3(0.64,0.67,0.12);\n   colout= DFB(colc, colout, sd5_3);\n\n   return colout;\n   \n}\n\nvec3 numero16(vec2 p, vec3 colout)\n{\n    colout=camisa(p,colout);\n    colout=cabeza(p,colout);\n    colout=CejaIzq(p,colout);\n    colout=CejaDer(p,colout);\n    colout=OjoDer(p,colout);\n    colout=OjoIzq(p,colout);\n    colout=PupilaIzq(p,colout);\n    colout=PupilaDer(p,colout);\n    colout= Pelo1(p,colout);\n    colout=Pelo2(p,colout);\n    colout=RostroLineas(p,colout);\n    colout=Boca(p,colout);\n    colout=Nariz(p,colout);\n    colout=guino(p,colout);\n    return colout;\n}\n\n\n\n//-----nubes by XOR\n///---------------\nfloat Speed = .03;\nvec3 Light = vec3(.6,.2,.8);\n    \nfloat Map(vec3 Position)\n{ vec3 P = (Position*0.5+texture(iChannel1,Position*2.+iTime*Speed*.2).xyz*.02);\n    \n    float C = texture(iChannel1,P).r;\n    C *= texture(iChannel1,P*vec3(.5,1,.5)).g;\n    C = C*.9+.1*pow(texture(iChannel1,P*5.1).a,2.);\n    return max((C-.3)*sqrt((Position.z-.1)/.3),0.)/.5;\n}\n\nvec3 NubesXor(in vec2 Coord, float pz,float pt)\n{\n    vec4 Color;\n    vec3 R = vec3((Coord-.5*iResolution.xy)/iResolution.y,1.0);\n    //vec3 P = vec3(0.+sin(pt*0.5),pt*Speed,pz);\n    vec3 P = vec3(0.+pt*0.5,pt*Speed,pz);\n    \n    vec4 C = vec4(0);\n    for(float I = .2;I<.5;I+=.01)\n    {\n        float M1 = Map(P+R*I);\n        float M2 = Map(P+R*I+Light*.01);\n        C += vec4((.6+vec3(.6,.5,.4)*(exp(-M2*10.)-M1)),1)*M1*(1.-C.a);\n        if (C.a>.99) break;\n    }\n\tColor = C+vec4(vec3(.5,.7,.9)-R.y*.4,1)*(1.-C.a);\n    return Color.xyz;\n}\n\n\nvec3 render_sky_color(vec3 rd, vec2 frag, float pt)\n{   vec3 sky; \n     float tt=pt*20.;\n     \n    sky=NubesXor(frag+rd.xz, 1.0,pt); \n    return sky; \n}\n//---\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{   vec2 uv = ( 2. * fragCoord - iResolution.xy ) / iResolution.y;\n    //uv-=vec2(-0.75,-1.02);\n    uv-=vec2(-(iResolution.x/iResolution.y - 1.02),-1.02);\n\n    float esc=0.49;\n    uv*=esc;\n    vec2 uv0=uv;\n    vec3 col=vec3(1.0);\n    col=vec3(0.25,0.6,0.7);\n    if(uv.x>0.61)\n        col= render_sky_color(vec3(uv.x,uv.y,1.0), fragCoord, iTime*0.5)*col;\n        \n    col=numero16(uv-vec2(-0.51,0.0), col);\n    col=pow(col,  vec3(0.554545));\n    fragColor = vec4(col,1.0);\n}\n","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"\n#define TAU 6.2831853071\n\n#define SIZE 8 // Tamaño del arreglo de datos\n\nint sec1[SIZE] = int[](0, 1, 0, 0, 0, 1, 1, 1);\nint sec2[SIZE] = int[](1, 0, 0, 1, 0, 0, 1, 0);\nint sec3[SIZE] = int[](40, 45, 65, 41, 62, 20, 55, 25);\n\n\nfloat noise(float time) {\n    return (fract(sin(time * 99.0) * 50000.0) * 2.0 - 1.0);\n}\n\nfloat snare(float time) {\n    return noise(time) * max(0.0, 1.0 - min(0.85, time * 4.25) - (time - 0.25) * 0.3);\n}\n\n\nfloat kick(float time) \n{   return sin(6.283 * 50.0 * time - 10.0 * exp( -70.0 * time ))*exp(-time*1.6);  }\n\n\nfloat note2freq(int n)\n{ return 440.0*exp2((float(n)-69.0)/12.0);}\n\n\nfloat modfix(float phase) {\n    return mod(phase, TAU);\n}\n\nfloat sinf(float t, float freq) {\n\treturn sin(modfix(TAU * t * freq));\n}\n\nfloat sawf(float t, float freq) {\n    return 2. * fract(t * freq) - 1.;\n}\n\nfloat squaref(float t, float freq) {\n    return 2. * step(0., sawf(t, freq)) - 1.;\n}\n\n\nfloat pitch(float p) {\n\treturn pow(1.059460646483, p) * 440.0;\n}\n\n\n\nfloat intro(float t,int  pnote ) \n{\n    float s=0.;\n    \n    for (float oct = -2.; oct < 1.; oct += 1.) {\n    \tfor (int i = 0; i < 4; i++) {\n            float note = note2freq(pnote);\n            s += mix(sinf(t, note), sawf(t, note * 2.), .2);\n\t    }\n    }\n        \n    return s * 1./(5.*4.);\n}\n\n\nvec2 mainSound(in int samp, float time) \n{\n    float intervalo = 0.5; // Intervalo de tiempo para cada valor del arreglo\n    float cyclePosition = mod(time, intervalo * float(SIZE)) / intervalo;\n    int index = int(cyclePosition);\n    float r1, r2,r3;\n    float resp;\n    \n    if (sec1[index] == 1) \n    {  // Usar un tiempo relativo dentro del intervalo para la función snare\n        float localTime = mod(time, intervalo);\n        r1 = 0.5 * snare(localTime);\n    }\n    \n    if (sec2[index] == 1) \n    {  float localTime = mod(time, intervalo);\n        r2 =0.5*kick(localTime);\n    }\n    \n    if (sec3[index] > 0) \n    {   float localTime = mod(time, intervalo);\n        int pnote=sec3[index];\n        r3= intro(localTime,pnote ) ;\n    }\n    \n    resp=(r1+r2+r3)/1.5;\n\n    return vec2(resp);\n}","name":"Sound","description":"","type":"sound"}]}