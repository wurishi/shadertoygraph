{"ver":"0.1","info":{"id":"sltXW2","date":"1639838786","viewed":108,"name":"Simple Circles With BGM","username":"nelsonkuang","description":"Simple circles dance with the bgm","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["music","circle"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sXGzn","filepath":"/media/a/a6a1cf7a09adfed8c362492c88c30d74fb3d2f4f7ba180ba34b98556660fada1.mp3","previewfilepath":"/media/ap/a6a1cf7a09adfed8c362492c88c30d74fb3d2f4f7ba180ba34b98556660fada1.mp3","type":"music","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float getAmp(float frequency) { // from: https://www.shadertoy.com/view/4ljGD1\n  return texture(iChannel0, vec2(frequency / 512.0, 0)).x;\n}\n\nfloat getWeight(float f) { // from: https://www.shadertoy.com/view/4ljGD1\n  return (+getAmp(f - 2.0) + getAmp(f - 1.0) + getAmp(f + 2.0) + getAmp(f + 1.0) + getAmp(f)) / 5.0;\n}\n\nvec3 rgb(float r, float g, float b) { // from: http://jonobr1.com/\n  return vec3(smoothstep(.9, 0.1, r / 255.0), smoothstep(0.1, .9, g / 255.0), smoothstep(.9, 0.1, b / 255.0));\n}\n\nvec4 circle(vec2 uv, vec2 pos, float rad, vec3 color) {\n  float d = length(pos - uv) - rad;\n  float t = clamp(d, 0.0, 1.0);\n  return vec4(color, 1.0 - t);\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n\n  vec2 uv = fragCoord.xy;\n\n  float weight = getWeight(uv.x * cos(iTime) + uv.x * sin(iTime));\n\n  vec2 center = iResolution.xy * 0.5;\n  \n  float radius = weight * 340.999;\n\n  vec3 black = vec3(.0, .0, .0);\n  // Background layer\n  vec4 layer1 = vec4(black, 1.0);\n\n\t// Circle\n  vec3 c1 = rgb(225.0 * cos(iTime * 0.7), 95.0, 60.0);\n  vec4 layer2 = circle(uv, center, radius, c1);\n\n  // small circle\n  vec3 c2 = rgb(0.0, 255.0 * sin(iTime * 0.7), 0.0);\n  vec4 layer3 = circle(uv, center, radius * 0.75, c2);\n\n  // Blend the two layers\n  fragColor = mix(layer1, layer2, layer2.a);\n\n  // Add a small circle in the center\n  fragColor -= layer3;\n\n  // Add a small circle in the center\n  fragColor += circle(uv, center, radius * 0.614, c2);\n\n  // Add a small circle in the center\n  fragColor -= circle(uv, center, radius * 0.425, c2);\n\n  // Add a small circle in the center\n  fragColor += circle(uv, center, radius * 0.257, c2);\n\n  // Add a small circle in the center\n  fragColor -= circle(uv, center, radius * 0.125, c2);\n\n  // Add a small circle in the center\n  fragColor += circle(uv, center, radius * 0.0625, c2);\n\n  // Add a small circle in the center\n  fragColor -= circle(uv, center, radius * 0.03125, c2);\n\n  // Add a small circle in the center\n  fragColor += circle(uv, center, radius * 0.015625, c2);\n\n  // Add a small circle in the center\n  fragColor -= circle(uv, center, radius * 0.0078125, c2);\n\n  // Add a small circle in the center\n  fragColor += circle(uv, center, radius * 0.00390625, c2);\n\n  fragColor = normalize(fragColor);\n\n}","name":"Image","description":"","type":"image"}]}