{"ver":"0.1","info":{"id":"WdlSzH","date":"1550619571","viewed":158,"name":"The single rotation rule","username":"rory618","description":"http://dmishin.blogspot.com/2013/11/the-single-rotation-rule-remarkably.html\nSpace to toggle direction of time, mouse to add points","likes":7,"published":1,"flags":48,"usePreview":0,"tags":["automata","cellular","greyscale","reversible"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 O, in vec2 I )\n{\n    O = texelFetch(iChannel0, ivec2(I), 0);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"Xsf3Rn","filepath":"/media/a/cbcbb5a6cfb55c36f8f021fbb0e3f69ac96339a39fa85cd96f2017a2192821b5.png","previewfilepath":"/media/ap/cbcbb5a6cfb55c36f8f021fbb0e3f69ac96339a39fa85cd96f2017a2192821b5.png","type":"texture","channel":3,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGRr","filepath":"/presets/tex00.jpg","previewfilepath":"/presets/tex00.jpg","type":"keyboard","channel":2,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"ivec2 imod(ivec2 a, ivec2 b){\n    return a+b - b*((a+b)/b);\n}\n#define T(s) (texelFetch(iChannel0, imod(ivec2(floor((I-flip)/2.)*2.+flip) + s,ivec2(iResolution.xy)),0).w)\nvoid mainImage( out vec4 O, in vec2 I )\n{\n    bool reverse = texelFetch(iChannel2,ivec2(32,2),0).x > 0.5;\n    \n    float flip = float((iFrame%2==int(reverse)));\n    vec4 t = vec4(\n        T(ivec2(0,0)),\n        T(ivec2(0,1)),\n        T(ivec2(1,0)),\n        T(ivec2(1,1)));\n\n    if(dot(t,vec4(1))<=1.5) t = reverse?t.zxwy:t.ywxz;\n\n    O.w = (t[int(dot(vec2(2,1),floor(mod(I-flip,vec2(2)))))]);\n\n    if(iFrame<3) O = vec4((1.-texelFetch(iChannel3, ivec2(mod(I,iChannelResolution[3].xy)), 0).y)*(1.-texelFetch(iChannel3, ivec2(I/10.), 0).y)>.9);\n    if(iMouse.xy==floor(I) && iMouse.z>0.) O = vec4(1);\n    \n    O.xyz = max(vec3(O.w),mix(O.xyz,min(vec3(.7),texelFetch(iChannel0, ivec2(I), 0).xyz),.96));\n}","name":"Buffer A","description":"","type":"buffer"}]}