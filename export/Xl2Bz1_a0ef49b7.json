{"ver":"0.1","info":{"id":"Xl2Bz1","date":"1514602550","viewed":530,"name":"Barf Inducer","username":"couch","description":"trippy blippy","likes":13,"published":1,"flags":0,"usePreview":0,"tags":["gradient","psychedelic","rainbow","trippy","strobe"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGzn","filepath":"/media/a/ec8a6ea755d34600547a5353f21f0a453f9f55ff95514383b2d80b8d71283eda.mp3","previewfilepath":"/media/ap/ec8a6ea755d34600547a5353f21f0a453f9f55ff95514383b2d80b8d71283eda.mp3","type":"music","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float square(float n)\n{\n    return n*n;   \n}\nfloat bounce = 0.0;\nfloat bounce2 = 0.0;\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{   \n    vec2 uv = fragCoord.xy / iResolution.xy;\n    vec2 res = vec2(1.0, 1.0);\n    vec2 iuv = floor( uv * res )/res;\n    \n    \n    float ww = iResolution.x;\n    float hh = iResolution.y;\n    float sound = texture( iChannel0, vec2(iuv.y, 0.0) ).x*1.0;\n    if (bounce2 < sound*15.0){bounce2 += sound*15.0;}\n    if (bounce2 > sound*15.0){bounce2 -= sound*15.0;}\n    bounce2 /= 1.2;\n    if (bounce < bounce2){bounce += bounce2/5.0;}\n    if (bounce > bounce2){bounce -= bounce2/5.0;}\n    bounce = clamp(bounce, 1.0, 100.0);\n    float time2 = iTime+2.0*(sin(square(1.0*(uv.x-0.5)) + square(1.0*(uv.y-0.5))));\n    \n    float r = sin(time2/2.0)*20.0*bounce;\n    float p = (square(fragCoord.x-ww/2.0) + square(fragCoord.y-hh/2.0))*((sin(time2/8.0)+1.0)/2.0)*((time2-2.0)*4.0)*(bounce/8.0);\n    \n    fragColor.r = sin(p/100.0)+1.0*bounce/2.0;\n    fragColor.g = sin(p/100.0+r/0.5)+1.*bounce/2.0;\n    fragColor.b = sin(p/100.0+r/0.2)+1.0*bounce/2.0;\n}","name":"Image","description":"","type":"image"}]}