{"ver":"0.1","info":{"id":"XlVyWK","date":"1537789286","viewed":220,"name":"simple 2d lens","username":"cailuming","description":"simple uv tricks for lens","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["2dlens"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XdX3Rn","filepath":"/media/a/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg","previewfilepath":"/media/ap/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dfGzn","filepath":"/media/a/ec8a6ea755d34600547a5353f21f0a453f9f55ff95514383b2d80b8d71283eda.mp3","previewfilepath":"/media/ap/ec8a6ea755d34600547a5353f21f0a453f9f55ff95514383b2d80b8d71283eda.mp3","type":"music","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":" \nvoid lens(inout vec2 cuv,vec2 c,float size,float as){\n   cuv-=c; \n\n   float l   = length(cuv)*size;\n         l   = pow(l,5.5)*0.1; \n         l   = smoothstep(-0.5,0.5,l);\n         cuv = cuv * l;\n         cuv = cuv + c; \n}\n\n \nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 tuv = fragCoord/iResolution.xy;\n    vec2 cuv = tuv-vec2(0.5);\n    float as = iResolution.x/iResolution.y;\n    cuv.x*=as; \n   \n    vec3 col = vec3(0);\n    \n    float dynR = texture(iChannel1,vec2(0.5,0.5)).x;\n    \n    lens(cuv,vec2(cos(iTime)*0.8,dynR*0.5-0.5),10.,as);\n    lens(cuv,vec2(cos(iTime)*0.5,sin(iTime)*0.2+0.2),5.,as);\n    lens(cuv,vec2(cos(iTime)*0.7,sin(iTime)*cos(iTime)*0.5)+0.2,10.,as);\n    lens(cuv,vec2(cos(iTime),sin(iTime)*sin(iTime)*0.2+0.2),8.,as);\n    \n    cuv.x/=as;\n    cuv+=0.5;\n    col+= texture(iChannel0,cuv).xyz;\n   \n\n    col.z = pow(col.z,0.9);\n  \n    col =smoothstep(0.,.7,col);\n    \n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}