{"ver":"0.1","info":{"id":"flSfDz","date":"1651999392","viewed":60,"name":"Sphere is spinning and moving","username":"KsUdal","description":"Sphere is moving and spinnung, sometimes it slows down","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["sphere"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float sphIntersect( in vec3 ro, in vec3 rd, in vec4 sph ) {\n\tvec3 oc = ro - sph.xyz;\n\tfloat b = dot(oc, rd);\n\tfloat c = dot(oc, oc) - sph.w*sph.w;\n\tfloat h = b*b - c;\n\tif (h < 0.0) return -1.0;\n\treturn -b - sqrt(h);\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    vec3 col;\n    vec2 p = (2.0*fragCoord.xy - iResolution.xy) / iResolution.y;\n    col = vec3(0.5);\n    float tmin = 100000.0;\n    \n    vec3 ro = vec3(0.0, 0.0, 15.0 );\n\tvec3 rd = normalize(vec3(p, -5.0));\n\t\n    vec4 sph = vec4(sin(iTime*2.0 + vec3(2.0,1.0,1.5) + 12.0) - cos(2.0*iTime + vec3(2.0,1.0,1.5) + 12.0), 1.0);\n    \n    float t2 = sphIntersect(ro, rd, sph);\n    if(t2 > 0.0 && t2 < tmin) {\n        tmin = t2;\n        float t = t2;\n        vec3 pos = ro + t*rd;\n        vec3 nor = normalize(pos - sph.xyz);\n\t\tcol = vec3(1.2);\n        col = sin( iTime*2.0 + vec3(0.9, 0.9, 0.9) + 6.0 )*nor.y + cos(2.0*iTime)*nor.z + cos(2.0*iTime + vec3(0.9, 0.9, 0.9))*nor.x + 1.5;\n\t}\n\n    col *= exp(-0.07*tmin);\n    fragColor = vec4(col, 0.7);\n    \n}","name":"Image","description":"","type":"image"}]}