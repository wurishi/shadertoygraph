{"ver":"0.1","info":{"id":"clc3WB","date":"1682991819","viewed":105,"name":"Antialiased disk","username":"Pseudonym","description":"An example of antialiasing a signed distance function.","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["sdf","antialiasing"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float lerpstep(float edge, float delta, float x) {\n   float edge0 = edge - delta;\n   float edge1 = edge + delta;\n   return clamp((x - edge0) / (edge1 - edge0), 0.0, 1.0);\n}\n\n\nvoid mainImage(out vec4 f, in vec2 u)\n{\n    const float thickness = 0.5;\n\n    // Compute signed distance function\n    const float radius = 0.1;\n    const float invr = 1.0 / radius;\n    vec2 c = 0.4 * iResolution.y * vec2(cos(iTime), sin(0.78*iTime)) / iResolution.xy;\n    vec2 p = vec2(u.xy - 0.5 * iResolution.xy) / iResolution.y;\n    float distance = 1.0 - length(p-c) * invr;\n\n    // Antialias the edge\n    float fade = length(vec2(dFdx(distance), dFdy(distance)));\n    float alpha = lerpstep(thickness, fade, distance);\n\n    // Output the pixel\n    vec3 colour = vec3(alpha);\n    f = vec4(colour,1.0);\n}","name":"Image","description":"","type":"image"}]}