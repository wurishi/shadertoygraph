{"ver":"0.1","info":{"id":"Dt2SDh","date":"1676007439","viewed":93,"name":"Another hash+noise function","username":"ianertson","description":"This one might be a bit overkill haha :D :)","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["noise","perlin","simplex","hash"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define R iResolution.xy\n#define T (iTime*0.5)\n#define M_PI (3.1416)\n#define TAU (M_PI * 2.0)\n\nfloat hash1(float x) {\n    uint y = floatBitsToUint(30.29123+x);\n    uint w = floatBitsToUint((x+93.801)*202.912);\n    y ^= (y << 17); y ^= (y >> 5); y ^= (y << 3); y ^= ((y >> w) ^ (w << y&3u));\n    return float(y * 0xFFAF9FBAU) / float(0xFFFFFFFFU);\n}\n\nfloat hash2(vec2 x) {\n    uvec2 y = uvec2(hash1(30.22346912+x.x)*100.2912, hash1(42.921+x.y)*100.23532812);\n    uvec2 w = uvec2(floatBitsToUint(x.x) ^ y.y, floatBitsToUint(x.y) ^ y.x);\n    return hash1(float(92845931U * ((y.x ^ w.x ^ (y.y ^ w.y)) + ((y.x ^ (y.y << 2981u)) +\n        (y.y ^ (y.x << 2902u)) << (((w.x << y.y) ^ (w.y >> y.x)) + ((w.y << y.x) ^ (w.x >> y.y)) >>\n               (7729124u ^ ((w.x>>y.x^w.y)+(w.y>>y.y^w.x))))))) / float(0xFFFFFFFFU));\n}\n\n\nfloat noise(vec2 uv) {\n    vec2 id = floor(uv);\n    vec2 lv = smoothstep(0.0, 1.0, fract(uv));\n    return mix(\n        mix(hash2(id), hash2(id+vec2(1, 0)), lv.x),\n        mix(hash2(id+vec2(0, 1)), hash2(id+vec2(1, 1)), lv.x), lv.y);\n}\n\nfloat noise6(vec2 uv, float freq) {\n    float div = 0.0;\n    float amp = 1.0;\n    float n = 0.0;\n    n += amp * noise(uv*freq); freq *= 2.0; div += amp; amp /= 2.0;\n    n += amp * noise(uv*freq); freq *= 2.0; div += amp; amp /= 2.0;\n    n += amp * noise(uv*freq); freq *= 2.0; div += amp; amp /= 2.0;\n    n += amp * noise(uv*freq); freq *= 2.0; div += amp; amp /= 2.0;\n    n += amp * noise(uv*freq); freq *= 2.0; div += amp; amp /= 2.0;\n    n += amp * noise(uv*freq); freq *= 2.0; div += amp; amp /= 2.0;\n    return n / div;\n}\n\nvoid mainImage( out vec4 O, in vec2 fc )\n{\n    vec3 col = vec3(0.0);\n    vec2 uv = fc/R.y;\n    \n    float c = R.x*0.5;\n    \n    c += (iFrame > 10 && T > 0.0001) ? cos((T*2.)-1.6)*(R.x*0.5) : 0.0;\n    \n    uv += vec2(sin(T), cos(T));\n    \n    if (fc.x >= c) {\n        col += noise6(uv, 10.);\n    } else {\n        col += hash2(uv);\n    }\n    \n    O = vec4(col, 1.0);\n}\n","name":"Image","description":"","type":"image"}]}