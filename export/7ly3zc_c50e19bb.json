{"ver":"0.1","info":{"id":"7ly3zc","date":"1638079082","viewed":276,"name":"Deforming uv","username":"badjano","description":"deforming uv from corners","likes":5,"published":1,"flags":2,"usePreview":0,"tags":["uv","deform"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sf3zn","filepath":"/presets/webcam.png","previewfilepath":"/presets/webcam.png","type":"webcam","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n    \n    vec2 uid = vec2(14.62,27.23);\n    vec2 rand = hash22(uid)*10.;\n    vec2 rand2 = hash22(rand)*2.-1.;\n    vec4 rand4 = hash24(uid)*30.-15.;\n    float t = iTime * .125;\n    \n    vec2 nuv = uv;\n    float m = 0.125;\n    nuv += cos(rand4.xy * t + rand4.zw + 2.*pi)*m * pl(uv);\n    nuv += cos(rand4.xy + rand4.zw * t + 4.*pi)*m * pl(1.-uv);\n    nuv += sin(rand4.yx * t + rand4.wz + 8.*pi)*m * pl(vec2(1.,0.)-uv);\n    nuv += sin(rand4.yx + rand4.wz * t + 16.*pi)*m * pl(vec2(0.,1.)-uv);\n    float scale = sin(iTime) + 4.;\n    nuv *= scale;\n    nuv -= scale*0.5-0.5;\n    \n    float effect_on = sat(iMouse.z);\n    uv = mix(nuv,uv,effect_on);\n    \n    vec4 random_color = sin(hash24(floor(uv))*100.+iTime*2.)*.5+.5;\n    random_color = mix(random_color,vec4(0.),effect_on);\n    fragColor = texture(iChannel0,fract(uv)); // fract here only helps webcam tiling\n    fragColor = mix(min(random_color,fragColor),fragColor,clamp_step(uv));\n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"#define satvec2(uv) clamp(uv,vec2(0.),vec2(1saturate\n#define sat(f) clamp(f,0.,1.)\n#define pi 3.14159265359\n\n\nvec2  hash22( vec2  p ) {\n    p = vec2(\n        dot(p,vec2(127.1,311.7)),\n        dot(p,vec2(269.5,183.3))\n    );\n    return fract(sin(p)*43758.5453);\n}\n\nvec4 hash24( vec2 p ) { return fract(sin(vec4( 1.0+dot(p,vec2(37.0,17.0)), \n                                              2.0+dot(p,vec2(11.0,47.0)),\n                                              3.0+dot(p,vec2(41.0,29.0)),\n                                              4.0+dot(p,vec2(23.0,31.0))))*103.0); }\n\nfloat clamp_step(vec2 uv){\n    return step(uv.x,1.) * step(0.,uv.x) * step(uv.y,1.) * step(0.,uv.y);\n}\n\nfloat pl(vec2 uv){\n    return pow(length(uv),3.);\n}\n\nvec4 screen(vec4 a, vec4 b){\n    return 1.-(1.-a)*(1.-b);\n}\n\nvec4 multiply_add(vec4 a, vec4 b){\n    vec4 c = pow(b,vec4(3.));\n    return screen((a*c)+(c-a),b);\n}","name":"Common","description":"","type":"common"}]}