{"ver":"0.1","info":{"id":"DtjBzK","date":"1694247828","viewed":33,"name":"golf flame","username":"chenxianming","description":"nobody will put it on in general.","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["flame","golf"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define I iResolution\n\nmat2 m = mat2(.1, .1, -.7, .5);\n\nfloat noise(in vec2 f) {\n  f *= m;\n  return (cos(f.x + .18975) * sin(f.y + .494516) + .1615246);\n}\n\nmat2 rot(float d) {\n  float s = sin(d), c = cos(d);\n  return mat2(c, s, -s, c);\n}\n\nfloat fbm(in vec2 x, in float H) {\n  float t = 0.0;\n  for (int i = 0; i < 7; i++) {\n    float f = pow(2.0, float(i));\n    x *= rot(float(i));\n    float a = pow(f, -H);\n    a = smoothstep(0., .05, a);\n\n    t += a * noise(f * x * rot(float(i)));\n  }\n  return t;\n}\n\nvec3 flame(vec2 u) {\n\n  vec2 a = vec2(.3, 0.);\n\n  u.y -= .5;\n  u.x += fbm(vec2(fbm(u - iTime * .25, .1) * .003), .1) * .01;\n\n  return vec3(.92, .25, .14) *\n         (1. - smoothstep(0., .1, max(length(u + a) - .3, length(u - a) - .3)));\n}\n\nfloat f(vec3 p) {\n  p += .03;\n  return max(length(p.xz) - .1, abs(p.y) - .25);\n}\n\n\nvoid mainImage(out vec4 U, in vec2 V) {\n  // Normalized pixel coordinates (from 0 to 1)\n  vec2 u = ((V / I.xy - .5) * 2.) * vec2(I.x / I.y, 1.);\n  u.y += .62;\n  vec3 g, c = flame(u) + (1. - smoothstep(0., .9, length(u) - .3)), p,\n          o = vec3(0., 0., -1.), r = vec3(u, 1.);\n  float t, d, i, dp, e = sqrt(1e-3);\n\n  for (; i < 8.; i++)\n    p = o + r * t, d = f(p), dp = (1. - abs(d) / e),\n    c = mix(c, vec3(.01), (dp > 0.) ? .05 * dp / t : 0.) +\n        flame(reflect( sin( abs( u ) - iTime ) * .7, p.yz) ),\n    t += max(abs(d), e * .8) * .6;\n\n  // Output to screen\n  U = vec4(c, 1.0);\n}\n","name":"Image","description":"","type":"image"}]}