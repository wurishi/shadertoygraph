{"ver":"0.1","info":{"id":"4dtBWH","date":"1533858750","viewed":2733,"name":"weyl sequence","username":"jaybird","description":"the weyls on the bus go round and round\n\nhttp://extremelearning.com.au/unreasonable-effectiveness-of-quasirandom-sequences/","likes":33,"published":3,"flags":32,"usePreview":0,"tags":["hash","weyl"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// ^^ [Buffer A] is what you're looking for\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    \n    fragColor = texelFetch(iChannel0, ivec2(fragCoord), 0);\n}\n","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"vec2 Nth_weyl(vec2 p0, int n) {\n    \n    //return fract(p0 + float(n)*vec2(0.754877669, 0.569840296));\n    return fract(p0 + vec2(n*12664745, n*9560333)/exp2(24.));\t// integer mul to avoid round-off\n}\n\nfloat shade(vec2 p) {\n\n\treturn 1. - smoothstep(0., 0.00001, dot(p, p));\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n\n    vec2 uv = fragCoord/iResolution.xx;\n\n    fragColor.rgb = vec3(0.);\n\n    const int n_per_frame = 16;\n    for (int i = 1; i <= n_per_frame; i++) {\n        vec2 p = Nth_weyl(vec2(0.), iFrame*n_per_frame + i);\n        fragColor.rgb += shade(p - uv);\n    }\n\n    fragColor.rgb += texelFetch(iChannel0, ivec2(fragCoord), 0).rgb;\n    fragColor.a   = 1.;\n}\n","name":"Buffer A","description":"","type":"buffer"}]}