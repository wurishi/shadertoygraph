{"ver":"0.1","info":{"id":"3dj3zV","date":"1549414761","viewed":375,"name":"random ripples","username":"oalpha","description":"water ripples","likes":12,"published":1,"flags":0,"usePreview":0,"tags":["ripples","water"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI  3.141592653589793238462643383279\n\n#define randab(p) fract(sin((p)* vec2(12.9898, 78.233)) * 43758.5453)\n#define R iResolution\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/R.x;\n    \n    float t = iTime * 5.;\n    #define NUMPOINTS 200.\n    float col = 0.;\n    for(float i = 0.; i < NUMPOINTS; i++) {\n        float n = floor(t) - i;\n        float f = 1.;\n        float m = n - floor(n / f) * f;\n        if(m < 0.5) {\n            vec2 rp = randab(sqrt(2.)*n) * (R.xy / R.x);\n            vec2 D = uv - rp;\n            float d = length(D);\n            for(int k = 0; k < 9; k++)\n                d = min(d, length(D + vec2(k%3,k/3)-1.));\n            float l = t-n - 20. * d;\n            col += cos(7.5 * l) * clamp(\n                (2. - l) * l * exp(1. - l),\n                0., 1.\n            ) * clamp(1. - d / .5, 0., 1.);\n        }\n    }\n\n    col = col * .5 + .5;\n    //col = max(col, 0.);\n    fragColor = vec4(vec3(col),1.0);\n    //fragColor = vec4(vec3(.5,0.,1.)*col,1.0);\n}","name":"Image","description":"","type":"image"}]}