{"ver":"0.1","info":{"id":"3lV3WK","date":"1579899160","viewed":97,"name":"Wavy SDFs and Norms","username":"rarora7777","description":"A bunch of wavy \"circles\".","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["waves","sdf","norm"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define M_PI 3.14159265358979323846264338327950288\n\nfloat sdf(vec2 xy, float t, vec2 center)\n{\n    float x = xy.x - center.x;\n    float y = xy.y - center.y;\n    float theta = atan(y, x);\n    float angleDist = min(abs(theta-mod(t, 2.*M_PI)), abs(mod(t, 2.*M_PI)-theta));\n    \n    float p = (sin(t*2.) + 1.0) / 2.0;\n    float power = p * .5 + (1.-p) * 8.;\n    float r = pow((abs(pow(abs(x), power)) + abs(pow(abs(y), power))), 1./power);\n    \n    float param = (sin(10.*angleDist) + 1.)/2.;\n    param = smoothstep(0., 1., param);\n    \n    return r * (1.0 * param + .75 * (1.-param));\n}\n\nvec3 thingy(vec2 xy, float t, vec2 center, float size, vec3 color)\n{\n    float sizeIn = size * 24./25.;\n    vec3 colorIn = color / 3.;\n    \n    float dist = sdf(xy, t, center);\n    \n    vec3 col;\n    \n    if (dist < sizeIn)\n        col = color;\n    else if (dist < size)\n        col = colorIn;\n    else\n        col = vec3(0.);\n\treturn col;\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.y;\n\n    // Time varying pixel color\n    //float dist = sdf(uv, iTime);\n    \n    vec3 col = vec3(0.);\n    col += thingy(uv, iTime, vec2(1.5, .5), .25, vec3(153.,216.,201.)/255.);\n    col += thingy(uv, iTime+.5, vec2(0., 1.), .45, vec3(254.,178.,76.)/255.);\n    col += thingy(uv, (iTime+.25)/5., vec2(0.7, 0.35), .15, vec3(103.,138.,76.)/255.);\n    col += thingy(uv, 2.*iTime, vec2(0.35, 0.32), .2, vec3(200.,100.,6.)/255.);\n    col += thingy(uv, 4.*(iTime+.75), vec2(1., .8), .35, vec3(176.,116.,197.)/255.);\n    col += thingy(uv, 1.5*(iTime+.5), vec2(1.6, 0.), .45, vec3(250.,159.,181.)/255.);\n    \n\n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}