{"ver":"0.1","info":{"id":"WlBXWd","date":"1567456002","viewed":331,"name":"Monitor vs Animation Frame Rate","username":"JasonD","description":"Monitor vs animation rate.\nAnimation sync to monitor refresh = silky smooth.\nIf it differs = you see multiple images.\nE.g.\n60 Hz on a 120 Hz TV = double images\n50 Hz on 50 Hz CRT = silky smooth\n24 Hz on anything = multiple images","likes":8,"published":1,"flags":0,"usePreview":0,"tags":["sync","animation","monitor","frame","refresh","framerate","hz","rate"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define BAR_WIDTH                0.005  // percentage of screen width\n#define NUM_SPACES_BETWEEN_BARS 50.0    // bar separation\n#define SPEED_HZ                 1.5    // number of screen widths per second\n\n#define TOTAL_BAR_SPACE_WIDTH (NUM_SPACES_BETWEEN_BARS + 1.0)\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n\t// Normalize: uv = (0..1, 0..1)\n\tvec2 uv = fragCoord / iResolution.xy;\n\n    // Different frame rates\n    float frameRates[] = float[](240., 120., 60., 30., 24.);\n\n    // Make our own time that quantizes to these frame rates\n    int index = int(uv.y * float(frameRates.length()));  // 0..n-1 indexes\n    float myTime = float(int(iTime * frameRates[index])) / frameRates[index];\n\n    // Bar Location \n    // (Just one, but we'll use mod() later to pretend multiple exist.)\n    float xBar = mod(\n\t\tmyTime * SPEED_HZ, \n\t\tTOTAL_BAR_SPACE_WIDTH);  // When animation repeats, must sync up to bars and spaces\n\t\n    // Brightness\n    float distanceOneBar = (uv.x - xBar) / BAR_WIDTH;\n\tfloat distanceAnyBar = mod(distanceOneBar, TOTAL_BAR_SPACE_WIDTH);\n    \n    // Round to int to have solid bars, not fuzzy\n    // Invert float to have the bars be white, and spaces black\n    float brightness = 1.0 - float(int(distanceAnyBar));\n\n\t// Pixel color\n\tvec3 col = vec3(brightness);\n\n\t// Output to screen\n\tfragColor = vec4(col, 1.0);\n}\n","name":"Image","description":"","type":"image"}]}