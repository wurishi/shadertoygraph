{"ver":"0.1","info":{"id":"lctcWn","date":"1730500204","viewed":37,"name":"Smooth mandelbrot (wikipedia)","username":"goeiecool9999","description":"https://en.wikipedia.org/wiki/Plotting_algorithms_for_the_Mandelbrot_set#Continuous_(smooth)_coloring\nConverted the pseudocode from wikipedia into a GLSL shader","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["fractal","mandelbrot"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec3 palette[7] = \n    vec3[7](vec3(255,0,0), \n    vec3(255,127,  0),\n    vec3(255,255,  0),\n    vec3(0  ,255,  0),\n    vec3(0  ,  0,255),\n    vec3(46 , 43, 95),\n    vec3(139,  0,255)\n);\n\n\n//https://en.wikipedia.org/wiki/Plotting_algorithms_for_the_Mandelbrot_set#Continuous_(smooth)_coloring\nvec3 brot(vec2 point)\n{\n    float x = 0.0, y = 0.0;\n    float iteration = 0.0;\n    const int max_iteration = 1000;\n\n    while (x*x + y*y <= float(1 << 16) && int(iteration) < max_iteration)\n    {\n        float xtemp = x*x - y*y + point.x;\n        y = 2.0*x*y + point.y;\n        x = xtemp;\n        iteration++;\n    }\n\n    // Used to avoid floating point issues with points inside the set.\n    if (int(iteration) < max_iteration)\n    {\n        float log_zn = log(x*x + y*y) / 2.0;\n        float nu = log(log_zn / log(2.0)) / log(2.0);\n        iteration = iteration + 1.0 - nu;\n    }\n    \n    vec3 color1 = palette[int(floor(iteration)) % 7]/vec3(255,255,255);\n    vec3 color2 = palette[(int(floor(iteration)) + 1) % 7]/vec3(255,255,255);\n    vec3 color = mix(color1, color2, fract(iteration));\n    return color;\n}\n\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord / iResolution.xy;\n    uv *= vec2(3.5,2);\n    uv += vec2(-2.5,-1);\n    \n    uv.x -= sin(iTime);\n    uv.y -= cos(iTime);\n    \n    uv /= sin(iTime/4.0)+2.0;\n    \n    uv.x += sin(iTime);\n    uv.y += cos(iTime);\n    \n    fragColor = vec4(brot(uv),1.0);\n}\n","name":"Image","description":"","type":"image"}]}