{"ver":"0.1","info":{"id":"MlcGDl","date":"1472317078","viewed":1177,"name":"[SH17A] voronoi paint","username":"abje","description":"Voronoi paint, click to add voronoi cells","likes":12,"published":3,"flags":32,"usePreview":0,"tags":["2d","voronoi","2tweet"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 f, in vec2 g ) {\n\tf = texelFetch(iChannel0, ivec2(g),0);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"void mainImage( out vec4 f, in vec2 g ) {\n    //setting the previous frame pixel color to f\n    f = texelFetch(iChannel0, ivec2(g),0);\n    \n    //if the length from mouse is lower than length from previous lowest length,\n    //set this length to closest and set a random color.\n    //also it is 1e4-length, because assuming that shadertoy starts Buf A pixels as vec4(0),\n    //so 0 is 1e4 and 1e4 is 0, so it starts high.\n\tfloat o = 1e4-length(iMouse.xy-g);\n    //f.a is the length to closest voronoi cell center, and o is \n    if (f.a < o&&iMouse.z>.0)\n        //changes f, rgb is the random color, and a is the distance to the closest voronoi cell center\n        f = vec4(fract(sin(iTime*vec3(1,2,3))*9.)-step(1e4-o,10.),o);\n}\n","name":"Buffer A","description":"","type":"buffer"}]}