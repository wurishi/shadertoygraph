{"ver":"0.1","info":{"id":"ssKSRm","date":"1634444726","viewed":169,"name":"jneen - sprite test 3d","username":"jneen","description":"a test of using \"sprites\" to render a scene. wanna try this in 3d next tbh","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["2d","fakesprites"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define I (1.)\n#define O (0.)\n\n#define T (.25*(iTime))\n\nfloat[16] T1 = float[16](\nI,O,I,I,\nO,I,I,O,\nO,I,I,O,\nI,I,O,I\n);\n                         \nfloat[16] T2 = float[16](\nO,I,I,O,\nO,O,O,I,\nI,O,O,O,\nO,I,I,O\n);\n\nfloat[16] T3 = float[16](\nI,I,I,I,\nI,O,O,I,\nI,O,O,I,\nI,I,I,I\n);\n\n\n\nvec3 erot(vec3 p,vec3 ax,float o) {\n  return mix(dot(ax,p)*ax,p,cos(o))+sin(o)*cross(ax,p);\n}\n\n#define bump(X) (sqrt(abs(sin(X))))\n\nmat2 rot(float t) { float s=sin(t),c=cos(t);return mat2(c,s,-s,c); }\n#define nsin(X) (.5+.5*sin(X))          \nfloat warp(vec2 p) {\n  p *= rot(bump(T));\n  p *= rot(pow(2.,p.x*p.x+p.y*p.y));\n  p.x-=3.*sin(T);\n  p*=(2.+10.*bump(T));\n  return tan(p.x)*tan(p.x)-tan(p.y)*tan(p.y);\n}\n\n#define RES floor(16.+16.*nsin(.25+T*3.523))\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uu = fragCoord/iResolution.xy;\n    \n    vec2 uv=uu-.5;\n    \n    \n    uv.x*=iResolution.x/iResolution.y;\n    \n//        uv += rot(T*5.)*vec2(bump(T*5.)-.5);\n\n    uv /= max(1.-1.*length(uv),.5);\n    \n    uv.y = -uv.y;\n    vec2 xy = floor(uv*RES)/RES;\n    vec2 idx = (clamp((uv-xy)*RES*4.,0.,4.));\n    // Time varying pixel color\n    float w = nsin(T)-warp(xy);\n    int i=4*int(idx.y)+int(idx.x);\n    vec3 c1 = 1.-mix(vec3(1),vec3(0),T1[i]);\n    vec3 c2 = 1.-mix(vec3(1),vec3(0),T2[i]);\n    vec3 c3 = erot(mix(vec3(uv,.6),vec3(.3,.1,.9),T3[i]),vec3(1.,.5,.4),T)/2.+.1;\n    vec3 C = vec3(mix(c1,mix(c2,c3,step(2.,w)),step(0.,w)));\n    // Output to screen\n    fragColor = vec4(C,1.0);\n}\n","name":"Image","description":"","type":"image"}]}