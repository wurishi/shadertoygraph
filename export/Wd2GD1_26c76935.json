{"ver":"0.1","info":{"id":"Wd2GD1","date":"1548755379","viewed":256,"name":"practice-15","username":"kiyamada96","description":"fbm practice","likes":6,"published":1,"flags":0,"usePreview":0,"tags":["fbm"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define OCTAVES 6\n\nfloat random(in vec2 st)\n{\n\treturn fract(sin(dot(st.xy,vec2(12.443,78.4)))*43758.2);\n}\n\nfloat noise(in vec2 st)\n{\n\tvec2 i=floor(st);\n    vec2 f=fract(st);\n    float a=random(i);\n    float b=random(i+vec2(1.0,0.0));\n    float c=random(i+vec2(0.0,1.0));\n    float d=random(i+vec2(1.0,1.0));\n    \n    vec2 u=smoothstep(0.0,1.0,f);\n    return mix(a,b,u.x)+(c-a)*u.y*(1.0-u.x)+(d-b)*u.x*u.y;\n}\n\nfloat fbm(vec2 p)\n{\n\tfloat result=0.0;\n    float amplitude=0.8;\n    \n    for(int i=0;i<OCTAVES;i++)\n    {\n    \tresult+=amplitude*noise(p);\n        amplitude*=0.5;\n        p*=2.;\n    }\n    return result;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 p=(fragCoord.xy*2.0-iResolution.xy)/iResolution.y+vec2(iTime*0.05);\n    \n    vec2 q=vec2(0.);\n    q.x=fbm(p+vec2(0.));\n    q.y=fbm(p+vec2(1.));\n    \n    vec2 r=vec2(0.);\n    r.x=fbm(p+(4.*q)+vec2(1.9,9.2)+(0.25*iTime));\n    r.y=fbm(p+(4.*q)+vec2(8.3,2.8)+(0.12*iTime));\n    \n    float f=fbm(p+4.*r);\n    fragColor = vec4(f);\n}","name":"Image","description":"","type":"image"}]}