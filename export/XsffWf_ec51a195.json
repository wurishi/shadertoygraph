{"ver":"0.1","info":{"id":"XsffWf","date":"1498426012","viewed":124,"name":"denove","username":"zardoru","description":"aaa simple shader composition quickly thrown together","likes":0,"published":1,"flags":64,"usePreview":0,"tags":["2d","musicvis"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XsfSzf","filepath":"https://soundcloud.com/noirsound/gtd","previewfilepath":"https://soundcloud.com/noirsound/gtd","type":"musicstream","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":0}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\nvec4 col = vec4(180, 250, 239, 255) / 255.0;\nvec4 colbg = vec4(180, 250, 255, 255) / 255.0 * 0.6;\nvec4 colbgg = vec4(180, 250, 255, 255) / 255.0 * 0.8;\n\nfloat amp(float x)\n{\n    return x;//pow(x, .2);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float pi = 3.1415926;\n    float tau = 2. * pi;\n    vec2 uv = (fragCoord.xy / iResolution.xy - .5) * 2.;\n    uv.x *= iResolution.x / iResolution.y;\n    float d = length(uv);\n    float a = abs(sin((atan(uv.y, uv.x) + pi)));\n    float nla = pow(a, 2.);\n    float val =  0.7 * amp(texture(iChannel0, vec2(nla, 0.)).x);\n    \n    float valw = amp(texture(iChannel0, vec2(a, 1.)).x) * 0.25 + 0.65;\n    \n    \n    float inner = step(d, val);\n    float outer = step(d, valw);\n\tfragColor = col * inner + \n        colbg * max((outer - inner), 0.) +\n        colbgg * step(max(inner, outer), d);\n}","name":"Image","description":"","type":"image"}]}