{"ver":"0.1","info":{"id":"sddfzS","date":"1657058390","viewed":139,"name":"Pickover stalk","username":"zenzicubic","description":"Pickover stalks and Julia sets","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["fractal","trippy","stalk"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define MAX 100\n#define BAILOUT 2.0\n#define MUL 7.\n\nvec3 col1 = vec3(239. / 255., 229. / 255., 220. / 255.);\nvec3 col2 = vec3(15. / 255., 3. / 255., 38. / 255.);\n\nfloat test(vec2 z, vec2 c) \n{\n    // test whether pt lies in Pickover stalks\n    int i = 0;\n    \n    float re, im;\n    float trapDst = 100000.;\n    while (i < MAX) {\n        re = (z.x * z.x) - (z.y * z.y) + c.x;\n        im = 2. * z.x * z.y + c.y;\n        z = vec2(re, im);\n        \n        trapDst = min(min(abs(re), abs(im)), trapDst);\n        \n        if (length(z) > BAILOUT) break;\n        i ++;\n    }\n    return trapDst * MUL;\n}\n\nvec2 map(vec2 fragCoord)\n{\n    // map UV coords to mandelbrot coords\n    vec2 pos = fragCoord/iResolution.xy;\n    float ratio = iResolution.x / iResolution.y;\n    \n    vec2 z = (3. * pos) - 1.5;\n    z.x *= ratio;\n    \n    return z;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // map to range and test\n    vec2 z = map(fragCoord);\n    vec2 mPos = vec2(iMouse.x, iMouse.y);\n    vec2 c = map(mPos);\n    float t = clamp(test(z, c), 0., 1.);\n    \n    // set color\n    vec3 col = (1.0 - t) * col1 + t * col2;\n    fragColor = vec4(col, 1.0);\n}","name":"Image","description":"","type":"image"}]}