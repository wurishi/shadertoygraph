{"ver":"0.1","info":{"id":"dd33W7","date":"1677354048","viewed":51,"name":"Spill ball","username":"subchannel13","description":".","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["prototying"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.1415926538\n\nfloat hillValue(in vec3 p, in vec3 hill, in float h0)\n{\n    return max(h0 - acos(dot(p, hill)), 0.0);\n}\n\nfloat hillHeight(in vec3 p)\n{\n    return hillValue(p, vec3(-0.5615841, -0.5409426, -0.6261026), 0.891661252985551) +\n        hillValue(p, vec3(-0.1734008, -0.6100116, -0.7731868), 1.07855127485402) +\n        hillValue(p, vec3(0.2560815, -0.6559605, -0.7100268), 1.40959657256473) +\n        hillValue(p, vec3(-0.727483, -0.2190319, -0.6502256), 0.584743303845051) +\n        hillValue(p, vec3(-0.2152404, -0.4773088, -0.8519671), 0.765134644911222) +\n        hillValue(p, vec3(0.2309725, -0.3766041, -0.8971182), 1.37074883634725) +\n        hillValue(p, vec3(-0.6285113, 0.1933646, -0.7533816), 0.624055841157239) +\n        hillValue(p, vec3(-0.1770152, 0.6450045, -0.7433942), 0.589930380829577) +\n        hillValue(p, vec3(0.5232108, 0.1606778, -0.8369189), 0.383894030742298) +\n        hillValue(p, vec3(-0.6881087, -0.6934226, -0.2137088), 1.9390631630733) +\n        hillValue(p, vec3(-0.0585877, -0.8714174, -0.487031), 0.667866536121753) +\n        hillValue(p, vec3(0.4501376, -0.8412303, -0.2995123), 1.72468990107285) +\n        hillValue(p, vec3(-0.8720984, -0.1112224, -0.4765227), 1.20549155429727) +\n        hillValue(p, vec3(-0.4449577, -0.7141439, -0.5403804), 1.15547238493127) +\n        hillValue(p, vec3(0.337327, -0.9390832, -0.06582693), 0.489804728045037) +\n        hillValue(p, vec3(-0.8270529, 0.535742, -0.170188), 1.41274173644499) +\n        hillValue(p, vec3(-0.8676375, 0.4438354, -0.2240877), 0.5783871462468) +\n        hillValue(p, vec3(0.5982534, 0.4760277, -0.6445854), 1.8395255424732) +\n        hillValue(p, vec3(-0.7307718, -0.662818, 0.1632328), 1.12702938615206) +\n        hillValue(p, vec3(-0.4722927, -0.7593219, 0.4476269), 1.42671743739709) +\n        hillValue(p, vec3(0.4604094, -0.8475477, 0.2639815), 1.93280325824525) +\n        hillValue(p, vec3(-0.8061802, -0.4077857, 0.4287007), 1.31926635350998) +\n        hillValue(p, vec3(-0.1504001, -0.6259018, 0.7652625), 1.4753959017924) +\n        hillValue(p, vec3(0.8151861, -0.4217961, 0.3969377), 2.00634141613559) +\n        hillValue(p, vec3(-0.8778803, 0.3862793, 0.2830448), 1.16741755866325) +\n        hillValue(p, vec3(-0.308485, 0.8953618, 0.3211919), 0.542916410948577) +\n        hillValue(p, vec3(0.4648136, 0.3601442, 0.8088538), 1.63321056500227);\n}\n\nvec3 rotateOverX(in vec3 v, in float angle)\n{\n    float sinA = sin(angle);\n    float cosA = cos(angle);\n\n    return vec3(\n        cosA * v.x - sinA * v.z,\n        v.y,\n        sinA * v.x + cosA * v.z\n    );\n}\n\nvec3 rotateOverY(in vec3 v, in float angle)\n{\n    float sinA = sin(angle);\n    float cosA = cos(angle);\n\n    return vec3(\n        v.x,\n        cosA * v.y - sinA * v.z,\n        sinA * v.y + cosA * v.z\n    );\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float scale = min(iResolution.x, iResolution.y) * 0.45;\n    vec2 offset = vec2(iResolution.x / 2.0, iResolution.y / 2.0);\n    vec2 pxy = (fragCoord.xy - offset) * (1.0 / scale);\n    float pLen = length(pxy);\n    if (pLen > 1.0)\n    {\n        fragColor = vec4(0.0, 0.0, 0.0 ,1.0);\n    } else {\n        vec3 p = vec3(pxy, 1.0 - pLen * pLen);\n        p = rotateOverX(p, iTime * 0.1);\n        fragColor = vec4(0.125, 0.125, 1.0, 1.0);\n        \n        float levelScale = 1.0;\n\n        float level = floor(hillHeight(p) / levelScale);\n        for (int dy = -1; dy <= 1; dy++)\n            for (int dx = -1; dx <= 1; dx++)\n            {\n                vec3 rotateX = rotateOverX(p, float(dx) * PI / 2.0 / scale / 0.20);\n                vec3 rotateY = rotateOverY(rotateX, float(dy) * PI / 2.0 / scale / 0.20);\n\n                if (floor(hillHeight(rotateY) / levelScale) != level)\n                    fragColor = vec4(0.5, 0.5, 1.0, 1.0);\n            }\n    }\n}","name":"Image","description":"","type":"image"}]}