{"ver":"0.1","info":{"id":"ftcXRn","date":"1638567151","viewed":65,"name":"Domain distortion by x,y","username":"wheercool","description":"Domain distortion","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["sdfdistortion"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\nfloat band(float x, float left, float right, float blur) {\n  return smoothstep(left - blur, left + blur, x) *\n         smoothstep(right + blur, right - blur, x);\n}\n\nfloat rect(vec2 uv, float left, float right, float bottom, float top, float blur) {\n  return band(uv.x, left, right, blur) *\n         band(uv.y, bottom, top, blur);\n}\n\nfloat remap01(float a, float b, float v) {\n  return (v - a) / (b - a);\n}\n\nfloat remap(float a, float b, float x, float y, float v) {\n  return (y - x) * remap01(a, b, v) + x;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord.xy/iResolution.xy;\n    uv -= 0.5;\n    vec2 pos = vec2(0.);\n   \n    float left = -0.2;\n    float right = 0.2;\n    float bottom = -0.1;\n    float top = 0.1;\n    float x = uv.x;\n    float y = uv.y;\n    float m = -(x+left)*(x+right);\n    y -= m * m * sin(iTime)* 100.;\n    float m2 = -(y+bottom)*(y+top) * sin(iTime)*2.;\n    \n    x -= remap(left, right, 1., -1., x) * m2;\n    float mask = rect(vec2(x, y), left, right, bottom, top, 0.001);\n    vec3 col = vec3(mask);\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}