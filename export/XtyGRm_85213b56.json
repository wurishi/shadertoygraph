{"ver":"0.1","info":{"id":"XtyGRm","date":"1638540134","viewed":162,"name":"Dragon ball 1 star","username":"Shirooo","description":"Dragon ball","likes":7,"published":1,"flags":0,"usePreview":0,"tags":["dragonball"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const mat2 m = mat2( 0.80,  0.60, -0.60,  0.80 );\n\nvec2 rotate(vec2 p, float a)\n{\n    return mat2( cos(a), -sin(a), sin(a), cos(a) ) * p;\n}\n\n\nfloat hash( float n )\n{\n    return fract(sin(n)*43758.5453);\n}\n\nfloat noise( in vec2 x )\n{\n    vec2 p = floor(x);\n    vec2 f = fract(x);\n\n    f = f*f*(3.0-2.0*f);\n\n    float n = p.x + p.y*57.0;\n\n    return mix(mix( hash(n+  0.0), hash(n+  1.0),f.x),\n               mix( hash(n+ 57.0), hash(n+ 58.0),f.x),f.y);\n}\n\nfloat fbm( vec2 p )\n{\n    float f = 0.0;\n\n    f += 0.50000*noise( p ); p = m*p*2.02;\n    f += 0.25000*noise( p ); p = m*p*2.03;\n    f += 0.12500*noise( p ); p = m*p*2.01;\n\n    return f/0.90;\n}\n\nfloat sdStar5(in vec2 p, in float r, in float rf)\n{\n    const vec2 k1 = vec2(0.809016994375, -0.587785252292);\n    const vec2 k2 = vec2(-k1.x,k1.y);\n    p.x = abs(p.x);\n    p -= 2.0*max(dot(k1,p),0.0)*k1;\n    p -= 2.0*max(dot(k2,p),0.0)*k2;\n    p.x = abs(p.x);\n    p.y -= r;\n    vec2 ba = rf*vec2(-k1.y,k1.x) - vec2(0,1);\n    float h = clamp( dot(p,ba)/dot(ba,ba), 0.0, r );\n    return length(p-ba*h) * sign(p.y*ba.x-p.x*ba.y);\n}\n\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    uv = uv*2.0 - 1.0; \n    uv.x *= iResolution.x / iResolution.y;\n    \n    float r = length(uv);\n    \n    //bckg\n    vec3 col = mix(vec3(1.,0.2,0.0), vec3(0.7,0.15,0.0), fbm((uv+iTime*0.3)*.5));\n    \n    \n    //dark red border\n    float t = smoothstep(0.8, 0.82, r);\n    col = mix(vec3(0.8, 0.,0.), col, t);\n    \n    //yellow\n    t = smoothstep(0.79, 0.8, r);\n    vec3 noisedCol = mix(vec3(0.9,0.85,0.5), vec3(1.,0.9,0.5), fbm(uv));\n    col = mix(noisedCol, col, t);\n    \n    //orange shadow\n    t = smoothstep(0.75, 0.79, r);\n    col = mix(vec3(0.85,0.37,0.0), col, t);\n    \n    //yellow highlight\n    if(r<0.79)\n    {\n        float offsetedR = length(uv+vec2(0.2,-0.15));\n        t = smoothstep(0.4, 1.5, offsetedR);\n        t *= fbm(uv*0.3+vec2(iTime*0.5))*3.4; \n        col = mix(vec3(0.98,0.9,0.2), col, t);\n    }\n    \n    //star\n    noisedCol = mix(vec3(0.95,0.5,0.2), vec3(1.,0.5,0.2), fbm(uv*4.+vec2(0.2,0.7)));\n    col = mix(col, noisedCol, smoothstep(0.1,0.,sdStar5(uv*vec2(8.,8.5)-vec2(0.,0.4), 2., .4)));\n    \n    //white highlights\n    vec2 h1uv = ((uv+vec2(0.55-pow(uv.y,2.)*0.7,0.14))*vec2(1.7-uv.y*2.0,0.65));\n    float offsetedR = length(h1uv);\n    t = smoothstep(0.3, 0.25, offsetedR + fbm((uv+vec2(2.))*3.)*0.1);\n    col = mix(col, vec3(1., 1., 0.9), t);\n    \n    h1uv = ((uv+vec2(0.35,-0.3))*vec2(10.,5.));\n    offsetedR = length(h1uv);\n    t = smoothstep(0.3, 0.1, offsetedR + fbm((uv+vec2(2.))*40.)*0.1);\n    col = mix(col, vec3(1., 1., 0.9), t);\n    \n    h1uv = ((uv+vec2(0.25,-0.45))*vec2(2.,4.));\n    offsetedR = length(h1uv);\n    t = smoothstep(0.3, 0.2, offsetedR + fbm((uv+1.)*7.)*0.2);\n    col = mix(col, vec3(1., 1., 0.9), t);\n    \n    vec2 rotuv = rotate(uv+vec2(-0.32,0.67), 0.49);\n    h1uv = rotuv*vec2(1.8,9.);\n    offsetedR = length(h1uv);\n    t = smoothstep(0.24, 0.2, offsetedR + fbm((uv+2.)*10.)*0.1);\n    col = mix(col, vec3(1., 1., 0.9), t);\n    \n    rotuv = rotate(uv+vec2(-0.53,0.52), 0.76);\n    h1uv = rotuv*vec2(1.6,9.);\n    offsetedR = length(h1uv);\n    t = smoothstep(0.24, 0.2, offsetedR + fbm((uv+2.)*10.)*0.1);\n    col = mix(col, vec3(1., 1., 0.9), t);\n    \n    \n    col = pow(col,vec3(2.2));\n\tfragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}