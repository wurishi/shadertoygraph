{"ver":"0.1","info":{"id":"dsf3D7","date":"1666262184","viewed":91,"name":"Crazy Wave Pattern","username":"kirbyx09","description":"Crazy Wave Pattern","likes":8,"published":1,"flags":0,"usePreview":0,"tags":["waves","animation","pattern"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float Hash21(vec2 p) {\n    p = fract(p*vec2(123.234,234.234));\n    p += dot(p, p+234.32);\n    return fract(p.x*p.y);\n}\n\nfloat Length(vec2 p, float k) {\n    p = abs(p);\n    return pow(pow(p.x, k)+pow(p.y,k), 1./k);\n}\n\nvec4 Truchet(vec2 p, vec3 col, float curve, float thickness, float pattern) {\n    vec2 id = floor(p);\n    float n = Hash21(id); // random 0 to 1 per box\n    \n    p = fract(p)-.5;\n    \n    if(n<.5)\n        p.x *= -1.;\n    \n    float s = p.x>-p.y ? 1. : -1.; // corner selection\n    \n    vec2 cp = p-vec2(.5,.5)*s; // circle coordinates\n    float cd = Length(cp, curve); // distance to center\n    \n    float w = .01; // edge blur\n    float ed = abs(cd-.5)-thickness; // egde distance\n    float contour = smoothstep(w,-w, ed);\n    \n    float a = atan(cp.x, cp.y); // polar angle from -pi to pi\n    \n    //if(p.x>.49 || p.y>.49) col += 1.;\n    float d = cos(a*2.)*.5+.5; // the depth\n    \n    col *= mix(0.3, 1., d); // shading\n    \n    float check = mod(id.x+id.y, 2.)*2.-1.;\n    \n    col *= 1.+sin(check*a*30.+ed*100.-iTime*5.)*.3*pattern;\n    \n    return vec4(col, d)*contour;\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord-.5*iResolution.xy)/iResolution.y;\n    \n    vec3 col = vec3(0);\n    \n    float cd = length(uv); // distance to center of screen\n    uv += iTime*.1;\n    \n    uv *= 3.;\n    \n    float w = mix(.1, 0.01, smoothstep(0., .5, cd));\n    vec4 t1 = Truchet(uv, vec3(1,0,0), 2., w, 1.);\n    vec4 t2 = Truchet(uv+.5, vec3(0,1,0), 1., .1, 0.);\n    \n    col = t1.a>t2.a ? t1.rgb : vec3(0);\n    col += t2.a>t1.a ? t2.rgb : vec3(0);\n    \n    fragColor = vec4(col,1.);\n}","name":"Image","description":"","type":"image"}]}