{"ver":"0.1","info":{"id":"MtKGzt","date":"1476316068","viewed":395,"name":"Black Hole Effect","username":"aminere","description":"Kinda looks like an asshole in space too","likes":8,"published":1,"flags":0,"usePreview":0,"tags":["2d","distortion","hole","black"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4df3Rr","filepath":"/media/a/3871e838723dd6b166e490664eead8ec60aedd6b8d95bc8e2fe3f882f0fd90f0.jpg","previewfilepath":"/media/ap/3871e838723dd6b166e490664eead8ec60aedd6b8d95bc8e2fe3f882f0fd90f0.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\nvec3 blob(vec2 point, vec2 uv, vec3 color, float invIntensity, float invGlow)\n{\n    float d = distance(uv, point);    \n\tfloat invD = 1.0/d;\n\tinvD = pow(invD / invIntensity, invGlow);    \n\treturn color * invD;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // [0, res] to [-1, 1]\n\tvec2 coord = -1.0 + (fragCoord.xy / iResolution.xy) * 2.0;\n    vec2 ncoord = coord * vec2(iResolution.x / iResolution.y, 1.0);\n    \n    // change look at\n    ncoord.x += sin(radians(iTime*40.0)) * .4;    \n    ncoord.y += cos(radians(iTime*40.0)) * .7;\n    \n    // rotation\n    float angleRot = radians(iTime)*30.0;    \n    vec2 tcoord = vec2(ncoord.x * cos(angleRot) - ncoord.y * sin(angleRot),\n                       ncoord.y * cos(angleRot) + ncoord.x * sin(angleRot));    \n    \n    // sink hole projection    \n    float angle = atan(tcoord.x, tcoord.y);\n    float radius = length(tcoord);\n    vec2 uv = vec2(angle, radius);\n    \n    uv /= radians(90.0);  \n    uv.y += iTime*.5; // scrolling    \n    \n    vec4 col = texture(iChannel0, uv);    \n    \n    // hole\n    float invIntensity = 6.0 + sin(radians(iTime*40.0)) * 5.8;\n    float invGlow = 2.3;\n    col.rgb -= blob(vec2(0.0, 0.0), tcoord, vec3(0.7, 0.7, 1.0), invIntensity, invGlow);\n    \n\tfragColor = col;\n}\n\n","name":"Image","description":"","type":"image"}]}