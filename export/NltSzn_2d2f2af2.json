{"ver":"0.1","info":{"id":"NltSzn","date":"1638606270","viewed":481,"name":"Electro Dynamics","username":"wyatt","description":"A relativistic simulation of a continuum of electrons. \nWave simulation propagates electromagnetic force fields (Buffer A and B)\nElectromagnetic force accelerates the electron continuum (Buffer C)\nElectrons are transported as a continuum  (Buffer D)","likes":19,"published":3,"flags":32,"usePreview":0,"tags":["relativity"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sX3zn","filepath":"/media/a/0681c014f6c88c356cf9c0394ffe015acc94ec1474924855f45d22c3e70b5785.png","previewfilepath":"/media/ap/0681c014f6c88c356cf9c0394ffe015acc94ec1474924855f45d22c3e70b5785.png","type":"cubemap","channel":2,"sampler":{"filter":"mipmap","wrap":"clamp","vflip":"false","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XdfGR8","filepath":"/media/previz/buffer03.png","previewfilepath":"/media/previz/buffer03.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Display üåà\nMain {\n    vec4 a = A(U);\n    vec4 b = B(U);\n    float n = B(U+vec2(0,1)).w;\n    float e = B(U+vec2(1,0)).w;\n    float s = B(U-vec2(0,1)).w;\n    float w = B(U-vec2(1,0)).w;\n    vec3 no = normalize(vec3(e-w,n-s,1));\n    Q = .8*atan(10.*b.wwww);\n    Q *= 1.-.5*texture(iChannel2,no);\n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"#define R iResolution.xy\n#define A(U) texture(iChannel0,(U)/R)\n#define B(U) texture(iChannel1,(U)/R)\n#define Main void mainImage(out vec4 Q, in vec2 U)","name":"Common","description":"","type":"common"},{"inputs":[{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XdfGR8","filepath":"/media/previz/buffer03.png","previewfilepath":"/media/previz/buffer03.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"// Electric Field ‚ö°Ô∏è\nMain {\n    Q = A(U);\n    vec4 b = B(U);\n    vec4 n = A(U+vec2(0,1));\n    vec4 e = A(U+vec2(1,0));\n    vec4 s = A(U-vec2(0,1));\n    vec4 w = A(U-vec2(1,0));\n    /*  \n        E/dt = -D*V+‚àá√óM       \n    */  Q.x += -b.w*b.x-e.z+w.z;\n        Q.y += -b.w*b.y-n.z+s.z;\n    \n    \n    \n}","name":"Buffer A","description":"","type":"buffer"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4sXGR8","filepath":"/media/previz/buffer02.png","previewfilepath":"/media/previz/buffer02.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"XsXGR8","channel":0}],"code":"// Magnetic Feild üß≤\nMain {\n    Q = A(U);\n    vec4 b = B(U);\n    vec4 n = A(U+vec2(0,1));\n    vec4 e = A(U+vec2(1,0));\n    vec4 s = A(U-vec2(0,1));\n    vec4 w = A(U-vec2(1,0));\n    /*\n        M/dt = -D*V-‚àá‚ãÖdE\n    */  Q.z += b.w-Q.z-.25*(e.x-w.x+n.y-s.y);\n    \n}","name":"Buffer B","description":"","type":"buffer"},{"inputs":[{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XdfGR8","filepath":"/media/previz/buffer03.png","previewfilepath":"/media/previz/buffer03.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4sXGR8","channel":0}],"code":"// Electron Force ‚ö°Ô∏èüß≤\nMain {\n    Q = A(U);\n    vec4 b = B(U);\n    \n    /*    \n        V/dt = -D/m*E-D/m*V√óM\n    */  Q.x += Q.w/2000.*(b.x-Q.x*b.z);\n        Q.y += Q.w/2000.*(b.y-Q.y*b.z);\n    \n    if (iFrame < 1) {\n        Q.w=2.*exp(-.05*length(U-.5*R+60.));\n        Q.w+=2.*exp(-.05*length(U-.5*R-60.));\n    } \n}","name":"Buffer C","description":"","type":"buffer"},{"inputs":[{"id":"4sXGR8","filepath":"/media/previz/buffer02.png","previewfilepath":"/media/previz/buffer02.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"XdfGR8","channel":0}],"code":"// Transport Electrons üöó\nMain\n{\n    Q = A(U);\n    vec4 dQ = vec4(0);\n    for (int x=-1;x<=1;x++)\n    for (int y=-1;y<=1;y++)\n    if(abs(x)!=abs(y))\n    {\n        vec2 u = vec2(x,y);\n        vec4 q = A(U+u);\n        vec2 a = .5*Q.xy*inversesqrt(1.+dot(Q.xy,Q.xy)),\n             b = .5*q.xy*inversesqrt(1.+dot(q.xy,q.xy))+u;\n       float ab = dot(u,b-a);\n       float i = dot(u,0.5*u-a)/ab;\n       float wa = 0.5*Q.w*min(i,.5);\n       float wb = 0.5*q.w*max(i-.5,0.);\n       dQ.xyz += Q.xyz*wa+q.xyz*wb;\n       dQ.w += wa+wb;\n        \n    }\n    if (dQ.w>0.)dQ.xyz/=dQ.w;\n    Q = dQ;\n}","name":"Buffer D","description":"","type":"buffer"}]}