{"ver":"0.1","info":{"id":"4fdXRs","date":"1714497737","viewed":84,"name":"Turmites (4 state, 4 color)","username":"Boogaloo","description":"Click to add more turmites. Change the scale and rule set in the common tab.","likes":9,"published":1,"flags":32,"usePreview":0,"tags":["cellularautomata","turmite","turingmachine"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"go{\nO=vec4(0.);\nvec4 me=tex(C0,ivec2(I.x/S+.5*R.x*(1.-(1./S)),I.y/S+.5*R.y*(1.-(1./S))));\nswitch(int(me.y)){\ncase 0:\nO.x=1.;O.y=1.;return;\ncase 1:\nO.y=1.;O.z=1.;return;\ncase 2:\nO.z=1.;O.x=1.;return;\ncase 3:\nO=vec4(1.);return;}\n\nswitch(int(me.x)){\ncase 1:\nO.x=1.;return;\ncase 2:\nO.y=1.;return;\ncase 3:\nO.z=1.;return;}}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"#define go void mainImage( out vec4 O, in vec2 I )\n#define R iResolution\n#define M iMouse\n#define C0 iChannel0\n#define tex(x,y) texelFetch(x,y,0)\n\n//scale factor\n#define S 3.\n\n//change T for different turmites\n#define T 2\n\n//Langton's ant\n#if (T==1)\nmat4x3 r0 = mat4x3(1.,0.,3.,0.,0.,0.,0.,0.,0.,0.,0.,0.);\nmat4x3 r1 = mat4x3(0.,0.,1.,0.,0.,0.,0.,0.,0.,0.,0.,0.);\nmat4x3 r2 = mat4x3(0.,0.,0.,0.,0.,0.,0.,0.,0.,0.,0.,0.);\nmat4x3 r3 = mat4x3(0.,0.,0.,0.,0.,0.,0.,0.,0.,0.,0.,0.);\n#endif\n\n//coiled rope\n#if (T==2)\nmat4x3 r0 = mat4x3(3.,1.,0.,3.,1.,1.,0.,0.,0.,0.,0.,0.);\nmat4x3 r1 = mat4x3(3.,0.,3.,2.,0.,0.,0.,0.,0.,0.,0.,0.);\nmat4x3 r2 = mat4x3(1.,1.,0.,1.,1.,1.,0.,0.,0.,0.,0.,0.);\nmat4x3 r3 = mat4x3(1.,0.,3.,0.,0.,0.,0.,0.,0.,0.,0.,0.);\n#endif\n\n//striped spiral\n#if (T==3)\nmat4x3 r0 = mat4x3(2.,1.,1.,3.,1.,3.,0.,0.,0.,0.,0.,0.);\nmat4x3 r1 = mat4x3(2.,0.,3.,2.,0.,1.,0.,0.,0.,0.,0.,0.);\nmat4x3 r2 = mat4x3(0.,1.,1.,1.,1.,3.,0.,0.,0.,0.,0.,0.);\nmat4x3 r3 = mat4x3(0.,0.,3.,0.,0.,1.,0.,0.,0.,0.,0.,0.);\n#endif\n\n//amoeba\n#if (T==4)\nmat4x3 r0 = mat4x3(1.,1.,1.,1.,2.,3.,1.,0.,1.,0.,0.,0.);\nmat4x3 r1 = mat4x3(2.,2.,3.,2.,0.,1.,2.,1.,3.,0.,0.,0.);\nmat4x3 r2 = mat4x3(3.,2.,3.,3.,0.,1.,3.,0.,1.,0.,0.,0.);\nmat4x3 r3 = mat4x3(0.,1.,1.,0.,2.,3.,0.,1.,3.,0.,0.,0.);\n#endif\n\n//chaos\n#if (T==5)\nmat4x3 r0 = mat4x3(1.,0.,2.,2.,0.,3.,3.,0.,0.,0.,0.,1.);\nmat4x3 r1 = mat4x3(2.,1.,2.,3.,1.,3.,0.,1.,0.,1.,1.,1.);\nmat4x3 r2 = mat4x3(3.,2.,2.,0.,2.,3.,1.,2.,0.,2.,2.,1.);\nmat4x3 r3 = mat4x3(0.,3.,2.,1.,3.,3.,2.,3.,0.,3.,3.,1.);\n#endif\n\n\n","name":"Common","description":"","type":"common"},{"inputs":[{"id":"XdfGR8","filepath":"/media/previz/buffer03.png","previewfilepath":"/media/previz/buffer03.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"go{\nO=vec4(0.,-1.,-1.,0.);\nif(iFrame<1){return;}\nif(M.z>0.&&iFrame%4==0){\nvec2 N=vec2(M.x/S+.5*R.x*(1.-(1./S)),M.y/S+.5*R.y*(1.-(1./S)));\nif(I.x>N.x&&I.x<N.x+1.&&I.y>N.y&&I.y<N.y+1.){O=vec4(0.);return;\n}}\nmat4x3 rules[4];\nrules[0] = r0;\nrules[1] = r1;\nrules[2] = r2;\nrules[3] = r3;\nvec4 me=tex(C0,ivec2(I));\nO.x=me.x;\nfor(float i=-1.;i<2.;i++){\nfor(float j=-1.;j<2.;j++){\nif(abs(i)==abs(j)){continue;}\nvec4 them=tex(C0,ivec2(mod(I.x+i,R.x),mod(I.y+j,R.y)));\nif(them.y>-1.){\nif(i==-1.&&them.z==2.){\nO.x=rules[int(me.x)][int(them.y)][0];\nO.y=rules[int(me.x)][int(them.y)][1];\nO.z=mod(2.+rules[int(me.x)][int(them.y)][2],4.);\nreturn;}\nif(j==-1.&&them.z==1.){\nO.x=rules[int(me.x)][int(them.y)][0];\nO.y=rules[int(me.x)][int(them.y)][1];\nO.z=mod(1.+rules[int(me.x)][int(them.y)][2],4.);\nreturn;}\nif(i==1.&&them.z==0.){\nO.x=rules[int(me.x)][int(them.y)][0];\nO.y=rules[int(me.x)][int(them.y)][1];\nO.z=mod(rules[int(me.x)][int(them.y)][2],4.);\nreturn;}\nif(j==1.&&them.z==3.){\nO.x=rules[int(me.x)][int(them.y)][0];\nO.y=rules[int(me.x)][int(them.y)][1];\nO.z=mod(3.+rules[int(me.x)][int(them.y)][2],4.);\nreturn;}}}}}","name":"Buffer A","description":"","type":"buffer"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"XsXGR8","channel":0}],"code":"go{\nO=vec4(0.,-1.,-1.,0.);\nif(iFrame<1){return;}\nmat4x3 rules[4];\nrules[0] = r0;\nrules[1] = r1;\nrules[2] = r2;\nrules[3] = r3;\nvec4 me=tex(C0,ivec2(I));\nO.x=me.x;\nfor(float i=-1.;i<2.;i++){\nfor(float j=-1.;j<2.;j++){\nif(abs(i)==abs(j)){continue;}\nvec4 them=tex(C0,ivec2(mod(I.x+i,R.x),mod(I.y+j,R.y)));\nif(them.y>-1.){\nif(i==-1.&&them.z==2.){\nO.x=rules[int(me.x)][int(them.y)][0];\nO.y=rules[int(me.x)][int(them.y)][1];\nO.z=mod(2.+rules[int(me.x)][int(them.y)][2],4.);\nreturn;}\nif(j==-1.&&them.z==1.){\nO.x=rules[int(me.x)][int(them.y)][0];\nO.y=rules[int(me.x)][int(them.y)][1];\nO.z=mod(1.+rules[int(me.x)][int(them.y)][2],4.);\nreturn;}\nif(i==1.&&them.z==0.){\nO.x=rules[int(me.x)][int(them.y)][0];\nO.y=rules[int(me.x)][int(them.y)][1];\nO.z=mod(rules[int(me.x)][int(them.y)][2],4.);\nreturn;}\nif(j==1.&&them.z==3.){\nO.x=rules[int(me.x)][int(them.y)][0];\nO.y=rules[int(me.x)][int(them.y)][1];\nO.z=mod(3.+rules[int(me.x)][int(them.y)][2],4.);\nreturn;}}}}}","name":"Buffer B","description":"","type":"buffer"},{"inputs":[{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4sXGR8","channel":0}],"code":"go{\nO=vec4(0.,-1.,-1.,0.);\nif(iFrame<1){return;}\nmat4x3 rules[4];\nrules[0] = r0;\nrules[1] = r1;\nrules[2] = r2;\nrules[3] = r3;\nvec4 me=tex(C0,ivec2(I));\nO.x=me.x;\nfor(float i=-1.;i<2.;i++){\nfor(float j=-1.;j<2.;j++){\nif(abs(i)==abs(j)){continue;}\nvec4 them=tex(C0,ivec2(mod(I.x+i,R.x),mod(I.y+j,R.y)));\nif(them.y>-1.){\nif(i==-1.&&them.z==2.){\nO.x=rules[int(me.x)][int(them.y)][0];\nO.y=rules[int(me.x)][int(them.y)][1];\nO.z=mod(2.+rules[int(me.x)][int(them.y)][2],4.);\nreturn;}\nif(j==-1.&&them.z==1.){\nO.x=rules[int(me.x)][int(them.y)][0];\nO.y=rules[int(me.x)][int(them.y)][1];\nO.z=mod(1.+rules[int(me.x)][int(them.y)][2],4.);\nreturn;}\nif(i==1.&&them.z==0.){\nO.x=rules[int(me.x)][int(them.y)][0];\nO.y=rules[int(me.x)][int(them.y)][1];\nO.z=mod(rules[int(me.x)][int(them.y)][2],4.);\nreturn;}\nif(j==1.&&them.z==3.){\nO.x=rules[int(me.x)][int(them.y)][0];\nO.y=rules[int(me.x)][int(them.y)][1];\nO.z=mod(3.+rules[int(me.x)][int(them.y)][2],4.);\nreturn;}}}}}","name":"Buffer C","description":"","type":"buffer"},{"inputs":[{"id":"4sXGR8","filepath":"/media/previz/buffer02.png","previewfilepath":"/media/previz/buffer02.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"XdfGR8","channel":0}],"code":"go{\nO=vec4(0.,-1.,-1.,0.);\nif(iFrame<1){\nfloat a=floor(R.x*.5);\nfloat b=floor(R.y*.5);\nif(I.x>=a && I.x<a+1. && I.y>=b && I.y< b+1.){O=vec4(0.);}\nreturn;}\nmat4x3 rules[4];\nrules[0] = r0;\nrules[1] = r1;\nrules[2] = r2;\nrules[3] = r3;\nvec4 me=tex(C0,ivec2(I));\nO.x=me.x;\nfor(float i=-1.;i<2.;i++){\nfor(float j=-1.;j<2.;j++){\nif(abs(i)==abs(j)){continue;}\nvec4 them=tex(C0,ivec2(mod(I.x+i,R.x),mod(I.y+j,R.y)));\nif(them.y>-1.){\nif(i==-1.&&them.z==2.){\nO.x=rules[int(me.x)][int(them.y)][0];\nO.y=rules[int(me.x)][int(them.y)][1];\nO.z=mod(2.+rules[int(me.x)][int(them.y)][2],4.);\nreturn;}\nif(j==-1.&&them.z==1.){\nO.x=rules[int(me.x)][int(them.y)][0];\nO.y=rules[int(me.x)][int(them.y)][1];\nO.z=mod(1.+rules[int(me.x)][int(them.y)][2],4.);\nreturn;}\nif(i==1.&&them.z==0.){\nO.x=rules[int(me.x)][int(them.y)][0];\nO.y=rules[int(me.x)][int(them.y)][1];\nO.z=mod(rules[int(me.x)][int(them.y)][2],4.);\nreturn;}\nif(j==1.&&them.z==3.){\nO.x=rules[int(me.x)][int(them.y)][0];\nO.y=rules[int(me.x)][int(them.y)][1];\nO.z=mod(3.+rules[int(me.x)][int(them.y)][2],4.);\nreturn;}}}}}","name":"Buffer D","description":"","type":"buffer"}]}