{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[{"channel":0,"type":"texture","id":"4sXGRn","filepath":"/media/a/95b90082f799f48677b4f206d856ad572f1d178c676269eac6347631d4447258.jpg","sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"}}],"code":"#define NUM_DRIPS 20\n\nfloat Seed;\n\nvoid srand (float t)\n{\n    Seed = 0.5 + (sin (t*59.0) + sin (t*73.0) + sin (t*97.0))/6.0;\n}\n    \nfloat rand()\n{\n    Seed = 0.25 + 0.5*Seed + 0.25*sin (12345.0 * Seed);\n    return Seed;\n}\n\nvec2 dripPos (float fTime, out float fAge)\n{\n    float t = floor (fTime*0.1);\n    srand (t);\n    fAge = fTime*0.1 - t;\n    return vec2 (rand(), rand());\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 vRel = fragCoord.xy / iResolution.xy;\n\n    float t = iTime;\n    float fStep = 123.456;\n    float fHeight = 0.0;\n    \n    for (int i = 0; i < NUM_DRIPS; i++)\n    {\n        float fAge;\n        vec2 vRnd = dripPos (t, fAge);\n\n        // float fDx = vRel.x - vRnd.x;\n        // float fDy = vRel.y - vRnd.y;\n        // float fD2 = fDx*fDx + fDy*fDy;\n        // float fD = sqrt (fD2);\n        \n        // the above, simpler:\n        vec2 vD = vec2 (vRel - vRnd);\n        float fD = sqrt (dot (vD, vD));\n\n        float fDa = 10.0 * (fD - fAge + 0.6);\n\n        fHeight += (1.0 - fAge) \n            * max (0.0, 1.0 - (fDa*fDa))\n            * sin (fD*150.0 - fAge*80.0);\n        \n        t += fStep;\n    }\n\n    vRel.y -= sign (fHeight) * fHeight*fHeight;\n    vec4 vTex = texture (iChannel0, vRel);\n\n    if (fHeight < 0.0)\n    {\n        float p = -fHeight*0.8;\n        float q = 1.0 - p;\n        vTex.b = p + q*vTex.b;\n        p = -fHeight*0.3;\n        q = 1.0 - p;\n        vTex.g = p + q*vTex.g;\n    }\n    \n    fragColor = vTex; \n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"4tl3WN","date":"1422136600","viewed":1083,"name":"It's raining again","username":"digorydoo","description":"Drip drip drip","likes":30,"published":1,"flags":0,"usePreview":1,"tags":["fake","water","rain","drip"],"hasliked":0,"parentid":"","parentname":""}}