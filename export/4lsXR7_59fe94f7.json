{"ver":"0.1","info":{"id":"4lsXR7","date":"1435373532","viewed":1478,"name":"polygonization","username":"jedi_cy","description":"polygonization-look test","likes":26,"published":1,"flags":0,"usePreview":0,"tags":["voronoi","polygon","lowpoly"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"Xdf3Rn","filepath":"/media/a/e81e818ac76a8983d746784b423178ee9f6cdcdf7f8e8d719341a6fe2d2ab303.webm","previewfilepath":"/media/ap/e81e818ac76a8983d746784b423178ee9f6cdcdf7f8e8d719341a6fe2d2ab303.webm","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//reference https://www.shadertoy.com/view/ldl3W8#\n\nvec2 hash2( vec2 p )\n{\n    // procedural white noise\t\n\treturn fract(sin(vec2(dot(p,vec2(127.1,311.7)),dot(p,vec2(269.5,183.3))))*43758.5453);\n}\n\nvec2 voronoi( in vec2 x )\n{\n    vec2 n = floor(x);\n    vec2 f = fract(x);\n\n    //----------------------------------\n    // regular voronoi\n    //----------------------------------\n\tvec2 mg, mr;\n\n    float md = 8.0;\n    for( int j=-1; j<=1; j++ )\n    for( int i=-1; i<=1; i++ )\n    {\n        vec2 g = vec2(float(i),float(j));\n\t\tvec2 o = hash2( n + g );\t\n        vec2 r = g + o - f;\n        float d = dot(r,r);\n\n        if( d<md )\n        {\n            md = d;\n            mr = r;\n            mg = g;\n        }\n    }\n\n    return mr;\n}\n\nvec3 VoronoiColor(float steps, vec2 p, vec2 uv)\n{\n    vec2 c = voronoi( steps*p );\n    \n    vec2 uv1 = uv;\n    uv1.x += c.x/steps;\n    uv1.y += c.y/steps *  iResolution.x/iResolution.y;\n    \n    return texture(iChannel0, vec2(uv1.x, uv1.y)).xyz;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 p = fragCoord.xy/iResolution.xx;\n    vec2 uv = fragCoord.xy / iResolution.xy;\n    \n    vec3 color = vec3(0.0,0.0,0.0);\n    for (float i=0.0; i<4.0; i+=1.0)\n    {\n        float steps = 8.0*pow(2.0,i);\n        color += VoronoiColor(steps, p, uv);\n    }\n\n\tfragColor = vec4(color*0.25,1.0);\n}","name":"Image","description":"","type":"image"}]}