{"ver":"0.1","info":{"id":"dlXSzB","date":"1674956140","viewed":73,"name":"Health bar Ticked (sdf) improved","username":"euclid","description":"no loops this time, minimal branching","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["ruler","tick","healthbar","leagueoflegends"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define NUM_TICKS 50.0\n#define DIVIDE 10.0\n#define HEALTH_0_1 .75\n\n#define SHORT_SPACING 1.0/NUM_TICKS\n#define LONG_SPACING 1.0/(NUM_TICKS / DIVIDE)\n\nfloat box( in vec2 p, in vec2 b ) \n{\n    vec2 q = abs(p) - b;\n    return min(max(q.x,q.y),0.0) + length(max(q,0.0));\n}\n\nvec2 rep( in vec2 p, in float s, in vec2 lima, in vec2 limb )\n{\n    return p-s*clamp(round(p/s),lima,limb);\n}\n\nfloat tickLine( in vec2 p, in float spacing, in float ticks, in float height, in float thinness )\n{\n    vec2 q = p - vec2(1.0,.8);\n    \n    vec2 r = rep(q,spacing,vec2(-(ticks),0),vec2(0,0));\n    \n    float d = box( r, vec2(1.0/iResolution.x,height)); \n    \n    d *= thinness;\n        \n    return smoothstep(0.02,0.01,d);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{           \n    vec2 p = vec2(fragCoord.x, fragCoord.y)/iResolution.x;\n\n    vec3 shortTicks = vec3(tickLine(p,SHORT_SPACING,NUM_TICKS,0.5,7.0));\n    \n    vec3 longTicks = vec3(tickLine(p,LONG_SPACING,NUM_TICKS,0.75,3.0));\n    \n    vec3 bg = mix(vec3(.6,.0,.0),vec3(1.0,.0,.0),smoothstep(0.38,0.4,p.y));\n    \n    vec3 final = mix(vec3(0.0),bg,1.0-max(shortTicks,longTicks));\n    \n    float health = abs(sin(iTime * 0.25));\n    \n    fragColor = vec4(mix(final,vec3(0),smoothstep(health,health+0.01,p.x)),1.0);\n}","name":"Image","description":"","type":"image"}]}