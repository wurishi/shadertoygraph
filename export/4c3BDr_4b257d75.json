{"ver":"0.1","info":{"id":"4c3BDr","date":"1732907742","viewed":49,"name":"sonar on mouse click","username":"LucasNunes","description":"create a sonar effect over mouse when click","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["mousesonar"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float scale = 4.0;\n    float speed = iTime * 0.7;\n    float ray = 0.5;\n    float fractions = 8.0;\n    vec4 sonarCollor = vec4(0.1, 0.3, 0.3, 1);\n    float sonarIntensity = 1.0;\n    float sizeByTime = 0.8;\n    float startSize = 0.2;\n\n    float minResolution = min(iResolution.x, iResolution.y);\n    vec2 pos = (fragCoord.xy * 2.0 - iResolution.xy) / minResolution;\n\n    vec2 mouse = (iMouse.xy * 2.0 - iResolution.xy) / minResolution;\n    float coordToMouse = length(pos - mouse) * (1.0 / scale);\n\n    float d = ray * speed - coordToMouse;\n    float blur = sizeByTime * coordToMouse + startSize;\n    float fracted = smoothstep(-blur, 0.0, fract(d*fractions) - ray);\n    fracted *= 1.0 - fracted;\n\n    float alpha = 0.0;\n\n   \n    if (iMouse.z >= 1.0) \n    {\n        alpha = smoothstep(ray, 0.0, coordToMouse) * 10.0;\n    }\n    \n    \n    fragColor = sonarCollor * alpha * fracted * sonarIntensity;\n}","name":"Image","description":"","type":"image"}]}