{"ver":"0.1","info":{"id":"3sjBRR","date":"1589356487","viewed":1294,"name":"Bokeh Blur Demo","username":"positivepig","description":"bokeh blur often use in depth of field","likes":10,"published":1,"flags":0,"usePreview":1,"tags":["2d","blur","dof","bokeh"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XdfGRn","filepath":"/media/a/e6e5631ce1237ae4c05b3563eda686400a401df4548d0f9fad40ecac1659c46c.jpg","previewfilepath":"/media/ap/e6e5631ce1237ae4c05b3563eda686400a401df4548d0f9fad40ecac1659c46c.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define GOLDEN_ANGLE 2.40 //(3.0-sqrt(5))*PI\n#define BLUR_NUMBER 100\n\nmat2 rotate2D = mat2(cos(GOLDEN_ANGLE),sin(GOLDEN_ANGLE),-sin(GOLDEN_ANGLE),cos(GOLDEN_ANGLE));\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.y;\n    vec3 col  = vec3(0.);\n    vec3 tot = col;\n    float radius = 7.8 - 7.8 * cos(1.54*iTime);\n    if(iMouse.w >= 1.0)\n        radius = (iMouse.x/iResolution.x) * 16.0;\n    vec2 angle = vec2(radius/(float(BLUR_NUMBER)*iResolution.x));\n    float r = 0.0;\n    for(int i=0;i<BLUR_NUMBER;++i){\n        r += 1.;\n        angle = rotate2D * angle;\n    \tvec3 c = texture(iChannel0, uv+r*angle).rgb;\n    \tc = c * c * 1.5;\n        vec3 bokeh = pow(c, vec3(4.0));\n        col += c*bokeh;\n        tot += bokeh;\n    }\n    col /= tot;\n    fragColor = vec4(col, 1.0);\n    \n}","name":"Image","description":"","type":"image"}]}