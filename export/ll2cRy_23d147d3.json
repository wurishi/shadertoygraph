{"ver":"0.1","info":{"id":"ll2cRy","date":"1509057097","viewed":92,"name":"manyBluePoints","username":"nigel_kozlowski","description":"Many blue points","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["manybluepoints"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// get factor between 0. and 1. \n// increasing during first second \n// and decreasing during second second periodicaly\nfloat getTimeWaveFactor () {\n\treturn mod(iTime, 2.0) < 1. ? mod(iTime, 1.) : 1. - mod(iTime, 1.);\n}\n\n// ex: div(553, 100) = 500\nfloat div (float a, float b) {\n\treturn a - mod(a, b); \n}\n\n// get the closest float from @coord\n// with specified @space\n// ex: closest(18., 5.) = 20.\nfloat closest (float coord, float space) {\n    return mod(coord, space) > space / 2. ? \n        div(coord, space) + space\n        : div(coord, space);\n}\n\n// get the closest point from @point\n// in a @grid\nvec2 closestPointInGrid(vec2 point, vec2 grid) {\n    return vec2(closest(point.x, grid.x), closest(point.y, grid.y));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // generate gri\n    vec2 grid = vec2(1000., 1000.) / iTime;\n    float patternSize = 500. / iTime;\n    \n    float timeWaveFactor = max(getTimeWaveFactor(), 0.01);\n\tfloat radius = timeWaveFactor * patternSize;\n    \n\t// distance between the closest point and the current pixel\n    vec2 closestPoint = closestPointInGrid(fragCoord.xy, grid);\n\tfloat distanceCPToPixel = distance(closestPoint, fragCoord.xy);\n\t\n\t// blue color factor\n\tfloat blue = (radius - distanceCPToPixel) / radius;\n\tfragColor = vec4(\n        0., \n    \t0., \n    \tblue, \n        1.\n    );\n}","name":"Image","description":"","type":"image"}]}