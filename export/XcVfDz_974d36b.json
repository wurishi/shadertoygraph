{"ver":"0.1","renderpass":[{"outputs":[{"channel":0,"id":"4dfGRr"}],"inputs":[{"channel":0,"type":"buffer","id":"4dXGR8","filepath":"/media/previz/buffer00.png","sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}},{"channel":1,"type":"buffer","id":"XsXGR8","filepath":"/media/previz/buffer01.png","sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}}],"code":"// Fork of \" Electron Monte Carlo\" by wyatt. https://shadertoy.com/view/4cVBDz\n// 2024-12-11 22:39:15\n\nMain {\n    Q = mix(vec4(.5,.55,.45,1),vec4(.3,.4,.45,1),\n        clamp(\n        2.-2./(1.+A(U)/float(1+iFrame))\n        ,0.,1.));\n\n}","name":"Image","description":"","type":"image"},{"outputs":[],"inputs":[],"code":"#define R iResolution.xy\n#define A(U) texture(iChannel0,(U)/R)\n#define B(U) texture(iChannel1,(U)/R)\n#define Main void mainImage(out vec4 Q, in vec2 U)\n\nvec4 hash(vec4 p4)\n{\n\tp4 = fract(p4  * vec4(.1031, .1030, .0973, .1099));\n    p4 += dot(p4, p4.wzxy+33.33);\n    return fract((p4.xxyz+p4.yzzw)*p4.zywx);\n}\n\n","name":"Common","description":"","type":"common"},{"outputs":[{"channel":0,"id":"4dXGR8"}],"inputs":[{"channel":0,"type":"buffer","id":"4dXGR8","filepath":"/media/previz/buffer00.png","sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}},{"channel":1,"type":"buffer","id":"XsXGR8","filepath":"/media/previz/buffer01.png","sampler":{"filter":"linear","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"}}],"code":"Main {\n\n    Q = A(U);\n    vec4 h = hash(vec4(U,iTime,iFrame));\n    float a = h.x*3.141592658*2.;\n    vec2 u = U;\n    vec2 v = h.y*vec2(cos(a),sin(a));\n    \n    for (float i = 0.; i < 250.; i++) {\n        float ph = B(u).x/float(iFrame+1);\n        bool b = abs(u.x-.5*R.x)<20.&&abs(u.y-.5*R.y)<100.;\n        //b = b||abs(u.x-.6*R.x)<30.;\n        bool c = abs(R.x-u.x-100.)<100.&&sin(.1*u.y)<0.5;\n        b = b||c;\n        Q += (.5*R.x-u.x<100.&&!b?1e-3:1.)*ph*4.*max(v.x*max(v.x,0.),0.)*exp(-50.*v.y*v.y);\n        u += (.5*R.x-u.x<100.&&!b?5.:1.)*v*inversesqrt(1.+dot(v,v));\n        v += (.5*R.x-u.x<100.&&!b?0.:(c?.1:.05))*(hash(vec4(u,i,iFrame)).xy*2.-1.);\n    }\n}","name":"Buffer A","description":"","type":"buffer"},{"outputs":[{"channel":0,"id":"XsXGR8"}],"inputs":[{"channel":0,"type":"buffer","id":"XsXGR8","filepath":"/media/previz/buffer01.png","sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}}],"code":"Main {\n\n    Q = A(U);\n    vec4 h = hash(vec4(U,iTime,iFrame));\n    float a = h.x*3.141592658*2.;\n    vec2 u = U;\n    vec2 v = vec2(cos(a),sin(a));\n    float e = 1.;\n    for (float i = 0.; i < 200.; i++) {\n        Q += .1*e*float(R.x-u.x<10.)*exp(-40.*abs(atan(v.y,v.x)));\n        u += 10.*v;\n        bool b = abs(u.x-.5*R.x)<20.&&abs(u.y-.5*R.y)<100.;\n        //b = b||abs(u.x-.6*R.x)<30.;\n        bool c = abs(R.x-u.x-100.)<100.&&sin(.1*u.y)<0.5;;\n        b = b||c;\n        e *= (.5*R.x-u.x<100.&&!b?1.:.975);\n        e *= (c?.5:1.);\n        \n    }\n}","name":"Buffer B","description":"","type":"buffer"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":true,"mFlagMusicStream":false},"info":{"id":"XcVfDz","date":"1733958117","viewed":149,"name":" Monte Carlo","username":"wyatt","description":"reverse monte carlo","likes":7,"published":3,"flags":32,"usePreview":0,"tags":["montecarlo"],"hasliked":0,"parentid":"","parentname":""}}