{"ver":"0.1","info":{"id":"7djGRW","date":"1617056516","viewed":74,"name":"Circulo con olas","username":"amatiasq","description":"Circle with waves","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["waves"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec2 getPosition(vec2 fragCoord) {\n  return fragCoord.xy / iResolution.xy;\n}\n\nvec2 squareViewport(vec2 viewport) {\n  float radiusXY = iResolution.x / iResolution.y;\n  float radiusYX = iResolution.y / iResolution.x;\n  vec2 copy = viewport - 0.5;\n  \n  if (radiusXY > radiusYX) {\n    copy.x *= radiusXY;\n  } else {\n    copy.y *= radiusYX;\n  }\n  \n  return copy + 0.5;\n}\n\nfloat wave(vec2 pos, float freqA, float freqB, float speed, float offset, float bluriness) {\n  float wave1 = sin(pos.x * freqA + iTime * speed);\n  float wave2 = sin(pos.x * freqB + iTime * speed);\n  float result = (wave1 + wave2) * 0.02;\n  return smoothstep(pos.y - offset, pos.y - offset + bluriness, result);\n}\n\nfloat blurredCircle(vec2 pos, float fromRadius, float toRadius) {\n  float start = min(fromRadius, toRadius);\n  float end = max(fromRadius, toRadius);\n  float distance = length(pos - vec2(0.5)) * 2.0;\n  return smoothstep(start, end, distance);\n}\n\nvec4 draw(vec2 pos) {\n  float circle = 1.0 - blurredCircle(pos, 0.72, 0.8);\n  \n  float w1 = wave(pos, 2.0, 5.0, 4.0, 0.2, 0.01);\n  float w2 = wave(pos, 2.0, 4.0, 3.0, 0.4, 0.02) * 0.75;\n  float w3 = wave(pos, 1.0, 2.0, 2.0, 0.6, 0.04) * 0.5;\n  float w4 = wave(pos, 0.5, 1.0, 1.0, 0.8, 0.08) * 0.25;\n  \n  float waves = max(max(w1, w2), max(w3, w4));\n  \n  vec3 colorA = vec3(0.298, 0.0157, 0.5255);\n  vec3 colorB = vec3(0.6941, 0.1255, 0.1255);\n  \n  vec3 color = mix(colorA, colorB, waves);\n  vec3 inverse = mix(color, 1.0 - color, circle);\n  \n  return vec4(inverse, 1.0);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n  vec2 pos = squareViewport(getPosition(fragCoord));\n  fragColor = draw(pos);\n}\n","name":"Image","description":"","type":"image"}]}