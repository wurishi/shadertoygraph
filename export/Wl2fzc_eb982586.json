{"ver":"0.1","info":{"id":"Wl2fzc","date":"1599514890","viewed":183,"name":"LOVE HOUSE (in shader toy)","username":"JohnShadow","description":"Based on FrankJaveCee's \"Love House\"\nhttps://www.youtube.com/watch?v=vCfJrCMlJcI\nThis is my shader toy rendition of the video.","likes":3,"published":1,"flags":96,"usePreview":0,"tags":["music","heart","shader","3","house","love","visuals"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XdfGRn","filepath":"/media/a/e6e5631ce1237ae4c05b3563eda686400a401df4548d0f9fad40ecac1659c46c.jpg","previewfilepath":"/media/ap/e6e5631ce1237ae4c05b3563eda686400a401df4548d0f9fad40ecac1659c46c.jpg","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsX3Rn","filepath":"/media/a/92d7758c402f0927011ca8d0a7e40251439fba3a1dac26f5b8b62026323501aa.jpg","previewfilepath":"/media/ap/92d7758c402f0927011ca8d0a7e40251439fba3a1dac26f5b8b62026323501aa.jpg","type":"texture","channel":2,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\n\n//Restart for best Results\n\n#define SPEED 2.5\nvec3 stars(vec2 uv)\n{\n    uv = abs(uv);\n    float c = cos(iTime * 0.5);\n    float s = sin(iTime * 0.5);\n    vec2 samploc = vec2(dot(uv, vec2(c, -s)), dot(uv, vec2(s, c)));\n    vec3 samp1 = max(texture(iChannel1, samploc).xyz - 0.15, 0.0);\n    vec3 samp2 = max(texture(iChannel2, samploc).xyz - 0.1, 0.0);\n    vec3 combined = vec3(max(samp1.x, samp2.x), max(samp1.y, samp2.y) * 0.5, samp1.z * 2.0);\n    \n    samp1.z = (samp1.z + 0.1) * 2.0;\n    combined.x *= 1.5;\n    \n    float smoother = 1.0 - dot(uv, uv);\n    return mix(combined, samp1, smoother);\n}\nfloat heartSDF(vec2 uv)\n{\n\treturn 0.25 * sqrt((uv.y * -abs(uv.x)) + dot(uv, uv));\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float timeOffset = texture(iChannel0, vec2(0.0, 0.0)).x;\n    float currentTime = mod(iTime - timeOffset, 180.0);\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = ((fragCoord - iResolution.xy * 0.5)/iResolution.y) ;\n    \n    float heart = heartSDF(uv * 20.0) + (7.0 - (mod(currentTime * SPEED, 6.0) + 1.0));\n    \n    float white = floor(mod(heart,3.0))/2.0;\n    \n    vec3 col;\n    \n    if(currentTime < 16.0)\n    \tcol = vec3(1.0, white, min(white + 0.25, 1.0)); //regular hearts\n    else if(currentTime < 37.01) // flip red hearts and color other hearts.\n    {\n        float scalar = -34.0/(3.27 * currentTime - 86.328);\n        uv.y = currentTime <= 37.01 ? uv.y / scalar : -uv.y * 0.98;\n        float flipedHeart = heartSDF(uv * 20.0)  + (7.0 - (mod(currentTime * SPEED, 6.0) + 1.0));\n        float flipedWhite = floor(mod(flipedHeart,3.0))/2.0;\n\t\t\n        //colored heart\n        col = vec3(abs(sin(currentTime)), abs(cos(currentTime)), 1.00) * white;\n        \n        //regular heart\n        col = mix(vec3(1.0, flipedWhite, min(flipedWhite + 0.25, 1.0)), col, white);\n    }\n    else //do colored and fliped hearts.\n    {\n        vec3 samp = stars(uv) * vec3(max(abs(sin(currentTime * 0.5)),0.5), max(abs(cos(currentTime * 0.5)),0.5), 1.0);\n        uv.y = -uv.y * 0.98;\n        float flipedHeart = heartSDF(uv * 20.0)  + (7.0 - (mod(currentTime * SPEED, 6.0) + 1.0));\n        float flipedWhite = floor(mod(flipedHeart,3.0))/2.0;\n\n        //colored heart\n        vec3 coloredHeart = vec3(abs(sin(currentTime)), abs(cos(currentTime)), 1.00) * white;\n\n        //regular heart\n        col = mix(vec3(1.0, flipedWhite, min(flipedWhite + 0.25, 1.0)), coloredHeart, white);\n   \n        if(currentTime > 55.0 && currentTime < 135.0) //check if we can lerp in stars\n        {\n            float mixer = max(2.0 * (min(abs((currentTime - 95.4) * 0.05), 1.0) - 0.5), 0.0);\n            //lerp hearts out, and then lerp back in only colored hearts.\n            if(currentTime <= 83.5)\n                col = mix(2.0 * samp, col, mixer);\n            else\n                col = mix(2.0 * samp, coloredHeart, white * mixer);\n        }\n        else if(currentTime >= 135.0) //lerp out colored hearts some what forr bass drop.\n        {\n            float mixer = clamp((currentTime - 135.0) * 0.1, 0.0, 0.5);\n            vec3 regularHeart = vec3(1.0, white, min(white + 0.25, 1.0));\n            vec3 mixedHeart = mix(coloredHeart, regularHeart, (mixer * 2.0));\n\n            mixer = (1.0 - mixer) * mix(white, 1.0 - white, (mixer * 2.0));\n            col = mix(2.0 * samp, mixedHeart, mixer);\n        }\n    }\n    // Output to screen\n    fragColor = vec4(col, 1.0);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"MllXDX","filepath":"https://soundcloud.com/user-458282725/love-house-go-to-frankjavcee-channel-if-you-want-more-music-like-this?si=4aca4b53bf3043d284bdacad7ed8244f","previewfilepath":"https://soundcloud.com/user-458282725/love-house-go-to-frankjavcee-channel-if-you-want-more-music-like-this?si=4aca4b53bf3043d284bdacad7ed8244f","type":"musicstream","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":0}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"float checkIfLoaded()\n{\n    return  ceil((\n            texture(iChannel0, vec2(2.0, 2.0)).x+\n            texture(iChannel0, vec2(-2.0, 2.0)).x+\n            texture(iChannel0, vec2(2.0, -2.0)).x+\n            texture(iChannel0, vec2(-2.0, -2.0)).x)*0.2);\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    if(iFrame == 0)\n        fragColor = vec4(iTime, iTime, iTime, 0.0);\n    else if(texture(iChannel1, vec2(0,0)).w == 0.0)\n    {\n        float check = checkIfLoaded();\n        fragColor = vec4(iTime, iTime, iTime, check);\n    }\n}","name":"Buffer A","description":"","type":"buffer"}]}