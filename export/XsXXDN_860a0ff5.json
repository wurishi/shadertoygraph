{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"#define M_PI 3.14159265358979323846\n#define M_PHI 0.6180339887498949\n\n#define ITERS 192\n#define CYCL 5\n#define CYCH 8\n#define A_SPEED 1.0\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 z0 = fragCoord.xy / (iResolution.xy / 4.0) - 2.0;\n\tz0.x *= iResolution.x / iResolution.y;\n\tvec2 z = z0;\n\t\n\tvec2 c = iMouse.xy / (iResolution.xy / 4.0) - 2.0;\n\tc.x *= iResolution.x / iResolution.y;\n\tc += 0.01 * vec2(sin(iTime), sin(iTime * M_PHI));\n\t\n\n\tvec3 col0 = vec3(0.6, 0.4, 0.0);\n\tvec3 col1 = vec3(0.0, 0.6, 0.8);\n\tvec3 col2 = vec3(0.4, 0.0, 0.2);\n\t\n\tvec2 acc = vec2(0.0, 0.0);\n\tvec2 last[CYCH];\n\t\n\tfor (int i = 0; i < CYCH; ++i)\n\t\tlast[i] = vec2(0.0, 0.0);\n\t\n\tfor (int i = 0; i < ITERS; ++i) {\n\t\tfloat zm2 = dot(z, z);\n\t\tacc += z / zm2;\n\t\tif (ITERS - i <= CYCH)\n\t\t\tlast[ITERS - i - 1] = z / zm2;\n\t\tif (zm2 > 1e6) {\n\t\t\tcol0 = vec3(0.8, 0.4, 0.0);\n\t\t\tcol1 = vec3(0.0, 0.4, 0.8);\n\t\t\tcol2 = vec3(0.2, 0.2, 0.2);\n\t\t\tbreak;\n\t\t}\n\t\tz = vec2(z.x * z.x - z.y * z.y, 2.0 * z.x * z.y);\n   \t    z += c;\n\t}\n\t\n\tfor (int i = 1; i < CYCH; ++i)\n\t\tlast[i] += last[i-1];\n\tvec2 a2 = acc / dot(acc, acc);\n\tfor (int i = CYCL; i <= CYCH; ++i) {\n\t\tvec2 stuff = acc;\n\t\tif (ITERS / i * i != ITERS)\n\t\t\tstuff -= last[ITERS - ITERS / i * i - 1];\n\t\tstuff -= last[i - 1] * float(ITERS / i);\n\t\ta2 += stuff / dot(stuff, stuff);\n\t}\n\t\n\tfloat rad = -log(length(a2));\n\tfloat ang = atan(a2.y, a2.x) / (2.0 * M_PI);\n\t\n\tfragColor = vec4(fract(rad + iTime * M_PHI) * col0 +\n\t\t\t\t\t\tfract(ang * 6.0 + iTime) * col1 +\n\t\t\t\t\t\tfract(rad + ang * 7.0 - iTime * 7.0/9.0) * col2,\n\t\t\t\t\t\t1.0);\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"XsXXDN","date":"1400978429","viewed":241,"name":"Juliaspiral","username":"jld","description":"Visualization of the Julia/Fatou sets of z â†’ zÂ² + c; the parameter is (partially) controlled by the mouse.  The decorations are based on the sequence of points computed (sum of reciprocals, small interior cycles subtracted, complex logarithm, etc.).","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["2d","fractal","mouse"],"hasliked":0,"parentid":"","parentname":""}}