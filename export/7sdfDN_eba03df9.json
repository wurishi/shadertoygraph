{"ver":"0.1","info":{"id":"7sdfDN","date":"1656577906","viewed":318,"name":"Apple Watch UI Effect","username":"mrboggieman","description":"An effect like the Apple Watch UI. Drag the mouse to move the focus point.","likes":7,"published":1,"flags":0,"usePreview":0,"tags":["ui","apple","watch"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XdXGzn","filepath":"/media/a/3083c722c0c738cad0f468383167a0d246f91af2bfa373e9c5c094fb8c8413e0.png","previewfilepath":"/media/ap/3083c722c0c738cad0f468383167a0d246f91af2bfa373e9c5c094fb8c8413e0.png","type":"texture","channel":0,"sampler":{"filter":"nearest","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float circ(in float x) {\n    return sqrt(1.0 - (x - 1.0) * (x - 1.0));\n}\n\nfloat dot2(in vec2 a) {\n    return dot(a, a);\n}\n\nfloat circle(in vec2 pos, in float r) {\n    return smoothstep(0.0, fwidth(dot2(pos)) / 2.0, r * r - dot2(pos - 0.5));\n}\n\nvec2 repeat(in vec2 pos, in float count) {\n    return fract(pos * count);\n}\n\nconst float PI = 3.14159;\nconst float numCircles = 10.0;\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.y;\n    vec2 offset = (length(iMouse.xy) > 10.0 ? iMouse.xy : (vec2(sin(iTime), cos(iTime)) * 100.0));\n    vec2 pos = uv - offset/iResolution.xy;\n    float aspect = iResolution.y / iResolution.x;\n\n    //rather than use actual distance, keep the square shape to match the canvas size\n    vec2 dir = abs(fragCoord/iResolution.xy - 0.5);\n    float dist = max(dir.x, dir.y);\n    \n    float circleRadius = 0.5 * circ(0.5 - dist);\n    \n    //alternating pattern\n    vec2 newPos = pos + vec2(floor(mod(pos.y * numCircles, 2.0)) * 0.5/numCircles, 0.0);\n    \n    float result = circle(repeat(newPos, numCircles), circleRadius);\n    \n    //associate a random colour to each circle\n    vec3 col = texture(iChannel0, newPos / 64.0 * numCircles).rgb;\n    \n    fragColor = vec4(result * col, 1.0);\n}\n","name":"Image","description":"","type":"image"}]}