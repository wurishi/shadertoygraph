{"ver":"0.1","info":{"id":"WlSGWw","date":"1559699291","viewed":712,"name":"riff #1234","username":"nabr","description":"simpel","likes":34,"published":1,"flags":8,"usePreview":0,"tags":["sound","beat","synth","kick","drums"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGzr","filepath":"/media/a/08b42b43ae9d3c0605da11d0eac86618ea888e62cdd9518ee8b9097488b31560.png","previewfilepath":"/media/ap/08b42b43ae9d3c0605da11d0eac86618ea888e62cdd9518ee8b9097488b31560.png","type":"texture","channel":3,"sampler":{"filter":"linear","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// nabr\n// https://www.shadertoy.com/view/WlSGWw\n// License Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.\n// https://creativecommons.org/licenses/by-nc-sa/3.0/\n\n\n\n\n// http://glslsandbox.com/e#31401.0 by sphinx\nfloat noise(in vec2 uv)\n{\n\tconst float k = 257.;\n\tvec4 l = vec4(floor(uv), fract(uv));\n\tl.zw = l.zw * l.zw * (3. - 2. * l.zw);\n\tfloat u = l.x + l.y * k;\n\tvec4 v = vec4(u, u + 1., u + k, u + k + 1.);\n\tv = fract(fract(1.23456789 * v) * v / .987654321);\n\tl.x = mix(v.x, v.y, l.z); \n\tl.y = mix(v.z, v.w, l.z);\n\treturn mix(l.x, l.y, l.w);\n}\n// https://www.shadertoy.com/view/MdX3Rr by inigo quilez\nfloat fbm(in vec2 p)\n{\n\tconst mat2 m2 = mat2(0.8, -0.6, 0.6, 0.8);\n\tfloat f = 0.0;\n\tf += 0.5000 * noise(p); p = m2 * p * 2.02;\n\tf += 0.2500 * noise(p); p = m2 * p * 2.03;\n\tf += 0.1250 * noise(p); p = m2 * p * 2.01;\n\tf += 0.0625 * noise(p);\n\treturn f / 0.9375;\n}\nvoid mainImage(out vec4 O, in vec2 U)\n{\n\tvec3 col = vec3(1);\n\tvec2 R = iResolution.xy, u = (U + U - R) / R.y;\n\tfloat t = iTime;\n\t// sphere\n\tvec2 p= u + sin(m(t).x * t + u.x) * .01;\n\tfloat s = sqrt(.7 - dot(p, p));\n\tcol = 2.25*-sin(sin(t + p.x) + p.y + vec3(.2, .6, 1)) * min(.5 - s, smoothstep(.45 - s, 1., s));\n\t// smoke\n\tfloat r = 1.2 * fbm((vec2(u.x - t, -u.y) + .5 * t))\n\t\t\t\t  * fbm((2. * u - t))\n\t\t\t\t  * fbm((u - .5 * t))\n\t\t\t + .5 * fbm((2. * vec2(u.x + t, u.y) - .5 * t));\n\tcol = max(min(.2 / length(r) * vec3(.26, .28, .18), .5 - s), col);\n\tcol = mix(col, max(0.2, (abs(u.y)- acos(u.y * 1.2 )/6.)) - sin(u.x-t) * vec3(.5, .98, .93), .2);  \n\t// text\n\t#define char(p,C)(((p.x<0.||p.x>1.||p.y<0.||p.y>1.))?vec4(0,0,0,1e5):textureGrad(iChannel3,p/16.+fract(vec2(C,15-C/16)/16.),dFdx(p/16.),dFdy(p/16.))).xyz\n\tu += vec2(.66,.6+m(t).x*.1);\n\tfor(int i=0;i<8;++i)\n\tcol+=char(12.*u,int[](83,111,117,110,100,32,105,110)[i]).x,u.x-=.18;\n\tO.xyz = mix(col + vec3(.18,.2,.22), vec3(1e-3), .3);\n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"vec2 mainSound( in int samp,float time){return m(time);}","name":"Sound","description":"","type":"sound"},{"inputs":[],"outputs":[],"code":"// nabr\n// https://www.shadertoy.com/view/WlSGWw\n// License Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.\n// https://creativecommons.org/licenses/by-nc-sa/3.0/\n\n\n\n\nvec2 m(float t)\n{\n\t\n    // --------- SYNTH\n    \n\tvec2 s = sin(t * mat4x2(596, 756, 796, 476, 676, 356, 556, 476)[int(t) % 4]) - .5;\n    \n\tif(t<6.) // intro\n\t\ts *= sin(s * mod(t, 8.) + 18. * sin(t));\n\telse \n\t\ts *=  sin(s * mod(t, 8.) * 16.) * min(1., fract(t * 6.) * 100.) * max(0., 1. - fract(t * 6.));\n    \n\t// --------- DRUMS(kick)\n    \n\tfloat tm = mod(t, .5);\n\tif(t<6.) tm = mod(t, 1.5); // intro\n\tfloat finetune = 1.8;\n\t// kick\n\tfloat k = (sin(80.0 * exp(-sin(tm * finetune) * 10.0)) * exp(-tm * 10.0));\n\tk *= cos(120.0 * exp(-tm * 2.0));\n\t// sub\n\tfloat kovt = (k - sin(tm * 380.) * exp(-tm * 1.5));\n\tkovt *= min(1., tm * 100.) * max(0., .5 - tm);\n\tkovt -= (.25 - asin(kovt * tm * 12.));\n\tk *= min(1., tm * 500.) * max(0., 1. - tm);\n\tk = .9 * (kovt + k);\n\t\n    // -------- MASTER\n    \n\treturn (k + .4 * s ) * .25;\n}","name":"Common","description":"","type":"common"}]}