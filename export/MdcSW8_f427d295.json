{"ver":"0.1","info":{"id":"MdcSW8","date":"1459043482","viewed":1750,"name":"churning pastel garbage","username":"victor_shepardson","description":"guh","likes":55,"published":3,"flags":32,"usePreview":0,"tags":["feedback"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec3 sigmoid(vec3 x){\n \treturn x/(1.+abs(x));   \n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord.xy / iResolution.xy;\n\tvec4 s = texture(iChannel0, uv)*2.-1.;\n    vec3 c = .5+.5*sigmoid(2.*(s.rgb - .25*s.bar));\n    c = c + .05 + .15*normalize(c-dot(c,vec3(.3333)));\n\tfragColor = vec4(c.rgb,1.);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"const float PI = 3.141592;\n\nvec4 sigmoid(vec4 x){\n \treturn x/(1.+abs(x));   \n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{  \n    \n    float t0 = cos(.1*iTime);\n    float t1 = cos(.17*iTime);\n    float t2 = cos(.117*iTime);\n    float t3 = cos(.1717*iTime);\n    float t4 = cos(.11717*iTime);\n    \n    vec2 wp = 4./iResolution.xy;\n    float wg =  -t2;\n \n    vec2 uv = fragCoord.xy / iResolution.xy;\n    \n    vec4 c = -1.+2.*texture(iChannel0, uv);\n    c = -1.+2.*texture(iChannel0, uv + t0*wp*c.rg);\n    c = -1.+2.*texture(iChannel0, uv - t1*wp*c.ba);\n    c = -1.+2.*texture(iChannel0, uv + t2*wp*c.ar);\n    c = -1.+2.*texture(iChannel0, uv - t3*wp*c.gb);\n\t        \n    vec4 rates = vec4(1.,.11,.0111,.001111);\n    vec4 phi = rates*iTime;\n    \n    vec4 g = vec4(\n        dot(mod(uv-c.rg,1.), vec2( 1., 1.)),\n        dot(mod(uv+c.ba,1.), vec2(-2., 0.)),\n        dot(mod(uv+c.gr,1.), vec2( 0., 2.)),\n        dot(mod(uv+c.ab,1.), vec2( 1.,-1.)));\n    g = sin(2.*PI*g + wg*c.gbar + phi);\n    \n    g = sigmoid(2.*g.rgba-g.gbar);\n    \n    vec4 c_new = .5*c + g + .25*sigmoid(c);\n\n    c_new = c_new.gbar;\n    \n    vec4 c_diff = c_new - c;\n    c_diff = .04*mix(c_diff, c_diff.gbra - c_diff.brga, .3*t4+.4);\n    \n    c_diff += .05*normalize(c_new-dot(c_new, vec4(.25)));\n    \n    c_new = .5+.5*clamp(c+c_diff,-1.,1.);\n    \n\tfragColor = c_new;\n}","name":"Buffer A","description":"","type":"buffer"}]}