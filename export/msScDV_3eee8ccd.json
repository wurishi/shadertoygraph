{"ver":"0.1","info":{"id":"msScDV","date":"1688164485","viewed":62,"name":"Pretending to be CGA","username":"miomoto","description":"How to do the Eternal Caste: https://www.youtube.com/watch?v=OkWdaz6Ut2s&t=24s","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["celshading"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XdfGRr","filepath":"/media/a/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm","previewfilepath":"/media/ap/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm","type":"video","channel":0,"sampler":{"filter":"nearest","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define N 4.0\n#define P 0.8\n#define R 100\n\nvec4 colors[4] = vec4[4](\n    vec4(0.05, 0.05, 0.01, 1),\n    vec4(0.973,0.282,0.98, 1.0),\n    vec4(0.282,0.976,0.996, 1.0),\n    vec4(1.0, 1.0, 1.0, 1.0)\n);\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\n    vec2 uv = fragCoord/iResolution.xy;\n    // map from 0...1 -> 0, 1, 2, ... R -> 0.1 (and now in steps)\n    // thus pixelating it\n    uv = floor(uv * vec2(R, R)) /vec2(R, R);\n    // sample the color\n    vec3 color = texture(iChannel0, uv).rgb;\n    // do an average - good enough, you can properly grade if you wish, too\n    float greyscale = color.r;\n    // skew the color a bit lighter or darker to fit the palette better\n    float skew = pow(greyscale, P);\n    // same trick, hard indexing\n    float steps = floor(N * skew) / N;\n    // yielding the array index\n    int idx = int(floor(steps * 4.0));\n\n    // drawing it\n    fragColor = colors[idx];\n}\n","name":"Image","description":"","type":"image"}]}