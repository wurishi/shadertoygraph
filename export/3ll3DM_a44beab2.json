{"ver":"0.1","info":{"id":"3ll3DM","date":"1556533461","viewed":74,"name":"studyyt","username":"zhangyuntao","description":"just for study!","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["study","just"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"Xdf3Rn","filepath":"/media/a/e81e818ac76a8983d746784b423178ee9f6cdcdf7f8e8d719341a6fe2d2ab303.webm","previewfilepath":"/media/ap/e81e818ac76a8983d746784b423178ee9f6cdcdf7f8e8d719341a6fe2d2ab303.webm","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\nfloat getMask(float radius, vec2 pos, vec2 centre, float gradient, float brightness)\n{\n    float dist = distance(pos, centre);\n    \n    if (dist < radius) {\n        float dd = dist/radius;\n        \n        return smoothstep(0.0, gradient, 1.0 - pow(dd, brightness));\n    }\n    \n    return 0.0;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec3 resolution = iResolution;\n    float aspe = resolution.x / resolution.y;\n    vec4 coefficient = vec4(1,30,50,50);\n    vec4 color = vec4(0,0,0,1);\n    \n\tvec2 uv = (fragCoord.xy / resolution.xy) * 2.0 - 1.0;\n    vec2 pos = uv;\n    pos.x *= aspe;\n    \n    vec2 centre = resolution.xy *0.8; //(iMouse.xy / resolution.xy) * 2.0 - 1.0;\n    centre.x *= aspe;\n    \n    //vec4 tc = texture2D(CC_Texture0, vec2(uv.x, 1.0-uv.y));\n    vec4 tc = texture(iChannel0, uv);//vec2(uv.x, 1.0-uv.y)\n    \n    float mask = getMask(coefficient.y, pos, centre, coefficient.z, coefficient.w);\n    \n    if (coefficient.x == 0.0)\n        fragColor = vec4(tc*mask*color);\n    else\n        fragColor = vec4(tc*(1.0-coefficient.x*mask*color));\n\n   /*\n    //Channel.\n    vec2 uv = fragCoord/iResolution.xy;\n    vec2 texCoord = uv;\n    \n    vec4 color1 = texture(iChannel0,texCoord);\n    fragColor = color1;\n    //vec4(1,1,0,1);\n\t*/\n}","name":"Image","description":"","type":"image"}]}