{"ver":"0.1","info":{"id":"Ns3fRl","date":"1657058362","viewed":101,"name":"Mandelbulb 2D slice","username":"zenzicubic","description":"This is what happens when mandelbulbs are cut by a plane","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["mandelbulb"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define MAX 50\n#define BAIL 1.5\n#define POWER 8.0\n\nvec3 power(vec3 v, float n) \n{\n\t// triplex power\n    float r = pow(length(v), n);\n    float l = sqrt(v.x * v.x + v.y * v.y);\n    float theta = atan(l / v.z);\n    float phi = atan(v.y, v.x);\n    \n    float x = sin(n * theta) * cos(n * phi);\n    float y = sin(n * theta) * sin(n * phi);\n    float z = cos(n * theta);\n    return r * vec3(x, y, z);\n}\n\nint test(vec3 c) \n{\n\t// test each point\n    vec3 v = vec3(0);\n    for (int i = 0; i < MAX; i ++)\n    {\n        v = power(v, POWER) + c;\n        if (length(v) > BAIL) return i;\n    }\n    return MAX;\n}\n\nvec2 scale(vec2 fragCoord)\n{\n\t// get UV coords and map to complex coords\n    vec2 pos = fragCoord/iResolution.xy;\n    float ratio = iResolution.x / iResolution.y;\n    \n    vec2 z = 3.0 * pos - 1.5;\n    z.x *= ratio;\n    \n    return z;\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n\t// scale position and test\n    vec2 s = scale(fragCoord);\n    vec3 c = vec3(s, (iTime / 50.0) - 1.0);\n    int i = test(c);\n    \n    // set color\n    vec3 col = vec3(0.141,0.141,0.137);\n    if (i == MAX) \n    {\n        col = vec3(0.91,0.929,0.875);\n    }\n\n    // output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}