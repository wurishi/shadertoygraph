{"ver":"0.1","info":{"id":"tl2XWc","date":"1613678618","viewed":68,"name":"Josh","username":"RifinTidHamar","description":"josh","likes":6,"published":1,"flags":0,"usePreview":0,"tags":["josh"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define s(x, y, z) smoothstep(x, y, z)\n#define c(x) clamp(x, 0.0, 1.0)\n#define b 0.005\n\n\nfloat band(float dir, float where, float blur)\n{\n\treturn smoothstep(where - blur, where + blur, dir);\n}\nvec3 box(vec2 uv, vec2 where, vec2 scale, vec3 color)\n{ \n    float band1 = band(uv.x, where.x + (scale.x / 2.0), -b / 1.5);\n    float band2 = band(uv.x, where.x - (scale.x / 2.0), b / 1.5);\n    float bandHor = band1 * band2;\n    float band3 = band(uv.y, where.y + (scale.y / 2.0), -b * 5.5);\n    float band4 = band(uv.y, where.y - (scale.y / 2.0), b * 5.5);\n    float bandVer = band3 * band4;\n   \n    return vec3(color) * bandVer * bandHor;\n}\n\nvec2 within (vec2 uv, vec4 rect)\n{\n    return (uv - rect.xy) / (rect.zw - rect.xy);\n}\n\nvec4 mouth(vec2 uv)\n{\n    uv.y +=  .9;\n\n    vec4 col = vec4(1.0);\n    \n    vec2 coord = vec2(uv.x, uv.y);\n    uv.y /= 10.0;\n\n     \n    float d = length(uv - vec2(0.18,0.03));\n    col.rgb -=  s(0.1, 0.1 - b, d);\n    \n    coord.y -= pow(coord.x, 2.0) * 20.0; //sin(coord.x * 10.0 + 1.57) / 5.0;\n    \n    vec2 scale = vec2(0.4, 0.5);\n    vec2 pos = vec2(0.0,0.0);\n    \n    col *= vec4(vec3(box(coord, pos,scale, vec3(1.0, 1.0, 1.0))), 1.0);\n    \n   \n    \n    return col;\n}\n\nvec4 eyes(vec2 uv)\n{\n    float bl = b * 4.0;\n    \n    vec4 col = vec4(vec3(1.0, 0.3, 0.3), 1.0);\n    float d = length(uv);\n    \n    col.a = s(0.5, 0.5 - bl, d);\n    \n    d = length(uv - vec2(0.23, 0.1));\n    col.rgb = mix(col.rgb, vec3(1.0), s(0.7, 0.1, d));\n    col.rgb = mix(col.rgb, vec3(0.0), s(0.2, 0.2 - bl, d));\n\tcol.rgb = mix(col.rgb, vec3(0.02, 0.6, 0.1), s(0.17, 0.17 - bl, d));\n    col.rgb = mix(col.rgb, vec3(1.0), s(0.2, 0.01, d));\n\tvec4 circle = vec4(vec3(0.0),s(0.6, 0.7, d) * 0.5);\n    col.rgb = mix(col.rgb, circle.rgb, circle.a);\n    \n    \n    d = length(uv - vec2(0.24, 0.11));\n    col.rgb = mix(col.rgb, vec3(0.0), s(0.09, 0.09 - bl, d));\n   \n    \n    return col;\n}\n\nvec4 head(vec2 uv)\n{\n\n    vec4 col = vec4(vec3(0.9, 0.65, 0.1), 0.0);\n    float d = length(uv);\n    \n    col.a = s(0.5, 0.5 - b, d);\n    col.a *= s(0.7, 0.35, d);\n    \n    float outline = s(0.5, 0.5 - b, d) - s(0.48, 0.48 - b, d);\n    \n    col.rgb = mix(col.rgb, vec3(1, 0.5, 0.14), outline);\n    \n    vec4 highLight = vec4(1.0);\n    \n    highLight.a = s(0.42, 0.42 - b, d);\n    highLight.a *= s(0.1, 0.6 - 0.01, uv.y);\n      \n\tcol.rgb = mix(col.rgb, highLight.rgb, highLight.a);\n    \n    d = length(uv  - vec2(0.16, 0.00));\n    \n    vec4 cheek = vec4(vec3(1.0,0.0,0.0), 1.0);\n    cheek.a = s(0.1, 0.01, d) * 0.4;\n    col.rgb = mix(col.rgb, cheek.rgb, cheek.a);\n    \n    return col;\n}\n\nvec4 smiley(vec2 uv)\n{\n   \tuv.x = abs(uv.x);\n    \n    vec4 col = vec4(0.0);\n    vec4 head = head(uv);\n    vec4 eyes = eyes(within(uv, vec4(0.35, 0.1, 0.55, 0.3)));\n    vec4 mouth = mouth(within(uv, vec4(0.0, -0.03, 0.7, -0.1)));\n    \n    \n    col = mix(col, head, head.a);\n    col = mix(col, eyes, eyes.a);\n    c(col -= mouth);\n    return col;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n\tuv -= 0.5;\n    uv.x *= iResolution.x/iResolution.y;\n    \n    \n    fragColor = vec4(smiley(uv));\n}","name":"Image","description":"","type":"image"}]}