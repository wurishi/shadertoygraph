{"ver":"0.1","info":{"id":"X3GXRG","date":"1720093064","viewed":37,"name":"kaleidoscope flower(hw4)","username":"zemi","description":"a small modification","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["asmallmodification"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sXGRn","filepath":"/media/a/95b90082f799f48677b4f206d856ad572f1d178c676269eac6347631d4447258.jpg","previewfilepath":"/media/ap/95b90082f799f48677b4f206d856ad572f1d178c676269eac6347631d4447258.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// inspired by foxes' honeycomb fractal\n\nvec3 hash(float x) { \n    return fract(cos((vec3(x) + vec3(23.32445, 132.45454, 65.78943)) * vec3(23.32445, 32.45454, 65.78943)) * 4352.34345); \n}\n\nvec3 noise(float x) {\n    float p = fract(x); \n    x -= p;\n    return mix(hash(x), hash(x + 1.0), p);\n}\n\nvec3 noiseq(float x) {\n    return (noise(x) + noise(x + 10.25) + noise(x + 20.5) + noise(x + 30.75)) * 0.25;\n}\n\nvoid mainImage(out vec4 O, vec2 U) {\n    float time = iTime * 0.15;\n    vec3 k1 = noiseq(time) * vec3(0.1, 0.19, 0.3) + vec3(1.3, 0.8, 0.63);\n    vec3 k2 = noiseq(time + 1000.0) * vec3(0.2, 0.2, 0.05) + vec3(0.9, 0.9, 0.05);\n\n   \n    float k3 = clamp(texture(iChannel0, vec2(0.01, 0.0)).x, 0.8, 1.0);\n    float k4 = clamp(texture(iChannel0, vec2(0.2, 0.0)).x, 0.5, 1.0);\n    k2 += vec3((k3 - 0.8) * 0.05);\n    k1 += vec3((k4 - 0.5) * 0.01);\n    \n    float g = pow(abs(cos(time * 0.8 + 9000.0)), 4.0);\n    \n    vec2 R = iResolution.xy;\n    vec2 r1 = (U / R.y - vec2(0.5 * R.x / R.y, 0.5));\n    float l = length(r1);\n    vec2 rotate = vec2(cos(time), sin(time));\n    r1 = vec2(r1.x * rotate.x + r1.y * rotate.y, r1.y * rotate.x - r1.x * rotate.y);\n    vec2 c3 = abs(r1.xy / l);\n    if (c3.x > 0.5) c3 = abs(c3 * 0.5 + vec2(-c3.y, c3.x) * 0.86602540);\n    c3 = normalize(vec2(c3.x * 2.0, (c3.y - 0.8660254037) * 7.4641016151377545870));\n    \n    O = vec4(c3 * l * 70.0 * (g + 0.12), 0.5, 0);\n    for (int i = 0; i < 1024; i++) {\n        O.xzy = (k1 * abs(O.xyz / dot(O, O) - k2));\n    }\n    \n    \n    vec2 uv = U / iResolution.xy;\n    uv = uv * 2.0 - 1.0;\n    float radius = length(uv);\n    float angle = atan(uv.y, uv.x) + radius * 3.0 * iTime;\n    vec2 spiralUV = vec2(cos(angle), sin(angle)) * radius;\n    spiralUV = (spiralUV + 1.0) * 0.5;\n\n    \n    vec3 texColor = texture(iChannel0, spiralUV).rgb;\n    O.rgb = mix(O.rgb, texColor, 0.5);\n}\n","name":"Image","description":"","type":"image"}]}