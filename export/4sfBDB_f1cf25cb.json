{"ver":"0.1","info":{"id":"4sfBDB","date":"1499023352","viewed":161,"name":"NewtonThingy1","username":"balkhan","description":"\nOriginal Newton fractal code taken from maldicion069 : https://www.shadertoy.com/view/4tcSRN\n","likes":7,"published":1,"flags":0,"usePreview":0,"tags":["fractal","newton"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define I_MAX 12.\nfloat\tt;\nvec2 \tcmult(vec2 a, vec2 b);\n\n/* \n  Newton fractal code taken from maldicion069 : https://www.shadertoy.com/view/4tcSRN\n*/\n\nvec2 g(vec2 n) {\n    return vec2(\n        n.x*n.x*n.x - 3.*n.x*n.y*n.y - 100.,\n        -n.y*n.y*n.y + 3.*n.x*n.x*n.y\n    );\n}\n\nvec2 dg(vec2 n) {\n    return 2. * vec2(\n        n.x*n.x - n.y*n.y,\n        2. * n.x * n.y\n    );\n}\n\nvec2 cdiv(vec2 a, vec2 b) {\n    float d = dot(b, b);\n    if(d == 0.) return a;\n    else return vec2(\n        (a.x*b.x + a.y*b.y),\n        (a.y*b.x - a.x*b.y)) / d;;\n}\n\n/*\n\n*/\n\nvoid\tmainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    t = iTime*.25;\n\tvec2\tuv = fragCoord.xy / iResolution.xy;\n    vec2\tz = vec2(0.0, 0.0);\n    vec2\tof = 1.*vec2( (uv.x -.5)/0.125, (uv.y -.5)/0.125);\n    vec3\tcol = vec3(0.0);\n    float\tdist = 0.0;\n    z.xy = of;\n    float\tparam_i = .0;\n    for (float i = -1.; i < I_MAX; ++i)\n    {\n        z.xy = z.xy-cdiv(g(z.xy+of-2.*vec2(cos(1.*t/5.0+i*param_i ),sin(1.*t/3.0+i*param_i ))),\n                         dg(z.xy+of-2.*vec2(cos(1.*t/2.0+i*param_i ),sin(1.*t/1.0+i*param_i ))) );\n        z.xy = cmult(z.xy, vec2(sin(t), cos(t))).xy;\n        dist = dot(z.xy,z.xy);\n        if ( i > 0.\n            &&\n            (\n             sqrt(z.x*z.x/(z.y*z.y) ) < .051\n            ||\n             sqrt(z.y*z.y/(z.x*z.x) ) < .051\n                )\n           )\n        {\n        col.x = exp(-abs(z.x*z.x*z.y))*1.;\n    \tcol.y = exp(-abs(z.y*z.x*z.y))*1.;\n    \tcol.z = exp(-abs(min(z.x,z.y) ))*1.;\n            break;\n        }\n\n     \tcol.x += .1*exp(-abs(-z.x/i+i/z.x))*2.;\n    \tcol.y += .1*exp(-abs(-z.y/i+i/z.y))*2.;\n    \tcol.z += .1*exp(-abs((-z.x-z.y)/i+i/(z.x+z.y)))*2.;\n        if (dist > 1000000000000000.0)\n            break;\n    }\n    fragColor = 1.*vec4(col, 1.0);\n}\n\nvec2 \tcmult(vec2 a, vec2 b)\n{\n    return (vec2(a.x * b.x - a.y * b.y, a.x * b.y + a.y * b.x));\n}\n","name":"Image","description":"","type":"image"}]}