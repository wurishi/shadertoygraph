{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"// Created by yumeng 2/2015\n// License Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.\n\nfloat s( float b ) {\n    return abs( b / 2. - mod( iTime* 2e1, b ) );\n}\n\nfloat sArea(vec2 p1,vec2 p2,vec2 p3)\n{\n    float s;\n    s = 0.5*((p1.x*p2.y-p2.x*p1.y)+(p2.x*p3.y-p3.x*p2.y)+(p3.x*p1.y-p1.x*p3.y));\n    return abs(s);\n}\n//ç”»å‡ºä¸¤ä¸ªå›ºå®šçš„ç‚¹æž„æˆçš„æ–œè¾¹\nvec2 getLineColor(vec2 st, vec2 ed, vec2 px)\n{\n    vec2 p = px / 1e1;\n   \n    float a = 10.0;\n    float sr = sArea(p,st,ed);\n    float c = 0.0;\n    \n    vec2 min_b = min(st,ed);\n    vec2 max_b = max(st,ed);\n    \n    float delta = 2.0;\n    if(p.x<min_b.x-delta||p.y<min_b.y-delta||p.x>max_b.x+delta||p.y>max_b.y+delta)\n    {\n        return vec2(a,c);\n    }\n    \n    if ( a > sr)\n    {\n        a = sr/10.0;\n        c =0.6*p.y+p.x;\n        c = c+iTime*3.8;\n        //c = mod(iTime,c);\n    }\n    return vec2(a,c); \n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n    float a = 1e1,d, m = 0.;\n\tvec2 p = fragCoord.xy / a;\n\n    vec2 res = iResolution.xy/a;\n    \n    vec2 st = vec2(res.x*0.38,res.y);\n    vec2 ed = vec2(res.x*0.49,res.y*0.76);\n    vec2 result = getLineColor(st,ed,fragCoord);\n    \n    st = vec2(res.x*0.62,res.y);\n    ed = vec2(res.x*0.51,res.y*0.76);\n    if(result.y == 0.0) \n    {\n        result = getLineColor(st,ed,fragCoord);\n        //result.y = 0.2;\n    }\n    \n    st = vec2(res.x*0.32,res.y*0.73);\n    ed = vec2(res.x*0.68,res.y*0.73);\n    if(result.y == 0.0)\n    {\n        result = getLineColor(st,ed,fragCoord);\n        //result.y = 2.45;\n        //result.x = 1.0;\n    }\n    \n    st = vec2(res.x*0.38,res.y*0.51);\n    ed = vec2(res.x*0.62,res.y*0.51);\n    if(result.y == 0.0)\n    {\n        result = getLineColor(st,ed,fragCoord);\n    }\n    \n    st = vec2(res.x*0.28,res.y*0.3);\n    ed = vec2(res.x*0.72,res.y*0.3);\n    if(result.y == 0.0)\n    {\n        result = getLineColor(st,ed,fragCoord);\n    }\n    \n    st = vec2(res.x*0.5,res.y*0.73);\n    ed = vec2(res.x*0.5,0.);\n    if(result.y == 0.0)\n    {\n        result = getLineColor(st,ed,fragCoord);\n    }\n    m = result.y;\n    a = result.x;\n\n    vec3 c;\n\tfor ( int i = 0 ; i < 3 ; i++ ) {\n        m /= 3.;\n\t\tc[ i ] = fract( m );\n\t}\n    vec2 q = 0.6 * (2.0*fragCoord.xy-iResolution.xy)/min(iResolution.y,iResolution.x);\n\tfloat r = length(q);\n    vec3 bcol = vec3(0.8+0.1*q.y,0.2,0.2-0.1*q.y);\n    bcol *= 1.0 - 0.5*r;\n    \n    vec3 ccol = clamp(c/a,0.,1.);\n    \n    fragColor.rgb = mix(bcol,ccol,ccol.x);\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"llX3zl","date":"1424247028","viewed":138,"name":"happy chinese new year","username":"thu_yumeng","description":"thanks:https://www.shadertoy.com/view/Mlf3WM","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["forfine2d"],"hasliked":0,"parentid":"","parentname":""}}