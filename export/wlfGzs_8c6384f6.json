{"ver":"0.1","info":{"id":"wlfGzs","date":"1557300021","viewed":134,"name":"Tabroid Ink","username":"shintalo","description":"Pix 2 Tabloid ink","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["posteffect","practice","ink","tabroid"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"Xdf3Rn","filepath":"/media/a/e81e818ac76a8983d746784b423178ee9f6cdcdf7f8e8d719341a6fe2d2ab303.webm","previewfilepath":"/media/ap/e81e818ac76a8983d746784b423178ee9f6cdcdf7f8e8d719341a6fe2d2ab303.webm","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\nfloat PIX_GRID = 8.0;\nfloat POWER = 1.5;\n// 明度\nfloat GetRgbValue(vec3 rgb)\n{\n\treturn max(rgb.r, max(rgb.g, rgb.b))*1.0;\n}\n\nbool IsInnerPoint( vec2 pos, int grid_offset_x,  int grid_offset_y )\n{\n    float vRange = sqrt( pow( PIX_GRID/2.0, 2.0 ) + pow( PIX_GRID, 2.0 ) );\n    \n\tvec2 grid = floor( pos/PIX_GRID );\n\tfloat x_offset;\n    int gy = int(grid.y); \n\tif((( gy + grid_offset_y)&1)==1)\n\t{\n\t\tx_offset = PIX_GRID*0.5;\n\t}else{\n\t\tx_offset = 0.0;\n\t}\n\n\t// Grid Lup\n\tvec2 pix_lup = grid * PIX_GRID;\n\t// Complete Grid\n\tpix_lup += vec2( float(grid_offset_x) * PIX_GRID + x_offset, float(grid_offset_y) * PIX_GRID  );\n\t// Grid Center\n\tvec2 pix_center = pix_lup + (PIX_GRID*0.5);\n\n\t// Grid Value\n\tfloat v = 1.0 - GetRgbValue( texture( iChannel0, pix_lup/iResolution.xy ).xyz );\n\t// Power!\n\tv = pow( v ,POWER );\n\treturn distance( pos, pix_center ) < ( v * vRange );\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n//    vec2 uv = fragCoord/iResolution.xy;\n//\tvec4 col = texture( iChannel0, uv );\n    \n    // Output to screen\n\tfragColor = vec4( 0.0, 0.0, 0.0, 1.0);\n\tif( IsInnerPoint( fragCoord, -1, -1 ) )return;\n\tif( IsInnerPoint( fragCoord,  0, -1 ) )return;\n\tif( IsInnerPoint( fragCoord, -1,  0 ) )return;\n\tif( IsInnerPoint( fragCoord,  0,  0 ) )return;\n\tif( IsInnerPoint( fragCoord, +1,  0 ) )return;\n\tif( IsInnerPoint( fragCoord, -1, +1 ) )return;\n\tif( IsInnerPoint( fragCoord,  0, +1 ) )return;\n\tfragColor = vec4( 1.0, 1.0, 1.0, 1.0 );\n}","name":"Image","description":"","type":"image"}]}