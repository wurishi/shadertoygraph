{"ver":"0.1","info":{"id":"Xf2BWw","date":"1725022114","viewed":105,"name":"A type of pentagonal tiling","username":"shadertoyjiang","description":"A type of pentagonal tiling","likes":12,"published":1,"flags":0,"usePreview":0,"tags":["tiling","pentagonal"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// 2024年8月30日\n// 已知的15种五边形平铺之一\n// This is one of the 15 known pentagonal tiling\n\n\n#define rot(a) mat2(cos(a), -sin(a), sin(a), cos(a))\n#define PI 3.14159265358979\nfloat dln(in vec2 a, in vec2 b, in vec2 p) {\n        b -= a;\n        p -= a;\n        float h = clamp(dot(p, b) / dot(b, b), 0., 1.);\n        return length(p - b * h);\n}\n\nvec2 k = vec2(.866, 1), n = vec2(.866, .5), p = vec2(.288675, .5);\n\nvec2 cent6(vec2 u) {\n        vec2 i, f;\n        i = floor(u / k + .5);\n        i.y += step(.5, mod(i.x, 2.)) * sign(u.y - i.y) * .5;\n        i *= k;\n        f = u - i;\n        if (dot(abs(f) - p, n) > 0.) i += sign(f) * n;\n        return i;\n}\n\nvoid mainImage(out vec4 O, vec2 U) {\n        O = vec4(.5);\n        vec2 R = iResolution.xy,\n                u = 2. * (U + U - R) / R.y;\n        vec2 a = vec2(.09, .43)+vec2(.01,-.03)+.03*cos(iTime+vec2(0,11)), c = vec2(0, .5), b = a + (c - a) * 2.;\n        u = u * rot(atan(a.y, a.x));\n        vec2 f = u - cent6(u);\n        float d = 1e8;\n        float m = -10.;\n        for (int i = 0; i < 6; i++) {\n                d = min(d, dln(vec2(0), vec2(a), f));\n                d = min(d, dln(b, vec2(a), f));\n                d = min(d, dln(p, a, f));\n                d = min(d, dln(p * vec2(-1, 1), b, f));\n                f = f * rot(PI / 3.); //mat2(n.y,-n.x,n); // rot(PI / 3.)\n        }\n        //O = vec4(  exp(-20.*d) );\n        //O += length(f);\n        O = .8 - vec4(.003 / d);\n}\n","name":"Image","description":"","type":"image"}]}