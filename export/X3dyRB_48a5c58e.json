{"ver":"0.1","renderpass":[{"outputs":[{"channel":0,"id":"4dfGRr"}],"inputs":[],"code":"// shaders lindos â™¥ https://www.shadertoy.com/playlist/cXBGzV\n#define rot(a) mat2(cos(a + vec4(0, 11, 33, 0)))\n#define t (iTime * .8)\n#define FAR 20.\n#define PI acos(-1.)\n#define TAU (2.*PI)\n\nfloat h21(vec2 p) {\n    vec3 p3 = fract(vec3(p.xyx) * .1031);\n    p3 += dot(p3, p3.yzx + 43.123);\n    return fract((p3.x + p3.y) * p3.z);\n}\n\nfloat smax(float a, float b) {\n    float k = .04;\n    float f = max(0., 1. - abs(b - a) / k);\n    return max(a, b) + k * .25 * f * f;\n}\n\nfloat porca(vec3 p, float f){\n    float d, k = 10.;\n    vec3 q = pow(abs(p), vec3(k));\n    d = pow(q.x + q.y + q.z, 1. / k) - f;\n    d = smax(d, length(p) - f * 1.45);\n    d = smax(d, .2 - length(p.xy));\n    return d;\n}\n\n#define Q(p) p *= 2.*r(round(atan(p.x, p.y) * 12.) / 4.)\n#define r(a) mat2(cos(a + asin(vec4(0,1,-1,0))))\n\n\n\nfloat map(vec3 p){\n\n\n\n  Q(p.xy);\n  p.x+=cos(iTime);\n  p.y+=sin(iTime);\n  \n    vec3 q = vec3(fract(p.xy) - .5, p.z - .5);\n\n    vec3 k;\n            \n    k.z = mix(\n              tanh(cos(\n                  dot(cos(floor(p.xy ) * .8), 2. * vec2(cos(t * .4), sin(t * .3)))\n                  + t * 3.\n              ) * 8.),\n              cos(\n                  dot(cos(p.xy * .3), 7. * vec2(cos(t * .6), sin(t * .4)))\n                  + t * 2.\n              ),\n              cos(t * 3.3) * .5 + .5\n              \n          ) * .4 - .22;;\n           \n          \n    \n    return smax(-p.z + .35, -porca(q - k, .47));//\n}\n\nfloat march(vec3 ro, vec3 rd) {\n    float d, s, i;\n    \n    while(i++ < 64.) {\n        s = map(ro + d * rd);\n        if(abs(s) < .01 || d > FAR) break;\n        d += i < 32. ? s * .4 : s * .9;\n    }\n    \n    return min(d, FAR);\n}\n\n\nvec3 normal(vec3 p) {\n    vec3 e = vec3(.001, 0, 0);\n    vec3 v = vec3(\n                 map(p - e.xyy),\n                 map(p - e.yxy),\n                 map(p - e.yyx)\n             ) - map(p);\n    return normalize(-v);\n}\n\nfloat AO(vec3 p, vec3 n) {\n    float sca = 2., occ;\n    \n    for(int i; i < 6; i ++) {\n        float hr = float(i + 1) * .15 / 3.;\n        float d = map(p + n * hr);\n        occ +=(hr - d) * sca;\n        sca *= .7;\n    }\n    return clamp(1. - occ, 0., 1.);\n}\n\nvoid mainImage(out vec4 o, vec2 u) {\n    vec2 r = iResolution.xy;\n    u = (u - r / 2.) / r.y;\n    o *= 0.;\n    \n    vec3 ro = vec3(0, 0, -5),\n         D = normalize(\n                 vec3(u, 2.5 + tanh(cos(t * .2) * 15.) * 1.5)\n             );\n\n\n\n   \n\n    float d = march(ro, D);\n    \n    if(d < FAR) {\n        vec3 p = ro + d * D,\n             N = normal(p),\n             ref = reflect(D, N);\n          \n        float diff = length(sin(ref * 6.) * .5 + .5);\n        float spec = pow(diff * .4, 5.) * 5.;\n        vec4 alb = vec4(vec3(0.2,.5,1.),1.);\n        o = (alb * diff * .6 + spec) * AO(p, ref * 2.);\n        o = pow(o, vec4(.8));\n    }\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"X3dyRB","date":"1735277767","viewed":246,"name":"metal waves remake","username":"nayk","description":"remake https://www.shadertoy.com/view/lXccRB","likes":15,"published":3,"flags":0,"usePreview":0,"tags":["fractal"],"hasliked":0,"parentid":"","parentname":""}}