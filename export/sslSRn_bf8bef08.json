{"ver":"0.1","info":{"id":"sslSRn","date":"1618224631","viewed":83,"name":"Mandelbrot zoomed","username":"kiwonka","description":"A zoomed view of a mandelbrot set.","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["fractal","mandelbrot"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const int maxi = 1000;\n\nfloat mandelbrot(highp vec2 c) {\n    highp vec2 z = vec2(0.0, 0.0);\n    int i;\n    for (int j = 0; j <= maxi; j++) {\n        i = j;\n        if ((z.x*z.x+z.y*z.y) >= 4.0)\n            break;\n        z = vec2(z.x*z.x - z.y*z.y, 2.0*z.x*z.y) + c;\n    }\n    \n    if (i == maxi) return 0.0;\n\n    return float(i) / float(maxi);\n}\n\nvec3 f2rgb(float f) {\n    lowp float R = clamp(f * 3.0, 0.0, 1.0);\n    lowp float G = clamp((f * 3.0) - 1.0, 0.0, 1.0);\n    lowp float B = clamp((f * 3.0) - 2.0, 0.0, 1.0);\n    \n    return vec3(R, G, B);\n}\n\nvec3 hsv2rgb(float h, float s, float v) {\n    float c = v * s;\n    float m = v - c;\n    float hp = h / 60.0;\n    float x = c * (1.0 - abs(mod(hp, 2.0) - 1.0));\n    \n    if(hp < 0.0) {\n        return vec3(m, m, m);\n    } else if (hp < 1.0) {\n        return vec3(m + c, m + x, m);\n    } else if (hp < 2.0) {\n        return vec3(m + x, m + c, m);\n    } else if (hp < 3.0) {\n        return vec3(m, m + c, m + x);\n    } else if (hp < 4.0) {\n        return vec3(m, m + x, m + c);\n    } else if (hp < 5.0) {\n        return vec3(m + x, m, m + c);\n    } else if (hp < 6.0) {\n        return vec3(m + c, m, m + x);\n    } else {\n        return vec3(m, m, m);\n    }\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float f = min(iResolution.x, iResolution.y);\n\n    vec2 uv = (fragCoord/f);\n\n    uv -= vec2(0.85, 0.5);\n\n    uv *= .00735;\n\n    float w = 3.1415 / 180.0 * 80.0;\n\n    uv *= mat2(cos(w), -sin(w), sin(w), cos(w));\n    \n    uv -= vec2(0.748, -0.065);\n    \n    float h = mandelbrot(uv);\n\n    //vec3 col = f2rgb(mod(h + iTime, 1.0));\n\n    vec3 col = hsv2rgb(mod((h  * 360.0) + (iTime * 20.0), 360.0), 1.0, 1.0);\n    \n    if (h == 0.0)\n        col = vec3(0.0, 0.0, 0.0);\n\n    // Output to screen\n    fragColor = vec4(col, 1.0);\n}\n","name":"Image","description":"","type":"image"}]}