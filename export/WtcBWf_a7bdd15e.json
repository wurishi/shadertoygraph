{"ver":"0.1","info":{"id":"WtcBWf","date":"1613548437","viewed":102,"name":"Okish Cheapish Bluenoise","username":"krax","description":"Bluenoise-like generator which really is just jittering a uniform grid.","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["bluenoise"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\n#define N 128.0\n\n//#define RANDOM_SAMPLING\n//#define UNIFORM_SAMPLING\n\n#define SHOW_DOTS\n#define SAMPLE_TEXTURE\n\nvec2 n22(vec2 p) {\n    vec3 p3  = fract(vec3(p.xyx) * vec3(443.7897, 441.64233, 2437.195));\n    p3 += dot(p.xxy, p3.yzx + 19.19);\n    return fract(p3.xy);\n}\n\n\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord.xy / iResolution.xy;\n    uv -= .5;\n    uv.x *= iResolution.x/iResolution.y;\n\n    float distMin = 1.0;\n\n    for(float x=-(N-1.0)*0.5; x<(N-1.0)*0.5; x+=1.0)\n    {\n        for(float y=-(N-1.0)*0.5; y<(N-1.0)*0.5; y+=1.0)\n        {\n            \n            #ifdef RANDOM_SAMPLING\n            vec2 p = n22(vec2(x, y)) - 0.5;\n\n            #else\n            vec2 jitter = (n22(vec2(x, y)) - 0.5) / sqrt(2.0);\n            \n            #ifdef UNIFORM_SAMPLING\n            jitter *= 0.0;\n            #endif\n            \n            \n            vec2 p = (vec2(x,y) + jitter) / N;\n            \n            #endif\n            \n            distMin = min(distance(p, uv), distMin);\n        }\n    }\n    \n    \n    #ifdef SHOW_DOTS\n    float vis = float(distMin < max(1.0/(N*N), 1.0/max(iResolution.x, iResolution.y))  );\n\n    #else\n    float vis = 1.0 - (distMin * sqrt(N*N + N*N));\n    \n    #endif\n\n    #ifdef SAMPLE_TEXTURE\n    fragColor = texture(iChannel0, (uv + 1.0) * 0.5) * vis;\n    \n    #else\n    fragColor = vec4(vec3(vis), 1.0);\n\n    #endif\n}","name":"Image","description":"","type":"image"}]}