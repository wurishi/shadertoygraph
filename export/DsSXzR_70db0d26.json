{"ver":"0.1","info":{"id":"DsSXzR","date":"1669766641","viewed":227,"name":"Future City of Flying Cars","username":"TrueBoolean","description":"In this city, rows of flying cars flow in traffic. Ride along with them down the highway! No time to stop, can you keep up?\nA fun DOS-styled imarcher. Enjoy!","likes":15,"published":1,"flags":0,"usePreview":0,"tags":["raymarch","int","bitwise","future"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define ITER 256\n#define SIZE 128\n\nvoid mainImage( out vec4 FCOL, in vec2 FPT ){\n    \n    ivec2 PT = ivec2(((FPT+FPT-iResolution.xy)/min(iResolution.x, iResolution.y))*float(SIZE*4));\n    int scroll = int(iTime*84.);\n    ivec2 cam = ivec2(sin(iTime)*30., cos(iTime/5.)*10.);\n      \n    ivec2 sum = ivec2(0);\n    ivec2 ray;\n    int z;\n    for(z = 0; z < ITER; ++z){\n        sum = sum+PT;\n        ray = sum/256;\n        ray += cam;\n        ray.y += 20;\n        int move = z+scroll;\n        int hv = 100;\n        if(ray.y < 0)\n            break;\n        if(abs(ray.x) > 64 && ray.y < 10)\n            break;\n        //flying cars\n        if(ray.y > hv+16 && ray.y < hv+48 && (move&16) > 0 && (move&32) > 0 && (move&128) > 0 && ((ray.x+scroll*10)&128) > 0)\n            break;\n        int move2 = move+75;\n        if(ray.y > hv+128 && ray.y < hv+160 && (move2&16) > 0 && (move2&64) > 0 && (move2&256) > 0 && ((ray.x-scroll*5)&128) > 0)\n            break;\n        int posr = abs(ray.x)-50;\n        //ground cars\n        if(ray.y < 16 && ray.x > 0 && (posr&16) > 0 && (posr&32) > 0 && (posr&128) > 0 && ((z-scroll)&32) > 0)\n            break;\n        if(ray.y < 16 && ray.x < 0 && (posr&16) > 0 && (posr&32) > 0 && (posr&128) > 0 && ((z+scroll*3)&32) > 0)\n            break;\n        //buildings\n        if((abs(ray.x) > 64 && (abs(ray.x)&256) > 0 && (move&64) > 0) && ray.y < ((abs(ray.x)+move)&255))\n            break;\n        if((abs(ray.x) > 64 && (abs(ray.x)&512) > 0 && (move&256) > 0) && ray.y < ((abs(ray.x)+move)&1023))\n            break;\n        if((abs(ray.x) > 64 && (abs(ray.x)&64) > 0 && ((move+360)&128) > 0) && ray.y < ((abs(ray.x)+(move+360))&1023))\n            break;\n    }\n    \n    ivec3 COL = ivec3(256-z);\n    if(abs(ray.x) < 64 && ray.y <= 0)\n        COL >>= 1;\n    if(abs(ray.x) >= 64 && abs(ray.x) < 70 && ray.y <= 10)\n        COL >>= 2;\n    if(abs(ray.x) < 5 && ray.y <= 0 && ((z+scroll)&64) > 0)\n        COL = ivec3(200-z);\n    FCOL = vec4(vec3(COL)/float(ITER), 1.);\n}","name":"Image","description":"","type":"image"}]}