{"ver":"0.1","info":{"id":"lsSBWd","date":"1502727140","viewed":126,"name":"Test color palette","username":"Einis","description":"Test color palette","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["test","palette"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const vec3 palette[9] = vec3[]( vec3(0.1), vec3(0.2), vec3(0.3), vec3(0.4), vec3(0.5), vec3(0.6), vec3(0.7), vec3(0.8), vec3(0.55,0.0,0.0) );\n\nvec3 compareColors (vec3 col)\n{\n    float dis = 255.0;\n    float curDis = 0.0;\n    int disId = 0;\n    for (int i = 0; i < palette.length(); i++) {\n        curDis = abs(col.r-palette[i].r);\n        if (curDis < dis) {\n        \tdis = curDis;\n            disId = i;\n        }\n    }\n    \n    return palette[disId];\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    vec4 col4 = texture(iChannel0, uv);\n    vec3 col = col4.rgb;\n    col = compareColors(col);\n    \n\tfragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}