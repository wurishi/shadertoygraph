{"ver":"0.1","info":{"id":"DtcGW4","date":"1682568677","viewed":106,"name":"brush sim study","username":"shiyuugo","description":"simple brush tip study","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["brush"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float random(float n){return fract(sin(n) * 43758.5453123);}\nfloat random(vec2 st) {return fract(sin(dot(st.xy, vec2(12.9898, 78.233))) * 43758.5453123);}\nfloat noise(float p){\n\tfloat fl = floor(p), fc = fract(p);\n\treturn mix(random(fl), random(fl + 1.0), fc);\n}\n\nvec2 random2(vec2 st){return vec2(random(st.xy),random(st.yx)); }\n\nvec2 circleRandom2(vec2 uv, float radius){\n    float radian = 3.1415*2. * random(uv);\n    float l = random(uv.xy*.1) * radius;\n    l = pow(l,2.);\n    return vec2(cos(radian)*l, sin(radian)*l);\n}\n\n\nfloat line(vec2 uv, vec2 A, vec2 B, float width) {\n    vec2 g = B  - A;\n    vec2 h = uv - A;\n    float d = length(h - g * clamp(dot(g, h) / dot(g,g), 0.0, 1.0));\n\treturn smoothstep(width, 0.5*width, d);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ){\n    vec2 uv = (fragCoord * 2.0 - iResolution.xy) / min(iResolution.x,iResolution.y);\n    vec2 muv = (iMouse.xy * 2.0 - iResolution.xy) / min(iResolution.x,iResolution.y);\n    uv*=.5;\n    float t = iTime * 0.1 * 3.1415*2.;\n    vec2 dir = (vec2(cos(t),sin(t)));\n    dir = normalize(muv);\n    \n    float ppt = (sin(iTime/5. * 3.1415*2.)+1.)*.3;\n    \n    vec2 seed = vec2(4.321,5.678);\n    float l = 0.;\n    for(int i=0; i<300; i++){\n        float len = random(float(i)) * .2;\n        len = pow(len,2.);\n        \n        //vec2 from = random2(seed.xy*vec2(i))  - vec2(.5);\n        //vec2 to     = random2( seed.xy*vec2(i)) - vec2(.5) + dir* len;\n        \n        vec2 from = circleRandom2(seed.xy*vec2(i), 0.5);\n        vec2 to     = circleRandom2(seed.xy*vec2(i), 0.5)+ dir* len;\n        \n       //vec2 from = circleRandom2(seed.xy*vec2(i), 0.1);\n        //vec2 to     = circleRandom2(seed.yx*vec2(i), 0.5) + dir* len;\n        l = max(l, line(uv, from, to, .01*ppt));\n    }\n    \n    vec3 col = vec3(l);\n\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}