{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"// By Miggy. Dedicated to Nozza.\n//\n// While creating this shader I noticed both iq and miloyip (and maybe others?) did something similar before. \n// Sorry guys, I promise I did not copy a single line!\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    vec2 p  = vec2( 0.5, 0.4 );\n    \n    vec2 uv_ = uv - p;\n    uv_ *= vec2( 10., 7. );\n    \n    float cos_t    = cos( 5. * iTime );\n    float cos_t_pi = cos( 5. * iTime + 3.1416 );\n    \n    float pulse_shape  = 1.0 - 4. * cos_t    * ( 1. - cos_t    ) * 0.011;\n    float pulse_colour = 1.0 - 4. * cos_t_pi * ( 1. - cos_t_pi ) * 0.03;\n    \n    float heart_y = uv_.y - sqrt( abs( uv_.x ));\n    float heart   = uv_.x * uv_.x * pulse_shape + heart_y * heart_y;\n    \n    float outer  = 1. - smoothstep( 3., 3.3, heart );\n    float middle = 1. - smoothstep( 0., 2.9, heart );\n    float inner  = 1. - smoothstep( 0., 2.5, heart );\n    \n    float bg = 1. - outer;\n    \n    outer  *= pulse_colour;\n    middle *= pulse_colour;\n    inner  *= pulse_colour;\n    \n    vec3 outer_color  = vec3( outer  * 0.60, outer  * 0.06, outer  * 0.20 );\n    vec3 middle_color = vec3( middle * 0.08, middle * 0.08, middle * 0.08 );\n    vec3 inner_color  = vec3( inner  * 0.14, inner  * 0.11, inner  * 0.11 );\n    vec3 bg_color     = vec3( bg     * 0.77, bg     * 0.67, bg     * 0.61 );\n    \n    vec2 p_center = uv - vec2( 0.5, 0.5 );\n    \n    float radius = 0.1 + 0.1 * cos( atan( p_center.y, p_center.x ) * 17.0 + iTime * 1.3 ) * 1.4;\n    \n    bg_color *= ( 1.0 - smoothstep( radius, radius + 0.8, length( p_center ))) * 2.5;\n    bg_color *= ( pow( 1.0 - length( p_center ), 3.2 ) + ( cos_t * 0.5 + 0.5 ) * 0.13 );\n    \n    vec3 leaf_colour = vec3( 0., 0., 0. );\n    \n    // Number of leafs. to be incremented by one every 6th of January\n    \n    float nLeafsNozza = ( iDate.x - 2014. );\n    float nLeafsBaby = ( iDate.x - 2018. );\n    float nLeafs = nLeafsNozza + nLeafsBaby;\n    \n    if( iDate.y == 0. && iDate.z < 6. ) nLeafs--;\n    \n    for( float i = 0.; i < 1000000.; i++ )\n    {\n        if( i >= nLeafs)\n        {\n            break;\n        }\n        \n        vec2 uv_leaf = uv_ * vec2( 6., 6. );\n        \n        float alpha = 6.28 * i / nLeafs + iTime / 3.0;\n        \n        uv_leaf.x += -1.3 * ( 19. * pow( sin( alpha ), 3.0 )) + 0.33;\n        uv_leaf.y += -1.3 * ( 13. * cos( alpha ) - 5. * cos( 2. * alpha ) - 2. * cos( 3. * alpha ) - cos( 4. * alpha )) - 7.7;\n        \n        alpha = iTime + i * 1.8;\n        \n        float rot_x = cos( alpha ) * uv_leaf.x - sin( alpha ) * uv_leaf.y;\n        float rot_y = sin( alpha ) * uv_leaf.x + cos( alpha ) * uv_leaf.y;\n        \n        uv_leaf.x = rot_x;\n        uv_leaf.y = rot_y;\n        \n        float leaf_y = uv_leaf.y - exp( uv_leaf.x );\n    \tfloat leaf   = uv_leaf.x * uv_leaf.x + leaf_y * leaf_y;\n        \n        leaf = 1. - smoothstep( 0.3, 0.35, leaf );\n        \n        float dist_central_line     = abs( exp( uv_leaf.x ) - uv_leaf.y );\n        float dist_vertical_lines   = mod( uv_leaf.y, 0.3 );\n        float dist_horizontal_lines = mod( uv_leaf.x + 0.1, 0.3 );\n        \n        leaf = leaf * 0.8 * pow( dist_central_line, 0.3 );\n        \n        if( sign( exp( uv_leaf.x ) - uv_leaf.y ) > 0. )\n        {\n            leaf *= pow( dist_vertical_lines, 0.3 );\n        }\n        else\n        {\n            leaf *= pow( dist_horizontal_lines, 0.3 );\n        }\n        \n        if (i >= nLeafsNozza)\n        {\n            leaf_colour += vec3( leaf * 1.3, leaf * 1.3, leaf * 0.2 );\n        }\n        else\n        {\n        \tleaf_colour += vec3( leaf * 0.2, leaf * 1.3, leaf * 0.2 );\n        }\n    }\n    \n    fragColor = vec4( outer_color, 1.0 ) + vec4( middle_color, 1.0 ) + vec4( inner_color, 1.0 ) + \n        \t\t   vec4( leaf_colour, 1.0 ) + vec4( bg_color    , 1.0 );\n}\n","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"XtX3z7","date":"1420301606","viewed":1103,"name":"6th Jan","username":"mapc","description":"Love. One leaf for every year.","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["procedural","2d"],"hasliked":0,"parentid":"","parentname":""}}