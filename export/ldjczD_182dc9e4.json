{"ver":"0.1","info":{"id":"ldjczD","date":"1491260958","viewed":147,"name":"bp Mancha","username":"blackpolygon","description":"A poor implementation of a fractal :D","likes":6,"published":1,"flags":0,"usePreview":0,"tags":["fractal","noise","glitch"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// http://www.fractalforums.com/new-theories-and-research/very-simple-formula-for-fractal-patterns/\nfloat field(in vec3 p) {\n\tfloat strength = 7. + .03 * log(1.240 + fract(sin(iTime) * 4374.158));\n\tfloat accum = 0.;\n\tfloat prev = 0.;\n\tfloat tw = 0.;\n\tfor (int i = 0; i < 32; ++i) {\n\t\tfloat mag = dot(p, p);\n\t\tp = abs(p) / mag + vec3(-0.435,-0.770,-0.728);\n\t\tfloat w = exp(-float(i) / 8.952);\n\t\taccum += w * exp(-strength * pow(abs(mag - prev), 2.420));\n\t\ttw += w;\n\t\tprev = mag;\n\t}\n\treturn max(0., 5. * accum / tw / 0.900 - .8);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 st=(fragCoord.xy-.5*iResolution.xy)/min(iResolution.x,iResolution.y) + vec2(0.5);\n\tvec3 p = vec3(st,2.240) + vec3(-0.50,-0.50,sin(iTime/5.));      \n    vec3 fc1 = vec3(mix(vec3(0.292,0.099,0.560), vec3(0.589,0.595,0.995), st.y));\n    vec3 c1 = vec3(field(p));\n    \n    bool box = (st.x < 0.1 || st.x > 0.9 || st.y < 0.1 || st.y > 0.9) ? true : false;\n    \n    vec3 finalColor = box ? \n        vec3(mix(vec3(0.351,0.028,0.420), vec3(0.799,0.830,0.607), st.y - 0.2*sin(iTime)))\n        :  mix(c1, fc1, length(c1) > 0.6 ? 1.0 : 0.252);\n    \n    fragColor = vec4(finalColor,1.0);\n}","name":"Image","description":"","type":"image"}]}