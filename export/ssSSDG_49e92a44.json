{"ver":"0.1","info":{"id":"ssSSDG","date":"1621955020","viewed":442,"name":"heart G","username":"germain","description":"Raindrops on glass effect with a heart in background","likes":6,"published":1,"flags":0,"usePreview":0,"tags":["jo"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// This effect was inspired from a combination of Martijn Steinrucken aka BigWings: \n// \"The Drive Home\" : https://www.shadertoy.com/view/MdfBRX\n// \"Into you\" : https://www.shadertoy.com/view/4sccWr\n\n\n# define S(a, b, t) smoothstep(a, b, t)\n# define Heart_col vec3(1., .05, .05)\n\nvec2 Rain(vec2 uv, float t){\n    \n    vec2 b = vec2(3. , 1.);\n    vec2 bs = uv*b;\n    \n    vec2 id = floor(bs);\n    bs.y += t*.22;\n    bs.y += fract(sin(id.x*735.23)*772.23);\n    id = floor(bs);\n    bs = fract(bs)- .5;\n    \n    t += fract(sin(id.x*77.35+id.y*1462.8)*778.35)*6.283;\n    float y = -sin(t+sin(t+sin(t)*.5))* .43;\n    vec2 p1 = vec2(0. , y);\n    vec2 of1 = (bs-p1)/b;\n    float d = length(of1);\n    \n    float m1 = S (.08, .0, d);\n    \n    vec2 of2 = (fract(uv*b.x*vec2(1. , 2.))-.5)/vec2(1. , 2.);\n    d = length(of2);\n    \n    float m2 = S(.25*(.5-bs.y), .0, d)*S(-.1, .1, bs.y-p1.y);\n    return vec2 (m1*of1*30.+m2*of2*15.);\n }\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates\n    vec2 uv = (fragCoord-iResolution.xy*.5)/iResolution.y;\n\n    //color(black screen)\n    vec3 col = vec3(0);\n    \n    //making a circle in the middle of the screen by getting the distance to the center of the screen\n     \n     \n     \n     float t = iTime;\n     vec2 rainDistort = (Rain(uv*5., t)*.5);\n     rainDistort += Rain(uv*7., t)*.5;\n     \n     uv.x *= .7;//straighting out the heart\n     uv.y -= sqrt(abs(uv.x))* .5;//\n     uv.y += .1;// move the heart a little bit down\n     float d = length(uv-rainDistort);//getting the distance to the center of the screen\n    \n\n     float c = S(.2+0.1*(t-floor(t)), .15, d);//cutting out a little circle using the smoothstep\n     col = vec3(c*Heart_col);\n     \n     //col = vec3(rainDistort, 0);\n\n    // Output to screen\n    fragColor = vec4(col,1.0);\n    \n  }\n","name":"Image","description":"","type":"image"}]}