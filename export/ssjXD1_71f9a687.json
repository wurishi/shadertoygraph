{"ver":"0.1","info":{"id":"ssjXD1","date":"1620171903","viewed":120,"name":"Bouncing Eclipse","username":"Eylrid","description":"A bouncing ball with a color changing glowing light behind it.","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["bounce","colorchanging"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float Circle(vec2 uv, vec2 p, float r, float blur){\n    float d = length(uv-p);\n    float c = smoothstep(r-blur, r+blur, d);\n    return c;\n}\n\nfloat Bounce(float p, vec2 bounds){\n    \n    float width = bounds[1]-bounds[0];\n\n    p /= 2.;        // divide by 2 to compensate for the fold\n    p -= bounds[0]; // get distance from p to lower bound\n    p /= width;     // scale distance to width\n    p = fract(p);   // wrap p in interval from 0. to 1.\n    p -= 0.5;       // shift to -0.5 to 0.5\n    p = abs(p);     // fold p back to 0. to 0.5\n    p *= 2.;        // stretch p to 0. to 1.\n    p *= width;     // stretch p to 0. to width\n    p += bounds[0]; // shift p based on lower bound\n    \n    return p;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n    float ar = iResolution.x/iResolution.y;\n    uv.x *= ar;\n\n    float t = iTime*.3;\n\n    float r = 0.1;\n\n    float x = Bounce(t*1., vec2(r,ar-r));\n    float y = Bounce(t*1.01, vec2(r,1.-r));\n    vec2 p = vec2(x, y);\n\n    vec3 col = vec3(0);\n\n    float shadow = 1.-Circle(uv, p, r*1.5, r*0.5);\n    vec3 shadowcol = vec3(0);\n\n    t *= 0.41;\n    shadowcol.r = sin(t*1.01)*.5+.5;\n    shadowcol.g = sin(t*2.01)*.5+.5;\n    shadowcol.b = sin(t*4.01)*.5+.5;\n    shadowcol /= length(shadowcol);\n\n    col.r = mix(col.r, shadowcol.r, shadow);\n    col.g = mix(col.g, shadowcol.g, shadow);\n    col.b = mix(col.b, shadowcol.b, shadow);\n\n    float mask = Circle(uv, p, r, 0.003);\n    col *= vec3(mask);\n\n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}