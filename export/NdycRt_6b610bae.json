{"ver":"0.1","info":{"id":"NdycRt","date":"1655336989","viewed":81,"name":"10▣","username":"natnatnat","description":"square ghost","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["square"],"hasliked":0,"parentid":"fsGcWD","parentname":"7▣"},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const float PI = 3.14,\n    width = 0.8,\n    height = 0.6,\n    nat = 3.2794144,\n    R = 0.07;\nconst vec2 center = vec2(0.5, -0.2);\n\nvec2 rotZ(vec2 p, float a) {\n    float c = cos(a);\n    float s = sin(a);\n    return mat2(c, -s, s, c) * p;\n}\n\nvec4 drawRect(float w, float h, vec2 U, float d) {\n    vec4 o = vec4(1.);\n    vec2 rU = rotZ(U, -PI/4. * 0.9);\n    o *= vec4(min(pow(nat, (-abs(rU.y - sin(rU.x + iTime)) + h + sin(iTime) * rU.x/4.)/d), 1.));\n    rU = rotZ(U, PI/4.);\n    o *= vec4(min(pow(nat, (-abs(rU.y - sin(rU.x + iTime)) + w + cos(iTime) * rU.x/4.)/d), 1.));\n    return o;\n}\n\nvec4 drawBall(float r, vec2 U, vec2 c, float d) {\n    return vec4(min(pow(nat, (-distance(U, c) + r)/d), 1.));\n}\n\nvoid mainImage( out vec4 O, in vec2 u ) {\n    vec2 Res = iResolution.xy, \n        U = 4. * (2. * u - Res) / Res.y;\n    vec2 c = center * vec2(sin(iTime), cos(iTime))  + (2. * iMouse.xy - Res)/Res.xy;\n    vec2 U2 = rotZ(U, iTime) - c; \n    O = vec4(1.);\n    vec4 ccc = drawRect(width * 0.85, height  * 0.85, U2, 0.01);\n    vec2 mDir = normalize((2. * iMouse.xy - Res) / Res.y);\n    O *= drawRect(width, height, U2, abs(sin(iTime)) * 0.2 + 0.1)\n      - drawRect(width * 0.85, height  * 0.85, U2, 0.01)\n      + 0. * drawBall(0.08, U2, vec2(-0.25, 0.05) + R * mDir, abs(sin(iTime)) * 0.03 + 0.01)\n      + 0. * drawBall(0.12, U2, vec2(0.25, 0.05) + R * mDir, abs(sin(iTime)) * 0.03 + 0.01);\n}","name":"Image","description":"","type":"image"}]}