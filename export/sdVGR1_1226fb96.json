{"ver":"0.1","info":{"id":"sdVGR1","date":"1631115735","viewed":347,"name":"poster-ize","username":"pali6","description":"Quick and dirty posterization effect applied to a static image taken from your webcam. Click to take a new picture.\nDone using blur which only blurs pixels if their colors are close enough.\nTweak THRESHOLD in Buffer A to get more/less colours.","likes":2,"published":3,"flags":34,"usePreview":0,"tags":["filter","webcam","posterization"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord / iResolution.xy;\n    fragColor = texture(iChannel0, uv);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4sf3zn","filepath":"/presets/webcam.png","previewfilepath":"/presets/webcam.png","type":"webcam","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"#define DIST 3\n#define THRESHOLD 0.045\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord / iResolution.xy;\n    fragColor = texture(iChannel0, uv);\n    if(iFrame <= 60 || iMouse.w > 0.)\n    {\n        fragColor = texture(iChannel1, uv);\n        return;\n    }\n    int count = 0;\n    vec4 sum;\n    for(int dx = -DIST; dx <= DIST; dx++)\n    {\n        for(int dy = -DIST; dy <= DIST; dy++)\n        {\n            vec4 pcol = texture(iChannel0, uv + vec2(dx, dy) / iResolution.xy);\n            if(length(pcol - fragColor) <= THRESHOLD)\n            {\n                sum += pcol;\n                count++;\n            }\n        }\n    }\n    fragColor = sum / float(count);\n}","name":"Buffer A","description":"","type":"buffer"}]}