{"ver":"0.1","info":{"id":"NdlyRs","date":"1642534609","viewed":58,"name":"moving blob","username":"JimmyM","description":"a blob","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["blob"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define BANDS 17\n#define NUMBLOBS 6\n\nvec3 bands[BANDS];/* = vec3[BANDS](\n    vec3(1.0,0.0,0.0),\n    vec3(0.0,1.0,0.0),\n    vec3(0.0,0.0,1.0),\n    vec3(0.5,0.2,0.3),\n    vec3(0.1,0.8,0.1),\n    vec3(0.31,0.23,0.21),\n    vec3(0.04,0.1,0.9)\n);*/\nvoid populateBands(){\n    vec3 colour1 = vec3(sin(iTime*0.9),sin(iTime*0.3),sin(iTime*0.02));\n    vec3 colour2 = vec3(sin(iTime*0.01),sin(iTime*0.26),sin(iTime*0.1));\n    for(int i=0; i<BANDS; i++){\n        \n        bands[i] = mix(colour1, colour2, float(i)/float(BANDS));\n        \n    }\n}\nfloat doblob(vec2 uv, float x, float y, float r){\n    float distance_from_point = length(vec2(x,y) - uv);\n    \n    float fraction = distance_from_point;\n    return clamp(fraction,0.0,r);\n}\nstruct Blob{\n    vec2 pos;\n    vec2 movement;\n    float radius;\n    float period;\n};\nBlob blobs[NUMBLOBS] = Blob[NUMBLOBS](\n    Blob(vec2(0.5f,0.5f),vec2(0.21,0.4),0.5,1.0),\n    Blob(vec2(0.5f,0.5f),vec2(0.21,13),0.5,2.9),\n    Blob(vec2(0.5f,0.5f),vec2(0.32,12),0.5,1.9),\n    Blob(vec2(0.5f,0.5f),vec2(0.51,12),0.2,2.35),\n    Blob(vec2(0.5f,0.5f),vec2(0.456,0.98),0.3,3.0),\n    Blob(vec2(0.5f,0.5f),vec2(0.78,0.4),0.1,1.6)\n);\n\n\n\nconst float SPEED = 1000.0;\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    populateBands();\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n\n    \n    \n    float fraction = 0.0;\n    //fraction += doblob(uv,0.5f,0.5f, 0.2f);\n    \n    for(int i=0; i<NUMBLOBS; i++){\n        Blob b = blobs[i];\n        vec2 pos = b.pos + normalize(b.movement)*sin((iTime/3.142)*b.period)*0.2;\n        fraction += doblob(uv,pos.x,pos.y, b.radius);\n    }\n    \n    //fraction /= float(NUMBLOBS);\n    vec3 col = bands[int(clamp(abs(fraction),0.0,1.0)*float(BANDS))];\n    \n\n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}