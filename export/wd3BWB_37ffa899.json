{"ver":"0.1","info":{"id":"wd3BWB","date":"1605869175","viewed":239,"name":"Heat Map: Testbed","username":"matt77hias","description":"Heatmap","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["heatmap"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec4 GetHeatMap(float weight)\n{\n\t// [Source]: https://www.shadertoy.com/view/llKGWG\n\t\n\t// Modulate the red component.\n\tfloat r = smoothstep(0.5f, 0.8f, weight);\n\tif (weight >= 0.90f)\n\t{\n\t\tr *= (1.1f - weight) * 5.0f;\n\t}\n\t\n\t// Modulate the green component.\n\tfloat g = 0.0f;\n\tif (weight > 0.7f)\n\t{\n\t\tg = smoothstep(1.0f, 0.7f, weight);\n\t}\n\telse\n\t{\n\t\tg = smoothstep(0.0f, 0.7f, weight);\n\t}\n\t\n\t// Modulate the blue component.\n\tfloat b = smoothstep(1.0f, 0.0f, weight);\n\tif (weight <= 0.3f)\n\t{\n\t\tb *= weight / 0.3f;\n\t}\n\n\treturn vec4(r, g, b, 1.0f);\n}\n\nvec4 GetHeatMap(float value, float max_value)\n{\n\treturn GetHeatMap(min(value / max_value, 1.0f));\n}\n\nconst float g_max_value = 10.0f; // inclusive\nconst float g_count     = g_max_value + 1.0f;\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n    vec2 uv = fragCoord.xy / iResolution.xy;\n    \n    float grey_scale_value = uv.x;\n    float continuous_value = grey_scale_value * g_count;\n    float   discrete_value = floor(continuous_value);\n    \n    if (uv.y < 0.33f)\n    {\n       fragColor = vec4(vec3(grey_scale_value), 1.0f);\n    }\n    else if (uv.y < 0.66f)\n    {\n       fragColor = GetHeatMap(continuous_value, g_max_value);\n    }\n    else\n    {\n       fragColor = GetHeatMap(discrete_value, g_max_value);\n    }\n    \n    if (0.33f <= uv.y && uv.y < 0.34f)\n    {\n        fragColor = vec4(1.0f);\n    }\n    else if (0.66f <= uv.y && uv.y < 0.67f)\n    {\n        fragColor = vec4(1.0f);\n    }\n}","name":"Image","description":"","type":"image"}]}