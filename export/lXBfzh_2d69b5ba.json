{"ver":"0.1","info":{"id":"lXBfzh","date":"1729181128","viewed":43,"name":"Fire vs Water","username":"darkomtc","description":"Just a transition between red (with fire flame) and blue (with water wave).","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["wave","flame","fire","water"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dX3Rn","filepath":"/media/a/bd6464771e47eed832c5eb2cd85cdc0bfc697786b903bfd30f890f9d4fc36657.jpg","previewfilepath":"/media/ap/bd6464771e47eed832c5eb2cd85cdc0bfc697786b903bfd30f890f9d4fc36657.jpg","type":"texture","channel":2,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGzn","filepath":"/media/a/0c7bf5fe9462d5bffbd11126e82908e39be3ce56220d900f633d58fb432e56f5.png","previewfilepath":"/media/ap/0c7bf5fe9462d5bffbd11126e82908e39be3ce56220d900f633d58fb432e56f5.png","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XdXGzr","filepath":"/media/a/8979352a182bde7c3c651ba2b2f4e0615de819585cc37b7175bcefbca15a6683.jpg","previewfilepath":"/media/ap/8979352a182bde7c3c651ba2b2f4e0615de819585cc37b7175bcefbca15a6683.jpg","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec3 screen( vec3 s, vec3 d )\n{\n\treturn s + d - s * d;\n}\n\nfloat overlay( float s, float d )\n{\n\treturn (d < 0.5) ? 2.0 * s * d : 1.0 - 2.0 * (1.0 - s) * (1.0 - d);\n}\n\n\nvec3 overlay( vec3 s, vec3 d )\n{\n\tvec3 c;\n\tc.x = overlay(s.x,d.x);\n\tc.y = overlay(s.y,d.y);\n\tc.z = overlay(s.z,d.z);\n\treturn c;\n}\n\nvec3 rgb2hsv(vec3 c)\n{\n\tvec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\n\tvec4 p = mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g));\n\tvec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r));\n\t\n\tfloat d = q.x - min(q.w, q.y);\n\tfloat e = 1.0e-10;\n\treturn vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);\n}\n\nvec3 hsv2rgb(vec3 c)\n{\n\tvec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n\tvec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n\treturn c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\nvec3 hue( vec3 s, vec3 d )\n{\n\td = rgb2hsv(d);\n\td.x = rgb2hsv(s).x;\n\treturn hsv2rgb(d);\n}\n\nvec3 color( vec3 s, vec3 d )\n{\n\ts = rgb2hsv(s);\n\ts.z = rgb2hsv(d).z;\n\treturn hsv2rgb(s);\n}\n\nfloat hardLight( float s, float d )\n{\n\treturn (s < 0.5) ? 2.0 * s * d : 1.0 - 2.0 * (1.0 - s) * (1.0 - d);\n}\n\nvec3 hardLight( vec3 s, vec3 d )\n{\n\tvec3 c;\n\tc.x = hardLight(s.x,d.x);\n\tc.y = hardLight(s.y,d.y);\n\tc.z = hardLight(s.z,d.z);\n\treturn c;\n}\n\nvec3 multiply( vec3 s, vec3 d )\n{\n\treturn s * d;\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n    vec2 p1 = vec2(.5, 1.0);\n    vec2 p2 = vec2(.5, .0);\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n\tvec2 uvRed = vec2(uv);\n\tvec2 uvBlue = vec2(uv);\n    \n    vec4 c1 = texture(iChannel0, uv / 2.0 + iTime/20.);\n    float d1 = step(0.0 ,uvRed.y)*step(uvRed.y, 1.0)*abs(uvRed.x-0.5)+\n        step(uvRed.y,p2.y)*distance(uvRed,p2)+step(p1.y,uvRed.y)*distance(uvRed,p1);\n        \n    float f1 = .005 / abs(d1 + c1.b/400.);\n    vec3 flame = f1 * c1.rgb * vec3(5.0, 0.0, 0.0);\n    \n    \n    vec4 c2 = texture(iChannel1, uv / 3.0 + iTime/20.);\n    float d2 = step(0.0 ,uvBlue.y)*step(uvBlue.y, 1.0)*abs(uvBlue.x-0.5)+\n        step(uvBlue.y,p2.y)*distance(uvBlue,p2)+step(p1.y,uvBlue.y)*distance(uvBlue,p1);\n        \n    float f2 = .005 / abs(d2 + c2.b/400.);\n    vec3 aqua = f2 * c2.rgb * vec3(0.0, 0.0, 5.0);\n    \n    \n    \n\n    \n    vec3 c3 = texture(iChannel2, uv).rgb;\n    vec3 red = vec3(0.8, 0.1, 0.1) * c3;\n    vec3 blue = vec3(0.1, 0.1, 0.8) * c3;\n    vec3 bg = mix(red, blue, smoothstep(0.5, 0.5, uv.x));\n    \n    vec3 transition = mix(flame, aqua , smoothstep(0.49, 0.51, uv.x));\n    \n\tfragColor = vec4(hardLight(bg, max(transition, 0.5)), 1.0);\n\tfragColor = vec4(overlay(bg, max(transition, 0.5)), 1.0);\n    //fragColor = vec4(bg, 1.0);\n}","name":"Image","description":"","type":"image"}]}