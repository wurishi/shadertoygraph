{"ver":"0.1","info":{"id":"cdtBRM","date":"1696973595","viewed":114,"name":"OKLAB","username":"Peace","description":"OKLAB color space implementation","likes":1,"published":3,"flags":0,"usePreview":0,"tags":["color","lab","colorspace","ok","oklab"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const float PI = 3.14159265358;\n\nvec3 oklch2oklab(float L, float c, float h) \n{\n  return vec3(L, c * cos(h*PI), c * sin(h*PI));\n}\n\nvec3 oklab2rgb(float lightness, float red_greenness, float blue_yellowness) \n{\n    float l_ = lightness + 0.3963377774 * red_greenness + 0.2158037573 * blue_yellowness;\n    float m_ = lightness - 0.1055613458 * red_greenness - 0.0638541728 * blue_yellowness;\n    float s_ = lightness - 0.0894841775 * red_greenness - 1.2914855480 * blue_yellowness;\n\n    float l = l_*l_*l_;\n    float m = m_*m_*m_;\n    float s = s_*s_*s_;\n\n    return vec3(\n\t\t+4.0767416621 * l - 3.3077115913 * m + 0.2309699292 * s,\n\t\t-1.2684380046 * l + 2.6097574011 * m - 0.3413193965 * s,\n\t\t-0.0041960863 * l - 0.7034186147 * m + 1.7076147010 * s\n    );\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n\n    vec3 col = vec3(0);\n    float hue = uv.x;\n    vec3 ok = oklch2oklab(1.0, 0.5, hue);\n    col = oklab2rgb(ok.x, ok.y, ok.z);\n    col = pow(col, vec3(1.0/2.2));\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}