{"ver":"0.1","info":{"id":"XcscR7","date":"1720957028","viewed":49,"name":"Kind of cloud","username":"Xecutor","description":"Silly attempt at rendering a cloud","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["cloud"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.1415926538\n\nfloat rnd(float x, float n) {\n    return fract(1e4*sin(x*10.0+10.0*pow(1.0+x, 2.5)+n*(2.0+x)*(2.0+x)));\n}\n\nvec3 pal(vec2 p, float sh, float sc) {\n    float v = p.y < 0.5 ? 8.0 * pow(p.y, 4.0): 1.0 - pow(-2.0 * p.y + 2.0, 4.0) / 2.0;\n    v += cos(p.x*1.5)/3.0;\n    v+=rnd(p.x, p.y)/6.0;\n    v=sh+v*sc;\n    return min(vec3(0.7+v*0.24, 0.75+v*0.19, 0.8+v*0.13), vec3(1.0, 1.0, 1.0));\n}\n\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 p = (fragCoord * 2.0 - iResolution.xy) / iResolution.y;\n     \n    vec3 col = vec3(0.5, 0.63, 0.77);\n    const float n = 35.0;\n    float z = -10.0;\n    \n    for(float i = 0.0; i < n; ++i){\n        vec2 cx=vec2(rnd(i,0.0)*2.0-1.0, rnd(i,1.0)/2.0-0.25);\n        float cz = 1.0+rnd(i, iDate.z)+sin(iTime/10.0+i)/5.0;\n        float r = 0.20+rnd(i,3.0)/10.0;\n        vec2 pp = p-cx;\n        float a = (atan(pp.y, pp.x) / PI+1.0)/2.0;\n        float aa = trunc(a*8.0)/8.0;\n        r += mix(rnd(cx.x, aa),rnd(cx.x, fract(aa+1.0/8.0)), (a - aa)*8.0)/10.0;\n\n        float l = length(pp);\n        if(l<r){\n            float zz = cz+sqrt(r-l);\n            float t = l < r * 0.95 ? 1.0 : smoothstep(1.0, 0.0, 1.0 - (r-l) *20.0/r);\n            if(zz>z){\n                z = zz*t;\n                vec2 c = 0.5*vec2(p.x-cx.x+r,p.y-cx.y+r)/r;\n                col =  col*(1.0-t) +pal(c, cx.y*2.0, r*2.0) *t;\n                //col=pal(c);\n            }\n        }\n    }\n    \n    \n\tfragColor = vec4( col, 1.0 );\n}","name":"Image","description":"","type":"image"}]}