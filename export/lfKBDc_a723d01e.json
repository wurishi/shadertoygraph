{"ver":"0.1","renderpass":[{"outputs":[{"channel":0,"id":"4dfGRr"}],"inputs":[],"code":"#define S(d)    smoothstep(0., 4. / r.y , d)                            // AA\n#define D(d)    o = (1. + (o - 1.) * S(d)) * (S(abs(d) - .005))         // mix\n#define C(p, r) abs(length(p) - r) - e                                  // circle\n#define B(p, b) length(max(abs(p) - b, 0.)) - e                         // box\n#define H(p)    fract(sin(dot(p, vec2(12.9898, 78.233))) * 43758.5453)  // hash\n#define hex vec2(1, sq)\n#define rot(a) mat2(cos(a + vec4(0, 1, 3, 0) * pi / 2.))\n#define pi acos(-1.)\n\n// truchets list https://www.shadertoy.com/playlist/mcSSzG\n\n#define sq sqrt(3.)\n#define isq 1. / sq\n#define hisq isq / 2.\n#define tsq 3. / 2. / sq\n#define v10 vec2(1, 0)\n#define v0isq vec2(0, isq)\n\nvoid hexgrid(vec2 u, out vec2 p, out vec2 id) {\n    vec2 a = mod(u,            hex) - hex / 2.,\n         b = mod(u - hex / 2., hex) - hex / 2.;\n    \n    p = a;\n    id = floor(u / hex);\n    \n    if(dot(a, a) > dot(b, b)) {\n        id = floor(u / hex - .5) + .25;\n        p = b;\n    }\n}\n\nvoid mainImage(out vec4 o, vec2 u) {\n    vec2 r = iResolution.xy, p, id;\n    u = 2.4 * (u + u - r) / r.y;\n    o *= .0;\n    \n    float t = iTime * .2;\n    \n    vec2 brain = u - 2. * vec2(cos(3. * t), sin(2. * t));\n    \n    float a = length(brain) * .6,\n          b = length(brain.yx) * .6,\n          e = tanh(cos(a + 4.5) * 20. - 8.) * .104 + .104 + .08;\n    \n    u.y +=  mix(a, b, H(id)) + t * 10.;\n    hexgrid(u, p, id);\n    \n    float coin1 = (floor(H(id) * 6.) - 3.) * pi / 3.,\n          coin2 = (floor(H(id + .1) * 5.)),\n          coin3 = (floor(H(id + .2) * 2.));\n          \n    // coin2 = 3.; // select specifc tile\n    \n    if(iMouse.z > 0.)\n        o = mod(2. * id.x + 3. * id.y, 3.) * vec4(.5, .125, .75, 0) * .3;\n    \n    p *= rot(coin1);\n        \n    if(coin2 == 0.) { // 9\n        D(C(p - v0isq, hisq));\n        D(C(p + v0isq, hisq));\n        D(C(p - v10 / 2., 0.));\n        D(C(p + v10 / 2., 0.));\n    }\n    \n    if(coin2 == 3.) { // 3\n        D(C(p - v0isq, hisq));\n        D(C(p - vec2(1, -isq) / 2., hisq));\n        D(C(p + vec2(1, isq) / 2., hisq));\n    }\n    \n    if(coin2 == 2.) { // 5  \n        D(C(p - v0isq, hisq));\n        D(C(p + v0isq, hisq));\n        D(B(p - v10 / 2., v10));\n    }\n    \n    if(coin2 == 1.) { // 6\n        D(C(p - v10, tsq));\n        D(C(p + v10, tsq));\n        D(C(p - v10 / 2., 0.));\n        D(C(p + v10 / 2., 0.));\n    }\n    \n    if(coin2 == 4.) { // a\n        D(C(p - v10, tsq));\n        D(C(p - v10 / 2., 0.));\n        \n        if(coin3 < 1.)\n            D(C(p + vec2(1, isq) / 2., hisq)),\n            D(C(p - vec2(-1, sq) / 4., 0.));\n        else\n            D(C(p - vec2(-1, isq) / 2., hisq)),\n            D(C(p + vec2(1, sq) / 4., 0.));\n    }\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"lfKBDc","date":"1734543467","viewed":114,"name":"Hex Truchet - brain melt","username":"Elsio","description":"click to see the secret","likes":17,"published":1,"flags":0,"usePreview":0,"tags":["truchet","tiles","v4"],"hasliked":0,"parentid":"Mf3BWr","parentname":"Hex Truchet - espaguete"}}