{"ver":"0.1","info":{"id":"wlBGRD","date":"1558630168","viewed":82,"name":"Some Balls","username":"biki73","description":"some balls","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["balls"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float R=0.3;\nvec3 sph=vec3(0.5,0.5,0.5);    \n\nvec4 Distance(vec3 p) {\nfloat dst,h;\nvec3 grad;\nvec3 pt;\nfloat ID;\nfloat rad;\n    \n   ID=floor(p.x)+floor(p.y)+floor(p.z);\n   rad=0.3+0.05*sin(ID+iTime*1.0);\n   p.x=fract(p.x);\n   p.y=fract(p.y);\n   p.z=fract(p.z);\n   pt=p-sph;\n   h=dot(pt,pt);\n   dst=h-rad*rad+0.001*(sin(p.x*200.0)+\n                        sin(p.y*200.0)+\n                        sin(p.z*200.0));\n       \n   grad=2.0*pt+0.001*200.0*vec3(cos(p.x*200.0),\n                                cos(p.y*200.0),\n                                cos(p.z*200.0));                   \n   h=length(grad);\n   if (h>1.0) \n       dst=dst/h;\n    \n   return vec4(grad,dst);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    \n    vec3 pos=vec3(20.0*sin(iTime*0.031),0,20.0*sin(iTime*0.0234));\n    vec3 dir2=vec3(fragCoord-iResolution.xy/2.0,iResolution.x); \n    vec3 dir;\n    float angle=iTime*0.02045;\n    float dist;\n    vec3 p,n;\n    vec3 lp,lv;\n    int i;\n    vec4 h;\n    mat4 m;\n     \n    dir.x=dir2.x;\n    dir.y=dir2.y*cos(angle)-dir2.z*sin(angle);\n    dir.z=dir2.y*sin(angle)+dir2.z*cos(angle);\n    \n    dir=dir/length(dir);\n\n    lp=vec3(40.0*sin(iTime),40.0*cos(iTime),0);\n    \n    dist=0.0;\n    for (i=0;i<500;i++) {\n      h=Distance(pos+dist*dir);\n      dist+=h.w;\n      if (h.w<0.0001) break;\n    }\n    n=h.xyz;\n    n=n/length(n);\n    lv=lp-p;\n    lv=lv/length(lv);\n    float shade=(0.5*dot(lv,n)+0.5)/(1.0+dist*0.01);\n   \n    \n    shade=clamp(shade,0.0,1.0);\n    vec3 color=vec3(shade,shade,shade);\n    if (i==500) fragColor=vec4(0,0,0,0);\n           else fragColor=vec4(color,0);\n}","name":"Image","description":"","type":"image"}]}