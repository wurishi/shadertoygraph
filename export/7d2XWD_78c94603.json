{"ver":"0.1","info":{"id":"7d2XWD","date":"1620298851","viewed":220,"name":"Kaleido Lissajous","username":"IWBTShyGuy","description":"Key R -> Clear the screen","likes":1,"published":3,"flags":48,"usePreview":0,"tags":["kaleidoscope","lissajous"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n    fragColor = texture(iChannel0, fragCoord / iResolution.xy);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGRr","filepath":"/presets/tex00.jpg","previewfilepath":"/presets/tex00.jpg","type":"keyboard","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"// Copyright Â© 2021 IWBTShyGuy\n// Attribution 4.0 International (CC BY 4.0)\n\nconst float PI = 3.141592653;\n\nconst int CUFFS = 72;\nconst float X_VELO = 1.1;\nconst float Y_VELO = 0.7;\n\n\nbool isKeyDown(int code) {\n    return texelFetch(iChannel1, ivec2(code, 0), 0).x > 0.0;\n}\nconst int Key_R = 82;\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    if (iFrame == 0 || isKeyDown(Key_R)) {\n        fragColor = vec4(0, 0, 0, 1);\n        return;\n    }\n\n    vec2 uv = (2.0 * fragCoord - iResolution.xy) / iResolution.y;\n    \n    bool drawn = false;\n\n    vec2 point = vec2(cos(X_VELO * iTime), sin(Y_VELO * iTime)) * 0.7;\n\n    for (int i = 0; i < CUFFS; i++) {\n        float t = 2.0 * PI * float(i) / float(CUFFS);\n        vec2 c = mat2(cos(t), sin(t), -sin(t), cos(t)) * point;\n        drawn = drawn || distance(c, uv) < 0.002;\n    }\n\n    if (drawn) {\n        fragColor = vec4(1);\n    } else {\n        fragColor = texture(iChannel0, fragCoord / iResolution.xy);\n    }\n}\n","name":"Buffer A","description":"","type":"buffer"}]}