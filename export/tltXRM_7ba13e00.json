{"ver":"0.1","info":{"id":"tltXRM","date":"1580669313","viewed":109,"name":"Simple sunflower","username":"sdclibbery","description":"tin","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["clouds","flower"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float hash1( vec2 p )\n{\n    p  = 50.0*fract( p*0.3183099 );\n    return fract( p.x*p.y*(p.x+p.y) );\n}\n\nfloat noise( in vec2 x )\n{\n    vec2 p = floor(x);\n    vec2 w = fract(x);\n    vec2 u = w*w*w*(w*(w*6.0-15.0)+10.0);\n    \n    float a = hash1(p+vec2(0,0));\n    float b = hash1(p+vec2(1,0));\n    float c = hash1(p+vec2(0,1));\n    float d = hash1(p+vec2(1,1));\n    \n    return -1.0+2.0*( a + (b-a)*u.x + (c-a)*u.y + (a - b - c + d)*u.x*u.y );\n}\n\nconst mat2 m2 = mat2(  0.80,  0.60,\n                      -0.60,  0.80 );\n\nfloat fbm_9( in vec2 x )\n{\n    float f = 1.9;\n    float s = 0.55;\n    float a = 0.0;\n    float b = 0.5;\n    for( int i=0; i<9; i++ )\n    {\n        float n = noise(x);\n        a += b*n;\n        b *= s;\n        x = f*m2*x;\n    }\n\treturn a;\n}\n\nfloat sqr (float x) { return x*x; }\n\nvec4 middle_seeds (vec2 uv) {\n    float x = length(sin(length(uv*400.0)))\n        + sqr(sqr(length(sin(uv*175.0))/1.5));\n    return vec4(0.25-0.1*x, 0.2-0.05*x, 0.15-0.03*x, 1.0);\n}\n\nvec4 seeds (vec2 uv) {\n    float x = length(sin(length(uv*230.0)))\n        + sqr(sqr(length(sin(uv*137.0))/1.5));\n    return vec4(0.2-0.1*x, 0.2-0.05*x, 0.15-0.05*x, 1.0);\n}\n\nvec4 petals (vec2 uv, float offset) {\n    float x = sin(offset + atan(uv.x, uv.y)*20.0);\n    return vec4(0.9+0.1*x, 0.825+0.175*x, 0, 1.0);\n}\n\nvec4 stem (float uvx) {\n    float x = cos(uvx*45.0);\n    return vec4(sqr(x)*0.3, 0.4+x*0.6, sqr(x)*0.3, 1.0);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float vscale = 1.0/iResolution.y;\n    vec2 uvs = fragCoord*vscale;\n    vec2 ctr = vec2(0.5*iResolution.x/iResolution.y, 0.56);\n    vec2 uv = uvs - ctr;\n\n    if (length(uv) < 0.08) {\n\t    fragColor = middle_seeds(uv);\n    } else if (length(uv) < 0.2+length(sin(atan(uv.x, uv.y)*40.0))*0.01*fbm_9(uv*3.0)) {\n\t    fragColor = seeds(uv);\n    } else if (length(uv) < length(sin(atan(uv.x, uv.y)*5.0))*0.38) {\n\t    fragColor = petals(uv, 0.0);\n    } else if (length(uv) < length(sin(1.0+atan(uv.x, uv.y)*5.0))*0.4) {\n\t    fragColor = petals(uv, 1.0);\n    } else if (length(uv) < length(sin(2.0+atan(uv.x, uv.y)*5.0))*0.42) {\n\t    fragColor = petals(uv, 2.0);\n    } else if (length(uv.x) < 0.03 && uv.y < 0.0) {\n\t    fragColor = stem(uv.x);\n    } else {\n        float x = fbm_9(-iTime/10.0 + uv);\n\t    fragColor = vec4(0.6+0.4*x, 0.7+0.3*x, 1.0 ,1.0);\n    }\n}","name":"Image","description":"","type":"image"}]}