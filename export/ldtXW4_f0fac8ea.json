{"ver":"0.1","info":{"id":"ldtXW4","date":"1459446491","viewed":625,"name":"Interactive Painting","username":"ryanjuckett","description":"Testing out very simple painting to buffer with a brush. Click and move mouse to paint.","likes":3,"published":1,"flags":32,"usePreview":0,"tags":["interactive","paint","brush"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy/iResolution.xy;\n    fragColor = vec4(texture(iChannel0, uv).rgb, 1.0);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 screenSize   = iChannelResolution[0].xy;\n   \tvec2 uv           = fragCoord.xy / screenSize.xy;\n    vec4 oldColor     = vec4(texture(iChannel0, uv).rgb, 1.0);\n    bool isMouseDown  = (iMouse.z >= 0.0);\n    \n    fragColor = oldColor;\n    \n    if (isMouseDown)\n    {\n        vec4 brushColor = vec4(0.1, 0.5, 1.0, 1.0);\n        float brushSize = 20.0;\n        float brushPressure = 2.0;\n        float brushSoftness = 0.5;\n        \n        float brushDist = distance(fragCoord.xy, iMouse.xy);\n        if ( brushDist < brushSize )\n        {\n            float brushFrac = brushDist/brushSize;\n            float brushAlpha = pow(1.0-brushFrac, brushSoftness);\n            fragColor = mix(fragColor, brushColor, iTimeDelta*brushPressure*brushAlpha);\n        }\n    }\n}","name":"Buf A","description":"","type":"buffer"}]}