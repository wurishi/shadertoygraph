{"ver":"0.1","info":{"id":"XssfDl","date":"1500154183","viewed":142,"name":"Saved Particles","username":"clintolibre","description":"Click and drag with your mouse! A shader that saves particles to a texture and retrieves that texture. based off https://www.shadertoy.com/view/lsy3R1","likes":2,"published":1,"flags":32,"usePreview":0,"tags":["particles"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{    \n    vec2 uv = fragCoord.xy / iResolution.xy;\n    vec4 vals = texture(iChannel0, uv);\n\tfragColor = vals;\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"// Random function from https://www.shadertoy.com/view/4ssXRX\n// note: uniformly distributed, normalized rand, [0;1[\nfloat nrand( vec2 n )\n{\n\treturn fract(sin(dot(n.xy, vec2(12.9898, 78.233)))* 43758.5453);\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord.xy / iResolution.xy;\n    vec2 pixelSize = 1.0 / iResolution.xy;\n    \n    if (iFrame == 1)\n    {\n        fragColor = vec4(255.0, 255.0, 255.0 , 1.0);\n        return;\n    }\n    \n    vec4 previousFrameValues = texture(iChannel0, uv);\n    if (iMouse.w>0.01)\n    {\n        if (floor(iMouse.xy) == floor(fragCoord.xy)) {\n        \tpreviousFrameValues = vec4(0.0, 0.0, 0.0 , 1.0);\n        }\n    }\n    fragColor = vec4(previousFrameValues);\n}","name":"Buf A","description":"","type":"buffer"}]}