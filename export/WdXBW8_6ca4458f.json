{"ver":"0.1","info":{"id":"WdXBW8","date":"1588182133","viewed":168,"name":"diamonds Lights","username":"BlancC","description":"diamonds light test","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["light","diamonds"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define M_PI 3.14159265358979323846264338\n\n\n\nfloat Hash21(vec2 p) {\n    p = fract(p*vec2(123.34, 456.21));\n    p += dot(p, p+45.32);\n    return fract(p.x*p.y);\n}\n\nmat2 Rot(float a){\n    float s=sin(a), c=cos(a);\n    return mat2(c, -s, s, c);\n}\n\nfloat bloom(vec2 uv, float intensity){\n    \n    float col =0.;\n    col = intensity * .02 / length(uv);\n    col *= intensity;\n    \n    return col;   \n}\n\nfloat starBloom(vec2 uv, vec2 speed){\n    \n    float col = 0.;\n    //uv *= zoom;\n    vec2 gv = fract(uv+ speed) -.5;\n    vec2 id = floor(uv + speed);\n    float x, y;\n    for(x = -1.; x <= 1.; x += 1.){\n    \tfor(y = -1.; y <= 1.; y += 1.){\n            vec2 off = vec2(x,y);\n            \n            float rnd = Hash21(id + off);\n            float snow = Hash21(uv);\n            \n            \n\n    \t\tcol += (bloom( gv - off - vec2(rnd, fract(23.45 * rnd)) + .5, rnd) );\n            col += snow * .04;\n        }\n    }\n    \n    \n    \n    return col;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord-.5*iResolution.xy)/iResolution.y;\n    \n   \n    float zoomAmnt = 15.;\n    uv *= zoomAmnt;\n\t\n    float offset = sin(Hash21(vec2(uv.y, uv.x * .002)) + iTime);\n    \n    float amntLayers = 6.;\n    vec3 col = vec3(0.);   \n    \n    \n    for( float i=7.; i < 7. + amntLayers; i+=1.){\n        \n\t\tvec2 ZooomUv = floor(uv * i) * 1.4;\n    \tvec3 subCol = vec3(Hash21(ZooomUv * 165.95 + vec2(offset) ), Hash21(ZooomUv -  vec2(offset)), Hash21(ZooomUv * 30.22));\n     \n        col += subCol / amntLayers;\n\n    }\n    \n\n    col *= 4. * vec3(starBloom(uv, vec2(0., iTime)) );\n                      \n     \n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}