{"ver":"0.1","info":{"id":"7slcWl","date":"1642937514","viewed":143,"name":"Cute Tiger","username":"panda1234lee","description":"Chinese Spring Festival —— Tiger Year\nGood luck to all of you !","likes":11,"published":1,"flags":0,"usePreview":0,"tags":["cute","tiger"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"/// @author panda1234lee \n/// ShaderJoy\n\n#define YELLOW vec3(255., 214., 34.)/255.\n#define ORANGE vec3(255., 80., 2.)/255.\n#define BLACK vec3(29., 21., 22.)/255.\n#define WHITE vec3(1.)\n#define Pi 3.14159\n\nfloat sdCircle( in vec2 p, in float r )\n{\n    return length(p) - r;\n}\n\nfloat smin( float d1, float d2, float k )\n{\n    float h = clamp( 0.5 + 0.5 * (d2 - d1) / k, 0.0, 1.0 );\n    return mix( d2, d1, h ) - k * h * (1.0 - h);\n}\n\n/// @note\n/// @param sc 角度、弧长\n/// @param ra 弧长\n/// @param rb 粗细\nfloat sdArc( in vec2 p, in vec2 sc, in float ra, float rb )\n{\n    // sc is the sin/cos of the arc's aperture\n    p.x = abs(p.x);\n    return ((sc.y * p.x > sc.x * p.y) ? length(p - sc * ra) :\n            abs(length(p) - ra)) - rb;\n}\n\n/// @note\n/// @param a 起点\n/// @param b 终点\nfloat udSegment( in vec2 p, in vec2 a, in vec2 b )\n{\n    vec2 ba = b - a;\n    vec2 pa = p - a;\n    float h = clamp( dot(pa, ba) / dot(ba, ba), 0.0, 1.0 );\n    return length(pa - h * ba);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    /// @note 将屏幕坐标转为 [-1., 1.]\n    /// 以屏幕中心为原点\n    vec2 uv = (2.0 * fragCoord - iResolution.xy) / iResolution.y;\n\n    /// @note 构建各个组件的 SDF\n    /// @note 脸\n    float faceSDF = sdCircle(uv - vec2(0., -.83), 1.02);\n\n    /// @note 耳朵\n    float leftOutterEarSDF = sdCircle(uv - vec2(-.61, -.02), .31);\n    float rightOutterEarSDF = sdCircle(uv - vec2(+.61, -.02), .31);\n    float leftInnerEarSDF = sdCircle(uv - vec2(-.61, -.02), .15);\n    float rightInnerEarSDF = sdCircle(uv - vec2(+.61, -.02), .15);\n\n    /// @note 眼睛\n    float leftEyeSDF = sdCircle(uv - vec2(-.33, -.61), .06);\n    float rightEyeSDF = sdCircle(uv - vec2(+.33, -.61), .06);\n\n    /// @note 嘴\n    float leftMouthSDF = sdCircle(uv - vec2(-.21, -1.), .291);\n    float rightMouthSDF = sdCircle(uv - vec2(+.21, -1.), .291);\n\n    // 绘制\n    vec3 col = WHITE; ///< 背景\n\n    /// @note 耳朵\n    col = mix(YELLOW, col, smoothstep(0., .01, leftOutterEarSDF));\n    col = mix(YELLOW, col, smoothstep(0., .01, rightOutterEarSDF));\n    col = mix(ORANGE, col, smoothstep(0., .01, leftInnerEarSDF));\n    col = mix(ORANGE, col, smoothstep(0., .01, rightInnerEarSDF));\n\n    /// @note 脸\n    col = mix(YELLOW, col, smoothstep(0., .01, faceSDF));\n\n    /// @note 眼睛\n    col = mix(BLACK, col, smoothstep(0., .01, leftEyeSDF));\n    col = mix(BLACK, col, smoothstep(0., .01, rightEyeSDF));\n\n    /// @note 嘴\n    float mouth = smin(leftMouthSDF, rightMouthSDF, 0.05);\n    col = mix(WHITE, col, smoothstep(0., .01, mouth));\n\n    /// @note 鼻子\n    float nose = udSegment( uv, vec2(-.038, -0.73), vec2(.038, -.73) ) - .085;\n    col = mix(BLACK, col, smoothstep(0., .01, nose));\n\n    /// @note 王\n    float d = udSegment( uv, vec2(0., -0.25), vec2(.0, -.06) ) - .03;\n    col = mix( col, BLACK, 1.0 - smoothstep(0.0, 0.01, abs(d)) );\n\n    float tb = Pi / 12.;\n    float arc_t = sdArc(uv - vec2(0., -0.9), vec2(sin(tb), cos(tb)), .84, 0.03);\n    float arc_m = sdArc(uv - vec2(0., -1.0), vec2(sin(tb), cos(tb)), .84, 0.03);\n    float arc_b = sdArc(uv - vec2(0., -1.1), vec2(sin(tb), cos(tb)), .84, 0.03);\n\n    float wang = min(1., min(sign(d), min(sign(arc_t), min(sign(arc_m), sign(arc_b)))));\n    col = mix(BLACK, col, wang);\n\n    col = mix( col, BLACK, 1.0 - smoothstep(0.0, 0.01, abs(arc_t)) ); ///< 边缘平滑 抗锯齿\n    col = mix( col, BLACK, 1.0 - smoothstep(0.0, 0.01, abs(arc_m)) );\n    col = mix( col, BLACK, 1.0 - smoothstep(0.0, 0.01, abs(arc_b)) );\n\n    /// @note 花纹\n    float ltb = Pi / 20.;\n    float arc_lt = sdArc(uv - vec2(-.82, -1.52), vec2(sin(ltb), cos(ltb)), .84, 0.035);\n    float arc_lm = sdArc(uv - vec2(-.82, -1.65), vec2(sin(ltb), cos(ltb)), .84, 0.035);\n    float arc_lb = sdArc(uv - vec2(-.82, -1.77), vec2(sin(ltb), cos(ltb)), .84, 0.035);\n\n    float arc_l3 = min(1., min(sign(arc_lt), min(sign(arc_lm), sign(arc_lb))));\n    col = mix(BLACK, col, arc_l3);\n    col = mix( col, BLACK, 1.0 - smoothstep(0.0, 0.01, abs(arc_lt)) ); ///< 边缘平滑 抗锯齿\n    col = mix( col, BLACK, 1.0 - smoothstep(0.0, 0.01, abs(arc_lm)) );\n    col = mix( col, BLACK, 1.0 - smoothstep(0.0, 0.01, abs(arc_lb)) );\n\n    float rtb = Pi / 20.;\n    float arc_rt = sdArc(uv - vec2(.82, -1.52), vec2(sin(rtb), cos(rtb)), .84, 0.035);\n    float arc_rm = sdArc(uv - vec2(.82, -1.65), vec2(sin(rtb), cos(rtb)), .84, 0.035);\n    float arc_rb = sdArc(uv - vec2(.82, -1.77), vec2(sin(rtb), cos(rtb)), .84, 0.035);\n\n    float arc_r3 = min(1., min(sign(arc_rt), min(sign(arc_rm), sign(arc_rb))));\n    col = mix(BLACK, col, arc_r3);\n    col = mix( col, BLACK, 1.0 - smoothstep(0.0, 0.01, abs(arc_rt)) ); ///< 边缘平滑 抗锯齿\n    col = mix( col, BLACK, 1.0 - smoothstep(0.0, 0.01, abs(arc_rm)) );\n    col = mix( col, BLACK, 1.0 - smoothstep(0.0, 0.01, abs(arc_rb)) );\n\n    /// @note 胡子\n    float leftBeard = udSegment( uv, vec2(-.4, -0.77), vec2(-.6, -.618) ) - .008;\n    col = mix(BLACK, col, smoothstep(0., .01, leftBeard));\n\n    float rightBeard = udSegment( uv, vec2(.4, -0.77), vec2(.6, -.618) ) - .008;\n    col = mix(BLACK, col, smoothstep(0., .01, rightBeard));\n\n    fragColor = vec4(col, 1.0);\n}","name":"Image","description":"","type":"image"}]}