{"ver":"0.1","info":{"id":"cs2fDG","date":"1690088985","viewed":54,"name":"Nunu's mandala","username":"Nunu_3060","description":"something that flashes","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["2d","mandala"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const float PI = 3.141592653589793;\n\n\nmat2 rotate2D(float t){\n    float c = cos(t);\n    float s = sin(t);\n    return mat2(c, s, -s, c);\n}\n\n\nfloat atan2(float y, float x){\n    return x == 0.0 ? sign(y) * 0.5 * PI : atan(y, x);\n}\n\n\nvec2 pmod(vec2 p, float n){\n    float a = mod(atan2(p.y, p.x), 2.0*PI/n)-PI/n;\n    return length(p)*vec2(cos(a), sin(a));\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // 制御変数：control variable\n    float scale = 12.0;  // 表示範囲：Display range\n    float k = 25.0;  // イテレーションの回数：iteration number\n    float a0 = 7.0;  // 回転対称性の数：rotational symmetry\n    float a1 = 91.0;  // a0 よりも大きい数を入れる：a0 < a1\n    float fl = 2.0;  // box fold の左側：box fold left\n    float fr = 3.0;  // box fold の右側：box fold right\n    float cp = 12.0;  // 点滅の調整：flashing\n    float ct = 1.0;  // 点滅周期：blinking period\n    \n    // 処理：process\n    vec2 p = scale * (2.0*fragCoord.xy - iResolution.xy) / min(iResolution.x, iResolution.y);\n    p = -p.yx;\n    float j;  // box fold の範囲をイテレーションの中で少しずつ変える。\n    for (float i=0.0; i<k; i++){\n        j = i/k;\n        p = pmod(p, a0);\n        p.y = abs(p.y);\n        p = 2.0 * clamp(p, fl-j, fr+j) - p;\n        p = pmod(p, a1);\n    }\n    p = 0.5 + 0.5*cos(2.0*PI*(cp*p+ct*iTime));\n    fragColor = p.xyyy;\n}\n","name":"Image","description":"","type":"image"}]}