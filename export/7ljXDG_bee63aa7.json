{"ver":"0.1","info":{"id":"7ljXDG","date":"1628544154","viewed":104,"name":"Valentine's Day EKG Waves","username":"jhorowitz1996","description":"EKG waves\n\noriginally forked from \"Day 2: Heart Monitor\": https://www.shadertoy.com/view/wd2cRV","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["waves"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec3 foreg= vec3(1.,.25,.55);//pink\nvec3 backg= vec3(0.1,0.25,.9);//water blue\n\nconst float rate = .2;//advance\nconst float speed = .3;//retract\nconst float repeats = 6.;\nconst float verticalduplicate= 11.;\nfloat thickness = 0.09;\nfloat fade= 1.5;\nfloat height= 2.;\n\nfloat rand(float x){ return fract(sin(x*1234.4321)*4321.1234);}//classic\n\nfloat shape(float x){\n    x= fract(x);\n    \n    float s1 = 0.15;      // flat\n    float s2 = s1 + 0.2;  // b1\n    float s3 = s2 + 0.34; // flat\n    float s4 = s3 + 0.1;  // b2\n    float s5 = s4 + 0.03; // flat\n    float s6 = s5 + 0.2;  // b3\n    \n    if (x < s1)  return 0.00;    \n    if (x < s2)  return 0.05 - 0.05*cos((x-s1)*30.0);\n    if (x < s3)  return 0.00;\n    if (x < s4)  return 0.02 - 0.02*cos((x-s3)*60.0);\n    if (x < s5)  return 0.0 ;\n    if (x < s6)  return 0.3*sin((x-s5)*35.0);\n    if (x > 1.0) return -.4;\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv= (2.*fragCoord.xy+iResolution.xy)/iResolution.x;\n\n    float offset= speed*iTime;\n    float rate=  rate*(rand(floor(uv.y*repeats*2.))+1.);//random speed per row\n\n    float x= fract(rate*iTime)+offset;\n    uv.x+= offset;\n    vec2 headPos = vec2(   x, shape(x   *repeats)*height);\n    vec2 linePos = vec2(uv.x, shape(uv.x*repeats)*height);\n\n    uv.y= fract(uv.y*verticalduplicate)*2.-1.;//repeat vertical\n    \n    fragColor = vec4(sqrt(\n        mix(backg,foreg,\n            abs(uv.y-linePos.y)>thickness ?\n                0.:\n                pow( fract(linePos.x-headPos.x), fade)\n        )),1.0);\n}","name":"Image","description":"","type":"image"}]}