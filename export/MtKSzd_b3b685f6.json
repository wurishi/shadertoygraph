{"ver":"0.1","info":{"id":"MtKSzd","date":"1485518185","viewed":288,"name":"Bass visualizer","username":"jbeaner96","description":"Heavy bass visualizer","likes":4,"published":1,"flags":64,"usePreview":0,"tags":["visualization","audio","manatee","commune"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"Ms2GRc","filepath":"https://soundcloud.com/manateecommune/what-weve-got-remix-feat-sol-flint-eastwood-1","previewfilepath":"https://soundcloud.com/manateecommune/what-weve-got-remix-feat-sol-flint-eastwood-1","type":"musicstream","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":0}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float sphereDistance(vec3 p, vec3 o, float radius) {\n \treturn distance(p, o) - radius;   \n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    uv -= 0.5;\n    uv.x *= iResolution.x / iResolution.y;\n                                            \n    float sound = -.7 + 2.0 * normalize(texture(iChannel0, vec2(uv.x, .2))).x;\n    \n    float t = iTime;\n    \n    // ro = ray origin\n    vec3 ro = vec3(0.0, 0.0, -2.0);\n    // rd = ray direction\n    vec3 rd = normalize(vec3(uv, 1.0));\n    \n    vec3 lightDir = normalize(vec3(0.0, 0.0, -1.0));\n    \n    vec3 sphereP = vec3(0.0);\n    float sphereR = 2.0 * sound;\n    \n    for (int i = 0; i < 24; i++) {\n        float dist = sphereDistance(ro, sphereP, sphereR);\n        if (dist < 0.0001) {\n            // color = vec3(1.0);\n        \tbreak;   \n        }\n        ro += rd * dist;\n    }\n    \n    vec3 color = vec3(sin(t), cos(t), tan(t));\n    \n    vec3 normal = normalize(ro - sphereP);\n    color *= dot(lightDir, normal);\n    \n\tfragColor = vec4(color, 1.0);\n}","name":"Image","description":"","type":"image"}]}