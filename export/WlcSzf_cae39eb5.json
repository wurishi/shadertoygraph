{"ver":"0.1","info":{"id":"WlcSzf","date":"1581534148","viewed":126,"name":"c r a p p y w a v e","username":"ciroluiro","description":"qcyo","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["vaporwave"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const float pi = atan(1.)*4.;\n\nfloat line (float width, float position) {\n    float a = smoothstep(0., width/2., position);\n    float b = smoothstep(width/2., width, position);\n    return a-b;\n}\n\nfloat mkgrid(vec2 uv, float line_width_x, float line_width_y,\n             \t      float pos_x, float pos_y, float horizon_height) {\n    \n    float grid = line(line_width_x, pos_x)+line(line_width_y, pos_y);\n    grid *=step(uv.y,horizon_height);\n    return grid;\n}\n\nvec2 cart2pol (vec2 st) {\n \tfloat len = length(st);\n    float angle = atan(st.y,st.x);\n    return vec2(len, angle);\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n\tfloat ratio = iResolution.x/iResolution.y;\n    \n    vec3 col = mix(vec3(0.2,1.,1.),vec3(0.7,0.3,0.7),pow(uv.y,2.));\n    \n\tvec2 q = uv - vec2(0.5);\n    vec2 p = q*vec2(ratio,1.);\n    \n    float r = 0.2; float dr = 0.01;\n    float circle = 1.-smoothstep(r,r+dr,length(p-vec2(0.,dr)));\n    circle *= abs(cos(50.*pow(1.2*uv.y,5.)+2.*mod(iTime,2.*pi)));\n    \n\tfloat horizon = 0.4; float l_width = 0.1;\n    circle = circle*step(1.-uv.y,1.-horizon);\n    \n    vec2 pol = cart2pol(p-vec2(0.,0.2));\n    float grid = mkgrid(uv, l_width, l_width*2./pol.x,\n                        mod(-16./(10.*(1.-uv.y+horizon-0.85))-2.*iTime,1.), mod(32.*(pol.y),2.*pi),\n                        horizon);\n    \n    \n    \n    col = mix(col,vec3(0.6,0.1,0.3),circle);\n    col = mix(col,vec3(1.),grid);\n    col = mix(col, vec3(1.), line(l_width/16.,uv.y-horizon+0.002));\n    \n    \n    \n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}