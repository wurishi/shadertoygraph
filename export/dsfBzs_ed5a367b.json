{"ver":"0.1","info":{"id":"dsfBzs","date":"1689068917","viewed":39,"name":"blue mood","username":"nelsonkuang","description":"just for the blue mood today","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["grid","bgm"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sXGzn","filepath":"/media/a/a6a1cf7a09adfed8c362492c88c30d74fb3d2f4f7ba180ba34b98556660fada1.mp3","previewfilepath":"/media/ap/a6a1cf7a09adfed8c362492c88c30d74fb3d2f4f7ba180ba34b98556660fada1.mp3","type":"music","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float getAmp(float frequency) { // from: https://www.shadertoy.com/view/4ljGD1\n  return texture(iChannel0, vec2(frequency / 512.0, 0)).x;\n}\n\nfloat getWeight(float f) { // from: https://www.shadertoy.com/view/4ljGD1\n  return (+getAmp(f - 2.0) + getAmp(f - 1.0) + getAmp(f + 2.0) + getAmp(f + 1.0) + getAmp(f)) / 5.0;\n}\n\n\nfloat random(vec2 co) {\n  return fract(sin(dot(co.xy, vec2(1, 10))) * .09);\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n  vec2 uv = fragCoord / iResolution.xy; // normalize\n\n  float weight = getWeight(uv.x * cos(iTime) + uv.x * sin(iTime));\n\n  uv *= 5.0; // zoom 5x\n  vec2 f_uv = fract(uv); // normalize\n\n  vec2 point = vec2(random(vec2(sin(0.8 * weight) * uv.x)), random(vec2(sin(.3 * weight) * uv.y)));\n  float minDist = 1.0;\n\n  // https://iquilezles.org/articles/smoothvoronoi/\n  for(int x = -1; x <= 1; x++) {\n    for(int y = -1; y <= 1; y++) {\n      vec2 neighbor = vec2(float(x), float(y));\n      vec2 diff = neighbor + point - f_uv;\n      float dist = length(diff);\n      minDist = min(minDist, dist);\n    }\n  }\n\n  fragColor = vec4(vec3(sin(1.3 * weight) * sin(1.3 * weight) * minDist, cos(1.3 * weight) * cos(1.3 * weight) * minDist, sin(iTime) * sin(iTime)), 1.0);\n}\n","name":"Image","description":"","type":"image"}]}