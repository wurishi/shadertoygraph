{"ver":"0.1","info":{"id":"XdsyzN","date":"1487285283","viewed":212,"name":"-Burning Ship Fractal-","username":"yumcyawiz","description":"burning ship fractal","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["fractal"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//MATLAB Jet Colormap\n//kbinani/glsl-colormap\n//https://github.com/kbinani/glsl-colormap/blob/master/LICENSE\nfloat colormap_red(float x) {\n    if (x < 0.7) {\n        return 4.0 * x - 1.5;\n    } else {\n        return -4.0 * x + 4.5;\n    }\n}\n\nfloat colormap_green(float x) {\n    if (x < 0.5) {\n        return 4.0 * x - 0.5;\n    } else {\n        return -4.0 * x + 3.5;\n    }\n}\n\nfloat colormap_blue(float x) {\n    if (x < 0.3) {\n       return 4.0 * x + 0.5;\n    } else {\n       return -4.0 * x + 2.5;\n    }\n}\n\nvec4 colormap(float x) {\n    float r = clamp(colormap_red(x), 0.0, 1.0);\n    float g = clamp(colormap_green(x), 0.0, 1.0);\n    float b = clamp(colormap_blue(x), 0.0, 1.0);\n    return vec4(r, g, b, 1.0);\n}\n\n\n//math\nvec2 cmult(vec2 z1, vec2 z2) {\n    return vec2(z1.x*z2.x - z1.y*z2.y, z1.x*z2.y + z1.y*z2.x);\n}\n\n\nconst int maxIter = 300;\nfloat mandelbrot(vec2 c) {\n    vec2 z = vec2(0.0, 0.0);\n    vec2 zd = vec2(0.0, 0.0);\n    for(int i = 0; i < maxIter; i++) {\n        if(length(z) > 10.0) break;\n        zd = 2.0*cmult(z, zd) + vec2(1.0, 0.0);\n        vec2 za = vec2(abs(z.x), abs(z.y));\n        z = cmult(za, za) + c;\n    }\n    \n    float d = 0.5*length(z)*log(length(z))/length(zd);\n    return d;\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 offset = vec2(-1.75, -0.03);\n    float scale = 1.0/pow((0.01*float(iFrame)), 2.0);\n\tvec2 uv = -scale*(2.0*fragCoord.xy - iResolution.xy) / iResolution.y + offset;\n    \n    float d = mandelbrot(uv);\n    float color = clamp(8.0*d/scale, 0.0, 1.0);\n    color = pow(color, 0.2);\n    \n\tfragColor = colormap(color);\n}","name":"Image","description":"","type":"image"}]}