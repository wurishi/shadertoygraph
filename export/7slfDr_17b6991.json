{"ver":"0.1","info":{"id":"7slfDr","date":"1645042377","viewed":269,"name":"HAREN","username":"louis_C","description":"making some random drawing along sounds.","likes":19,"published":1,"flags":40,"usePreview":0,"tags":["sound","drawing"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\n    vec2 uv = fragCoord/iResolution.xy;\n\n\n    fragColor = vec4(texture(iChannel0,uv).x);\n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"float rd(float t){ return fract(sin(dot(floor(t),45.6))*7845.26);}\nfloat no(float t){ return mix(rd(t),rd(t+1.),smoothstep(0.,1.,fract(t)));}\nfloat hash(float x){return fract(sin(x) * 897612.531);}\nfloat voc(float t, float f, float ft){float x = fract(t * f) / f;                                            \nfloat c1 = (sin(x*(4.+no(t)*2.5)*ft)*.4+sin(x*(10.+no(t+614.)*12.)*ft)+sin(x*25.*ft)*.2); \nreturn c1* min(x * 1000., 1.) * exp(x * -200.);}\nvec2 inst2(float t, float var){\n    vec2 v = vec2(0., 0.);\n    for(int i = 0; i < 16; ++i){\n        float h = float(i);\n       \tfloat m = voc(t + h / 3., 50. + pow(2.01, (h - 8.) * .2), var);\n        float pan = hash(h);\n        v.x += m * pan;\n        v.y += m * (1. - pan);}\n    return v * .1;\n}\nvec2 g1 (float t, float t2,float paa,float pbb,float pb){\n   float vi1 = rd(t*0.25);float vi2 = floor(rd(t)*6.)/6.;\n  vec2 i1 = (fract(inst2(t2,50.+floor(rd(fract(t*10.)*0.4*vi2+vi1*20.)*4.)*50.))-0.5)*0.1\n    *pow(1.-fract(t*4.*vi2),0.15);\n  return i1*mix(paa,1.+(1.-pbb),pb);}\nvec2 g2(float t, float t2,float paa,float pbb,float pb){\n  vec2 r = vec2(0.);\n  for(float i =0. ; i <= 2. ; i += 0.2){\n  r +=  g1 ( t+i, t2+i,paa, pbb, pb)*(1.-0.5*i);}\n  return r;}\nvec2 mainAudio( vec4 time ) { \n  float t = time.a;float t2 = time.z;float t3 = time.x;float tk = 0.;\n  float tf1 = fract(t/64.);\n  float pa = clamp(tf1*3.,0.,1.);float paa = clamp(tf1*3.-1.,0.,1.);\n  float p2 = pa*(1.-clamp(tf1*3.-2.,0.,1.));   \n  float p1 = clamp(0.05+fract(t)*0.125*pa+paa,0.,1.);\n  float pb = step(0.5,fract(t/128.));\n  float pbb = clamp(tf1*6.-1.,0.,1.);\n  float pb1 = mix(p1,mix(1.,rd(t3*8.+32.),pbb),pb);\n  float pb2 = mix(p2,0.,pb);\n  vec2 r1 =  inst2(t2,1000.*pb1*pow(1.-fract(t*8.),0.))*2.;\n  vec2 d = mix(r1,fract(r1)-0.5,no(t*0.25)*(0.15+0.3*pbb*pb));\n  if(pb==1.){\n   d += inst2(t2,1000.*pb1*pow(1.-fract(t*8.),10.))*4.*pbb;\n  }\n  //d*= 0.;\n  d += g2(t,t2,paa,pbb,pb);\n  return d;\n}\nvec2 fi (float t){\n   float tf1 = fract(t/64.);\n  float pa = clamp(tf1*3.,0.,1.);float paa = clamp(tf1*3.-1.,0.,1.);\n  float p2 = pa*(1.-clamp(tf1*3.-2.,0.,1.));   \n  float p1 = clamp(0.05+fract(t)*0.125*pa+paa,0.,1.);\n  float pb = step(0.5,(t/128.));\n  float pbb = clamp(tf1*6.-1.,0.,1.);\n  float pb1 = mix(p1,mix(1.,rd(t*8.+32.),pbb),pb);\n  float pb2 = mix(p2,0.,pb);\n  vec2 r1 =  inst2(t,1000.*pb1*pow(1.-fract(t*8.),0.))*2.\n  *mix(1.,step(0.75,fract(t*mix(8.,2.,step(0.75,rd(t*2.))))),pb);;\n  vec2 d = mix(r1,fract(r1)-0.5,no(t*0.25)*(0.15+0.3*pbb*pb));\n  if(pb==1.){\n   d += inst2(t,1000.*pb1*pow(1.-fract(t*8.),10.))*4.*pbb;\n  }\n  d += g2(t,t,paa,pbb,pb);return d*step(0.,t);\n  }\nvec2 mainSound( int samp, float time )\n{\n    float t = time;\n    vec2 d = fi(t)+fi(t-96.)*0.7;\n  return d;\n}","name":"Sound","description":"","type":"sound"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"float rd ( float t ) { return fract(sin (dot (floor(t),45.136))*7856.236);}\nfloat no ( float t ) { return mix(rd(t),rd(t+1.),smoothstep(0.,1.,fract(t)));}\nfloat nos ( float t ) { return mix(rd(t),rd(t+1.),smoothstep(0.,1.,fract(t)))+0.01;}\nfloat nor ( float t ) { return mix(rd(t),rd(t+1.),smoothstep(no(t+596.),1.,fract(t)));}\nfloat li(vec2 uv, vec2 a , vec2 b){ vec2 ua = uv-a; vec2 ba = b-a;\nfloat h = clamp(dot(ua,ba)/dot(ba,ba),0.,1.);\nreturn length(ua-ba*h);}\nfloat tri (float t){ return mix(fract(t), 1.-fract(t),step(0.5,fract(t*0.5)));}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n   vec2 uv = fragCoord/iResolution.xy;\n   float delta  = iTimeDelta;\n    float time = iDate.x+iDate.y+iDate.z+iDate.a;\n    float t1 = time*6.;\n    vec2 m = vec2(nor(t1)-0.5,(nor(t1+56.56)-0.5)*0.45)*1.25;\n    vec2 m2 = vec2(nor(t1+0.016)-0.5,(nor(t1+56.56+0.016)-0.5)*0.45)*1.25;\n    float va = 0.;\n    float c1 = texture(iChannel0,vec2(0.25)).y ;\n    float c2 = texture(iChannel0,vec2(0.75,0.25)).y ;\n    vec2 m3 = vec2((nor(t1+453.26)-0.5)*2.,(nor(t1+485.23)-0.)*0.25+0.0);\n    vec2 m4 = vec2((nor(t1+453.26+0.016)-0.5)*2.,(nor(t1+485.23+0.016)-0.)*0.25+0.0);\n    float tl1 = clamp(texture(iChannel0,vec2(0.25,0.75)).y,0.,1.) ;\n    if(texture(iChannel0,clamp(texture(iChannel0,vec2(0.25)).ba+m2*delta*mix(1.,va,delta),0.,1.)).x<1.){\n    va -= 0.5;\n    c1+= 0.01;\n    tl1 -=0.01;}    \n    else{ va += 0.5;}\n    va = clamp(va,0.,1.);\n    float va2 = 0.;\n    vec2 p1 = clamp(texture(iChannel0,vec2(0.25)).ba+m*delta*va,0.,1.);\n    float l1 = smoothstep(0.,0.003*clamp(tl1,0.5,1.),li(uv,texture(iChannel0,vec2(0.25)).ba,vec2(p1)));\n    float tl2 = clamp(texture(iChannel0,vec2(0.75)).y,0.,1.);\n    if(texture(iChannel0,clamp(texture(iChannel0,vec2(0.25,0.75)).ba+m4*delta*mix(1.,va2,delta),0.,1.)).x<1.){\n    va2 -= 0.5;\n    c2+= 0.01;\n    tl2 -=0.01;}    \n    else{ va2 += 0.5;}\n    va2 = clamp(va2,0.,1.);\n    vec2 p3 = clamp(texture(iChannel0,vec2(0.25,0.75)).ba+(m3)*delta*va,0.,1.);\n    float l3 = smoothstep(0.,0.002625*clamp(tl2,0.5,1.),li(uv,texture(iChannel0,vec2(0.25,0.75)).ba,vec2(p3)));\n    float tt2 = time+0.016;float b2 = 0.;\n    if(texture(iChannel0,clamp(mix(vec2(rd(time*0.5+127.),0.3+rd(time*0.5+264.)*0.2),texture(iChannel0,vec2(0.75,0.25)).ba+vec2((no(tt2*3.)-0.5)*0.015,no(tt2)*0.04),tri(tt2)),0.,1.)).x<1.){\n    b2 = 1.;\n    }else{b2=0.;}\n    vec2 p2 =  clamp(mix(vec2(rd(time*0.5+127.),0.3+rd(time*0.5+264.)*0.2),texture(iChannel0,vec2(0.75,0.25)).ba+vec2((no(time*3.)-0.5)*0.015,no(time)*0.04),tri(time)),0.,1.);\n    float l2 =  max(smoothstep(0.,0.0015,li(uv,texture(iChannel0,vec2(0.75,0.25)).ba,vec2(p2))),max(step(length(tri(time)),0.5),b2));\n    float r1 = 1.;\n     r1 = min(max(min(l1,l2),step(128.,iTime)),texture(iChannel0,uv).x);\n    if(texture(iChannel0,vec2(0.25)).y > 1.){p1 = (vec2(rd(time*0.1),rd(time*0.1+542.)*0.5));c1 = 0.;tl1 = 1.;}\n    if(texture(iChannel0,vec2(0.75,0.25)).y > 0.5){p3 = (vec2(rd(time*0.1+597.),rd(time+258.)*0.25));c2 = 0.;tl2=1.;}\n    r1 = min(max(l3,step(128.,iTime)),r1);\n    float b4 = 0.;\n    if(texture(iChannel0,clamp(mix(vec2(rd(tt2*0.5+127.),rd(tt2*0.5+264.)*0.4),texture(iChannel0,vec2(0.75,0.75)).ba\n    +vec2(((tri(tt2))-0.5)*0.02*nos(tt2),(mix(tri(tt2+0.5),1.-tri(tt2+0.5),step(0.5,rd(tt2*0.5)))-0.5)*0.025*nos(tt2+563.)),tri(tt2)),0.,1.)).x<1.){\n    b4 = 1.;\n    }else{b4=0.;}\n    vec2 p4 = clamp(mix(vec2(rd(time*0.5+127.),rd(time*0.5+264.)*0.4),texture(iChannel0,vec2(0.75,0.75)).ba\n    +vec2(((tri(time))-0.5)*0.02*nos(time),(mix(tri(time+0.5),1.-tri(time+0.5),step(0.5,rd(time*0.5)))-0.5)*0.025*nos(time+563.)),tri(time)),0.,1.);  \n    float l4 =  max(smoothstep(0.,0.00225,li(uv,texture(iChannel0,vec2(0.75,0.75)).ba,vec2(p4))),max(step(length(tri(time)),0.5),b4));\n    r1 = min(max(l4,step(128.,iTime)),r1);\n    fragColor = vec4(mix(1.,r1,step(0.1,iTime)),mix(mix(c1,c2,step(.5,uv.x)),mix(1.,mix(tl1,tl2,step(.5,uv.x)),step(0.1,iTime)),step(0.5,uv.y)),clamp(mix(mix(p1,p2,step(0.5,uv.x)),mix(p3,p4,step(0.5,uv.x)),step(0.5,uv.y)),0.,1.));\n    }","name":"Buffer A","description":"","type":"buffer"}]}