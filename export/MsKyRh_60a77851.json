{"ver":"0.1","info":{"id":"MsKyRh","date":"1521059680","viewed":196,"name":"Doodling #1: Rose","username":"lsdlive","description":"Doodling session.\nThanks to iq, mercury, lj, balkhan & all shadertoyers.\nGreets to all the shader showdown paris gang.","likes":10,"published":1,"flags":0,"usePreview":0,"tags":["raymarch","doodling"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\nmat2 r2d(float a){\n    float c=cos(a),s=sin(a);\n    return mat2(c,s,-s,c);\n}\n\nvoid amod(inout vec2 p, float m) {\n    float a = mod(atan(p.x,p.y)-m*.5,m) - m*.5;\n    p = vec2(cos(a),sin(a)) * length(p);\n}\n\nfloat sc(vec3 p){\n    p=abs(p);\n    p=max(p,p.yzx);\n    return min(p.x,min(p.y,p.z)) - .2;\n}\n\nvoid mo(inout vec2 p, vec2 d) {\n    p.y = abs(p.y) - d.x;\n    p.x = abs(p.x) - d.y;\n    if(p.y>p.x) p.xy=p.yx;\n}\n\nfloat g=0.;\nfloat de(vec3 p) {\n    vec3 q = p;\n    q.x += sin(q.z)*.4;\n    float s = length(mod(q+iTime+vec2(0,sin(iTime*.2)*4.).yxx-1., 2.)-1.) - .04 - sin(iTime*30.)*.003;\n    \n    p.xy*=r2d(-3.14*.25);\n    p.zy*=r2d(3.14*.03);\n    \n    p.xz*=r2d(iTime);\n    p.y-=length(p.xz)*.3;\n    \n\tamod(p.xz, .785);\n    \n    mo(p.xz, vec2(.33, .05));\n    \n    float s2 = length(p.yz) -.28;\n    \n    float d = sc(p);\n    d = min(d,s);\n    d = min(d,s2);\n    g+=.01/(.01+d*d);\n\treturn d;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy-.5;\n    uv.x*=iResolution.x/iResolution.y;\n    vec3 ro=vec3(1,1,-3.5);\n    vec3 rd=normalize(vec3(uv, 1));\n\n    vec3 p;\n    float t=0.,ri;\n    for(float i=0.;i<1.;i+=.01){\n        ri=i;\n    \tp=ro+rd*t;\n        float d=de(p);\n        if(d<.01)break;\n        t+=d*.5;\n    }\n\n    vec3 bg = vec3(.2, .18, .27);\n    vec3 col = mix(vec3(.9, .2, .3), bg, ri);\n    col+=g*.05;\n    \n    col = mix(col, bg, 1.-exp(-.01*t*t));\n    \n\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}