{"ver":"0.1","info":{"id":"4cs3RX","date":"1703391780","viewed":38,"name":"Continuous Automata Explorer","username":"Boogaloo","description":"Any point on the screen you click corresponds to a rule set for a continuous cellular automaton.\nx coordinate determines \"phase\"\ny coordinate determines intensity\nspace bar to reset screen","likes":2,"published":1,"flags":48,"usePreview":0,"tags":["ca","cellularautomata"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"go{O = tex(C0, ivec2(I));}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"#define go void mainImage( out vec4 O, in vec2 I )\n#define R iResolution\n#define C0 iChannel0\n#define C1 iChannel1\n#define cut(x) clamp(x,0.,1.)\n#define tex(x,y) texelFetch(x,y,0)","name":"Common","description":"","type":"common"},{"inputs":[{"id":"4dXGRr","filepath":"/presets/tex00.jpg","previewfilepath":"/presets/tex00.jpg","type":"keyboard","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"ivec2 wrap(float a, float b){\nreturn ivec2(mod(a,R.x),mod(b,R.y));}\n\nfloat act(float x){\nreturn cut(abs(x));\n}\n\ngo{\n\nif(tex(C1,ivec2(32,1)).x!=0.){\nif(distance(vec2(I), vec2(R)*.5)<2.){\nO = vec4(1.);\nreturn;}\n    O= vec4(0.);\n    return;}\n\n\nfloat T = 0.;\nif(iMouse.x==0.){\nT = 134.;\n}else{\nT=iMouse.x;}\n\nfloat U = 0.;\nif(iMouse.y==0.){\nU=.48;}else{\nU=.3+.4*iMouse.y/R.y;}\n\nif(iFrame<2){\nif(distance(vec2(I), vec2(R)*.5)<2.){\nO = vec4(1.);\nreturn;}\nO = vec4(0.);\nreturn;\n}\n\nfloat ra = -.5+-.5*abs(sin(T/11.));\nfloat rb = .5+.5*abs(sin(T/37.));\nfloat rc =  sin(T/29.);\nfloat ga = -.5-.5*abs(sin(T/19.));\nfloat gb = .5+.5*abs(sin(T/13.));\nfloat gc = sin(T/41.);\nfloat ba = -.5-.5*abs(sin(T/31.));\nfloat bb = .5+.5*abs(sin(T/23.));\nfloat bc = sin(T/17.);\nfloat sa = .1*sin(T/6.);\nfloat sb = .1*sin(T/5.);\nfloat sc = .1*sin(T/7.);\n\nmat3 A = mat3(ra, sa, -sa, -sa, ga, sa, sa, -sa, ba);\nmat3 B = mat3(rb, sb, -sb, -sb, gb, sb, sb, -sb, bb);\nmat3 C = mat3(rc, sc, -sc, -sc, gc, sc, sc, -sc, bc);\n\nvec3 tot = vec3(0.);\nfor(float i = -1.; i<=1.; i++){\nfor(float j = -1.; j<=1.; j++){\nif(i==0. && j==0.){\ntot += C*tex(C0,ivec2(I)).rgb;\ncontinue;}\nif(abs(i)==abs(j)){\ntot += A*tex(C0,wrap(I.x+i,I.y+j)).rgb;\ncontinue;}\ntot+= B*tex(C0,wrap(I.x+i,I.y+j)).rgb;\n}}\n\nO = vec4(act(tot.x*U),act(tot.y*U),act(tot.z*U),0.);\n\nif(iMouse.z > 0.0 && abs(I.x-iMouse.x)<1.0 && abs(I.y-iMouse.y)<1.0){\n    O = vec4(1.);\n    }\n}","name":"Buffer A","description":"","type":"buffer"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"XsXGR8","channel":0}],"code":"go{\nO = .2*tex(C0,ivec2(I))+.8*tex(C1,ivec2(I));\n}","name":"Buffer B","description":"","type":"buffer"}]}