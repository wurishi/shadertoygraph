{"ver":"0.1","info":{"id":"XccSzS","date":"1714043359","viewed":63,"name":"Egg but shader","username":"roey_shap","description":"it egg","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["egg"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Credit for egg math \n// https://www.mathematische-basteleien.de/eggcurves.htm#:~:text=The%20parameters%20a%2C%20b%2C%20c,d%20shows%20the%20broadest%20position.&text=The%20drawn%20egg%20shaped%20curve,%2By%C2%B2%2D64%3D0.\n\n// pick 1, 2, or 3\n#define EGG_MODE 1\n\n\nfloat map(float min1, float max1, float value, float min2, float max2)\n{\n    float d2 = max2 - min2;\n    float d1 = max1 - min1;\n    float sizeRatio = d2 / d1;\n\n    return (value * sizeRatio) - (min1 * sizeRatio) + min2;\n}\n\n\n\nfloat f(vec2 pos)\n{\n    float time_factor = map(-1.0, 1.0, cos(iTime * 3.0), 0.0, 1.5);\n    float a = 9.0;\n    float b = 4.0;\n    \n    float c = 0.2 + time_factor;\n    float egg_func_modifier = 1.0 + c * pos.x;\n    #if EGG_MODE == 2\n        egg_func_modifier = 1.0 / (1.0 - c * pos.x);\n    #elif EGG_MODE == 3\n        egg_func_modifier = exp(c * pos.x);\n    #endif\n    return (pos.x * pos.x / a) + (pos.y * pos.y / (b * egg_func_modifier));\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord - 0.5 * iResolution.xy) / iResolution.y;\n    float egg_size = 0.02;\n    \n    float bounds_mask = float(abs(uv.x) <= 0.5);\n    float d = 0.0;\n    int l = 2;\n    int n = (l + 2) * (l + 2);\n    float antialias_factor = 2.0;\n    for (int i = -l; i <= l; i++) \n    {\n        for (int j = -l; j <= l; j++)\n        {\n            vec2 sample_uv = uv + (vec2(i, j) / (antialias_factor * iResolution.xy));\n            d += float(abs(f(sample_uv)) <= egg_size);\n        }\n    }\n    d /= float(n);\n    vec3 col = vec3(bounds_mask * d);\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}