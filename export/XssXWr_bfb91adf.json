{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[{"channel":0,"type":"texture","id":"4dX3Rn","filepath":"/media/a/bd6464771e47eed832c5eb2cd85cdc0bfc697786b903bfd30f890f9d4fc36657.jpg","sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"}}],"code":"// Created by Vinicius Graciano Santos - vgs/2014\n// Based on the following websites:\n// http://www.josleys.com/article_show.php?id=82\n// https://iquilezles.org/articles/distancefractals\n\n#define ITER 256\n#define R1 0.3\n#define R2 2.0\n#define TAU 6.28318530718\n\nvec2 droste(in vec2 uv) {\n\tfloat alpha = -atan(log(R2/R1)/TAU) - 0.586; // try alpha = 0.0 or delete -0.586.\n\tvec2 rot = vec2(cos(alpha), sin(alpha));\n\tuv = vec2(log(length(uv)), atan(uv.y, uv.x));\n\tuv = vec2(uv.x*rot.x - uv.y*rot.y, uv.x*rot.y + uv.y*rot.x)/rot.x;\n\tuv.x = mod(uv.x, log(R2/R1));\n\treturn R1*exp(uv.x)*vec2(cos(uv.y), sin(uv.y));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tfloat t = exp(-mod(0.1*iTime, 20.825)); // discontinuity :(\n\tvec2 z = vec2(0.0), dz = vec2(0.0);\n\tvec2 uv = droste(t*(-iResolution.xy+2.0*fragCoord.xy)/iResolution.y);\n\tvec2 c = uv - vec2(0.4, 0.0);\n\t\n\tfor (int i = 0; i < ITER; ++i) {\n\t\tif (dot(z, z) > 32.0) continue;\n\t\tdz = 2.0*vec2(z.x*dz.x - z.y*dz.y, z.x*dz.y + z.y*dz.x) + vec2(1.0, 0.0);\n\t\tz = vec2(z.x*z.x - z.y*z.y, 2.0*z.x*z.y) + c;\t\t\n\t}\n\tfloat d = abs(length(uv) - R2);\n\td *= dot(z, z) <= 32.0 ? 0.0 : 0.5*sqrt(dot(z,z)/dot(dz,dz))*log(dot(z,z));\n\tvec3 tex = 1.0-texture(iChannel0, uv).rgb; tex = 0.2+0.8*tex*tex*(3.0-2.0*tex);\n\tfragColor = vec4(tex*vec3(pow(d, 0.18)),1.0);\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"XssXWr","date":"1399341900","viewed":563,"name":"Droste Mandelbrot","username":"vgs","description":"Looking at this makes me dizzy...","likes":13,"published":1,"flags":0,"usePreview":0,"tags":["2d","fractal","mandelbrot","droste"],"hasliked":0,"parentid":"","parentname":""}}