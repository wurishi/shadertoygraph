{"ver":"0.1","info":{"id":"slcGW8","date":"1636062713","viewed":100,"name":"Mandelbrot Art Spirals","username":"akohdr","description":"Following from Mandelbrot Orbit Spirals https://www.shadertoy.com/view/7tc3Dr\nPause at a desired depth, mouse select initial condition, 'm' brings up map, '1-4' toggles skips. Then replay.\n\nI guess parameter selection and choice of colour passes for art. ","likes":6,"published":1,"flags":16,"usePreview":0,"tags":["math","mandelbrot"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGRr","filepath":"/presets/tex00.jpg","previewfilepath":"/presets/tex00.jpg","type":"keyboard","channel":3,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Created by Andrew Wild - akohdr/2021\n// License Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.\n\n#define iT iTime\n#define iM iMouse\n#define iR iResolution.xy\n\n#define RED vec4(1,0,0,0)\n#define GRN vec4(0,1,0,0)\n#define BLU vec4(0,0,1,0)\n\n#define CENTER(p) (((p)-iR.xy/2.)/iR.y)\n\n#define CSQR(a) (mat2(a,-(a).y,(a).x)*(a))\n#define HSV(h) smoothstep(0.,1.,clamp(abs(6.*fract(vec4(h, h-.33333,h-.66666,0))-3.)- 1.,0.,1.))\n#define BLOB(p,c,w) vec4(smoothstep(w,.0,length(p-c)))\n\n#define keyToggle(ascii)  ( texelFetch(iChannel3,ivec2(ascii,2),0).x > 0.)\n\nfloat dLineW(vec2 p, vec2 a, vec2 b, float w) \n{\n    b -= a; p -= a;\n    return smoothstep(w,.0,length (p - clamp (dot (p, b) / dot (b, b), .0, 1.)*b));\n}\n\nvec4 mandel(in vec2 p, vec4 m ) \n{\n    vec2 i = vec2(0), c = (p + m.xy) / m.z, z = c;\n\tfor(i.x=0.;(i.y = length(z))<2. && i.x<m.w;i.x++)\n    \tz = CSQR(z) + c;\n\n    return vec4(i.y < 2., i, m.w);\n}\n\nvoid mainImage( out vec4 k, in vec2 p )\n{\n  vec3 off = vec3(-.5,.3,.95);                 // offset and zoom\n  \n  vec2 m = iM.x>0. ? (iM.xy-iR/2.)/iR.y/off.z + off.xy : vec2(.011,.62), \n       z0, z=m,\n       c = CENTER(p);\n  \n  c /= off.z; c += off.xy;\n  \n  k  = (keyToggle(77)) ?\n      .35*vec4(mandel(c,vec4(0,0,1,16)).z):    // 'm' toggles mandelbrot map\n      vec4(.3,.2,.4,0)*p.y/iR.y;               //  or gradient\n  \n  float L = mod(float(iFrame),512.);           // lets not get too silly...\n  \n  int skip = max(1, int(keyToggle(49))   + int(keyToggle(50))*2+\n                    int(keyToggle(51))*4 + int(keyToggle(52))*8);\n  \n  for(float i=0.; i<L; i++)\n  {\n     z0 = z;\n     for(int j=skip; j>0; j--)\n     z = CSQR(z)+m;                  \n//      k += i*BLU*BLOB(c, z, .01);\n//      k += i*(HSV(i/L*7.)/L)*BLOB(c, z, .01);\n      k += HSV(i/L)*dLineW(c, z0, z,.01)/3.;\n  }\n\n//  k += RED*BLOB(c,z,.02);\n}\n","name":"Image","description":"","type":"image"}]}