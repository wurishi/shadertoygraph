{"ver":"0.1","info":{"id":"Mst3D7","date":"1450265125","viewed":252,"name":"007.02[F]Prewitt, Sobel, Roberts","username":"pawsiem","description":"Some border detectors filters.","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["sobel","filter","roberts","prewitt","borderdetectors"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[],"code":"vec4 drawNormal(sampler2D sampler, vec2 uv){\n    return texture(sampler,uv);\n}\nvec4 drawGrayScale(sampler2D sampler, vec2 uv){\n    vec4 c = drawNormal(sampler,uv);\n    return vec4(vec3(c.r+c.g+c.b)/3.,1.);\n    \n}\nvec4 drawFilter (sampler2D sampler, vec2 uv, mat3 _filter, vec2 s){\n    vec3 c = drawGrayScale(sampler,uv-s).rgb*_filter[0][0];\n    c += drawGrayScale(sampler,vec2(uv.x,uv.y-s.y)).rgb*_filter[0][1];\n    c += drawGrayScale(sampler,vec2(uv.x+s.x,uv.y-s.y)).rgb*_filter[0][2];\n    c += drawGrayScale(sampler,vec2(uv.x-s.x,uv.y)).rgb*_filter[1][0];\n    c += drawGrayScale(sampler,uv).rgb*_filter[1][1];\n    c += drawGrayScale(sampler,vec2(uv.x+s.x,uv.y)).rgb*_filter[1][2];\n    c += drawGrayScale(sampler,vec2(uv.x-s.x,uv.y+s.y)).rgb*_filter[2][0];\n    c += drawGrayScale(sampler,vec2(uv.x,uv.y+s.y)).rgb*_filter[2][1];\n    c += drawGrayScale(sampler,uv+s).rgb*_filter[2][2];\n    \n    return vec4(c,1.);\n}\nvec4 drawRoberts (sampler2D sampler, vec2 uv, vec2 s){\n    return drawFilter(sampler,uv,mat3(0.,-1,0.,0.,0.,1.,0.,0.,0.),s);\n}\nvec4 drawPrewitt (sampler2D sampler, vec2 uv, vec2 s){\n    return drawFilter(sampler,uv,mat3(-1.,0.,1.,-1.,0.,1.,-1.,0.,1.),s);\n}\nvec4 drawSobel (sampler2D sampler, vec2 uv, vec2 s){\n    return drawFilter(sampler,uv,mat3(-1.,0.,1.,-2.,0.,2.,-1.,0.,1.),s);\n}\n\n\nvoid mainImage( out vec4 o, in vec2 p )\n{\n\tp = p / iResolution.xy*2.-1.;\n    if(abs(p.x)<=0.4 && abs(p.y)<=0.4){\n        p+=0.4;\n        p*=1.25;\n        //My favourite filter :D\n        o = drawFilter(iChannel0,p,mat3(-1.,-1.,-1.,-1.,8.,-1.,-1.,-1.,-1.),1./vec2(512.)); \n    }else if(p.x<0.){ \n        if(p.y<0.)\n            o = drawSobel(iChannel0,p,1./vec2(512.));\n        else\n            o = drawGrayScale(iChannel0,p);\n    }else{\n        if(p.y<0.){\n            p.y+=1.;\n    \t\to = drawRoberts(iChannel0,p,1./vec2(512.));\n        }else{\n    \t\to = drawPrewitt(iChannel0,p,1./vec2(512.));\n        }\n        \n    }\n        \n}","name":"Image","description":"","type":"image"}]}