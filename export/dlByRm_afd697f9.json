{"ver":"0.1","info":{"id":"dlByRm","date":"1691590002","viewed":43,"name":"blue sand","username":"jonasfrey","description":"blue","likes":4,"published":1,"flags":32,"usePreview":0,"tags":["sand"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 o_trn_pixel = fragCoord*0.9;\n\n    vec2 o_trn_nor = o_trn_pixel/iResolution.xy;\n    vec2 o_trn_nor_mouse = iMouse.xy/iResolution.xy;\n\n    vec4 o_col_last = texelFetch(iChannel0, ivec2(o_trn_pixel.xy), 0);\n    \n    \n    fragColor = \n        vec4(o_col_last.x*o_col_last.y*0.3,o_col_last.z*.3,o_col_last.x*1.1, 1.);\n\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"float f_n_rand(vec2 co){\n    return fract(sin(dot(co, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float n_rnd = f_n_rand(fragCoord+iTime*0.2);\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 o_trn_pixel = fragCoord*(1.+n_rnd*0.003);\n    vec2 o_trn_nor = o_trn_pixel/iResolution.xy;\n    vec2 o_trn_nor_mouse = iMouse.xy/iResolution.xy;\n    float n_t = iTime *2.;\n    if(iMouse.z > 0. == false){\n        o_trn_nor_mouse = vec2(sin(n_t), cos(n_t))*0.2+0.4;\n    }\n    ivec2 o_scl_krn = ivec2(3,3);\n    vec4 o_col_last_sum = vec4(0.);\n    \n    vec4 o_col_last = texelFetch(iChannel0, ivec2(o_trn_pixel.xy), 0);\n    \n    for(int n_x = 0; n_x < o_scl_krn.x; n_x+=1){\n        for(int n_y = 0; n_y < o_scl_krn.x; n_y+=1){\n            ivec2 o_trn = ivec2(o_trn_pixel.xy)+ivec2(n_x, n_y)-ivec2(o_scl_krn/2);\n            vec4 o_col_last = texelFetch(iChannel0, o_trn, 0);\n            o_col_last_sum+=o_col_last;\n        }\n    }\n    \n\n    float n_dist = length(o_trn_nor_mouse.xy-o_trn_nor.xy);\n    vec4 o_col_last_sum_nor = o_col_last_sum / vec4(o_scl_krn.x * o_scl_krn.y);\n\n    if(o_col_last_sum_nor.x > 0.55){\n        fragColor = o_col_last - 0.01;\n    }\n    if(o_col_last_sum_nor.x > 0.15){\n        fragColor = o_col_last + 0.001;\n    }\n    if(o_col_last_sum_nor.x > 0.58){\n        fragColor = vec4(f_n_rand(o_trn_pixel+iTime*.134)*0.2);\n    }\n    \n    if(n_dist < 0.001 + n_rnd*0.11){\n        fragColor = vec4(\n            f_n_rand(o_trn_pixel+iTime*0.1)\n        );\n    }\n\n    \n    \n}\n\n","name":"Buffer A","description":"","type":"buffer"}]}