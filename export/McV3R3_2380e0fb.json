{"ver":"0.1","info":{"id":"McV3R3","date":"1713316789","viewed":54,"name":"Rotating Rounded Box","username":"HenriPK","description":"A rotating rounded box, showcasing how UI composer primitives will work.","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["sdf","box"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float rect(vec2 p, vec2 b, float r)\n{\n    vec2 d = abs(p) - b + vec2(r);\n     mat2 transform2 = mat2(\n        vec2(1.0, 0.5),\n        vec2(0.0, 1.0)\n    );\n    return min(max(d.x, d.y), 0.0) + length(max(d, 0.0)) - r;   \n}\n\nfloat getFill(bool filled, vec2 uv) {\n    float t = iTime * 2.0;\n    mat2 transform = mat2(\n        vec2(sin(t), cos(t)),\n        vec2(cos(t), -sin(t))\n    );\n   \n    // dRect\n    float d = rect(transform * uv, vec2(0.2, 0.15), 0.05);\n \n    float thickness = 5.0 / iResolution.x * 0.5;\n    \n    float fill = 0.0;\n\n    if (filled) {\n        return d < 0.0 ? 1.0 : 0.0;\n    }\n    \n    return d < thickness && d > -thickness ? 1.0 : 0.0;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord/iResolution.xy - vec2(0.5, 0.5)) * vec2( 1.0, iResolution.y/iResolution.x );\n\n    float e = 0.333 / iResolution.x;\n    \n    float stroke = (\n        getFill(false, uv + vec2(0, 0)) + getFill(false, uv + vec2(e, 0)) + getFill(false, uv + vec2(-e, 0)) +\n        getFill(false, uv + vec2(0, e)) + getFill(false, uv + vec2(e, e)) + getFill(false, uv + vec2(-e, -e)) +\n        getFill(false, uv + vec2(0, -e)) + getFill(false, uv + vec2(e, -e)) + getFill(false, uv + vec2(-e, -e))\n    ) / 9.0;\n    \n    float fill = getFill(true, uv);\n    \n    vec3 fillColor = vec3(0.5 + 0.8 * uv.y);\n    vec3 strokeColor = vec3(0.15, 0.15, 0.15);\n    vec3 bgColor = vec3(0.97, 0.96, 0.95) * (1.0 - 0.4 * uv.y);\n    \n    vec3 col = mix(bgColor, mix(fillColor, strokeColor, stroke), max(fill, stroke));\n\n    fragColor = vec4(col, 1.0);\n}","name":"Image","description":"","type":"image"}]}