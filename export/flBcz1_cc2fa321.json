{"ver":"0.1","info":{"id":"flBcz1","date":"1649144750","viewed":85,"name":"try hexagon range border","username":"cailuming","description":"try some cheap hexagon","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["border2dhexagon"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sXGRr","filepath":"/media/a/48e2d9ef22ca6673330b8c38a260c87694d2bbc94c19fec9dfa4a1222c364a99.mp3","previewfilepath":"/media/ap/48e2d9ef22ca6673330b8c38a260c87694d2bbc94c19fec9dfa4a1222c364a99.mp3","type":"music","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.14159265758\n#define PI_HALF 1.57079632879\n\n//from iq\nvec3 palete(float h,float s,float v){\n   vec3 a = vec3(v,v,v);\n   vec3 b = vec3(s,s,s);\n   vec3 c = vec3(1,1,1);\n   \n   vec3 d = vec3(0.0,0.33,0.67);\n   return a+b*cos(2.0*PI*(c*h+d)); \n} \n\nmat2x2 rot2D(float a){\n   float c = cos(a);\n   float s = sin(a);\n   return mat2x2(c,s,-s,c);\n}\n\nfloat ZigzagEdge(vec2 cuv,vec2 c,float arc,float edgeLength,float radius,float flip){\n    cuv-=c;\n    cuv*=rot2D(arc);\n    vec2 ocuv = cuv;\n    cuv.x = mod(cuv.x,radius*2.0)-radius;\n    \n    vec2 form = vec2(cuv.x,abs(cuv.x)*0.5773502691);\n    float v =cuv.y-form.y;\n    float d = radius*edgeLength;\n    float f = sign(flip-0.5);;\n     \n    v = pow(0.005/abs(v)+exp(-v*v*(10.0/edgeLength))*(sign(v*f)*0.5+0.5),3.0);\n    \n    v = clamp(v*sign(-ocuv.x*ocuv.x/d+d),0.0,2.0);\n    \n    return v;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy - vec2(0.5,0.5);\n    vec2 cuv = vec2(uv.x*iResolution.x/iResolution.y,uv.y);\n    cuv*=2.0;\n    // Time varying pixel color\n    vec3 col = vec3(0.5,0.6,0.7)*uv.y*1.5;\n    \n    float shortR = 0.1;\n    float longR  = shortR/0.86602540;\n    float range  = 1.0+ceil(abs(sin(iTime))*4.0);\n    \n    float n = (range-1.0)/2.0;\n  \n    float rots = PI*mod(range-1.0,2.0);\n    \n    float rstride = (floor(n)+ceil(n)*2.0+0.5)*longR;\n    vec2 base = vec2(0,1);base*=rot2D(-PI/6.0);\n    \n    float v =ZigzagEdge(cuv,base*rstride,PI/6.0+rots,range,shortR,rots);\n    \n    for(int i=0;i<5;i++){\n       base*=rot2D(-PI/3.0);\n       v=max(v,ZigzagEdge(cuv,base*rstride,PI*(float(i)+1.0)/3.0+PI/6.0+rots,range,shortR,rots));\n    }\n    \n    col+=v*palete(texture(iChannel0,vec2(0.2,0.0)).x,1.0,0.8); \n    \n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}