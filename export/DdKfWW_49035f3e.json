{"ver":"0.1","info":{"id":"DdKfWW","date":"1698414579","viewed":74,"name":"Simple sine pattern","username":"shau","description":"recreating a simple 2d pattern I found on some packaging","likes":15,"published":1,"flags":0,"usePreview":0,"tags":["2d","pattern"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Created by SHAU - 2023\n// License Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.\n//-----------------------------------------------------\n\n#define R iResolution.xy\n#define PI 3.141592\n#define QRT 1.360349\n#define S(a, b, v) smoothstep(a, b, v)\n#define FAR 1000.0\n#define T iTime\n\n//Fabrice - compact rotation\nmat2 rot(float x) {return mat2(cos(x), sin(x), -sin(x), cos(x));}\n\n//Dave Hoskins - https://www.shadertoy.com/view/4djSRW\nvec3 hash31(float p)\n{\n   vec3 p3 = fract(vec3(p) * vec3(.1031, .1030, .0973));\n   p3 += dot(p3, p3.yzx+33.33);\n   return fract((p3.xxy+p3.yzz)*p3.zyx); \n}\n\n\nfloat petal(vec2 uv)\n{\n    float t = FAR,\n          s = sin(uv.y);\n          \n    for (float i=0.5; i<7.0; i++) {\n        t = min(t,abs(s*i* 0.08 - uv.x));\n        t = min(t,abs(s*i*-0.08 - uv.x));\n    }\n    \n    return t;\n}\n\nvec4 petals(vec2 uv, float r)\n{\n    uv *= rot(r);\n    vec2 uv2 = uv;\n    uv.x += QRT;\n    uv.x = mod(uv.x,5.441298) - 2.720699;\n    \n    float a =  (uv2.x - QRT)/(QRT*2.0),\n          f =  fract(a),\n          id = mod(floor(a),3.0),\n          d =  (step(0.0,cos(uv.y)) * step(0.0,uv.x)) +\n               (step(sin(uv.y),0.0) * step(uv.x,0.0)),\n          t =  petal(uv + vec2( QRT,0.0));\n    t = min(t, petal(uv + vec2(-QRT,PI*0.5)));\n    \n    return vec4(t,d,f,id);\n}\n\nvoid col(vec4 p, float id, inout vec3 c)\n{\n    if (p.w==id)\n    {\n        c = mix(c,vec3(1.0),S(0.02, 0.0, p.x));\n    }\n    else\n    {\n        c = mix(c,vec3(1.0),S(0.02,0.0, p.x) * p.y);\n        c = mix(c,vec3(0.7,0.6,0.4),S(0.02,0.0,p.x) * (1.0 - p.y));\n    }\n\n}\n\nvoid mainImage( out vec4 C, in vec2 U )\n{\n    float at = mod(T,10.0),\n          minz = (T < 10.0) ? 4.0 : 0.4;\n    vec3 h3 = hash31(floor(T/10.0)),\n         c = vec3(0.9,0.84,0.78);\n    vec2 uv = ((U - R*0.5)/R.y) * clamp(14.0*h3.z,minz,12.0);\n    \n    uv += (h3.xy - 0.5)*T*max(0.2,h3.z*2.0);\n    uv *= rot(h3.y*2.0*PI);\n    \n    vec4 p = petals(uv,0.0);\n    c = mix(c,vec3(0.4,0.34,0.2),S(0.02,0.0,p.x));\n    p = petals(uv,-1.047197);\n    col(p,0.0,c);\n    p = petals(uv, 1.047197);\n    col(p,1.0,c);\n    \n    c *= S(10.0,9.7,at)*S(0.0,0.3,at);\n    \n    C = vec4(c,1.0);\n}","name":"Image","description":"","type":"image"}]}