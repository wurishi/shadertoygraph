{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[{"channel":0,"type":"texture","id":"XsX3Rn","filepath":"/media/a/92d7758c402f0927011ca8d0a7e40251439fba3a1dac26f5b8b62026323501aa.jpg","sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"}}],"code":"//by maq/floppy\nfloat gauss(float s, float d, float r)\n{\n\t\treturn (1.0/(sqrt(2.0*3.1415)*s))*exp(-pow(d-r,2.0)/(s*s));\n}\t\nfloat bgauss(float s, float d, float r)\n{\n\tif(d>=r)\n\t\treturn gauss(s,d,r);\n\telse\n\t\treturn gauss(s,0.0,0.0);\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = (fragCoord.xy / iResolution.xy-0.5);\n\tuv.y*=0.66;\n\tvec2 point = vec2(-0.13,-0.03);\n\tfloat s=0.03;\n\tfloat r=0.1;\n\t// moon\t\n\tfloat d = length(uv-point);\n\td=bgauss(s,d,r);\n\t// earth shadow\n\tvec2 point2 = point+vec2(-0.1+sin(iTime*0.02),0.01);\n\tfloat d2 = length(uv-point2);\n\td2=bgauss(s,d2,r);\n\td=min(d,1.0-d2);\n\t// moon texture\n\td*=(1.0+2.0*length(uv-point));\n\td=d*(0.9+(0.3-d)*0.3*texture(iChannel0,uv+iTime*0.01).y);\n\n\t//stars\n\td=max(d,bgauss(0.0005,length(uv-vec2(0.01,0.112)),0.0)   );\n\td=max(d,bgauss(0.002,length(uv-vec2(-0.33,0.2)),0.001)   );\n\td=max(d,bgauss(0.001,length(uv-vec2(0.2,-0.2)),0.0)   );\n\td=max(d,bgauss(0.002*(0.1+0.3*texture(iChannel0,uv+iTime*0.1).x),length(uv-vec2(0.444,0.2)),0.0)   );\n\td=max(d,bgauss(0.001*(0.1+0.3*texture(iChannel0,uv+iTime*0.1).y),length(uv-vec2(-0.4,-0.0)),0.0)   );\n\t\n\tvec3 col=vec3(d);\t\n\tfragColor = vec4(col,1.0);// vec4(uv,0.5+0.5*sin(iTime),1.0);\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"Xds3zB","date":"1373586501","viewed":570,"name":"Holiday moon","username":"maqflp","description":"just moon, stars & sky. ","likes":12,"published":1,"flags":0,"usePreview":0,"tags":["2d"],"hasliked":0,"parentid":"","parentname":""}}