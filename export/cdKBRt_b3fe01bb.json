{"ver":"0.1","info":{"id":"cdKBRt","date":"1698522731","viewed":81,"name":"CSSBattle#175 Evil Cat","username":"Beowolve","description":"[url]https://cssbattle.dev/play/175[/url]\n\nMy current CSS Record for this target is 290, can anyone golf this shader below ;)? \n\nUpdate: Added eye animation","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["cat","halloween","cssbattle"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.141592\n#define S(v) smoothstep(ss,-ss,v)\n\nfloat triangle(vec2 p, float radius) {\n\treturn max(\tabs(p).x * 0.866025 + p.y * 0.5, -p.y) -radius * 0.5;\n}\n\nfloat disc(vec2 p, float radius) {\n    return length(p) - radius;\n}\n\nvec2 rotate(vec2 uv, float th) {\n  return mat2(cos(th), sin(th), -sin(th), cos(th)) * uv;\n}\n\nfloat eye(vec2 p, float size, float radius) {\n    p = rotate(p, PI/4.);\n    vec2 d = abs(p)-size;\n    float box = length(max(d,0.)) + min(max(d.x,d.y),0.);\n\n    float r = radius * size * 2.;\n    vec2 discPos = (p.x < p.y ? p : -p) - vec2(r - size, size - r);\n    float disk = length(discPos) - r;   \n    disk = discPos.x<0. && discPos.y>0. ? disk : -1.;\n\n    return max(box, disk);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord - .5*iResolution.xy) / iResolution.y;\n    vec2 p = uv;\n    float ss = .75/iResolution.y;\n      \n    vec3 bg = vec3(.93,.416,.616);\n    vec3 c1 = vec3(0,0,.267);\n    vec3 c2 = vec3(1,.757,0);\n\n    vec3 col = bg;\n    col = mix(col, c1, S(disc(vec2(p.x*.85,p.y+.05),.3)));\n    col = mix(col, c1, S(triangle(rotate( vec2((abs(p.x)-.25)*1.1,(p.y-.19)*-.7),.4),.12)));\n    col = mix(col, c2, S(eye(vec2(abs(p.x)-.15, p.y), .09, .5)));\n    col = mix(col, c1, S(disc(vec2(abs(p.x)-.15,p.y * .3/ min(.999,(1.-pow(sin(iTime),200.)*abs(sin(iTime*5.)))) ), .02))); \n    col = mix(col, bg, S(triangle(vec2(p.x*.7,-p.y-.15), .04)));   \n    \n    fragColor = vec4(col,1.0);\n}\n","name":"Image","description":"","type":"image"}]}