{"ver":"0.1","info":{"id":"7sKXWG","date":"1635251585","viewed":281,"name":"Angular Lightning","username":"spalmer","description":"glowy perspective wireframe lightning electric arc","likes":12,"published":1,"flags":32,"usePreview":0,"tags":["lines","lightning","perspective","electric"],"hasliked":0,"parentid":"7sGXRV","parentname":"Angular Tetrahedra"},"renderpass":[{"inputs":[{"id":"4sf3Rr","filepath":"/media/a/ad56fba948dfba9ae698198c109e71f118a54d209c0ea50d77ea546abad89c57.png","previewfilepath":"/media/ap/ad56fba948dfba9ae698198c109e71f118a54d209c0ea50d77ea546abad89c57.png","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"mipmap","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// somewhat inspired by https://shadertoy.com/view/sdySWG\n\n// post processing of image from Buffer A\n\n// I'm no artist, but this seems pretty electric to me!\n\nvoid mainImage(out vec4 o, vec2 q)\n{\n    q /= iResolution.xy;\n    vec2 u = (q - .5) * .1;\n    o = vec4(0);\n    // chromatic aberration glow\n    o.r += .8 * textureLod(iChannel0, q + .1*u, 0.).r;\n    o.g += .8 * textureLod(iChannel0, q       , 0.).g;\n    o.b += .8 * textureLod(iChannel0, q - .1*u, 0.).b;\n    // \"bloom\" from mip\n    float g = .4 * sqrt(dot(textureLod(iChannel0, q, 3.), vec4(.6, .3, .1, 0)));\n    g *= sqrt(1. - 4. * q.x * (1.-q.x)); // anti-vignette bloom\n    // chromatic aberration on dirt mask\n    o.r += g * max(0., 1.4*textureLod(iChannel1, 2.*q + .3*u, 0.).r - .7);\n    o.g += g * max(0., 1.4*textureLod(iChannel1, 2.*q       , 0.).r - .7);\n    o.b += g * max(0., 1.4*textureLod(iChannel1, 2.*q - .3*u, 0.).r - .7);\n    o.rgb = sqrt(o.rgb);\n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[{"id":"4dXGR8","channel":0}],"code":"// fork of http://shadertoy.com/view/7sKXWG\n// see http://shadertoy.com/view/ssyXzy\n\n// rendering\n\n// TODO maybe some small sparks \n// or forks that don't go to the anode\n\nvoid mainImage(out vec4 o, vec2 q)\n{\n    vec2 r = iResolution.xy\n    , s = sin(vec2(0,11) + .5*iTime) * sqrt(2.)\n    , v = vec2(-1,1) * s.yx;\n    vec3 d = normalize(vec3(q - .5*r, r.y).xzy)\n    , a = vec3(0,3.3,0)\n    , e = a + vec3(s,1)\n    , f = a - vec3(s,1)\n    , p = e, z, x, m, w;\n    float h = 0., t;\n    for (float i = 0.; i <= 1.01; i += .02) {\n        // weak staggered chaos, could use more sinewaves\n        z = mix(e, f, i) + 1.2 * i * (1.-i)\n          * sin(floor(vec3(2,3,7) * 7. * (2.3*floor(iTime*3.) + floor(iTime*5.6) + i)));\n        x = cross(d, p)\n        , m = x - cross(d, z)\n        , w = x - m * clamp(dot(x, m) / dot(m, m), 0., 1.)\n        , t = dot(w, w)\n        , h += (max(0., 5. - 5000. * t)\n          + .3 * exp2(-30. * t)) \n          * i;\n        p = z;\n    }\n    o = vec4(.8,1,1.2,1) * h; // tint - blue or yellow are nice\n}","name":"Buffer A","description":"","type":"buffer"}]}