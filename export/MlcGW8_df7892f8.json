{"ver":"0.1","info":{"id":"MlcGW8","date":"1468980876","viewed":115,"name":"initial test","username":"maboesanman","description":"simple animation. maybe for a loading animation","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["2d","sine","loading"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const int COUNT=60;\n\nvec4 circle(vec2 fragCoord, vec2 center, const float radius);\nvec4 composite(vec4 topColor, vec4 botColor);\nvec2 position(float time, float speed, float r);\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n\tfragColor = vec4(uv,0.5+0.5*sin(iTime),1.0);\n    float width = iResolution.x/float(COUNT+1);\n    float radius = 4.0;\n    float r;\n    float d;\n    for(int i=0;i<=COUNT;i++)\n    {\n        r = (float(i)*width+width/2.0)*.25;\n        \n        fragColor = composite(circle(fragCoord.xy, position(iTime, 1.0+float(i)/float(COUNT), r) , radius*(1.0+float(i)/float(COUNT))),fragColor);\n        \n    }\n}\n\n\nvec4 circle(vec2 fragCoord, vec2 center, const float radius)\n{\n    float d = distance(fragCoord.xy,center);\n    if(d<radius)\n    {\n        if(d<radius-1.0)\n        {\n        \treturn vec4(1.0,1.0,1.0,1.0);\n        }\n        else\n        {\n            return vec4(1.0,1.0,1.0,radius-d);\n        }\n    }\n    return vec4(1.0,1.0,1.0,0.0);\n}\n\nvec4 composite(vec4 top, vec4 bot)\n{\n    if(top.w==0.0)\n    {\n        return bot;\n    }\n    vec4 outColor = vec4(1.0,1.0,1.0,1.0);\n    outColor.w = top.w+bot.w*(1.0-top.w);\n    if(outColor.w == 0.0)\n    {\n        outColor.xyz = vec3(0.0,0.0,0.0);\n    }\n    else\n    {\n        outColor.xyz = (top.xyz*top.w+bot.xyz*bot.w*(1.0-top.w))/bot.w;\n    }\n    return outColor;\n}\n\nvec2 position(float time, float speed, float r)\n{\n    vec2 pos;\n    pos.x = iResolution.x/2.0+r*cos(iTime*speed*2.0);\n    pos.y = iResolution.y/2.0+r*sin(iTime*speed*2.0);\n    return pos;\n}","name":"Image","description":"","type":"image"}]}