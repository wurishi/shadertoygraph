{"ver":"0.1","info":{"id":"tlj3Dy","date":"1561041293","viewed":125,"name":"Optical illusion - balls color","username":"ManuManu","description":"A trendy optical illusion on twitter","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["opticalillusion"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Most of the code is actually from Seb D. ( doc cosinus )\n\nconst vec3 AmbientColor = vec3(1,1,1);\nconst float AmbientIntensity = 0.6;\nconst vec3 DiffuseColor = vec3(.6,.4,.2);\nconst float DiffuseIntensity = 1.4;\nconst vec3 LightDirection = vec3(-0.35, 0.35, 1);\nconst int StripCount = 120;\n\nvoid ball(vec2 uv, vec2 center, float radius, inout vec3 color, int band, float s, bool useBand)\n{\n    if (useBand && s>=float(band) && s< float(band+1))\n        return;\n    vec2 delta = (uv-center)/radius;\n    float sqDistance = dot(delta, delta);\n    if (sqDistance>1.)\n        return;\n    color = (\n        AmbientIntensity * AmbientColor +\n        DiffuseIntensity * dot(vec3(delta.x, delta.y, 1.0-sqrt(sqDistance)), normalize(LightDirection)) * DiffuseColor\n    );    \n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord-iResolution.xy*0.5) /iResolution.yy;\n\n    vec3 col = vec3(0);\n    \n    \n    float timeCursor = mod(iTime, 5.0)/ 5.0;\n    if ( timeCursor > .5 )\n        timeCursor = 1.0 - 2.0 * (timeCursor - .5);\n    else\n        timeCursor = 2.0 * timeCursor;\n    \n    timeCursor = 2.0 * timeCursor - 1.0;\n        \n    \n\tfloat s = mod((uv.y+1.)*float(StripCount),3.);\n    bool useBand =  timeCursor < uv.x;\n    //if (true) // funny variation\n    if ( useBand )\n    {\n        if (s<1.)\n        {\n            col = vec3(1.,.4,.4);\n        }\n        else if (s<2.)\n        {\n            col = vec3(.4,1,.4);\n        }\n        else\n        {\n            col = vec3(.4,.4,1);\n        }\n    }\n    \n    //col = mix ( col, vec3(.5,.5,.5), timeCursor);\n    \n\tball(uv, vec2(0,0.1),0.15, col,0,s, useBand);\n\tball(uv, vec2(-0.7,-0.3),0.15, col,1,s, useBand);\n    ball(uv, vec2(-0.5,0.3),0.15, col,1,s, useBand);\n    ball(uv, vec2(0.35,-0.2),0.15, col,1,s, useBand);\n    ball(uv, vec2(0.65,0.15),0.15, col,2,s, useBand);\n    ball(uv, vec2(-0.25,-0.2),0.15, col,2,s, useBand);  \n    \n    fragColor = vec4(col,1.0);\n}\n","name":"Image","description":"","type":"image"}]}