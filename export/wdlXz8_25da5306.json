{"ver":"0.1","info":{"id":"wdlXz8","date":"1550626030","viewed":209,"name":"water_wave","username":"XrayDog","description":"base on https://www.shadertoy.com/view/llj3Dz\nfix the sacle bug","likes":7,"published":1,"flags":0,"usePreview":0,"tags":["wave"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//Use as you will.\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec3 WaveParams = vec3(10.0, 0.8, 0.1 ); \n\n    float offset = (iTime- floor(iTime))/iTime;\n\tfloat currTime = (iTime)*(offset);\n    \n    //currTime = 0.03;\n    float ratio = iResolution.x/iResolution.y;\n           \n    vec2 WaveCentre = vec2(0.5, 0.5);\n\tvec2 texCoord = fragCoord.xy / iResolution.xy;  \n    \n    vec2 dv = texCoord - WaveCentre;\n    dv.x*=ratio;\n    \n    float distance = sqrt(dv.x*dv.x+dv.y*dv.y);\n\t\n\tvec4 Color = texture(iChannel0, texCoord);\n    \n    float zz = min(currTime,WaveParams.z);\n    if ((distance <= ((currTime) + (zz))) && \n    (distance >= ((currTime) - (zz)))) \n    {\n        //The pixel offset distance based on the input parameters\n        float Diff = (distance - currTime); \n        float ScaleDiff = (1.0 - pow(abs(Diff * WaveParams.x), WaveParams.y)); \n        float DiffTime = (Diff  * ScaleDiff);\n\n        //The direction of the distortion\n        vec2 DiffTexCoord = normalize(texCoord - WaveCentre);         \n\n        //Perform the distortion and reduce the effect over time\n        texCoord += ((DiffTexCoord * DiffTime) / (currTime * distance * 40.0));\n        Color = texture(iChannel0, texCoord);\n\n        //Blow out the color and reduce the effect over time\n        if(currTime < 0.1){\n        \tColor += (Color * ScaleDiff) ;\n        }else{\n        \tColor += (Color * ScaleDiff) / (currTime * distance * 40.0);\n        }\n \t} \n\tfragColor = Color; \n}","name":"Image","description":"","type":"image"}]}