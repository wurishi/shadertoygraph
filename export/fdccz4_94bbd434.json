{"ver":"0.1","info":{"id":"fdccz4","date":"1653052123","viewed":76,"name":"day 1 draw a bear","username":"ankye","description":"draw bear","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["bear"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec4 drawBg(vec2 uv, inout vec4 col){\n    vec3 temp = 0.5 + 0.5*cos(iTime+uv.xyx+vec3(0,2,4));\n    vec4 layer= vec4(temp*0.5,0.7);\n    col = mix(col,layer,layer.a);\n    return col;\n}\n//输入参数(当前点位置，中心点位置，偏移，点的半径，颜色，与背景过渡的平滑值)\nvec4 drawCircle(vec2 uv,vec2 center,vec2 mul,float radius,vec3 color,\n        float antialias,inout vec4 col){\n    vec2 tempPos = uv - center;\n    tempPos.x = tempPos.x * mul.x ;\n    tempPos.y = tempPos.y * mul.y ; \n    //求圆心距离\n    float d=length(tempPos)-radius;\n    float t=smoothstep(0.,antialias,d);\n    vec4 layer = vec4(color,1.0-t);\n    col = mix(col,layer,layer.a);\n    return col;\n\n}\n\nvec4 drawRect(vec2 uv,vec2 center,vec2 rect,float antialias,vec3 color,inout vec4 col) {\n    vec2 temp = abs(uv-center) - rect;\n    float d = length(max(temp,0.0)) + min(max(temp.x,temp.y),0.0);\n    float t = smoothstep(0.,antialias,d);\n    vec4 layer = vec4(color,1.0-t);\n    col = mix(col,layer,layer.a);\n    return col;\n}\n\nfloat sat(float t) {\n    return clamp(t, 0.0, 1.0);\n}\nfloat remap01(float a, float b, float t) {\n    return sat((t - a) / (b - a));\n}\nfloat remap(float a, float b, float c, float d, float t) {\n    return remap01(a, b, t) * (d - c) + c;\n}\nvec4 drawNose(vec2 uv,vec2 center,vec3 color,inout vec4 col) {\n    uv.x *= 0.7;\n    uv.y += uv.x * uv.x +0.15;\n    uv *= 4.0;\n    float d = length(uv);\n    vec4 layer = vec4(color,1.);\n    layer.a = smoothstep(0.4, 0.39, d);\n   \n    col = mix(col,layer,layer.a);\n    return col;\n}\nvec4 drawMouth(vec2 uv,vec2 center,vec3 color,inout vec4 col){\n    uv.x *= 0.49;\n    uv.y -= uv.x * uv.x - 0.5;\n    uv *= 2.5;\n    float d = length(uv);\n    vec4 layer = vec4(color,1.);\n    layer.a = smoothstep(0.4, 0.39, d);\n    \n    float td = 1.0-remap(-0.25, 0.25, 0.0, 1.0, uv.y);\n    vec3 teeth_col = vec3(smoothstep(0.5, 0.3, d));\n\n    layer.rgb = mix(layer.rgb,teeth_col,smoothstep(0.05, 0.02, td));\n\n    float mtd = remap(-0.25, 0.3, 0.0, 1.0, uv.y);\n    layer.rgb *= 1.0 - smoothstep(0.4, 0.0, mtd) * 0.2;\n\n    col = mix(col,layer,layer.a);\n    return col;\n}\n\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n   //获取点的位置\n    //iResolution为屏幕的分辨率\n    //fragCoord为当前点的位置 原点是左下角\n    //返回的uv是以屏幕中心为原点\n    vec2 uv =(2.0*fragCoord.xy-iResolution.xy) /iResolution.y;\n    //中心点\n    vec2 center = vec2(0,0);\n    //圆的颜色\n    vec3 red=vec3(0.7,0,0);\n    vec3 red_light = vec3(0.8, 0.3, 0.2);\n    vec3 blue = vec3(0.2, 0.6, 0.9);\n    vec4 col = vec4(0.,0.,0.,1.);\n    vec3 gray = vec3(0.5);\n    vec3 gray_light = vec3(.7);\n    vec3 white = vec3(1.);\n    vec3 black = vec3(0.);\n    // bg\n    drawBg(uv,col);\n    \n    //身体\n    //drawRect(uv,center+vec2(0.,-0.7), vec2(0.5,0.3),0.01,blue,col);\n\n    //左耳朵\n    drawCircle(uv,center+vec2(-0.4,0.55),vec2(1,1.0),0.3,white,0.01,col);    \n    drawCircle(uv,center+vec2(-0.4,0.55),vec2(1,1.0),0.2,gray_light,0.01,col);   \n    //右耳朵\n    drawCircle(uv,center+vec2(0.4,0.55),vec2(1,1.0),0.3,white,0.01,col);   \n    drawCircle(uv,center+vec2(0.4,0.55),vec2(1,1.0),0.2,gray_light,0.01,col);   \n    //脸\n    drawCircle(uv,center,vec2(0.9,1.0),0.7,white,0.01,col);   \n\n    //左眼\n    vec2 rightEyeP = center - vec2(0.3,-0.1);\n    float d = 0.2;\n    drawCircle(uv,rightEyeP,vec2(1.,1.0),d,gray_light,0.01,col);   \n    float angle = sin(iTime)* 0.2 * 3.14159;\n    //左眼球\n    drawCircle(uv,rightEyeP+vec2(0.1*sin(angle),-0.1*cos(angle)),vec2(1.,1.0),0.1,black,0.01,col);   \n    \n    //右眼\n    vec2 leftEyeP = center+vec2(0.3,0.1);\n    drawCircle(uv,leftEyeP,vec2(1.,1.0),0.2,gray_light,0.01,col);   \n    //左眼球\n    drawCircle(uv,leftEyeP+vec2(0.1*sin(angle),-0.1*cos(angle)),vec2(1.,1.0),0.1,black,0.01,col);   \n    //鼻子\n    drawNose(uv,center,gray_light,col);\n    //嘴巴\n    drawMouth(uv,center,red_light,col);\n\n    \n    // 输出像素\n    fragColor = col;\n}\n","name":"Image","description":"","type":"image"}]}