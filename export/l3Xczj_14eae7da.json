{"ver":"0.1","info":{"id":"l3Xczj","date":"1731588880","viewed":55,"name":"acid trip simulator","username":"NikoAnimation","description":"matrix shenanigans go hard","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["cool"],"hasliked":0,"parentid":"4fKXz3","parentname":"checkerboard test"},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"mat4 rotateX(float angle) {\n    float cosA = cos(angle);\n    float sinA = sin(angle);\n\n    return mat4(\n        vec4(1.0, 0.0, 0.0, 0.0),\n        vec4(0.0, cosA, -sinA, 0.0),\n        vec4(0.0, sinA, cosA, 0.0),\n        vec4(0.0, 0.0, 0.0, 1.0)\n    );\n}\nmat4 rotateY(float angle) {\n    float cosA = cos(angle);\n    float sinA = sin(angle);\n\n    return mat4(\n        vec4(cosA, 0.0, sinA, 0.0),\n        vec4(0.0, 1.0, 0.0, 0.0),\n        vec4(-sinA, 0.0, cosA, 0.0),\n        vec4(0.0, 0.0, 0.0, 1.0)\n    );\n}\nmat4 rotateZ(float angle) {\n    float cosA = cos(angle);\n    float sinA = sin(angle);\n\n    return mat4(\n        vec4(cosA, -sinA, 0.0, 0.0),\n        vec4(sinA, cosA, 0.0, 0.0),\n        vec4(0.0, 0.0, 1.0, 0.0),\n        vec4(0.0, 0.0, 0.0, 1.0)\n    );\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    const float fov = 40.0;\n    float tileSize = 25.0;\n    float b = 0.0;\n    vec2 pixPos = fragCoord;\n    \n    vec2 bhCenterPos = vec2(0.5, 0.5);\n\n    mat4 transform = rotateX(-iTime/10000.0) * rotateY(iTime/10000.0)* rotateZ(iTime/10.0);\n    float tanHalfFov = 1.0/tan(fov/2.0);\n    mat4 perspective = mat4(\n        vec4(tanHalfFov, 0.0, 0.0, 0.0),\n        vec4(0.0, tanHalfFov, 0.0, 0.0),\n        vec4(0.0, 0.0, 1.0, 0.0),\n        vec4(0.0, 0.0, 1.0, 0.0)\n    );\n    \n    vec4 pos4 = (vec4(pixPos, 1.0, 1.0) * transform) * perspective;\n    pos4 /= pos4.w;\n    vec2 pos = floor(pos4.xy/tileSize);\n   \n    if (mod(pos.x+pos.y, 2.0) == 1.0) {\n        b = 0.3;\n    } else {\n        b = 1.0;\n    }\n    \n    vec3 c = vec3(b, b, b);\n    fragColor = vec4(c, 1.0);\n}","name":"Image","description":"","type":"image"}]}