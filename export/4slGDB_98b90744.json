{"ver":"0.1","renderpass":[{"outputs":[{"channel":0,"id":"4dfGRr"}],"inputs":[],"code":"// Created by Morgan McGuire @morgan3d\n// http://graphicscodex.com\n// License Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.\n\n#define RAINBOW_POWER 1\n#define PULSE 1\n\n// hsv to rgb from https://love2d.org/wiki/HSV_color\nvec3 hsv(float h,float s,float v) { return mix(vec3(1.),clamp((abs(fract(h+vec3(3.,2.,1.)/3.)*6.-3.)-1.),0.,1.),s)*v; }\n\nfloat heart2D(vec2 P) {\n\t// Center in a unit circle\n\tP *= 1.8;\n\tP.y -= 1.25;\n\t\n\tfloat r = length(P);\n\tP = normalize(P);\n\n# \tif PULSE\n\t\tfloat pulse = 0.05 * sin(3.0 * iTime);\n# \telse\n\t\tconst float pulse = 0.0;\n#\tendif\n\t\n\treturn r - \n\t\t((P.y * pow(abs(P.x), 0.75 + pulse)) / \n\t\t (P.y + 1.6) - \n\t\t (pulse + 1.5) * P.y + \n\t\t  1.5);\n}\n\nfloat pow4(float x) { x *= x; return x * x; }\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n\t// \n\tconst float maxValue = 1.5;\n\tvec2 P = 2.0 * (fragCoord.xy - iResolution.xy / 2.0) / min(iResolution.x, iResolution.y);\n\tP *= maxValue;\n\t\n\tfloat d = heart2D(P);\n\t\n#\tif RAINBOW_POWER\n\t\tconst float speed \t\t\t\t= 0.4;\n\t\tconst float outlineThickness \t= 0.06;\n\t\tconst vec3  outlineColor \t\t= vec3(1.0);\n\t\tconst float bandThickness \t\t= 2.0;\n\t\tconst vec3  foreground \t\t\t= vec3(1.0, 0.6, 0.6);\n\t\n\t\t// Rainbow\n\t\tvec3 background = hsv(speed * iTime - d * 0.25 / bandThickness, 0.1, 1.0);\n\t\t\t\t\n\t\t// Heart\n\t\tvec3 color = mix(foreground, background, clamp(d / (outlineThickness / 2.0), 0.0, 1.0));\n\n\t\t// Outline\t\n\t\tcolor = mix(outlineColor, color, clamp(pow4(abs(d / outlineThickness)), 0.0, 1.0));\n\t\n\t\tfragColor = vec4(color,1.0);\n#\telse\t\n\t\t// Stenciled rendering in two colors\n      \tconst vec3 pink = vec3(1.0, 0.5, 0.5);\n\t\tconst vec3 background = vec3(1.0);\n\t\t// Antialiased transition\n\t\tfragColor = vec4(mix(pink, background, clamp(d / 0.03, 0.0, 1.0)),1.0);\n# \tendif\n\t\n}\n","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"4slGDB","date":"1378592288","viewed":1751,"name":"Heart2D","username":"morgan3d","description":"2D signed distance function of a heart, with a rainbow background","likes":23,"published":1,"flags":0,"usePreview":0,"tags":["2d","heart","rainbow"],"hasliked":0,"parentid":"","parentname":""}}