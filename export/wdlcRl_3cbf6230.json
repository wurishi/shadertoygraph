{"ver":"0.1","info":{"id":"wdlcRl","date":"1585389274","viewed":105,"name":"Pixel scottish tartan pattern","username":"joha2nes","description":"Exercise from The Book of Shaders","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["2d","pattern"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float bar(float min, float max, float x)\n{\n\treturn step(min, x) * step(x, max);\n}\n\nvec2 tile(vec2 uv, float div)\n{\n\treturn fract(uv * div);\n}\n\nvec3 combine(vec2 uv, float div, vec3 color1, vec3 color2, float t)\n{\n\tuv = tile(uv, div);\n\treturn\n\t\tt >= 1.0 ? color2 :\n\t\tt >= 0.5 ? (mod(floor(uv.x * 2.0) + floor(uv.y * 2.0), 2.0) == 0.0 ? color2 : color1) :\n\t\tcolor1;\n}\n\nvec3 pattern(vec2 uv)\n{\n\tfloat mask1 = 0.5 *\n\t\t(bar(0.1, 0.2, uv.x) + bar(0.3, 0.4, uv.x)\n\t\t+ bar(0.6, 0.7, uv.y) + bar(0.8, 0.9, uv.y)); \n\tfloat mask2 = 0.5 *\n\t\t(bar(0.0, 0.1, uv.x) + bar(0.2, 0.3, uv.x) + bar(0.4, 0.5, uv.x)\n\t\t+ bar(0.9, 1.0, uv.y) + bar(0.7, 0.8, uv.y) + bar(0.5, 0.6, uv.y));\n\tfloat mask3 = 0.5 *\n\t\t(bar(0.7, 0.75, uv.x) + bar(0.8, 0.85, uv.x)\n\t\t+ bar(0.15, 0.2, uv.y) + bar(0.25, 0.3, uv.y));\n\n\tvec3 color = vec3(0.8588, 0.7725, 0.6039);\n\tcolor = combine(uv, 50.0, color, vec3(1.0), mask1);\n\tcolor = combine(uv, 50.0, color, vec3(0.0), mask2);\n\tcolor = combine(uv, 50.0, color, vec3(0.7, 0.2, 0.3), mask3);\n\treturn color;\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n\tuv.x *= iResolution.x / iResolution.y;\n\n\tvec3 color = pattern(tile(uv, 2.0));\n\n\tfragColor = vec4(color, 1.0);\n}\n","name":"Image","description":"","type":"image"}]}