{"ver":"0.1","info":{"id":"lldBRj","date":"1540319801","viewed":347,"name":"Polka polka dots","username":"Vizalkar","description":"Basic polka dots","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["dots"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#ifdef GL_ES\nprecision mediump float;\n#endif\n\n#define brickColor(t) palette(t, vec3(.5), vec3(.5), vec3(1.), vec3(0.00, 0.33, 0.67))\n\n\nvec3 palette (in float t, in vec3 a, in vec3 b, in vec3 c, in vec3 d)\n{\n    return a + b*cos( 6.28318*(c*t+d) );\n}\n\nvec2 brickTile(vec2 _st, float _zoom){\n    _st *= _zoom;\n\n    // Here is where the offset is happening\n    _st.x += 2.*(step(1., mod(_st.y,2.0))-0.500) * ( fract(iTime)) * step(1.,mod(iTime,2.));\n    \n    _st.y += 2.*(step(1., mod(_st.x,2.0))-0.500) * ( fract(iTime+1.)) * step(1.,mod(iTime+1.,2.));\n\t\n    return fract(_st);\n}\n\nfloat box(vec2 _st, vec2 _size){\n    _size = vec2(0.5)-_size*0.5;\n    vec2 uv = smoothstep(_size,_size+vec2(1e-4),_st);\n    uv *= smoothstep(_size,_size+vec2(1e-4),vec2(1.0)-_st);\n    return uv.x*uv.y;\n}\n\nfloat circle (vec2 _st, float radius)\n{\t_st -= 0.5;\n\treturn 1.-smoothstep(radius, radius*1.1,dot(_st,_st)*4.);    \n}\n\nfloat saw (in float t)\n{\n    return\n    fract(t*step(1., mod(t,2.))\n    +\n    (1.- t*step(1., mod(t+1.,2.))));\n}\n\nvoid mainImage(out vec4 fragColor,in vec2 fragCoord){\n    vec2 _st = fragCoord/iResolution.xy;\n    vec3 color = vec3(0.0);\n\n    _st = _st*2. -1.;\n    \n    _st.x *= iResolution.x/iResolution.y;\n    \n    // Apply the brick tiling\n    vec2 st = brickTile(_st,5.0 + 2.*saw(iTime/50.));\n     \n    color = circle(st, 0.4 + 0.2*sin(iTime*6.)) * 0.7 *(vec3(.7) + brickColor(iTime/5. + _st.x)*0.4);\n\n    fragColor = vec4(color,1.0);\n}","name":"Image","description":"","type":"image"}]}