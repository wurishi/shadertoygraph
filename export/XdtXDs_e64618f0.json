{"ver":"0.1","info":{"id":"XdtXDs","date":"1462265916","viewed":505,"name":"vector field 02","username":"celeriac","description":"draws a vector field with arrows","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["2dvectorfieldarrow"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = 1.0 - 2.0*(fragCoord.xy / iResolution.xy);\n   \tfloat r = 8.0;\n\tvec2 rr = vec2(r,r);\n    vec2 rxy = rr * uv;\n    vec2 ex = fract(rxy);\n    vec2 mx = 1.0 - 2.0*iMouse.xy / iResolution.xy;\n    \n    vec2 fx = vec2(mx.x - uv.x, (-1.0 * (mx.y - uv.y)));\n        \n    float l = length(fx);\n    float p = 6.283 - atan(fx.y, fx.x);\n    mat2 rm = mat2(cos(p), sin(p), -sin(p), cos(p));\n    \n    vec2 efx = (rm * (1.0 - 2.0 * ex));\n    \n    vec2 lxy = vec2(0.1,0.45-0.3*(1.0-(1.5*efx.x))*smoothstep(0.5,0.51,efx.x));\n    vec2 hxy = vec2(0.9,0.55+0.3*(1.0-(1.5*efx.x))*smoothstep(0.5,0.51,efx.x));\n    \n    vec2 eex = smoothstep(lxy, lxy*1.1, efx) \n        \t - smoothstep(hxy, hxy*1.1, efx);\n    \n    float bx = eex.x * eex.y;\n\tfragColor = vec4(bx,bx,bx,1.0);\n}","name":"Image","description":"","type":"image"}]}