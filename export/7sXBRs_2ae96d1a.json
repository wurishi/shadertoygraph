{"ver":"0.1","info":{"id":"7sXBRs","date":"1645197536","viewed":82,"name":"Mandelbrot set trip","username":"janpalka4","description":"A simple mandelbrot zoom","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["mandelbrot","mandelbrotset","elephantvalley"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\nvec3 lerp(vec3 a, vec3 b, float t){\n    return a + t*(b-a);\n}\nfloat lerp(float a, float b,float t){\n    return a + t*(b-a);\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float s = 5.0 * pow(10.0,abs(cos(iTime*0.1))*-5.0);\n\n    float sc = iResolution.x/s;\n    float Imax = sqrt(2.0*sqrt(abs(1.0-sqrt(5.0*sc))))*16.0;\n    \n    vec3 colors[19];\n    colors[0] = vec3(106,52,3)/255.0;\n    colors[1] = vec3(66,30,15)/255.0;\n    colors[2] = vec3(25,7,26)/255.0;\n    colors[3] = vec3(9,1,47)/255.0;\n    colors[4] = vec3(4,4,73)/255.0;\n    colors[5] = vec3(0,7,100)/255.0;\n    colors[6] = vec3(12,44,138)/255.0;\n    colors[7] = vec3(24,82,147)/255.0;\n    colors[8] = vec3(57,125,209)/255.0;\n    colors[9] = vec3(134,181,229)/255.0;\n    colors[10] = vec3(211,236,248)/255.0;\n    colors[11] = vec3(241,233,191)/255.0;\n    colors[12] = vec3(248,201,95)/255.0;\n    colors[13] = vec3(255,170,0)/255.0;\n    colors[14] = vec3(204,128,0)/255.0;\n    colors[15] = vec3(153,87,0)/255.0;\n    colors[16] = vec3(106,52,3)/255.0;\n    colors[17] = vec3(66,30,15)/255.0;\n    colors[18] = vec3(25,7,26)/255.0;\n    \n    vec2 coord = (fragCoord - vec2(iResolution.x/2.0,iResolution.y/2.0))/vec2(iResolution.x,iResolution.y) * 1.0;\n    coord *= s;\n    coord += vec2(-0.7463, 0.1102);\n    //coord.x += 0.25;\n    float cx = 0.0;\n    float cy = 0.0;\n    float Zn = 0.0;\n    float i = 0.0;\n    do{\n        highp float pomX = cx*cx - cy*cy + coord.x;\n        highp float pomY = 2.0*cx*cy + coord.y;\n        cx = pomX;\n        cy = pomY;\n        Zn = abs(cx*cx + cy*cy);\n        i += 1.0;\n    }while(Zn<4.0 && i <= Imax);\n    \n    \n    float t = (Zn-4.0)/4.0;\n    vec3 col = vec3(0.0);\n    if(i < Imax){\n        float logZn = log(Zn) / 2.0;\n        float nu = log(logZn/log(2.0))/log(2.0);\n        i = i + 1.0 - nu;\n        t = fract(i);\n    \n        int index = int(t*2.0);\n        float lt = t*2.0 - float(index);\n        i = float(i - 18.0 * float(int(i/18.0)));\n        col = lerp(colors[int(floor(i))],colors[int(floor(i))+1],t);\n        //col = colors[int(floor(i))];\n    }\n    else{\n        col = vec3(0.0);\n    }\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}