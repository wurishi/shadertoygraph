{"ver":"0.1","info":{"id":"McdBz4","date":"1732799183","viewed":208,"name":"The Occultist","username":"wyatt","description":"septagram","likes":17,"published":3,"flags":32,"usePreview":0,"tags":["septagram"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sXGR8","filepath":"/media/previz/buffer02.png","previewfilepath":"/media/previz/buffer02.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec4 q (vec2 U) {\n    \n    vec4 Q = .17*dot(A(U),vec4(7,10,35,50))*vec4(1);\n    \n    Q += .5*exp(-.01*U.x);\n    Q += .5*exp(-.01*U.y);\n    Q += .5*exp(-.01*(R.x-U.x));\n    Q += .5*exp(-.01*(R.y-U.y));\n    Q += .7*exp(-.2*U.x);\n    Q += .7*exp(-.2*U.y);\n    Q += .7*exp(-.2*(R.x-U.x));\n    Q += .7*exp(-.2*(R.y-U.y));\n    return min(Q,1.4);\n}\nMain {\n    \n    \n    \n    float f = 0.;\n    for (int x = -4; x <= 4; x++)\n    for (int y = -4; y <= 4; y++) {\n        vec2 u = .5*vec2(x,y);\n        float k = pow(hash(vec4(U+u,U+u)).x,3.-2.*q(U+u).x);\n        if (k>.97)\n        f += exp(-dot(u,u));\n    \n    }\n\n    Q = vec4(4,3,2,1)*.25-(.1+.2*q(U))*vec4(f);\n\n    Q *= 1.-.4*exp(-.01*U.x);\n    Q *= 1.-.4*exp(-.01*U.y);\n    Q *= 1.-.4*exp(-.01*(R.x-U.x));\n    Q *= 1.-.4*exp(-.01*(R.y-U.y));\n    Q *= 1.-.4*exp(-.2*U.x);\n    Q *= 1.-.4*exp(-.2*U.y);\n    Q *= 1.-.4*exp(-.2*(R.x-U.x));\n    Q *= 1.-.4*exp(-.2*(R.y-U.y));\n\n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"#define Main void mainImage(out vec4 Q, in vec2 U)\n#define R iResolution.xy\n#define A(U) texture(iChannel0,(U)/R)\n#define B(U) texture(iChannel1,(U)/R)\nfloat ln (vec2 u, vec2 a, vec2 b) {\n\n    return length(u-a-(b-a)*clamp(dot(u-a,b-a)/dot(b-a,b-a),0.,1.));\n\n}\n#define pi 3.14159265897\nvec4 hash(vec4 p4)\n{\n    p4 = fract(p4  * vec4(.1031, .1030, .0973, .1099));\n    p4 += dot(p4, p4.wzxy+33.33);\n    return fract((p4.xxyz+p4.yzzw)*p4.zywx);\n}\n#define s vec4(1,5,15,25)","name":"Common","description":"","type":"common"},{"inputs":[],"outputs":[{"id":"4dXGR8","channel":0}],"code":"Main {\n    float d = 1e9;\n    float da = .9*sin(.5*iTime);\n    U = 2.*(U-.5*R)/R.y;\n    for (float i = 0.; i < 7.; i++) {\n        {\n            float a = mod(i*2.,7.)*2.*pi/7.;\n            vec2 u = vec2(cos(-da+a),sin(-da+a));\n            float b = mod((i+1.)*2.,7.)*2.*pi/7.;\n            vec2 v = vec2(cos(b),sin(b));\n            d = min(d,max(ln(U,u,v),-abs(d)+.05));\n        }\n        {\n            float a = mod(i*3.,7.)*2.*pi/7.;\n            vec2 u = vec2(cos(da+a),sin(da+a));\n            float b = mod((i+1.)*3.,7.)*2.*pi/7.;\n            vec2 v = vec2(cos(b),sin(b));\n            d = min(d,max(ln(U,u,v),-abs(d)+.05));\n        }\n    }\n    Q = vec4(1)*exp(-250.*d);\n}","name":"Buffer A","description":"","type":"buffer"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"XsXGR8","channel":0}],"code":"Main {\n    Q = vec4(0);\n    for (float i = - 80.; i <= 80.; i++) {\n    \n        Q += A(U+vec2(2.5*i,0))*exp(-0.5*i*i/s/s)*inversesqrt(2.*pi*s*s);\n    \n    }\n\n}","name":"Buffer B","description":"","type":"buffer"},{"inputs":[{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4sXGR8","channel":0}],"code":"Main {\n    Q = vec4(0);\n    for (float i = - 80.; i <= 80.; i++) {\n    \n        Q += A(U+vec2(0,2.5*i))*exp(-0.5*i*i/s/s)*inversesqrt(2.*pi*s*s);\n    \n    }\n\n}","name":"Buffer C","description":"","type":"buffer"}]}