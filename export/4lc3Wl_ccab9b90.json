{"ver":"0.1","info":{"id":"4lc3Wl","date":"1472235046","viewed":266,"name":"Sierpinski - line","username":"hcf","description":"2d sierpinski, ","likes":8,"published":1,"flags":0,"usePreview":0,"tags":["2d","fractal","sierpinski"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define time iTime\n\nvec2 va = vec2(0.,.9);\nvec2 vb = vec2(-1.,-.9);\nvec2 vc = vec2(1.,-.9);\n\nfloat dSegment(vec2 p,vec2 a,vec2 b)\n{\n\tvec2 vc = p-a;\n    vec2 vb = b-a;\n    \n    vb = vb*(clamp(dot(vc,vb)/dot(vb,vb),0.,1.));\n    vec2 va = vc-vb;\n    return length(va);\n}\n\nfloat dTriangle(vec2 p,vec2 a,vec2 b,vec2 c)\n{\n\tfloat d = min(dSegment(p,a,b),dSegment(p,a,c));\n    d = min(d,dSegment(p,b,c));\n    return d;\n}\n\nfloat map(vec2 p)\n{\n    float d = 0.;\n    d = dTriangle(p,va,vb,vc);\n    vec2 na,nb,nc;\n    float count = floor(time/1.);\n    count = abs(mod(count,14.)-7.);\n    for(float i = 0.;i < 7.;i++)\n    {\n        if(i >= count) break;\n    \tfloat l = length(va-p);\n        na = va; nb = va+(vb-va)/2.; nc = va + (vc-va)/2.;\n        float t = length(vb-p);\n        if(t<l) {nb = vb;l = t; na = vb+(va-vb)/2.; nc = vb + (vc-vb)/2.;}\n        t = length(vc-p);\n        if(t<l){nc = vc;l = t; na = vc+(va-vc)/2.;nb = vc+(vb-vc)/2.;}\n        \n        d = min(d,dTriangle(p,na,nb,nc));\n        va = na; vb = nb; vc = nc;\n    }\n    return d;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = (2.*fragCoord.xy - iResolution.xy) / iResolution.y;\n    vec3 col = vec3(0.,1.,0.);\n    float d = map(uv);\n    col *= exp(-d*100.);\n\tfragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}