{"ver":"0.1","info":{"id":"XlGSz3","date":"1485227180","viewed":96,"name":"Variable Checkerboard","username":"full_tilt","description":"checkerboard with variable rows and columns","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["procedural"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XdfGRn","filepath":"/media/a/e6e5631ce1237ae4c05b3563eda686400a401df4548d0f9fad40ecac1659c46c.jpg","previewfilepath":"/media/ap/e6e5631ce1237ae4c05b3563eda686400a401df4548d0f9fad40ecac1659c46c.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsfGRn","filepath":"/media/a/1f7dca9c22f324751f2a5a59c9b181dfe3b5564a04b724c657732d0bf09c99db.jpg","previewfilepath":"/media/ap/1f7dca9c22f324751f2a5a59c9b181dfe3b5564a04b724c657732d0bf09c99db.jpg","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"int rows = 4;\nint cols = 4;\n\nvec3 boxColor1 = vec3(1.0, 1.0, 1.0);\nvec3 boxColor2 = vec3(0.0, 0.0, 0.0);\n\nbool useTextures = false;\n\n/*\n\tBased off of finding an array's index with a known x and y. \n\tMaps uv.x and uv.y to integers between our set row/columns.\n\tThen it colors the pixel based on whether the sum of those two is even or odd.\n*/\n\nint mapTo(float value, int map);\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    vec3 tex1 = texture(iChannel0, uv).rgb;\n    vec3 tex2 = texture(iChannel1, uv).rgb;\n    \n    // Lose precision after multiplying\n    int x = mapTo(uv.x, rows);\n    int y = mapTo(uv.y, cols);\n    int sum = x + y;\n       \n    // Is our sum even or odd?\n    vec3 chosenColor;\n   \tif (mod(float(sum), 2.0) == 0.0)\n    {\n        // If even, choose our first color\n        if (useTextures)\n\t\t\tchosenColor = tex1;\n        else\n            chosenColor = boxColor1;\n    }\n    else\n    {\n        // If odd, chose our second color\n\t\tif (useTextures)\n            chosenColor = tex2;\n        else\n            chosenColor = boxColor2;\n    }\n    \n    fragColor = vec4(chosenColor, 1.0);\n    \n}\n\n// map value from 0-1 to 0-map\nint mapTo(float value, int map)\n{\n    return int(float(map) * value);\n}","name":"Image","description":"","type":"image"}]}