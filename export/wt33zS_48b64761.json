{"ver":"0.1","info":{"id":"wt33zS","date":"1578985630","viewed":156,"name":"automata_3 (langton loop)","username":"balkhan","description":"This is an implementation of langton loops, to zoom out, use the define ZOOM_FACTOR, It goes min to 1\n\nhttp://diga.me.uk/LangtonLoops.html\n\n","likes":4,"published":1,"flags":32,"usePreview":0,"tags":["automata","replication","langtonloop","selfreplication"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"nearest","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define S3(A) vec3(sin(A+0.00),sin(A+1.04),sin(A+2.08))\n\n#define ZOOM_FACTOR 10.\n#define Z 1./(ZOOM_FACTOR)\n\nvoid mainImage(out vec4 O, in vec2 u)\n{\n\tO = (t0(Z*u/R).xxxx);\n    O.xyz = S3(O.x*8.); // alternate coloring\n}\n","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"nearest","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"\n#define K vec2\n#define V vec4\n\nvoid  rotate(inout vec4 p)\n{\n    p = p.wxyz;\n    // p.abcd, p.dabc p.cdab p.bcda p.abcd\n    // it works\n}\n\nfloat rule_state_0(K u, float curr)\n{\n    float next_state = curr;\n    \n    float n,e,s,w;\n    \n    n = t0((u+K(+0.0, +1.0))/R).x;\n    e = t0((u+K(+1.0, +0.0))/R).x;\n    s = t0((u+K(+0.0, -1.0))/R).x;\n    w = t0((u+K(-1.0, +0.0))/R).x;\n    \n    vec4 neigh = vec4(n,e,s,w);\n    for(float k = .0; k < 4.; k++)\n    {\n    if (\n    V(0.,0.,0.,0.) == neigh ||\n\tV(0.,0.,0.,2.) == neigh ||\n\tV(0.,0.,0.,3.) == neigh ||\n\tV(0.,0.,0.,5.) == neigh ||\n\tV(0.,0.,2.,2.) == neigh ||\n\tV(0.,0.,2.,3.) == neigh ||\n\tV(0.,0.,3.,2.) == neigh ||\n\tV(0.,1.,1.,2.) == neigh ||\n\tV(0.,2.,0.,2.) == neigh ||\n\tV(0.,2.,0.,3.) == neigh ||\n\tV(0.,2.,0.,5.) == neigh ||\n\tV(0.,2.,2.,2.) == neigh \n    )\n    \t{\n\t        next_state = 0.;\n            break;\n        }\n    else if (\n    V(0.,0.,0.,7.) == neigh ||\n\tV(1.,2.,3.,2.) == neigh ||\n\tV(1.,2.,4.,2.) == neigh ||\n\tV(1.,2.,6.,2.) == neigh ||\n\tV(1.,2.,7.,2.) == neigh ||\n\tV(1.,2.,7.,5.) == neigh ||\n\tV(1.,4.,2.,2.) == neigh ||\n\tV(1.,4.,3.,2.) == neigh ||\n\tV(1.,4.,4.,2.) == neigh ||\n\tV(1.,4.,7.,2.) == neigh ||\n\tV(1.,6.,2.,5.) == neigh ||\n\tV(1.,7.,2.,2.) == neigh ||\n\tV(1.,7.,5.,2.) == neigh ||\n\tV(1.,7.,6.,2.) == neigh ||\n\tV(1.,7.,7.,2.) == neigh ||\n\tV(2.,5.,2.,7.) == neigh\n        )\n    \t{\n            next_state = 1.;\n            break;\n        }\n    else if (\n    V(0.,0.,1.,1.) == neigh ||\n\tV(0.,0.,1.,2.) == neigh ||\n\tV(0.,0.,1.,3.) == neigh ||\n\tV(0.,0.,2.,1.) == neigh ||\n\tV(0.,0.,2.,6.) == neigh ||\n\tV(0.,0.,2.,7.) == neigh ||\n\tV(0.,0.,6.,2.) == neigh ||\n\tV(0.,0.,7.,2.) == neigh ||\n\tV(0.,1.,0.,2.) == neigh ||\n\tV(0.,0.,0.,1.) == neigh ||\n\tV(0.,2.,3.,2.) == neigh ||\n\tV(0.,5.,2.,2.) == neigh\n        )\n    \t{\n\t\t\tnext_state = 2.;\n            break;\n        }\n    else if (\n    V(0.,0.,0.,6.) == neigh\n        )\n    \t{\n\t\t\tnext_state = 3.;\n            break;\n        }\n    else if (\n    V(0.,2.,1.,2.) == neigh ||\n\tV(0.,0.,5.,2.) == neigh ||\n\tV(1.,2.,5.,2.) == neigh ||\n\tV(1.,7.,2.,5.) == neigh\n        )\n    \t{\n\t\t\tnext_state = 5.;\n            break;\n        }\n        \n        \n\t    rotate(neigh);\n\t}\n    return next_state;\n}\n\nfloat rule_state_1(K u, float curr)\n{\n    float next_state = curr;\n    \n    float n,e,s,w;\n    \n    n = t0((u+K(+0.0, +1.0))/R).x;\n    e = t0((u+K(+1.0, +0.0))/R).x;\n    s = t0((u+K(+0.0, -1.0))/R).x;\n    w = t0((u+K(-1.0, +0.0))/R).x;\n    \n    vec4 neigh = vec4(n,e,s,w);\n    for(float k = .0; k < 4.; k++)\n    {\n    if (\n    V(0.,2.,7.,1.) == neigh\n    )\n    \t{\n\t        next_state = 0.;\n            break;\n        }\n    else if (\n    V(0.,0.,0.,1.) == neigh ||\n\tV(0.,0.,0.,6.) == neigh ||\n\tV(0.,0.,1.,1.) == neigh ||\n\tV(0.,0.,1.,2.) == neigh ||\n\tV(0.,0.,2.,1.) == neigh ||\n\tV(0.,0.,5.,1.) == neigh ||\n\tV(0.,1.,0.,1.) == neigh ||\n\tV(0.,1.,1.,1.) == neigh ||\n\tV(0.,2.,1.,2.) == neigh ||\n\tV(0.,2.,2.,1.) == neigh ||\n\tV(1.,1.,1.,2.) == neigh ||\n\tV(1.,1.,2.,2.) == neigh ||\n\tV(1.,1.,2.,5.) == neigh ||\n\tV(1.,1.,2.,6.) == neigh ||\n\tV(1.,2.,1.,2.) == neigh ||\n\tV(1.,2.,2.,2.) == neigh ||\n\tV(1.,2.,2.,5.) == neigh ||\n\tV(1.,2.,3.,2.) == neigh ||\n\tV(1.,2.,6.,2.) == neigh ||\n\tV(1.,3.,2.,2.) == neigh\n    )\n    {\n        next_state = 1.;\n        break;\n    }\n    else if (\n\tV(1.,1.,5.,2) == neigh\n    )\n    {\n        next_state = 2.;\n        break;\n    }\n    else if (\n    V(0.,2.,2.,6.) == neigh\n    )\n    {\n        next_state = 3.;\n        break;\n    }\n    else if (\n    V(1.,2.,4.,2.) == neigh ||\n\tV(1.,2.,2.,4.) == neigh ||\n\tV(1.,1.,2.,4.) == neigh ||\n\tV(0.,2.,2.,4.) == neigh ||\n\tV(0.,0.,2.,4.) == neigh ||\n\tV(0.,1.,2.,4.) == neigh ||\n\tV(0.,2.,4.,2.) == neigh ||\n\tV(0.,2.,6.,4.) == neigh ||\n\tV(2.,2.,2.,4.) == neigh ||\n\tV(2.,2.,4.,3.) == neigh ||\n\tV(2.,3.,2.,4.) == neigh\n    )\n    {\n        next_state = 4.;\n        break;\n    }\n    else if (\n    V(2.,4.,2.,5.) == neigh ||\n\tV(2.,5.,2.,7.) == neigh\n    )\n    {\n        next_state = 5.;\n        break;\n    }\n    else if (\n    V(0.,2.,0.,2.) == neigh ||\n\tV(0.,2.,6.,2.) == neigh\n    )\n    {\n        next_state = 6.;\n        break;\n    }\n    else if (\n    V(0.,0.,0.,7.) == neigh ||\n\tV(0.,0.,2.,7.) == neigh ||\n\tV(0.,1.,2.,7.) == neigh ||\n\tV(0.,2.,2.,7.) == neigh ||\n\tV(0.,2.,3.,2.) == neigh ||\n\tV(0.,2.,6.,7.) == neigh ||\n\tV(0.,2.,7.,2.) == neigh ||\n\tV(0.,5.,4.,2.) == neigh ||\n\tV(1.,1.,2.,7.) == neigh ||\n\tV(1.,2.,2.,7.) == neigh ||\n\tV(1.,2.,7.,2.) == neigh ||\n\tV(2.,2.,2.,7.) == neigh ||\n\tV(2.,2.,5.,4.) == neigh ||\n\tV(2.,3.,2.,7.) == neigh ||\n\tV(2.,4.,2.,6.) == neigh\n    )\n    {\n        next_state = 7.;\n        break;\n    }\n    rotate(neigh);\n\t}\n    return next_state;\n}\n\nfloat rule_state_2(K u, float curr)\n{\n    float next_state = curr;\n    \n    float n,e,s,w;\n    \n    n = t0((u+K(+0.0, +1.0))/R).x;\n    e = t0((u+K(+1.0, +0.0))/R).x;\n    s = t0((u+K(+0.0, -1.0))/R).x;\n    w = t0((u+K(-1.0, +0.0))/R).x;\n    \n    vec4 neigh = vec4(n,e,s,w);\n    for(float k = .0; k < 4.; k++)\n    {\n    if (\n    V(0.,2.,5.,2.) == neigh ||\n\tV(0.,0.,2.,5.) == neigh\n    )\n    \t{\n\t        next_state = 0.;\n            break;\n        }\n    else if (\n\tV(0.,0.,0.,7.) == neigh ||\n\tV(0.,2.,3.,2.) == neigh ||\n\tV(0.,5.,5.,2.) == neigh ||\n\tV(1.,1.,2.,6.) == neigh\n\t)\n    {\n        next_state = 1.;\n        break;\n    }\n    else if (\n\tV(0.,0.,0.,1.) == neigh ||\n\tV(0.,0.,0.,2.) == neigh ||\n\tV(0.,0.,0.,4.) == neigh ||\n\tV(0.,0.,1.,2.) == neigh ||\n\tV(0.,0.,1.,5.) == neigh ||\n\tV(0.,0.,2.,1.) == neigh ||\n\tV(0.,0.,2.,2.) == neigh ||\n\tV(0.,0.,2.,3.) == neigh ||\n\tV(0.,0.,2.,4.) == neigh ||\n\tV(0.,0.,2.,6.) == neigh ||\n\tV(0.,0.,2.,7.) == neigh ||\n\tV(0.,0.,5.,2.) == neigh ||\n\tV(0.,0.,7.,2.) == neigh ||\n\tV(0.,1.,0.,2.) == neigh ||\n\tV(0.,1.,1.,2.) == neigh ||\n\tV(0.,1.,2.,2.) == neigh ||\n\tV(0.,1.,4.,2.) == neigh ||\n\tV(0.,1.,7.,2.) == neigh ||\n\tV(0.,2.,0.,2.) == neigh ||\n\tV(0.,2.,0.,3.) == neigh ||\n\tV(0.,2.,0.,5.) == neigh ||\n\tV(0.,2.,1.,2.) == neigh ||\n\tV(0.,2.,1.,5.) == neigh ||\n\tV(0.,2.,2.,1.) == neigh ||\n\tV(0.,2.,2.,2.) == neigh ||\n\tV(0.,2.,2.,7.) == neigh ||\n\tV(0.,2.,4.,2.) == neigh ||\n\tV(0.,2.,4.,5.) == neigh ||\n\tV(0.,2.,5.,5.) == neigh ||\n\tV(0.,2.,6.,2.) == neigh ||\n\tV(0.,2.,7.,2.) == neigh ||\n\tV(0.,3.,1.,2.) == neigh ||\n\tV(0.,3.,4.,2.) == neigh ||\n\tV(0.,4.,2.,2.) == neigh ||\n\tV(0.,5.,1.,2.) == neigh ||\n\tV(0.,5.,2.,1.) == neigh ||\n\tV(0.,5.,2.,2.) == neigh ||\n\tV(0.,6.,2.,2.) == neigh ||\n\tV(0.,6.,7.,2.) == neigh ||\n\tV(0.,7.,1.,2.) == neigh ||\n\tV(0.,7.,2.,2.) == neigh ||\n\tV(0.,7.,4.,2.) == neigh ||\n\tV(0.,7.,7.,2.) == neigh ||\n\tV(1.,1.,2.,2.) == neigh ||\n\tV(1.,2.,2.,2.) == neigh ||\n\tV(1.,2.,2.,4.) == neigh ||\n\tV(1.,2.,2.,6.) == neigh ||\n\tV(1.,2.,2.,7.) == neigh ||\n\tV(1.,4.,2.,2.) == neigh ||\n\tV(1.,5.,2.,2.) == neigh ||\n\tV(1.,6.,2.,2.) == neigh ||\n\tV(1.,7.,2.,2.) == neigh ||\n\tV(2.,2.,2.,7.) == neigh ||\n\tV(2.,2.,4.,4.) == neigh ||\n\tV(2.,2.,4.,6.) == neigh ||\n\tV(2.,2.,7.,6.) == neigh ||\n\tV(2.,2.,7.,7.) == neigh\n    )\n    {\n        next_state = 2.;\n        break;\n    }\n    else if (\n    V(0.,0.,4.,2.) == neigh ||\n\tV(0.,2.,0.,7.) == neigh\n    )\n    {\n        next_state = 3.;\n        break;\n    }\n    else if (\n\tV(0.,0.,5.,7.) == neigh ||\n\tV(0.,5.,7.,2.) == neigh\n    )\n    {\n        next_state = 5.;\n        break;\n    }\n    else if (\n\tV(0.,0.,3.,2.) == neigh ||\n\tV(0.,3.,2.,1.) == neigh ||\n\tV(0.,3.,2.,2.) == neigh\n    )\n    {\n        next_state = 6.;\n        break;\n    }\n    else if (\n\tV(0.,0.,5.,1.) == neigh\n    )\n    {\n        next_state = 7.;\n        break;\n    }\n    rotate(neigh);\n\t}\n    return next_state;\n}\n\nfloat rule_state_3(K u, float curr)\n{\n    float next_state = curr;\n    \n    float n,e,s,w;\n    \n    n = t0((u+K(+0.0, +1.0))/R).x;\n    e = t0((u+K(+1.0, +0.0))/R).x;\n    s = t0((u+K(+0.0, -1.0))/R).x;\n    w = t0((u+K(-1.0, +0.0))/R).x;\n    \n    vec4 neigh = vec4(n,e,s,w);\n    for(float k = .0; k < 4.; k++)\n    {\n    if (\n    V(0.,1.,2.,2.) == neigh\n    )\n    \t{\n\t        next_state = 0.;\n            break;\n        }\n    else if (\n\tV(0.,0.,0.,4.) == neigh ||\n\tV(0.,0.,4.,2.) == neigh ||\n\tV(0.,1.,0.,2.) == neigh ||\n\tV(0.,2.,5.,1.) == neigh\n\t)\n    {\n        next_state = 1.;\n        break;\n    }\n    else if (\n\tV(0.,0.,0.,2.) == neigh ||\n\tV(0.,0.,6.,2.) == neigh\n    )\n    {\n        next_state = 2.;\n        break;\n    }\n    else if (\n    V(0.,0.,0.,1.) == neigh ||\n\tV(0.,0.,1.,2.) == neigh\n    )\n    {\n        next_state = 3.;\n        break;\n    }\n    else if (\n\tV(0.,0.,0.,7.) == neigh\n    )\n    {\n        next_state = 6.;\n        break;\n    }\n    rotate(neigh);\n\t}\n    return next_state;\n}\n\nfloat rule_state_4(K u, float curr)\n{\n    float next_state = curr;\n    \n    float n,e,s,w;\n    \n    n = t0((u+K(+0.0, +1.0))/R).x;\n    e = t0((u+K(+1.0, +0.0))/R).x;\n    s = t0((u+K(+0.0, -1.0))/R).x;\n    w = t0((u+K(-1.0, +0.0))/R).x;\n    \n    vec4 neigh = vec4(n,e,s,w);\n    for(float k = .0; k < 4.; k++)\n    {\n    if (\n    V(0.,1.,1.,2.) == neigh ||\n\tV(0.,1.,2.,2.) == neigh ||\n\tV(0.,1.,2.,5.) == neigh ||\n\tV(0.,2.,1.,2.) == neigh ||\n\tV(0.,2.,5.,2.) == neigh\n    )\n    \t{\n\t        next_state = 0.;\n            break;\n        }\n    else if (\n\tV(0.,2.,2.,2.) == neigh ||\n\tV(0.,3.,2.,2.) == neigh\n\t)\n    {\n        next_state = 1.;\n        break;\n    }\n    else if (\n\tV(0.,2.,3.,2.) == neigh\n    )\n    {\n        next_state = 6.;\n        break;\n    }\n    rotate(neigh);\n\t}\n    return next_state;\n}\n\nfloat rule_state_5(K u, float curr)\n{\n    float next_state = curr;\n    \n    float n,e,s,w;\n    \n    n = t0((u+K(+0.0, +1.0))/R).x;\n    e = t0((u+K(+1.0, +0.0))/R).x;\n    s = t0((u+K(+0.0, -1.0))/R).x;\n    w = t0((u+K(-1.0, +0.0))/R).x;\n    \n    vec4 neigh = vec4(n,e,s,w);\n    for(float k = .0; k < 4.; k++)\n    {\n    if (\n    V(0.,0.,5.,2.) == neigh ||\n\tV(0.,2.,2.,2.) == neigh ||\n\tV(1.,2.,2.,2.) == neigh\n    )\n    \t{\n\t        next_state = 0.;\n            break;\n        }\n    else if (\n\tV(0.,0.,0.,2.) == neigh ||\n\tV(0.,0.,2.,3.) == neigh ||\n\tV(0.,0.,2.,7.) == neigh ||\n\tV(0.,2.,0.,2.) == neigh ||\n\tV(0.,2.,1.,2.) == neigh ||\n\tV(0.,2.,1.,5.) == neigh ||\n\tV(0.,2.,7.,2.) == neigh ||\n\tV(1.,2.,1.,2.) == neigh ||\n\tV(1.,2.,4.,2.) == neigh ||\n\tV(1.,2.,7.,2.) == neigh\n\t)\n    {\n        next_state = 2.;\n        break;\n    }\n    else if (\n\tV(0.,2.,2.,4.) == neigh\n    )\n    {\n        next_state = 4.;\n        break;\n    }\n    else if (\n    V(0.,0.,2.,1.) == neigh ||\n\tV(0.,0.,2.,2.) == neigh\n    )\n    {\n        next_state = 5.;\n        break;\n    }\n    rotate(neigh);\n\t}\n    return next_state;\n}\n\nfloat rule_state_6(K u, float curr)\n{\n    float next_state = curr;\n    \n    float n,e,s,w;\n    \n    n = t0((u+K(+0.0, +1.0))/R).x;\n    e = t0((u+K(+1.0, +0.0))/R).x;\n    s = t0((u+K(+0.0, -1.0))/R).x;\n    w = t0((u+K(-1.0, +0.0))/R).x;\n    \n    vec4 neigh = vec4(n,e,s,w);\n    for(float k = .0; k < 4.; k++)\n    {\n    if (\n    V(0.,2.,1.,2.) == neigh\n    )\n    {\n\t    next_state = 0.;\n        break;\n    }\n    else if (\n\tV(0.,0.,0.,1.) == neigh ||\n\tV(0.,0.,0.,2.) == neigh ||\n\tV(1.,2.,1.,3.) == neigh\n\t)\n    {\n        next_state = 1.;\n        break;\n    }\n    else if (\n\tV(1.,2.,2.,2.) == neigh ||\n\tV(1.,2.,1.,2.) == neigh\n    )\n    {\n        next_state = 5.;\n        break;\n    }\n    rotate(neigh);\n\t}\n    return next_state;\n}\n\nfloat rule_state_7(K u, float curr)\n{\n    float next_state = curr;\n    \n    float n,e,s,w;\n    \n    n = t0((u+K(+0.0, +1.0))/R).x;\n    e = t0((u+K(+1.0, +0.0))/R).x;\n    s = t0((u+K(+0.0, -1.0))/R).x;\n    w = t0((u+K(-1.0, +0.0))/R).x;\n    \n    vec4 neigh = vec4(n,e,s,w);\n    for(float k = .0; k < 4.; k++)\n    {\n    if (\n    V(0.,1.,1.,2.) == neigh ||\n\tV(0.,1.,2.,2.) == neigh ||\n\tV(0.,1.,2.,5.) == neigh ||\n\tV(0.,2.,1.,2.) == neigh ||\n\tV(0.,2.,7.,2.) == neigh\n    )\n    {\n\t    next_state = 0.;\n        break;\n    }\n    else if (\n\tV(0.,2.,2.,2.) == neigh ||\n\tV(0.,2.,2.,5.) == neigh ||\n\tV(0.,2.,3.,2.) == neigh\n\t)\n    {\n        next_state = 1.;\n        break;\n    }\n    else if (\n\tV(0.,2.,5.,2.) == neigh\n    )\n    {\n        next_state = 5.;\n        break;\n    }\n    else if (\n    V(0.,0.,0.,7.) == neigh\n    )\n    {\n        next_state = 7.;\n        break;\n    }\n    rotate(neigh);\n\t}\n    return next_state;\n}\n\nvoid update(vec2 u, inout vec4 o)\n{\n   switch(int(o.x)+0)\n    {\n        case 0 :\n        o.y = rule_state_0(u, o.x);\n        break;\n        case 1:\n        o.y = rule_state_1(u, o.x);\n        break;\n        case 2:\n        o.y = rule_state_2(u, o.x);\n        break;\n        case 3:\n        o.y = rule_state_3(u, o.x);\n        break;\n        case 4:\n        o.y = rule_state_4(u, o.x);\n        break;\n        case 5:\n        o.y = rule_state_5(u, o.x);\n        break;\n        case 6:\n        o.y = rule_state_6(u, o.x);\n        break;\n        case 7:\n        o.y = rule_state_7(u, o.x);\n        break;\n    }\n    o = o.yyyy;\n}\n/*\ninitial langon loop require width 14 height 10\n  2 2 2 2 2 2 2 2\n2 1 7 0 1 4 0 1 4 2\n2 0 2 2 2 2 2 2 0 2\n2 7 2         2 1 2\n2 1 2         2 1 2\n2 0 2         2 1 2\n2 7 2         2 1 2\n2 1 2 2 2 2 2 2 1 2 2 2 2 2\n2 0 7 1 0 7 1 0 7 1 1 1 1 1\n  2 2 2 2 2 2 2 2 2 2 2 2 2\n*/\n\nvoid init(vec2 u, inout V o)\n{\n    K iu = floor((u-.0*R));\n    if (\n        (iu.x == 3. && iu.y > 11.0 && iu.y < 20.)\n        ||\n        (iu.y == 20. && iu.x > 3.0 && iu.x < 12.)\n        ||\n        (iu.y == 11. && iu.x > 3.0 && iu.x < 17.)\n\t\t||\n        (iu.x == 12. && iu.y > 12.0 && iu.y < 20.)\n        ||\n        (iu.y == 13. && iu.x > 4.0 && iu.x < 11.)\n        ||\n        (iu.y == 13. && iu.x > 11.0 && iu.x < 17.)\n        ||\n        (iu.y == 18. && iu.x > 4.0 && iu.x < 11.)\n        ||\n        (iu.x == 5. && iu.y > 12.0 && iu.y < 18.)\n        ||\n        (iu.x == 10. && iu.y > 12.0 && iu.y < 18.)\n       )\n        o = V(2.);\n    else if (\n        (iu.y == 12. && iu.x > 11.0 && iu.x < 17.)\n        ||\n        (iu.x == 11. && iu.y > 12.0 && iu.y < 18.)\n        ||\n        (iu.y == 12. && iu.x == 9.)\n        ||\n        (iu.y == 12. && iu.x == 6.)\n        ||\n        (iu.y == 13. && iu.x == 4.)\n        ||\n        (iu.y == 16. && iu.x == 4.)\n        ||\n        (iu.y == 19. && iu.x == 4.)\n        ||\n        (iu.y == 19. && iu.x == 7.)\n        ||\n        (iu.y == 19. && iu.x == 10.)\n       )\n        o = V(1.);\n    else if (\n    \t(iu.y == 19. && iu.x == 8.)\n        ||\n        (iu.y == 19. && iu.x == 11.)\n    )\n\t\to = V(4.);\n    else if (\n        (iu.y == 12. && iu.x == 11.)\n        ||\n        (iu.y == 12. && iu.x == 8.)\n        ||\n        (iu.y == 12. && iu.x == 5.)\n        ||\n        (iu.y == 14. && iu.x == 4.)\n        ||\n        (iu.y == 17. && iu.x == 4.)\n        ||\n        (iu.y == 19. && iu.x == 5.)\n    )\n\t\to = V(7.);\n}\n\nvoid mainImage(out vec4 o, in vec2 u)\n{\n    o -= o;\n    o = t0(u/R);\n\n    if (iFrame == 0)\n    {\n\t    init(u, o);\n       \treturn;\n    }\n    if(iFrame % 10 == 1)\n    update(u, o);\n}\n","name":"Buffer A","description":"","type":"buffer"},{"inputs":[],"outputs":[],"code":"\n#define R iResolution.xy\n#define t0(u) texture(iChannel0, u)\n\n/*\n# State    Function\n# ------------------------loop function------\n#   0      background\n#   1      sheath\n#   2      control\n#   3      construction\n#   4      destruction\n# ----------------------------programmable---\n#   5      NOP (no operation)\n#   6      advance\n#   7      turn left\n#   8      turn right\n#   9      write an empty space\n*/\n\n/*\ntemplate function for rules\nfloat rule_state_(K u, float curr)\n{\n    float next_state = curr;\n    \n    float n,e,s,w;\n    \n    n = t0((u+(+0.0, +1.0))/R).x;\n    e = t0((u+K(-1.0, +0.0))/R).x;\n    s = t0((u+K(+0.0, -1.0))/R).x;\n    w = t0((u+K(+1.0, +0.0))/R).x;\n    \n    vec4 neigh = vec4(n,e,s,w);\n    for(float k = .0; k < 4.; k++)\n    {\n    if (\n    \n    )\n    \t{\n\t        next_state = 0.;\n            break;\n        }\n    else if (\n\t\n\t)\n    {\n        next_state = 1.;\n        break;\n    }\n    else if (\n\t\n    )\n    {\n        next_state = 2.;\n        break;\n    }\n    else if (\n    \n    )\n    {\n        next_state = 3.;\n        break;\n    }\n    else if (\n\t\n    )\n    {\n        next_state = 4.;\n        break;\n    }\n    else if (\n\t\n    )\n    {\n        next_state = 5.;\n        break;\n    }\n    else if (\n\t\n    )\n    {\n        next_state = 6.;\n        break;\n    }\n    else if (\n\t\n    )\n    {\n        next_state = 7.;\n        break;\n    }\n    rotate(neigh);\n\t}\n    return next_state;\n}\n*/\n\n","name":"Common","description":"","type":"common"}]}