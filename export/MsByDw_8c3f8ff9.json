{"ver":"0.1","info":{"id":"MsByDw","date":"1492320158","viewed":768,"name":"music lightsaber","username":"polyrhythm","description":"music visualizer that looks like the world's most squiggly lightsaber","likes":16,"published":1,"flags":64,"usePreview":0,"tags":["visualizer","audioreactive"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dB3Dd","filepath":"https://soundcloud.com/clammyclams/kissing-on-my-syrup-squadda-b","previewfilepath":"https://soundcloud.com/clammyclams/kissing-on-my-syrup-squadda-b","type":"musicstream","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":0}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// #define ONE_SABER\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    uv = -1.0 + 2.0 * uv;\n    uv.x *= iResolution.x / iResolution.y;\n    float freqs[4];\n    freqs[0] = texture( iChannel0, vec2( 0.01, 0.25 ) ).x;\n\tfreqs[1] = texture( iChannel0, vec2( 0.07, 0.25 ) ).x;\n\tfreqs[2] = texture( iChannel0, vec2( 0.15, 0.25 ) ).x;\n\tfreqs[3] = texture( iChannel0, vec2( 0.30, 0.25 ) ).x;\n    \n    uv.x += sin(uv.y * uv.y + iTime * 1.5) * freqs[3];\n    \n    float d = 0.0;\n    \n    #ifdef ONE_SABER\n    d += abs(10.0 / uv.x) * freqs[3] * 0.01;\n    #else\n    for (float i = 0.0; i < 13.0; i++) {\n        uv.x += sin(i * cos(iTime * 0.1) * 20.0 + iTime * 0.5 + uv.y * 4.0) * freqs[1] * 0.1;\n    \td += abs(1.0 / uv.x) * freqs[3] * 0.01;  \n    }\n    #endif\n    \n    vec3 colour = vec3(freqs[0], freqs[1], freqs[2] * 2.0) * d;\n    if (length(vec4(freqs[0], freqs[1], freqs[2], freqs[3])) > 1.5) {\n     \tcolour = 1.0 - colour;   \n    }\n    \n\tfragColor = vec4(colour, 1.0);\n}","name":"Image","description":"","type":"image"}]}