{"ver":"0.1","info":{"id":"tdBXDt","date":"1555299625","viewed":197,"name":"water_texture","username":"lqt0223","description":"water_texture","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["texture"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#ifdef GL_ES\nprecision mediump float;\n#endif\n\nuniform vec2 u_resolution;\nuniform vec2 u_mouse;\n\nfloat sdcircle(vec2 st,vec2 origin,float r){\n  return length(st-origin)-r;\n}\n\nvec2 floor2d(vec2 st){\n  return vec2(floor(st.x),floor(st.y));\n}\n\nvec2 fract2d(vec2 st){\n  return vec2(fract(st.x),fract(st.y));\n}\n\nvec2 random2d(vec2 st){\n  float r1=fract(sin(dot(st.xy,vec2(127.9898,311.233)))*43758.5453123);\n  float r2=fract(sin(dot(st.xy,vec2(269.5,183.3)))*43758.5453123);\n  return 2.*vec2(r1,r2)-1.;\n}\n\nfloat noise(vec2 st){\n  vec2 i=floor2d(st);\n  vec2 f=fract2d(st);\n  \n  vec2 a=random2d(i);\n  vec2 b=random2d(i+vec2(1,0));\n  vec2 c=random2d(i+vec2(0,1));\n  vec2 d=random2d(i+vec2(1,1));\n  \n  vec2 u=smoothstep(0.,1.,f);\n  \n  float e=mix(dot(a,f),dot(b,f-vec2(1,0)),u.x);\n  float g=mix(dot(c,f-vec2(0,1)),dot(d,f-vec2(1,1)),u.x);\n  float h=mix(e,g,u.y);\n  return h;\n}\n\nfloat fbm(vec2 st){\n  const int OCTAVES=10;\n  // Initial values\n  float value=0.;\n  float amplitude=.5;\n  //\n  // Loop of octaves\n  for(int i=0;i<OCTAVES;i++){\n    value+=amplitude*abs(noise(st));\n    st*=2.;\n    amplitude*=.5;\n  }\n  return value;\n}\n\nvec2 distort(vec2 uv){\n  return uv+fbm(uv+vec2(.24,.025)+iTime*.125);\n}\n\nvec2 distort2(vec2 uv){\n  return uv+fbm(uv+vec2(.12,.52)+iTime*.324);\n}\n\nvec4 wave(vec2 uv){\n  uv=uv*2.;\n  vec2 p=distort(uv);\n  p=distort(p);\n  float c=fbm(p);\n  c=c*4.-.2;\n  vec4 color=vec4(vec3(c),1.);\n  color=color*vec4(1.,.5,.3,1.);\n  color=1.-color;\n  color.w=1.;\n  return color;\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord){\n  vec2 uv=fragCoord/iResolution.xy-.5;\n  uv=uv*1.;\n  vec4 wave1=wave(uv);\n  vec4 wave2=wave(vec2(uv.x,-uv.y)+1.5);\n  vec4 wave3=wave(vec2(-uv.x,-uv.y)+3.);\n  vec4 wave4=wave(vec2(-uv.x,-uv.y)+4.5);\n  fragColor=.25*wave1+.25*wave2+.25*wave3+.25*wave4;\n}\n","name":"Image","description":"","type":"image"}]}