{"ver":"0.1","info":{"id":"sd2BDz","date":"1646059550","viewed":134,"name":"Flag with a Video","username":"lwswl","description":"Flag with video","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["video","distortion","flag"],"hasliked":0,"parentid":"fs2fWR","parentname":"My Flag"},"renderpass":[{"inputs":[{"id":"4sX3Rn","filepath":"/media/a/c3a071ecf273428bc72fc72b2dd972671de8da420a2d4f917b75d20e1c24b34c.ogv","previewfilepath":"/media/ap/c3a071ecf273428bc72fc72b2dd972671de8da420a2d4f917b75d20e1c24b34c.ogv","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.14159267543\n\nfloat star(vec2 a){\n\n\n    float f=0.;\n    //a=(a-0.5)*3.0;\n    a.x=1.-a.x;\n    for (float i=0.;i<5.;i++){\n        if(a.x*sin(i*0.4*PI)+a.y*cos(i*0.4*PI)>-0.5)f+=0.1;\n    }\n    return float(f>0.3);\n     \n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 U=normalize(iResolution.xy);\n    //#define fragCoord round(fragCoord*0.1)*10.\n    fragColor.rgb=vec3(0);\n    for(int ju=0;ju<4;ju++){\n        vec3 col;\n        \n        vec2 fc=fragCoord+0.5*vec2(ju%2,ju/2);\n        vec2 uv = 1.-fc/iResolution.xy;\n        float time=iTime*0.23;\n        float f=uv.x*sin(1.)*cos((time+uv.x*0.5)*32.0)*0.5+0.5;\n        float c=uv.y*6.2+f*0.5;\n        col.rgb=texture(iChannel0,U*vec2(-0.3,0.4)+1.7*U*vec2(1.-uv.x,1.-c*0.2)).rgb;\n        col.rgb*=vec3(-f*0.5+1.0);\n        //col.rgb*=vec3(1.0,0.90,0.85);\n        \n        \n        \n        float bumpah=sin(c/0.02)*sin(uv.x/0.002)*0.01;\n        c+=bumpah*0.3;\n        bumpah*=-1.;\n        \n        if(c<1.5)col.rgb=vec3(0);\n        if(c>5.5)col.rgb=vec3(0);\n        if(0.3*bumpah-0.2+0.2*sin(uv.y*3.)+uv.x*6.2+1.*0.5>5.5)col.rgb=vec3(0);\n        if(0.3*bumpah+uv.x*6.2+1.*0.5<1.5)col.rgb=vec3(0);\n        \n        \n        uv.x-=0.00164;\n        float rf=round(uv.x*10.)*0.1*sin(1.)*cos((time+round(uv.x*10.)*0.1*0.5)*32.0)*0.5+0.5;\n        float rc=uv.y*6.2+rf*0.5;\n        float m=-(0.4/sqrt(rf))*0.1+1.1;\n        uv.x=(uv.x-0.82)*m+0.82;\n        //uv.y=(uv.y-0.35)*m+0.35;\n        float g=m*sin(uv.x*100.+0.3);\n        //rc=uv.y*6.2+1.*0.5;\n        uv.x+=0.00164;\n        if(uv.x>0.806&&uv.x<0.85&&rc+0.04*g>1.3){\n            float og=g;\n            g*=0.4+sin(uv.x*1000.+3.0*cos(uv.y*10.+10.*sin(uv.x*8.)))*0.4;\n            col.rgb=vec3(g*0.7+0.7,g*0.4+0.3,g*0.2+0.2);\n            vec2 bpos=uv*vec2(1.3,2)-vec2(og,1);\n            float fake_spec=0.04/dot(bpos,bpos);\n            fake_spec=3.*fake_spec*fake_spec+2.*fake_spec*fake_spec*fake_spec;\n            col.rgb+=vec3(fake_spec)*0.1;\n            col.rgb*=0.5;\n        }else if (col.rgb!=vec3(0))col.rgb+=vec3(bumpah);\n        fragColor.rgb+=col*(1./4.);\n        \n        \n    }\n    \n    //fragColor.rgb+=vec3(star(1.-fragCoord/iResolution.xy));\n    \n}\n","name":"Image","description":"","type":"image"}]}