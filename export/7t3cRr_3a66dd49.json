{"ver":"0.1","info":{"id":"7t3cRr","date":"1659098103","viewed":133,"name":"gem_220725","username":"tk87","description":"This is a fractal using a sphere.","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["raymarching","fractal","golf"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"/*\n    This is a rewrite of the following tweet in ShaderToy format.\n    https://twitter.com/tk87__/status/1551506550262755328\n*/\n\nvec3 hsv(float h, float s, float v){\n    vec4 t = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n    vec3 p = abs(fract(vec3(h) + t.xyz) * 6.0 - vec3(t.w));\n    return v * mix(vec3(t.x), clamp(p - vec3(t.x), 0.0, 1.0), s);\n}\nmat2 rotate2D(float r){\n    return mat2(cos(r), sin(r), -sin(r), cos(r));\n}\n\nvoid mainImage( out vec4 O, in vec2 FC ){\n    vec2 r = iResolution.xy;\n    float t = iTime;\n    \n    for(float d,i,a;i++<50.;){\n        vec3 p=normalize(vec3((FC.xy*2.-r.xy)/r.x,1.))*(a+=d),q;\n        p.z-=3.2;\n        for(int i=0;i++<4;){\n            p=abs(p)-.2;\n            p.yz*=rotate2D(1.);\n            p.xz*=rotate2D(.5);\n        }\n        q=mod(p,1.)-.5;\n        d=abs(length(q)-.75);\n        if(d<1e-3)O.rgb+=hsv(sin(q.z*8.+t),.7,.01/abs(sin(p.z+t))+.2),d+=3e-3;\n    }\n    O = vec4(O.rgb,1.0);\n}","name":"Image","description":"","type":"image"}]}