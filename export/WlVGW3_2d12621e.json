{"ver":"0.1","info":{"id":"WlVGW3","date":"1580066018","viewed":251,"name":"feelings","username":"nabr","description":"just a quick sketch.","likes":14,"published":1,"flags":8,"usePreview":0,"tags":["sound","distortion"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGzr","filepath":"/media/a/08b42b43ae9d3c0605da11d0eac86618ea888e62cdd9518ee8b9097488b31560.png","previewfilepath":"/media/ap/08b42b43ae9d3c0605da11d0eac86618ea888e62cdd9518ee8b9097488b31560.png","type":"texture","channel":3,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// -----------------------------------------------------\n// feelings by nabr\n// https://www.shadertoy.com/view/WlVGW3\n// License Creative Commons Attribution-NonCommercial 4.0 International (CC BY-NC 4.0)\n// https://creativecommons.org/licenses/by-nc/4.0/\n// -----------------------------------------------------\n\n\n// https://www.shadertoy.com/view/MslGR8\n#define dither(_vP)(fract(vec3(dot(vec2(171,231),_vP))/vec3(103,71,97))/255.)\n// print chars by FabriceNeyret2\n#define char(_p,_C)(((_p.x<0.||_p.x>1.||_p.y<0.||_p.y>1.))?vec4(0,0,0,1e5):textureGrad(iChannel3,_p/16.+fract(vec2(_C,15-_C/16)/16.),dFdx(_p/16.),dFdy(_p/16.))).xyz\n\nvoid mainImage(out vec4 O,in vec2 U)\n{\n    vec2 R=iResolution.xy;\n    float t=iTime;\n    vec2 u=1.5*(U-.5*R)/min(R.x,R.y);\n    // text full album/vflipped feelings\n\tint ch[]=int[](102,117,108,108,32,97,108,98,117,109,\n\t\t\t\t\t32,150,149,149,156,153,158,151,131,32);//[32] simplifies loop\n    vec2 pt = vec2(1); vec2 tp =u;\n    for(int i=0;i<(ch.length()/2);++i){\n        pt.x+=char( 12.* vec2(tp.x,.65+tp.y),ch[i]).x;\n    \tpt.y+=char( 12.* vec2(.3+tp.x, tp.y*-1.+.3),ch[i+10]).x;\n        tp.x-=.052;\n    }\n    vec3 d=normalize(vec3(u,-1.25)); //ray dir\n    // -------- backdrop\n    vec3 sp=vec3(.05,.025,1) - d,//circel position\n         lds=normalize(vec3(1,.51,-.2)); //light\n    float sph=1.-dot(sp,12.*vec3(sp.x,sp.y,.001));//circel\n    // eyeballed normals, artistic, fix me in an other shader\n  \tvec3 sln=normalize(vec3(1e-3)*mat3(1,0,0,0,1,0,sph,sph,1)*d);\n    float l=2.*max(0.,dot(-lds, sln)); //calc light\n\tO=vec4(dither(U)+vec3(1,.25,.5)*l*pt.x,1);\n    // -------- album cover\n    if(abs(u.x)<.5&&abs(u.y)<.5)\n    {\n    vec3 sc=vec3(0,-.5,2), //just an other sphere\n\t\t cl=vec3(3,.5,5),\n         n=(-dot(-sc,d)-1.)*d, p;\n    for(float j=0.;j<6.;j++)//waves\n        p=10.*n+cos(p.z-p.y)*vec3(cos(j+p.x)+sin(t*j+p.y),sin(j-p.y)+cos(p.x),cos(t+p.z));\n    // asin() blend black, cos()dot waves color/position\n\tcl=asin(2.*d.y)-cos(cl+2.*t-dot(vec3(0,0,-2),p))*.5+.45;//*brigh+contrast\n    cl=vec3(.1,.23,.34)+cl;//blend\n    cl=.32*((cl.x+cl.y+cl.z)+cl);//black and white/grading\n    cl*=pt.y;//text\n\tcl.y-=1.109888;//grading\n    O=vec4(clamp(cl,0.,1.),1);//clamp avoid negative y.values, just to be nice\n    }\n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"// -----------------------------------------------------\n// feelings by nabr\n// https://www.shadertoy.com/view/WlVGW3\n// License Creative Commons Attribution-NonCommercial 4.0 International (CC BY-NC 4.0)\n// https://creativecommons.org/licenses/by-nc/4.0/\n// -----------------------------------------------------\n\n\nfloat synth(float rt,float tm)\n{\n    float s=0.;\n    float p=10.; \n\tif(mod(rt, 4.)>3.)p=22.5;\n    s=fract(-12.*rt)*mod(rt-fract(p*tm)*float(int(12.*rt)%8|1<<2),.5);\n    return s;\n}\n\nvec2 mainSound( in int samp,float t)\n{\n    // A 440 Hz wave that attenuates quickly overt time\n    // return vec2( sin(6.2831*440.0*time)*exp(-3.0*time) );\n    \n    if(t>11.){\n        float s=0.;\n        s=mod(t+sin(\n            fract(1.-t)==.5?22.:float[](62.,45.,44.,25.,90.)[int(2.*t)%5]*10.*t)\n               -length(cos(3.*t)),.5);\n        s*=(cos(.5*fract(t)+.2/fract(2.*t))+.5);\n        s*=exp(-.095*t);\n        if(t>12.)s+=.2*sin(440.*fract(t));\n        return vec2(s,.9*s);\n    }\n    vec2 mst=vec2(synth(t*1.0022,2.*t),\n                  synth(t*1.0023,1.8*t));\n    vec2 r=vec2(1);\n    float rand,t2,amp, ivR=1./1.5,sum = 0.;\n    //rev https://www.shadertoy.com/view/XldcRr\n    for(float _ii=0.;(_ii<=1.);_ii+=ivR){\n        rand=fract(120.*sin(_ii*1000.));t2=(ivR+_ii)+.25*rand;\n        amp=exp(-_ii*t2);\n        r+=amp*vec2(synth(t+1.*t2,sin(t)+5.*t),\n                    synth(t+1.*t2,sin(t)+5.*t));\n        sum+=amp;\n    }\n    r/=sum;\n    return.45*(mst*.5+vec2(.5*mst.x-r.x,.35*mst.y-r.y));\n}\n/*\n#define mainSound ( in int samp,float(int(t)>7)*.8*sin(440.*fract(t)))\\\n+(t>5.8?clamp(mod(t+sin(((fract(1.-t)==.5 )\\\n?22.:float[](62.,45.,44.,25.,90.)[int(2.*t)%5])*10.*t)-length(sin(.5*t)+cos(3.*t)),.5)\\\n*abs(1.-cos(.5*fract(t)+.1/fract(t))), -1., 1.):fract(-12.*t)\\\n*mod(t-fract(10.*t)*float(int(12.*t)%8|1<<2),.5))*exp(-.095 * t)*vec2\n\n==========================================\nplaying around with\ntechnique discovered by \nttg: https://www.shadertoy.com/view/ttG3Dy\n==========================================\n---------------- INTRO\n//synth\nfract(-12.*t)\n*mod(t-fract(10.*t)*float(int(12.*t)%8|1<<2)\n---------------- MAIN\n//drums\nabs(1.-cos(.5*fract(t)+.1/fract(t))\n//cutoff filter/whooble\nlength(sin(.5*t)+cos(3.*t)\n//distorted melody\n22.:float[](62.,45.,44.,25.,90.)[int(2.*t)%5]*10.\n//sub bass\nsin(440.*fract(t))\n*/\n ","name":"Sound","description":"","type":"sound"}]}