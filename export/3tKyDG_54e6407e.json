{"ver":"0.1","info":{"id":"3tKyDG","date":"1611682386","viewed":75,"name":"candlebrot-fractal","username":"Artemis152","description":"its the candlebrot hehe","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["fractal","pun"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define GRID 4.\n\nbool box(vec2 e, vec2 p)\n{\n    return (p.x < e.x && p.x > -e.x\n        && p.y < e.y && p.y > -e.y);\n}\nbool circle(float r, vec2 p)\n{\n    return (length(p) < r);\n}\n\nbool fire(vec2 p)\n{\n    p += vec2(0., -.22);\n    for(float i = 0.; i < 7.; i ++)\n    {\n        if(circle(.165*smoothstep(-1.0, 1.0,abs(cos(iTime))) - (.01*i*2.), p-vec2(0.,-i/35.)))\n            return true;\n    }\n    return false;\n}\n\nbool candle(vec2 p)\n{\n    return fire(p)\n        || box(vec2(.28, .25), p + vec2(0., 0.2))\n        || box(vec2(.1, .06), p + vec2(0., -0.1));\n}\nvec3 candle_c(vec2 p)\n{\n    if(fire(p))\n        return vec3(1., .3, 0.1);\n    if(box(vec2(.28, .25), p + vec2(0., 0.2)))\n        return vec3(1.);\n    if(box(vec2(.1, .06), p + vec2(0., -0.1)))\n        return vec3(.6,.7,.3);\n    return vec3(0.);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord)\n{\n    vec2 uv = (fragCoord/iResolution.xy)/vec2(.15, 1.);\n    vec2 gv = fract(GRID*uv)-.5;\n    \n    vec2 id = floor(GRID*uv);\n    bool alt = bool(mod(floor(id.x * GRID + id.y),3.));\n    \n    if(alt)\n        gv *= -1.;\n        \n    vec3 col = vec3(candle(gv));\n    col *= candle_c(gv);\n    //col = vec3(bool(alt.x)&&bool(alt.y));\n    \n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}