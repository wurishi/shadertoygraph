{"ver":"0.1","info":{"id":"ttf3zB","date":"1556722125","viewed":229,"name":"GameBoy Colors ","username":"Darkstack","description":"Test","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["pixel"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"Xdf3Rn","filepath":"/media/a/e81e818ac76a8983d746784b423178ee9f6cdcdf7f8e8d719341a6fe2d2ab303.webm","previewfilepath":"/media/ap/e81e818ac76a8983d746784b423178ee9f6cdcdf7f8e8d719341a6fe2d2ab303.webm","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//Test portage GLSL ES POCOF1 -> ShaderToy\n\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\n//#define DEBUG 1 \n\nuniform float time;\n//vec3 grey = vec3(0.5);\nvec3 grey = vec3(0.1,0.7,0.78);\nfloat g = 4.;\n\nvec3 bg(vec2 st) {\n\treturn vec3(texture(iChannel0, st).rgb);\n}\n\nvec3 bw(vec3 col){\n\t return vec3(col.r+col.g+col.b) /3.;\n}\n\nvec3 degrade(vec3 col){\n\tvec3 nc;\n\tif(col.r<0.4)\n\t  nc=vec3(0.);\n\t else if(col.r<.65)\n\t  nc= grey;\n\t else\n\t \tnc=vec3(1.);\n\n\treturn nc;\n}\n\nvec3 pixelate(vec2 uv){\n\t\tfloat dx= g/iResolution.x;\n\t\tfloat dy= g/iResolution.y;\n\t\tfloat x= dx*floor(uv.x/dx);\n\t\tfloat y= dy*floor(uv.y/dy);\n\n\t\tvec2 k = vec2(x,y);\n\t\t//vec2 p = cameraAddent + k * cameraOrientation;\n\t\treturn bg(k);\n\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv =fragCoord/iResolution.xy;\n\tvec3 col=pixelate(uv);\n    col = degrade(bw(col));\n#ifdef DEBUG\n    if(uv.x>0.33 && uv.x<0.66) col = bg(uv);\n    if(uv.x>0.66) col = bw(bg(uv));\n#endif\n    if(col==grey){\n        uv -= 0.5;\n        col.b = 1.0-length(uv.xy);\n    }\n\tfragColor =vec4(col,1.);\n}\n","name":"Image","description":"","type":"image"}]}