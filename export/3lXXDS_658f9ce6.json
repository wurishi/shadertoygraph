{"ver":"0.1","info":{"id":"3lXXDS","date":"1564007870","viewed":1017,"name":"hypno spiral tunnel","username":"anclin","description":"hypno spiral tunnel","likes":9,"published":1,"flags":0,"usePreview":0,"tags":["tunnel","spiral","hypno"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define e 2.71828\n#define E(x) pow(e,-x)\n#define E1(x) 1.-pow(e,-x)\n#define SS01(t, count) mod(ceil((t)/PI2), count) / (count-1.)\n#define SS(t, min, max, count) mix(min, max, SS01(t,count) )\n#define S(a,b,t)  mix(a, b, sin(t) * .5 + .5)\n#define C(a,b,t)  mix(a, b, cos(t) * .5 + .5)\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord-.5*iResolution.xy)/iResolution.y;\n    float t = iTime*2.;\n    \n    float l = length(uv);\n    float a = atan(uv.x,uv.y)/6.28+.5;\n\n    // rotate spiral\n    a += t*.5;\n    \n    // base shape\n    float sh = E(l); // shadow\n    float p = a + l*5.;\n    \n\t// zoom in/out\n    float t1 = t*.1;\n    float de = C(1.,.2,t1);\n    float wd = C(.1,5.,t1);\n\tfloat sp = 3.;\n    p = sp*a + (sh*wd) / (l*de);\n    \n    // AA\n    float pix = fwidth(p);\n    p = sin(p*PI*-2.)/PI/pix;\n    \n     // shadow\n    p *= pow(1.-sh,C(.5,3.,t1));\n\n    vec3 col = vec3(p);\n    \n    /*\n    float lw = .5/iResolution.y;\n    float h = step(abs(uv.y),lw);\n    float v = step(abs(uv.x),lw);\n\tcol = mix(col,vec3(h,0,0),h); // add horizontal line\n\tcol = mix(col,vec3(0,v,0),v); // add vertical line\n*/\n    \n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}