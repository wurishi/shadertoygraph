{"ver":"0.1","info":{"id":"NtXyDs","date":"1648899945","viewed":242,"name":"rk4 schrodinger","username":"Carandiru","description":"https://davidar.io/post/quantum-glsl \nthis is a (fork) of the above tutorial.\n~75s","likes":3,"published":3,"flags":32,"usePreview":0,"tags":["schrodinger"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4sXGR8","filepath":"/media/previz/buffer02.png","previewfilepath":"/media/previz/buffer02.png","type":"buffer","channel":2,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XdfGR8","filepath":"/media/previz/buffer03.png","previewfilepath":"/media/previz/buffer03.png","type":"buffer","channel":3,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// interesting, original source: https://davidar.io/post/quantum-glsl\n// this is a (fork) of the above tutorial.\n// ~75s\n\n#define hue2rgb(h) clamp(abs(mod(6.*(h)+vec3(0,4,2),6.)-3.)-1.,0.,1.) \n\n#define y(p) psi(p)\n\nvoid mainImage(out vec4 o, in vec2 p) {\n    vec2 c = y(p); \n    vec2 n = y(p + vec2(0,1)); \n    vec2 e = y(p + vec2(1,0)); \n    vec2 s = y(p - vec2(0,1)); \n    vec2 w = y(p - vec2(1,0)); \n    \n    vec3 color = vec3(0);\n    color += hue2rgb(atan(n.y,n.x)/(2.*PI));\n    color += hue2rgb(atan(e.y,e.x)/(2.*PI));\n    color += hue2rgb(atan(s.y,s.x)/(2.*PI));\n    color += hue2rgb(atan(w.y,w.x)/(2.*PI));\n    color += hue2rgb(atan(c.y,c.x)/(2.*PI));\n    \n    o = vec4(length(c) * color / 5.0f\n             , 1);\n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"#define RES_MOD 10.0\n\n#define PI (3.14159265358979323846)\n#define GOLDEN_RATIO (1.61803398874989484820)\n\n#define dt 0.25\n#define pixels (GOLDEN_RATIO)\n\n#define psi(p) texture(iChannel0,(p)/iResolution.xy).xy \n#define k1(p) texture(iChannel1,(p)/iResolution.xy).xy \n#define k2(p) texture(iChannel2,(p)/iResolution.xy).xy \n#define k3(p) texture(iChannel3,(p)/iResolution.xy).xy\n\nvec2 divi(vec2 c) { \n    /* divide by sqrt(-1), ie. rotate 270 deg */ \n    return vec2(c.y, -c.x); \n}\n\nfloat potential(vec2 p, vec2 R) { \n   return float(p.y < 1. || p.y > R.y - 1.); \n}\n","name":"Common","description":"","type":"common"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4sXGR8","filepath":"/media/previz/buffer02.png","previewfilepath":"/media/previz/buffer02.png","type":"buffer","channel":2,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XdfGR8","filepath":"/media/previz/buffer03.png","previewfilepath":"/media/previz/buffer03.png","type":"buffer","channel":3,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"#define rk4(p) (psi(p) + dt * (k1(p) + 2.*k2(p) + 2.*k3(p) + k4(p))/6.)\n\n// initial conditions\n#define cis(theta) vec2(cos(theta),sin(theta)) \n#define length2(p) dot(p,p)\nvec2 psi0(vec2 p) { \n\n    vec2 R = iResolution.xy;\n    p = p / R - 0.5; \n    p.x *= R.x / R.y; \n\n    return exp(length(R)*-RES_MOD*GOLDEN_RATIO*length2(p+vec2(0,0))) * cis(200.*(p.x+p.y)); \n}\n\n#define y(p) (psi(p) + dt*k3(p)) \nvec2 k4(vec2 p) { \n    vec2 c = y(p); \n    vec2 n = y(p + vec2(0,pixels)); \n    vec2 e = y(p + vec2(pixels,0)); \n    vec2 s = y(p - vec2(0,pixels)); \n    vec2 w = y(p - vec2(pixels,0)); \n    vec2 nw = y(p + vec2(-pixels,-pixels)); \n    vec2 ne = y(p + vec2(-pixels,pixels)); \n    vec2 se = y(p + vec2(pixels,-pixels)); \n    vec2 sw = y(p + vec2(pixels,pixels));\n    vec2 laplacian0 = n + e + s + w - 4.*c; \n    vec2 laplacian1 = nw + ne + se + sw - 4.*c; \n    vec2 laplacian = mix(laplacian0, laplacian1, 0.5f);\n    return divi(-laplacian + potential(p, iResolution.xy) * c);\n}\n\nvoid mainImage(out vec4 o, in vec2 p) { \n    o.xy = rk4(p) + mix(psi0(p), psi0(p+0.5f), 0.5f) * fract(iTime * 0.125f * GOLDEN_RATIO); \n}","name":"Buffer A","description":"","type":"buffer"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4sXGR8","filepath":"/media/previz/buffer02.png","previewfilepath":"/media/previz/buffer02.png","type":"buffer","channel":2,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XdfGR8","filepath":"/media/previz/buffer03.png","previewfilepath":"/media/previz/buffer03.png","type":"buffer","channel":3,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"XsXGR8","channel":0}],"code":"#define y(p) (psi(p)) \n\nvec2 k(vec2 p) { \n    vec2 c = y(p); \n    vec2 n = y(p + vec2(0,pixels)); \n    vec2 e = y(p + vec2(pixels,0)); \n    vec2 s = y(p - vec2(0,pixels)); \n    vec2 w = y(p - vec2(pixels,0)); \n    vec2 nw = y(p + vec2(-pixels,-pixels)); \n    vec2 ne = y(p + vec2(-pixels,pixels)); \n    vec2 se = y(p + vec2(pixels,-pixels)); \n    vec2 sw = y(p + vec2(pixels,pixels));\n    vec2 laplacian0 = n + e + s + w - 4.*c; \n    vec2 laplacian1 = nw + ne + se + sw - 4.*c; \n    vec2 laplacian = mix(laplacian0, laplacian1, 0.5f);\n    return divi(-laplacian + potential(p, iResolution.xy) * c);\n}\n\nvoid mainImage(out vec4 o, in vec2 p) { \n    o.xy = k(p); \n}","name":"Buffer B","description":"","type":"buffer"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4sXGR8","filepath":"/media/previz/buffer02.png","previewfilepath":"/media/previz/buffer02.png","type":"buffer","channel":2,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XdfGR8","filepath":"/media/previz/buffer03.png","previewfilepath":"/media/previz/buffer03.png","type":"buffer","channel":3,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4sXGR8","channel":0}],"code":"#define y(p) (psi(p) + 0.5*dt*k1(p))\n\nvec2 k(vec2 p) { \n    vec2 c = y(p); \n    vec2 n = y(p + vec2(0,pixels)); \n    vec2 e = y(p + vec2(pixels,0)); \n    vec2 s = y(p - vec2(0,pixels)); \n    vec2 w = y(p - vec2(pixels,0)); \n    vec2 nw = y(p + vec2(-pixels,-pixels)); \n    vec2 ne = y(p + vec2(-pixels,pixels)); \n    vec2 se = y(p + vec2(pixels,-pixels)); \n    vec2 sw = y(p + vec2(pixels,pixels));\n    vec2 laplacian0 = n + e + s + w - 4.*c; \n    vec2 laplacian1 = nw + ne + se + sw - 4.*c; \n    vec2 laplacian = mix(laplacian0, laplacian1, 0.5f);\n    return divi(-laplacian + potential(p, iResolution.xy) * c);\n}\n\nvoid mainImage(out vec4 o, in vec2 p) { \n    o.xy = k(p); \n}","name":"Buffer C","description":"","type":"buffer"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4sXGR8","filepath":"/media/previz/buffer02.png","previewfilepath":"/media/previz/buffer02.png","type":"buffer","channel":2,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XdfGR8","filepath":"/media/previz/buffer03.png","previewfilepath":"/media/previz/buffer03.png","type":"buffer","channel":3,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"XdfGR8","channel":0}],"code":"#define y(p) (psi(p) + 0.5*dt*k2(p)) \n\nvec2 k(vec2 p) { \n    vec2 c = y(p); \n    vec2 n = y(p + vec2(0,pixels)); \n    vec2 e = y(p + vec2(pixels,0)); \n    vec2 s = y(p - vec2(0,pixels)); \n    vec2 w = y(p - vec2(pixels,0)); \n    vec2 nw = y(p + vec2(-pixels,-pixels)); \n    vec2 ne = y(p + vec2(-pixels,pixels)); \n    vec2 se = y(p + vec2(pixels,-pixels)); \n    vec2 sw = y(p + vec2(pixels,pixels));\n    vec2 laplacian0 = n + e + s + w - 4.*c; \n    vec2 laplacian1 = nw + ne + se + sw - 4.*c; \n    vec2 laplacian = mix(laplacian0, laplacian1, 0.5f);\n    return divi(-laplacian + potential(p, iResolution.xy) * c);\n}\n\nvoid mainImage(out vec4 o, in vec2 p) { \n    o.xy = k(p); \n}","name":"Buffer D","description":"","type":"buffer"}]}