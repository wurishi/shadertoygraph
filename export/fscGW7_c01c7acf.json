{"ver":"0.1","info":{"id":"fscGW7","date":"1630759147","viewed":238,"name":"Haunted Quarry","username":"104","description":"ilikeloops","likes":25,"published":1,"flags":0,"usePreview":0,"tags":["rocks"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const float SceneDurationSeconds = 5.;\nconst float Complexity = 14.;\n\nvec4 hash42(vec2 p)\n{\n\tvec4 p4 = fract(vec4(p.xyxy) * vec4(.1031, .1030, .0973, .1099));\n    p4 += dot(p4, p4.wzxy+33.33);\n    return fract((p4.xxyz+p4.yzzw)*p4.zywx);\n}\n\nmat2 rot2D(float r){\n    return mat2(cos(r), sin(r), -sin(r), cos(r));\n}\n\nvoid mainImage(out vec4 o, vec2 C)\n{\n    vec2 uv = C/iResolution.x+100.;\n    uv.y *= .7; // nicer when vertical\n    float sd = 1.;\n    vec4 c = vec4(1);\n\n    float scene = floor((iTime+100.)/SceneDurationSeconds);\n    vec4 hscene = hash42(uv-uv+scene);\n    uv.x += scene;\n    float t = .03*iTime;\n\n    for (float i = 1.;i<Complexity;++i) {\n        vec2 cell = floor(uv);\n        vec4 h = hash42(cell+i);\n        vec4 h2 = hash42(h.xy);\n        vec2 p = cell + .5 + (h.xy-.5);\n        vec2 d = min(fract(uv), 1.-fract(uv));\n        uv *= 1.+(h.zw*2.);\n        uv += t*i*(h2.zw-.5)*vec2(1,.1)*2.;\n        uv *= rot2D((h.z-.5)*.1);\n        vec2 rotated = h.xy * rot2D(t*5.*h.w);\n        h.xy = rotated;\n        h = clamp(h,0.,1.);\n        sd *= pow(min(d.x,d.y), mix(.14, .22, h2.z));\n        c = mix(c,h,min(1.,sd+.15))/min(.78,i*.15);\n        c += h2.x*h2.y;\n    }\n\n    o = 1.-(c / Complexity);\n    o.rgb = mix(o.rgb,vec3(o.r+o.g+o.b)/3.,hscene.z);\n    o *= 1.2;\n    o = clamp(o,0.,1.);\n    vec2 uvn = C/iResolution.xy-.5;\n    o *= 1.-dot(uvn,uvn*1.6);\n}\n\n\n","name":"Image","description":"","type":"image"}]}