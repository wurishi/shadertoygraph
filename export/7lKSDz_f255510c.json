{"ver":"0.1","info":{"id":"7lKSDz","date":"1640546956","viewed":477,"name":"Star burst","username":"kaki","description":"Star burst shader for lens flare effect.","likes":22,"published":1,"flags":0,"usePreview":0,"tags":["2d","lens","flare"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define time iTime\n\nconst float PI = 3.1415925358;\n\nfloat safety_sin( in float x ) { return sin( mod( x, PI ) ); }\n\nfloat rand( vec2 p ) { return fract( safety_sin( dot(p, vec2( 12.9898, 78.233 ) ) ) * 43758.5453 + time * .35 ); }\n\nfloat noise( vec2 x )\n{\n\tvec2 i = floor(x);\n\tvec2 f = fract(x);\n\tvec4 h;\n\t// Smooth Interpolation\n\tf = f * f * ( f * -2.0 + 3.0 );\n\t// Four corners in 2D of a tile\n\th.x = rand( i + vec2( 0., 0. ) );\n\th.y = rand( i + vec2( 1., 0. ) );\n\th.z = rand( i + vec2( 0., 1. ) );\n\th.w = rand( i + vec2( 1., 1. ) );\n\t// Mix 4 coorners porcentages\n\treturn mix( mix( h.x, h.y, f.x ), mix( h.z, h.w, f.x ), f.y );\n}\n\nfloat star_burst( vec2 p )\n{\n\tfloat k0 = 2.0;\n\tfloat k1 = 1.0;\n\tfloat k2 = 0.5;\n\tfloat k3 = 12.0;\n\tfloat k4 = 12.0;\n    float k5 = 2.0;\n    float k6 = 5.2;\n    float k7 = 4.0;\n    float k8 = 6.2;\n\t\n\tfloat l  = length( p );\n    float l2 = pow( l * k1, k2 );\n\tfloat n0 = noise( vec2( atan(  p.y,  p.x ) * k0, l2 ) * k3 );\n\tfloat n1 = noise( vec2( atan( -p.y, -p.x ) * k0, l2 ) * k3 );\n\tfloat n  = pow( max( n0, n1 ), k4 ) * pow( clamp( 1.0 - l * k5, 0.0, 1.0 ), k6 );\n\tn += pow( clamp( 1.0 - ( l * k7 - 0.1 ), 0.0, 1.0 ), k8 );\n\treturn n;\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 p = fragCoord / min( iResolution.x, iResolution.y );\n    \n    p -= 0.5; p.x -= 0.35;\n    p *= 0.5;\n    \n\tfloat r = star_burst( p * 1.1 );\n\tfloat g = star_burst( p );\n\tfloat b = star_burst( p * 0.9 );\n\n    // Output to screen\n    vec3 col = pow( vec3( r, g, b ), vec3( 1.0 / 2.2 ) );\n    fragColor = vec4( col, 1.0 );\n}","name":"Image","description":"","type":"image"}]}