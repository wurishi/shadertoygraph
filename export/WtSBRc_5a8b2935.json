{"ver":"0.1","info":{"id":"WtSBRc","date":"1599434335","viewed":50,"name":"Sdf Trem","username":"iuryBorgesRodrigues","description":"Uma demo de um trem","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["2d","sdf","trem"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"mat2 Rot(float a) {\n    float s = sin(a);\n    float c = cos(a);\n    return mat2(vec2(c, -s),vec2( s, c));\n}\nfloat sdBox( in vec2 p, in vec2 b )\n{\n    vec2 d = abs(p)-b;\n    return length(max(d,0.0)) + min(max(d.x,d.y),0.0);\n}\n\nfloat sdCircle( in vec2 p, in float r ) \n{\n    return length(p)-r;\n}\nfloat rounding( in float d, in float h )\n{\n    return d - h;\n}\nfloat sdVesica(vec2 p, float r, float d)\n{\n    p = abs(p);\n\n    float b = sqrt(r*r-d*d);  // can delay this sqrt by rewriting the comparison\n    return ((p.y-b)*d > p.x*b) ? length(p-vec2(0.0,b))*sign(d)\n                               : length(p-vec2(-d,0.0))-r;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 p = (2.0*fragCoord-iResolution.xy)/iResolution.y;\n\t\n   \n    \n\tfloat roda[3];\n    float body[2];\n    float chamine[5];\n    \n    vec2 posChapeu=p;\n    posChapeu+=vec2(0.0,0.1);\n    float chapeu=sdCircle(posChapeu+vec2(-0.5,-0.5),0.3);\n    chapeu=max(chapeu,-sdBox(posChapeu+vec2(-0.3,-0.02),vec2(1.2,0.5)));\n    \n    \n    \n   \tvec2 posBico=p;\n    posBico*=Rot(-1.58);\n    posBico+=vec2(0.65,0.05);\n    float bico=sdCircle(posBico+vec2(-0.5,-0.5),0.3);\n    bico=max(bico,-sdBox(posBico+vec2(-0.3,-0.02),vec2(1.2,0.5)));\n    \n   \n    \n    chamine[0]=rounding(sdBox(p+vec2(0.2,-0.5),vec2(0.15,0.01)),0.05);\n    chamine[1]=rounding(sdBox(p+vec2(0.2,-0.35),vec2(0.1,0.1)),0.05);\n    chamine[2]=rounding(sdBox(p+vec2(0.2,-0.2),vec2(0.02,0.06)),0.05);\n    chamine[0]=min(chamine[0],chamine[1]);\n    chamine[0]=min(chamine[0],chamine[2]);\n    \n    \n    p/=vec2(0.5);\n    \n    float janela=rounding(sdBox(p+vec2(-1.0,-0.4),vec2(0.2)),0.05);\n    \n    roda[0]=sdCircle(p+vec2(-1.2,0.5),0.5);\n    roda[1]=sdCircle(p+vec2(0.9,0.75),0.3);\n    roda[2]=sdCircle(p+vec2(0.2,0.75),0.3);\n    roda[0]=min(roda[0],roda[1]);\n    roda[0]=min(roda[0],roda[2]);\n   \n  \tbody[0]=rounding(sdBox(p+vec2(-0.3,0.3),vec2(1.2,0.5)),0.05);\n    body[1]=rounding(sdBox(p+vec2(-1.0,-0.3),vec2(0.5,0.5)),0.05);\n    \n    vec3 col=vec3(1.0,0.5,0.1);\n       \n    \n \n   \tif(chapeu < 0.0) col = vec3(1.0, 1.0, 1.0);\n    if(bico < 0.0) col = vec3(0.5);\n    if(chamine[0] < 0.0) col = vec3(1.0, 0.0, 1.0);\n    if(body[0] < 0.0) col = vec3(0.0, 1.0, 1.0);\n    if(body[1] < 0.0) col = vec3(0.0, 1.0, 1.0);\n    if(roda[0] < 0.0) col = vec3(0.0, 0.0, 1.0);\n   \n  \tif(janela < 0.0) col = vec3(0.8, 0.8, 1.0);\n   \n\t\n\n\tfragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}