{"ver":"0.1","info":{"id":"3lGyWd","date":"1611935447","viewed":80,"name":"射线","username":"Shawn","description":"画一条射线。","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["2d","line"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\nfloat beam(vec2 uv,vec2 p,vec2 d,float l)\n{\n    return max(1.0 - min(step(0.0,dot(d, uv - p)),step(0.0,dot(d, p - uv + d*l))),\n        smoothstep(0.015,0.03,abs(dot(vec2(-d.y,d.x),p - uv))));\n\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n   vec2 uv = fragCoord.xy / iResolution.y;\n   uv -=  vec2(iResolution.x/iResolution.y,1.0) * 0.5;\n   vec2 center = iResolution.xy * 0.5;\n   vec2 ro = vec2(0);\n   vec2 dir = normalize(iMouse.xy - center );\n   vec2 d = (sign(dir)*0.5 - ro)/dir;\n   float v = beam(uv,vec2(0),dir,min(d.x,d.y));\n   fragColor = vec4(v);\n}","name":"Image","description":"","type":"image"}]}