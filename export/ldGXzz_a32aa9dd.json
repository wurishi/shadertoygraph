{"ver":"0.1","info":{"id":"ldGXzz","date":"1462456233","viewed":255,"name":"Vasarely inspiration","username":"nexor","description":"Vasarely inspired, animated shader.","likes":7,"published":1,"flags":0,"usePreview":0,"tags":["animation","vasarely"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"precision highp float;\n\n#define time iTime\n#define resolution iResolution.xy\n\nconst float pi = 3.14159265359;\nconst float pi2 = 2.*pi;\nconst float pi1_2 = pi*.5;\n\n#define sig(x) (2.*step(0.,x)-1.)\n#define ss(x,f) sig(x)*smoothstep(abs(f)+(1e-2),abs(f)-(1e-2),abs(x))\n#define rpt(x,m) (mod(x,m)-m*.5)\n\n\nfloat hash( float n )\n{\n    return fract(sin(n)*43758.5453123);\n}\n\nfloat noise( in vec2 x )\n{\n    vec2 p = floor(x);\n    vec2 f = fract(x);\n    f = f*f*(3.0-2.0*f);\n    float n = p.x + p.y*157.0;\n    return mix(mix( hash(n+  0.0), hash(n+  1.0),f.x),\n               mix( hash(n+157.0), hash(n+158.0),f.x),f.y);\n}\n\nmat2 rot2(float a)\n{\n\t float c=cos(a);\n\t float s=sin(a);\n\t return mat2(c,-s,s,c);\n}\n\nfloat saw(float x)\n{\n\t return abs(fract(x)*2.-1.);\n}\n\nfloat saw2(float x)\n{\n\t return abs(fract(x)*4.-2.)-1.;\n}\n\nfloat rct(vec2 p,float w,float h)\n{\n\tp=abs(p);\n\treturn ss(p.x,w)\n\t      *ss(p.y,h);\n}\n\nfloat rct(vec2 p, float s)\n{\n\treturn rct(p,s,s);\n}\n\nfloat crc(vec2 p,float r)\n{\n\treturn ss(length(p),r);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy/resolution.xy;\n\tvec2 p=-1.+2.*uv;\n\tp.x*=resolution.x/resolution.y;\n\tvec2 w=p;\n\n\tvec3 col=vec3(.3);\n\n\tfloat len=length(p);\n\tcol+=.8-len;\n\tcol*=vec3(.1,1.,.1);\n\tp*=2.;\n\tp*=mix(1.8,1.+len*len,1.-step(.9,len));\n\n\tp*=rot2(smoothstep(.0,.2,1.-len)*pi*.25);\n\tp=rpt(p,.3);\n\tfloat t=smoothstep(.2,.8,fract(time))+floor(time);\n\tp*=rot2(t*pi1_2);\n\tfloat s=step(sig(p.x),.0);\n    float kp=rct(p,.1);\n\tcol=mix(col,mix(vec3(.0,.3,.6),vec3(.9,.0,.0),1.-len*len),kp+noise(uv)*.5);\n\n\tcol*=rct(w,1.);\n\n\tfragColor = vec4( col, 1.0 );\n}\n\n\n","name":"Image","description":"","type":"image"}]}