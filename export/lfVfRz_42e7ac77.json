{"ver":"0.1","renderpass":[{"outputs":[{"channel":0,"id":"4dfGRr"}],"inputs":[],"code":"//Rodrigues-Euler axis angle rotation\n#define ROT(p,axis,t) mix(axis*dot(p,axis),p,cos(t))+sin(t)*cross(p,axis)\n#define rot(a) mat2(cos(a+vec4(0,11,33,0)))\n\n//formula for creating colors;\n#define H(h)  (  cos( h/2. + vec3(1,2,3) )*.7 + .2 )\n\n//formula for mapping scale factor \n#define M(c)  log(1.+c)\n\n#define R iResolution\n\nvoid mainImage( out vec4 O, vec2 U) {\n  \n    O = vec4(0);\n    \n    vec3 c=vec3(0);\n    \n    vec4 rd = normalize( vec4(U-.5*R.xy, .5*R.y, \n       (1.-min(1.1,mod(iTime,1.5)))*R.y))*32.;\n    \n    float sc,dotp,totdist=0., t=5.22/4., tt=.5;\n    \n    for (float i=0.; i<100.; i++) {\n        \n        vec4 p = vec4( rd*totdist );\n        \n        p.z -= 5.5;\n        \n        if (iMouse.z<=0.) tt = t;\n        \n        //p.xy += .1*vec2( cos(t/1.5) , sin(t/1.5) );\n      \n        p.xyz = ROT(p.xyz,\n            normalize( vec3(sin(tt/5.),cos(tt/3.),0)  ),tt);\n            \n        sc = .7;  //scale factor\n        \n        for (float j=0.; j<7.; j++) {\n        \n            p = abs(p)*.71;\n            \n            dotp = max(1./dot(p,p),.47);\n            sc *= dotp;\n\n            p=abs(p.x<p.y?p.wzxy:p.wzyx);\n            p=abs(p.z<p.w?p.xywz:p.xyzw);\n            p=abs(p.y<p.z?p.xwyz:p.xwzy);\n            \n            p *= dotp - .18*p;\n            \n \n        }\n\n            \n        float dist = abs( length(p) -.2)/(1.+sc) ; \n        float stepsize = dist/2. + 5e-4 ;\n        totdist += stepsize;    \n\n        c += .1 *H(M(sc))*  exp(-i*i*stepsize*stepsize*500.)\n        ;\n            \n\n    }\n    \n\n    //c *= c;\n    c = clamp(c,-1e4,1e4);\n    c = 1. - exp(-c);\n    \n    c = c*c*(3.-2.*c);\n    \n    O = ( vec4(c,0) );\n               \n}  ","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"lfVfRz","date":"1733765833","viewed":65,"name":"4dwarp","username":"pb","description":"3d proj of 4d","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["raymarch"],"hasliked":0,"parentid":"4XtSRj","parentname":"zero-g bouquet"}}