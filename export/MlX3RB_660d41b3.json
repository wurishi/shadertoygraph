{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"#define PI 3.14159\n\nmat3 xrot(float t)\n{\n    return mat3(1.0, 0.0, 0.0,\n                0.0, cos(t), -sin(t),\n                0.0, sin(t), cos(t));\n}\n\nmat3 yrot(float t)\n{\n    return mat3(cos(t), 0.0, -sin(t),\n                0.0, 1.0, 0.0,\n                sin(t), 0.0, cos(t));\n}\n\nmat3 zrot(float t)\n{\n    return mat3(cos(t), -sin(t), 0.0,\n                sin(t), cos(t), 0.0,\n                0.0, 0.0, 1.0);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    \n    uv = uv * 2.0 - 1.0;\n    \n    uv.x *= iResolution.x / iResolution.y;\n    \n    vec3 eye = normalize(vec3(uv,1.0-dot(uv,uv)*0.5));\n    \n    float t=0.0;\n    float d = 0.0;\n    vec3 col;\n    \n    for(int i = 0; i < 16; ++i){\n        vec3 pos = eye*t;\n        \n        pos = pos * xrot(-PI/4.0) * yrot(-PI/4.0);\n        \n        float theta = iTime;\n        pos = pos * xrot(theta) * yrot(theta) * zrot(theta);\n        \n        pos.z += iTime;\n        pos.y += 0.25 + iTime;\n       \tpos.x += 0.5 + iTime;\n        \n        vec3 coord = floor(pos);\n       \tpos = (pos - coord) - 0.5;\n        \n        d = length(pos)-0.2;\n        float idx = dot(coord,vec3(1.0));\n        idx = floor(fract(idx/3.0)*3.0);\n        if(idx==0.0){\n            col = vec3(1.0, 0.0, 0.0);\n        }else if(idx==1.0){\n            col = vec3(0.0, 1.0, 0.0);\n        }else if(idx==2.0){\n            col = vec3(0.0, 0.0, 1.0);\n        }\n        \n        float k;\n        \n        k = length(pos.xy)-0.05;\n        if(k<d){\n        \td=k;\n            col=vec3(1.0,1.0,1.0);\n        }\n        \n        k = length(pos.xz)-0.05;\n        if(k<d){\n        \td=k;\n            col=vec3(1.0,1.0,1.0);\n        }\n        \n        k = length(pos.yz)-0.05;\n        if(k<d){\n        \td=k;\n            col=vec3(1.0,1.0,1.0);\n        }\n        \n        t+=d;\n    }\n    \n    float fog = 1.0 / (1.0 + t*t*0.5 + d*100.0);\n    \n\tfragColor = vec4(fog*col, 1.0);\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"MlX3RB","date":"1422904862","viewed":410,"name":"Latt1c3","username":"dila","description":"Inspired by puls 256b.","likes":15,"published":1,"flags":0,"usePreview":0,"tags":["grid","lattice","instances"],"hasliked":0,"parentid":"","parentname":""}}