{"ver":"0.1","info":{"id":"XdGGWW","date":"1454375291","viewed":584,"name":"Plot math","username":"anastadunbar","description":"Plot test.","likes":8,"published":1,"flags":0,"usePreview":0,"tags":["2d","math","graph","function","plot","grapher","plotter","plotting"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define time iTime\nfloat function(float x) {\n    return sin(x*x*x*20.)+(sin(time+x)*.2);\n}\nfloat graph_f(vec2 uv, vec2 resolution, float scale) {\n    //There seems to be a better method.\n    float graph = step(uv.y,function(uv.x))-step(uv.y+(scale/resolution.y),function(uv.x));\n    graph += step(uv.y,function(uv.x+(scale/resolution.y)))-step(uv.y+(scale/resolution.y),function(uv.x));\n    graph += step(uv.y,function(uv.x-(scale/resolution.y)))-step(uv.y+(scale/resolution.y),function(uv.x));\n    return clamp(graph,0.,1.);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 pos = fragCoord.xy / iResolution.xy;\n    float scale = sin(iTime)+2.;\n\tvec2 uv = ((fragCoord.xy - 0.5 * iResolution.xy) / iResolution.y)*scale;\n\tfloat graph = graph_f(uv,iResolution.xy,scale);\n    \n    //Stolen anti-aliasing script.\n    float ret = 0.;\n    for (int i = 0; i < 16; i++) { \n    vec2 q = vec2(floor(mod(float(i), 16.0)) / 4.0, floor(float(i)) / 16.0);\n    vec2 uv1 = uv+(q/iResolution.xy);\n    ret += graph_f(uv1,iResolution.xy,scale);\n    }\n    graph = ret/16.;\n    \n    //Draw center lines.\n    float center = float(floor(fragCoord.x) == floor(iResolution.x/2.) || floor(fragCoord.y) == floor(iResolution.y/2.));\n    //Grid.\n    float grid = float(fract(uv.x-(scale/iResolution.y)) > fract(uv.x) || fract(uv.y-(scale/iResolution.y)) > fract(uv.y));\n    //Extra grid.\n    for (float h = 1.; h < 4.; h++) {\n\t\tfloat i = pow(2.,h);\n        grid += (1./i)*float(fract((uv.x*i)-((scale*i)/iResolution.y)) > fract((uv.x*i)) || fract((uv.y*i)-((scale*i)/iResolution.y)) > fract((uv.y*i)));\n    }\n\tfragColor = vec4(vec3(graph,0.,0.)+(center*.5)+(grid*.3),1.0);\n}","name":"Image","description":"","type":"image"}]}