{"ver":"0.1","info":{"id":"l3GSDc","date":"1720561073","viewed":33,"name":"Snowflake - hw6","username":"Morevita","description":"snowflake","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["2d","snowflake"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.14159265359\n\nvec2 N(float angle) {\n    return vec2(sin(angle), cos(angle));\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    vec2 uv = (fragCoord - 0.5 * iResolution.xy) / iResolution.y * 2.0;\n\n    vec3 col = vec3(0);\n    uv.x = abs(uv.x);\n    uv.y += 0.5 * tan((5. / 6.) * PI);\n    \n    vec2 n = N((5. / 6.) * PI);\n    float d = dot(uv - vec2(0.5, 0.0), n);\n    uv -= n * max(0.0, d) * 2.0;\n\n    uv.x += 0.5;\n    float scale = 1.0;\n    n = N((2. / 3.) * PI);\n    for (int i = 0; i < 10; i++) {\n        uv *= 3.0;\n        scale *= 3.0;\n        uv.x -= 1.5;\n        uv.x = abs(uv.x);\n        uv.x -= 0.5;\n        uv -= n * min(0.0, dot(uv, n)) * 2.0;\n\n        float t = tan(iTime * 0.35);\n        vec2 p = abs(fract(uv) - 0.5);\n        p = -vec2(-p.y + p.x * 1.735, abs(p.x + p.y * 1.735) - 0.58) * 0.865;\n        float rz = abs(p.x) / (t * t) * 14.0;\n        col += vec3(1.0 - clamp(rz, 0.0, 1.0)) * vec3(1.0, 0.97, 0.92);\n    }\n\n    d = length(uv - vec2(clamp(uv.x, -1.0, 1.0), 0.0));\n    uv /= scale;\n    col -= smoothstep(1. / iResolution.y, 0.5, d / scale);\n\n    fragColor = vec4(clamp(col, 0.0, 1.0), 1.0);\n}\n","name":"Image","description":"","type":"image"}]}