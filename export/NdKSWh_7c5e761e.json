{"ver":"0.1","info":{"id":"NdKSWh","date":"1634559262","viewed":307,"name":" Fab18b #inktober2021 \"moon\"","username":"FabriceNeyret2","description":"[url]https://inktober.com/[/url]\n#inktober2021 themes: [img]https://i.imgur.com/QjhAdpd.png[/img]\n","likes":14,"published":3,"flags":0,"usePreview":0,"tags":["2d","short","loopless","inktober2021","croissant"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"/**/\n\n#define S(v) smoothstep(0., -4./R.y/.15, v )\n\nvoid mainImage( out vec4 O, vec2 u )\n{\n    vec2 R = iResolution.xy, S,\n         U = ( u+u - R ) / R.y; U.y += .4;\n    O-=O;\n    float a = round( atan(U.y/.7 , U.x ) * 3. ) / 3. -.01, l; // sky sector\n    vec3 P;\n\n    S = ( U - 1.4* vec2(cos(a), .7*sin(a) ) ) / .15;          // 2D Moon frame\n    l = length(S);\n    if ( l < 1. && a >-.2 ) \n        P = vec3( S, sqrt(1.-l*l) ),                          // 3D coords on Moon\n        a = 2.*a - 1. - iTime,                                // remap visible phases\n        a = dot( P, vec3(cos(a),0,sin(a)) ),                  // Sun direction\n        O =   vec4(.2,.2,0,1)                                 // ambiant\n            + S( -a )                                         // moon phase\n            * S( l - 1. );                                    // disk AA\n}\n\n\n\n\n\n/** // --- 288 char by Xor  -6 by Fab\n\n\n#define A smoothstep(0.,26./R.y\n\nvoid mainImage( out vec4 O, vec2 u )\n{\n    vec2 R = iResolution.xy, S,\n         U = ( u+u - R ) / R.y;\n    float a = round( atan( U.y+=.4, U.x*.7 ) * 3. ) / 3. -.01;\n\n    S = U/.15 - 9.3* vec2(cos(a), .7*sin(a) );\n    O = a > -.2\n            ? (   vec4(.2,.2,0,1)\n                + A, S.x* cos(a -= iTime - a--) + sqrt(1.-dot(S,S)) * sin(a) )\n              ) * A, 1.-length(S) )\n            : O-O;\n}\n\n/**/","name":"Image","description":"","type":"image"}]}