{"ver":"0.1","renderpass":[{"outputs":[{"channel":0,"id":"4dfGRr"}],"inputs":[{"channel":0,"type":"texture","id":"Xsf3zn","filepath":"/media/a/f735bee5b64ef98879dc618b016ecf7939a5756040c2cde21ccb15e69a6e1cfb.png","sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"}},{"channel":1,"type":"music","id":"4df3Rn","filepath":"/media/a/3c33c415862bb7964d256f4749408247da6596f2167dca2c86cc38f83c244aa6.mp3","sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}}],"code":"/*by mu6k, Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.\n\t\n2016-02-02:\n\n\tBugfix, and set a tune from soundcloud to which it reacts better :)\n\n\n2014-03-21:\n\n\tAn audio visualizer I've been working on... enjoy!!!!\n\n*/\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 tuv = fragCoord.xy / iResolution.xy;\n\tvec2 uv = fragCoord.xy / iResolution.yy-vec2(.9,.5);\n\t\n\tfloat acc = .0;\n\tfloat best = .0;\n\tfloat best_acc = .0;\n\t\n\tfor (float i = .0; i<0.5; i+=.008)\n\t{\n\t\tacc+=texture(iChannel1,vec2(i,1.0)).x-.5;\n\t\tif (acc>best_acc)\n\t\t{\n\t\t\tbest_acc = acc;\n\t\t\tbest = i;\n\t\t}\n\t}\n\t\n\tvec3 colorize = vec3(.2);\n\t\n\tfor (float i = .0; i< 1.0; i+=.05)\n\t{\n\t\tcolorize[int(i*3.0)]+=texture(iChannel1,vec2(i,0.0)).y*pow(i+.5,.9);\n\t}\n\t\n\tcolorize = normalize(colorize);\n\t\n\tfloat offset = best;\n\t\n\tfloat osc = texture(iChannel1,vec2(offset+tuv.x*.4 +.1,1.0)).x-.5;\n\tosc += texture(iChannel1,vec2(offset+tuv.x*.4 -.01,1.0)).x-.5;\n\tosc += texture(iChannel1,vec2(offset+tuv.x*.4 +.01,1.0)).x-.5;\n\tosc*=.333;\n\tfloat boost = texture(iChannel1,vec2(.0)).x;\n\tfloat power = pow(boost,2.0);\n\t\n\tvec3 color = vec3(.0);\n\t\n\tcolor += colorize*vec3((power*.9+.1)*0.02/(abs((power*1.4+.2)*osc-uv.y)));\n\tcolor += colorize*.2*((1.0-power)*.9+.1);\n\t\n\tvec2 buv = uv*(1.0+power*power*power*.25);\n\tbuv += vec2(pow(power,12.0)*.1,iTime*.05);\n\t\n\tvec2 blocks = mod(buv,vec2(.1))-vec2(.05);\n\tvec2 blocksid = sin((buv - mod(buv,vec2(.1)))*412.07);\n\tfloat blockint = texture(iChannel0,blocksid,-48.0).y;\n\tfloat oint = blockint = \n\t\t-    texture(iChannel1,vec2(blockint-.02,.0)).x\n\t\t+2.0*texture(iChannel1,vec2(blockint,.0)).x\n\t\t-    texture(iChannel1,vec2(blockint+.02,.0)).x;\n\tblockint = pow(blockint*blockint,2.80)*111.0;\n\t//blockint = 1.0;\n\tcolor += \n\t\t\n\t   +2.0*blockint*max(.0,min(1.0,(.04+oint*0.05-max(abs(blocks.x),abs(blocks.y)))*500.0))*colorize;\n\t\n\t\n\tcolor -= length(uv)*.1;\n\t\n\t\n\tcolor += texture(iChannel0,fragCoord.xy/256.0).xyz*.01;\n\tcolor = pow(max(vec3(.0),color),vec3(.6));\n\t\n\t\n\tfragColor = vec4(color,1.0);\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"ld23Wd","date":"1395424675","viewed":826,"name":"Electric Dream","username":"mu6k","description":"An audio visualizer I've been working on... enjoy!!!!","likes":19,"published":1,"flags":0,"usePreview":0,"tags":["2d","audio"],"hasliked":0,"parentid":"","parentname":""}}