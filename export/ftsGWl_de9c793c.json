{"ver":"0.1","info":{"id":"ftsGWl","date":"1623099958","viewed":49,"name":"Smoothing two functions","username":"day9","description":"try","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["mix","smoothing"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Function Smoothing Explained! lesson by Martijn Steinrucken\n// https://www.youtube.com/watch?v=YJ4iyff7zbk\n// Gray - two original functions\n// Red - new mixed function\n\n#define PI 3.14159265359\n#define red vec4(1.0,0.4,0.5,1.0)\n#define green vec4(0.5,0.9,0.5,1.0)\n#define blue vec4(0.0,1.0,1.0,1.0)\n\nfloat Line(vec2 uv)\n{\n    return smoothstep( 0.01, -0.01, abs(uv.x-uv.y)-0.02);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy - 0.5;\n    uv.x *= iResolution.x/iResolution.y;\n    uv = uv*8.0 +vec2(0.0,1.0);\n\n    float grid = ceil(uv.y)*0.05;\t                      \n\n    vec4 col = vec4(1.0);\n    float y = uv.y;\n    float x = uv.x;\n\n\n    float f1 = exp(-x);            // any func 1\n    float f2 = sin(x);             // any func 2     \n\n \n    float t = sin(iTime*0.5)*sin(iTime*0.5)*3.0;     // animated smoothing strength\n    float m1 = max(0.0, min(1.0, (f2-f1)/t + 0.5) ); // mask1 show transition between two funcs\n    float m2 = m1*(1.0-m1)*t;                        // mask2 mixing transition between two funcs\n\n\n    // viewing stages\n    vec2 uv1 = vec2( y, f1 ); \n    vec2 uv2 = vec2( y, f2 ); \n    vec2 uv3 = vec2( y, m1 );                       \n    vec2 uv4 = vec2( y, m1*f1 + (1.0-m1)*f2 );       \n    vec2 uv5 = vec2( y, m2 );                        \n    vec2 uv6 = vec2( y, m1*f1 + (1.0-m1)*f2 - m2*0.5 ); // finished\n\n    vec4 smix = Line(uv1)*0.5 + \n                Line(uv2)*0.5 + \n                Line(uv3)*red*0.2 + \n                Line(uv4)*green*0.2 +\n                Line(uv5)*red*0.2 +\n                Line(uv6)*blue;\n\n\n\tfragColor = col -smix -grid;\n}\n","name":"Image","description":"","type":"image"}]}