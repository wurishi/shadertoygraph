{"ver":"0.1","info":{"id":"Ms3yDS","date":"1519987537","viewed":572,"name":"抖动_tiktokExample","username":"DoubleYane","description":"模仿抖音抖动效果","likes":1,"published":3,"flags":0,"usePreview":0,"tags":["tiktokexample"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sX3Rn","filepath":"/media/a/c3a071ecf273428bc72fc72b2dd972671de8da420a2d4f917b75d20e1c24b34c.ogv","previewfilepath":"/media/ap/c3a071ecf273428bc72fc72b2dd972671de8da420a2d4f917b75d20e1c24b34c.ogv","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec2 scaleFromCenter(vec2 coord, float scale) {\n  if (scale > 1.0 || scale < 0.0) { return coord; }\n  vec2 scaleCenter = vec2(0.55, 0.45);\n  return (coord - scaleCenter) * scale + scaleCenter;\n}\n\nvec2 scaleFromCenter2(vec2 coord, float scale) {\n  if (scale > 1.0 || scale < 0.0) { return coord; }\n  vec2 scaleCenter = vec2(0.5);\n  return (coord - scaleCenter) * scale + scaleCenter;\n}\n\nvec2 scaleFromCenter3(vec2 coord, float scale) {\n  if (scale > 1.0 || scale < 0.0) { return coord; }\n  vec2 scaleCenter = vec2(0.45);\n  return (coord - scaleCenter) * scale + scaleCenter;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 st = fragCoord/iResolution.xy;\n\n    float scale = 1.0 - mod(iTime * 1.0, 0.8) + 0.5;\n    //  float scale = 0.5;\n    if (scale < 0.0) {\n    fragColor = texture(iChannel0, st);\n    return;\n    }\n\n\n    vec2 newCoord = scaleFromCenter(st, scale);\n    vec4 result = texture(iChannel0, newCoord);\n\n    vec2 newCoord2 = scaleFromCenter2(st, scale);\n    vec4 result2 = texture(iChannel0, newCoord2);\n\n    vec2 newCoord3 = scaleFromCenter3(st, scale);\n    vec4 result3 = texture(iChannel0, newCoord3);\n\n    vec4 xx = result * vec4(0.0,0.0,1.0,1.0) +\n    result2 * vec4(0.0,1.0,0.0,1.0) +\n    result3 * vec4(1.0,0.0,0.0,1.0)\n    ;\n    fragColor = vec4(xx.rgb, 1.0);\n}","name":"Image","description":"","type":"image"}]}