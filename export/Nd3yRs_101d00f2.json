{"ver":"0.1","info":{"id":"Nd3yRs","date":"1653912256","viewed":98,"name":"hexlights","username":"3ncryp73d","description":"hex grid with lights being refracted","likes":8,"published":1,"flags":0,"usePreview":0,"tags":["cg1"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\nfloat random(vec2 co)\n{\n   return fract(sin(dot(co.xy,vec2(12.9898,78.233))) * 43758.5453);\n}\n\nvec3 refrCol(vec2 angle)\n{\n    //float alpha = angle * 30.;\n    vec3 col = normalize(vec3(angle.x, angle.y, 0.5 - angle.x - angle.y));\n    return mix(vec3(1.0), col*col, 10.* min(1.0,length(angle)));\n}\n\nfloat anim(vec2 pos) {\n    float col = (sin(pos.x * 20.) + sin(pos.y * 20. + iTime)) / 2.;\n    col = (col*col);\n    return smoothstep(0.0, 0.7, col);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    const vec2 scale = vec2(1.0, 0.87) / 50.;\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = (fragCoord/iResolution.x -  0.5 * iResolution.x) / scale;\n    \n    //uv = vec2(uv.x * sin(iTime) + uv.y * cos(iTime),\n     //   uv.y * sin(iTime) - uv.x * cos(iTime));\n    \n    vec2 off = vec2(mod(floor(uv.y), 2.0) * 0.5, 0.);\n    vec2 pCenter = floor(uv + off) + vec2(0.5, 0.5) - off;\n    \n    vec2 dCenter = (uv - pCenter) * scale;\n    \n    vec2 pCorner = pCenter + vec2(\n        dCenter.x < 0. ? -0.5 : 0.5, \n        dCenter.y < 0. ? -1.0 : 1.0\n      );\n    \n    vec2 dCorner = (uv - pCorner) * scale;\n    \n    vec2 refr = length(dCorner) < length(dCenter) ? dCorner : dCenter;\n    vec2 cell = length(dCorner) < length(dCenter) ? pCorner : pCenter;\n    \n    float disp = 1.5;\n    float ior = -2.;\n    \n    refr = normalize(refr) * length(refr)  * length(refr) * 200.; // *0.005;\n    \n    vec3 col = vec3(\n        anim(cell*scale - refr * (ior - disp)),\n        anim(cell*scale - refr * ior),\n        anim(cell*scale - refr * (ior + disp))\n    );\n\n    // Output to screen\n    fragColor = vec4(col, 1.0);\n}","name":"Image","description":"","type":"image"}]}