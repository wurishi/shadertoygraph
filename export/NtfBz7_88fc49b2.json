{"ver":"0.1","info":{"id":"NtfBz7","date":"1650622340","viewed":193,"name":"gray bits","username":"Carandiru","description":"increasing number of gray levels, dither by blue noise compared to no dithering","likes":1,"published":3,"flags":0,"usePreview":0,"tags":["gray","dithering","grey","bluenoise"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XsBSR3","filepath":"/media/a/cb49c003b454385aa9975733aff4571c62182ccdda480aaba9a8d250014f00ec.png","previewfilepath":"/media/ap/cb49c003b454385aa9975733aff4571c62182ccdda480aaba9a8d250014f00ec.png","type":"texture","channel":0,"sampler":{"filter":"nearest","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define phi (1.618033988749895f)\n\nconst float minz = 0.001f * phi;\nconst float maxz = 400.0f * phi;\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n\n    float bn = textureLod(iChannel0, fragCoord/1024.0f, 0.0f).r;\n    \n    float l = maxz - minz;\n    float z = uv.x * l; \n    \n    // (Z-min)/(max-min) * 2^depthBits\n    \n    float prec = (z-minz)/l;\n    float bits = 0.0f;\n    \n    if (uv.y > 0.5f) {\n        bits = pow(2.0f, floor(iTime * 0.25f) + bn);\n    }\n    else {\n        bits = pow(2.0f, floor(iTime * 0.25f));\n    }\n    \n    prec = prec * bits;\n    prec = floor(prec);\n    prec = prec / bits;\n    \n    vec3 color = vec3(0);\n\n    color = vec3(prec);\n    \n    fragColor = vec4(color,1.0);\n}","name":"Image","description":"","type":"image"}]}