{"ver":"0.1","info":{"id":"4cdGR2","date":"1711905105","viewed":69,"name":"basic dance animation","username":"jorge2017a2","description":"basic dance animation","likes":6,"published":1,"flags":0,"usePreview":0,"tags":["2d","animation","dance","basicdanceanimation"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//por jorge2017a2\n//basic dance animation\n//---31-marzo-2024\n//referencia\n//https://iquilezles.org/articles/distfunctions2d\n///\n#define antialiasing(n) n/min(iResolution.y,iResolution.x)\n#define S(d,b) smoothstep(antialiasing(1.5),0. , d - (b) )\n#define S2(d,b) smoothstep(antialiasing(0.25),0. , d - (b) )\n\n#define PI     3.14159265\n#define TWO_PI 6.28318530\n\nstruct TLinea\n{  vec2 A;\n   vec2 B;\n};\nTLinea arr[14];\n\nvec2 pt1_1[28]=vec2[](\nvec2(0.519,0.598),vec2(0.519,0.547),\nvec2(0.519,0.547),vec2(0.519,0.392),\nvec2(0.519,0.547),vec2(0.455,0.547),\nvec2(0.455,0.547),vec2(0.455,0.624),\nvec2(0.455,0.624),vec2(0.442,0.657),\nvec2(0.519,0.547),vec2(0.583,0.547),\nvec2(0.583,0.547),vec2(0.583,0.624),\nvec2(0.583,0.624),vec2(0.61,0.617),\nvec2(0.519,0.392),vec2(0.483,0.303),\nvec2(0.483,0.303),vec2(0.483,0.201),\nvec2(0.483,0.201),vec2(0.455,0.201),\nvec2(0.519,0.392),vec2(0.555,0.303),\nvec2(0.555,0.303),vec2(0.555,0.201),\nvec2(0.555,0.201),vec2(0.583,0.201)\n);\n\n\nvec2 pt1_2[28]=vec2[](\nvec2(0.519,0.598),vec2(0.519,0.547),\nvec2(0.519,0.547),vec2(0.519,0.392),\nvec2(0.519,0.547),vec2(0.455,0.547),\nvec2(0.455,0.547),vec2(0.401,0.547),\nvec2(0.401,0.547),vec2(0.387,0.58),\nvec2(0.519,0.547),vec2(0.583,0.547),\nvec2(0.583,0.547),vec2(0.637,0.547),\nvec2(0.637,0.547),vec2(0.664,0.54),\nvec2(0.519,0.392),vec2(0.483,0.303),\nvec2(0.483,0.303),vec2(0.483,0.201),\nvec2(0.483,0.201),vec2(0.455,0.201),\nvec2(0.519,0.392),vec2(0.555,0.303),\nvec2(0.555,0.303),vec2(0.555,0.201),\nvec2(0.555,0.201),vec2(0.583,0.201)\n);\n\n\nvec2 pt1_3[28]=vec2[](\nvec2(0.519,0.598),vec2(0.519,0.547),\nvec2(0.519,0.547),vec2(0.519,0.392),\nvec2(0.519,0.547),vec2(0.474,0.483),\nvec2(0.474,0.483),vec2(0.419,0.483),\nvec2(0.419,0.483),vec2(0.406,0.516),\nvec2(0.519,0.547),vec2(0.564,0.61),\nvec2(0.564,0.61),vec2(0.619,0.61),\nvec2(0.619,0.61),vec2(0.646,0.604),\nvec2(0.519,0.392),vec2(0.483,0.303),\nvec2(0.483,0.303),vec2(0.483,0.201),\nvec2(0.483,0.201),vec2(0.455,0.201),\nvec2(0.519,0.392),vec2(0.555,0.303),\nvec2(0.555,0.303),vec2(0.555,0.201),\nvec2(0.555,0.201),vec2(0.583,0.201)\n);\n\n\n\nvec2 pt1_4[28]=vec2[](\nvec2(0.519,0.598),vec2(0.519,0.547),\nvec2(0.519,0.547),vec2(0.519,0.392),\nvec2(0.519,0.547),vec2(0.455,0.547),\nvec2(0.455,0.547),vec2(0.401,0.547),\nvec2(0.401,0.547),vec2(0.387,0.58),\nvec2(0.519,0.547),vec2(0.583,0.547),\nvec2(0.583,0.547),vec2(0.637,0.547),\nvec2(0.637,0.547),vec2(0.664,0.54),\nvec2(0.519,0.392),vec2(0.483,0.303),\nvec2(0.483,0.303),vec2(0.483,0.201),\nvec2(0.483,0.201),vec2(0.455,0.201),\nvec2(0.519,0.392),vec2(0.555,0.303),\nvec2(0.555,0.303),vec2(0.555,0.201),\nvec2(0.555,0.201),vec2(0.583,0.201)\n);\n\n\nvec2 pt1_5[28]=vec2[](\nvec2(0.519,0.598),vec2(0.519,0.547),\nvec2(0.519,0.547),vec2(0.519,0.392),\nvec2(0.519,0.547),vec2(0.474,0.61),\nvec2(0.474,0.61),vec2(0.419,0.61),\nvec2(0.419,0.61),vec2(0.406,0.644),\nvec2(0.519,0.547),vec2(0.564,0.483),\nvec2(0.564,0.483),vec2(0.619,0.483),\nvec2(0.619,0.483),vec2(0.646,0.476),\nvec2(0.519,0.392),vec2(0.483,0.303),\nvec2(0.483,0.303),vec2(0.483,0.201),\nvec2(0.483,0.201),vec2(0.455,0.201),\nvec2(0.519,0.392),vec2(0.555,0.303),\nvec2(0.555,0.303),vec2(0.555,0.201),\nvec2(0.555,0.201),vec2(0.583,0.201)\n);\n\n\nvec2 pt1_6[28]=vec2[](\nvec2(0.519,0.598),vec2(0.519,0.547),\nvec2(0.519,0.547),vec2(0.519,0.392),\nvec2(0.519,0.547),vec2(0.474,0.61),\nvec2(0.474,0.61),vec2(0.419,0.61),\nvec2(0.419,0.61),vec2(0.406,0.644),\nvec2(0.519,0.547),vec2(0.583,0.547),\nvec2(0.583,0.547),vec2(0.637,0.547),\nvec2(0.637,0.547),vec2(0.664,0.54),\nvec2(0.519,0.392),vec2(0.483,0.303),\nvec2(0.483,0.303),vec2(0.483,0.201),\nvec2(0.483,0.201),vec2(0.455,0.201),\nvec2(0.519,0.392),vec2(0.555,0.303),\nvec2(0.555,0.303),vec2(0.555,0.201),\nvec2(0.555,0.201),vec2(0.583,0.201)\n);\n\n\nvec2 pt1_7[28]=vec2[](\nvec2(0.519,0.598),vec2(0.519,0.547),\nvec2(0.519,0.547),vec2(0.519,0.392),\nvec2(0.519,0.547),vec2(0.474,0.61),\nvec2(0.474,0.61),vec2(0.474,0.687),\nvec2(0.474,0.687),vec2(0.498,0.707),\nvec2(0.519,0.547),vec2(0.564,0.61),\nvec2(0.564,0.61),vec2(0.564,0.687),\nvec2(0.564,0.687),vec2(0.55,0.721),\nvec2(0.519,0.392),vec2(0.483,0.303),\nvec2(0.483,0.303),vec2(0.483,0.201),\nvec2(0.483,0.201),vec2(0.455,0.201),\nvec2(0.519,0.392),vec2(0.555,0.303),\nvec2(0.555,0.303),vec2(0.555,0.201),\nvec2(0.555,0.201),vec2(0.583,0.201)\n);\n\n\n\nvec2 pt1_8[28]=vec2[](\nvec2(0.519,0.598),vec2(0.519,0.547),\nvec2(0.519,0.547),vec2(0.519,0.392),\nvec2(0.519,0.547),vec2(0.474,0.61),\nvec2(0.474,0.61),vec2(0.474,0.687),\nvec2(0.474,0.687),vec2(0.498,0.707),\nvec2(0.519,0.547),vec2(0.564,0.61),\nvec2(0.564,0.61),vec2(0.564,0.687),\nvec2(0.564,0.687),vec2(0.55,0.721),\nvec2(0.519,0.392),vec2(0.483,0.303),\nvec2(0.483,0.303),vec2(0.483,0.201),\nvec2(0.483,0.201),vec2(0.51,0.201),\nvec2(0.519,0.392),vec2(0.555,0.303),\nvec2(0.555,0.303),vec2(0.555,0.201),\nvec2(0.555,0.201),vec2(0.583,0.201)\n);\n\n\nvec2 pt1_9[28]=vec2[](\nvec2(0.519,0.598),vec2(0.519,0.547),\nvec2(0.519,0.547),vec2(0.519,0.392),\nvec2(0.519,0.547),vec2(0.455,0.547),\nvec2(0.455,0.547),vec2(0.455,0.624),\nvec2(0.455,0.624),vec2(0.479,0.643),\nvec2(0.519,0.547),vec2(0.583,0.547),\nvec2(0.583,0.547),vec2(0.583,0.624),\nvec2(0.583,0.624),vec2(0.569,0.657),\nvec2(0.519,0.392),vec2(0.483,0.303),\nvec2(0.483,0.303),vec2(0.483,0.201),\nvec2(0.483,0.201),vec2(0.455,0.201),\nvec2(0.519,0.392),vec2(0.555,0.303),\nvec2(0.555,0.303),vec2(0.555,0.201),\nvec2(0.555,0.201),vec2(0.528,0.201)\n);\n\n\nvec2 pt1_10[28]=vec2[](\nvec2(0.519,0.598),vec2(0.519,0.547),\nvec2(0.519,0.547),vec2(0.519,0.392),\nvec2(0.519,0.547),vec2(0.474,0.61),\nvec2(0.474,0.61),vec2(0.474,0.687),\nvec2(0.474,0.687),vec2(0.498,0.707),\nvec2(0.519,0.547),vec2(0.564,0.61),\nvec2(0.564,0.61),vec2(0.564,0.687),\nvec2(0.564,0.687),vec2(0.55,0.721),\nvec2(0.519,0.392),vec2(0.483,0.303),\nvec2(0.483,0.303),vec2(0.483,0.201),\nvec2(0.483,0.201),vec2(0.51,0.201),\nvec2(0.519,0.392),vec2(0.555,0.303),\nvec2(0.555,0.303),vec2(0.555,0.201),\nvec2(0.555,0.201),vec2(0.583,0.201)\n);\n\n\n\nvec2 pt1_11[28]=vec2[](\nvec2(0.519,0.598),vec2(0.519,0.547),\nvec2(0.519,0.547),vec2(0.519,0.392),\nvec2(0.519,0.547),vec2(0.455,0.547),\nvec2(0.455,0.547),vec2(0.455,0.624),\nvec2(0.455,0.624),vec2(0.479,0.643),\nvec2(0.519,0.547),vec2(0.583,0.547),\nvec2(0.583,0.547),vec2(0.583,0.624),\nvec2(0.583,0.624),vec2(0.569,0.657),\nvec2(0.519,0.392),vec2(0.483,0.303),\nvec2(0.483,0.303),vec2(0.483,0.201),\nvec2(0.483,0.201),vec2(0.455,0.201),\nvec2(0.519,0.392),vec2(0.555,0.303),\nvec2(0.555,0.303),vec2(0.555,0.201),\nvec2(0.555,0.201),vec2(0.528,0.201)\n);\n\nvec2 pt1_12[28]=vec2[](\nvec2(0.299,1.045),vec2(0.303,0.994),\nvec2(0.303,0.994),vec2(0.284,0.842),\nvec2(0.303,0.994),vec2(0.258,1.058),\nvec2(0.258,1.058),vec2(0.216,1.107),\nvec2(0.216,1.107),vec2(0.195,1.132),\nvec2(0.303,0.994),vec2(0.363,1.025),\nvec2(0.363,1.025),vec2(0.414,1.051),\nvec2(0.414,1.051),vec2(0.414,1.09),\nvec2(0.284,0.842),vec2(0.271,0.741),\nvec2(0.271,0.741),vec2(0.271,0.638),\nvec2(0.271,0.638),vec2(0.244,0.631),\nvec2(0.284,0.842),vec2(0.284,0.739),\nvec2(0.284,0.739),vec2(0.296,0.638),\nvec2(0.296,0.638),vec2(0.324,0.638)\n);\n\nvec3 DrawFigSolo(vec3 pColObj, vec3 colOut, float distObj ) \n{  colOut = mix(colOut,pColObj ,S( distObj,0.0)); return colOut; }\n\nvec3 D2(vec3 pColObj, vec3 colOut, float distObj ) \n{  colOut = mix(colOut,pColObj ,S2( distObj,0.0)); return colOut; }\n\n\nfloat sdCircle( vec2 p, float r )\n{ return length(p) - r;}\n\nfloat divf(float a, float b)\n{\n    //evita crash por 1/0.0 =Infinito=error, en compilar\n    if(b==0.0)\n    {b=0.00001;}\n    return a/b;\n}\n\nfloat sdSegment( in vec2 p, in vec2 a, in vec2 b )\n{  vec2 pa = p-a, ba = b-a;\n    float h = clamp( divf( dot(pa,ba),dot(ba,ba)), 0.0, 1.0 );\n    return length( pa - ba*h );\n}\n\n\n\nvec4 hacerCuerpo(vec2 p, vec3 colout,vec3 colin,  int poc, float rc)\n{\n    vec2 a, b;\n    int k,op;\n    k=0;\n    op=int(mod((iTime+float(poc))*3.0,11.0));\n    \n    for(int i=0;i<28;i++)\n    {\n        \n        if(op==0)\n        {  a=pt1_1[i];arr[k].A=a;b=pt1_1[i+1];arr[k].B=b;i++;k++;}\n        \n        \n        if(op==1)\n        {  a=pt1_2[i]; arr[k].A=a; b=pt1_2[i+1];  arr[k].B=b;i++; k++;}\n        \n        \n        if(op==2)\n        {  a=pt1_3[i]; arr[k].A=a; b=pt1_3[i+1];  arr[k].B=b; i++; k++;}\n        \n        \n        \n        if(op==3)\n        {  a=pt1_4[i]; arr[k].A=a; b=pt1_4[i+1];  arr[k].B=b; i++; k++; }\n        \n        \n        if(op==4)\n        {  a=pt1_5[i]; arr[k].A=a; b=pt1_5[i+1];  arr[k].B=b; i++; k++; }\n        \n        \n        if(op==5)\n        {  a=pt1_6[i]; arr[k].A=a; b=pt1_6[i+1];  arr[k].B=b; i++; k++;}\n        \n        \n        if(op==6)\n        {  a=pt1_7[i]; arr[k].A=a; b=pt1_7[i+1];  arr[k].B=b; i++; k++;\n        }\n        \n        \n        if(op==7)\n        {  a=pt1_8[i]; arr[k].A=a; b=pt1_8[i+1];  arr[k].B=b; i++; k++; }\n        \n        if(op==8)\n        {  a=pt1_9[i]; arr[k].A=a; b=pt1_9[i+1];  arr[k].B=b;i++; k++; }\n        \n        \n        if(op==9)\n        {  a=pt1_10[i]; arr[k].A=a; b=pt1_10[i+1];  arr[k].B=b; i++; k++; }\n        \n        \n        if(op==10)\n        {  a=pt1_11[i]; arr[k].A=a; b=pt1_11[i+1];  arr[k].B=b; i++; k++; }\n        \n        \n        if(op==11)\n        {  a=pt1_12[i]; arr[k].A=a; b=pt1_12[i+1];  arr[k].B=b; i++; k++; }\n        \n        \n    }\n    \n    if(op==11)\n    { colin=vec3(0.0,0.0,1.0);}\n    \n    float d2= sdCircle( p-arr[0].A-vec2(0.0,0.05), rc );\n   colout=D2( colin, colout,abs(d2)-0.01);\n    \n    float dfin,d1;\n    dfin=9999.9;\n    bool blncol;\n    \n    blncol=false;\n    for(int i=0;i<14;i++)\n    {\n        a=arr[i].A;\n        b=arr[i].B;\n        d1=sdSegment(p, a,b );\n        dfin=min(dfin,d1);\n        \n        \n         if(i==3)\n        {\n            colout=D2(vec3(1.0,1.0,0.0), colout,abs(d1)-0.01); }\n        else if(i==6)  //brazo der\n        {\n        colout=D2(vec3(0.0,1.0,0.0), colout,abs(d1)-0.01); }\n        else if(i==9) //rodilla izq\n        {\n        colout=D2(vec3(1.0,.0,1.0), colout,abs(d1)-0.01); }\n        else if(i==12) //rodilla der\n        {\n        colout=D2(vec3(0.0,1.0,1.0), colout,abs(d1)-0.01); }\n        else\n        {colout=D2(colin, colout,abs(d1)-0.01); }\n        \n    }\n\n    \n   float dfint=min(dfin, d1);\n   dfint=min(dfint, d2);\n   \n   \n   \n   \n   return vec4( colout, dfint);\n    \n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{   \n    \n     vec2 uv = ( 2. * fragCoord - iResolution.xy ) / iResolution.y;\n    uv-=vec2(-0.15,-0.5);\n    float esc=0.6;\n    uv*=esc;\n    vec2 uv0=uv;\n    \n    vec3 col=vec3(0.8); \n    if(2.0*sin(iTime)>0.0)\n    col=mix(col, vec3(0.0,0.0,1.0), uv.y-0.15);\n    \n    vec4 col4;\n    \n    float t=iTime;\n    col4= hacerCuerpo(uv-vec2(-1.0,0.0),col,vec3(0.0),0,0.05);\n    float grayColor = floor(col4.w * 30.0) / 30.0;\n    \n    col=col4.xyz;\n    float gc=(col.x+col.y+col.z)/3.0;\n    col=pow(col,  vec3(0.554545));\n    col4+=vec4(vec3(grayColor),1.0);\n    \n    //fragColor = vec4(col,1.0);\n    fragColor = col4;\n\n}","name":"Image","description":"","type":"image"}]}