{"ver":"0.1","info":{"id":"4cXGRH","date":"1702872963","viewed":47,"name":"Lissajous pretzel","username":"Scratchboard","description":"Simple Lissajous animation with slow phosphor decay. ","likes":3,"published":1,"flags":32,"usePreview":0,"tags":["snacklissajous"],"hasliked":0,"parentid":"MclGRr","parentname":"Cyanotype"},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage(out vec4 Y, in vec2 p)\n{\n\tvec2 uv = p.xy / iResolution.xy;\n\tY = texture(iChannel0, uv);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"#define p0 0.2\n#define q0 0.1\n#define p1 0.15\n#define q1 0.06\n#define p2 5.1\n#define k 0.998\n#define w 200000.\n\n\nvoid mainImage(out vec4 Y, in vec2 p)\n{\n    vec2 uv = p.xy / iResolution.xy;\n    \n    if (iFrame == 0) {\n        Y.rbg = vec3(0);\n        return;\n    }\n    \n    float dt = iTimeDelta;\n    \n    // x1 is prev pt, x0 is current pt\n    float q = sin((iTime - dt)/p2);\n    vec2 x1 = vec2(0.45*sin((iTime - dt) / p0 + q0 + q) + 0.5,\n                   0.45*sin((iTime - dt) / p1 + q1 + q) + 0.5);\n    q = sin(iTime/p2);\n    vec2 x0 = vec2(0.45*sin(iTime / p0 + q0 + q) + 0.5,\n                   0.45*sin(iTime / p1 + q1 + q) + 0.5);\n    \n    Y = k * texture(iChannel0, uv);\n    // am I between prev and current pts?\n    vec2 r = x0 - x1; float lr = length(r);\n    vec2 s = uv - x1; float ls = length(s);\n    float b = dot(r, s) / lr;\n    float d = sqrt(ls*ls - b*b);\n    if (ls <= lr && b > 0.) Y.rgb += vec3(exp(-d*d*w));\n    \n}","name":"Buffer A","description":"","type":"buffer"}]}