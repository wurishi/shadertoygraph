{"ver":"0.1","info":{"id":"4ctBR7","date":"1732854826","viewed":142,"name":"Non-Ortho Aberration","username":"hypernewbie","description":"Chromatic aberration that doesn't use standard RGB, resulting in different color bleeding and look.\n* Mouse click and drag left/right = more or less abberation.\n* Mouse click top half = non-ortho CA\n* Mouse click bottom half = standard RGB CA","likes":1,"published":3,"flags":0,"usePreview":1,"tags":["chromatic","abberation"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float amount = iMouse.x / iResolution.x;\n    float mode = iMouse.y / iResolution.y;\n    vec2 uv = fragCoord/iResolution.xy;\n    vec2 dir = uv - vec2(0.5, 0.5);\n\n    // Time varying pixel color\n    vec3 col0 = texture(iChannel0, uv).xyz;\n    vec3 col1 = texture(iChannel0, uv + dir * 0.02 * amount).xyz;\n    vec3 col2 = texture(iChannel0, uv + dir * 0.04 * amount).xyz;\n    \n    // Standard chromatic abberation\n    vec3 chromaticAbberationStandard = vec3(col0.r, col1.g, col2.b);\n    \n    // Non-Orgthogonal Basis abberation\n    vec3 basisX = vec3(174.0 / 255.0, 52.0 / 255.0, 235.0 / 255.0);\n    vec3 basisY = vec3(52.0 / 255.0, 192.0 / 255.0, 235.0 / 255.0);\n    vec3 basisZ = cross(basisX, basisY);\n    \n    mat3 B = mat3(basisZ, basisY, basisX);\n    mat3 IB = inverse(B);\n    \n    vec3 x0 = B * col0;\n    vec3 x1 = B * col1;\n    vec3 x2 = B * col2;\n    vec3 chromaticAbberationNonOrtho = IB * vec3(x0.r, x1.g, x2.b);\n\n    // Output to screen\n    if (mode > 0.5)\n        fragColor = vec4(chromaticAbberationNonOrtho, 1.0);\n    else\n        fragColor = vec4(chromaticAbberationStandard, 1.0);\n}","name":"Image","description":"","type":"image"}]}