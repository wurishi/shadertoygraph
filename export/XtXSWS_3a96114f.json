{"ver":"0.1","info":{"id":"XtXSWS","date":"1439186974","viewed":254,"name":"ShaderTracker-Sophia","username":"mikejmoffitt","description":"A small scrap from the Gimmick! song \"Sophia\" rendered with ShaderTracker. Some great destructive interference is going on between the aliased triangle waves and the saw waves. ","likes":6,"published":1,"flags":8,"usePreview":0,"tags":["music","tracker","famicom","gimmick","chip"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tfragColor = vec4(0.0,0.0,0.0,0.0);\n}\n","name":"","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"// ShaderTracker: Ridiculous shader summation sound engine\n// Engine / Function Builder by Michael Moffitt (https://github.com/mikejmoffitt/ShaderTracker)\n// Sound Generation Functions by Gerard Geer (https://github.com/gerard-geer)\n// Waveform definitions\n\nfloat saw(float t, float f, float a)\n{\n\treturn ((mod(t*0.5*f*0.31830989, 1.0)*2.0)-1.0)*a;\n}\n\nfloat sqr(float t, float f, float duty, float a)\n{\n\treturn step(duty, abs(saw(t,f * 0.5,1.0)))*a;\n}\n\nfloat tri(float t, float f, float a)\n{\n\treturn (((floor(abs(saw(t,f * 0.5,a))*16.0)*0.0625)*2.0)-1.0)*a;\n}\n\nfloat sine(float t, float f, float a)\n{\n\treturn sin(t*f)*a;\n}\n\nfloat noise(float t, float f, float a)\n{\n\treturn ((fract(sin(dot(vec2(t,f),vec2(12.9898,78.233)))*43758.5453)*2.0)-1.0)*a;\n}\n\nfloat l_decay(float t, float s, float l)\n{\n\treturn clamp(1.0-((t-s)/l), 0.0, 1.0);\n}\n\nfloat melody(float t0)\n{\n\tfloat result = 0.0;\n\tresult += ( (t0>=0.000000) ? ( (t0<0.600000) ? (l_decay(t0, 0.000000, 0.600000) * (tri(t0, 3103.159668, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=0.150000) ? ( (t0<0.750000) ? (l_decay(t0, 0.150000, 0.600000) * (tri(t0, 3287.684326, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=0.300000) ? ( (t0<0.900000) ? (l_decay(t0, 0.300000, 0.600000) * (tri(t0, 4142.217773, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=0.450000) ? ( (t0<1.050000) ? (l_decay(t0, 0.450000, 0.600000) * (tri(t0, 4925.957031, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=0.600000) ? ( (t0<1.200000) ? (l_decay(t0, 0.600000, 0.600000) * (tri(t0, 6206.319336, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=1.500000) ? ( (t0<2.100000) ? (l_decay(t0, 1.500000, 0.600000) * (tri(t0, 6575.368652, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=1.650000) ? ( (t0<2.250000) ? (l_decay(t0, 1.650000, 0.600000) * (tri(t0, 6206.319336, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=1.950000) ? ( (t0<2.550000) ? (l_decay(t0, 1.950000, 0.600000) * (tri(t0, 4925.957031, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=2.100000) ? ( (t0<2.700000) ? (l_decay(t0, 2.100000, 0.600000) * (tri(t0, 4142.217773, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=2.250000) ? ( (t0<2.850000) ? (l_decay(t0, 2.250000, 0.600000) * (tri(t0, 3287.684326, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=2.400000) ? ( (t0<3.000000) ? (l_decay(t0, 2.400000, 0.600000) * (tri(t0, 3103.159668, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=2.550000) ? ( (t0<3.150000) ? (l_decay(t0, 2.550000, 0.600000) * (tri(t0, 3287.684326, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=2.700000) ? ( (t0<3.300000) ? (l_decay(t0, 2.700000, 0.600000) * (tri(t0, 4142.217773, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=2.850000) ? ( (t0<3.450000) ? (l_decay(t0, 2.850000, 0.600000) * (tri(t0, 4925.957031, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=3.000000) ? ( (t0<3.600000) ? (l_decay(t0, 3.000000, 0.600000) * (tri(t0, 6206.319336, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=3.150001) ? ( (t0<3.750000) ? (l_decay(t0, 3.150001, 0.600000) * (tri(t0, 6575.368652, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=3.300001) ? ( (t0<3.900001) ? (l_decay(t0, 3.300001, 0.600000) * (tri(t0, 6206.319336, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=4.800002) ? ( (t0<5.400002) ? (l_decay(t0, 4.800002, 0.600000) * (tri(t0, 4142.217773, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=4.950002) ? ( (t0<5.550002) ? (l_decay(t0, 4.950002, 0.600000) * (tri(t0, 4388.528320, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=5.100002) ? ( (t0<5.700002) ? (l_decay(t0, 5.100002, 0.600000) * (tri(t0, 5529.203125, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=5.250002) ? ( (t0<5.850002) ? (l_decay(t0, 5.250002, 0.600000) * (tri(t0, 6575.368652, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=5.400002) ? ( (t0<6.000002) ? (l_decay(t0, 5.400002, 0.600000) * (tri(t0, 8284.435547, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=6.300003) ? ( (t0<6.900002) ? (l_decay(t0, 6.300003, 0.600000) * (tri(t0, 8777.056641, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=6.450003) ? ( (t0<7.050003) ? (l_decay(t0, 6.450003, 0.600000) * (tri(t0, 8284.435547, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=6.750003) ? ( (t0<7.350003) ? (l_decay(t0, 6.750003, 0.600000) * (tri(t0, 6575.368652, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=6.900003) ? ( (t0<7.500003) ? (l_decay(t0, 6.900003, 0.600000) * (tri(t0, 5529.203125, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=7.050003) ? ( (t0<7.650003) ? (l_decay(t0, 7.050003, 0.600000) * (tri(t0, 4388.528320, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=7.200003) ? ( (t0<7.800003) ? (l_decay(t0, 7.200003, 0.600000) * (tri(t0, 4142.217773, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=7.350003) ? ( (t0<7.950003) ? (l_decay(t0, 7.350003, 0.600000) * (tri(t0, 4388.528320, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=7.500003) ? ( (t0<8.100003) ? (l_decay(t0, 7.500003, 0.600000) * (tri(t0, 5529.203125, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=7.650003) ? ( (t0<8.250004) ? (l_decay(t0, 7.650003, 0.600000) * (tri(t0, 6575.368652, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=7.800004) ? ( (t0<8.400003) ? (l_decay(t0, 7.800004, 0.600000) * (tri(t0, 8284.435547, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=7.950004) ? ( (t0<8.550004) ? (l_decay(t0, 7.950004, 0.600000) * (tri(t0, 8777.056641, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=8.100003) ? ( (t0<8.700004) ? (l_decay(t0, 8.100003, 0.600000) * (tri(t0, 8284.435547, 0.250000))) : 0.0) : 0.0);\n\n\treturn result;\n}\n\nfloat melody2(float t0)\n{\n\tfloat result = 0.0;\n\tresult += ( (t0>=0.000000) ? ( (t0<0.700000) ? (l_decay(t0, 0.000000, 0.800000) * (tri(t0, 6237.351074, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=0.150000) ? ( (t0<0.850000) ? (l_decay(t0, 0.150000, 0.800000) * (tri(t0, 6608.245605, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=0.300000) ? ( (t0<1.000000) ? (l_decay(t0, 0.300000, 0.800000) * (tri(t0, 8325.857422, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=0.450000) ? ( (t0<1.150000) ? (l_decay(t0, 0.450000, 0.800000) * (tri(t0, 9901.173828, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=0.600000) ? ( (t0<1.300000) ? (l_decay(t0, 0.600000, 0.800000) * (tri(t0, 12474.702148, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=1.500000) ? ( (t0<2.200000) ? (l_decay(t0, 1.500000, 0.800000) * (tri(t0, 13216.491211, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=1.650000) ? ( (t0<2.350000) ? (l_decay(t0, 1.650000, 0.800000) * (tri(t0, 12474.702148, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=1.950000) ? ( (t0<2.650000) ? (l_decay(t0, 1.950000, 0.800000) * (tri(t0, 9901.173828, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=2.100000) ? ( (t0<2.800000) ? (l_decay(t0, 2.100000, 0.800000) * (tri(t0, 8325.857422, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=2.250000) ? ( (t0<2.950000) ? (l_decay(t0, 2.250000, 0.800000) * (tri(t0, 6608.245605, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=2.400000) ? ( (t0<3.100000) ? (l_decay(t0, 2.400000, 0.800000) * (tri(t0, 6237.351074, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=2.550000) ? ( (t0<3.250000) ? (l_decay(t0, 2.550000, 0.800000) * (tri(t0, 6608.245605, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=2.700000) ? ( (t0<3.400000) ? (l_decay(t0, 2.700000, 0.800000) * (tri(t0, 8325.857422, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=2.850000) ? ( (t0<3.550000) ? (l_decay(t0, 2.850000, 0.800000) * (tri(t0, 9901.173828, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=3.000000) ? ( (t0<3.700001) ? (l_decay(t0, 3.000000, 0.800000) * (tri(t0, 12474.702148, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=3.150001) ? ( (t0<3.850001) ? (l_decay(t0, 3.150001, 0.800000) * (tri(t0, 13216.491211, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=3.300001) ? ( (t0<4.000000) ? (l_decay(t0, 3.300001, 0.800000) * (tri(t0, 12474.702148, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=4.800002) ? ( (t0<5.500001) ? (l_decay(t0, 4.800002, 0.800000) * (tri(t0, 8325.857422, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=4.950002) ? ( (t0<5.650002) ? (l_decay(t0, 4.950002, 0.800000) * (tri(t0, 8820.941406, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=5.100002) ? ( (t0<5.800002) ? (l_decay(t0, 5.100002, 0.800000) * (tri(t0, 11113.698242, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=5.250002) ? ( (t0<5.950002) ? (l_decay(t0, 5.250002, 0.800000) * (tri(t0, 13216.491211, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=5.400002) ? ( (t0<6.100002) ? (l_decay(t0, 5.400002, 0.800000) * (tri(t0, 16651.714844, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=6.300003) ? ( (t0<7.000002) ? (l_decay(t0, 6.300003, 0.800000) * (tri(t0, 17641.882812, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=6.450003) ? ( (t0<7.150002) ? (l_decay(t0, 6.450003, 0.800000) * (tri(t0, 16651.714844, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=6.750003) ? ( (t0<7.450003) ? (l_decay(t0, 6.750003, 0.800000) * (tri(t0, 13216.491211, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=6.900003) ? ( (t0<7.600003) ? (l_decay(t0, 6.900003, 0.800000) * (tri(t0, 11113.698242, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=7.050003) ? ( (t0<7.750003) ? (l_decay(t0, 7.050003, 0.800000) * (tri(t0, 8820.941406, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=7.200003) ? ( (t0<7.900003) ? (l_decay(t0, 7.200003, 0.800000) * (tri(t0, 8325.857422, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=7.350003) ? ( (t0<8.050003) ? (l_decay(t0, 7.350003, 0.800000) * (tri(t0, 8820.941406, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=7.500003) ? ( (t0<8.200004) ? (l_decay(t0, 7.500003, 0.800000) * (tri(t0, 11113.698242, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=7.650003) ? ( (t0<8.350003) ? (l_decay(t0, 7.650003, 0.800000) * (tri(t0, 13216.491211, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=7.800004) ? ( (t0<8.500004) ? (l_decay(t0, 7.800004, 0.800000) * (tri(t0, 16651.714844, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=7.950004) ? ( (t0<8.650003) ? (l_decay(t0, 7.950004, 0.800000) * (tri(t0, 17641.882812, 0.250000))) : 0.0) : 0.0);\n\tresult += ( (t0>=8.100003) ? ( (t0<8.800003) ? (l_decay(t0, 8.100003, 0.800000) * (tri(t0, 16651.714844, 0.250000))) : 0.0) : 0.0);\n\n\treturn result;\n}\n\nfloat bass(float t0)\n{\n\tfloat result = 0.0;\n\tresult += ( (t0>=0.000000) ? ( (t0<1.200000) ? (l_decay(t0, 0.000000, 1.600000) * (saw(t0, 410.960541, 0.100000))) : 0.0) : 0.0);\n\tresult += ( (t0>=1.200000) ? ( (t0<2.400000) ? (l_decay(t0, 1.200000, 1.600000) * (saw(t0, 615.744629, 0.100000))) : 0.0) : 0.0);\n\tresult += ( (t0>=2.400000) ? ( (t0<3.600000) ? (l_decay(t0, 2.400000, 1.600000) * (saw(t0, 410.960541, 0.100000))) : 0.0) : 0.0);\n\tresult += ( (t0>=3.600000) ? ( (t0<4.800000) ? (l_decay(t0, 3.600000, 1.600000) * (saw(t0, 615.744629, 0.100000))) : 0.0) : 0.0);\n\tresult += ( (t0>=4.800000) ? ( (t0<6.000000) ? (l_decay(t0, 4.800000, 1.600000) * (saw(t0, 548.566040, 0.100000))) : 0.0) : 0.0);\n\tresult += ( (t0>=6.000000) ? ( (t0<7.200000) ? (l_decay(t0, 6.000000, 1.600000) * (saw(t0, 821.921082, 0.100000))) : 0.0) : 0.0);\n\tresult += ( (t0>=7.200000) ? ( (t0<8.400000) ? (l_decay(t0, 7.200000, 1.600000) * (saw(t0, 548.566040, 0.100000))) : 0.0) : 0.0);\n\tresult += ( (t0>=8.400000) ? ( (t0<9.599999) ? (l_decay(t0, 8.400000, 1.600000) * (saw(t0, 548.566040, 0.100000))) : 0.0) : 0.0);\n\n\treturn result;\n}\n\nfloat bass2(float t0)\n{\n\tfloat result = 0.0;\n\tresult += ( (t0>=0.000000) ? ( (t0<1.200000) ? (l_decay(t0, 0.000000, 1.600000) * (saw(t0, 411.782440, 0.100000))) : 0.0) : 0.0);\n\tresult += ( (t0>=1.200000) ? ( (t0<2.400000) ? (l_decay(t0, 1.200000, 1.600000) * (saw(t0, 616.976074, 0.100000))) : 0.0) : 0.0);\n\tresult += ( (t0>=2.400000) ? ( (t0<3.600000) ? (l_decay(t0, 2.400000, 1.600000) * (saw(t0, 411.782440, 0.100000))) : 0.0) : 0.0);\n\tresult += ( (t0>=3.600000) ? ( (t0<4.800000) ? (l_decay(t0, 3.600000, 1.600000) * (saw(t0, 616.976074, 0.100000))) : 0.0) : 0.0);\n\tresult += ( (t0>=4.800000) ? ( (t0<6.000000) ? (l_decay(t0, 4.800000, 1.600000) * (saw(t0, 549.663147, 0.100000))) : 0.0) : 0.0);\n\tresult += ( (t0>=6.000000) ? ( (t0<7.200000) ? (l_decay(t0, 6.000000, 1.600000) * (saw(t0, 823.564880, 0.100000))) : 0.0) : 0.0);\n\tresult += ( (t0>=7.200000) ? ( (t0<8.400000) ? (l_decay(t0, 7.200000, 1.600000) * (saw(t0, 549.663147, 0.100000))) : 0.0) : 0.0);\n\tresult += ( (t0>=8.400000) ? ( (t0<9.599999) ? (l_decay(t0, 8.400000, 1.600000) * (saw(t0, 549.663147, 0.100000))) : 0.0) : 0.0);\n\n\treturn result;\n}\n\nvec2 mainSound( in int samp,float t0)\n{\n\tt0 = t0 * 0.800000;\n\tvec2 result = vec2(0.0,0.0);\n\tfloat t1 = mod(t0,9.600000);\n\tresult += vec2(1.000000,1.000000) * (bass(t1));\n\tresult += vec2(1.000000,1.000000) * (bass2(t1));\n\tresult += vec2(1.000000,1.000000) * (melody(t1));\n\tresult += vec2(1.000000,1.000000) * (melody2(t1));\n\n\treturn result;\n}\n\n","name":"","description":"","type":"sound"}]}