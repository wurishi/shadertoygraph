{"ver":"0.1","info":{"id":"Wsl3W4","date":"1546280360","viewed":191,"name":"pulsating flower ","username":"lucastakejame","description":"the shader describes it self","likes":1,"published":1,"flags":64,"usePreview":0,"tags":["2d","soundvisualization"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XtXGRM","filepath":"https://soundcloud.com/chibi-tech/moecom-lynx-norcal-stylez-mix","previewfilepath":"https://soundcloud.com/chibi-tech/moecom-lynx-norcal-stylez-mix","type":"musicstream","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":0}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define ss(a,b,c) smoothstep(a,b,c)\n#define tx(b) texture(iChannel0, b)\n#define snd(x) texture(iChannel0, vec2(x,.1)).r\n\n#define PI 3.1415\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n    // proportional and translated uv\n    vec2 tuv = fragCoord/iResolution.y - vec2(.5*iResolution.x/iResolution.y, .5);\n    \n    \n    // [0, 2pi]\n    float angle = atan(tuv.y,tuv.x) + PI;\n    float d = length(tuv);\n\t\n    float r = .1; \n        r += .15*tx( vec2(angle/(2.*PI),0. ) ).r;\n        r += .05*cos(angle*10. + iTime);\n\t\t//r += .01*cos(angle*2.99 + iTime);\n\t\t//r += .01*cos(angle*3.01 + iTime); //mean?\n\n    // weird distortion in x axis\n    float dist = tx(vec2(uv.x, 0.)).r;\n    //snd = snd(.1);\n    \n    float modD = mod(d, (r+.01) * (1. + dist));\n    float divDist = trunc(d/r);\n    \n    // Time varying pixel color\n    vec3 col = 0.5 + 0.5*cos(snd(.5)*divDist+uv.xyx+vec3(0,2,4));\n    \n    float flower = ss(r,r + 0.1, r + abs(modD - r) );\n    \n    col = mix(\n        \tvec3(\n                snd(.01 * fract(flower)),\n                snd(.03 * fract(flower)),\n                snd(.05 * fract(flower))\n            ),\n        \tcol,\n\t\t\t(1.- flower)\n    \t\t);\n\n    // Output to screen\n    fragColor = vec4(col,1.0);\n    \n}","name":"Image","description":"","type":"image"}]}