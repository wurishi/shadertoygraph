{"ver":"0.1","info":{"id":"XcXyWs","date":"1721737917","viewed":53,"name":"魔幻山","username":"langzai","description":"一些彩色效果","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["2d","uv"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec2 CenterUV(vec2 fragCoord )//uv的居中与反拉伸https://www.shadertoy.com/view/M3cSDS\n{\n    return (2.0 * fragCoord - iResolution.xy) / min(iResolution.x, iResolution.y);\n}\nfloat CrateGrid(vec2 uv,float cellSize)//创建网格https://www.shadertoy.com/view/4fXyzr\n{\n    vec2 line = vec2(0.005)*uv.y;\n    uv = abs(mod(uv - 0.5 * cellSize,cellSize)-0.5 * cellSize);\n    vec2 gridUV= 1.- pow(uv,vec2(.4));\n    gridUV += 1.- (smoothstep(line-0.01, line +0.01,uv));\n    return gridUV.x * gridUV.y;\n}\nvec3 xyz(vec2 uv)\n{\n    float z = 1./abs(uv.y);\n    float x = uv.x * z;\n    return vec3(x,uv.y,z);\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = CenterUV(fragCoord );\n    vec3 xyz1 = xyz(uv);\n    vec3 xyz2 = xyz(vec2(uv.x,uv.y-0.7));\n    \n    vec3 col = 0.5 + 0.5*cos(iTime+vec3(xyz1.x,xyz1.y,xyz1.x)+vec3(0,2,4));\n    vec3 col2 = 0.5 + 0.5*cos(iTime+vec3(xyz2.x,xyz2.y,xyz2.x)+vec3(0,2,4));\n    \n    float grid = CrateGrid(vec2(xyz1.x+iTime,xyz1.z ),.4) *(1.-smoothstep(2.,5.,xyz1.z)) * step(xyz1.y,0.);\n    vec3 gridColor = grid * col;\n    \n    float mou = CrateGrid(vec2(sin(xyz2.x*5.+iTime)*.5+.5+iTime+100.),.5);\n    float mouMask =  (1.-smoothstep(1.5,2.5,length(vec2(xyz2.x,xyz2.y))))* step(xyz2.y,0.)* smoothstep(-.5,0.,xyz1.y);\n    vec3 mouCol =col2*mouMask*mou;\n    \n    col = gridColor +mouCol;\n    \n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}