{"ver":"0.1","info":{"id":"wssfWH","date":"1588224358","viewed":50,"name":"Moulins à vent","username":"moamine","description":"3 moulins à vent qui tourne en plein air, on peut changer la vitesse de rotation ainsi que la direction de la  rotation.","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["moulinavent"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\n//Pour changer la vitesse de rotation \n#define SPEED1 iTime\n#define SPEED2 iTime*1.0\n#define SPEED3 iTime*2.0\n#define SPEED4 iTime*3.0\n#define SPEED5 iTime*4.0\n#define SPEED8 iTime*8.0\n\n\nvec3 getSun(vec2 uv){\n\tfloat sun = 1.0 - distance(uv-0.9,iMouse.xy / iResolution.y);\n    sun = clamp(sun,0.0,1.0);\n    \n    float glow = sun;\n    glow = clamp(glow,0.0,1.0);\n    \n    sun = pow(sun,100.0);\n    sun *= 100.0;\n    sun = clamp(sun,0.0,1.0);\n    \n    glow = pow(glow,6.0) * 1.0;\n    glow = pow(glow,(uv.y));\n    glow = clamp(glow,0.0,1.0);\n    \n    sun *= pow(dot(uv.y, uv.y), 1.0 / 1.65);\n    \n    glow *= pow(dot(uv.y, uv.y), 1.0 / 2.0);\n    \n    sun += glow;\n    \n    vec3 sunColor = vec3(1.0,0.6,0.5) * sun;\n    \n    return vec3(sunColor);\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 p = fragCoord.xy / iResolution.xy;\n   \n\tvec2 q1 = p - vec2(0.2,0.5);\n    vec2 q2 = p - vec2(0.5,0.5);\n    vec2 q3 = p - vec2(0.8,0.5);\n\t\n    vec3 sun = getSun(p);\n    // Pour la couleur du ciel\n    vec3 col = mix( vec3(1.0,1.0,1.0), vec3(0.0,0.0,1.0), sqrt(p.y) );\n    \n    \n    \n\t\n\tfloat b = 0.015;\n\t\n    //construction et ajout de deux batons \n    col *= 1.0 - (1.0-smoothstep(b,b+0.002, abs(q1.x-0.25*sin(q1.y))))*(1.0-smoothstep(0.0,0.0,q1.y));\n    col *= 1.0 - (1.0-smoothstep(b,b+0.002, abs(q2.x-0.25*sin(q2.y))))*(1.0-smoothstep(0.0,0.0,q2.y));\n    col *= 1.0 - (1.0-smoothstep(b,b+0.002, abs(q3.x-0.25*sin(q3.y))))*(1.0-smoothstep(0.0,0.0,q3.y));\n    \n\t//construction de la tete des moulin à vent\n    float r1 = 0.05 + 0.2*cos( atan(q1.y,q1.x)*4.0 + SPEED8);\n\tcol *= smoothstep( r1, r1+0.01, length( q1 ) );\n    float r2 = 0.05 + 0.2*cos( atan(q2.y,q2.x)*4.0 - SPEED5);\n    col *= smoothstep( r2, r2+0.01, length( q2 ) );\n    float r3 = 0.05 + 0.2*cos( atan(q3.y,q3.x)*4.0 + SPEED8);\n    col *= smoothstep( r3, r3+0.01, length( q3 ) );\n    \n\t\n\tfragColor = vec4(col + sun,1.0);\n}","name":"Image","description":"","type":"image"}]}