{"ver":"0.1","info":{"id":"MdlBz2","date":"1497308077","viewed":1608,"name":"Laplace filter, edge detection","username":"adambene","description":"Edge detection with Laplace filter implemented by convolution.\nClick to show original image.","likes":8,"published":1,"flags":0,"usePreview":1,"tags":["edgedetection","edge","convolution","laplacefilter"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const int conv_length = 9,\n           conv_width = 3;\n\n// Laplace filter kernel\nconst float conv[conv_length] = float[conv_length](\n    -1.,-1.,-1.,\n    -1., 8.,-1.,\n    -1.,-1.,-1.\n);\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy,\n          ps = 1. / iResolution.xy; // pixel size\n\n    vec4 acc = vec4(0);\n\n    for (int i = 0; i < conv_length; i++){\n        vec2 d = vec2(i % conv_width, i / conv_width) - vec2(conv_width / 2);\n    \tacc += conv[i] * texture(iChannel0, uv + d * ps);\n    }\n    \n\tfragColor = iMouse.z < .5 ? acc : texture(iChannel0, uv);\n}","name":"Image","description":"","type":"image"}]}