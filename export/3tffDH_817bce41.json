{"ver":"0.1","info":{"id":"3tffDH","date":"1596552571","viewed":562,"name":"CGA Webcam","username":"nightfox","description":"An MS-DOS CGA palette webcam filter","likes":2,"published":3,"flags":2,"usePreview":0,"tags":["retro","webcam","cga","dos"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sf3zn","filepath":"/presets/webcam.png","previewfilepath":"/presets/webcam.png","type":"webcam","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n    \n    vec3 cam = texture(iChannel0, uv).rgb;\n    \n    cam *= 1.5;\n    \n    vec3 cga[4];\n    \n    cga[0] = vec3(0.);\n    cga[1] = vec3(1.);\n    cga[2] = vec3(0.,1.,1.);\n    cga[3] = vec3(1.,0.,1.);\n    \n    vec3 closestColor = cga[0];\n    float closestDistance = distance(cam, cga[0]);\n    for (int i = 0; i <= 3; i++) {\n        float currentDistance = distance(cam, cga[i]);\n        if (currentDistance < closestDistance) {\n        \tclosestDistance = currentDistance;\n            closestColor = cga[i];\n        }\n    }\n    \n    cam = closestColor;\n\n    // Output to screen\n    fragColor = vec4(cam,1.0);\n}","name":"Image","description":"","type":"image"}]}