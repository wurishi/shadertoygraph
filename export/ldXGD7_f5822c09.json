{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[{"channel":0,"type":"texture","id":"4dXGzn","filepath":"/media/a/0c7bf5fe9462d5bffbd11126e82908e39be3ce56220d900f633d58fb432e56f5.png","sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"}},{"channel":1,"type":"texture","id":"4sf3Rn","filepath":"/media/a/0a40562379b63dfb89227e6d172f39fdce9022cba76623f1054a2c83d6c0ba5d.png","sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"}}],"code":"float smoothNoise(vec2 uv, sampler2D iChannel)\n{  \n\treturn texture( iChannel, 2.0*uv ).x;\n}\n\nfloat turbulence(vec2 uv, float size, sampler2D iChannel)\n{\n    float value = 0.0, initialSize = size;\n    \n\tfor(size = initialSize; size >= 1.0; size /= 2.0) {\n        value += smoothNoise(vec2(uv.x / size, uv.y / size), iChannel) * size;\n    }\n    \n    return (0.5 * value / initialSize);\n}\n\nfloat getSpiral(vec2 uv, float t) {\n\tuv = uv * 2.0 - vec2(1.0, 1.0); // -1 .. +1\n\tfloat d = length(uv); // distance from center\n\tfloat thickness = 15.0 + cos(t * 0.10) * 3.0 + sin(d) * 3.0;\n\tfloat angle = degrees(atan(uv.y, uv.x)); // angle from center\t\n\treturn step(mod(angle + t + thickness * log(d), 30.0), thickness);\n}\n\nvec2 rotate(vec2 uv, float r) {\n\tmat2 mt = mat2(cos(r), -sin(r), sin(r), cos(r));\t\n\treturn uv * mt;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n\tfloat t = iTime;\n\tvec2 mid = vec2(0.5,0.5);\t\n\tfloat d = distance(uv, mid);\n\t\n\tfloat size = 64.0 + sin(t * 0.5) * 32.0;\n\n\tfloat r = t * 0.5;\n\tfloat c1 = turbulence(rotate(uv, r), size, iChannel0);\n\tfloat c2 = turbulence(rotate(uv, -r), size, iChannel1);\n\n\tfloat c = (c1 + c2) / 2.0;\n\tfloat s = getSpiral(uv, 50.0 - sin(t * 0.75) * 100.0);\n\tfragColor = vec4(c * 0.6,c * s,0.2,1.0);\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"ldXGD7","date":"1371733526","viewed":397,"name":"Smokey spiral","username":"Siiseli","description":"Generated smoke texture. A bit buggy for now(doesn't work for everyone), need to find a way to work around the for on line 10.","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["2d"],"hasliked":0,"parentid":"","parentname":""}}