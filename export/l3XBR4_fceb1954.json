{"ver":"0.1","info":{"id":"l3XBR4","date":"1728068429","viewed":37,"name":"Goodbye triangle","username":"Miolith","description":"Farewell","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["triangle","goodbye"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float sdTriangle( in vec2 p, in vec2 p0, in vec2 p1, in vec2 p2)\n{\n    vec2 e0 = p1-p0, e1 = p2-p1, e2 = p0-p2;\n    vec2 v0 = p -p0, v1 = p -p1, v2 = p -p2;\n    vec2 pq0 = v0 - e0*clamp( dot(v0,e0)/dot(e0,e0), 0.0, 1.0 );\n    vec2 pq1 = v1 - e1*clamp( dot(v1,e1)/dot(e1,e1), 0.0, 1.0 );\n    vec2 pq2 = v2 - e2*clamp( dot(v2,e2)/dot(e2,e2), 0.0, 1.0 );\n    float s = sign( e0.x*e2.y - e0.y*e2.x );\n    vec2 d = min(min(vec2(dot(pq0,pq0), s*(v0.x*e0.y-v0.y*e0.x)),\n                     vec2(dot(pq1,pq1), s*(v1.x*e1.y-v1.y*e1.x))),\n                     vec2(dot(pq2,pq2), s*(v2.x*e2.y-v2.y*e2.x)));\n    return -sqrt(d.x)*sign(d.y);\n}\n\nmat2 rot(float angle)\n{\n    float c = cos(angle);\n    float s = sin(angle);\n    \n    return mat2(c, -s,\n                s,  c);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord - (iResolution.xy/2.0)) / iResolution.y ;\n    \n    uv -= 0.2 * vec2(iTime, iTime);\n    uv *= rot(-iTime);\n\n    vec2 vertex1 = vec2(0.0, 0.3);\n    vec2 vertex2 = vec2(-0.3, -0.2);\n    vec2 vertex3 = vec2(0.3, -0.2);\n    \n    float dist = sdTriangle(uv, vertex1, vertex2, vertex3);\n    \n    vec3 col = vec3(0.0);\n    \n    if (dist > 0.0)\n    {\n        float a = 0.8 - dot(uv, vertex1);\n        float b = 0.8 - dot(uv, vertex2);\n        float c = 0.8 - dot(uv, vertex3);\n        \n        col = vec3(a, b, c);\n    }\n    \n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}