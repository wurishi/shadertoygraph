{"ver":"0.1","info":{"id":"lcdyR7","date":"1730427640","viewed":32,"name":"dFdx line AA example","username":"Chango","description":"simple example;may cause line wider than theory ","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["lineantialiase"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define MAX_AAStrength 3.9\n#define LineWidth 0.001f\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n\n    float r = length(uv);\n    float swi = fract(iTime*0.5f);\n    r=fract(10.*r);\n    //r=abs(2.*r-1.);\n    float r1=r;\n    float a=dFdx(r);\n    float b=dFdy(r);\n    //origin version: float off = sqrt(a*a+b*b);\n    float off = abs(a)+abs(b);\n    off*=mix(0.,MAX_AAStrength,swi);\n    \n    float r2min=r-off;\n    float r2max=r+off;\n    r = smoothstep(r2min,r2max,LineWidth);\n    float r2=r;\n    vec3 re1 = vec3(r1,r2,0.);\n    vec3 re2 = vec3(r1,r1,r1);\n    vec3 re3 = vec3(r2,r2,r2);\n    //float swi = fract(iTime*0.3f);\n    //if(swi<0.3333f)\n    {\n        //fragColor = vec4(re1,1.0);\n    }\n    //else if(swi<0.66666f)\n    {\n        //fragColor = vec4(re2,1.0);\n    }\n    //else\n    {\n        fragColor = vec4(re3,1.0);\n    }\n}","name":"Image","description":"","type":"image"}]}