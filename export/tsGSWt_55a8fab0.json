{"ver":"0.1","info":{"id":"tsGSWt","date":"1575309306","viewed":75,"name":"A Typical Winter Day","username":"JackC","description":"Voronoi","likes":7,"published":1,"flags":0,"usePreview":0,"tags":["voronoi"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float N21(vec2 p)\n{\n\tp = fract(p*vec2(233.34, 851.73));\n    p += dot(p, p+23.45);\n    \n    return fract(p.x*p.y);\n}\n\nvec2 N22(vec2 p) {\n\tfloat n = N21(p);\n    return vec2(n, N21(p+n));\n}\n\n\nfloat man_dist(vec2 a, vec2 b)\n{\n\treturn abs(a.x-b.x) + abs(a.y-b.y);\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = (2.*fragCoord - iResolution.xy) / iResolution.y;\n    \n    \n    \n    uv *= 4.;\n    \n    float t = iTime * 3.;\n    \n    vec2 gv = fract(uv)-.5;\n    vec2 id = floor(uv);\n    float minDist = 999.;\n    vec2 cid = vec2(0);\n    \n    vec2 mp = vec2(0.0);\n    \n    vec2 dir = vec2(0.0);\n    \n    for (float y = -1. ; y <= 1.; y++)\n    {\n        for (float x = -1. ; x <= 1.; x++)\n    \t{\n            vec2 offs = vec2(x,y);\n            \n            vec2 n = N22(id + offs);\n            \n            vec2 p = offs + sin(n*t) * .3;\n            \n            if (x == 0. && y == 0.)\n            {\n            \tmp = p;\n                dir = sin(n*t);\n            }\n            \n            float d = mix (length(gv-p), man_dist(gv,p), (sin(iTime)*0.5+0.5)*0.5);\n\t\t\t//float d = length(gv-p);\n            \n            if (d < minDist)\n            {\n            \tminDist = d;\n                cid = id+offs;\n            }\n    \t}\n    }\n    \n    vec3 col = vec3(0.);\n    \n  \tfloat uid = (cid.y + 5.0) / 13.0;\n\n    col = vec3(uid) * 1.5;\n\n\n    gv.y -= 0.07;\n    \n    if (cid == id && cid.x == 3.&& cid.y == 1.)\n    {\n \t\tif(length(gv-(mp+vec2(0.,0.05)))<0.1 && gv.y > mp.y + 0.05)\n        {\n        \tcol = vec3(0.2);\n        }\n        if (abs(gv.x - mp.x) < 0.08)\n        {\n            if (abs(gv.y - mp.y) < 0.05)\n            {\n                col = vec3(1);\n                if (gv.x - mp.x > 0.04 && gv.x - mp.x < 0.07)\n                {\n                \tcol = vec3(0.5);\n                }\n                \n            }\n            \n\n        }\n        \n       \n        \n        \n        \n        if (gv.y - mp.y < -0.05)\n        {\n            if (abs(gv.x - mp.x) < 0.1*(-gv.y+mp.y+1.0))\n            {\n                col = vec3(0.9,0.5,0.6);\n                \n                if (int(abs(gv.y - mp.y)*10.)%2 == 0)\n                {\n                \tcol = vec3(1.);\n                }\n            }\n        }\n        \n        \n    }\n    \n    \n    \n    \n\t\t\n\n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}