{"ver":"0.1","info":{"id":"stScDW","date":"1649687093","viewed":50,"name":"MetaBall Test 3","username":"beherca","description":"MetaBall \nSee How it work here https://www.desmos.com/calculator/zuibhrwjce","likes":1,"published":1,"flags":32,"usePreview":0,"tags":["metaball"],"hasliked":0,"parentid":"7tByDW","parentname":"MetaBall Test 2"},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n\n    //uv.x *= iResolution.x/iResolution.y;\n    vec3 col = vec3(texture(iChannel0, uv));\n    //col = (col - 0.5)* vec3(texture(iChannel1, uv)) -0.8;\n    col = col;\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"vec2 N22(vec2 uv){\n    vec3 a = fract(uv.xyx * vec3(123.34,234.34,345.65));\n    a += dot(a, a+34.45);\n    return fract(vec2(a.x*a.y, a.y*a.z));\n}\n\n\nvec3 circle(vec2 uv, vec2 pos, float size) {\n    uv.x = uv.x*iResolution.x/iResolution.y;\n    uv = uv - pos;\n    vec3 col = vec3(length(10./size*uv));\n    vec3 result = vec3(smoothstep(.98,1.0,col.x)); \n    return result;\n}\n\nfloat c(float x, float y, float t0, float t1, float r){\n    float result = r/sqrt((x-t0)*(x-t0) + (y-t1)*(y-t1)); \n    \n    return result;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n    vec3 preColor = vec3(texture(iChannel0, uv));\n    \n    uv.x = uv.x*iResolution.x/iResolution.y;\n    \n    // Time varying pixel color\n    vec3 col =vec3(0.);\n    vec2 pos = vec2(1.);\n    float sum  = 0.;\n    for(int i = 0; i < 40; i++ ){\n        pos = N22(vec2(float(i)+1.));\n        //col += 1.* (1. - circle(uv, N22(pos), 1.));\n        float radius = pos.x/220.;\n        sum += c(uv.x, uv.y, pos.x + 0.9* cos(iTime/pos.x/10.), pos.y + 0.5*cos(iTime/10.), radius); \n    }\n    \n    col = vec3( sum > 0.3 ? 1.: 0.) + 0.7*preColor*vec3(1.,0.,0.);\n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Buffer A","description":"","type":"buffer"}]}