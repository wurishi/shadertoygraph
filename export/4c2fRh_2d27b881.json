{"ver":"0.1","info":{"id":"4c2fRh","date":"1724643834","viewed":23,"name":"我的第一个sdf圆","username":"Johnson_Chen","description":"【带注释】等高线，边线，exp的函数图像是类似抛物线","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["circleexplain"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\nfloat sdfCircle(in vec2 p,float r){\n  return length(p) - r;\n}\n\n//修复uv\nvec2 fixUV(in vec2 c){\n  return (2. *c- iResolution.xy)/min(iResolution.x,iResolution.y);\n}\n\n//绘制圆\nfloat drawCircle(in vec2 p,float r){\n  return sdfCircle(p,r);\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n  vec3 colorBase = vec3(0.2431, 0.6627, 0.8706);\n    vec2 uv = fixUV(fragCoord);\n    float r = 0.7;\n    float d = drawCircle(uv,r );\n    vec3 color = 1.-sign(d)*colorBase;\n    // 其中 e 是自然对数的底数，大约等于 2.71828，abs(d) 表示 d 的绝对值。\n    // 如果 d 是正数，那么 exp(-3. * abs(d)) 会接近 0，color 将接近其原始值；\n    // 如果 d 是负数，那么 exp(-3. * abs(d)) 会接近 1\n    //所以d越接近0，就会乘一个接近0的数，所以边缘会变黑\n    //函数图像其实类似抛物线\n    // color*= d*d;\n    color *= 1. - exp(-3.*abs(d));\n    //等高线\n    color *= 0.8 + 0.4* sin(150. * abs(d));\n//边框勾出轮廓\nfloat width = 0.004;\nfloat width2 = width-0.001;\n//鼠标\nif(iMouse.z>0.1){//判断鼠标是否按下\nvec2 m = fixUV(iMouse.xy);\nfloat currentDistance = abs(sdfCircle(m,r ));\ncolor = mix(color,vec3(1.,1.,0.),\n smoothstep(0.01,0.0,abs(length(uv - m)-currentDistance)));\n}\n\n\n\ncolor = mix(color,vec3(1.),smoothstep(width,width2,abs(d)));\n    fragColor = vec4(color, 1.);\n\n\n}\n","name":"Image","description":"","type":"image"}]}