{"ver":"0.1","info":{"id":"ld3SRs","date":"1460836208","viewed":245,"name":"piano roll","username":"tomaes","description":"a scrolling piano.","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["2d","art"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    \n    float t = iTime + 10.0;\n    vec3  c = vec3(1.0,1.0,1.0);\n    float tw = 1.0/12.0;\n    \n    uv.x += t*0.1;\n    \n    if (uv.y > 0.88 && uv.y < 1.0)\n        c = 1.0-c;\n\n    // split keys at the bottom\n    if (uv.y < 0.15)\n        uv.x += sin(uv.x*t*0.01)*0.2;\n    if (uv.y < 0.2)\n        uv.x += cos(uv.x*t*0.01)*0.02;\n    \n    uv.y += 0.08;\n    \n    // white keys + sepatation\n    if (uv.y > 0.2 && uv.y < 0.95)\n    {\n        c = vec3(1.0-uv.y*0.01,0.95,0.92);\n        \n        if (mod(uv.x, tw) < 0.002)\n        \tc = vec3(0.0,0.0,0.0);\n    }\n    \n\t// white keys shade\n    if (uv.y > 0.2 && uv.y < 0.95)\n    {        \n        if (mod(uv.x+0.08,tw) < 0.06)\n        \tc = vec3(1.0,1.0,0.99);\n    }\n\n    float p = mod(uv.x-0.05, tw*7.0);\n    \n\t// black keys\n    if ( uv.y > 0.55 && uv.y < 0.95 )\n    {\n\t\tif (\n            (p > 0.02  && p < 0.05)  // c#\n         || (p > 0.10  && p < 0.13)  // d#\n         || (p > 0.27  && p < 0.30)  // f#           \n         || (p > 0.35  && p < 0.38)  // g#           \n         || (p > 0.435 && p < 0.465) // a#           \n            )\n        \tc = vec3(uv.y * 0.2, uv.y * 0.15, 0.0);\n    }\n    \n    // black keys shading\n    if ( uv.y > 0.55 && uv.y < 0.95 )\n    {\n\t\tif (\n            (p > 0.02  && p < 0.028)  // c#\n         || (p > 0.10  && p < 0.108)  // d#\n         || (p > 0.27  && p < 0.278)  // f#           \n         || (p > 0.35  && p < 0.358)  // g#           \n         || (p > 0.435 && p < 0.442)  // a#           \n            )\n        \t//c = vec3(uv.y * 0.6, uv.y * 0.15, 0.0);\n            c = vec3(0.5,0.5,0.5);\n    }\n    \n    \n\tfragColor = vec4(c, 1.0);\n}","name":"Image","description":"","type":"image"}]}