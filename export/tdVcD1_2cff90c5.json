{"ver":"0.1","info":{"id":"tdVcD1","date":"1602786904","viewed":142,"name":"First Audio Visualizer","username":"Dogemaster09","description":"I snagged the draw line function from https://www.shadertoy.com/view/4ljfRD. The song is CENSORED!! (Short ver.) by t+pazolite. There seems to be some weird obstruction happening with the line drawing, if somebody could help me with that it would be great","likes":1,"published":1,"flags":64,"usePreview":0,"tags":["test","audio","visualizer","tpazolite"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"MlSGW3","filepath":"https://soundcloud.com/t-pazolite/censored-short-ver","previewfilepath":"https://soundcloud.com/t-pazolite/censored-short-ver","type":"musicstream","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":0}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float drawLine(vec2 p1, vec2 p2, vec2 uv, float a)\n{\n    float r = 0.;\n    float one_px = 1. / iResolution.x;\n    \n    float d = distance(p1, p2);\n    \n    float duv = distance(p1, uv);\n\n    r = 1.-floor(1.-(a*one_px)+distance (mix(p1, p2, clamp(duv/d, 0., 1.)),  uv));\n        \n    return r;\n}\n\nfloat getF(float p, sampler2D f) {\n\treturn texture(f, vec2(p,0.)).x;\n}\n\nbool circle(vec2 uv, vec2 p, float r) {\n    return length(vec2(uv.x*(iResolution.x/iResolution.y), uv.y)-vec2(p.x*(iResolution.x/iResolution.y), p.y))<r;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    float f = texture(iChannel0, vec2(round(uv.x*10.)/10., 0.)).x;\n    float c = 0.;\n    float l = 0.;\n    for(int i=0; i<11; i++) {\n    \tc += float(circle(uv, vec2(float(i)/10., f*1.5-.5), .01));\n    }\n    for(int i=0; i<10; i++) {\n    \tl += drawLine(vec2(float(i)/10., getF(float(i)/10., iChannel0)*1.5-.5), vec2(float(i+1)/10., getF(float(i+1)/10., iChannel0)*1.5-.5), uv, 1.);\n    }\n    fragColor = vec4(l+c);\n}","name":"Image","description":"","type":"image"}]}