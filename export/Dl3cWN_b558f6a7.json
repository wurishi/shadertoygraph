{"ver":"0.1","info":{"id":"Dl3cWN","date":"1699189288","viewed":42,"name":"sdf_segement","username":"yufengjie","description":"sdf_segement","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["sdf","line","segement"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\n// https://iquilezles.org/articles/distfunctions2d/\nfloat sdSegment(in vec2 p, in vec2 a, in vec2 b) {\n  vec2 pa = p - a, ba = b - a;\n  float h = clamp(dot(pa, ba) / dot(ba, ba), 0.0, 1.0);\n  return length(pa - ba * h);\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n  vec3 finc = vec3(0.0);\n\n  vec2 center = iResolution.xy / 2.0;\n\n  float seg = 1.0 - step(4., (sdSegment(fragCoord.xy, center, iMouse.xy)));\n  finc += seg * vec3(1.0, 0.0, 0.0);\n\n  float cir1 = 1.0 - smoothstep(0., 10., distance(center, fragCoord.xy) - 5.0);\n  float cir2 = 1.0 - smoothstep(0., 10., distance(iMouse.xy, fragCoord.xy) - 5.0);\n  finc += cir1 * vec3(0.0, 0.0, 1.0);\n  finc += cir2 * vec3(0.0, 1.0, 0.0);\n\n  fragColor = vec4(finc, 1.0);\n}","name":"Image","description":"","type":"image"}]}