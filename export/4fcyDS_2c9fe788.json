{"ver":"0.1","info":{"id":"4fcyDS","date":"1731065133","viewed":43,"name":"Golden Flower of Life Grid","username":"jomoho","description":"Fork without color cycling, zooming and rotation","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["hexagon"],"hasliked":0,"parentid":"4dGGzc","parentname":"Flower of life RGB"},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// (c) 2016 xoihazard\n\n#define TWO_PI 6.2831853072\n#define PI 3.14159265359\n\nconst float timeScale = 0.2;\nconst float displace = 0.01;\nconst float gridSize = 12.0;\nconst float wave = 5.0;\nconst float brightness = .15;\n//const vec3  tint = vec3(.89,0.71,.0);\n\nconst vec3  tint1 = vec3(1.89,1.51,0);\nconst vec3  tint2 = vec3(0.79,0.0,2.92);\n\n\nvec2 rotate(in vec2 v, in float angle) {\n    float c = cos(angle);\n    float s = sin(angle);\n    return v * mat2(c, -s, s, c);\n}\n\nvec3 coordToHex(in vec2 coord, in float scale, in float angle) {\n    vec2 c = rotate(coord, angle);\n    float q = (1.0 / 3.0 * sqrt(3.0) * c.x - 1.0 / 3.0 * c.y) * scale;\n    float r = 2.0 / 3.0 * c.y * scale;\n    return vec3(q, r, -q - r);\n}\n\nvec3 hexToCell(in vec3 hex, in float m) {\n    return fract(hex / m) * 2.0 - 1.0;\n}\n\nfloat absMax(in vec3 v) {\n    return max(max(abs(v.x), abs(v.y)), abs(v.z));\n}\n\nfloat nsin(in float value) {\n    return sin(value * TWO_PI) * 0.5 + 0.5;\n}\n\nfloat hexToFloat(in vec3 hex, in float amt) {\n    return mix(absMax(hex), 1.0 - length(hex) / sqrt(3.0), amt);\n}\n\nfloat calc(in vec2 tx, in float time) {\n    float angle = 0.; //PI * nsin(time * 0.1) + PI / 6.0;\n    float len = 5.0 - length(tx) * nsin(time);\n    float value = 0.0;\n    vec3 hex = coordToHex(tx, gridSize , angle);\n\n    for (int i = 0; i < 3; i++) {\n        float offset = float(i) / 3.0;\n        vec3 cell = hexToCell(hex, 1.0 + float(i));\n        value += nsin(hexToFloat(cell,nsin(len + time + offset)) * \n                  wave * nsin(time * 0.5 + offset) + len + time);\n    }\n\n    return value / 3.0;\n}\n\nvec3 interp(in vec3 a, in vec3 b, in float t){\n    return a * (1.-t) + b * t;\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    vec2 tx = (fragCoord / iResolution.xy) - 0.5;\n    tx.x *= iResolution.x / iResolution.y;\n    float time = iTime * timeScale;\n    \n    float val = pow(calc(tx, time *PI*0.1), 1.5);\n    \n    \n    fragColor = vec4(interp(tint1,tint2,val+ brightness), 1.0);\n}","name":"Image","description":"","type":"image"}]}