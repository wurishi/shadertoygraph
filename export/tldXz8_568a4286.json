{"ver":"0.1","info":{"id":"tldXz8","date":"1580417153","viewed":122,"name":"twin rays","username":"etown36","description":"twin rays from gigatron\n","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["ray","twin"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"Xdf3zn","filepath":"/media/a/85a6d68622b36995ccb98a89bbb119edf167c914660e4450d313de049320005c.png","previewfilepath":"/media/ap/85a6d68622b36995ccb98a89bbb119edf167c914660e4450d313de049320005c.png","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float rate = 0.02;\nvec4 colorIN = vec4(1.0,0.2,0.0,1.0);\nfloat Count = 20.0;\nfloat posY = 0.25;\nfloat posX = 0.25;\nfloat width = 0.25;\nfloat soft=0.50;\n\n#define PI 3.1415926\n\nvec3 rgb2hsv(vec3 c) {\n    vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\n    vec4 p = mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g));\n    vec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r));\n    float d = q.x - min(q.w, q.y);\n    float e = 1.0e-10;\n    return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);\n}\n// hsv2rgb\nvec3 hsv2rgb(vec3 c) {\n    vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n    vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n    return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\nfloat rays(vec2 uv, float c, float w, float s) {\n    uv.x = fract(uv.x*c)-0.5;\n    return smoothstep(-w, -w*s, uv.x) * smoothstep(w, w*s, uv.x);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n \n    vec2 uv = fragCoord/iResolution.xy*2.-1.0;\n\n    uv.x *= iResolution.x/iResolution.y;\n    \n    float ratio = iResolution.y/iResolution.x;\n  \n    vec3 color ;\n    vec3 col;\n    vec2 UV;\n    float m=0.0;\n    float angle=1.;\n    float radius=0.13;\n    float count = floor(Count);\n    uv.y -= posY;\n    vec3 hvs = rgb2hsv(colorIN.rgb);\n    vec3 colorA = hsv2rgb(vec3(hvs.x +0.1, hvs.y, hvs.z));\n    vec3 colorB = hsv2rgb(vec3(hvs.x -0.1, hvs.y, hvs.z));\n    for(int i = 0;  i< 2; i++) {\n        UV = uv;\n        UV.x -= posX*(1.0-(float(i)*2.0));\n        UV.x *= 1.0-(float(i)*2.0);\n        angle = atan(UV.y, UV.x);\n        angle = angle/((PI*4.0)*0.5) + iTime*rate;\n        radius = length(UV);\n        UV = vec2(angle, radius*1.5);\n        col = mix(colorA, colorB, abs(UV.y)/ratio);\n        m = rays(UV, count, width, soft);\n        m = pow(m, 3.0);\n        color += col*m;\n    }\n   fragColor = vec4(color, 1.0);\n}","name":"Image","description":"","type":"image"}]}