{"ver":"0.1","info":{"id":"fs3Bzf","date":"1656969978","viewed":132,"name":"WavesWaves","username":"opexu","description":"waveswaves","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["waveswaves"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sXGzn","filepath":"/media/a/a6a1cf7a09adfed8c362492c88c30d74fb3d2f4f7ba180ba34b98556660fada1.mp3","previewfilepath":"/media/ap/a6a1cf7a09adfed8c362492c88c30d74fb3d2f4f7ba180ba34b98556660fada1.mp3","type":"music","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.1415\n\nfloat wu(float p){\n    float t = iTime*0.5;\n    float v = sin(p*2.123)*0.2;\n    v+=sin(p*3.234+t*4.345)*0.1;\n    v+=sin(p*0.589+t*0.934)*0.5;\n    return v;\n}\n\nfloat wd(float p){\n    float t = iTime*0.5;\n    float v = sin(p*1.345)*0.3;\n    v+=sin(p*2.734+t*3.345)*0.2;\n    v+=sin(p*0.189+t*0.934)*0.3;\n    return v;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    uv *= 2.;\n    uv -= 1.;\n    \n    float ux = texelFetch(iChannel0, ivec2(abs(uv.x*8.0), 1), 0).x;\n    \n    float wx = uv.x+wu(uv.y);\n    float wy = uv.y-wu(uv.x*cos(iTime)*1.235);//*mod(ux,.8)); //1.235\n    float vx = uv.x+wd(uv.y);\n    float vy = uv.y-wd(uv.x*sin(iTime)*1.235);//*mod(ux,.6)); // 1.235\n\n    vec2 wt = vec2(wx, wy); // up warp\n    vec2 vt = vec2(vx, vy); // down warp\n    \n    vec2 st = mix(wt, vt, mix(wt,vt,0.5));\n    float tx = texelFetch(iChannel0, ivec2(abs(st.x*20.0), 1), 0).x;\n    float ty = texelFetch(iChannel0, ivec2(abs(st.y*20.0), 0), 0).x;\n    float bx = min((1.-length(st/tx)), (length(st/tx)-1.0));\n    float by = pow(step(abs(ty-st.x)*2.,PI/2.)*cos(2.*(ty-st.x)),5.);\n    \n    float yu = smoothstep(0.2, 0.6, st.y); //0.2, 0.6\n    float yd = smoothstep(-0.2, -0.6, st.y); //-0.2,-0.6\n    float m = 1.-max(yu, yd);\n    \n    float tile = 20.;\n    \n    float my;\n    for(float i = 1.; i<3.; i++){\n        my += pow(max(fract(st.y*tile),fract(-st.y*tile)),i*2.);\n    }\n    \n    \n    \n    float s = m*my;\n    vec3 col = vec3((s+my*by)*(cos(st.y+iTime*0.234)*.5+1.), (s+m*by)*(sin(st.x+iTime*1.745)*.5+1.), (s+my*by)*(cos(st.x+iTime*0.534)*.5+1.));\n    //col = vec3(my*by);\n    //col = vec3(s+bx);\n    \n    fragColor = vec4(col, 1.0);\n}","name":"Image","description":"","type":"image"}]}