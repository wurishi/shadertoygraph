{"ver":"0.1","info":{"id":"XsfBzr","date":"1494533891","viewed":139,"name":"Ray marching rounded cubes","username":"ichko","description":"Ray marching rounded cubes","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["ray","round","marching","repeating"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XdXGzr","filepath":"/media/a/8979352a182bde7c3c651ba2b2f4e0615de819585cc37b7175bcefbca15a6683.jpg","previewfilepath":"/media/ap/8979352a182bde7c3c651ba2b2f4e0615de819585cc37b7175bcefbca15a6683.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define MAX 64\n#define EPS 0.1\n\nfloat de(vec3 pos) {\n    pos = mod(pos, 2.0) - 1.0;\n    pos *= sin(pos * 2.0);\n    return length(pos) - 0.2;\n}\n\nfloat march(vec3 ro, vec3 rd) {\n    float dist = 0.0;\n    for(int i = 0;i < MAX;++i) {\n        vec3 pos = ro + rd * dist;\n        float d = de(pos);\n        dist += d;\n        if(d < EPS) break;\n    }\n\n    return dist / float(MAX) * 3.0;\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    float ar = iResolution.x / iResolution.y;\n\tvec2 uv = fragCoord.xy / iResolution.y - vec2(ar * 0.5, 0.5);\n    \n    vec3 ro = vec3(0, 0, -1);\n    vec3 rd = normalize(vec3(uv, 1.0));\n    float i = march(ro, rd);\n    vec3 color = vec3(i, 0.0, 0.5);\n    \n\tfragColor = vec4(color, 1.0);\n}\n","name":"Image","description":"","type":"image"}]}