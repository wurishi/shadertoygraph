{"ver":"0.1","info":{"id":"msGczG","date":"1696259711","viewed":37,"name":"acre tileã€€rotation?","username":"Acre","description":"Why are the results different when they should be the same rotation?\nI don't know which is correct.","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["2d"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const float pi = acos(-1.0);\nconst float pi2 = pi*2.;\n\nmat2 rot(float a)\n{\n    float c = cos(a), s = sin(a);\n    return mat2(c,s,-s,c);\n}\nmat2 rotate2d(float angle)\n{\n\treturn mat2(cos(angle),-sin(angle),sin(angle),cos(angle));\n}\n\n\nfloat sdEquilateralTriangle(in vec2 p, in float r )\n{\n    const float k = sqrt(3.0);\n    p.x = abs(p.x) - r;\n    p.y = p.y + r/k;\n    if( p.x+k*p.y>0.0 ) p=vec2(p.x-k*p.y,-k*p.x-p.y)/2.0;\n    p.x -= clamp( p.x, -2.0*r, 0.0 );\n    return -length(p)*sign(p.y);\n}\nvec2 PolarMod(vec2 p, float r)\n{\n    float a =  atan(p.x, p.y) + pi/r;\n    float n = pi2 / r;\n    a = floor(a/n)*n;\n\n    return p*rot(-a);\n}\nvec2 PolarMod2(vec2 p, float r)\n{\n    float a =  atan(p.x, p.y) + pi/r;\n    float n = pi2 / r;\n    a = floor(a/n)*n;\n\nreturn p*rotate2d(-a);\n}\n\nvec3 pale_aqua=vec3(0.76,0.89,0.89);\nvec3 delft_blue=vec3(0.08,0.2,0.52);\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 p = (fragCoord.xy * 2.0 - iResolution.xy) / min(iResolution.x, iResolution.y);\n    p = abs(mod(p,0.2));\n    float AA=3.0/min(iResolution.x, iResolution.y);\n    float d=1.0;\n\n    vec3 col;\n\n    if(fragCoord.x < 0.5 * iResolution.x)\n    {\n        //Left\n        d=sdEquilateralTriangle(PolarMod(p-0.1,4.0)+vec2(0.05,0.0),0.1);\n        col=(d>0.0) ? pale_aqua:delft_blue;\n    }\n    else\n    {\n        //Right\n        d=sdEquilateralTriangle(PolarMod2(p-0.1,4.0)+vec2(0.05,0.0),0.1);\n        col=(d>0.0) ? pale_aqua:delft_blue;\n    }\n\n\tfragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}