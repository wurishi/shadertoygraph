{"ver":"0.1","info":{"id":"NtGGWR","date":"1637428609","viewed":140,"name":"ü§ñ‚Äç Robot Painter ‚Äçüé®","username":"rmmcal","description":"ü§ñ‚Äç Robot Painter ‚Äçüé®","likes":4,"published":1,"flags":32,"usePreview":0,"tags":["lines","robot","painter"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"/////////////////////////////////////////////////////////////\n//             ü§ñ‚Äç Robot Painter ‚Äçüé®                    ////\n/////////////////////////////////////////////////////////////\n// Brasil/Amazonas/Manaus\n// Created by Rodrigo Cal (twitter: @rmmcal)\n// - Published: 2021/11\n// https://www.shadertoy.com/view/NtGGWR\n/////////////////////////////////////////////////////////////\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    fragColor = texture(iChannel0,uv);\n    fragColor = mix(fragColor, texture(iChannel1,uv), max(0.0, cos(iTime*.5)-.7 ) );\n    fragColor = mix(fragColor, vec4(0.0), smoothstep(0.,1.2, length(uv-.5)));\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"\n\nfloat gray(vec4 c){\n    return (c.x+c.y+c.z) / 3.0;\n}\n\nfloat kRand = 0.0;\nfloat rnd(float v){\n    v += fract(0.5+kRand + (iDate.z+iDate.w)*31.77);\n    kRand = fract(cos(v*v*10.0)+v*123.12345+fract(iTime)+fract(float(iFrame)*.123)+kRand);\n    return abs(kRand);\n}\n\nfloat rnd(){\n    return rnd(0.0);\n}\n\nvec2 rnd2(){\n    return vec2(rnd(0.0),rnd(0.0));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 rp = 1.0/iResolution.xy;\n    vec2 uv = fragCoord*rp.xy;\n    vec2 p = fragCoord*rp.x;\n\n  \n    vec4 mem = texture(iChannel1,vec2(0.0));\n    if (iFrame == 0){\n        mem.xy = vec2(0.5);\n    }\n    \n    vec2 l1 = mem.xy;\n    vec2 l2 = rnd2();\n   \n    float len = 10.0*1.0*(rnd()*.5+.5); \n    float a = mem.z + (rnd()-.5)*2.;\n    vec2 dir = + vec2(cos(a),sin(a))*rp.x*len;\n  \n    float dbase = abs(gray(texture(iChannel1,l1))-gray(texture(iChannel0,l1)));\n    l2 =  l1.xy + dir*( 2.)*(1.-dbase);\n    \n    l2 = (l2 - 0.5) * (0.99) + 0.5;\n\n    if (floor(fragCoord) == vec2(0.0))\n    {\n        fragColor.xy = l2 ;\n        fragColor.z = a;\n    }\n    else\n    {\n        vec3 c;\n        float v = 0.0;\n        for (float i = 0.0 ; i < len; i++){\n            vec2 p2 = uv;\n            p2 = (l2-l1)*i/len + l1;\n            float bg = gray(texture(iChannel1,p2));\n            float tx = gray(texture(iChannel0,p2));\n            float diff = ( tx - bg );\n            diff = clamp(diff, -1.0 , 1.0);\n            v += diff;\n        }\n        v /= len;\n        c = texture(iChannel1,uv).rgb;\n\n        c = c+(v) * max(0., (abs(v)+.2)*.04-length(uv-l1))*5.;\n        \n        fragColor = vec4(c,1.0);\n        \n        if (iFrame == 0){\n            fragColor = vec4(1.0);\n        }\n    }\n}","name":"Buffer A","description":"","type":"buffer"}]}