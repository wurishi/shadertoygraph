{"ver":"0.1","info":{"id":"DddBDr","date":"1697048097","viewed":34,"name":"Blast Wave","username":"CasualGarageCoder","description":"This deformation fragment shader simulates a shockwave with (ridiculous) chromatic aberration.\n\nLicense as CC0.","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["chromaticaberration","deformation","blast"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XdX3Rn","filepath":"/media/a/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg","previewfilepath":"/media/ap/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec2 center = vec2(0.1, 0.5);\n\nfloat force = 13.0;\nfloat size = 0.1;\n\nvec2 direction = vec2(1., 0.);\nfloat aperture = 0.64;\n\nfloat red_offset = 1.05;\nfloat green_offset = 1.1;\nfloat blue_offset = 0.95;\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n\n    vec2 uv = fragCoord/iResolution.xy;\n\n    float blast = (cos(iTime * 2.) + 1.) / 2.;\n\n    float dist = distance(uv, center);\n\tvec2 norm = normalize(uv - center);\n\n\tfloat angle = acos(dot(normalize(vec2(-direction.x, direction.y)), -norm));\n\tfloat mask = cos((angle * 1.5707963268) / (aperture + .00001)) * step(angle, aperture) * force;\n\n\tfloat blast_mask = smoothstep(blast - size/2., blast, dist);\n\tfloat total_size = blast + (size / 2.);\n\n\tvec3 offsets = vec3(red_offset, green_offset, blue_offset);\n\tvec3 forces = offsets * mask * blast_mask;\n\tvec3 raw_eases = total_size * offsets;\n\traw_eases = clamp(dist / raw_eases, vec3(0.), vec3(1.));\n\tvec3 easings = pow(raw_eases, forces);\n\tvec3 deforms = easings * dist;\n\t\n\tfragColor = vec4(\n\t\ttexture(iChannel0, center + (deforms.r * norm)).r,\n\t\ttexture(iChannel0, center + (deforms.g * norm)).g,\n\t\ttexture(iChannel0, center + (deforms.b * norm)).b,\n\t\t1.0);\n}","name":"Image","description":"","type":"image"}]}