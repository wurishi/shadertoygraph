{"ver":"0.1","info":{"id":"Nl3czn","date":"1659066292","viewed":432,"name":"Fire And Water [278 chars]","username":"Xor","description":"A little abstract shader based on [url=https://www.shadertoy.com/view/fstfR8]\"The Screen\"[/url].","likes":36,"published":1,"flags":0,"usePreview":0,"tags":["dof","bokeh","tweet","golf"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XsBSR3","filepath":"/media/a/cb49c003b454385aa9975733aff4571c62182ccdda480aaba9a8d250014f00ec.png","previewfilepath":"/media/ap/cb49c003b454385aa9975733aff4571c62182ccdda480aaba9a8d250014f00ec.png","type":"texture","channel":0,"sampler":{"filter":"nearest","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"/*\n    \"Fire And Water\" by @XorDev\n    \n    Tweet: twitter.com/XorDev/status/1552860385912430593\n    Twigl: t.co/WcFuaPQO7G\n\n    Based on \"The Screen\": https://www.shadertoy.com/view/fstfR8\n    \n    <300 chars playlist: https://www.shadertoy.com/playlist/fXlGDN\n*/\nvoid mainImage( out vec4 O, vec2 I)\n{\n    //Resolution for scaling\n    vec2 r = iResolution.xy,\n    //Rotated coordinates\n    c = mat2(9,1,-1,9) * (I+I-r),\n    //Iteration value\n    i = vec2(0,11),\n    //Temporary position variable for noise\n    p;\n    \n    //Clear fragcolor\n    for(O-=O;\n    //Loop 200 times\n    i.x<2e2;\n    //Add DOF sample (noise texture, 4 octaves and sine coloring)\n    O += pow(sin(texture(iChannel0,p*exp2(mod(i,4.))/2e3)*3.+p.x*.4+vec4(0,2,3,0))*.5+.5,4.+O-O))\n        //Compute DOF sample coordinates\n        p = c+sin(i)*sqrt(i++).x*c.y/4e2,\n        //Correct for perspective and scroll\n        p = p/(r+r-p*.1).y+iTime;\n    \n    //Fourth root for better coloring\n    O = sqrt(sqrt(O))*.3;\n}","name":"Image","description":"","type":"image"}]}