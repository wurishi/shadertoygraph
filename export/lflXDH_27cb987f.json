{"ver":"0.1","info":{"id":"lflXDH","date":"1725988172","viewed":22,"name":"dithering_xx","username":"timuber","description":"8x8 Bayer ordered dithering","likes":0,"published":1,"flags":2,"usePreview":0,"tags":["dither"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sf3zn","filepath":"/presets/webcam.png","previewfilepath":"/presets/webcam.png","type":"webcam","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\n\nfloat find_closest(int x, int y, float c0) {\n  int dither[64] = int[](\n    0, 32, 8, 40, 2, 34, 10, 42,\n    48, 16, 56, 24, 50, 18, 58, 26,\n    12, 44, 4, 36, 14, 46, 6, 38,\n    60, 28, 52, 20, 62, 30, 54, 22, \n    3, 35, 11, 43, 1, 33, 9, 41,\n    51, 19, 59, 27, 49, 17, 57, 25,\n    5, 47, 7, 39, 13, 45, 5, 37,\n    63, 31, 55, 23, 61, 29, 53, 21 \n  );\n  float limit = (float(dither[x + y * 8]) + 1.0)/64.0;\n  return step(limit, c0);\n}\n\nfloat fmod(float x, float y) {\n  return x - y * floor(x/y);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n  vec2 uv = fragCoord/iResolution.xy;\n\n  vec4 color = texture(iChannel0, uv);\n  vec4 lum = vec4(0.299, 0.587, 0.114, 0);\n  vec3 grayscale = vec3(dot(color, lum));\n\n  vec2 outputSize = iResolution.xy;\n  vec2 xy = vec2(uv.x * outputSize.x, uv.y * outputSize.y);\n  int x = int(fmod(xy.x, 8.0));\n  int y = int(fmod(xy.y, 8.0));\n\n  vec3 final = vec3(find_closest(x, y, grayscale.r));\n  vec4 result = vec4(final, 1.0);\n\n  fragColor = result;\n}","name":"Image","description":"","type":"image"}]}