{"ver":"0.1","info":{"id":"DtdfWS","date":"1701542991","viewed":30,"name":"Lambertian sphere","username":"wbt","description":"Calculates Lambertian (diffuse) lighting on a sphere. Use the mouse to change the location of the light source.","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["light"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n    float aspectRatio = iResolution.x / iResolution.y;\n    \n    // rescale coordinates (vertically from -1 to 1)\n    vec2 uv = 2.0 * fragCoord/iResolution.y - vec2(aspectRatio, 1.0);\n    \n    // normal vector of sphere\n    vec3 normal = vec3(uv, sqrt(1.0 - dot(uv, uv)));\n    \n    // light direction\n    vec3 light = normalize(vec3(iMouse.xy/iResolution.xy - 0.5, 1.0));\n    \n    // output to screen\n    float d = dot(normal, light);\n    fragColor = vec4(d, d, d, 1.0);\n}\n","name":"Image","description":"","type":"image"}]}