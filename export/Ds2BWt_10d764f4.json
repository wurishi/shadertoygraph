{"ver":"0.1","info":{"id":"Ds2BWt","date":"1690271195","viewed":57,"name":"Many Hearts Move Around","username":"zyz414275148","description":"Made with tutorial https://www.youtube.com/watch?v=dXyPOLf2MbU","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["2d"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define COLOR_RED vec3(1.0, 0.2, 0.2)\n#define LOOP_TIMES 5\n\nfloat SmoothMax(float a, float b, float t)\n{\n    float k = (b - a) / t + .5;\n    float h = max(0.0, min(k, 1.0));\n    float p = h * (1.0-h) * t;\n    \n    return (1.0-h)*a + h*b + p*.5;\n}\n\nfloat MakeOneHeart(vec2 pUV, vec2 pMouseParam, float pRadius)\n{\n    // Blur\n    float radius = pRadius;\n    float blurRate = radius * pMouseParam.y + .001;\n    \n    // UV\n    pUV.x *= .75;\n    pUV.y -= SmoothMax(sqrt(abs(pUV.x)) * .5, pow(blurRate, 1.7), 0.1) - .08;\n    \n    float d = length(pUV);\n\n    float c = smoothstep(radius + blurRate, radius - blurRate - .001, d);\n    \n    return c;\n}\n\nvec3 ClampColor(vec3 originCol, vec3 targetCol)\n{\n    originCol.x = clamp(.0, targetCol.x, originCol.x);\n    originCol.y = clamp(.0, targetCol.y, originCol.y);\n    originCol.z = clamp(.0, targetCol.z, originCol.z);\n    \n    return originCol;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord / iResolution.xy - .5) / vec2(iResolution.y / iResolution.x, 1.0) * 2.0;\n\n    // Mouse Controller\n    vec2 mouseParam = iMouse.xy / iResolution.xy;\n\n    // Final Color\n    vec3 finalCol = vec3(0.0);\n    \n    // LOOP\n    vec2 uvOffset = vec2(-1.0, -1.2);\n    float step = 1.0 / float(LOOP_TIMES) * 2.0;\n    float dir = 1.0;\n    for(int i = 0; i < LOOP_TIMES; i++)\n    {\n        uvOffset += vec2(0.0, step);\n        for(int j = 0; j < LOOP_TIMES; j++)\n        {\n        \n            uvOffset += vec2(step, 0.0);\n            \n            // Create a heart\n            vec2 pMouse = mouseParam;\n            if(dir < 0.0) { pMouse = 1.0 - pMouse; }\n            float c1 = MakeOneHeart(uv + dir * vec2(sin(iTime) * .3, cos(iTime) * .3) + uvOffset,\n                                    pMouse,\n                                    .15);\n\n            // Set color\n            vec3 col1 = vec3(c1) * COLOR_RED;\n            \n            finalCol += col1;\n            \n            dir *= -1.0;\n        }\n        uvOffset.x = -1.;\n    }\n    \n    // ⬇ If you dont want the color to be overlay, open this ⬇\n    // finalCol = ClampColor(finalCol, COLOR_RED);\n    \n    // Output to screen\n    fragColor = vec4(finalCol, 1.0);\n}","name":"Image","description":"","type":"image"}]}