{"ver":"0.1","info":{"id":"sdlSWj","date":"1619537118","viewed":143,"name":"Lava plasm ","username":"udovichenko","description":"Additive plasma with horizontal, vertical & radial gradient","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["procedural","2d","plasma"],"hasliked":0,"parentid":"4dlfW4","parentname":"Lava plasma"},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.14159265359\n#define EXP 2.71828182846\n\nfloat w1 = 3.0;\nfloat w2 = 1.0;\nfloat w3 = 20.0;\nfloat A = 1.0;\nfloat R = 3.0;\n\nfloat horizontal(in vec2 xy, float t) {\n    float v = cos(w1 * xy.x + A * t);\n\treturn v;\n}\n    \nfloat diagonal(in vec2 xy, float t) {\n    float v = cos(w2 * (xy.x * cos(t) + 5.0 * xy.y * sin(t)) + A * t);\n    return v;\n}\n\nfloat radial(in vec2 xy, float t) {\n    float x = 0.3 * xy.x - 0.5 + cos(t);\n    float y = 0.3 * xy.y - 0.5 + sin(t * 0.5);\n    float v = sin(w3 * sqrt(x * x + y * y + 1.0) + A * t);\n    \n    return v;\n}\n\nfloat map(float a, float b, float c, float d, float x) {\n    return ((x - a) * (d - c) / (b - a)) + c;\n}\n\nfloat log_map(float a, float b, float c, float d, float x) {\n    float x1 = map(a, b, 1.0, EXP, x);\n    return log(x1) * (d - c) + c;\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\t{\n    float t = iTime;\n\t\n    vec2 xy = fragCoord.xy / iResolution.xy;\n    float v = horizontal(xy, t);\n    \n    v += diagonal(xy, t);\n    v += radial(xy, t);\n    v /= 3.0;\n    \n    float r = map(-1.0, 1.0, 0.75, 1.0, sin(PI * v));\n    float g = map(-1.0, 1.0, 0.0, 0.8, sin(PI * v));\n    \n    g += log_map(-1.0, 1.0, 0.0, 0.1, cos(PI * v));\n    \n    float b = map(-1.0, 1.0, 0.0, 0.1, sin(PI * v));\n    fragColor = vec4(pow(r, R), pow(g, R), pow(b, R), 1.0);\n}","name":"Image","description":"","type":"image"}]}