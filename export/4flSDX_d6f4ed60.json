{"ver":"0.1","info":{"id":"4flSDX","date":"1705801558","viewed":104,"name":"fake drawing-woman","username":"jorge2017a2","description":"fake drawing-woman","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["fakedrawingwoman"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//por jorge2017a2\n//fake drawing-woman\n//---20-enero-2024-\n//referencia\n//https://iquilezles.org/articles/distfunctions2d\n///\n#define antialiasing(n) n/min(iResolution.y,iResolution.x)\n#define S(d,b) smoothstep(antialiasing(0.8),b,d)\n#define S2(d,b) smoothstep(6.0*antialiasing(0.5),b,d)\n#define PI     3.14159265\n#define TWO_PI 6.28318530\n\n\nfloat intersectSDF(float distA, float distB)\n\t{ return max(distA, distB);}\nfloat unionSDF(float distA, float distB)\n\t{ return min(distA, distB);}\nfloat differenceSDF(float distA, float distB)\n\t{ return max(distA, -distB);}\n\n\nvec3 DrawFigBorde(vec3 pColObj, vec3 colOut, float distObj )\n{ colOut = mix(colOut,pColObj ,S2( distObj,0.0));\n  colOut = mix(colOut,vec3(0.0) ,S2(abs( distObj)-0.005,0.0));\n  return colOut;\n}\n\n\nvec3 DrawFig(vec3 pColObj, vec3 colOut, float distObj )\n{  colOut = mix(colOut,pColObj ,S2( distObj-0.05,0.0)); return colOut;}\n\n\nvec3 DrawFigDelgado(vec3 pColObj, vec3 colOut, float distObj )\n{ colOut = mix(colOut,pColObj ,S2( distObj-0.001,0.0)); return colOut; }\n\n///oneshade    \nvec2 Rotate(in vec2 p, in vec2 o, in float r) \n{   float c = cos(r), s = sin(r);\n    return (p - o) * mat2(c, -s, s, c) + o;\n}\n\n\nfloat sdBox( in vec2 p, in vec2 b )\n{ vec2 d = abs(p)-b;  return length(max(d,0.0)) + min(max(d.x,d.y),0.0);  }\n\nfloat sdCircle( vec2 p, float r )\n{ return length(p) - r;}\n\n\nfloat dot2( in vec2 v ) { return dot(v,v); }\nfloat dot2( in vec3 v ) { return dot(v,v); }\nfloat ndot( in vec2 a, in vec2 b ) { return a.x*b.x - a.y*b.y; }\n\n\nfloat sdTrapezoid( in vec2 p, in float r1, float r2, float he )\n{\n    vec2 k1 = vec2(r2,he);\n    vec2 k2 = vec2(r2-r1,2.0*he);\n    p.x = abs(p.x);\n    vec2 ca = vec2(p.x-min(p.x,(p.y<0.0)?r1:r2), abs(p.y)-he);\n    vec2 cb = p - k1 + k2*clamp( dot(k1-p,k2)/dot2(k2), 0.0, 1.0 );\n    float s = (cb.x<0.0 && ca.y<0.0) ? -1.0 : 1.0;\n    return s*sqrt( min(dot2(ca),dot2(cb)) );\n}\n\n\n\n\nfloat opSmoothSub( float d1, float d2, float k ) {\n    float h = clamp( 0.5 - 0.5*(d2+d1)/k, 0.0, 1.0 );\n    return mix( d2, -d1, h ) + k*h*(1.0-h); \n}\n    \nfloat opSmoothIntersection( float d1, float d2, float k ) {\n    float h = clamp( 0.5 - 0.5*(d2-d1)/k, 0.0, 1.0 );\n    return mix( d2, d1, h ) + k*h*(1.0-h); \n}\n\nfloat opSmoothMin(float a, float b, float k)\n{\n    float h = clamp(0.5+0.5*(b-a)/k, 0.0, 1.0 );\n    return mix( b, a, h ) - k*h*(1.0-h);\n}\n\n\n\n\nfloat sdEllipse( in vec2 p, in vec2 ab )\n{\n    p = abs(p); if( p.x > p.y ) {p=p.yx;ab=ab.yx;}\n    float l = ab.y*ab.y - ab.x*ab.x;\n    float m = ab.x*p.x/l;      float m2 = m*m; \n    float n = ab.y*p.y/l;      float n2 = n*n; \n    float c = (m2+n2-1.0)/3.0; float c3 = c*c*c;\n    float q = c3 + m2*n2*2.0;\n    float d = c3 + m2*n2;\n    float g = m + m*n2;\n    float co;\n    if( d<0.0 )\n    {\n        float h = acos(q/c3)/3.0;\n        float s = cos(h);\n        float t = sin(h)*sqrt(3.0);\n        float rx = sqrt( -c*(s + t + 2.0) + m2 );\n        float ry = sqrt( -c*(s - t + 2.0) + m2 );\n        co = (ry+sign(l)*rx+abs(g)/(rx*ry)- m)/2.0;\n    }\n    else\n    {\n        float h = 2.0*m*n*sqrt( d );\n        float s = sign(q+h)*pow(abs(q+h), 1.0/3.0);\n        float u = sign(q-h)*pow(abs(q-h), 1.0/3.0);\n        float rx = -s - u - c*4.0 + 2.0*m2;\n        float ry = (s - u)*sqrt(3.0);\n        float rm = sqrt( rx*rx + ry*ry );\n        co = (ry/sqrt(rm-rx)+2.0*g/rm-m)/2.0;\n    }\n    vec2 r = ab * vec2(co, sqrt(1.0-co*co));\n    return length(r-p) * sign(p.y-r.y);\n}\n\nvec3 figura1(vec2 p, vec3 col)\n{\n    vec2 p0=p;\n    vec3 colc =vec3(0.0);\n    float r1,r2,he;\n    \nfloat dt,dts,dtm;\nfloat k=0.05;\nint type=6;\n\nvec2 pos=vec2(1.68,2.51);\nvec2 med=vec2(0.46,1.115);\nfloat d1= sdBox(p-pos, med );\ndt=d1;\ndts=d1;\ndtm=d1;\n\n\n\nr1=0.485;\nr2=0.71;\nhe=0.46;\npos=vec2(1.68,-1.93);\np=vec2(p.x, -p.y);\nfloat d4a= sdTrapezoid(p-pos, r1, r2, he);\ncol=DrawFigBorde(vec3(1.0,0.5,0.1), col, d4a);\n\ndt=min(dt,d4a);\ndtm=opSmoothMin(dtm, d4a, k);\n\np=p0;\np=vec2(p.x, -p.y);\nr1=0.6;\nr2=0.71;\nhe=0.305;\n pos=vec2(1.69,-1.725);\nfloat d5a= sdTrapezoid(p-pos, r1, r2, he);\ncol=DrawFigBorde(vec3(1.0,0.4,0.2), col, d5a);\ndt=min(dt,d5a);\ndtm=opSmoothMin(dtm,d5a, k);\n\np=p0;\n\n//pansa\np=vec2(p.x, -p.y);\nr1=0.555;\nr2=0.475;\nhe=0.635;\n pos=vec2(1.69,-3.015);\nfloat d7a= sdTrapezoid(p-pos, r1, r2, he);\ncol=DrawFigBorde(vec3(0.8,0.2,0.0), col, d7a);\ndt=min(dt,d7a);\ndtm=opSmoothMin(dtm,d7a, k);\n\n\np=p0;\n///busto\n r2=0.27;\n pos=vec2(1.37,3.29);\nfloat d2= sdCircle(p-pos,r2);\ncol=DrawFigBorde(vec3(1.0,0.0,0.0), col, d2);\ndtm=opSmoothMin(dtm,d2,k);\n\np=p0;\n//busto\nfloat r3=0.27;\n pos=vec2(2.02,3.28);\nfloat d3= sdCircle(p-pos,r3);\ncol=DrawFigBorde(vec3(1.0,0.0,0.0), col, d3);\ndtm=opSmoothMin(dtm,d3, k);\n\n\np=vec2(p.x, -p.y);\nr1=0.71;\nr2=0.82;\nhe=0.15;\npos=vec2(1.7,-1.29);\nfloat d8= sdTrapezoid(p-pos, r1, r2, he);\ncol=DrawFigBorde(vec3(1.0,0.8,0.0), col, d8);\ndt=min(dt,d8);\ndtm=opSmoothMin(dtm,d8, k);\n\n\n//p=p0;\n///pierna izq\nr1=0.3;\nr2=0.3;\nhe=0.64;\npos=vec2(1.5,-0.7);\n\nfloat ang = 9.0 * PI / 180.0;\nvec2 pr = Rotate(p-pos, med, ang);\nfloat d9= sdTrapezoid(pr, r1, r2, he);\ndtm=opSmoothMin(dtm,d9, k);\n\n\n///pierna der\nr1=0.3;\nr2=0.3;\nhe=0.64;\npos=vec2(1.9,-0.7);\nang = -9.0 * PI / 180.0;\npr = Rotate(p-pos, med, ang);\nfloat d10= sdTrapezoid(pr, r1, r2, he);\ndtm=opSmoothMin(dtm,d10, k);\n\n\n//pierna izq\npos=vec2(1.33,-0.85);\nmed=vec2(0.36,0.74);\n//rotar\nang = 9.0 * PI / 180.;\npr = Rotate(p-pos, med, ang);\nfloat d11  = sdEllipse(pr, med);\ndtm=opSmoothMin(dtm,d11, k);\n\n\n///pierna der\npos=vec2(2.01,-0.84);\nmed=vec2(0.36,0.74);\n//rotar\nang = -9.0 * PI / 180.;\npr = Rotate(p-pos, med, ang);\nfloat d12  = sdEllipse(pr, med);\ndtm=opSmoothMin(dtm,d12, k);\n\n\nfloat dshort=opSmoothMin(d8,d5a,k);\nfloat dtmp=d11;\ndshort=opSmoothSub(dtmp,dshort,k);\ndtmp=d12;\ndshort=opSmoothSub(dtmp,dshort,k);\n\n\n\n//brazo der\nr1=0.125;r2=0.175;he=0.725;\n pos=vec2(1.94,-3.915);\nang = -60.0 * PI / 180.0;\npr = Rotate(p-pos, med, ang);\nfloat d13= sdTrapezoid(pr, r1, r2, he);\ndtm=opSmoothMin(dtm,d13, k);\n\n\n//brazo izq\nr1=0.125; r2=0.175;he=0.725;\n pos=vec2(1.064,-4.5);\nang = 60.0 * PI / 180.0;\npr = Rotate(p-pos, med, ang);\nfloat d14= sdTrapezoid(pr, r1, r2, he);\ndtm=opSmoothMin(dtm,d14, k);\n\n//cabeza\np=p0;\n\n//cabeza\n pos=vec2(1.65,4.5);\n med=vec2(0.35,0.55);\nfloat d15=sdEllipse(p-pos,med);\n//col = DrawFigBorde(vec3(1.0,0.5,0.0),col,d15);\n\n//cuello\n pos=vec2(1.7,3.84);\n med=vec2(0.16,0.2);\nfloat d16= sdBox(p-pos, med );\ndtm=opSmoothMin(dtm,d16,k);\n\n\ncol=DrawFigBorde(vec3(1.0,0.5,0.0),col,d15); //cabeza\n//boca\np=p0;\npos=vec2(1.65,4.25);\nfloat d17= sdBox(p-pos,vec2(0.1,0.01) );\n\n\n//ojo izq\np=p0;\npos=vec2(1.55,4.5);\nfloat d18= sdBox(p-pos,vec2(0.05,0.01) );\n\n\n//ojo der\np=p0;\npos=vec2(1.75,4.5);\nfloat d19= sdBox(p-pos,vec2(0.05,0.01) );\n\ncol=DrawFigBorde(vec3(0.8,0.5,0.2), col, dtm);\ncol=DrawFigBorde(vec3(0.8,0.5,0.2),col,d2);\ncol=DrawFigBorde(vec3(0.8,0.5,0.2),col,d3);\n\ncol = DrawFigBorde(vec3(1.0,0.5,0.0),col,d15);\ncol = DrawFigBorde(vec3(0.0,0.0,0.0),col,d17);\ncol = DrawFigBorde(vec3(0.0,0.0,0.0),col,d18);\ncol = DrawFigBorde(vec3(0.0,0.0,0.0),col,d19);\n\n\n//col = DrawFigBorde(vec3(1.0,0.0,0.0), col,dshort);\n\nreturn col;\n}\n\n\n\nvec3 figura2(vec2 p, vec3 col)\n{    vec2 p0=p;\n    vec3 colc =vec3(0.0);\n    float r1,r2,he;\n    float dt,dts,dtm;\n    float k=0.05;\n\nvec2 pos=vec2(1.68,2.51);\nvec2 med=vec2(0.46,1.115);\nfloat d1= sdBox(p-pos, med );\ndt=d1;\ndts=d1;\ndtm=d1;\n\nr1=0.485;\nr2=0.71;\nhe=0.46;\npos=vec2(1.68,-1.93);\np=vec2(p.x, -p.y);\nfloat d4a= sdTrapezoid(p-pos, r1, r2, he);\ncol=DrawFigBorde(vec3(1.0,0.5,0.1), col, d4a);\ndt=min(dt,d4a);\ndtm=opSmoothMin(dtm, d4a, k);\np=p0;\n\n\np=vec2(p.x, -p.y);\nr1=0.6;\nr2=0.71;\nhe=0.305;\n pos=vec2(1.69,-1.725);\nfloat d5a= sdTrapezoid(p-pos, r1, r2, he);\ncol=DrawFigBorde(vec3(1.0,0.4,0.2), col, d5a);\ndt=min(dt,d5a);\ndtm=opSmoothMin(dtm,d5a, k);\np=p0;\n\n\n//pansa\np=vec2(p.x, -p.y);\nr1=0.555;\nr2=0.475;\nhe=0.7;\n pos=vec2(1.69,-3.01);\nfloat d7a= sdTrapezoid(p-pos, r1, r2, he);\ncol=DrawFigBorde(vec3(0.8,0.2,0.0), col, d7a);\ndt=min(dt,d7a);\ndtm=opSmoothMin(dtm,d7a, k);\n\np=p0;\n///busto\n r2=0.27;\n pos=vec2(1.37,3.29);\nfloat d2= sdCircle(p-pos,r2);\ncol=DrawFigBorde(vec3(1.0,0.0,0.0), col, d2);\ndtm=opSmoothMin(dtm,d2,k);\n\np=p0;\n//busto\nfloat r3=0.27;\n pos=vec2(2.02,3.28);\nfloat d3= sdCircle(p-pos,r3);\ncol=DrawFigBorde(vec3(1.0,0.0,0.0), col, d3);\ndtm=opSmoothMin(dtm,d3, k);\n\n\n//modifique datos\np=vec2(p.x, -p.y);\nr1=0.71;\nr2=0.82;\nhe=0.15;\npos=vec2(1.7,-1.29);\nfloat d8= sdTrapezoid(p-pos, r1, r2, he);\ncol=DrawFigBorde(vec3(1.0,0.8,0.0), col, d8);\ndt=min(dt,d8);\ndtm=opSmoothMin(dtm,d8, k);\n\np=p0;\n///pierna izq\nr1=0.3;\nr2=0.3;\nhe=0.64;\npos=vec2(1.4,0.6);\n\nfloat ang = 9.0 * PI / 180.0;\nvec2 pr = Rotate(p-pos, med, ang);\nfloat d9= sdTrapezoid(pr, r1, r2, he);\ndtm=opSmoothMin(dtm,d9, k);\n\n///pierna der\nr1=0.3;\nr2=0.3;\nhe=0.64;\npos=vec2(2.05,0.70);\nang = -9.0 * PI / 180.0;\npr = Rotate(p-pos, med, ang);\nfloat d10= sdTrapezoid(pr, r1, r2, he);\ndtm=opSmoothMin(dtm,d10, k);\n\n//pierna izq\npos=vec2(1.33,0.85);\nmed=vec2(0.36,0.74);\n//rotar\nang = 9.0 * PI / 180.;\npr = Rotate(p-pos, med, ang);\nfloat d11  = sdEllipse(pr, med);\ndtm=opSmoothMin(dtm,d11, k);\n\n\n///pierna der\npos=vec2(2.1,0.95);\nmed=vec2(0.36,0.74);\n//rotar\nang = -9.0 * PI / 180.;\npr = Rotate(p-pos, med, ang);\nfloat d12  = sdEllipse(pr, med);\ndtm=opSmoothMin(dtm,d12, k);\n\n//short -ropa\nfloat dshort=opSmoothMin(d8,d5a,k);\nfloat dtmp=d11;\ndshort=opSmoothSub(dtmp,dshort,k);\ndtmp=d12;\ndshort=opSmoothSub(dtmp,dshort,k);\n\n//brazo der\nr1=0.125;r2=0.175;he=0.725;\npos=vec2(1.94,3.215);\nang = -60.0 * PI / 180.0;\npr = Rotate(p-pos, med, ang);\nfloat d13= sdTrapezoid(pr, r1, r2, he);\ndtm=opSmoothMin(dtm,d13, k);\n\n\n//brazo izq\nr1=0.125; r2=0.175;he=0.725;\npos=vec2(1.14,2.6);\nang = 60.0 * PI / 180.0;\npr = Rotate(p-pos, med, ang);\nfloat d14= sdTrapezoid(pr, r1, r2, he);\ndtm=opSmoothMin(dtm,d14, k);\n\n//cabeza\n pos=vec2(1.75,4.5);\n med=vec2(0.35,0.55);\nfloat d15=sdEllipse(p-pos,med);\n////col = DrawFigBorde(vec3(1.0,0.5,0.0),col,d15);\n\n\n//cuello\n pos=vec2(1.7,3.84);\n med=vec2(0.16,0.2);\nfloat d16= sdBox(p-pos, med );\ndtm=opSmoothMin(dtm,d16,k);\n\n\ncol=DrawFigBorde(vec3(1.0,0.5,0.0),col,d15); //cabeza\n//boca\np=p0;\npos=vec2(1.65,4.25);\nfloat d17= sdBox(p-pos,vec2(0.1,0.01) );\n\n\n//ojo izq\np=p0;\npos=vec2(1.55,4.5);\nfloat d18= sdBox(p-pos,vec2(0.05,0.01) );\n\n\n//ojo der\np=p0;\npos=vec2(1.75,4.5);\nfloat d19= sdBox(p-pos,vec2(0.05,0.01) );\n\n\n\ncol=DrawFigBorde(vec3(0.8,0.5,0.2), col, dtm);\n\n\ncol = DrawFigBorde(vec3(1.0,0.5,0.0),col,d15);\ncol = DrawFigBorde(vec3(0.0,0.0,0.0),col,d17);\ncol = DrawFigBorde(vec3(0.0,0.0,0.0),col,d18);\ncol = DrawFigBorde(vec3(0.0,0.0,0.0),col,d19);\n\n\ncol=DrawFigBorde(vec3(0.8,0.5,0.2),col,d2);\ncol=DrawFigBorde(vec3(0.8,0.5,0.2),col,d3);\n//col = DrawFigBorde(vec3(1.0,0.0,0.0), col,dshort);\n\n\nreturn col;\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = -1.0 + 2.0 * fragCoord.xy/iResolution.xy;\n\tuv.x *= iResolution.x/iResolution.y;\n    vec2 uv0=uv;\n    uv-=vec2(-0.5,-1.);\n    \n    float esc=2.5;\n    uv*=esc;\n    \n    vec3 col=vec3(1.0);\n    float t=iTime;\n    vec2 uf1= Rotate(uv, vec2(2.35,1.0), radians(t*30.0));\n    vec2 uf2= Rotate(uv, vec2(1.0,1.0), radians(-t*30.0));\n    \n    col= figura1(uf1,col);\n    col= figura1(uf2,col);\n    \n    \n    if(sin(t*2.0)>0.0)\n    col= figura1(uv,col);\n    else\n    col= figura2(uv,col);\n\n    \n    col=pow(col,  vec3(0.554545));\n    fragColor = vec4(col,1.0);\n}\n","name":"Image","description":"","type":"image"}]}