{"ver":"0.1","info":{"id":"ssjfD3","date":"1647362991","viewed":124,"name":"Finnish Flag","username":"ToppoT","description":"Testing. First shader. Finnish flag.","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["flag"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec3 WHITE = vec3(1);\nvec3 BLUE = vec3(66, 135, 245)/255.;\nfloat SHADOW_STRENGTH = 0.85;\nfloat STRIPE_WIDTH = 0.26;\nvec2 STRIPE_POS = vec2(-0.315, 0);\nfloat PI = 3.1415926;\nfloat AMPLITUDE_H = 0.0145;\nfloat AMPLITUDE_V = 0.0225;\nfloat AMPLITUDE_1 = 0.0175;\nfloat WAVES_H = 2.11;\nfloat WAVES_V = 1.66;\nfloat WAVES_1 = 4.33;\nfloat SIZE_FACTOR = 0.85;\n\nvec2 Resize(vec2 uv, float sizeFactor)\n{\n    return uv / sizeFactor;\n}\n\nvec3 Flag(vec2 uv)\n{\n    float w = 1.25 * fwidth(uv.y);\n    float ar = iResolution.x / iResolution.y;\n    float distFromStripeTop = 1. - smoothstep(-w, w, uv.y - (STRIPE_POS.y + STRIPE_WIDTH / 2.));\n    float distFromStripeBot = smoothstep(-w, w, uv.y - (STRIPE_POS.y - STRIPE_WIDTH / 2.));\n\n    float distFromStripLeft = 1. - smoothstep(-w, w, uv.x - (STRIPE_POS.x + STRIPE_WIDTH / 2.));\n    float distFromStripRight = smoothstep(-w, w, uv.x - (STRIPE_POS.x - STRIPE_WIDTH / 2.));\n\n    float distV = min(distFromStripeTop, distFromStripeBot);\n    float distH = min(distFromStripLeft, distFromStripRight);\n    float dist = max(distV, distH);\n    vec3 col = mix(WHITE, BLUE, dist);\n    \n    col *= smoothstep(-w, w, min(uv.y + 0.5, 0.5 - uv.y));\n    col *= smoothstep(-w, w, min(uv.x + 0.5 * ar, 0.5 * ar - uv.x));\n    \n    return col;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float ar = iResolution.x / iResolution.y;\n    vec2 uv = fragCoord/iResolution.yy;\n    uv -= vec2(0.5 * ar, 0.5);\n    vec2 st = Resize(uv, SIZE_FACTOR);\n    float a = st.x * PI * WAVES_H - 1.75*iTime;\n    float b = st.y * PI * WAVES_V - 3.25*iTime;\n    float c = st.x * PI * WAVES_1 - 5.25*iTime + uv.y * 8.;\n    \n    st.y += AMPLITUDE_H * sin(a);\n    st.x += (uv.x + 0.25 * ar) * AMPLITUDE_V * sin(b);\n    st.y += (0.65 - uv.y) * AMPLITUDE_1 * sin(c);\n    \n    vec3 col = Flag(st);\n    \n    col *= (0.8 + 0.45 * cos(a))/3. + (0.9 + 0.4 * (uv.x + 0.25 * ar) * cos(b))/3. + (0.85 + 0.55 * (0.65 - uv.y) * cos(c))/3.;\n    \n    fragColor = vec4(col,1);\n}","name":"Image","description":"","type":"image"}]}