{"ver":"0.1","info":{"id":"4fcSzX","date":"1714314770","viewed":102,"name":"Catch (986 char 3D game)","username":"ukeshet","description":"3D game, now in 986 characters. Left click to navigate.\nGame pauses briefly (discard) when the red glowing ball is caught (not so easy!). \nFractal similar to Remnants by ockiller (https://www.shadertoy.com/view/4ccSzX).","likes":4,"published":1,"flags":32,"usePreview":0,"tags":["3d","fractal","game","raymarch"],"hasliked":0,"parentid":"4ccSzX","parentname":"Remnants full demo"},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"nearest","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Minimalistic playable 3D ray-marched fractal game.\n// Demo for ICP course, by ukeshet.\n// Better+shorter version: Catch2 (https://www.shadertoy.com/view/lfGSRz)\n// Version with music: Catch3 (https://www.shadertoy.com/view/XcVXzh)\n\nvoid mainImage(out vec4 O,vec2 C) {\n\tfloat i,l,f,F,S=50.,w,T=.2*iTime;\n\tvec3 a,v,R=iResolution,p,d,q=vec3(-140.*(sin(T)+sin(.23*T)),-145.*(cos(T)+sin(.35*T)),-180.-8.*T);\n    vec4 I=texture(iChannel0,C);\n    p=I.xyz;a.x=Q*round(I.w);a.y=fract(I.w)/.1-P;d=D(a)*normalize(vec3(2.*C-R.xy,-R.y));\n    for (F=l=0.;l<S;l++) {\n\t\tv=p;w=0.;f=length(p-q); \n        for(i=99.;i>.1;i*=.4) {\n\t\t\tv=.85*i-abs(mod(v+.5*vec3(v.z,0,-v.x),2.*i)-i);\n            w=min(f,max(w,min(v.x,min(v.y,v.z)))); }\n        p+=w*d; if (p.y>0.||w<.03) break;\n        if (f<5.) {F=9.;if(l<1.) discard;} }\n    O.xyz=mix(vec3(.5,.7,0),a*0.,.02*l); O.x+=F+.7-.003*f;\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"nearest","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"void mainImage(out vec4 O,vec2 C) {\n    vec3 p=vec3(-70,-140,10),a=vec3(0),m=iMouse.xyz/iResolution-.5;\n    if (iTime>.3) {\n        vec4 I=texture(iChannel0,C);\n        p=I.xyz; a.x=Q*round(I.w); a.y=fract(I.w)/.1-P;\n        m.z>0.?a+=.04*m:a;\n        a.x=mod(a.x,4.*P); a.y=clamp(-P,a.y,P);\n        p-=iTimeDelta*D(a)*vec3(0,0,11); }\n    O=vec4(p,round(a.x/Q)+.1*(a.y+P));\n}","name":"Buffer A","description":"","type":"buffer"},{"inputs":[],"outputs":[],"code":"#define P 1.57\n#define Q .001\nmat3 D(vec3 a) {\n    vec3 s=sin(a),c=cos(a);\n    return mat3(c.x,0,s.x,-s.x*s.y,c.y,c.x*s.y,-c.y*s.x,-s.y,c.x*c.y);\n}\n","name":"Common","description":"","type":"common"}]}