{"ver":"0.1","info":{"id":"cddfzn","date":"1696971261","viewed":58,"name":"Direction Vector Blur","username":"Rugged","description":"Kind of stylizes it and mostly preserves edges.","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["blur"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XdfGRr","filepath":"/media/a/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm","previewfilepath":"/media/ap/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec2 getDV(vec2 uv){\n    vec2 delta = 1. / iResolution.xy;\n    \n    vec2 up = vec2(0. , 1.);\n    vec2 right = vec2(1., 0.);\n    \n    \n    \n    \n    vec4 col = vec4(0.);\n    \n    \n    vec4 base = texture(iChannel0, uv);\n    \n    vec4 cU = texture(iChannel0, uv + up * delta);\n    vec4 cD = texture(iChannel0, uv - up * delta);\n    vec4 cL = texture(iChannel0, uv - right * delta);\n    vec4 cR = texture(iChannel0, uv + right * delta);\n    \n    float dU = dot(base, cU);\n    float dD = dot(base, cD);\n    float dL = dot(base, cL);\n    float dR = dot(base, cR);\n    \n    vec2 m = (dU * up) + (dD * -up) + (dL * -right) + (dR * right);\n    //m /= 2.;\n    //m*=10.;\n    \n    //vec2 mN = normalize(vec2(-m.y, m.x) + .0001);\n    \n    return m;//vec2(-m.y, m.x);\n}\n\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    \n    vec2 delta = 1. / iResolution.xy;\n    \n    vec2 up = vec2(0. , 1.);\n    vec2 right = vec2(1., 0.);\n    \n    \n    \n    \n    vec4 col = vec4(0.);\n    \n    \n    vec2 mN;\n    \n    \n    col = vec4(mN * delta, 0., 0.);\n    \n    vec2 p = uv;\n    \n    \n    vec4 temp;\n    \n    \n    vec4 base = texture(iChannel0, uv);\n    col = texture(iChannel0, uv);\n    \n    \n    for(int i = 0; i < 10; i++){\n        \n        mN = getDV(p);\n        \n        \n        \n        temp = texture(iChannel0, p);\n        col = mix(col, temp, .5);//(1. - length(base - temp)));\n        \n        \n        \n        p += 4. * delta * mN;\n        \n\n\n    }\n    \n    \n    \n    if(iMouse.z > 0.){\n        col = texture(iChannel0, uv);\n    }\n    \n    \n    \n    fragColor = col;\n}","name":"Image","description":"","type":"image"}]}