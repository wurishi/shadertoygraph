{"ver":"0.1","info":{"id":"XtKGDm","date":"1474994381","viewed":482,"name":"MicIn","username":"inantop","description":"microphone visualizer","likes":9,"published":1,"flags":4,"usePreview":0,"tags":["microphone"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XdXGRr","filepath":"/presets/mic.png","previewfilepath":"/presets/mic.png","type":"mic","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n   \tvec2 uv = fragCoord.xy / iResolution.xy;\n\tuv = uv * 2.0 - 1.0;\n    uv.y /= iResolution.x / iResolution.y;\n    \n    float fNormSin = sin(iTime)*0.5 + 0.5;\n    \n    float BARS = iResolution.x / (8.0 + fNormSin * 8.0);\n    BARS = float(int(BARS));\n    \n    float len = length(uv) / 2.0;\n    float ilen = float(int(len * BARS))/BARS;\n    \n    float wave = texture(iChannel0, vec2(len, 0.25)).x;\n    float wave2 = texture(iChannel0, vec2(ilen, 0.25)).x;\n    \n    vec4 color = vec4(wave, wave*0.6, 1.0 - wave, 1.0);\n    vec4 color2 = vec4(wave2, wave2*0.8, wave2, 1.0);\n    \n \tfloat signedDist = wave - len;\n    float signedDist2 = wave2 - len;\n    \n    float theta = atan(uv.y, uv.x);\n    float thetaDist = abs(theta - wave2);\n    \n    float targetDist = 3.14159265 / 2.0;\n    float thetaFactor = thetaDist < targetDist ? 0.0 : 1.0;\n    \n    thetaFactor = clamp(thetaFactor, 0.0, 1.0);\n    \n    vec4 outColor1 = color * signedDist * thetaFactor;\n    vec4 outColor2 = color2 * signedDist2 * (1.0 - thetaFactor);\n    \n    fragColor = outColor1 + outColor2;\n}","name":"Image","description":"","type":"image"}]}