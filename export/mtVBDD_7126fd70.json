{"ver":"0.1","info":{"id":"mtVBDD","date":"1702104207","viewed":41,"name":"loading_wheel","username":"yufengjie","description":"hello","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["color","loading","pattern"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"precision mediump float;\n\nfloat PI = 3.1415926;\nfloat pix;\n\nvec2 rotate(vec2 p, float a) {\n  float s = sin(a);\n  float c = cos(a);\n  mat2 matrix = mat2(c, -s, s, c);\n  return p * matrix;\n}\n\nfloat easeOutElastic(float x) {\n  float c4 = (2. * PI) / 3.;\n  return x == 0. ? 0. : x == 1. ? 1. : pow(2., -10. * x) * sin((x * 10. - 0.75) * c4) + 1.;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n  pix = 1. / iResolution.y;\n  vec2 st = (fragCoord.xy * 2. - iResolution.xy) / min(iResolution.x, iResolution.y);\n  vec3 fin_c = vec3(0., 0., 0.);\n\n  float t = iTime * 0.8;\n\n  vec3 color_ring = vec3(0.13, 0.27, 0.28);\n  vec3 color_act = vec3(0.0, 0.96, 0.83);\n\n  st = rotate(st, PI/4.*easeOutElastic(mod(t, 1.)));\n  float d = length(st);\n  float theta = mod(atan(st.y, st.x), PI * 2.);\n\n  float ring = 1. - smoothstep(40. * pix, 44. * pix, abs(d - 0.5));\n\n  float gap = 0.;\n  for(float i = 0.; i < 8.; i++) {\n    float a = PI / 4. * i;\n    gap += 1. - smoothstep(90. * pix, 100. * pix, abs(mod(theta, PI / 2.) - a));\n  }\n\n  float actIndex = 7.-mod(floor(t*4.), 8.);\n  //float actIndex = 7.-mod(floor(t), 8.);\n  \n  float act = (step(0., theta - actIndex * PI / 4.) - step(0., theta - (actIndex + 1.) * PI / 4.));\n\n  float ring1 = ring - gap;\n  float act2 = ring1 * act;\n  float ring2 = ring1 - act2;\n\n  fin_c += color_ring * ring2 + color_act * act2;\n\n  fragColor = vec4(fin_c, 1.0);\n}\n","name":"Image","description":"","type":"image"}]}