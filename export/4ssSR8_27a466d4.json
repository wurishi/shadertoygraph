{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"/* Compiled with Shaderforth: https://github.com/daeken/Shaderforth\n:globals\n\t@vec3 uniform =iResolution\n\t@float uniform =iTime\n;\n\n:m iter 25 ;\n:m iter-delta ( )\n\t( iTime 60.0 / sin 2.0 / 0.5 + =>v\n\t333.0 333.33 v mix )\n\t333.3333\n;\n\n: cart-polar ( p:vec2 -> vec2 ) [ p .y.x atan2 p length ]v ;\n: polar-cart ( p:vec2 -> vec2 ) [ p .x cos p .x sin ]v p .y * ;\n: polar-norm ( p:vec2 -> vec2 ) p polar-cart cart-polar ;\n\n: move ( pos:vec2 t:float -> vec2 )\n\t[\n\t\tpos .x t + t pos .x * sin 0.1 * +\n\t\tpos .y t pos .x * sin 0.5 * +\n\t]v polar-norm\n;\n\n: point-distance-line ( a:vec2 b:vec2 point:vec2 -> float )\n\tpoint a - =>pa\n\tb a - =>ba\n\tpa ba dot ba length / 0.0 1.0 clamp =h\n\tpa ba h * - length\n;\n\n:m grad ( p f )\n\t[ 0.01 0.0 ]v =h\n\tp *f =>v\n\t[\n\t\tp h + *f  p h - *f -\n\t\tp h .yx + *f  p h .yx - *f -\n\t]v 2.0 h .x * / length =>g\n\tv abs g /\n;\n\nfragCoord .xy iResolution .xy / 2.0 * 1.0 - cart-polar =p\niTime 1.0 + =t\n\nt iter float - =t\n\n[ 0.0 0.5 ]v cart-polar =start\nstart =last\n\n[ 0.0 0.0 0.0 ]v =color\n\n{ ( i )\n\tstart t move =cp\n\t\tp\n\t\t{ ( bp )\n\t\t\t\tcp last bp point-distance-line\n\t\t\t\tcp polar-cart last polar-cart bp polar-cart point-distance-line\n\t\t\tmin\n\t\t}\n\tgrad =dist\n\tcp =last\n\t\n\t0.0 0.001 0.1 dist / smoothstep 10.0 * =hit\n\t0.0 0.001 0.1 dist / smoothstep 10.0 * =high\n\t[\n\t\thit\n\t\thigh t 100.0 / sin abs *\n\t\thit 0.1 1.2 i float iter float / mix *\n\t]v color + =color\n\tt iter-delta + =t\n} iter times\n\n[ color 2.0 / 1.0 ]v =fragColor\n*/\n\nvec2 move(vec2, float);\nvec2 cart_polar(vec2);\nvec2 polar_cart(vec2);\nfloat point_distance_line(vec2, vec2, vec2);\nvec2 polar_norm(vec2);\nvec2 move(vec2 pos, float t) {\n\treturn polar_norm(vec2(((pos).x) + (t) + (sin((t) * ((pos).x))) * 0.1, ((pos).y) + (sin((t) * ((pos).x))) * 0.5));\n}\nvec2 cart_polar(vec2 p) {\n\treturn vec2(atan((p).y, (p).x), length(p));\n}\nvec2 polar_cart(vec2 p) {\n\treturn (vec2(cos((p).x), sin((p).x))) * ((p).y);\n}\nfloat point_distance_line(vec2 a, vec2 b, vec2 point) {\n\tfloat h = clamp((dot((point) - (a), (b) - (a))) / (length((b) - (a))), 0.0, 1.0);\n\treturn length((point) - (a) - ((b) - (a)) * (h));\n}\nvec2 polar_norm(vec2 p) {\n\treturn cart_polar(polar_cart(p));\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n\tvec2 p = cart_polar(((fragCoord).xy) / ((iResolution).xy) * 2.0 - 1.0);\n\tfloat t = (iTime) + 1.0;\n\tt = (t) - 25.0;\n\tvec2 start = cart_polar(vec2(0.0, 0.5));\n\tvec2 last = start;\n\tvec3 color = vec3(0.0, 0.0, 0.0);\n\tfor(int temp_2 = 0; temp_2 < 25; ++temp_2) {\n\t\tvec2 cp = move(start, t);\n\t\tvec2 h = vec2(0.01, 0.0);\n\t\tfloat dist = (abs(min(point_distance_line(cp, last, p), point_distance_line(polar_cart(cp), polar_cart(last), polar_cart(p))))) / (length((vec2((min(point_distance_line(cp, last, (p) + (h)), point_distance_line(polar_cart(cp), polar_cart(last), polar_cart((p) + (h))))) - (min(point_distance_line(cp, last, (p) - (h)), point_distance_line(polar_cart(cp), polar_cart(last), polar_cart((p) - (h))))), (min(point_distance_line(cp, last, (p) + ((h).yx)), point_distance_line(polar_cart(cp), polar_cart(last), polar_cart((p) + ((h).yx))))) - (min(point_distance_line(cp, last, (p) - ((h).yx)), point_distance_line(polar_cart(cp), polar_cart(last), polar_cart((p) - ((h).yx))))))) / 2.0 * ((h).x)));\n\t\tlast = cp;\n\t\tfloat hit = (smoothstep(0.0, 0.001, 0.1 / (dist))) * 10.0;\n\t\tfloat high = (smoothstep(0.0, 0.001, 0.1 / (dist))) * 10.0;\n\t\tcolor = (vec3(hit, (high) * (abs(sin((t) / 100.0))), (hit) * (mix(0.1, 1.2, (float(temp_2)) / 25.0)))) + (color);\n\t\tt = (t) + 333.3333;\n\t}\n\tfragColor = vec4((color) / 2.0, 1.0);\n}\n","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"4ssSR8","date":"1396701298","viewed":1099,"name":"Shaderforth Lace","username":"daeken","description":"Just some experimentation","likes":24,"published":1,"flags":0,"usePreview":0,"tags":["chaos","shaderforth"],"hasliked":0,"parentid":"","parentname":""}}