{"ver":"0.1","info":{"id":"mds3WS","date":"1666758684","viewed":121,"name":"rect with one rounded corner","username":"will_mckinnon","description":"rect with a rounded top left corner","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["rect"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// TODO: breaks when radius > half the width / height of rect\nconst vec4 color = vec4(1);\nconst vec2 half_size = vec2(150.0, 100.0);\nconst float radius = 20.0;\n\n// from https://iquilezles.org/articles/distfunctions\nfloat roundedBoxSDF(vec2 center, vec2 size, float radius) {\n    radius = (center.x < 0.0 && center.y > 0.0) ? radius : 0.0;\n    vec2 q = abs(center) - size + radius;\n    return min(max(q.x,q.y),0.0) + length(max(q,0.0)) - radius;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n\tvec2 center = (fragCoord - iResolution.xy / 2.0);\n    float distance = roundedBoxSDF(center, half_size, radius);\n    float smoothedAlpha =  1.0 - smoothstep(-1.0, 1.0, distance);\n    fragColor = mix(vec4(0), color, smoothedAlpha);\n}","name":"Image","description":"","type":"image"}]}