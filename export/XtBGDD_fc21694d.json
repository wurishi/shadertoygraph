{"ver":"0.1","info":{"id":"XtBGDD","date":"1429972316","viewed":578,"name":"Creation by Silexars [fork]","username":"mistic100","description":"Fork of https://www.shadertoy.com/view/XsXXDn\n\n- follow the cursor\n- fake random by cycling some parameters with different periods","likes":22,"published":1,"flags":0,"usePreview":0,"tags":["diffraction"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[],"code":"// From https://www.shadertoy.com/view/XsXXDn\n\n#define t iTime\n#define r iResolution.xy\n#define m iMouse.xy\n\n#define PI 3.14159265359\n\n/**\n * Interpolate (cos) between 'min' and 'max' with a defined 'period'\n */\nfloat stepper(float time, float period, float min, float max)\n{\n    return cos(mod(time, period) / period * 2. * PI) * (max - min) / 2. + (max + min) / 2.;\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n    /* position */\n    vec2 p = fragCoord.xy/r;\n        \n    // follow mouse\n    if (m.x == .0 && m.y == .0)\n    {\n        p.x-= 0.5;\n        p.y-= 0.5;\n    }\n    else\n    {\n        p.x-= m.x/r.x;\n        p.y-= m.y/r.y;\n    }\n\n    p.x*= r.x/r.y;\n    \n\tfloat l = length(p);\n    \n    \n    /* cycling values */\n    // color shift\n    float dz = stepper(t, 10.9, -.1, .1);\n    // size\n    float ds = stepper(t, 15.4, -2., 2.);\n    // pattern\n    float dp = stepper(t, 20.6, 5., 10.);\n    // intensity\n    float di = stepper(t, 8.2, .008, .06);\n    // direction\n    float dd = stepper(t, 12.1, -.03, .03);\n    // attenuation\n    float dl = stepper(t, 19.3, l, 1./l);\n    \n    /* original values */\n    //dz = .07;\n\t//ds = 1.;\n    //dp = 9.;\n    //di = .01;\n    //dd = 2.;\n    //dl = 1./l;\n    \n    \n    /* compute colors */\n    vec3 c;\n    float z = t;\n    \n\tfor (int i=0; i<3; i++)\n    {\n\t\tz+= dz;\n        float a = (sin(z)+ds) * abs(sin(l*dp - z*dd));\n\t\tvec2 uv = fragCoord.xy/r + p / l * a;\n\t\tc[i] = di / length(abs(mod(uv, 1.) - .5));\n\t}\n    \n\tfragColor = vec4(c*dl, t);\n}","name":"","description":"","type":"image"}]}