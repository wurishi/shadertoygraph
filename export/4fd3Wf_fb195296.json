{"ver":"0.1","info":{"id":"4fd3Wf","date":"1712300626","viewed":44,"name":"Persona 5 Star","username":"juu_nii","description":"Trying to recreate the the star animation in P5 while following Chavafei's Idea!\n[https://www.youtube.com/watch?v=hyGhRtzGmxA]\nAlso, Original Design and P5 are owned by Atlus. This is just a recreation.","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["persona5"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI_BY_FIVE 0.628318530718\n#define TWO_PHI 3.2360679775\n\n\nvec3 ringLoop(in vec2 fragCoord){\n    float px = 2.0/iResolution.y;\n    vec2 uv = (fragCoord * 2. - iResolution.xy)/iResolution.y;\n    uv.y += 0.1;\n    \n    float t = 0.2 * iTime; //Time\n    float x = 0.31412;\n    uv = Rot(x) * uv; //Rotation\n\n    float m2 = mod(atan(uv.y, uv.x)/PI_BY_FIVE + 1., 2.);\n    float d = TWO_PHI * length(uv) * cos(PI_BY_FIVE * (m2 -4. * step(1., m2) + 1.)) -1.;\n    //float d = step(length(uv),1.0);//Circle\n    \n    //d = sin(d*8. + iTime)/8.;\n    d = sin(d*16. + iTime)/16.;\n    d = abs(d);\n    \n    //return vec3(smoothstep(.1, .125, d)*2.0);\n    return vec3(smoothstep(.05, .0625, d) * 1.5);\n}\n\nvec3 polarStar(in vec2 fragCoord){ //shader by tpfto\n    float px = 2.0/iResolution.y;\n    vec2 uv = (fragCoord * 2. - iResolution.xy)/iResolution.y;\n    uv.y += 0.1;\n    \n    float t = 0.2 * iTime; //Time\n    float x = 0.31412;\n    uv = Rot(x) * uv; //Rotation\n\n    float m2 = mod(atan(uv.y, uv.x)/PI_BY_FIVE + 1., 2.);\n    float d = TWO_PHI * length(uv) * cos(PI_BY_FIVE * (m2 -4. * step(1., m2) + 1.)) -1.;\n    \n    float b = smoothstep(-2.0 * px, 2.0 * px, d);\n    \n    vec3 col = mix(vec3(0.8,0.2,0.2), vec3(0.,0.,0.), b) * ringLoop(fragCoord);;\n    col += 1.-smoothstep(0.02, 0.02+2.0 * px, abs(d));\n    \n    return col;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    //vec3 colour = shape(3, fragCoord);\n    vec3 colour = polarStar(fragCoord);\n\n    fragColor = vec4(colour,1.0); //Output\n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"mat2 Rot(float a){ //Angle to Rotation Matrix\n    float s = sin(a), c = cos(a);\n    return mat2(c, -s, s, c);\n}","name":"Common","description":"","type":"common"}]}