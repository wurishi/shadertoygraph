{"ver":"0.1","info":{"id":"Mlt3WX","date":"1472153245","viewed":139,"name":"audio 001","username":"ollj","description":"my first audio failure.\noh man the templates that others made and others butchered for this.\nthis is all barely working.","likes":1,"published":1,"flags":8,"usePreview":0,"tags":["audio"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n\tfragColor = vec4(uv,0.5+0.5*sin(iTime),1.0);\n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[{"id":"XsfGRr","channel":0}],"code":"// MIDI file: http://ichigos.com/sheets/17\n// => http://valentin.dasdeck.com/midi/mid2txt.php\n// => javascript -> glsl\n\n//sound buffer has no access to other BuffX !!!\n\n\nfloat t,t1,t2,n,v,e=1.,a,f=0.;\n\n#define PLAY if(t >= t1 && t <= t2 + e) { float dt = max(t2-t+e,0.)/(t2-t1+e); f += bell(midi(n)*TAU*t,dt)*v; a += v; }\n\n#define PI 3.141592653\n#define TAU (2.*PI)\n#define N 14.\n\nfloat midi(float n){return (440./32.)*pow(2.,(n-9.)/12.);}\nfloat saw(float f){float x=0.;for(float i=1.;i<N;i++)x+=sin(f*i)/i;return 2./PI*x;}\n\nfloat tone(float n){return 440.*pow(2.,n/12.);}\nfloat squ(float f){float x=0.;for(float i=1.;i<N;i++)x+=sin(f*(2.*i-1.))/(2.*i-1.);return 4./PI*x;}\nfloat tri(float f){float x=0.;for(float i=0.;i<N;i++)x+=(1.-2.*mod(i,2.))*sin(f*(2.*i+1.))/pow(2.*i+1.,2.);return 8./(PI*PI)*x;}\nfloat noise(float t){return fract(sin(dot(vec2(t),vec2(12.9898,78.233)))*43758.5453);}\nfloat bass(float f,float t){float n=noise(t),a=.1,b=.5;t=pow(mod(t,a),b);return sin(f*TAU*t)*t/pow(a,b);}\n\nfloat bell(float f, float dt){float a=0.;\n for(float i=1.;i<N;i++)\n  a+=sin(f*(i*2.-mod(i,2.)))*exp(-(1.-dt)*i*2.)/N;\n return a*2.;}\n\nvoid pp(){\n if(t>=t1&&t<=t2+e){ \n float dt = max(t2-t+e,0.)/(t2-t1+e); \n     f+=bell(midi(n)*TAU*t,dt)*v; a += v;}}\n\nvoid v3(float x,float m){\n    t1=x/8.-24.;\n    t2=t1+.1;\n    n=m+79.;\n}\n\nvec2 mainSound( in int samp,float t){\n    \n    v=1.;\nv3(192.,5.);PLAY;\nv3(198.,2.);PLAY;\nv3(201.,4.);PLAY;\nv3(204.,5.);PLAY;\nv3(207.,4.);PLAY;\nv3(210.,5.);PLAY;\nv3(213.,7.);PLAY;\nv3(216.,0.);PLAY;\nv3(222.,0.);PLAY;\nv3(225.,4.);PLAY;\nv3(228.,7.);PLAY;\nv3(231.,4.);PLAY;\nv3(234.,2.);PLAY;\nv3(237.,4.);PLAY;\nv3(240.,2.);PLAY;\nv3(246.,2.);PLAY;\nv3(249.,4.);PLAY;\nv3(252.,5.);PLAY;\nv3(255.,4.);PLAY;\nv3(258.,5.);PLAY;\nv3(261.,7.);PLAY;\nv3(264.,5.);PLAY;\nv3(270.,0.);PLAY;\nv3(273.,4.);PLAY;\nv3(276.,5.);PLAY;\nv3(279.,4.);PLAY;\nv3(282.,5.);PLAY;\nv3(285.,7.);PLAY;\nv3(288.,2.);PLAY;\nv3(294.,2.);PLAY;\nv3(297.,4.);PLAY;\nv3(300.,5.);PLAY;\nv3(303.,4.);PLAY;\nv3(306.,5.);PLAY;\nv3(309.,7.);PLAY;\nv3(312.,0.);PLAY;\nv3(318.,0.);PLAY;\nv3(321.,4.);PLAY;\n    //it stops playing here! so i assume fugffer overflow!\nv3(648.,7.);PLAY;\nv3(654.,4.);PLAY;\nv3(660.,2.);PLAY;\nv3(666.,4.);PLAY;\nv3(672.,2.);PLAY;\nv3(684.,2.);PLAY;\nv3(690.,4.);PLAY;\nv3(696.,5.);PLAY;\nv3(702.,4.);PLAY;\nv3(708.,5.);PLAY;\nv3(714.,7.);PLAY;\nv3(720.,5.);PLAY;\nv3(732.,0.);PLAY;\nv3(738.,4.);PLAY;\nv3(744.,5.);PLAY;\nv3(750.,4.);PLAY;\nv3(756.,5.);PLAY;\nv3(762.,7.);PLAY;\nv3(1536.,5.);PLAY;\nv3(1548.,2.);PLAY;\nv3(1554.,4.);PLAY;\nv3(1560.,5.);PLAY;\nv3(1566.,4.);PLAY;\nv3(1572.,5.);PLAY;\nv3(1578.,7.);PLAY;\nv3(1584.,0.);PLAY;\nv3(1596.,0.);PLAY;\nv3(1602.,4.);PLAY;\nv3(1608.,7.);PLAY;\nv3(1614.,4.);PLAY;\nv3(1620.,2.);PLAY;\nv3(1626.,4.);PLAY;\nv3(1632.,2.);PLAY;\nv3(1644.,2.);PLAY;\nv3(1650.,4.);PLAY;\nv3(1656.,5.);PLAY;\nv3(1662.,4.);PLAY;\nv3(1668.,5.);PLAY;\nv3(1674.,7.);PLAY;\nv3(1680.,5.);PLAY;\nv3(1692.,0.);PLAY;\nv3(1698.,4.);PLAY;\nv3(1704.,5.);PLAY;\nv3(1710.,4.);PLAY;\nv3(1716.,5.);PLAY;\nv3(1722.,7.);PLAY;\nv3(1728.,5.);PLAY;\nv3(1740.,2.);PLAY;\nv3(1746.,4.);PLAY;\nv3(1752.,5.);PLAY;\nv3(1758.,4.);PLAY;\nv3(1764.,5.);PLAY;\nv3(1770.,7.);PLAY;\nv3(1776.,0.);PLAY;\nv3(1788.,0.);PLAY;\nv3(1794.,4.);PLAY;\nv3(1800.,7.);PLAY;\nv3(1806.,4.);PLAY;\nv3(1812.,2.);PLAY;\nv3(1818.,4.);PLAY;\nv3(1824.,2.);PLAY;\nv3(1836.,2.);PLAY;\nv3(1842.,4.);PLAY;\nv3(1848.,5.);PLAY;\nv3(1854.,4.);PLAY;\nv3(1860.,5.);PLAY;\nv3(1866.,7.);PLAY;\nv3(1872.,5.);PLAY;\nv3(1884.,0.);PLAY;\nv3(1890.,4.);PLAY;\nv3(1896.,5.);PLAY;\nv3(1902.,4.);PLAY;\nv3(1908.,5.);PLAY;\nv3(1914.,7.);PLAY;\nv3(1920.,5.);PLAY;\nv3(1932.,2.);PLAY;\nv3(1938.,4.);PLAY;\nv3(1944.,5.);PLAY;\nv3(1950.,4.);PLAY;\nv3(1956.,5.);PLAY;\nv3(1962.,7.);PLAY;\nv3(1968.,0.);PLAY;\nv3(1980.,0.);PLAY;\nv3(1986.,4.);PLAY;\nv3(1992.,7.);PLAY;\nv3(1998.,4.);PLAY;\nv3(2004.,2.);PLAY;\nv3(2010.,4.);PLAY;\nv3(2016.,2.);PLAY;\nv3(2028.,2.);PLAY;\nv3(2034.,4.);PLAY;\nv3(2040.,5.);PLAY;\nv3(2046.,4.);PLAY;\nv3(2052.,5.);PLAY;\nv3(2058.,7.);PLAY;\nv3(2064.,5.);PLAY;\nv3(2076.,0.);PLAY;\nv3(2082.,4.);PLAY;\nv3(2088.,5.);PLAY;\nv3(2094.,4.);PLAY;\nv3(2100.,5.);PLAY;\nv3(2106.,7.);PLAY;\nv3(2112.,4.);PLAY;\nv3(2115.,2.);PLAY;\nv3(2118.,4.);PLAY;\nv3(2121.,5.);PLAY;\nv3(2127.,2.);PLAY;\nv3(2130.,4.);PLAY;\nv3(2133.,5.);PLAY;\nv3(2136.,9.);PLAY;\nv3(2139.,7.);PLAY;\nv3(2142.,5.);PLAY;\nv3(2145.,0.);PLAY;\nv3(2151.,5.);PLAY;\nv3(2154.,9.);PLAY;\nv3(2157.,5.);PLAY;\nv3(2160.,7.);PLAY;\nv3(2166.,5.);PLAY;\nv3(2169.,7.);PLAY;\nv3(2175.,5.);PLAY;\nv3(2178.,7.);PLAY;\nv3(2181.,5.);PLAY;\nv3(2184.,10.);PLAY;\nv3(2190.,9.);PLAY;\nv3(2193.,5.);PLAY;\nv3(2199.,10.);PLAY;\nv3(2202.,9.);PLAY;\nv3(2205.,5.);PLAY;\nv3(2208.,2.);PLAY;\nv3(2214.,2.);PLAY;\nv3(2217.,4.);PLAY;\nv3(2220.,5.);PLAY;\nv3(2223.,7.);PLAY;\nv3(2226.,6.);PLAY;\nv3(2229.,4.);PLAY;\nv3(2232.,2.);PLAY;\nv3(2235.,4.);PLAY;\nv3(2238.,5.);PLAY;\nv3(2241.,7.);PLAY;\nv3(2244.,6.);PLAY;\nv3(2247.,4.);PLAY;\nv3(2250.,2.);PLAY;\nv3(2253.,4.);PLAY;\nv3(2256.,2.);PLAY;\nv3(2259.,4.);PLAY;\nv3(2262.,5.);PLAY;\nv3(2265.,7.);PLAY;\nv3(2268.,9.);PLAY;\nv3(2271.,7.);PLAY;\nv3(2274.,5.);PLAY;\nv3(2277.,4.);PLAY;\nv3(2280.,9.);PLAY;\nv3(2283.,7.);PLAY;\nv3(2286.,5.);PLAY;\nv3(2289.,4.);PLAY;\nv3(2292.,5.);PLAY;\nv3(2295.,7.);PLAY;\nv3(2298.,4.);PLAY;\nv3(2301.,2.);PLAY;\n    /**/\n    //if (a < .01) a = 1.;    \n    return vec2(f/a*.1);\n}","name":"Sound","description":"","type":"sound"}]}