{"ver":"0.1","info":{"id":"4sBfWy","date":"1501850804","viewed":164,"name":"Procedural Gear","username":"paulo69","description":"Procedural Gears","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["procedural","2d","gears","animation","rotation"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float dents = 13.0; // Nombre de dents de la roue\nfloat cirgen = .25;  // Epaisseur du \"pneu\" La valeur doit être égale ou supérieure à .14\nfloat tdents = .055; // Longueur des dents\nfloat biseaudents = .75;  // Forme des dents (arrondi le bout des dents, les coupe à une certaine valeur)\nfloat rayroue = 6.0; \nfloat raytrou = .09;\nfloat cirtrou = .6;\n\nmat2 rotate2d(float _angle){\n    return mat2(cos(_angle),-sin(_angle),\n                -sin(_angle),-cos(_angle));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.y;\n\tvec2 p = vec2(.9,.5)-uv;\n    p*=rotate2d( -iTime);\n    vec3 c = vec3 (1.0);\n    float r = cirgen+tdents*clamp((cos(atan(p.x,p.y)*dents)),0.0,biseaudents);\n    r=min(min(r,step(.03,length(p))),step(raytrou+.04*(sign(cos((atan(p.x,p.y)*rayroue)))),length(p))) ;\n    c*=min(step(r,length(p)),step(.05,length(p)));\n\tfragColor = vec4(c,1.0);\n}\n","name":"Image","description":"","type":"image"}]}