{"ver":"0.1","info":{"id":"fdcfDH","date":"1656491226","viewed":44,"name":"Буратино","username":"KirillDavydov","description":"Буратино","likes":0,"published":1,"flags":0,"usePreview":0,"tags":[],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"bool circle(vec2 p, vec2 c, float r)\n{\n float scaleY = iResolution.y / iResolution.x;\n    return (p.x - c.x) * (p.x - c.x) + (p.y   - c.y) * (p.y - c.y) * (scaleY * scaleY) < r*r; \n}\n\n//Уравнение прямой\nfloat straight(vec2 a, vec2 b, vec2 f)\n{\n    return (f.x - a.x) * (b.y - a.y) - (f.y - a.y) * (b.x - a.x);\n}\n\n//Проверка, чтоб точки не были на одной прямой\nbool test(vec2 a, vec2 b, vec2 c, vec2 f)\n{\n    return straight(a, b, c) * straight(a, b, f) >= 0.;\n}\n\n\nbool triangle(vec2 a, vec2 b, vec2 c, vec2 f)\n{\n    return test(a, b, c, f) && test(a, c, b, f) && test(c, b, a, f);\n}\n\nbool ellipse(vec2 p, vec2 c, float r, float a, float b)\n{\n float scaleY = iResolution.y / iResolution.x;\n \n    return ((p.x - c.x) * (p.x - c.x)) / (a * a) + ((p.y - c.y) * (p.y - c.y)) / (b * b) * (scaleY * scaleY) < r*r; \n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 crd = fragCoord/iResolution.xy;\n    vec2 mouse = iMouse.xy/iResolution.xy;\n   \n    float x = crd.x;\n    float y = crd.y;\n    \n    fragColor = vec4(1.0, 1.0, 1.0, 1.0);\n    \n    //Голова   \n    if (circle(vec2(x, y), vec2(0.4, 0.3), 0.15))\n        fragColor = vec4(0.9, 0.8, 0.5, 0.0);\n        \n    //Глаз        \n    if (circle(vec2(x, y), vec2(0.45, 0.315), 0.03))\n        fragColor = vec4(0.0, 0.0, 0.0, 0.0);  \n        \n    if (ellipse(vec2(x, y), vec2(0.45, 0.349), 0.032, 1., 0.4 + abs(sin(iTime / 1.3))))\n        fragColor = vec4(0.9, 0.8, 0.5, 0.0);        \n\n    if (circle(vec2(x, y), vec2(0.425, 0.17), 0.036))\n        fragColor = vec4(0.9, 0.6, 0.6, 0.0);\n        \n    //Нос\n    if (triangle(vec2(0.8, 0.27), vec2(0.45, 0.37), vec2(0.55, 0.27), vec2(x, y)))\n        fragColor = vec4(0.9, 0.8, 0.5, 0.0);\n\n    //Шапка\n    if (triangle(vec2(0.4, 0.9), vec2(0.25, 0.4), vec2(0.55, 0.4), vec2(x, y)))\n        fragColor = vec4(0.9, 0.0, 0.0, 0.0);\n        \n    if (circle(vec2(x, y), vec2(0.4, 0.9), 0.04))\n        fragColor = vec4(1.0, 0.0, 0.0, 0.0);\n        \n    if (ellipse(vec2(x, y), vec2(0.4, 0.42), 0.036, 4.5, 0.7))\n        fragColor = vec4(0.92, 0.0, 0.0, 0.0);\n\n}","name":"Image","description":"","type":"image"}]}