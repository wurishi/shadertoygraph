{"ver":"0.1","info":{"id":"4tsfDS","date":"1513167792","viewed":129,"name":"Palm","username":"skaplun","description":"repro of Inigo Quilez's tutorial\nhttps://www.youtube.com/watch?v=0ifChJ0nJfM\n","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["sunset","palm"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define ORANGE vec3(1.0, 0.4, 0.1)\n#define YELLOW vec3(1.0, 0.8, 0.3)\nconst vec2 PALM_CENTER = vec2(.35, .75);\nconst vec2 SUN = vec2(1.4, .05);\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord.xy / iResolution.xy;\n\tvec2 dst = uv - PALM_CENTER;\n    \n    float head_rad = .2;\n    head_rad += .1 * sin(atan(dst.x, dst.y) * 10.0 - 20. * dst.x + sin(iTime));\n    head_rad += .0125 * sin(atan(dst.y, dst.x) * 100.0);\n    float head = smoothstep(head_rad, head_rad + .02, length(dst));\n    \n    float trunk_width = .0125 + cos(dst.y * 250.) * 0.001;\n    trunk_width += exp(-20. * uv.y);\n    float trunk = smoothstep(trunk_width, trunk_width + .005,\n                             abs(dst.x - sin(dst.y * 2.) * .2));\n    trunk = step(0.5, trunk + step(0., dst.y));\n    \n    float lsun = length(uv * vec2(iResolution.x/iResolution.y, 1.) - SUN);\n    \n    float f = 1.0 - smoothstep(.1, .15, lsun);\n    f += 1.0 - pow(lsun, .75);\n    vec3 clr = mix(ORANGE, YELLOW, f) * head * trunk;\n    //clr = pow(clr, vec3(length(uv - vec2(.8, .1))));\n    \n    fragColor = vec4(vec3(clr), 1.);\n}","name":"Image","description":"","type":"image"}]}