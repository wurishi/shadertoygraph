{"ver":"0.1","info":{"id":"ltKXRt","date":"1485479127","viewed":378,"name":"Hypnofrog eyes","username":"OmskCrow","description":"All glory to the Hypnotoad","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["hypno","hypnotoad","frog"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define M_PI 3.1415926535897932384626433832795\n\nfloat circle(vec2 a, vec2 b) {\n    vec2 c = a - b;\n \treturn sqrt(c.x * c.x + c.y * c.y);\n}\n\nfloat ellipse(vec2 a, vec2 b, float xMult, float yMult) {\n    vec2 c = a - b;\n \treturn sqrt(c.x * c.x * xMult + c.y * c.y * yMult);\n}\n\nhighp float rand(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt= dot(co.xy ,vec2(a,b));\n    highp float sn= mod(dt,3.14);\n    return fract(sin(sn) * c);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    \n    float switchSpeedMult = 8.0;//скорость расширения зрачков\n    const float screenScale = 2.0;\n    vec2 centerOffset = vec2(iResolution.x/iResolution.y * 0.5, 0.0);      \n    vec2 screenCoord = ((fragCoord - iResolution.xy * 0.5) / iResolution.y) * screenScale - centerOffset;\n  \tfloat frameOffset = 0.0;\n    \n    if(screenCoord.x < -iResolution.x/iResolution.y * 0.5) {\n        screenCoord.x += iResolution.x/iResolution.y;\n        frameOffset = M_PI;\n    }\n    \n    \n    float stateSwitch = (sin(iTime * switchSpeedMult + frameOffset) + 1.0) * 0.5;\n    \n    float state1 = min(ellipse(screenCoord, vec2(-0.12,0.0), 0.3, 1.5), \n                           ellipse(screenCoord, vec2(0.12,0.0), 0.3, 1.5));\n    \n    float state2 = min(min(min(ellipse(screenCoord, vec2(-0.15,-0.01), 0.6, 1.0),\n                               ellipse(screenCoord, vec2(0.17,-0.01), 0.6, 1.0)),\n                       \t       circle(screenCoord, vec2(-0.01,0.14))),\n                       \t\t   circle(screenCoord, vec2(0.01,-0.17)));\n                       \n\tfloat uv = mix(state1, state2, stateSwitch);\n    float circleDist = circle(screenCoord, vec2(0.0, 0.0));\n    float eyeRadius = iResolution.x/iResolution.y * 0.4;\n    \n    float blackBorder = 0.17;\n    float redBorder = 0.20;\n    float yellowBorder = 0.25 + rand(vec2(iTime, iTime))/15.0;\n    \n    if(uv < blackBorder) fragColor = vec4(0.1,0.1,0.1,1.0);\n    else if(uv < redBorder) fragColor = vec4(1.0,0.0,0.0,1.0);\n    else if(uv < yellowBorder) {\n        float blend = (uv - redBorder) / (yellowBorder - redBorder);\n    \tfragColor = mix(vec4(1.0,1.0,0.0,1.0), vec4(0.5,0.5,0.0,1.0), blend);        \n    }\n    else if(circleDist < eyeRadius) fragColor = vec4(0.5,0.5,0.0,1.0);        \n\telse fragColor = vec4(0.0,0.0,0.0,1.0);        \n}","name":"Image","description":"","type":"image"}]}