{"ver":"0.1","info":{"id":"4ttXWM","date":"1479955561","viewed":836,"name":"BF Chromatic Aberration","username":"Loadus","description":"Super simple brute force chromatic aberration, that's completely unoptimized. ","likes":13,"published":1,"flags":0,"usePreview":0,"tags":["distortion","lens","aberration"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// based on Pseudo Fish Eye Effect by jt\n// https://www.shadertoy.com/view/MtcXDH\n\nfloat distortion = 0.2;\t\t\t// the bias of the barrel distortion\nconst float iterations = 10.0;\t// how many samples to use for edge blur\nfloat strength = 0.01;\t\t\t// how much edge blur is applied (to obscure the r, g, b separation)\nfloat separation = 0.1;\t\t\t// how much to separate the r, g and b\n\nvec4 Aberrate (sampler2D source, vec2 uv, float amount) {\n \n    return texture(source, 0.5 + uv / sqrt(1.0 + amount * dot(uv, uv)));\n}\n\n\nvoid mainImage(out vec4 pixel, vec2 uv)\n{\n\tuv = uv / iResolution.xy - 0.5;\n    \n    vec4 A = vec4(0, 0, 0, 1);\n    \n    for (float i = -iterations; i < iterations; i++)\n    {\n\t   \tA.r += Aberrate(iChannel0, uv, i * strength + (distortion + separation)).r;\n    }\n    \n    for (float i = -iterations; i < iterations; i++)\n    {\n\t   \tA.g += Aberrate(iChannel0, uv, i * strength + distortion).g;\n    }\n    \n    for (float i = -iterations; i < iterations; i++)\n    {\n\t   \tA.b += Aberrate(iChannel0, uv, i * strength + (distortion - separation)).b;\n    }\n    \n    A /= iterations * 2.0;\n    \n    pixel = A;    \n}\n","name":"Image","description":"","type":"image"}]}