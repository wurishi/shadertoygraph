{"ver":"0.1","info":{"id":"7d3GD8","date":"1629663876","viewed":335,"name":"torus interior in colors","username":"FabriceNeyret2","description":".","likes":10,"published":3,"flags":0,"usePreview":0,"tags":["torus","short"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\n#define r(a)    mat2( cos(a+vec4(0,11,33,0)) )                // rotation                  \n#define hue(v) ( .6 + .6 * cos( v  + vec4(0,23,21,0)  ) )     // hue\n\nvoid mainImage(out vec4 O, vec2 U) {    \n    vec3  R = iResolution,     // 3.*R.y for normal field of view\n          D = normalize(vec3( U+U, -R.y ) - R ),              // ray direction\n          p = 30./R, q,                                       // marching point along ray \n          M = cos(iTime+vec3(0,11,0)) / vec3(1,2,.5);         // camera animation\n    float t=9.,d;\n     \n    for ( O += 1.1-O ; O.x > 0. && t > .01 ; O-=.01 ) //  O.x>0. just for security\n        q = p, \n        q.yz *= r( .5+M.y ),                                  // rotations\n        q.xz *= r(    M.x ),          // R0=20        R1=17\n        t = abs( length(vec2(d=length(q.xz)-20., q.y)) - 17.),// abs for inside + outside\n        p += .9*t*D;                                          // step forward = dist to obj\n\n    U  = 2.* atan( q.zy, vec2(q.x,d) );                       // strip texture  \n    O *= ( .5 + .5* sin(9.*(U.x+=U.y)) )  * hue(U.x);\n}","name":"Image","description":"","type":"image"}]}