{"ver":"0.1","info":{"id":"wsVGD1","date":"1571421391","viewed":172,"name":"Rotating flowers","username":"Sophotec","description":"Use key 1 2 3 to stack the color layers\nIt looks like the blue flower is at the back. (optical illusion ?)\n","likes":11,"published":1,"flags":16,"usePreview":0,"tags":["flower","polar"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGRr","filepath":"/presets/tex00.jpg","previewfilepath":"/presets/tex00.jpg","type":"keyboard","channel":3,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// --- key toggles -----------------------------------------------------\n// FYI: LEFT:37  UP:38  RIGHT:39  DOWN:40   PAGEUP:33  PAGEDOWN:34  END : 35  HOME: 36\n// Modifiers: SHIFT: 16 CTRL: 17 ALT: 18  \n// Advice:  Mode: keyToggle(key)  Action: keydown(key)+keyclick(modifier)\n#define keyToggle(ascii)  ( texelFetch(iChannel3,ivec2(ascii,2),0).x > 0.)\n#define keyDown(ascii)    ( texelFetch(iChannel3,ivec2(ascii,1),0).x > 0.)\n#define keyClick(ascii)   ( texelFetch(iChannel3,ivec2(ascii,0),0).x > 0.)\n \n#define lim .3\n \nfloat flower(vec2 uv ,float petals, float speed , float size ) {\n    vec2 st= vec2(atan(uv.x, uv.y), length(uv));\n    uv= vec2(st.x/6.2831 +.5 + iTime * speed, st.y);\n    float x=uv.x * petals;\n    float m= min(fract(x), fract(1.-x));\n                return smoothstep(0., .15,m*size + .2 - uv.y);                 \n}\n \nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord.xy-.5*iResolution.xy) /iResolution.y;\n \n    float cr=flower(uv, 8., .05, .50);\n    float cg=flower(uv, 7., .1, .60);\n    float cb=flower(uv, 6., .15, .8);\n \n    if (keyClick(49)) {\n        if (cr>lim) { cg=0.; cb=0.; }\n        else {\n            if(cg>lim) cb=0.; \n        }\n                    fragColor = vec4(cr,cg,cb,0.);\n    }\n    else if (keyClick(50)) {\n        if (cg>lim) { cr=0.; cb=0.; }\n        else {\n            if(cr>lim) cb=0.; \n        }\n                    fragColor = vec4(cr,cg,cb,0.);\n    }\n    else if (keyClick(51)) {\n        if (cb>lim) { cr=0.; cg=0.; }\n        else {\n            if(cg>lim) cr=0.; \n        }\n                    fragColor = vec4(cr,cg,cb,0.);\n    }\n    else {\n                    fragColor = vec4(cr,cg,cb,0.);\n    }\n    \n}\n","name":"Image","description":"","type":"image"}]}