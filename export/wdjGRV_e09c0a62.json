{"ver":"0.1","info":{"id":"wdjGRV","date":"1549410479","viewed":191,"name":"2D Heart beat","username":"surffer3d","description":"Heart beat","likes":6,"published":1,"flags":0,"usePreview":0,"tags":["procedural","2d","animation","heart"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const float PI = 3.14159;\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Generate world UVs\n    vec2 uv = fragCoord/iResolution.xy;\n    uv = (uv - 0.5);\n    float aspect = iResolution.x / iResolution.y;\n    uv.x *= aspect;\n    uv.y -= 0.2;    // Displace the uv to center the heart\n    \n\n    float a = atan(uv.x,uv.y) / PI;     // angle\n    float r = length(vec2(uv.x,uv.y));  // radius\n    \n    float duration = 1.75;\n    float t = pow(mod(iTime, duration)/duration, 0.85);\n    float tanim = sin(t*PI*10.0) * exp(1.0 - t*4.0);\n    float global_scale = 0.75;\n    float d = global_scale *\n                (0.2\n               + 0.6 * abs(a)                     // main\n               - (0.1 - tanim*0.0125) * cos(abs(a) * PI * 2.0)     // wide\n               + (0.05 + tanim*0.025) * pow(abs(a), 20.0)         // bottom\n               - step(0.0, a) * 0.075 * sin(a*PI)  // reduce right side\n                );\n\n    float light_pos = length(vec2(uv.x - 0.35, uv.y + 0.25));\n    vec3 heart_color = vec3(0.1, 0.0, 0.15) + vec3(pow(min(d,0.15),light_pos), 0, 0);\n    vec3 background = vec3(0.85, 0.75, 0.65) * (1.5 -r);\n    float is_heart = smoothstep(d, d+fwidth(r)*2.0, r);\n    vec3 color = mix(heart_color, background, is_heart);\n\n    // Output to screen\n    fragColor = vec4(color,1.0);\n}","name":"Image","description":"","type":"image"}]}