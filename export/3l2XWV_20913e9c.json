{"ver":"0.1","info":{"id":"3l2XWV","date":"1567144720","viewed":285,"name":"Swirl Segments","username":"Passion","description":"Having a little fun...","likes":20,"published":1,"flags":0,"usePreview":0,"tags":["2d","rings","segments"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"/* Timothy Michael Walsh */\nmat2 r2(float a){\n    float s = sin(a);\n    float c = cos(a);\n    return mat2(s, c, -c, s);\n}\n\nfloat random (vec2 st) {\n    return fract(sin(dot(st.xy,\n        vec2(12.9898,78.233)))*43758.5453123);\n}\n\nvec3 effect(vec2 uv, float zoomSpeed, float ringCount, float size, float rotationSpeed){\n    float spacing = 1.3;\n    vec2 id = floor(uv/spacing-.5); //*spacing;\n    float rrr = random(id.yy);\n    rrr *= rrr<.5 ? 1. : -1.;\n    uv.x+=rrr*iTime*1.5;\n    \n    id = floor(uv/spacing-.5);\n    uv = (fract(uv/spacing-.5)-.5)*spacing;\n    \n    float r = random(id);\n    float rr = random(id);\n\n    uv*=r2(rr*rotationSpeed*iTime+(sin(iTime*r)*3.*r));\n    float s = length(uv)-size; //*(sin(iTime*zoomSpeed)*.5);\n    \n    float f = smoothstep(s-.005, s, .2935);\n    f -= smoothstep(s,s + 0.005, .27);\n    // Time varying pixel color\n    vec3 col = 0.5 + 0.5*cos(r+rr+iTime+uv.xyx+vec3(r*f,3.-rr+r,r+1.)-iTime*2.);\n\n    float a = atan(uv.x,uv.y);\n    //f = f * step(a, sin(iTime-a*18.0)+cos(3.*iTime+a*18.0));\n    f = f * smoothstep(f,  cos(a*(ringCount+(sin(iTime*2.*r)*8.*rotationSpeed*r))*sin(r+iTime)+cos(-iTime*11.75*rotationSpeed*rr)) +1., .02);   //+cos(iTime-s*10.)\n   \n    return col*f;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = (fragCoord/iResolution.xy)-.5;\n    uv.x*=iResolution.x/iResolution.y;\n    uv*=2.25;\n    uv*=r2(sin(iTime/2.));\n    uv *= 1.0 + dot(uv,uv)*.5;\n    uv.x+=sin(iTime/5.)*13.;\n    uv.y+=sin(iTime/5.5)*11.;\n    \n    vec3 col = effect(uv, 4., 11., .125, .75);\n    col += effect(uv, 2.5, 8., .2, 1.);\n    col += effect(uv, 1.5, 6., .25, 0.5);\n    col += effect(uv, 0.5, 7., .34, 0.35);\n    col += effect(uv, 0.25, 5., .081, 0.865);\n    col += effect(uv, 0.25, 5., .03, 01.1865);\n    \n    \n    //f = f * step(f,sin(a*12.));\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}