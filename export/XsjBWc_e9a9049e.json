{"ver":"0.1","info":{"id":"XsjBWc","date":"1502512431","viewed":103,"name":"archibate's Mandelbrot & Juila","username":"archibate","description":"a Mandelbrot & Juila render\nmove the mouse to the center to have a look of Mandelbrot Set.\nmove the mouse somewhere else, you'll see the Juila Set with c is the mouse position.\nthe Mandelbrot image is a bird view for so much Juila Set(s).","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["2d","fractial"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//\n// Copyfuck by (C) archibate <207773419@qq.com>\n//\n// All Fuck Reserved\n//\n// @TAG(GD_FPL)\n//\n\n#define KMAX 512\n\nvec2 csqr(vec2 z)\n{\n    return vec2(z.x * z.x - z.y * z.y, 2. * z.x * z.y);\n}\n\nint mandelblub(vec2 z, vec2 c)\n{\n    int k;\n    for (k = 0; k < KMAX; k++) {\n        if (dot(z, z) > 4.)\n            break;\n        z = csqr(z) + c;\n    }\n    return k;\n}\n\nvec4 colorOf(int k)\n{\n    float l = 1. - 0.17 * log(float(k + 1));\n    return vec4(l, l, l, 1.);\n}\n\nvec2 getXY(vec2 coord)\n{\n\tvec2 xy = coord.xy / vec2(iResolution.y);\n    xy -= vec2(0.5 * iResolution.x / iResolution.y, 0.5);\n    return 4.0 * xy;\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n    vec2 xy = getXY(fragCoord), uv = getXY(iMouse.xy);\n    vec2 z, c;\n    if (iTime != 0.) {\n        float th = iTime + 0.3;\n        float r = cos(0.4 * th);\n        c = r * vec2(cos(th), sin(th));\n        z = xy;\n    } else if (dot(uv, uv) < .01) {\n        z = vec2(0.0);\n        c = xy;\n    } else {\n        z = xy;\n        c = uv;\n    }\n    fragColor = colorOf(mandelblub(z, c));\n}","name":"Image","description":"","type":"image"}]}