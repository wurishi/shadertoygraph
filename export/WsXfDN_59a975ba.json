{"ver":"0.1","info":{"id":"WsXfDN","date":"1588451121","viewed":127,"name":"Mandelbrot: reflect transform","username":"iyadahmed","description":"follow for more!\nlet me know your thoughts on this in the comments!","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["fractal","math","mandelbrot","polar"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// please use this code as much as possible :)\n// a mention would be generous <3\n// most of code borrowed, can't remember from where\n\n#define MAXITER 2048\n#define DEPTH 32\n#define FOCUS vec2(-0.81153120295763,  0.20142958206181)\n#define ZOOM 1.0\n#define eps .00001\n#define eps2 eps * eps\n\n\nvec3\ncolor(int iteration, float sqLengthZ) {\n    // If the point is within the mandlebrot set\n    // just color it black\n    if(iteration == MAXITER)\n        return vec3(0.0);\n \n    // Else we give it a smoothed color\n   \tfloat ratio = (float(iteration) - log2(log2(sqLengthZ))) / float(MAXITER);\n \n    // Procedurally generated colors\n    return mix(vec3(1.0, 0.0, 0.0), vec3(1.0, 1.0, 0.0), sqrt(ratio));\n}\n \nvoid\nmainImage(out vec4 fragColor, in vec2 fragCoord) { \n    \n    // C is the aspect-ratio corrected UV coordinate.\n    vec2 c = (-1.0 + 2.0 * fragCoord / iResolution.xy) * vec2(iResolution.x / iResolution.y, 1.0);\n \t\n    // Apply scaling, then offset to get a zoom effect\n    c = ((c - FOCUS) * ZOOM)+ FOCUS;\n    \n \tvec2 z = c;\n    \n \tint j = 0; //doesn't work on mobile without this\n    for (int i = 0; i < MAXITER;i++){\n       \t//precompute for effiency\n        float r2 = dot(z,z);\n        \n        if (r2 > 32.0) break;\n        \n        // The larger the square length of Z,\n        // the smoother the shading\n        \n        \n\t\t// Complex multiplication, then addition\n        z = reflect(vec2(-1.0, 0.0), normalize(z)) * r2 + c;\n \t\t\n        j++;\n    }\n \n    // Generate the colors\n    fragColor = vec4(color(j, dot(z,z)), 1.0);\n \n    // Apply gamma correction\n    fragColor.rgb = pow(fragColor.rgb, vec3(0.5));\n}","name":"Image","description":"","type":"image"}]}