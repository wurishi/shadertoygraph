{"ver":"0.1","info":{"id":"mtVBW1","date":"1702046504","viewed":45,"name":"Brainstorm (20231116 + audio)","username":"MV10","description":"Lots of color yet runs at 4K. Slowed time using audio, added rotation, and removed the godray effect (but it's still pretty busy). \"Brainstorm\" because the original reminded me of the brain-frying scene in that 1983 movie. Track is \"The Word (PMT Remix)\".","likes":3,"published":1,"flags":64,"usePreview":0,"tags":["audio","hash"],"hasliked":0,"parentid":"mlyyWz","parentname":"20231116"},"renderpass":[{"inputs":[{"id":"XddGzX","filepath":"https://soundcloud.com/dopesmugglaz/the-word-pmt-remix","previewfilepath":"https://soundcloud.com/dopesmugglaz/the-word-pmt-remix","type":"musicstream","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":0}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Originally 20231116 by wwwww https://www.shadertoy.com/view/mlyyWz\n\n#define R(p,a,r)mix(a*dot(p,a),p,cos(r))+sin(r)*cross(p,a)\n#define H(h)(cos((h)*6.3+vec3(0,23,21))*.5+.5)\n\nfloat hash(float n) {\n  return fract(sin(n) * 43758.5453123);\n}\n\nfloat hash(vec2 p) {\n  return fract(sin(dot(p, vec2(91.3458, 47.9898))) * 43758.5453123);\n}\n\nvec3 aces_approx(vec3 v) {\n  v = max(v, 0.0);\n  v *= 0.6;\n  float a = 10.51;\n  float b = 0.13;\n  float c = 1.93;\n  float d = 0.19;\n  float e = 0.14;\n  return clamp((v * (a * v + b)) / (v * (c * v + d) + e), 0.0, 1.0);\n}\n\n#define PI 3.141592\nmat2 rotate(float angle)\n{\n\tangle *= PI / 180.0;\n    float s = sin(angle), c = cos(angle);\n    return mat2(c, -s, s, c);\n}\n\nvoid mainImage(out vec4 O, vec2 C) {\n  O = vec4(0);\n  \n  // MV10 - everybody loves rotation\n  vec2 uv = (C * 2. - iResolution.xy) / iResolution.y;\n  float angle = iTime * (abs(sin(iTime * 0.01)) - 0.5) * 30.0;\n  uv *= rotate(angle);\n  \n  vec3 p, q, d = normalize(vec3(uv, 1.));\n\n\n  // MV10 - less spazzy when time is slowed based on the beat\n  float beat = (iTime * 0.2 + (texture(iChannel0, vec2(0.07, 0.5)).x * 5.0));\n\n  for (float i = 0., a, s, e, g = 0.; ++i < 110.;) {\n    float randomOffset = hash(vec2(i, beat));\n    p = g * d + vec3(randomOffset * 0.1);\n    p.z += iTime * 6.5;\n    \n    a = 10. + randomOffset * 2.;\n    p = mod(p - a, a * 2.) - a;\n    s = 6. + randomOffset * 1.2;\n\n    for (int j = 0; j++ < 8;) {\n      p = .3 - abs(p);\n\n      p.x < p.z ? p = p.zyx : p;\n      p.z < p.y ? p = p.xzy : p;\n\n      s *= e = 1.4 + sin(iTime * .234) * .1;\n      p = abs(p) * e - vec3(5. + sin(beat * .3 + .5 * tan(beat * .3)) * 3., 120, 8. + cos(beat * .2) * 5.);\n    }\n    g += e = length(p.yz) / s;\n    g += e = length(p.yx) / s;\n    O.xyz += mix(vec3(1), H(g * .1), sin(.8)) * 1. / e / 8e3;\n  }\n\n  // MV10 - removed the godray effect, a bit too \"noisy\" at 77\" 4K for my tastes\n  O.xyz = aces_approx(O.xyz);\n}\n","name":"Image","description":"","type":"image"}]}