{"ver":"0.1","renderpass":[{"outputs":[{"channel":0,"id":"4dfGRr"}],"inputs":[],"code":"//Someday my Art will Hang in a Museum. by eiffie\n//This is the family friendly version.\n\n\n#define time iTime\n#define size iResolution\n\n#define ch_g(x,y) if(i>=bit){ch_d=min(ch_d,max(abs(x)-h,abs(y)));i-=bit;}bit/=2;\n\nfloat chr(int i,vec2 ch_p){\n  const float s=0.5,s2=0.7;\n  float h=0.353,ch_d=1.0;\n  int bit=32768;\n  vec2 dg=s2*vec2(ch_p.x+ch_p.y,ch_p.x-ch_p.y);\n  ch_g(dg.x+h,dg.y) \n  ch_g(-dg.y-h,dg.x) \n  ch_g(-dg.y+h,dg.x) \n  ch_g(dg.x-h,dg.y) \n  h=0.25;\n  ch_g(ch_p.x+h,ch_p.y-s) \n  ch_g(ch_p.x-h,ch_p.y-s) \n  ch_g(ch_p.y-h,ch_p.x+s) \n  ch_g(ch_p.y-h,ch_p.x) \n  ch_g(ch_p.y-h,ch_p.x-s) \n  ch_g(ch_p.x+h,ch_p.y) \n  ch_g(ch_p.x-h,ch_p.y)\n  ch_g(ch_p.y+h,ch_p.x+s)\n  ch_g(ch_p.y+h,ch_p.x)\n  ch_g(ch_p.y+h,ch_p.x-s) \n  ch_g(ch_p.x+h,ch_p.y+s) \n  ch_g(ch_p.x-h,ch_p.y+s) \n  ch_p.x-=1.25;\n  return ch_d;\n}\n//14 bits and the D's still look like O's :(\n#define _A 3828\n#define _B 3831\n#define _C 3603\n#define _D 3735\n#define _E 3699\n#define _F 3696\n#define _G 3703\n#define _H 756\n#define _I 264\n#define _J 135\n#define _K 12880\n#define _L 531\n#define _M 21140\n#define _N 25236\n#define _O 3735\n#define _P 3824\n#define _Q 11927\n#define _R 12016\n#define _S 3687\n#define _T 3336\n#define _U 663\n#define _V 37392\n#define _W 671\n#define _X 61440\n#define _Y 20488\n#define _Z 39939\n\nfloat DEF(vec3 z, float xo, vec2 pf){//art frame\n\tfloat d=max(abs(z.x-xo)-pf.x,abs(z.y)-pf.y);\n\td=length(max(abs(vec2(d,z.z-3.9))-vec2(0.05),0.0))-0.02;\n\treturn d;\n}\nvec2 rotate(vec2 v, float angle) {return cos(angle)*v+sin(angle)*vec2(v.y,-v.x);}\nfloat ecyl(vec3 z, vec4 r){\n\tfloat f=length(z.xz*r.xy);\n\treturn length(max(vec2(abs(z.y)-r.w,f*(f-r.z)/length(z.xz*r.xy*r.xy)),0.0));//ellipse from iq\n}\nfloat smin(float a,float b,float k){float h=clamp(0.5+0.5*(b-a)/k,0.0,1.0);return b+h*(a-b-k+k*h);}//also iq's?\nmat2 rm1=mat2(0.87758,0.479425,-0.479425,0.87758);\nfloat spc,rotb;\t\n\nvec3 art2(vec2 z, float a, float b){//fractal\n\tz=z*0.83;\n\tfloat m=dot(z,z),mold=m,sum=m;\n\tfor (int n = 0; n < 4; n++) {\n\t\tif(m>4.0)break;\n\t\tz=vec2(z.y*z.y-sqrt(abs(z.x))+a,z.x*z.x-sqrt(abs(z.y))+b);\n\t\tm = dot(z,z);\n\t\tsum+=1.0/abs(mold-m);\n\t\tmold=m;\n\t}\n\treturn (1.0-sum*0.02)*vec3(0.5+0.5*sin(z),1.0);\n} \nfloat randSeed,GoldenAngle;\nfloat rand(){return randSeed=fract(randSeed+GoldenAngle);}\nfloat hash(vec2 co){return fract(sin(dot(co,vec2(13.434,77.2378)))*1323.3451);}//\nfloat noiz(vec2 p){//from iq\n\tvec2 c=floor(p),f=fract(p),v=vec2(1.0,0.0);\n\treturn mix(mix(hash(c),hash(c+v.xy),f.x),mix(hash(c+v.yx),hash(c+v.xx),f.x),f.y);\n}\nfloat cloud(vec2 p){\n\tp*=0.05;\n\tfloat n=noiz(p);\n\tp*=-0.16;\n\tp=sin(p+2.4*sin(p.yx)+p.yx);\n\treturn clamp(n*0.25*(p.x+p.y),0.0,1.0);\n}\nvec3 art3(vec3 ro,vec3 rd,float a,float b){//landscapes clouds, water, land\n\tfloat tW=-ro.y/rd.y,tG=(74.0-190.0*rd.x+6.25*sin((rd.x+rd.z)*50.0)-ro.z)/rd.z;\n\tif(tG<0.0)tG=100000.0;\n\tvec3 col=vec3(1.0),sky=vec3(0.6,0.7,0.8),grnd=vec3(0.4,0.6,0.5);\n\tfloat lmt=1.0;\n\tif(rd.y<0.0 && tW<tG){\n\t\tro+=tW*rd;\n\t\trd.y=max(0.0001,-rd.y+sin(ro.z+sin(ro.x))*0.01-0.015*noiz(ro.xz*5.0));\n\t\tlmt=max(1.0-tW*0.015,0.17);\n\t}\n\ttG=(74.0-190.0*rd.x+6.25*sin((rd.x+rd.z)*50.0)-ro.z)/rd.z;\n\tif(rd.y>0.0){\n\t\tfloat tS=(90.0-ro.y)/rd.y;\n\t\ttW=10000.0;\n\t\tcol=mix(sky.zxy,sky,rd.y*10.0);\n\t\tvec2 p=ro.xz+rd.xz*tS;\n\t\tfloat cld=cloud(p);\n\t\tcol+=vec3(cld);\n\t}\n\t\n\tro+=tG*rd;\n\tfloat f=40.0,n=noiz(rd.xy*1000.0),y=ro.y*0.009;\n\tro*=0.0625;\n\tfor(int i=0;i<3;i++){\n\t\tif(y<b*(sin(ro.x+sin(ro.z))+1.82+n*0.5))col=grnd*(0.2+y*f*n);\n\t\tro*=4.0;f*=0.5;b*=0.5;\n\t}\n\n\treturn clamp(col,0.0,lmt);\n}\n\nvec3 art4(vec2 p, float a, float b){//abstract\n\tvec3 col=vec3(1.0);\n\tp*=0.75;\n\tvec4 v=vec4(rand(),rand(),rand(),rand());\n\tfor(int i=0;i<4;i++){\t\n\t\tif(a+max(abs(p.x+v.x-0.5)-v.y,abs(p.y+v.z-0.5)-v.w)<0.0)col*=v.xyz;\n\t\tif(b+length(p+v.yw-vec2(0.5))-v.z<0.0)col*=v.yzw;\n\t\tv=vec4(v.yzw,rand());\n\t}\n\treturn col;\n}\n\nfloat DEEif(vec2 p){\n\tfloat x=abs(abs(p.x)-9.0);\n\tvec2 ap=vec2(abs(p.x-3.0),p.y);\n\tx=min(x,abs(abs(ap.x-9.0)-6.0));\n\tfloat y=clamp(p.y,-3.0,3.0)*2.0-p.y;\n\tp.x=abs(p.x);\n\tif(abs(p.x)<18.0){\n\t\tif(abs(p.x)<12.0){\n\t\t\tif(abs(p.x)<6.0){\n\t\t\t\tif(p.y<-3.0)y=10.0;\n\t\t\t}else y=10.0;\n\t\t}\n\t}else y=10.0;\n\treturn min(max(abs(x),abs(p.y)-6.0),abs(y));\n}\nfloat st,ct;\nvec2 rotate(vec2 v) {return ct*v+st*vec2(v.y,-v.x);}\nvec2 invrot(vec2 v) {return st*v+ct*vec2(v.y,-v.x);}\nvec3 art5(vec2 p){//nude\n\tvec3 col=vec3(0.5+p.y,0.0,0.5);\n\tvec2 ap=invrot(floor(p*32.0));\n\tfloat dE=DEEif(vec2(mod(ap.x+time*20.0,64.0)-32.0,ap.y-5.0));\n\tp=rotate(floor(p*32.0));\n\tp.y+=5.0;p.x=mod(p.x-time*10.0,64.0)-32.0;\n\tfloat d=length(max(abs(p)-vec2(10.0,4.0),0.0))-5.0;\n\tif(d<1.0){//body\n\t\tif(d<0.0){\n\t\t\tif(d<-1.0){\n\t\t\t\tfloat h=0.5*smoothstep(0.0,0.05,hash(p));\n\t\t\t\tcol=vec3(1.0,h,h);\n\t\t\t}else col=vec3(1.0,1.0,0.5);\n\t\t}else col=vec3(0.0);\n\t}\n\tp+=vec2(sin(time*4.0),cos(time*4.0));\n\tap=p-vec2(6.0,2.0);ap.x=abs(ap.x)-6.0;\n\td=length(ap)-2.0;\n\tif(d<1.0){//ears\n\t\tif(d<0.0)col=vec3(0.5);else col=vec3(0.0);\n\t}\n\tap=p;ap.x=abs(abs(ap.x)-8.0)-3.0;\n\tap.y+=9.0;\n\td=length(ap)-2.0;\n\tif(d<1.0){//feet\n\t\tif(d<0.0)col=vec3(0.5);else col=vec3(0.0);\n\t}\n\td=length(p*vec2(0.6,1.0)-vec2(4.0,-3.0))-5.0;\n\tif(d<1.0){//head\n\t\tif(d<0.0){\n\t\t\tcol=vec3(0.5);\n\t\t\tap=p-vec2(7.0,-3.0);ap.x=abs(ap.x);\n\t\t\td=length(ap-vec2(5.0,-1.0))-2.0;\n\t\t\tif(d<0.0)col=vec3(1.0,0.5,0.5);\n\t\t\td=length(ap-vec2(4.0,2.0))-1.0;\n\t\t\tif(d<0.0 || (ap.x<3.0 && ap.y>-3.0 && ap.y<-1.0))col=vec3(0.0);\n\t\t}else col=vec3(0.0);\n\t}\n\tif(dE<1.0)col=vec3(0.0,1.0,0.0);\n\treturn col;\n}\nmat3 lookat(vec3 fw,vec3 up){\n\tfw=normalize(fw);vec3 rt=normalize(cross(fw,up));return mat3(rt,cross(rt,fw),fw);\n}\nfloat pic(vec2 p, vec2 pf){return max(abs(p.x)-pf.x,abs(p.y)-pf.y);}\n#define CH(a,b,c,d,e,f,g,h,i,j,k,l,m) ch[0]=a;ch[1]=b;ch[2]=c;ch[3]=d;ch[4]=e;ch[5]=f;ch[6]=g;ch[7]=h;ch[8]=i;ch[9]=j;ch[10]=k;ch[11]=l;ch[12]=m;\nvec3 art1(vec3 ro,vec3 rd){//non nude version :)\n\tvec3 col=vec3(clamp(0.5+0.5*rd.y,0.0,1.0));\n\tvec2 p=rd.xy*3.0;\n\tp.x+=1.0;\n\tint ch[13];\n\tp.x=-p.x;CH(_I,_M,_A,_G,_E,0,_R,_E,_M,_O,_V,_E,_D)\n\tfloat d=1.0;\n\tfor(int i=0;i<13;i++){\n\t\td=min(d,chr(ch[i],p*vec2(-10.0,5.0)));\n\t\tp.x+=0.14;\n\t}\n\tcol=mix(vec3(0.0),col,smoothstep(0.0,0.15,d));\n\treturn col;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n\tGoldenAngle=2.0-0.5*(1.0+sqrt(5.0));\n\tfloat tim=min(time,48.75),tim2=tim;\n\tst=0.0;ct=1.0;\n\tvec2 up=vec2(0.0,1.0);\n\tif(time>50.25){st=sin(time*4.0);ct=cos(time*4.0);tim2+=(time-50.25)*15.0;}\n\tif(time>62.83){up=vec2(st,ct);}\n\tvec3 ro=vec3(-30.0+tim,-0.75,-0.5+tim2*0.01);\n\tvec2 uv=(2.0*fragCoord.xy-size.xy)/size.y;\n\tvec3 rd=lookat(vec3(0.2*cos(tim+sin(tim*0.1)),0.1,1.0),vec3(up,0.0))*normalize(vec3(uv,1.5));\n\tvec3 col=vec3(0.85),N,L=normalize(vec3(0.1,0.5,-0.6)),LC=vec3(1.0,0.7,0.4);\n\tfloat px=2.0/size.y,spec=0.2;\n\tfloat tW=(4.0*sign(rd.z)-ro.z)/rd.z;\n\tvec2 p0=ro.xy+rd.xy*tW,p=p0,pf=vec2(1.0,2.0),pfs=pf;\n\tfloat d=pic(p,pf),d2,ds=d,a=2.28,b=0.05,x,xs=0.0;\n\tint ch[13];\n\tCH(0,_P,_H,_O,_T,_O,_G,_R,_A,_P,_H,_Y,0)\n\tp.x-=4.0;\n\td2=pic(p,pf);\n\trotb=0.28;\n\tif(d2<d){a=-1.68;rotb=0.36,b=-0.23;d=d2;xs=4.0;ds=d2;}else p.x+=4.0;\n\tif(d<0.0 || time>75.0){\n\t\tspec=1.0;\n\t\tvec3 sro=vec3(0.0,0.0,-3.0);//5.25*sin(a),0.4,5.25*cos(a));\n\t\tvec3 srd=lookat(-sro,vec3(0.0,1.0,0.0))*normalize(vec3(p*0.5,1.0));//vec3(b,0.5,0.0))*normalize(vec3(p*0.5,2.0));\n\t\tif(time>75.0){sro=vec3(5.0,0.4,(76.0-time)*8.0);srd=lookat(vec3(-1.0,-0.075,0.0),vec3(0.0,1.0,0.0))*normalize(vec3(uv,2.0));rotb=0.35*sin(time*8.0);}\n\t\tcol=art1(sro,srd);\n\t\tif(time>75.0){\n\t\t\tcol*=clamp(time-75.0,0.0,1.0);\n\t\t\tfragColor=vec4(col,1.0);\n\t\t\treturn;\n\t\t}\n\t}\n\tx=9.0;\n\tp.x=p0.x-x;a=0.54;b=0.33;pf=vec2(1.75);\n\td=pic(p,pf);\n\tp.x-=5.0;\n\td2=pic(p,pf);\n\tif(d2<d){d=d2;a=-0.18;b=-0.53;x+=5.0;}else p.x+=5.0;\n\tif(d<ds){xs=x;pfs=pf;ds=d;if(d==d2){ CH(0,_G,_E,_N,_E,_R,_A,_T,_I,_V,_E,0,0) }else{ CH(0,0,0,_F,_R,_A,_C,_T,_A,_L,0,0,0) }}\n\tif(d<0.0){\n\t\tspec=1.0;\n\t\tcol=art2(p,a,b);\n\t\tif(b==0.33)col=col.rbg;\n\t\t//col=clamp(col,0.1,0.9);\n\t}\n\tx=-5.0;\n\tp.x=p0.x-x;a=2.0;b=0.0;\n\td=pic(p,pf);\n\tp.x+=5.0;\n\td2=pic(p,pf);\n\tif(d2<d){d=d2;a=0.0;b=2.0;d2=50.0;x-=5.0;}else{p.x-=5.0;d2=6.0;}\n\tif(d<ds){xs=x;pfs=pf;ds=d;if(a==0.0){ CH(0,0,_A,_B,_S,_T,_R,_A,_C,_T,0,0,0) }else{ CH(0,0,0,_C,_U,_B,_I,_S,_M,0,0,0,0) }}\n\tif(d<0.0){\n\t\tspec=1.0;\n\t\trandSeed=hash(floor(p*d2));\n\t\tcol=art4(p,a,b);\n\t\tif(b==2.0)col=mix(col,col.gbr,dot(col,col.brg));\n\t}\n\tx=-17.0;\n\tp.x=p0.x-x;a=2.0;b=0.021;pf=vec2(3.0,2.5);\n\td=pic(p,pf);\n\tp.x+=7.0;\n\td2=pic(p,pf);\n\tif(d2<d){d=d2;a=0.0;b=0.21;d2=500.0;x-=7.0;}else{p.x-=10.0;d2=6.0;}\n\tif(d<ds){xs=x;pfs=pf;ds=d;if(a!=0.0){ CH(0,0,0,_R,_E,_A,_L,_I,_S,_M,0,0,0) }else{ CH(_E,_X,_P,_R,_E,_S,_S,_I,_O,_N,_I,_S,_M) }}\n\tif(d<0.0){\n\t\tspec=0.5;\n\t\tcol=art3(vec3(0.0,1.0,0.0),normalize(vec3(p*0.125,2.0)),a,b);\n\t}\n\t\n\tx=18.0;\n\tp.x=p0.x-x;pf=vec2(1.0,0.6);\n\td=pic(p,pf);\n\t\n\tif(d<ds){xs=x;pfs=pf;ds=d;CH(_D,_E,_G,_E,_N,_E,_R,_A,_T,_I,_V,_E,0) }\n\tif(d<0.0){\n\t\tif(time<45.0)col=vec3(0.1);\n\t\telse{spec=0.0;col=art5(p);}\n\t}\n\t\n\t//nameplate\n\tp.x=p0.x-xs;p.y+=pfs.y+0.4;\n\td=max(abs(p.x)-1.0,abs(p.y)-0.25);\n\tif(d<0.0 || time<3.0){\n\t\tspec=1.0;d2=1.0;\n\t\tvec3 scol=vec3(0.6,0.4,0.2);\n\t\tp.x-=0.8;\n\t\tif(time<3.0){scol=col;d=-1.0;p=uv;p.x=-p.x;CH(0,0,0,_S,_O,_M,_E,_D,_A,_Y,0,0,0)}\n\t\tfor(int i=0;i<13;i++){\n\t\t\td2=min(d2,chr(ch[i],p*vec2(-10.0,5.0)));\n\t\t\tp.x+=0.14;\n\t\t}\n\t\tscol=mix(vec3(0.0),scol,smoothstep(0.0,30.0*px,d2));\n\t\tcol=mix(col,scol,clamp(-d*15.0,0.0,1.0));\n\t}\n\t\n\tN=vec3(0.0,0.0,-sign(rd.z));\n\tcol*=(0.5+dot(N,L)*0.5);\n\t\n\tcol+=spec*LC*pow(max(0.0,dot(reflect(rd,N),L)),4.0);\t\n\t\n\tfloat t=(3.9*sign(rd.z)-ro.z)/rd.z,dm=10.0,tm;\n\tfor(int i=0;i<3;i++){\n\t\tt+=d=DEF(ro+rd*t,xs,pfs);\n\t\tif(d<dm){dm=d;tm=t;}\n\t\tif(d<0.00001 || t>tW)break;\n\t}\n\tif(dm<px*t){\n\t\tcol=mix(vec3(0.0),col,clamp(dm/(px*tm),0.0,1.0));\n\t}\n\tcol*=min(time*0.1,1.0)*min((75.0-time)*0.1,1.0);\n\tfragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"},{"outputs":[{"channel":0,"id":"XsfGRr"}],"inputs":[],"code":"#define bps 8.0\n\n// note number to frequency  from https://www.shadertoy.com/view/ldfSW2\nfloat ntof(float n){return 440.0 * pow(2.0, (n - 67.0) / 12.0);}\nfloat csaw(float t){return clamp(fract(t),0.0,0.05)*20.0-0.5;}\nfloat saw(float t){return fract(t)-0.5;}\nfloat ssaw(float t){return abs(fract(t)-0.5)-0.25;}\n\nfloat rnd(float t){return fract(sin(t*341.545234)*1531.2341);}\n\n#define TAO 6.2831\nvec2 mainSound( in int samp,float t)\n{\n\tfloat time=t-45.0;\n\tif(time<0.0)return vec2(0.0);\n\tfloat tim=time*bps;\n\tfloat b=mod(floor(tim),32.0);\n\tif(b>7.0)b-=8.0;\n\tfloat n=0.0;\n\tif(b==0.0||b==1.0||b==4.0)n=43.0;\n\tif(b==2.0||b==3.0||b==5.0||b==6.0)n=55.0;\n\tif(b==8.0||b==9.0||b==12.0)n=46.0;\n\tif(b==10.0||b==11.0||b==13.0||b==14.0)n=58.0;\n\tif(b==16.0||b==17.0||b==20.0)n=41.0;\n\tif(b==18.0||b==19.0||b==21.0||b==22.0)n=53.0;\n\tfloat f=ntof(n)*time*0.25;\n\tfloat a1=csaw(f)+0.75*csaw(f+0.5+sin(time)*0.02),a2=0.0;\n\tb=mod(floor(tim*0.5),64.0);\n\tif(b>31.0 && b<45.0)b-=32.0;\n\tif(b>=52.0)b-=8.0;\n\tn=0.0;\n\tif(b<3.0||b==4.0||b==6.0||b==18.0||b==20.0||b==23.0||b==25.0||b==48.0||b==49.0)n=55.0;\n\tif(b==3.0||b==5.0||b==19.0||b==24.0||b==27.0||b==28.0||b==45.0)n=53.0;\n\tif(b==7.0||b==11.0||b==12.0||b==17.0||b==21.0)n=57.0;\n\tif(b==8.0||b==16.0||b==22.0)n=58.0;\n\tif(b==9.0)n=60.0;\n\tif(b==46.0||b==47.0)n=50.0;\n\tf=ntof(n)*time*2.0;\n\ta2=ssaw(f)*2.0*sin(tim*3.14159);\n\treturn vec2(a1+a2);\n}\n","name":"Sound","description":"","type":"sound"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":true,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"llX3R4","date":"1419095025","viewed":391,"name":"Someday","username":"eiffie","description":"Someday my art will hang in a museum. Until then it needs age restriction.","likes":30,"published":1,"flags":8,"usePreview":0,"tags":["codeart"],"hasliked":0,"parentid":"","parentname":""}}