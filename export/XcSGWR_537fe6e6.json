{"ver":"0.1","info":{"id":"XcSGWR","date":"1704022995","viewed":71,"name":"2024-new-start","username":"dreameatingcat","description":"2024-new-start","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["2024newstart"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGzr","filepath":"/media/a/08b42b43ae9d3c0605da11d0eac86618ea888e62cdd9518ee8b9097488b31560.png","previewfilepath":"/media/ap/08b42b43ae9d3c0605da11d0eac86618ea888e62cdd9518ee8b9097488b31560.png","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define FONT_SAMPLER iChannel0\nconst int \nTileCount = 16,\n_0 = 48;\n\nconst float thickness = 0.5;\nconst float smoothness = 0.3;\n\nvec3 color = vec3(0.4, 0.6, 0.7);\n\nvec4 SampleCharacterTex( uint iChar, vec2 vCharUV )\n{\n    uvec2 iChPos = uvec2( iChar % 16u, iChar / 16u );\n    vec2 vUV = (vec2(iChPos) + vCharUV) / 16.0f;\n    return textureLod( FONT_SAMPLER, vUV, 0.0 );\n}\n\nvec3 WriteNumber(int num, int next, vec2 uv, float count)\n{\n    vec3 result = vec3(0);\n    \n    float mask = step(uv.x * 4. , count) * step(count - 1. , uv.x * 4.);\n    vec2 tiledUV = vec2(fract( uv.x * 4.) , uv.y) * mask;\n    \n    int index0 = num + _0;\n    float col0 = mod(float(index0), float(TileCount));\n    float row0 = 16. - floor(float(index0 / TileCount)) - 1.;\n    \n    \n    vec4 textColor0 = texture(iChannel0, vec2(tiledUV.x , tiledUV.y) / float(TileCount) \n    + vec2(col0 / float(TileCount), row0 / float(TileCount))).rgba * mask;\n    \n    int index1 = next + _0;\n    float col1 = mod(float(index1), float(TileCount));\n    float row1 = 16. - floor(float(index1 / TileCount)) - 1.;\n    \n    \n    vec4 textColor1 = texture(iChannel0, vec2(tiledUV.x , tiledUV.y) / float(TileCount) \n    + vec2(col1 / float(TileCount), row1 / float(TileCount))).rgba * mask;\n    \n    float shape = smoothstep(thickness - smoothness*0.1, thickness + smoothness * 0.1, mix(textColor0.a, textColor1.a, fract(iTime * 0.4)));\n    shape = pow(shape, 10.);\n    \n    result = shape * color;\n    \n    return result;\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n    \n    vec2 uv = fragCoord.xy / iResolution.xy;\n  \n    float actYear = iDate.x;\n    float nextYear = actYear + 1.;\n \n    vec3 finalColor = vec3(0);\n    \n    float count = 4.;\n    while(actYear > 0.0)\n    {\n        int num = int(mod(actYear, 10.));\n        int next = int(mod(nextYear, 10.));\n        \n        finalColor = max(finalColor, WriteNumber(num, next, uv, count--));\n        \n        actYear /= 10.;\n        nextYear /= 10.;\n        // break;\n    }\n  \n    fragColor = vec4(finalColor, 1.0);\n}","name":"Image","description":"","type":"image"}]}