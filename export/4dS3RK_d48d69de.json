{"ver":"0.1","renderpass":[{"outputs":[{"channel":0,"id":"4dfGRr"}],"inputs":[],"code":"// No longer works since last API changes. Don't have time to look into it\n\n#ifdef GL_ES\nprecision lowp float;\n#endif\n\nconst float c_LINE_WIDTH = 4.0;\n\nbool PixelInsideCircle( vec2 fragCoord, vec3 circle, float distFromCenter )\n{\n    distFromCenter = distance(fragCoord.xy, circle.xy) - circle.z;\n    return distFromCenter < 0.0;\n}\n\nbool PixelOnCircleContour( vec2 fragCoord, vec3 circle, float distFromContour )\n{\n    float distFromCenterLarge = 0.0;\n    float distFromCenterSmall = 0.0;\n    bool ret =  \n        PixelInsideCircle( fragCoord, circle, distFromCenterLarge ) && \n        !PixelInsideCircle( fragCoord, vec3(circle.xy,circle.z-c_LINE_WIDTH), distFromCenterSmall );\n    \n    distFromContour = distFromCenterLarge-circle.z;\n    \n    return ret;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tfloat timeFactor = (2.0+sin(iTime))/2.0;\n\t\n    const int NB_CIRCLES=3;\n    vec3 c[NB_CIRCLES];\n    c[0] = vec3( 0.6, 0.4, 0.07 ) * iResolution;\n    c[1] = vec3( 0.45, 0.69, 0.09 ) * iResolution;\n    c[2] = vec3( 0.35, 0.58, 0.06 ) * iResolution;\n    c[0].z = 0.07*iResolution.x*timeFactor;\n    c[1].z = 0.1*iResolution.x*timeFactor;\n    c[2].z = 0.07*iResolution.x*timeFactor;\n\t\n\tc[0].xy = iMouse.xy;\n\n    float distCl = 0.0;\n    bool keep = false;\n    for ( int i = 0; i < NB_CIRCLES; ++i )\n    {\n        if ( !PixelOnCircleContour(fragCoord,c[i],distFromContour) )\n            continue;\n\n        bool insideOther = false;\n        for ( int j = 0; j < NB_CIRCLES; ++j )\n        {\n            if ( i == j )\n                continue;\n\n            float distFromCenter = 0.0;\n            if ( PixelInsideCircle(fragCoord,c[j],distFromCenter) )\n                insideOther = true;\n        }\n\n        keep = keep || !insideOther;\n        \n\t\tif ( distFromContour < c_LINE_WIDTH )\n        {\n            distCl = distFromContour;\n        }\n    }\n\n//    if ( keep )\n        fragColor = vec4(distCl,distCl,0.0,1.0); \n//    else\n//        fragColor = vec4(0.0,0.0,0.0,1.0); \n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"4dS3RK","date":"1390483689","viewed":235,"name":"IntersectCircleContours","username":"jansim","description":"Drag the left mouse button to move one of the circles.\nThis shader was written to answer a question on stackoverflow:\nhttp://stackoverflow.com/questions/21259903/how-do-i-get-an-array-of-points-of-a-circle-unions-circumference/21260368#21260368","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["circleintersectcontourunion"],"hasliked":0,"parentid":"","parentname":""}}