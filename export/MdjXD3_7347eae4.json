{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[{"channel":0,"type":"texture","id":"Xdf3zn","filepath":"/media/a/85a6d68622b36995ccb98a89bbb119edf167c914660e4450d313de049320005c.png","sampler":{"filter":"nearest","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"}},{"channel":1,"type":"texture","id":"Xsf3zn","filepath":"/media/a/f735bee5b64ef98879dc618b016ecf7939a5756040c2cde21ccb15e69a6e1cfb.png","sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"}},{"channel":2,"type":"texture","id":"4sfGRn","filepath":"/media/a/fb918796edc3d2221218db0811e240e72e340350008338b0c07a52bd353666a6.jpg","sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"}},{"channel":3,"type":"texture","id":"XdXGzn","filepath":"/media/a/3083c722c0c738cad0f468383167a0d246f91af2bfa373e9c5c094fb8c8413e0.png","sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"}}],"code":"#define M_PI_1_2 1.5707963267948966\n#define M_PI_2_2 3.141592653589793\n#define M_PI_3_2 4.71238898038469\n#define M_PI_4_2 6.283185307179586\n\n#define M_CORNER_1 2.356194490192345\n#define M_CORNER_2 3.9269908169872414\n#define M_CORNER_3 5.497787143782138\n\nvec4 pal1 = vec4(0.7, 1.0, 1.0, 1.0);\nvec4 pal2 = vec4(1.0, 0.7, 0.7, 1.0);\n\nvec4 palette(float v)\n{\n    float at = mod(v, 1.0) * 2.0;\n    float x = mod(at, 1.0);\n    float y = floor(at);\n    vec4 c1, c2;\n    \n    if (y < 1.0) {\n        c1 = pal1; c2 = pal2;\n    } else {\n        c1 = pal2; c2 = pal1;\n    }\n    \n    x *= M_PI_1_2;\n    x = sin(x) * sin(x);\n\n    return c1 * x + c2 * (1.0 - x);\n}\n\nvec4 background(float t, vec2 uv)\n{\n    return palette(\n        sin(sin(3.0 * t) * sin((2.2 + sin(2.0 * t)) * (2.0 * uv.x + sin(t + uv.y))                  \n\t\t\t+ sin(1.2 * t)) + cos(4.0 * uv.y + sin(t)))\n    );\n}\n\nfloat rotation(float t, float y)\n{\n    return 1.3 * sin(1.3 * t + 0.6 * y) + t;\n}\n\nvec2 decode(float rot)\n{\n    return vec2(\n        mod(rot, M_PI_1_2),\n        mod(rot / M_PI_1_2, 4.0)\n    );\n}\n\nvec3 parameters(float rot, float ctr, float sz)\n{\n    return vec3(\n        ctr + sz * cos(rot + M_CORNER_1),\n        ctr + sz * cos(rot + M_CORNER_2),\n        ctr + sz * cos(rot + M_CORNER_3)\n    );\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tfloat center = iResolution.x / 2.0;\n    vec2 uv = fragCoord.xy / iResolution.xy;\n    vec2 rotface = decode(rotation(iTime, uv.y));\n    float size = iResolution.x / 4.0;\n    vec3 params = parameters(rotface.x, center, size);\n    float face = 0.0;\n    float facepos = 0.0;\n    float norm = 0.0;\n    if (fragCoord.x < params.x || fragCoord.x > params.z) {\n        fragColor = background(iTime, uv);\n        return;\n    } else if (fragCoord.x < params.y) {\n        face = mod(rotface.y + 1.0, 4.0);\n        norm = (params.y - params.x) / size;\n        facepos = (fragCoord.x - params.x) / (params.y - params.x);\n    } else {\n        face = rotface.y;\n        norm = (params.z - params.y) / size;\n        facepos = (fragCoord.x - params.y) / (params.z - params.y);\n    }\n    \n    float vpos = sin(iTime + 0.2) + uv.y;\n\n    vec4 color = texture(iChannel0, vec2(facepos, vpos));;\n    if (face < 1.0) {\n        color *= vec4(1.0, 0.4, 0.0, 1.0);\n    } else if (face < 2.0) {\n        color *= vec4(0.0, 1.0, 0.4, 1.0);\n    } else if (face < 3.0) {\n        color *= vec4(0.4, 0.0, 1.0, 1.0);\n    } else {\n        color *= vec4(1.0, 0.0, 0.4, 1.0);\n    }\n    \n    vec4 ones = vec4(1.0,1.0,1.0,1.0);\n    color = ones - (ones - color) * (ones - color);\n    \n    fragColor = (color + vec4(0.2,0.2,0.2,0.2)) * (0.1 + 0.6 * norm);\n\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"MdjXD3","date":"1416782364","viewed":276,"name":"Basic Twister","username":"aji","description":"plasmas and twisters and pastel color schemes, oh my","likes":6,"published":1,"flags":0,"usePreview":0,"tags":["demo","twister","scene","trope"],"hasliked":0,"parentid":"","parentname":""}}