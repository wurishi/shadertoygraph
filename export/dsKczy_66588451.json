{"ver":"0.1","info":{"id":"dsKczy","date":"1696618412","viewed":55,"name":"Botanical Blob","username":"Mojomajor","description":"Madeira Garden Fields, forever","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["flowerrohrschacht"],"hasliked":0,"parentid":"csKcWD","parentname":"01. Dream"},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//  Function from Iñigo Quiles\nvec3 rgb2hsb( in vec3 c ){\n    vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\n    vec4 p = mix(vec4(c.bg, K.wz),\n                 vec4(c.gb, K.xy),\n                 step(c.b, c.g));\n    vec4 q = mix(vec4(p.xyw, c.r),\n                 vec4(c.r, p.yzx),\n                 step(p.x, c.r));\n    float d = q.x - min(q.w, q.y);\n    float e = 1.0e-10;\n    return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)),\n                d / (q.x + e),\n                q.x);\n}\n\n//  Function from Iñigo Quiles\nvec3 hsb2rgb( in vec3 c ){\n    vec3 rgb = clamp(abs(mod(c.x*6.0+vec3(0.0,4.0,2.0),\n                             6.0)-3.0)-1.0,\n                     0.0,\n                     1.0 );\n    rgb = rgb*rgb*(3.0-2.0*rgb);\n    return c.z * mix(vec3(1.0), rgb, c.y);\n}\n\nfloat horizontalWave(float x, float amount) {\n\n    return (sin(x*amount)+1.)/2.;\n}\n\nfloat horizontalPulse(float x, float speed) {\n    return (clamp(sin(x*160.)+((sin(iTime*speed))*1.), 0., 1.));\n}\n\nfloat AuroraGradient(float y, float len) {\n    float r = (y - 0.5) * 2.;\n    r = abs(r) * -1.; \n    r = r + 1.;\n    r = clamp(r, 0., 1.);\n    \n    if(y < 0.5) {\n        return pow(r, 128.);\n    }\n    \n    return pow(r, 4.);\n}\n\nfloat yGradient(float y, float to) {\n    return pow((distance(y, to)*2.) * (step(-y,-0.5)),2.);\n}\n\nfloat xSine(float x, float rep, float intensity, float speed, float timeOffset) {\n    return sin(((iTime+timeOffset)* speed)+(x*rep))*intensity;\n}\n\nvec3 Aurora(vec2 uv, float globalSpeed, float timeOffset) {\n    float alpha = AuroraGradient(\n        uv.y + \n        xSine(uv.x, 0.5, 0.05, 1.75 * globalSpeed, timeOffset) + \n        xSine(uv.x, 1.5, 0.10, 1.75 * globalSpeed, timeOffset) + \n        xSine(uv.x, 3.5, 0.05, 1.1 * globalSpeed, timeOffset) + \n        xSine(uv.x, 10., 0.05, -1.25 * globalSpeed, timeOffset) + \n        xSine(uv.x, 14., 0.04, 1.75 * globalSpeed, timeOffset) +\n        xSine(uv.x, 32., 0.02, -5. * globalSpeed, timeOffset) +\n        xSine(uv.x, 64., 0.01, 2. * globalSpeed, timeOffset),\n        2.);\n        \n        \n    float hue = mix(0.59, 0.78, sin(uv.x*2.+((iTime+timeOffset)*globalSpeed)));\n    \n    vec3 color = hsb2rgb(vec3(hue, 0.7, 1.));\n    \n    color *= alpha * 1.1;\n    \n    \n    vec3 hsb = rgb2hsb(color);\n    hsb.b = pow(hsb.b,1.6);\n    \n    color =  hsb2rgb(hsb);   \n        \n    return color;\n}\n\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n        \n    //float globalSpeed = (sin(iTime)*0.5+0.5)*.01;\n    float globalSpeed = 2.1;\n    \n    // Time varying pixel color\n    vec3 col = 0.5 + 0.5*cos(iTime+uv.xyx+vec3(0,2,4));\n        \n    // center\n    uv-=0.5;\n    // scale\n    uv*=2.5;\n    // mirror\n    uv.x=abs(uv.x);\n    uv.y=abs(uv.y);\n    // polar coordinates\n    uv = vec2(atan(uv.x,uv.y), length(uv));\n        \n    vec2 uv2 = vec2(uv.x, uv.y+0.2);\n    vec3 totalColor = vec3(0.0);\n    int numAuroras = 5;\n    for(int i = 0; i < 100; i++) {\n        if(i >= numAuroras) break;\n        float sth=-0.15*abs(sin(iTime));\n        //float sth=0.02;\n        vec2 uvN = vec2(uv.x, uv.y + sth * float(i));\n        uvN.y-=sth;\n        vec3 auroraN = Aurora(uvN, globalSpeed * (1. + 0.3 * float(i)), 3.0 + 137.0 * float(i));\n        \n        totalColor += auroraN;\n    }\n    \n    fragColor = vec4(1.-(col*totalColor)-totalColor*uv.y, 1.0);\n    //fragColor = vec4(totalColor, 1.0);\n\n    /*    \n    vec3 aurora1 = Aurora(uv, globalSpeed, 3.);\n    vec3 aurora2 = Aurora(uv2, globalSpeed*1.3, 140.);\n    \n    \n    fragColor = vec4(aurora1 + aurora2, 1.0);*/\n}\n\n","name":"Image","description":"","type":"image"}]}