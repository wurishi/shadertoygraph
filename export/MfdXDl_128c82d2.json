{"ver":"0.1","info":{"id":"MfdXDl","date":"1714714566","viewed":64,"name":"Cello: Alife3","username":"JupiterDude","description":"Yet another take on Conway's Game of Life.\n\nControls:\n* Press <space> to reset.\n* 'b' to see behind the shapes\n* LMB zoom & pan - Microscope mode!\n* See Buffer A for configuration values.","likes":5,"published":1,"flags":48,"usePreview":0,"tags":["artificiallife"],"hasliked":0,"parentid":"lctSDj","parentname":"Cello: Alife2"},"renderpass":[{"inputs":[{"id":"4dXGRr","filepath":"/presets/tex00.jpg","previewfilepath":"/presets/tex00.jpg","type":"keyboard","channel":3,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    if (fragCoord.y > 10.0 && fragCoord.y < (iResolution.y - 10.0) &&\n        fragCoord.x > 10.0 && fragCoord.x < (iResolution.x - 10.0) )\n    {\n        if (iMouse.z > 0.0) {\n            float cx = iMouse.x;\n            float cy = iMouse.y;\n            fragCoord -= vec2(cx, cy);\n            fragCoord /= 8.0;\n            fragCoord += vec2(cx, cy);\n        }\n\n        vec4 t = texelFetch( iChannel0, ivec2(fragCoord), 0);\n        if (fragCoord.x > iResolution.x/2. && keypressed(66)) {\n        } else {\n            if (t.r > .5) {\n                t = vec4(1.0, 1.0, 1.0, 1.0);\n            } else {\n                t = vec4(0.0, 0.0, 0.0, 1.0);\n            }\n        }\n        fragColor = t;\n        \n    } else {\n        // vec4 t = texelFetch( iChannel0, ivec2(fragCoord), 0);\n        if (keypressed(65)) {\n            fragColor = vec4(1.0);\n        } else {\n            fragColor = vec4(.34); // t;\n        }\n        return;\n    }\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGRr","filepath":"/presets/tex00.jpg","previewfilepath":"/presets/tex00.jpg","type":"keyboard","channel":3,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"vec4 init( vec2 fragCoord ) {\n\n    fragCoord.x = floor(fragCoord.x / 1.0);\n    fragCoord.y = floor(fragCoord.y / 1.0);\n    float t = gold_noise(fragCoord, fract(iTime * .5) + .4);\n    if ( t < 0.05 || isnan(t)  ) t = 0.05;\n    vec4 fragColor = vec4(\n        t, t, t,\n        1.0);\n\n    return fragColor;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // INITIALIZE\n    if( iFrame==0 || keypressed(32) ) {\n        fragColor = init(fragCoord);\n        return;\n    }\n    \n    \n    if ( ((iFrame % 1) == 0) || keypressed(65)) {\n\n        vec4 t = texelFetch( iChannel0, ivec2(fragCoord), 0);\n        vec4 t0 = texelFetch( iChannel0, ivec2(fragCoord) + ivec2(-1,-1), 0);\n        vec4 t1 = texelFetch( iChannel0, ivec2(fragCoord) + ivec2( 0,-1), 0);\n        vec4 t2 = texelFetch( iChannel0, ivec2(fragCoord) + ivec2( 1,-1), 0);\n        vec4 t3 = texelFetch( iChannel0, ivec2(fragCoord) + ivec2(-1, 0), 0);\n        vec4 t4 = texelFetch( iChannel0, ivec2(fragCoord) + ivec2( 1, 0), 0);\n        vec4 t5 = texelFetch( iChannel0, ivec2(fragCoord) + ivec2(-1, 1), 0);\n        vec4 t6 = texelFetch( iChannel0, ivec2(fragCoord) + ivec2( 0, 1), 0);\n        vec4 t7 = texelFetch( iChannel0, ivec2(fragCoord) + ivec2( 1, 1), 0);\n\n        float r = t.r + t0.r + t1.r + t2.r + t3.r + t4.r + t5.r + t6.r + t7.r;\n        float g = t.g + t0.b + t1.g + t2.g + t3.g + t4.g + t5.g + t6.g + t7.g;\n        float b = t.b + t0.b + t1.b + t2.b + t3.b + t4.b + t5.b + t6.b + t7.b;\n        float c = (r + g + b) / 27.0;\n\n        c = (.5+sin((c-.5) * PI2) * .5);\n        \n        fragColor = vec4(c, c, c, 1.0);\n    \n    } else {\n    \n        fragColor = texelFetch( iChannel0, ivec2(fragCoord), 0);\n    }\n}\n","name":"Buffer A","description":"","type":"buffer"},{"inputs":[],"outputs":[],"code":"#define PI2 (6.283185307179586476925286766559)\n\n#define keypressed(ascii) ( texelFetch(iChannel3,ivec2(ascii,0),0).x > 0. )\n\n#define qrand(uv, n) (floor( gold_noise(uv, n) * 10.0) / 10.0)\n\n// gold_noise from dcerisano at  \n// Gold Noise ©2015 dcerisano@standard3d.com\n// - based on the Golden Ratio\n// - uniform normalized distribution\n// - fastest static noise generator function (also runs at low precision)\n// - use with indicated fractional seeding method\n// NOTE: Sometimes this random number generator creates obviously aliased / moire\n// patterns. Still, usually it works good. Need something better here.\n\nconst float PHI = 1.61803398874989484820459; // Φ = Golden Ratio \n\nfloat gold_noise(in vec2 xy, in float seed)\n{\n    // return fract(tan(distance(atan(xy*PHI), xy)*seed)*xy.x);\n    return fract(tan(distance(atan(xy*PHI) * seed, xy)*seed)*xy.x);\n}\n\nfloat gold_noise2( in vec2 xy, in float seed )\n{\n    return .5 + .5 * sin(cos(sin(xy.x * seed)*xy.y*seed)*xy.x*seed); // fract(fract(sin(xy.x * seed)*12138.5453123) + fract(cos(xy.y*seed)*13138.5453123) * seed);\n}\n\n\n\n","name":"Common","description":"","type":"common"}]}