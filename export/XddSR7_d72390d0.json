{"ver":"0.1","info":{"id":"XddSR7","date":"1458398670","viewed":269,"name":"Happy Little Accident","username":"antonOTI","description":"I was trying to make yet another sand cellular automata but while failling I though: \"what if put music in input ?\"","likes":8,"published":1,"flags":96,"usePreview":0,"tags":["music","accident","cellularautomata"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XdfGR8","filepath":"/media/previz/buffer03.png","previewfilepath":"/media/previz/buffer03.png","type":"buffer","channel":3,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = floor(fragCoord.xy) / iResolution.xy;\n    vec2 uv2 = uv * vec2(1.,-1.) + vec2(0.,1.);\n    vec3 del = vec3(1.,0.,-1.) * 2.;\n    vec2 R = 1. / iResolution.xy;\n    \n    vec4 sum = texture(iChannel0,uv + del.yy * R) \n        + texture(iChannel0,uv + del.yx * R) + \n        texture(iChannel0,uv + del.yz  * R);\n    \n    float c1 = sum.r /3.;;\n\n    sum = texture(iChannel1,uv2 + del.yy * R) \n        + texture(iChannel1,uv2 + del.yx * R) + \n        texture(iChannel1,uv2 + del.yz  * R);\n    float c2 = sum.b /1.;\n    \n    float c3 = texture(iChannel3,vec2(uv.x,.5)).r;\n    uv.y = abs(uv.y-.5)*32.;\n    c3 = step(uv.y,c3) * c3*.9;\n\tfragColor = vec4(c1 + c2 * .25,c3 + c2 * .25,c2,1.);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XdfGR8","filepath":"/media/previz/buffer03.png","previewfilepath":"/media/previz/buffer03.png","type":"buffer","channel":3,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"#define look(pos) texture(iChannel0,pos).x\n#define was1(del) (look(pos + del/iResolution.xy) > .8)\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord.xy / iResolution.xy;\n    fragColor = vec4(0.);\n    float prevState = texture(iChannel0,uv).x;\n    \n    vec2 pos = uv;\n    vec3 del = vec3(1.,0.,-1.) ;\n    float ns = 0.;\n    \n    if (prevState == 1.)\n    {\n    \tif(\n            (\n                !was1(del.yz) || \n                !was1(del.zz) || \n                !was1(del.xz)\n            )\n        )\n        \tns = .0;\n        else\n            ns = 1.;\n    }else\n    {\n    \tif(\n            was1(del.yx) || \n            (was1(del.xx)&& was1(del.yx))|| \n            (was1(del.zx)&& (was1(del.zy) && was1(vec2(-2.,0.) )) )\n          )\n            ns = 1.;\n    }\n    fragColor = vec4(ns,0.,0.,0.);\n   \t\n    float music = step(abs(.5 - uv.y), .01) ;\n    float xpos = abs(uv.x -.5) * .85;\n    float dist = .5 + pow(xpos,2.);\n    \n  \tfragColor = max(fragColor,music * texture(iChannel3,vec2(dist,.5)  ));\n    \n}","name":"Buf A","description":"","type":"buffer"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XdfGR8","filepath":"/media/previz/buffer03.png","previewfilepath":"/media/previz/buffer03.png","type":"buffer","channel":3,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"XsXGR8","channel":0}],"code":"#define look(pos) texture(iChannel1,pos).b\n#define was1(del) (look(pos + del/iResolution.xy) > .8)\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord.xy / iResolution.xy;\n    fragColor = vec4(0.);\n    float prevState = texture(iChannel1,uv).b;\n    \n    vec2 pos = uv;\n    vec3 del = vec3(1.,0.,-1.) ;\n    float ns = 0.;\n    \n    if (prevState == 1.)\n    {\n    \tif(\n            (\n                !was1(del.yz) || \n                !was1(del.zz) || \n                !was1(del.xz)\n            )\n        )\n        \tns = .0;\n        else\n            ns = 1.;\n    }else\n    {\n    \tif(\n            was1(del.yx) || \n            (was1(del.xx)&& was1(del.yx))|| \n            (was1(del.zx)&& (was1(del.zy) && was1(vec2(-2.,0.) )) )\n          )\n            ns = 1.;\n    }\n    fragColor = vec4(ns * .25,ns * .25,ns,0.);\n   \t\n    float music = step(abs(.5 - uv.y), .01);\n    music = music * texture(iChannel3,vec2(uv.x,.25)).r * 1.15;\n    fragColor = max(fragColor,vec4(music));\n    \n}","name":"Buf B","description":"","type":"buffer"},{"inputs":[{"id":"4sSSRR","filepath":"https://soundcloud.com/kfdda/meltdown","previewfilepath":"https://soundcloud.com/kfdda/meltdown","type":"musicstream","channel":3,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":0}],"outputs":[{"id":"XdfGR8","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord.xy / iResolution.xy;\n    uv.x = abs(uv.x -.5) * .5 +.01 ;\n    fragColor = texture(iChannel3,uv);\n}","name":"Buf D","description":"","type":"buffer"}]}