{"ver":"0.1","info":{"id":"DtlBRs","date":"1693345685","viewed":75,"name":"reading an image as sound","username":"jonasfrey","description":"the white dot travels around the image and the underlaying pixels get read out as a sound sample in the form of (r+g+b+a)/4 = amplitude. \nthis may sound different on displays with other frame rates.","likes":2,"published":1,"flags":8,"usePreview":0,"tags":["sound","image"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XsX3Rn","filepath":"/media/a/92d7758c402f0927011ca8d0a7e40251439fba3a1dac26f5b8b62026323501aa.jpg","previewfilepath":"/media/ap/92d7758c402f0927011ca8d0a7e40251439fba3a1dac26f5b8b62026323501aa.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float n_t = iTime+sin(iTime)*10.;\n    vec2 o_scl = vec2(960, 540);// iResolution.xy; /iresolution is not available in sound :(\n    float n_length = o_scl.x * o_scl.y;\n    float n_idx = mod(float(n_t), n_length);\n    vec2 o_trn = vec2(mod(n_idx , o_scl.x), int(n_idx / o_scl.x));\n    o_trn = vec2(\n        (sin(n_t)*o_scl.y/2.)*.5,\n        (cos(n_t)*o_scl.y/2.)*.5\n       )\n       + (o_scl.yy/2.);\n    vec4 o_pixel_sound = texelFetch(iChannel0, ivec2(o_trn), 1);\n    \n    vec4 o_pixel = texelFetch(iChannel0, ivec2(fragCoord), 1);\n    float n_dist = 1.-(length(o_trn-fragCoord))/o_scl.y;\n    //n_dist*=2.;\n    \n    n_dist = pow(n_dist, 50.);\n    n_dist*=1.2;\n    n_dist = clamp(n_dist, 0., 1.);\n    // Output to screen\n    fragColor = vec4(o_pixel+n_dist);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"XsX3Rn","filepath":"/media/a/92d7758c402f0927011ca8d0a7e40251439fba3a1dac26f5b8b62026323501aa.jpg","previewfilepath":"/media/ap/92d7758c402f0927011ca8d0a7e40251439fba3a1dac26f5b8b62026323501aa.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[],"code":"vec2 mainSound( int samp, float time )\n{\n\n    float n_t = time+sin(time)*10.;\n    vec2 o_scl = vec2(960, 540);// iResolution.xy; /iresolution is not available in sound :(\n    float n_length = o_scl.x * o_scl.y;\n    float n_idx = mod(float(n_t), n_length);\n    vec2 o_trn = vec2(mod(n_idx , o_scl.x), int(n_idx / o_scl.x));\n    o_trn = vec2(\n        (sin(n_t)*o_scl.y/2.)*.5,\n        (cos(n_t)*o_scl.y/2.)*.5\n       )\n       + (o_scl.yy/2.);\n    vec4 o_pixel_sound = texelFetch(iChannel0, ivec2(o_trn), 1);\n    \n    \n    // A 440 Hz wave that attenuates quickly overt time\n    float n_sum = o_pixel_sound.r\n        + o_pixel_sound.g\n        + o_pixel_sound.b\n        + o_pixel_sound.a;\n        \n    return vec2(\n        n_sum/4.\n    );\n}","name":"Sound","description":"","type":"sound"},{"inputs":[],"outputs":[],"code":"","name":"Common","description":"","type":"common"}]}