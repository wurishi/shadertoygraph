{"ver":"0.1","info":{"id":"X3K3DW","date":"1717668176","viewed":54,"name":"A trip through a brain hole","username":"vovach777","description":"a trip through a brain hole","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["tunnel","oldschool","hole"],"hasliked":0,"parentid":"lXG3D1","parentname":"The Hole adventure"},"renderpass":[{"inputs":[{"id":"4sf3Rr","filepath":"/media/a/ad56fba948dfba9ae698198c109e71f118a54d209c0ea50d77ea546abad89c57.png","previewfilepath":"/media/ap/ad56fba948dfba9ae698198c109e71f118a54d209c0ea50d77ea546abad89c57.png","type":"texture","channel":0,"sampler":{"filter":"linear","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float map(float v, float v_min, float v_max, float out1, float out2)\n{\n    if ( v_max - v_min == 0. )\n        return out2;\n        \n     return (clamp(v,v_min,v_max) - v_min) / (v_max - v_min) * (out2-out1)+out1;\n}\n\nconst float PI = acos(-1.0);\n\n\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from -1 to 1)\n    vec2  mouseCoord = iMouse.xy / iResolution.xy;\n    float ar = iResolution.y / iResolution.x;\n    vec2  rolling = vec2(sin(iTime), cos(iTime));\n    \n    vec2 uv = vec2( map(fragCoord.x,0., iResolution.x,-1.,1.),  map(fragCoord.y,0., iResolution.y,-ar,ar)    ) + rolling*0.25;\n    float z = 1.5 / max(length(uv),0.0001);\n    float angle = map( atan(uv.y,uv.x), -PI, PI, 0., 1. ); //normalized\n    float zmax =  map(rolling.x,-1.,1.,0.02,0.15);\n    //float fade = map(z,0.,  15.- 15. *zmax , 1.5, 0.);\n    float fade = pow( map(z,0.,15.,1.,0.), 2.8) ;\n    float tex  = texture(iChannel0, vec2( angle    +rolling.y*0.04, z * zmax + iTime*0.2)).r;\n    float tex1 = 1. - texture(iChannel0, vec2( angle+0.5-rolling.y*0.04, z * zmax + iTime*0.1)).r;\n    vec3 purpure_red = vec3(153., 1., 71.) / 255.;\n    vec3 white_yellow = vec3(255.,255., 191.) / 255.;\n    vec3 blood_red = vec3(136.,8.,8.) / 255.;\n    \n       \n     //fragColor =  vec4( pow(tex+0.6,2.) * purpure_red * fade, 1.);\n     float pulse = abs(sin(iTime*3.)*0.15)+0.01;\n     vec3 color1 =  vec3(  clamp( pow( tex1+pulse,4.) - pulse,0.,1.) * blood_red);\n     vec3 color  =  vec3( pow(tex+0.6,2.) * white_yellow);\n    \n     // Output to screen\n     fragColor = vec4( mix( color, color1, tex1)*fade, 1.0);\n     \n}","name":"Image","description":"","type":"image"}]}