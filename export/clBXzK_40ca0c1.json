{"ver":"0.1","info":{"id":"clBXzK","date":"1676371907","viewed":86,"name":"Techno squares","username":"ademo","description":"SQUARES DANCING TO TECHNO","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["squares","techno"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XdfGzn","filepath":"/media/a/894a09f482fb9b2822c093630fc37f0ce6cfec02b652e4e341323e4b6e4a4543.mp3","previewfilepath":"/media/ap/894a09f482fb9b2822c093630fc37f0ce6cfec02b652e4e341323e4b6e4a4543.mp3","type":"music","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define time iTime\n\nmat2 rot(float a){\n    float ca = cos(a);\n    float sa = sin(a);\n    return mat2(ca, sa , -sa, ca);\n}\n\nfloat box(vec2 uv, vec2 size){\n    float cx = step(abs(uv.x), size.x);\n    float cy = step(abs(uv.y), size.y);\n    return min(cx, cy);\n}\n\nfloat rnd(float t){\n    return fract(sin(t*714.112)*934.527);\n}\n\nfloat pulse(float t, float freq){\n    t /= freq;\n    return pow(fract(t), 0.4);\n}\n\nfloat repeat(float pos, float taille){\n    return (fract(pos/taille + 0.5) - 0.5) * taille;\n}\n\nfloat repeatid(float pos, float taille){\n    return floor(pos/taille + 0.5);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = (fragCoord-iResolution.xy*0.5);\n    uv /= iResolution.y;\n    \n    uv *= 10.0;\n    \n    // Time varying pixel color\n    vec3 col = vec3(0);\n    \n    vec2 uv1 = uv;\n    \n    float dist = length(uv) * 2.0;\n    float son = texture(iChannel0, uv).x;\n\n    //uv += son;\n    uv *= rot(time*0.3);\n    uv *= pulse(time, 0.3) + 1.0;\n    \n    float taille = 0.8;\n    float id = repeatid(uv.x, taille);\n    uv.x = repeat(uv.x, taille);    \n    uv.y += sin(time*3.0 + rnd(id)*7.0);\n    \n    float taille2 = 0.6;\n    float id2 = repeatid(uv.y, taille2);\n    uv.y = repeat(uv.y, 0.7);\n\n    col = box(uv, vec2(0.2)) * vec3(sin(id*time*2.0),sin(id2),0.4*son);\n\n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}