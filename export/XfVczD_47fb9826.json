{"ver":"0.1","info":{"id":"XfVczD","date":"1731574534","viewed":82,"name":"tunnel of de matx & datatransfer","username":"chenxianming","description":"Imagine a vibrant, glowing tunnel where streams of data flow like colorful rivers, intertwining and pulsating with energy. On the walls of this tunnel, the pixels of information morph into vivid illustrations of ideas.\npresented by KKLABS","likes":8,"published":1,"flags":32,"usePreview":0,"tags":["tunnel","matrix","encode","sight"],"hasliked":0,"parentid":"XfsBz8","parentname":"shark tunnel of the deep sea"},"renderpass":[{"inputs":[{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":0,"sampler":{"filter":"nearest","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n\n    // Time varying pixel color\n    vec3 col;\n    \n    col += texture( iChannel0, ( fragCoord + vec2( -.3, .3 ) )/iResolution.xy ).rgb * .25;\n    col += texture( iChannel0, ( fragCoord + vec2( .3, .3 ) )/iResolution.xy ).rgb * .25;\n    col += texture( iChannel0, ( fragCoord + vec2( -.3, -.3 ) )/iResolution.xy ).rgb * .25;\n    col += texture( iChannel0, ( fragCoord + vec2( .3, -.3 ) )/iResolution.xy ).rgb * .25;\n    \n\n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[{"id":"4dXGR8","channel":0}],"code":"\nfloat g(float a) { return floor(a + .5); }\nvec2 f(vec2 a) { return vec2(g(a.x), g(a.y)); }\n#define e iResolution.xy\n#define h min( e.x, e.y )\n\nfloat k(vec2 b, float a) {\n  b.y -= a * .5;\n  float c = sqrt(pow(a, 2.) - pow(a * .5, 2.));\n  return max(abs(b.x) - a / cos(radians(15.)) * (-b.y / c / 2.), abs(b.y) - a);\n}\nfloat m(vec2 a, float b) {\n  a = abs(a);\n  return max(a.x - b * 1.154701 * (1. - a.y / b / 2.), a.y - b);\n}\nfloat n(vec2 a, float b) {\n  a = abs(a);\n  return max(a.x, a.y) - b;\n}\nfloat o(vec2 a) {\n  float b = .1;\n  a.x -= .05, b = min(b, max(abs(a.x + .075) - .02, abs(a.y) - .1)),\n              b = min(b, max(abs(a.x + 5e-3) - .055, abs(a.y + .085) - .015));\n  return b;\n}\nfloat p(vec2 c) {\n  float b = .1;\n  vec2 a = c;\n  a.x = abs(a.x) - .03,\n  b = min(b, max(abs(a.x + c.y * .35) - .02, abs(a.y) - .1)), a = c,\n  b = min(b, max(abs(a.x) - .05, abs(a.y + .035) - .015));\n  return b;\n}\nfloat q(vec2 a) {\n  float b = .1;\n  a.y += .01, a.x += .03, b = min(b, max(abs(a.x) - .015, abs(a.y) - .1));\n  if (a.x > .01)\n    b = min(b, max(length(a * vec2(1, 1.3) - vec2(.03, .06)) - .07,\n                   -(length(a * vec2(1, 1.3) - vec2(.03, .06)) - .04))),\n    b = min(b, max(length(a * vec2(1, 1.2) - vec2(.04, -.05)) - .07,\n                   -(length(a * vec2(1, 1.2) - vec2(.04, -.05)) - .04)));\n  return b;\n}\nfloat r(vec2 a) {\n  float b = .1;\n  a.y += .015;\n  vec2 d = a;\n  a.y = abs(a.y) - 6e-3, d.y < 0. ? a.x *= -1. : 0.;\n  vec2 c = a;\n  a.y -= .039,\n      b = max(length(a * vec2(8. * abs(c.x), 1)) - .05,\n              -(length(a * vec2(8. * abs(c.x), 1)) - .025)),\n      a = c, a.x += .028, a.y -= .014,\n      b = max(b, sin(atan(a.x, a.y) - .015) - .98);\n  return b;\n}\nfloat s(vec2 a, float b) {\n  return b == 1.   ? k(a, .1)\n         : b == 2. ? m(a, .1)\n         : b == 3. ? n(a, .1)\n         : b == 4. ? o(a)\n         : b == 5. ? p(a)\n         : b == 6. ? q(a)\n         : b == 7. ? r(a)\n                   : length(a) - .1;\n}\nfloat i(vec2 a) { return fract(sin(dot(a, vec2(12.345, 54.321))) * 9876.5432); }\nvoid t(inout vec3 c, vec2 d) {\n  float b = i(d);\n  vec3 a;\n  a = b > 0. && b < .25 ? vec3(7e-3, .995, .044) : a,\n  a = b > .25 && b < .5 ? vec3(.99, .719, .229) : a,\n  a = b > .5 && b < .75 ? vec3(.018, .99, .933) : a,\n  a = b > .75 && b < 1. ? vec3(.965, .553, .694) : a,\n  a = b == 0. || b == 1. ? vec3(5, 0, 1) * .1 : a,\n  c = mix(c, a, clamp(c.x * 3., 0., 1.));\n}\nfloat l(vec2 a) {\n  mod(g(a.y / .4), 2.) > 0. ? a.x -= g(iTime * 2.) * .1 : 0.;\n  vec2 b = f(a / .4);\n  a -= .4 * b;\n  return fract(fract(i(b) - iTime * .1) - iTime * .1) < .1\n             ? 1.\n             : s(a, floor(i(abs(b - 40.)) * 9.));\n}\nfloat u(vec2 a) {\n  a.y += .2;\n  vec2 b = f(a / vec2(.1, .4));\n  a -= vec2(.1, .4) * b, mod(b.y, 2.) > 0. ? a.y *= -1. : 0.;\n  return k(a, .05);\n}\nvoid mainImage(out vec4 U, in vec2 d) {\n\n  vec2 a = (d + d - e.xy) / h;\n  vec3 b, j;\n  a /= .1;\n  float c = h * .2;\n  \n  j += smoothstep(3. / c, -3. / c, l(a));\n  t(j, f(a / .4));\n  \n  \n  \n      b = mix(\n          b,\n          vec3(sin(iTime) + a.y, sin(iTime) - a.y, sin(cos(a.x + a.y) - iTime)),\n          smoothstep(5. / c, -5. / c, abs(u(a * vec2(1, -1))) - .01) * .2),\n      b = mix(b, j, smoothstep(5. / c, -5. / c, l(a))), b *= b, b *= b;\n\n  U = vec4(b, 1);\n}\n","name":"Buffer A","description":"","type":"buffer"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"nearest","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"XsXGR8","channel":0}],"code":"\nfloat g(float a) { return floor(a + .5); }\n#define h iResolution.xy\n#define u min( h.x, h.y )\n\nmat2 z(float a) { return mat2(cos(a), sin(a), -sin(a), cos(a)); }\nfloat m(float a) { return clamp(a, 0., 1.); }\nvec3 A(vec3 a) { return vec3(m(a.x), m(a.y), m(a.z)); }\nfloat v(vec2 a) { return fract(sin(dot(a, vec2(12.345, 54.321))) * 9876.5432); }\nfloat q(float a) { return cos(a + sin(a * 1.5) * .9) / .9 * .1; }\nvec2 i;\nfloat B(float a, float b, float c) {\n  float d = clamp(.5 + .5 * (b - a) / c, 0., 1.);\n  return mix(b, a, d) - c * d * (1. - d);\n}\nfloat Q(float a, float b, float c) { return -B(-a, -b, c); }\nvec3 R(vec2 a) {\n  float c;\n  for (float b = 0.; b < 5.; b++)\n    a.x += cos(a.y * atan(a.x, a.y)) * .5 - cos(b - iTime),\n        a.y += cos(a.x * atan(a.x, a.y)) * .2 + cos(b - iTime);\n  c = dot(cos(a.x), sin(a.y)) / 5.;\n  return vec3(sin(a.x) * cos(a.y), dot(a.x, a.y), c / .1);\n}\nfloat C(inout vec2 a, float d) {\n  float b = 6.28 / d, c = g(atan(a.y, a.x) / b) * b;\n  a = vec2(dot(a, vec2(cos(c), sin(c))), dot(a, vec2(-sin(c), cos(c))));\n  return floor(mod(g(c / b) + d * .5, d));\n}\nfloat D(vec3 a, inout vec3 b) {\n  vec2 c = vec2(length(a.zy) - .083, a.x);\n  return min((length(c) - .015) * .4445,\n             b.x = Q(length(b.yz = a.yz) - .07, abs(a.x) - .01, .015));\n}\nfloat S(vec3 a) {\n  a.y += .4, a.z -= .05 * g(a.z / .05);\n  return B(max(max(abs(a.x) - .1, abs(a.y) - .01), abs(a.z) - .01),\n           max(length(vec2(abs(a.x) - .1, a.z)) - .01, abs(a.y + .08) - .1),\n           .01);\n}\nfloat E, F, G, H, I, J, K;\nvec3 k, n;\nvoid L(inout vec3 a, inout float b, inout float c, float j) {\n  a.x += q(a.z);\n  float d = g(a.y / .32);\n  b = d, a.y -= .32 * g(a.y / .32);\n  float e = C(a.xz, 20.);\n  c = e, a.x -= .65;\n}\nfloat f(vec3 a) {\n  vec3 c = a;\n  a.yz *= z(1.570796);\n  vec3 b = a;\n  L(a, H, I, -1.); b.xz *= z(.15708), b.y -= .16; L(b, J, K, 1.); c.x += q(c.z);\n  return min(G = S(c), min(E = D(a, k), F = D(b, n)));\n}\nvec3 o(in vec3 b) {\n  vec2 a = vec2(1, -1) * .5773;\n  return normalize(a.xyy * f(b + a.xyy * 5e-4) + a.yyx * f(b + a.yyx * 5e-4) +\n                   a.yxy * f(b + a.yxy * 5e-4) + a.xxx * f(b + a.xxx * 5e-4));\n}\nfloat M(vec3 a, vec3 b, vec3 c, float d) {\n  return m(pow(dot(o(a), normalize(normalize(b) - c)), d));\n}\nvoid N(inout vec3 c, vec2 d) {\n  float b = v(d);\n  vec3 a;\n  a = b > 0. && b < .25 ? vec3(7e-3, .995, .044) : a,\n  a = b > .25 && b < .5 ? vec3(.99, .719, .229) : a,\n  a = b > .5 && b < .75 ? vec3(.018, .99, .933) : a,\n  a = b > .75 && b < 1. ? vec3(.965, .553, .694) : a,\n  a = b == 0. || b == 1. ? vec3(5, 0, 1) * .1 : a,\n  c = mix(c, a, m(c.x * 3.) * .7), c = A(c);\n}\nvoid mainImage(out vec4 U, in vec2 r) {\n  vec2 e = (r + r - h.xy) / u;\n  i = iMouse.xy * 2. - h.xy, i /= u;\n  \n  if( iMouse.z < .01 ) i = vec2(.0);\n  \n  vec3 a, c, b = vec3(0, 0, -1), d, j;\n  e += i * .1;\n  float w, s;\n  b.z += iTime * .5, b.x -= q(b.z + 1.), d = b + vec3(0, 0, 1), d.x -= q(d.z),\n                                         j = normalize(d - b + vec3(e, 0)),\n                                         j.z *= tan(radians(65.));\n  for (float O = 0.; O < 50.; O++) {\n    c = b + j * w, s = f(c), w += s * .54;\n    if (w < .19 && s < 1e-3)\n      break;\n  }\n  if (s < 1e-3) {\n    vec3 p = vec3(0, -.1, -.7);\n    \n    p.z += dot(\n        d.xy - b.xy + i.xy * .2,\n        d.xy - b.xy + i.xy * .2\n    );\n    \n    p.xy += d.xy - b.xy + i.xy * .5;\n    \n    p = normalize(p);\n    vec3 P = o(c);\n    float x = dot(p, P);\n    a += M(c, p, j, 30.) * x + vec3(.1);\n    \n    float t = f(c);\n    a = abs(x) > .3 ? mix(a, vec3(.8), clamp(1. - abs(x), 0., .1)) : a;\n    if (t == E)\n      N(a, abs(vec2(H, I) - 5.));\n    if (t == F)\n      N(a, vec2(J, K));\n    if (t == k.x || t == n.x) {\n      a -= 5., a = A(a);\n      vec2 l = e + vec2(d.x - b.x, 0),\n           U = vec2(fract(atan(l.y, l.x) / 6.283185),\n                    fract(.1 / sqrt(length(l)) * 10. + b.z * .25));\n      a += texture(iChannel0, U).rgb;\n      vec3 y = vec3(0, .1, .8);\n      float V = dot(y, o(c));\n      a = mix(a, vec3(.5), M(c, y, j, 30.)),\n      k.y += cos(d.x - b.x - i.x * .5) * .04,\n      k.z += sin(d.x - b.x - i.y * .5) * .04,\n      n.y += cos(d.x - b.x - i.x * .5) * .04,\n      n.z += sin(d.x - b.x - i.y * .5) * .04,\n      a = mix(a, vec3(1),\n              smoothstep(.08 + v(k.yz) * .01, -.05,\n                         min(length(k.yz), length(n.yz))) *\n                  1.2),\n      a = clamp(a, 0., 1.), a *= smoothstep(0., .5, e.y / 2. + .4);\n    }\n    if (f(c) == G)\n      a -= .4, a -= R(j.xy * 5.) * .02, a *= smoothstep(.5, 0., e.y / 2. + .6);\n    else\n      a -= smoothstep(.5, 0., e.y / 2. + .4) * .4;\n  }\n  a += (1. - smoothstep(0., .7, length(e + vec2(d.x - b.x, 0)))) * 1.4;\n  U = vec4(a, 1);\n}\n","name":"Buffer B","description":"","type":"buffer"}]}