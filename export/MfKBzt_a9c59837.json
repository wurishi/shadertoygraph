{"ver":"0.1","renderpass":[{"outputs":[{"channel":0,"id":"4dfGRr"}],"inputs":[{"channel":0,"type":"buffer","id":"4dXGR8","filepath":"/media/previz/buffer00.png","sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 pos = READPOS;\n    vec2 dp = (pos-UV)*ASPECT;\n    bool near = dp.x*dp.x + dp.y*dp.y < RAD;\n    fragColor = vec4(near ? 1 : 0);\n}","name":"Image","description":"","type":"image"},{"outputs":[{"channel":0,"id":"4dXGR8"}],"inputs":[{"channel":0,"type":"buffer","id":"4dXGR8","filepath":"/media/previz/buffer00.png","sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 vel = READVEL;\n    vec2 pos = READPOS;\n    float k = RAD;\n    vec2 npos = vec2(0,0);\n    if (iFrame == 1) {\n        fragColor = vec4(INITPOS,INITVEL);\n        return;\n    } else {\n        if (pos.x+k >= 1. || pos.x-k <= 0.) vel.x *= -1.;\n        if (pos.y+k >= 1. || pos.y-k <= 0.) vel.y *= -1.;\n        npos = pos + vel;\n        npos.x = clamp(npos.x, 0., 1.);\n        npos.y = clamp(npos.y, 0., 1.);\n        fragColor = WRITE;\n    }   \n}","name":"Buffer A","description":"","type":"buffer"},{"outputs":[],"inputs":[],"code":"#define RAD 0.001\n#define SPD 0.005\n\n#define READPOS texture(iChannel0, vec2(0,0)).rg-0.5\n#define READVEL texture(iChannel0, vec2(0,0)).ba-0.5\n#define WRITE  vec4(npos,vel)+0.5;\n\n#define INITVEL vec2(SPD,SPD/2.)+0.5\n#define INITPOS vec2(0.5,0.5)+0.5\n#define UV (fragCoord/iResolution.xy)\n#define ASPECT vec2(iResolution.x/iResolution.y,1.)","name":"Common","description":"","type":"common"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":true,"mFlagMusicStream":false},"info":{"id":"MfKBzt","date":"1734369641","viewed":30,"name":"a-memory-ball","username":"wxllbxrr","description":"ye olde buffer variable","likes":2,"published":1,"flags":32,"usePreview":0,"tags":["buffers"],"hasliked":0,"parentid":"-1","parentname":""}}