{"ver":"0.1","info":{"id":"wttfzn","date":"1612182101","viewed":54,"name":"Diffeomorphism scale","username":"bakugod","description":"Scaled geometry","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["scale","diffeomorphism"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float grid(vec2 st, float res, float scale)\n{\n  vec2 grid = fract(st*res);\n  return (step(scale,grid.x) * step(scale,grid.y));\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord.xy /iResolution.xy;\n\n    float a = uv[0];\n    float b = uv[1];\n    \n    vec2 manifold = vec2(\n        pow(a, 2.0) + \n        pow(b, 3.0), \n        pow(a, 2.0) - \n        pow(b, 3.0));\n    //ceil\n    vec2 manifold2 = vec2(\n        sin(pow(manifold[0], 2.0) + pow(manifold[1], 2.0)), \n        cos(pow(manifold[0], 2.0) + pow(manifold[1], 2.0)) );\n        \n    vec2 sur_def = vec2(\n    clamp(dFdx(manifold[0]/ manifold2[0])* iTime, .001, .002),\n    clamp(dFdy(manifold[0]/ manifold2[1])* iTime, .001, .002) );\n   \n   \n    float r = ceil( iTime + (manifold2[0]) + cos((manifold2[1])) );\n    float x = grid(manifold * manifold2 - r, .1 * r, .1);\n\n    \n    vec3 col = 0.6 + 0.3*cos(iTime+uv.xyx+vec3(0,8,16));\n    \n    fragColor.rgb = vec3( col * x );\n}","name":"Image","description":"","type":"image"}]}