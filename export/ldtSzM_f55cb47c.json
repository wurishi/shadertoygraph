{"ver":"0.1","info":{"id":"ldtSzM","date":"1458444967","viewed":635,"name":"radial gradient with focal point","username":"helloj","description":"Extend radial gradient with a focal point. still need improve","likes":10,"published":1,"flags":0,"usePreview":0,"tags":["radial","gradient","focal"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec2 center;\nconst float radius = 150.0;\nconst vec4 yellow = vec4 (1.0, 1.0, 0.0, 1.0);\nconst vec4 blue = vec4 (0.0, 0.0, 1.0, 1.0);\nvec4 color;\n\nvec2 focal;\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    center = iResolution.xy / 2.0;\n    focal = vec2(center.x, center.y + mod(float(iFrame), (radius - 1.0)*2.0) - (radius - 1.0) );\n    vec2 focal_direction = focal - center;\n    vec2 direction = focal - fragCoord.xy;\n    vec2 direction_normal = normalize(vec2(-direction.y, direction.x));\n    float center_to_line_dist = abs(dot(focal_direction, direction_normal) / length(direction_normal));\n    float focal_direction_on_direction_projection_dist = abs(dot(focal_direction, direction) / length(direction));\n    \n    float cut_line_length = sqrt(radius * radius - center_to_line_dist * center_to_line_dist) + (step(dot(direction, focal_direction) / distance(direction , focal_direction) , 0.0) * -2.0 + 1.0 ) * focal_direction_on_direction_projection_dist;\n    color = mix(yellow, blue, min(1.0, abs(length(fragCoord.xy - focal))/cut_line_length ) );\n    fragColor = color;\n}","name":"Image","description":"","type":"image"}]}