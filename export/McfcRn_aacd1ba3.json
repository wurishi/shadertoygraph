{"ver":"0.1","info":{"id":"McfcRn","date":"1720691372","viewed":29,"name":"Psychedelic Waves","username":"steelannelida","description":"A bit of colorful randomness","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["waves","colorful","psychedelic","oscillations"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\n#define N 43\n\nvec4[N] randinit(int seed) {\n    vec4[N] res;\n    int a = 2323127;\n    int b = 3627613;\n    int m = 10000;\n\n\n    for (int i = 0; i < N; ++i) {\n        seed = a * seed + b;\n        float l1 = float(seed % 1000) / float(1000);\n        seed = a * seed + b;\n        float l2 = float(seed % 1000) / float(1000);\n        seed = a * seed + b;\n        float l3 = float(seed % 1000) / float(1000);\n        seed = a * seed + b;\n        float l4 = float(seed % 1000) / float(1000);\n        res[i] = vec4(l1, l2, l3, l4);\n    }\n    return res;\n}\n\nfloat rfl(float x) {\n    if (x < 0.5) {\n        return 2. * x;\n    }\n    return 2. - 2. * x;\n}\nconst float pi = 3.1415926;\n\nfloat quantize(float x, float size) {\n    return trunc(x / size) * size;\n}\n\nvec3 quantize(vec3 x, float size) {\n    return vec3(\n        quantize(x.x, size),\n        quantize(x.y, size),\n        quantize(x.z, size)\n    );\n}\nvec2 quantize(vec2 x, float size) {\n    return vec2(\n        quantize(x.x, size),\n        quantize(x.y, size)/*  */\n    );\n}\n\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n    vec4[N] harmonics = randinit(131110);\n    vec4[N] colors = randinit(888);\n    vec2 p = fract(2.5 * fragCoord / iResolution.xy);\n    //p = quantize(p, 1. / 64.);\n    vec3 c = vec3(0.);\n    float t = iTime;\n    for (int i = 0; i < N; ++i) {\n        vec4 h = harmonics[i];\n        h.xy = trunc(h.xy * 2.) * 2. * pi;\n        vec3 part = h.w * colors[i].xyz * sin(h.x * p.x + h.y * p.y + h.z * t / 1.);\n        //part =  quantize(part, 0.02);\n        c += part;\n    }\n    //c = quantize(c, 0.1);\n    fragColor = vec4(mix(c, fract(c), 0.5 + 0.5 * sin(t)), 1.);\n}\t\n\n","name":"Image","description":"","type":"image"}]}