{"ver":"0.1","info":{"id":"clBXDt","date":"1676745086","viewed":86,"name":"Arrows test","username":"ianertson","description":"Just wanted to try rendering an arrow","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["2d","arrow","arrows"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define R iResolution.xy\n#define T (iTime)\n#define M_PI (3.1416)\n#define TAU (M_PI * 2.0)\n#define rgb(a, b, c) (vec3(a, b, c) / 255.0)\n\nfloat line(vec2 p, vec2 a, vec2 b, float thick) {\n    vec2 pa = p - a;\n    vec2 ba = b - a;\n    float h = clamp(dot(pa, ba) / dot(ba, ba), 0.0, 1.0);\n    return max(0.0, 1.0-(length(pa - h * ba) / thick));\n}\n\nfloat arrow(vec2 p, vec2 pos, vec2 dir, float len, float thick) {\n    float arrow = 0.0;\n    vec2 head = pos+dir*len;\n    const float tilt = 150.0;\n    float aL = atan(dir.y, dir.x) - radians(tilt);\n    float aR = atan(dir.y, dir.x) + radians(tilt);\n    vec2 leftDir = vec2(cos(aL), sin(aL));\n    vec2 rightDir = vec2(cos(aR), sin(aR));\n    return clamp(\n            line(p, head, head+leftDir*len*0.25, thick)\n          + line(p, head, head+rightDir*len*0.25, thick)\n          + line(p, pos, head, thick), 0.0, 1.0);\n}\n\nvoid mainImage( out vec4 O, in vec2 fc )\n{\n    vec3 col = vec3(0.0);\n    vec2 uv = fc/R.y;\n    vec2 c = (vec2(0.5)*R.xy)/R.y;\n    vec2 m = iMouse.xy/R.y;\n    \n    col = mix(rgb(15, 32, 39), rgb(44, 83, 100), smoothstep(1., 0., uv.y));\n    \n    float a = T;\n    vec2 dir = normalize(vec2(cos(T), sin(T)));\n    \n    if (iMouse.z > 0.01) dir = normalize(m - c);\n    \n    col += arrow(uv, c, dir, 0.4, 0.005) * vec3(0, 1, 0);\n    col += arrow(uv, c, vec2(sin(T), cos(T)), 0.2, 0.005) * vec3(1, 0, 0);\n    col += arrow(uv, c, vec2(sin(T+2.0), cos(T+2.0)), 0.1, 0.005) * vec3(0, 0, 1);\n    col += arrow(uv, c, vec2(sin(T+5.0), cos(T+5.0)), 0.16, 0.005) * vec3(1, 0, 1);\n    col += arrow(uv, c, vec2(sin((T*0.5)+10.01), cos((T*0.5)+10.01)), 0.25, 0.005) * vec3(1, 1, 0);\n    col += arrow(uv, c, normalize(vec2(sin(cos(T)), cos(sin(T)))), 0.16, 0.005) * vec3(0, 1, 1);\n    \n    O = vec4(clamp(col, 0., 1.), 1.0);\n}\n","name":"Image","description":"","type":"image"}]}