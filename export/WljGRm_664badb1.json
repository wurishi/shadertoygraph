{"ver":"0.1","info":{"id":"WljGRm","date":"1561470572","viewed":123,"name":"Vasarely #2","username":"mxm","description":"Vasarely #2","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["vasarely2"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\n#define PI 3.14159265358979323846\nfloat rand2(float n){return fract(sin(n) * 43758.5453123);}\nfloat rand(float n){return fract(rand2(sin(n)) * 43758.5453123);}\nvec2 rotate2D(vec2 _st, float _angle){\n    _st -= 0.5;\n    _st =  mat2(cos(_angle),-sin(_angle),\n                sin(_angle),cos(_angle)) * _st;\n    _st += 0.5;\n    return _st;\n}\nfloat circle(in vec2 _st, in float _radius){\n    vec2 l = _st-vec2(0.5);\n    return 1.-smoothstep(_radius-(_radius*0.1),\n                         _radius+(_radius*0.1),\n                         dot(l,l)*4.0);\n}\nfloat square(in vec2 uv, in float size){\n    size *= 0.1;\n    float crossRatio = 1.;\n    float outup = 0.0;\n    if(\n        \n        ((uv.y < .5+size) && \n        (uv.y > 0.5-size) && \n        (uv.x < 0.5+size*crossRatio) && \n        (uv.x > 0.5-size*crossRatio))\n    ) {\n       outup = 1.;\n    }\n    \n    return outup;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    \n    // displacement\n    float d = 1.-distance(uv, vec2(sin(iTime/5.))) * 1.;\n    uv *= d*.5;\n    \n    vec2 uv1 = uv;\n\tuv1.x = uv1.x*iResolution.x/iResolution.y;\n    uv1 = uv1 * 10.;\n    vec2 uv2 = floor(uv1);\n    \n    uv1 = fract(uv1);\n    \n    vec3 color1 = vec3(rand(rand(uv2.y)+uv2.x), rand(floor(iTime)), rand(uv2.y+uv2.x));\n    vec3 color2 = vec3(rand(uv2.y+uv2.x), rand(uv2.x+uv2.y), rand(uv2.y+rand(uv2.x)));\n    \n    \n    vec3 col = vec3(mix(color1, color2, circle(uv1,0.4)));\n    if(rand(rand(uv2.y)+rand(uv2.x)+floor(iTime)) > .5) {\n\t\tcol = vec3(mix(color1, color2, square(uv1, 2.5)));\n    }\n    \n    \n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}