{"ver":"0.1","info":{"id":"ctSSW3","date":"1676651501","viewed":69,"name":"ball test tp","username":"JMTechArt","description":"ball test","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["ball"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dX3Rn","filepath":"/media/a/bd6464771e47eed832c5eb2cd85cdc0bfc697786b903bfd30f890f9d4fc36657.jpg","previewfilepath":"/media/ap/bd6464771e47eed832c5eb2cd85cdc0bfc697786b903bfd30f890f9d4fc36657.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.14159265358979\n\nmat3 rotateX(float rad) {\n    float c = cos(rad);\n    float s = sin(rad);\n    return mat3(\n        1.0, 0.0, 0.0,\n        0.0,   c,   s,\n        0.0,  -s,   c\n    );\n}\n\nmat3 rotateY(float rad) {\n    float c = cos(rad);\n    float s = sin(rad);\n    return mat3(\n          c, 0.0,  -s,\n        0.0, 1.0, 0.0,\n          s, 0.0,   c\n    );\n}\n\nmat3 rotateZ(float rad) {\n    float c = cos(rad);\n    float s = sin(rad);\n    return mat3(\n          c,   s, 0.0,\n         -s,   c, 0.0,\n        0.0, 0.0, 1.0\n    );\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 p = 2.5 * fragCoord.xy / iResolution.yy - 1.25;\n    p.x -= 1.0;\n    float xx = p.x*p.x; \n    float yy = p.y*p.y;\n    float zPos = sqrt(1.0 - xx - yy);\n\n    // Return a black pixel if we're outside of the sphere.\n    if (xx + yy > 1.0) {\n        fragColor = vec4(0.0);\n        return;\n    }\n    \n    fragColor = vec4(1.0);\n\n    vec3 rotated = rotateY(iTime*2.0) * rotateX(iTime) * rotateZ(iTime/2.0)\n        * vec3(p.x, p.y, sqrt(1.0 - xx - yy));\n    \n    float phi   = atan(rotated.x, rotated.y) + PI;         // 0 < phi < 2pi\n    float theta = atan(rotated.z,   1.0    ) + PI / 4.0;   // 0 < theta < pi/2\t\n\n    // Transform the angles in to texture coordinates.\n\tfloat u = phi;\n    float v = theta;\n    vec4 colorA  = vec4(1.0,0.0,0.0,1.0);\n    vec4 colorB  = vec4(0.0,0.0,1.0,1.0);\n    fragColor = mix(colorA, colorB, texture( iChannel0, vec2( -u*0.5, v*0.5 )));\n    \n    // key light\n    vec3 keyDir = normalize(vec3( 2, 2, 5)); \n    float keyFalloff = dot( vec3(p.x, p.y, zPos), keyDir);\n    fragColor.rgb *= keyFalloff;\n    \n      \n    \n    // highlight\n    vec3 light1pos = vec3( 0.5, 0.5, 0.5 ); \n    vec3 light1col = vec3( 1.0, 1.0, 1.0 ); \n    float dis = 1.0 - length( vec3(p.x, p.y, zPos) - light1pos ) / 2.0;\n    fragColor.rgb += light1col * pow( dis,8.0);\n}","name":"Image","description":"","type":"image"}]}