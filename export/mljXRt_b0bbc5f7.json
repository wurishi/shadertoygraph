{"ver":"0.1","info":{"id":"mljXRt","date":"1677145115","viewed":60,"name":"Fork 2DKifs int sleeplessm 723","username":"sleeplessmonk","description":"added audio input","likes":1,"published":1,"flags":4,"usePreview":0,"tags":["fractal","ifs","pattern","generator"],"hasliked":0,"parentid":"4sB3z1","parentname":"2DKifs interactive remix"},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"},"published":1},{"id":"XdXGzn","filepath":"/media/a/3083c722c0c738cad0f468383167a0d246f91af2bfa373e9c5c094fb8c8413e0.png","previewfilepath":"/media/ap/3083c722c0c738cad0f468383167a0d246f91af2bfa373e9c5c094fb8c8413e0.png","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"},"published":1},{"id":"XdXGRr","filepath":"/presets/mic.png","previewfilepath":"/presets/mic.png","type":"mic","channel":2,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[],"code":"//parameters\nconst int iterations=27;\nconst float scale=2.3;\nconst vec2 fold=vec2(.5);\nconst vec2 translate=vec2(1.5);\nconst float zoom=.85;\nconst float brightness=7.;\nconst float saturation=.65;\nconst float texturescale=.15;\nconst float rotspeed=.01;\nconst float colspeed=.5;\nconst float antialias=2.;\n\nvec2 rotate(vec2 p, float angle) {\n    return vec2(p.x*cos(angle)-p.y*sin(angle),\n                p.y*cos(angle)+p.x*sin(angle));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec3 aacolor=vec3(0.);\n    vec2 pos=fragCoord.xy / iResolution.xy-.5;\n    float aspect=iResolution.y/iResolution.x;\n    pos.y*=aspect;\n    pos/=zoom; \n    vec2 pixsize=max(1./zoom,1000.-iTime*500.)/iResolution.xy;\n    pixsize.y*=aspect;\n    for (float aa=0.; aa<205.; aa++) {\n        if (aa+1.>antialias*antialias) break;\n        vec2 aacoord=floor(vec2(aa/antialias,mod(aa,antialias)));\n        vec2 p=pos+aacoord*pixsize/antialias;\n        p+=fold;\n        float expsmooth=0.;\n        vec2 average=vec2(0.);\n        float l=length(p);\n        for (int i=0; i<iterations; i++) {\n          p=abs(p-fold)+fold-iMouse.y/99.;\n            p=p*scale-translate;\n            if (length(p)>20.) break;\n            p=rotate(p,iTime*rotspeed+texture(iChannel1,average*texturescale).r*360.0);\n            average+=p;\n        }\n        average/=float(iterations);\n        vec2 coord=average+vec2(iTime*colspeed+33.);\n        vec3 color=texture(iChannel0,coord*texturescale).xyz;\n        color*=min(1.1,length(average)*brightness);\n        color=mix(vec3(length(color)),color,saturation);\n        aacolor+=color;\n    }\n    fragColor = vec4(aacolor/(antialias*antialias),1.0);\n}\n","name":"Image","description":"","type":"image"}]}