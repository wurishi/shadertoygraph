{"ver":"0.1","info":{"id":"fdVyzV","date":"1655214790","viewed":49,"name":"Dither Contrast","username":"mibai","description":"dither","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["dither"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float Dither2x2Layer( int x, int y )\n{\n\tconst float dither[ 4 ] = float[]( 1.,  3.,  \n                                       2., 4.);\n\tint r = y * 2 + x;\n\treturn dither[r] / 4.; // same # of instructions as pre-dividing due to compiler magic\n}\n\nfloat Dither4x4Layer( int x, int y )\n{\n\tconst float dither[ 16 ] = float[](\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t 1.,  9.,  3., 11.,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t13.,  5., 15.,  7.,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t 4., 12.,  2., 10.,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t16.,  8., 14.,  6. );\n\tint r = y * 4 + x;\n\treturn dither[r] / 16.; // same # of instructions as pre-dividing due to compiler magic\n}\n\n//To Construct a dither Matrix, just try to max the diff of every number and their nearby number\n//And there are the contrast of 2x2 matrix and 4x4 matrix\n//Just move the mouse up down and left right to check it!\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    fragColor = texture(iChannel0, uv);\n    \n    float alpha = (iMouse.x==0.? iResolution.x * (0.5+0.5 * sin(iTime)) :iMouse.x)/iResolution.x;\n    vec4 v4 = mix(vec4(0.), vec4(1.), step(Dither4x4Layer(int(mod(fragCoord.x,4.)),int(mod(fragCoord.y,4.))), alpha));\n    vec4 v2 = mix(vec4(0.), vec4(1.), step(Dither2x2Layer(int(mod(fragCoord.x,2.)),int(mod(fragCoord.y,2.))), alpha));\n    \n    float type = step(iMouse.y/iResolution.y,0.5);\n    fragColor = mix(v2,v4,type);\n}","name":"Image","description":"","type":"image"}]}