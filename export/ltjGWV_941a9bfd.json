{"ver":"0.1","info":{"id":"ltjGWV","date":"1500429111","viewed":214,"name":"Star orbits and field lines","username":"aadeon","description":"You can move the red star.\nThe lighting follows the inverse square law.\n\n","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["line","star","field","point","gravity"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.14159\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{    \n    float diagonal = length(iResolution.xy);\n    \n    vec2 center = iResolution.xy / 2.0;\n    \n    float rad = iResolution.y/4.0;\n\tfloat t = 200.0/rad;\n    \n    \n    vec2 planet = vec2(center.x+rad*sin(1.0*iTime),center.y+rad*cos(1.0*iTime));\n    //vec2 planet2 = vec2(iMouse.x+rad/2.0*sin(2.83*t*iTime),iMouse.y+rad/2.0*cos(2.83*t*iTime));\n    vec2 planet2 = vec2(iMouse.x+rad/2.0*sin(2.83*iTime),iMouse.y+rad/2.0*cos(2.83*iTime));\n    \n    vec2 distCenter = center-fragCoord.xy;\n    vec2 distPlanet = planet-fragCoord.xy;\n    vec2 distPlanet2 = planet2-fragCoord.xy;\n    vec2 distCursor = abs(iMouse.xy-fragCoord.xy);\n    \n    float light1 = 1.5*inversesqrt(length(distCursor)); \n    float light2 = 2.0*inversesqrt(length(distCenter));\n    float light3 = inversesqrt(length(distPlanet));\n    float light4 = inversesqrt(length(distPlanet2));\n    \n    \n    float grav = (light1+light2+light3+light4);\n    float c = 30.0*grav-floor(30.0*grav);\n    \n    vec4 color1 = vec4(1.0, 0.5, 0.5, 0.0);\n    vec4 color2 = vec4(1.0, 1.0, 0.4, 0.0);\n    vec4 color3 = vec4(.5, .5, 1.0, 0.0);\n    vec4 color4 = vec4(.7, .7, .7, 0.0);\n\n    color1*=light1;\n    color2*=light2;\n    color3*=light3;\n    color4*=light4;\n\n    \n    vec4 color = (color1+color2+color3+color4);\n    \n    if (c< .01*grav)\n    {\n      fragColor = (color)+(color)*2.0*pow(clamp(sin(iTime),0.0, 1.0), 2.0);   \n        \n    }\n    else\n      fragColor = color;\n    \n\t\n        \n}","name":"Image","description":"","type":"image"}]}