{"ver":"0.1","info":{"id":"7tSyW1","date":"1649697227","viewed":284,"name":"SmokeFog","username":"MelisaHot","description":"Smoke with noise funcion.","likes":13,"published":1,"flags":0,"usePreview":0,"tags":["noise","smoke"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\nfloat random (vec2 st) {\n    return fract(sin(dot(st.xy, vec2(12.9898,78.233)))*43758.5453123);\n}\n\nmat2 rotate(float a)\n{\n\tfloat c = cos(a);\n\tfloat s = sin(a);\n\treturn mat2(c, s, -s, c);\n}\n\n\n// Based on Morgan McGuire @morgan3d\n// https://www.shadertoy.com/view/4dS3Wd\nfloat noise (in vec2 _st) {\n    vec2 i = floor(_st);\n    vec2 f = fract(_st);\n\n    // Four corners in 2D of a tile\n    float a = random(i);\n    float b = random(i + vec2(1.0, 0.0));\n    float c = random(i + vec2(0.0, 1.0));\n    float d = random(i + vec2(1.0, 1.0));\n\n    vec2 u = f * f * (3.0 - 2.0 * f);\n\n    return mix(a, b, u.x) +\n            (c - a)* u.y * (1.0 - u.x) +\n            (d - b) * u.x * u.y;\n}\n\nfloat fbm ( in vec2 n) {\n    float total = 0.0;\n    float amplitude = 0.7;\n    mat2 rot = rotate(0.5);\n    for (int i = 0; i < 6; ++i) {\n        total += amplitude * noise(n);\n        n = rot *n * 2.0+300.;\n        amplitude *= 0.45;\n    }\n    return total;\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ){\n    vec2 st =fragCoord.xy / iResolution.xy*3.;\n\n    vec3 color = vec3(0.0);\n\n    vec2 q = vec2(0.);\n    q.x = fbm( st + 0.01*iTime);\n    q.y = fbm( st + vec2(1.0));\n\n    vec2 r = vec2(0.);\n    r.x = fbm( st + 1.0*q + 0.15*iTime );\n    r.y = fbm( st + 1.0*q + 0.1*iTime);\n\n    float f = fbm(st +r);\n\n    color = mix(vec3(0.3,0.5,0.6),\n                vec3(0.3,0.3,0.4),\n                clamp((f*f)*2.0,.0,.5));\n\n\n    color = mix(color,\n                vec3(0.3589,0.369,0.3875),\n                clamp(length(r.x)*10.,0.0,.80));\n\n    fragColor = vec4((f*f*f+.9*f*f+0.5*f)*color,.5);\n}\n","name":"Image","description":"","type":"image"}]}