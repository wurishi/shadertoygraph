{"ver":"0.1","info":{"id":"MdcSz7","date":"1458318865","viewed":219,"name":"Checkerboard Barrel Distortion","username":"MichaelPohoreski","description":"Checkerboard distortions from WebGL Academy","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["distortion","checkerboard"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Reference:\n// Demo 1K Raw\n// http://www.webglacademy.com/courses.php?courses=9|12|24|21|13#13\n\n#define DISTORTION 5\n\nfloat f( vec2 p, float d )\n{\n    float t = iTime;\n    float g = \n    \n#if DISTORTION == 1 // Step 6 simple barrel distorion\n    mod(floor(    p.x*    length(p)     )+floor(    p.y*    length(p)     ),2.);\n#elif DISTORTION == 2 // Step 7 x\n    mod(floor(    p.x*pow(length(p),-3.))+floor(    p.y*    length(p)     ),2.);\n#elif DISTORTION == 3 // Step 8 x and y\n    mod(floor(    p.x*pow(length(p),-3.))+floor(    p.y*pow(length(p),-3.)),2.);\n#elif DISTORTION == 4 // Step 9 x and y animated\n    mod(floor(  t-p.x*pow(length(p),-3.))+floor(  t-p.y*pow(length(p),-3.)),2.);\n#elif DISTORTION == 5 // Step 10 x and y animated + color\n    mod(floor(d-t-p.x*pow(length(p),-3.))+floor(d-t-p.y*pow(length(p),-3.)),2.);\n#else\n    mod(floor(p.x)+floor(p.y),2.);\n#endif\n    return g;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 p  = fragCoord.xy / (iResolution.xy*0.5) - vec2(1.,1.);\n        \n#if DISTORTION == 5 //  // Step 10 x and y animated + color\n    fragColor = vec4( f(p,0.), f(p,.3), f(p,.6), 1.);\n#else // monochrome\n    float g = f( p, 0. );\n    fragColor = vec4( g, g, g, 1.0 );\n#endif\n}\n\n","name":"Image","description":"","type":"image"}]}