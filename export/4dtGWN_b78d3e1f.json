{"ver":"0.1","info":{"id":"4dtGWN","date":"1449702471","viewed":262,"name":"CircularMaze","username":"jt","description":"A simple circular maze.","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["maze","circular"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGRn","filepath":"/media/a/10eb4fe0ac8a7dc348a2cc282ca5df1759ab8bf680117e4047728100969e7b43.jpg","previewfilepath":"/media/ap/10eb4fe0ac8a7dc348a2cc282ca5df1759ab8bf680117e4047728100969e7b43.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XdX3Rn","filepath":"/media/a/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg","previewfilepath":"/media/ap/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[],"code":"// Circular Maze - written 2015 by JT\n// License Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.\n\n// iq's hash-function from https://www.shadertoy.com/view/MslGD8\n/*\nvec2 hash(vec2 p)\n{\n    p=vec2(dot(p,vec2(127.1,311.7)),dot(p,vec2(269.5,183.3)));\n    return fract(sin(p)*18.5453);\n}\n*/\n// Fabrice's compactified hash-function (NOTE: returns different values!)\n#define hash(p) fract(sin(p * mat2(27.1, 11.7, 69.5, 83.3)) * 1e2)\n\nvoid mainImage(out vec4 o, vec2 U) // codegolfed 291chars version (FabriceNeyret2)\n{\n    vec2 R = iResolution.xy, I, J; \n    U -= R / 2.;\n    I.x = atan(U.y, U.x) / 1.047 * ceil(I.y = 8. * length(U) / R.y);\n    I -= R = ceil(I);\n    //J = min(R = .6 + .4 * hash(R), -I - .1);\n    //o = J.x > .8 || J.y > .8\n    //    ? R.x * texture(iChannel1, I) \n    //    : R.y * texture(iChannel0, I);\n    // slightly brighter\n    J = min(R = .7 + .4 * hash(R), -I);\n    o = J.x > .9 || J.y > .9\n        ? R.x * texture(iChannel1, I) \n        : R.y * texture(iChannel0, I);\n}\n\n/*\nvoid mainImage( out vec4 o, vec2 I ) // original 369chars (JT)\n{\n    vec2 R = iResolution.xy;\n    I = (I+I-R)/2./R.y;\n    //I *= 1.+0.003*iMouse.x; // uncomment to enable interactive zoom (suggested by tholzer)\n    I = vec2(atan(I.y,I.x)/6.28,length(I));\n    I.y*= 8.;\n    I.x*= 6.*ceil(I.y);\n    vec2 T = ceil(I);\n    vec2 q = step(.5,hash(T));\n    \n    I = fract(I);\n\t//o = vec4(I,0,1);\n    //o = o - o + step(q.x*.1,I.x)*step(q.y*.1,I.y);\n    o = mix((.6+.4*hash(T).x)*texture(iChannel1, I), (.6+.4*hash(T).y)*texture(iChannel0, I), step(q.x*.1,I.x)*step(q.y*.1,I.y));\n}\n*/\n","name":"","description":"","type":"image"}]}