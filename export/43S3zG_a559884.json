{"ver":"0.1","info":{"id":"43S3zG","date":"1708639026","viewed":225,"name":"Tree emissive","username":"oleg304","description":"// From \n// https://x.com/zozuar/status/1760365393745433086?s=20\n// https://twigl.app/?ol=true&ss=-NrBpanIIVEvavWI6Uwq","likes":17,"published":1,"flags":0,"usePreview":0,"tags":["tree"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// From \n// https://x.com/zozuar/status/1760365393745433086?s=20\n// https://twigl.app/?ol=true&ss=-NrBpanIIVEvavWI6Uwq\n\n\nmat2 rotate2D(float r){\n    return mat2(cos(r), sin(r), -sin(r), cos(r));\n}\n\nvec3 hsv(float a , float b, float c){\n    vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n    vec3 p = abs(fract(a + K.xyz) * 6.0 - K.www);\n    return c * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), b);\n}\n\n//vec3 hsv2rgb(vec3 c){\n//    vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n//    vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n//    return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n//}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ){\n    vec2 FC = (fragCoord/iResolution.xy-vec2(.3,.3))*2.;\n    float t = iTime;\n    \n    vec2 r = vec2(.5*sin(t)+1.,1.);\n    vec4 o=vec4(0.,0.,0.,0.);\n    \n    vec3 p,q=vec3(0,.4,-3),d=vec3((FC.xy-.5*r)/r.y,2);for(float i,e,v,u;i++<1e2;o+=exp(-p.y/v-6.)*vec4(7,4,5,0)){p=q+=d*e;p.xz*=rotate2D(t);e=v=9.;for(int j;j++<9;e=min(e,max(length(p.xz=abs(p.xz*=rotate2D(1.))-.6)-.02/u,p.y)/v))v/=u=dot(p,p),p/=u+.01,p.y=1.73-p.y;e=min(e,q.y);}\n    \n    // Output to screen\n    fragColor = o;\n}","name":"Image","description":"","type":"image"}]}