{"ver":"0.1","info":{"id":"wsKGzD","date":"1569863144","viewed":106,"name":"Visualiser 102","username":"Cotterzz","description":"A polar example of https://www.shadertoy.com/view/3dV3zh\nThis still renders the whole fft spectrum, from 1 to 10000 hz","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["fft","spectrum","audio","polar"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4df3Rn","filepath":"/media/a/3c33c415862bb7964d256f4749408247da6596f2167dca2c86cc38f83c244aa6.mp3","previewfilepath":"/media/ap/3c33c415862bb7964d256f4749408247da6596f2167dca2c86cc38f83c244aa6.mp3","type":"music","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"/* \nThe next version of visualiser 101\nhttps://www.shadertoy.com/view/3dV3zh\nThis one uses polar coordinates to render the same thing.\n*/\n\n#define TWO_PI 6.28318530718\n#define PI 3.14159265359\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    \n    vec2 toCenter = vec2(0.5)-uv;\n    float angle = (atan(toCenter.y,toCenter.x)+PI)/TWO_PI;\n    float radius = length(toCenter)*2.0;\n    \n    float fftwaveform = texture(iChannel0, vec2(angle,0.0)).r;\n    \n    float frequency = angle * 10000.00;\n    \n    float halfsteps = 69.00 + 12.00*log2(frequency/440.00);\n    \n    float notes = fract(halfsteps/12.00);\n    \n    float notevolume = step(radius,fftwaveform);\n    \n    float dissonance = abs(fract(notes*12.00)-0.5);\n    \n    float strength = notevolume*(1.0-dissonance);\n    \n    float c = 0.6;\n    \n    vec4 col = ( c + c*cos( TWO_PI * notes + vec4(0,23,21,0)  ) )*strength;\n\n    fragColor = col;\n}","name":"Image","description":"","type":"image"}]}