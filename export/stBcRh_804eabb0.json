{"ver":"0.1","info":{"id":"stBcRh","date":"1649143332","viewed":77,"name":"Tiling Stars","username":"kam19_77","description":"tiling symbols","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["tiling"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define M_PI 3.141592653589793238f\n#define TILE 10.0f\n#define ANGLE M_PI / 10.0f\n\nfloat atan2(float y, float x)\n{\n    return x == 0.0 ? sign(y) * M_PI / 2.0f : atan(y, x);\n}\n\nfloat StarPolygon(vec2 PolarCoordinates, int N)\n{\n    float rsq = PolarCoordinates.x * PolarCoordinates.x;\n    //float angle = 2.0f * M_PI * PolarCoordinates.y;\n    float angle = PolarCoordinates.y;\n    \n    float an = 2.0f * M_PI / float(N);\n    float d = cos(an) / cos(an - acos(cos(float(N) * angle)) / float(N));\n    float dsq = d * d;\n    \n    return 1.0f - step(dsq, rsq);\n}\n\nfloat StarPolygonRound(vec2 PolarCoordinates, int N, float K)\n{\n    float rsq = PolarCoordinates.x * PolarCoordinates.x;\n    //float angle = 2.0f * M_PI * PolarCoordinates.y;\n    float angle = PolarCoordinates.y;\n    \n    float an = 3.0f * M_PI / (2.0f * float(N));\n    float asink = asin(K);\n    float asinkcos = asin(K * cos(float(N) * angle));\n    \n    float d = cos(asink / float(N) + an) / cos(asinkcos / float(N) + an);\n    float dsq = d * d;\n    \n    return 1.0f - step(dsq, rsq);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n    \n    uv *= vec2(iResolution.x / iResolution.y, 1.0f);\n    uv = fract(uv * TILE);\n    \n    vec2 uv0 = 2.0f * (uv - vec2(0.5, 0.5));\n    vec2 PolarCoordinates;\n    PolarCoordinates.x = sqrt(dot(uv0, uv0));\n    PolarCoordinates.y = atan2(uv0.y, uv0.x) - ANGLE;\n    \n    //float col = StarPolygon(PolarCoordinates, 5);\n    float col = StarPolygonRound(PolarCoordinates, 5, sin(iTime) * 0.5f + 0.5f);\n\n    fragColor = vec4(col,col,col,1.0);\n}","name":"Image","description":"","type":"image"}]}