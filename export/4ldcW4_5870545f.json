{"ver":"0.1","info":{"id":"4ldcW4","date":"1532678037","viewed":447,"name":"keyboard 3 states","username":"FabriceNeyret2","description":"A few tears after introduction, keyboard special texture get 3 stated:\nR = key down\nG = key pressed     NB: auto-repeat differs with system\nB = key toggle\nmore: [url]https://shadertoyunofficial.wordpress.com/2016/07/20/special-shadertoy-features/[/url]","likes":2,"published":3,"flags":48,"usePreview":0,"tags":["shadertoy","keyboard","short"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGRr","filepath":"/presets/tex00.jpg","previewfilepath":"/presets/tex00.jpg","type":"keyboard","channel":3,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define T(i) texelFetch(iChannel3, ivec2( int(U.x)+16*int(U.y), i ) , 0 ).x\n\nvoid mainImage( out vec4 O, vec2 u )\n{\n    vec2 R = iResolution.xy/16.,\n         U = u/R;\n    \n    O = vec4( T(0),T(1),T(2),1);     // RGB = keyboard 3 states\n    \n    U = mod(u,R);\n    O += float( U.x<1. || U.y<1. );  // grid\n    \n    O += texelFetch(iChannel0, ivec2(u), 0);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGRr","filepath":"/presets/tex00.jpg","previewfilepath":"/presets/tex00.jpg","type":"keyboard","channel":3,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"// check for all keys and draw top timeline\n\n#define T(c,i) y==i && texelFetch(iChannel3, ivec2( c, i ) , 0 ).x > 0.\n\nvoid mainImage( out vec4 O, vec2 U )\n{\n    O = texelFetch(iChannel0, ivec2(U.x-1.,U.y), 0);\n    int y = int(U.y*16./iResolution.y) - 13;\n    if (U.x==.5 && y>=0 ) {\n        O -= O;\n        for (int i=0; i<256; i++)\n            O += vec4( T(i,0),T(i,1),T(i,2),1);\n    }\n}","name":"Buf A","description":"","type":"buffer"}]}