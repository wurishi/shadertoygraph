{"ver":"0.1","info":{"id":"msK3DW","date":"1678569821","viewed":96,"name":"Through the Bottom of a Bottle","username":"PicoLate","description":"I like to tell my friends, regarding the various aspects of film-making, that a truly good movie will still be a good movie if you watch it through the bottom of a dirty beer bottle.  Well, now we can put it to the test.  And, uh, I may have been wrong.","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["video","beer","bottle","grungy"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XsX3Rn","filepath":"/media/a/92d7758c402f0927011ca8d0a7e40251439fba3a1dac26f5b8b62026323501aa.jpg","previewfilepath":"/media/ap/92d7758c402f0927011ca8d0a7e40251439fba3a1dac26f5b8b62026323501aa.jpg","type":"texture","channel":2,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4df3zn","filepath":"/media/a/3405e48f74815c7baa49133bdc835142948381fbe003ad2f12f5087715731153.ogv","previewfilepath":"/media/ap/3405e48f74815c7baa49133bdc835142948381fbe003ad2f12f5087715731153.ogv","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XdXGzr","filepath":"/media/a/8979352a182bde7c3c651ba2b2f4e0615de819585cc37b7175bcefbca15a6683.jpg","previewfilepath":"/media/ap/8979352a182bde7c3c651ba2b2f4e0615de819585cc37b7175bcefbca15a6683.jpg","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n    \n    //aspect ratio correction\n    float ar = iResolution.x/iResolution.y;\n    uv = vec2(ar*uv.x,uv.y);\n\n    vec2 center = vec2(ar*0.5,0.5);\n    vec2 difference = uv-center;\n    float pct = distance(uv,center);\n\n    float circle = smoothstep(0.45, 1.0, pct);\n    float concavity = 0.5*smoothstep(0.0,0.5,pct);\n\n    float value = circle - concavity;\n    float scaling = 2.4;\n    \n    vec2 sample_point = vec2(1.0/ar,1.0) * (center + scaling*difference*value);\n    //flip it upside-down\n    sample_point = vec2(1.0,1.0)-sample_point;\n\n    //add a simple frosted glass effect\n    vec4 gS = texture(iChannel1, (1.5-value)*difference+(uv.xy));\n    vec2 xyOffset = 0.05*vec2(gS.r*gS.g/10.0, gS.r*gS.b/10.0);\n    sample_point += xyOffset;\n    \n    vec4 bottle_color = vec4(0.6,1.0,0.5,1.0);\n    \n    fragColor = bottle_color*texture(iChannel0,sample_point);\n    //add grime/dirtiness\n    fragColor -= .5*(1.5-circle-concavity)*texture(iChannel2,center+difference*(0.2+pct));\n    \n}","name":"Image","description":"","type":"image"}]}