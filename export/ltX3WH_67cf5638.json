{"ver":"0.1","renderpass":[{"outputs":[{"channel":0,"id":"4dfGRr"}],"inputs":[],"code":"#define time iTime\n\n\nvec2 uv; //2D plane\nvec3 col; //Color palette\nfloat movefactor;\n\n//colors\nvoid col_bg(){col = vec3(0.6,0.7,0.9);} //cyan\nvoid col_leg(){col = vec3(0.8,0.0,0.35);} //magenta\nvoid col_body(){col = vec3(1.0,0.65,0.9);}//pink\nvoid col_hand(){col_body();}//pink\nvoid col_mouth_out(){col = vec3(0.8,0.1,0.1);}//maroon\nvoid col_mouth_in(){col = vec3(1.0,0.3,0.6);}//fuchsia\nvoid col_eye_back(){col = vec3(0.2,0.3,0.9);}//blue\nvoid col_eye_mid(){col = vec3(0.0,0.0,0.0);} //black \nvoid col_eye_front(){col = vec3(1.0,1.0,1.0);}//white\nvoid col_cheek(){col = vec3(1.0,0.4,0.8);}//rose\n\nvoid rotate (float deg)\n{\n\tfloat rad = radians(deg);\n\tmat2 rotamat = mat2(cos(rad),sin(rad),-sin(rad),cos(rad));\n\tuv = rotamat * (uv);\n}\n\nbool iscircle(float x_center, float y_center, float radius)\n{\n    bool result = false;\n    \n    if (sqrt(pow(uv.x - x_center,2.0) + pow(uv.y - y_center,2.0)\n            ) < radius\n        )result = true;\n    \n    return result;\n}\n\nbool isellipse(float x_center, float y_center, float radius1, float radius2)\n{\n    bool result = false;\n    \n    if (sqrt( radius1*pow(uv.x - x_center,2.0) \n             + radius2*pow(uv.y - y_center,2.0)\n            ) < radius1 * radius2\n        )result = true;\n        \n    return result;\n}\n    \nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    movefactor = //0.; //set to 0 for a still image\n\tcos(4.*time)/42.;\n    \n\tuv = fragCoord.xy / iResolution.xy; // get 2d plane\n    uv.x *= iResolution.x/iResolution.y; //fix aspect ratio\n    uv.x -= 0.88; //move right\n    uv.y -= 0.12; //move up\n    //uv.x += 0.4; //move left\n    //uv.y += 0.4; //move down\n    \n    ///variables\n    \n    //body\n    float b_radius = 0.28;\n    float bx_center = -0.01-movefactor;\n    float by_center = 0.6;\n    by_center = 1. - by_center;\n    \n    //legs; l1 - left, l2 - right\n    float lx_radius = 0.16;\n    float ly_radius = 0.45;\n    float l1x_center = -0.21; \n    float l1y_center = 0.85-movefactor; \n    l1y_center = 1.-l1y_center;  \n    float l2x_center = 0.22;\n    float l2y_center = 0.83+movefactor;\n    l2y_center = 1.-l2y_center;\n    \n    //hands; h1 - left, h2 - right\n    float hx_radius = 0.15;\n    float hy_radius = 0.35;\n    float h1_angle = 140.0; \n    float h1x_center = -0.045;\n    float h1y_center = 1.55+movefactor;\n    h1y_center = 1.-h1y_center;\n    float h2_angle = 30.0;\n    float h2x_center = 0.0;\n    float h2y_center = 0.45+movefactor; \n    h2y_center = 1.-h2y_center; \n    \n    //mouth; m1 - outer, m2 - inner\n    float m1x_radius = 0.09+4.*movefactor;\n    float m1y_radius = 0.28+1.1*movefactor;\n    float m1x_center = 0.0-movefactor;\n    float m1y_center = 0.71+1.2*movefactor;\n    m1y_center = 1. - m1y_center;\n    float m2x_radius = 0.07+4.*movefactor;\n    float m2y_radius = 0.2+2.*movefactor;\n    float m2x_center = m1x_center;\n    float m2y_center = m1y_center - 0.018;\n    \n    //eyes; e1 - back; e2 - mid; e3 - front\n    float e_angle = 90.0;\n    float ex_dist = 0.005;\n    float ey_dist = 0.16;\n    float e1x_radius = 0.06-movefactor/8.;\n    float e1y_radius = 0.35+movefactor;\n    float e1x_center = -0.47-movefactor/4.;\n    float e1y_center = 1.09+movefactor; \n    e1y_center = 1.-e1y_center;\n    float e2x_radius = 0.064-movefactor/8.;\n    float e2y_radius = 0.28+movefactor;\n    float e2x_center = e1x_center - 0.022;\n    float e2y_center = e1y_center;\n    float e3x_radius = 0.04-movefactor/8.;\n    float e3y_radius = 0.2+movefactor;\n    float e3x_center = e1x_center - 0.045;\n    float e3y_center = e1y_center;\n    \n    //cheeks; c1 - left, c2 - right\n    float cx_dist = 0.385+2.4*movefactor;\n    float cy_dist = 0.005;\n    float c1_angle = 5.;\n    float c2_angle = -5.;\n    float cx_radius = 0.045;\n    float cy_radius = 0.2;\n    float cx_center = -0.2-2.3*movefactor;\n    float cy_center = 0.67;\n    cy_center = 1. - cy_center;\n\n\tcol_bg();\n    \n    ///draw kirby from bottom to top (in layers)!\n    \n    //legs\n    if(isellipse(l1x_center,l1y_center,lx_radius,ly_radius)||\n       isellipse(l2x_center,l2y_center,lx_radius,ly_radius)\n      ) col_leg();\n    \n    //body\n    if(iscircle(bx_center,by_center,b_radius))\n    \tcol_body();\n    \n    //left hand\n    rotate(h1_angle);\n    if(isellipse(h1x_center,h1y_center,hx_radius,hy_radius))\n    \tcol_hand();\n    rotate(360. - h1_angle);\n    //right hand\n    rotate(h2_angle);\n    if(isellipse(h2x_center,h2y_center,hx_radius,hy_radius))\n    \tcol_hand();\n    rotate(360. - h2_angle);\n        \n    //outer mouth\n    if(isellipse(m1x_center,m1y_center,m1x_radius,m1y_radius))\n    \tcol_mouth_out();\n    //inner mouth\n    if(isellipse(m2x_center,m2y_center,m2x_radius,m2y_radius))\n    \tcol_mouth_in();\n    \n    rotate(e_angle);\n    //back eye\n    if(isellipse(e1x_center+ex_dist,e1y_center,e1x_radius,e1y_radius)\n      ||isellipse(e1x_center,e1y_center+ey_dist,e1x_radius,e1y_radius))\n    \tcol_eye_back();\n    //mid eye\n    if(isellipse(e2x_center+ex_dist,e2y_center,e2x_radius,e2y_radius)\n      ||isellipse(e2x_center,e2y_center+ey_dist,e2x_radius,e2y_radius))\n    \tcol_eye_mid();\n    //front eye\n    if(isellipse(e3x_center+ex_dist,e3y_center,e3x_radius,e3y_radius)\n      ||isellipse(e3x_center,e3y_center+ey_dist,e3x_radius,e3y_radius))\n    \tcol_eye_front();\n    rotate(360. - e_angle);\n\n    //left cheek\n    rotate(c1_angle);\n    if(isellipse(cx_center,cy_center,cx_radius,cy_radius))\n    \tcol_cheek();\n\trotate(360. - c1_angle);\n    //right cheek\n    rotate(c2_angle);\n    if(isellipse(cx_center+cx_dist,cy_center+cy_dist,cx_radius,cy_radius))\n    \tcol_cheek();\n\trotate(360. - c2_angle);\n\n    ///set color output\n\tfragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"ltX3WH","date":"1421533792","viewed":1289,"name":"Kirby!","username":"jacob2512","description":"kawaii fella with kakkoii moves!","likes":8,"published":1,"flags":0,"usePreview":0,"tags":["2d","game","animated","animation","character"],"hasliked":0,"parentid":"","parentname":""}}