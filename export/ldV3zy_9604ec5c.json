{"ver":"0.1","info":{"id":"ldV3zy","date":"1455380021","viewed":169,"name":"Some Numbers","username":"samuelotherion","description":"flying stop watch","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["time","numbers","bug","date","periodicboundaryconditions","pbc"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGzn","filepath":"/media/a/0c7bf5fe9462d5bffbd11126e82908e39be3ce56220d900f633d58fb432e56f5.png","previewfilepath":"/media/ap/0c7bf5fe9462d5bffbd11126e82908e39be3ce56220d900f633d58fb432e56f5.png","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define t     iTime\n#define RES   iResolution\n#define ASPXY RES.x / RES.y\n#define ASPYX RES.y / RES.x\n\nvec2\n    xy;\n\nconst vec4\n    fg = vec4( 1., .1, .0, 1. ),\n    bg = vec4( .6, .6, .3, 1. ),\n    c1 = vec4( 1., .9, .8, 1. ),\n    c2 = vec4( .1, .1, .1, 1. ),\n    c3 = vec4( .9, .9, .9, 1. ),\n    c4 = vec4( .6, .5, .4, 1. );\n\nint\n    n2s( int n ) {\n\n\t\t// using binary searching for getting number sprite\n        return \n        n < 8 \n\t\t\t? n < 4\n        \t\t? n < 2\n        \t\t\t? n < 1\n        \t\t\t\t? 0xE5294E\t//0\n        \t\t\t\t: 0x421084\t//1\n                    : n < 3\n                \t\t? 0x64104E\t//2\n                \t\t: 0xE4110E\t//3\n\t\t\t\t: n < 6\t\t\t\n\t\t\t\t\t? n < 5\n                \t\t? 0xA53908\t//4\n                    \t: 0xE1390E\t//5\n             \t\t: n < 7\n\t\t\t \t\t\t? 0xE1394E\t//6\n             \t\t\t: 0xE42108\t//7\n\t\t\t: n < 12\n                ? n < 10\n                \t? n < 9 \n                \t\t? 0xE5394E\t//8\n            \t\t\t: 0xE5390E\t//9\n\t\t\t\t\t: n < 11\n                        ? 0x123456\t//10\n                        : 0xABCDEF\t//11\n\t\t\t\t: n < 14\n                \t? n < 13\n                \t\t? 0xE5394E\t//12\n            \t\t\t: 0xE5390E\t//13\n\t\t\t\t\t: n < 15\n                        ? 0x123456\t//14\n                        : 0xABCDEF;\t//15\n\t}\n\nbool\n    rdrN( int n, vec2 p ) {\n        \n        n = n2s( n );\n        \n        int\n            j = int( 5. * p.x ) + 5 * int( 5. * p.y ),\n            f = 0x2000000;\n        \n        for( int i = 25; i >= 0; i-- ) {\n            \n            if( i == j )\n                \n                break; \n            \n            if( n >= f )\n                \n                n -= f;\n            \n            f /= 2;\n        }\n                \n        return f <= n;\n    }\n\nvec4\n    rdr( vec2 p, vec4 c, vec2 rd1, vec2 rd2 ) {\n        \n        vec2\n            rel = 2. * p - 1.,\n            rl2 = 5. * ( mod( rel + 1., .4 ) - .2 );\n        \n        rel = pow( abs( rel ), rd1 ),\n        rl2 = pow( abs( rl2 ), rd2 );\n\n        float\n            f  = pow( 1. - dot( rel, rel ), 1. / dot( rd1, rd1 ) ),\n            f2 = pow( 1. - dot( rl2, rl2 ), 1. / dot( rd2, rd2 ) );\n\n        return vec4( ( .1 < f + f2 ) ? .5 * ( f + f2 ) * c.rgb : bg.rgb, 1. );\n    }\n\nint\n    //digit of decimal number\n    dod( in int dgt, in int len, in int dN ) {\n        \n        dgt = len - dgt - 1;\n        \n        if( dgt < 0 )\n            \n            dgt = 0;\n        \n        for( int i = 0; i < 10; ++i ) {\n         \n            int\n                a = dN / 10,\n                b = dN - 10 * a;\n            \n            if( i == dgt ) \n                \n                return b;                \n            \n            dN = a;\n        }\n        \n        return 0;\n    }\n\nvec4\n    dec( int n, int d, vec2 p, vec2 r, vec4 _fg, vec4 _bg, vec2 rd1, vec2 rd2 ) {\n    \n        vec4\n            c = vec4( 0. );\n        \n        vec2\n            rel = xy - p;\n        \n        if( rel.x < 0. || float( d ) * r.x < rel.x || rel.y < 0. || r.y < rel.y )\n            \n            return c;      \n        \n        float\n            x = rel.x / r.x;\n            \n        int\n            di = int( x );\n        \n        if( d < di ) \n            \n            return c;\n        \n        rel.x = fract( x );\n        rel.y /= r.y;\n        \n        int\n            dig = dod( di, d, n );\n\n        return rdr( rel, rdrN( dig, rel ) ? _fg : _bg, rd1, rd2 );\n    }\n\nvoid\n    mainImage( out vec4 p_c, in vec2 p_xy ) {\n        \n\t\txy = ( 2. * p_xy / RES.xy - 1. ) * vec2( ASPXY, 1. );\n\n        p_c  = vec4( 0. );\n        \n        float\n            x = +mod( +.2 * t, 2. * ASPXY ) - ASPXY,\n            y = +mod( +.2 * t, 2. ) - 1.,\n            f = 9.8;\n        \n        vec2\n            ext = vec2( .375 + .125 * sin( t ),    .35 + .1   * sin( .4  * t ) ),\n            _10 = vec2( 10. ),\n            rd1 = _10 + f * vec2( sin( .3 * t ), sin( .31 * t ) ),\n            rd2 = _10 + f * vec2( sin( .2 * t ), sin( .23 * t ) ),\n            _15 = vec2( .15 );\n        \n        vec2\n            rp = vec2( x - 2. * ASPXY, y - 2. );\n        \n        for( int dy = -1; dy < 1; ++dy ) \n            \n\t        for( int dx = -1; dx < 1; ++dx ) \n                \n                p_c += dec( int( 100. * t ) , 8, vec2( x + 2. * float( dx ) * ASPXY, y + 2. * float( dy ) ), ext, bg, fg, rd1, rd2  );\n        \n        p_c += dec( int( mod( 100. * iDate.w, 100. ) ), 2, vec2( -1.5, -.75 ), vec2( 1.5 ), vec4( 1.25 * bg.rgb, 1. ), bg, vec2( 20. ) + 19. * vec2( sin( .4 * t ) ), vec2( 20. ) + 19. * vec2( sin( .23 * t ) ) );\n\n        p_c += dec( int( iDate.x      ), 4, vec2( +ASPXY -  .82, +.77 ), vec2( .2 ), c2, c3, _10 + f * vec2( sin( .4  * t ), sin( .31 * t ) ), rd1 );\n        p_c += dec( int( iDate.y + 1. ), 2, vec2( +ASPXY - 1.04, +.88 ), vec2( .1 ), c2, c3, _10 + f * vec2( sin( .41 * t ), sin( .31 * t ) ), rd1 );\n        p_c += dec( int( iDate.z      ), 2, vec2( +ASPXY - 1.04, +.76 ), vec2( .1 ), c2, c3, _10 + f * vec2( sin( .42 * t ), sin( .31 * t ) ), rd1 );\n          \n        p_c += dec( int( mod( iDate.w / 3600., 24. ) ), 2, vec2( -ASPXY + .02, .83 ), _15, c3, c2, _10 + f * vec2( sin( .6  * t ), sin( .61 * t ) ), rd2 );\n        p_c += dec( int( mod( iDate.w / 60.,   60. ) ), 2, vec2( -ASPXY + .34, .83 ), _15, c3, c2, _10 + f * vec2( sin( .50 * t ), sin( .51 * t ) ), rd2 );\n        p_c += dec( int( mod( iDate.w,         60. ) ), 2, vec2( -ASPXY + .66, .83 ), _15, c3, c2, _10 + f * vec2( sin( .41 * t ), sin( .41 * t ) ), rd2 );\n\n        rd1 = vec2( 9.5 + .5 * sin( .1 * t ) );\n        p_c += dec(  1234, 5, vec2( -.85, -.96 ), _15, c4, c1, rd1, rd2 );\n        p_c += dec( 56789, 5, vec2(  .1,  -.96 ), _15, c1, c4, rd2, rd1 );\n        \n        if( p_c.a < 1. )\n            \n            p_c = bg;\n        \n        else\n            \n            p_c.rgb /= p_c.a;\n        \n        p_c.rgb = mix( p_c.rgb, texture( iChannel0, ( 5.8 + 5. * .1 * floor( 10. * cos( .03 * t ) ) ) * xy ).rgb, .2 );\n    }","name":"Image","description":"","type":"image"}]}