{"ver":"0.1","info":{"id":"DdKSzG","date":"1681252173","viewed":118,"name":"Simple Portal Shader","username":"chickenlegs","description":"A simple portal shader for a different project.","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["polarcoordinates","portal"],"hasliked":0,"parentid":"Nd3cDn","parentname":"Rotating circles illusion"},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//// Comparison functions\nfloat gt(float v1, float v2)\n{\n    return step(v2,v1);\n}\n\nfloat lt(float v1, float v2)\n{\n    return step(v1, v2);\n}\n\nfloat between(float val, float start, float end)\n{\n    return gt(val,start)*lt(val,end);\n}\n\nfloat eq(float v1, float v2, float e)\n{\n    return between(v1, v2-e, v2+e);\n}\n\nfloat s_gt(float v1, float v2, float e)\n{\n    return smoothstep(v2-e, v2+e, v1);\n}\n\nfloat s_lt(float v1, float v2, float e)\n{\n    return smoothstep(v1-e, v1+e, v2);\n}\n\nfloat s_between(float val, float start, float end, float epsilon)\n{\n    return s_gt(val,start,epsilon)*s_lt(val,end,epsilon);\n}\n\nfloat s_eq(float v1, float v2, float e, float s_e)\n{\n    return s_between(v1, v2-e, v2+e, s_e);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    float ratio = iResolution.y/iResolution.x;\n    vec4 mouse = iMouse / iResolution.x;\n    \n    float viewPortCenter = 0.5;\n    \n    vec2 xy = uv - vec2(viewPortCenter);\n    xy = vec2(xy.x, xy.y*ratio);\n    \n    xy*=50.;\n    \n    float x = xy.x;\n    float y = xy.y;\n    \n    float r = sqrt(x*x + y*y);\n    float a = atan(y,x);\n    \n    vec4 col = vec4(0);\n    col.ra += s_eq(cos(r-a+iTime), sin(a-r/2.+iTime*2.), 0.5, 0.2);\n    col.rga += s_eq(cos(r-a+iTime), sin(a-r/2.+iTime*2.), 0.5, 0.2);\n    \n    //float offset = 1.;\n    //col.ga += s_eq(cos(r-a+iTime+offset), sin(a-r/2.+(iTime+offset)*2.), 0.5, 0.2);\n    //col.ra += s_eq(cos(r-a+iTime+offset), sin(a-r/2.+(iTime+offset)*2.), 0.5, 0.2);\n\n    col.rgba *= length(xy)/3.;\n    col.rgba *= 1.-length(xy)/10.;\n    \n    fragColor = col;\n}","name":"Image","description":"","type":"image"}]}