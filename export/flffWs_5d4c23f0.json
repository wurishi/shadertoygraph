{"ver":"0.1","info":{"id":"flffWs","date":"1651636064","viewed":127,"name":"wacca circle spiral","username":"HaleyHalcyon","description":" a","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["spiral"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define TURN 6.283185\n#define HEX(x) vec3((ivec3(x) >> ivec3(16, 8, 0)) & 255) / 255.\n\nfloat zigzag(float x) {\n    return abs(1. - 2. * fract(x));\n}\n\n// how much to smooth the color stripes\n#define COLOR_SMOOTHING 0.001\n\nvec3 color(float x) {\n    float factor = fract(x) * 3.0;\n    float f0 = smoothstep(0., 0. + COLOR_SMOOTHING, factor);\n    float f1 = smoothstep(1., 1. + COLOR_SMOOTHING, factor);\n    float f2 = smoothstep(2., 2. + COLOR_SMOOTHING, factor);\n    return (\n        HEX(0x009BE8) * (f0 - f1) +\n        HEX(0xEB0072) * (f1 - f2) +\n        HEX(0xfff100) * (f2 - f0 + 1.)\n    );\n}\n\n// length of one loop in seconds\n#define LOOP 3.0\n// how dense the concentric rings are\n#define DIST_SCALE 3.5\n// how much to smooth the concentric rings\n#define SQUEEZE_SMOOTHING 0.001\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float t = fract(iTime / LOOP);\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = (2. * fragCoord - iResolution.xy)/length(iResolution.xy);\n    \n    vec2 rt = vec2(\n        log(0.03 + length(uv)),\n        atan(uv.y, uv.x) / TURN\n    );\n    \n    float key = DIST_SCALE * rt.x + rt.y + t;\n    float across = 4.0 + rt.y - floor(key) + t;\n    \n    float squeeze = smoothstep(\n        0.5 - SQUEEZE_SMOOTHING, 0.5 + SQUEEZE_SMOOTHING,\n        0.45 * sin((across * 0.095 - 1. * t) * TURN)\n        + smoothstep(0., 1., zigzag(key))\n    );\n    \n    vec3 col = mix(\n        color(across * 0.38 + t),\n        HEX(0x010a31),\n        squeeze\n    );\n\n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}