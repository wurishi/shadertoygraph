{"ver":"0.1","info":{"id":"mldfDM","date":"1701388923","viewed":30,"name":"Möbius-Truchet","username":"rubenbaca","description":"Truchet","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["mobius","truchet"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XdX3Rn","filepath":"/media/a/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg","previewfilepath":"/media/ap/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float hash21(vec2 p){\np=fract(p*(675.28,973.05));\np+=dot(p,p+334.78);\nreturn fract(p.x*p.y);}\n\n\nvec2 mobius(vec2 p, float a, float b, float c, float d) {\n    return (p * vec2(a, b) + vec2(c, d)) / (p.x * p.x + p.y * p.y);\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord / iResolution.xy;\n    uv -= 0.5;\n    uv.x *= iResolution.x / iResolution.y;\n    uv *= 10.0;\n    //uv += iTime * 0.6;\n\n    // Apply a Möbius transformation\n    uv = mobius(uv, iTime*.2, iTime*.2, iTime*.4, iTime*.4);\n\n    vec2 gv = fract(uv) - 0.5; // Local coordinates\n\n    \nvec2 id=floor(uv);\n    float n=hash21(id);\n    \n    \n    float d=smoothstep(.1,.11,length(uv));\n\n \n   \n    vec3 col =vec3(0); //Color predeterminado\n    // Textura para el interior\n  \n\n    \n    //col.rg=gv;\n    if(n>.5) gv.x*=-1.; //Aleatorio\n    float ancho=.1;\n    d=abs(abs(gv.y+gv.x)-.5); //Para patrón rectangular\n   \n    vec2 Cuv= gv-.5*sign(gv.y+gv.x+.001);\n    d=length(Cuv)-.5;\n    float mask=smoothstep(.01,-.012,abs(d)-ancho);\n    \n    col+=mask;\n   \n   \n    //if(gv.x>.48||gv.y>.48) col=vec3(1,0,0);\n      vec3 texColor = texture(iChannel0, uv).rgb;\n\n    // Textura combinada con el cálculo original del color.\n    col = mix(col, texColor, mask);\n   \n    // Output to screen\n    fragColor = vec4(col,1.0);\n}\n","name":"Image","description":"","type":"image"}]}