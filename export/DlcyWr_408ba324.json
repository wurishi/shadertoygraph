{"ver":"0.1","info":{"id":"DlcyWr","date":"1699037845","viewed":227,"name":"Light drawings","username":"felipetovarhenao","description":"To draw, click on the viewport and move your mouse.","likes":1,"published":1,"flags":32,"usePreview":0,"tags":["mouse","felipetovarhenao"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"/*\nAuthor: Felipe Tovar-Henao [www.felipe-tovar-henao.com]\nTitle: Light drawings\nNote: To draw, click on the viewport and move your mouse.\n*/\n\nvoid mainImage(out vec4 fragColor,in vec2 fragCoord){\n\tvec2 suv=fragCoord.xy/iResolution.xy;\n\tfloat d=texture(iChannel0,suv).x;\n\tvec3 col=vec3(d);\n\tfragColor=vec4(col,1.);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv=adjustViewport(fragCoord.xy,iResolution.xy);\n    vec2 suv=fragCoord.xy/iResolution.xy;\n    vec2 m=adjustViewport(iMouse.xy,iResolution.xy);\n    m=fold(m)-.5;\n\tuv=fold(uv)-.5;\n    float v=length(m-uv);\n\tv=.00125/v;\n\tfragColor.x=v+texture(iChannel0,suv).x*.99;\n}","name":"Buffer A","description":"","type":"buffer"},{"inputs":[],"outputs":[],"code":"#define PI 3.14159265359\n#define TWO_PI 6.28318530718\n\nvec2 adjustViewport(in vec2 uv,in vec2 r){\n\treturn(uv*2.-r)/(r.x<r.y?r.x:r.y);\n}\n\nfloat fold(in float x){\n\treturn abs(mod(x+1.,2.)-1.);\n}\n\nvec2 fold(in vec2 p){\n\treturn vec2(fold(p.x),fold(p.y));\n}\n\nvec3 fold(in vec3 p){\n\treturn vec3(fold(p.xy),fold(p.z));\n}\n\nvec4 fold(in vec4 p){\n\treturn vec4(fold(p.xy),fold(p.zw));\n}","name":"Common","description":"","type":"common"}]}