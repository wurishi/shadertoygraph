{"ver":"0.1","info":{"id":"3dXyRl","date":"1585293795","viewed":257,"name":"worley noise comparison","username":"jamelouis","description":"worley noise(horizon: f1, f2-f1; vertical: euclidean distance, manhattan distance chebyshev distance)","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["noise"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// worley noise\n// dragonyhr https://www.shadertoy.com/view/tldGzr\n\n// noise\n// worley F1 | worley F2-F1\n// manhattan worley F1 | manhattan worley F2-F1\n// chebyshev worley F1 | chebyshev worley F2-F1\n\n\n#define pi 3.141592654\n\nvec2 hash22(vec2 p)//Dave Hoskins https://www.shadertoy.com/view/4djSRW\n{\n\treturn fract(cos(p*mat2(-64.2,71.3,81.4,-29.8))*8321.3);\n}\n\nint worley_type(vec2 t)\n{\n \tfloat grid = 3.;\n    if(t.y<1.0/3.0) return 2; // worley\n    if(t.y<2.0/grid) return 1; // manhattan worley\n    if(t.y<3.0/grid) return 0; // chebyshev worley\n}\n                    \nfloat Worley(vec2 q, float scale, float ftime)\n{\n    int wt = worley_type(q/iResolution.xy);\n    int f2t = 0;\n    if(q.x/iResolution.x > 0.5) f2t = 1;\n    q = q/scale + ftime;\n    float f1 = 9e9;\n    float f2 = f1;\n    for(int i = -1; i < 2; i++){\n        for(int j = -1; j < 2; j++){\n            vec2 p = floor(q) + vec2(i, j);\n            vec2 h = hash22(p);\n            vec2 g = p + 0.5+ 0.5 * sin(h*12.6);\n            float d = f1;\n            if(wt == 0) {\n                d = distance(g,q);\n            }else if(wt == 2) {\n            \tfloat xx = abs(q.x-g.x);\n            \tfloat yy = abs(q.y-g.y);\n            \td = max(xx, yy);\n            } else{\n                float xx = abs(q.x-g.x);\n            \tfloat yy = abs(q.y-g.y);\n                d = xx + yy;\n            }\n            if(d < f2){ f2 = d; }\n            if(d < f1){f2 = f1; f1 = d; }\n        }\n    }\n    if(f2t == 0)\n    \treturn f1;\n    else\n        return f2 - f1;\n}\n\nvoid mainImage( out vec4 Color, in vec2 Coord)\n{\n\tColor = vec4(vec3(Worley(Coord.xy, 32.0f, iTime)),1.0);\n}","name":"Image","description":"","type":"image"}]}