{"ver":"0.1","info":{"id":"lXKXDc","date":"1721019391","viewed":52,"name":"随机","username":"cancanneed","description":"/","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["random","hw7"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float random (in float x) {\n    return fract(sin(x)*100000.0);\n}\n\nfloat random (in vec2 st) { \n    return fract(sin(dot(st.xy, vec2(11.4514,78.233)))* 43758.5453123);\n}\n\nfloat pattern(vec2 st, vec2 v, float t) {\n    vec2 p = floor(st+v);\n    return step(t, random(100.+p*.000001)+random(p.x)*0.5 );\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ){\n    vec2 st = fragCoord.xy / iResolution.xy;\n\n    vec2 grid = vec2(100.0,100.);\n    st *= grid;\n    \n    vec2 ipos = floor(st);  // integer\n    vec2 fpos = fract(st);  // fraction\n    \n    vec2 vel = vec2(iTime*0.5*max(st.y,st.x)); // time\n    vel *= vec2(-1.,0.0) * random(1.0+fpos.x); // direction\n\n    vec3 color;\n    color.r = pattern(st+sin(iTime),vel,0.4+iMouse.x/iResolution.y);\n    color.g = pattern(st,vel,0.55+iMouse.y/iResolution.x);\n    color.b = pattern(st+atan(iTime),vel,0.5+iMouse.x/iResolution.x);\n\n    color *= step(.1,fract(st.x+vel.x))*step(.1,fract(st.y+vel.y));\n    fragColor = vec4(color,1.0);\n}","name":"Image","description":"","type":"image"}]}