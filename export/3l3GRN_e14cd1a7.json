{"ver":"0.1","info":{"id":"3l3GRN","date":"1575685797","viewed":134,"name":"Orb neon","username":"ad_lucem","description":"Orb neon","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["orb","neon"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define T iTime\n#define PI 3.141593\n#define E 0.001\n#define R iResolution\n#define MD 100.\n#define GS 10.\n\nmat2 rot(float a){ float ca = cos(a); float sa = sin(a); return mat2(ca,sa,-sa,ca);}\nfloat cylSDF(vec3 p, float r){return length(p.yz)-r;}\n\nfloat kifs(vec3 p)\n{\n  for(int i = 0; i < 10; ++i)\n  {    \n    float t1 = T;\n    \n    p.xy *=rot(t1*0.2);\n    p.yz *= rot(t1*.07);\n \n    p = abs(p);\n    p-= vec3(.1,.2,.1);\n  }\n  \n  float g = 1.0;\n  p.x = mod(p.x-g*.5,g)-g*.5;\n  \n  return cylSDF(p, .05);\n}\n\nfloat sceneSDF(vec3 p)\n{\n  return kifs(p); \n}\n\nfloat raycast(in vec3 p,in vec3 dir,out float att)\n{\n  float d = 0.;\n  for(int i= 0; i <= 256; ++i)\n  {\n   d = sceneSDF(p);\n   if(d <= E) break;\n   if(d > MD) break;\n   p += dir * d;\n   att+= .1/(abs(d)+.1);\n  }\n\n  return d;\n}\n\nvoid mainImage(out vec4 O, in vec2 U)\n{\n  vec2 uv = (2.*U-R.xy)/R.y;\n  vec4 color = vec4(0);\n  \n  vec3 eye = vec3(0,0,-3.8);\n  \n  vec3 dir = normalize(vec3(uv,1));\n  dir.xy *= rot(T*.2);\n  \n  float att = 0.;\n  \n  float d = raycast(eye, dir, att);\n  \n  color.rgb += att*.06 * vec3(.05,.03,.95);\n  color.rgb = pow(color.rgb, vec3(0.4545));\n  color *= 1.1-length(uv/GS); \n  \n  O = color;\n}","name":"Image","description":"","type":"image"}]}