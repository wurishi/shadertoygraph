{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[{"channel":0,"type":"texture","id":"XdX3Rn","filepath":"/media/a/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg","sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"}}],"code":"float map(vec3 p)\n{\n    p.x += sin(2.1 * iTime + p.z * 1.2);\n    vec3 k = texture(iChannel0, p.xz * 0.3).xyz;\n    return 2.0 - dot(abs(p), vec3(0,1,0)) - clamp(length(k * k * k) * 0.5, 0.0, 0.25);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n\tvec2 uv = 2.0 * ( fragCoord.xy / iResolution.xy ) - 1.0;\n    vec3 d  = normalize( vec3(uv, 1.0) );\n\td.y = -d.y;\n    float r = -0.3;\n    d.xy = vec2(d.x * cos(r) - d.y * sin(r), d.x * sin(r) + d.y * cos(r));\n\tuv.x *= iResolution.x / iResolution.y ;\n    \n\tvec3 p  = vec3(iTime * 2.0, 0, iTime);\n\tfloat t = 0.0;\n\tfor(int i = 0 ; i < 50; i++)\n\t{\n\t\tt += map(d * t + p) * 0.17;\n\t}\n    vec3 ip = d * t + p;\n    ip.x += sin(2.1 * iTime + ip.z * 1.2);\n\tfragColor = clamp(vec4(iTime) - 1.5, vec4(0), vec4(0.5)) * texture(iChannel0, ip.xz * 0.3).zxyw * (3.5 -  dot(uv, uv)) + t * 0.07;\n    fragColor = mix(fragColor, fragColor.zxyw, t * 0.05 + sin(iTime * 0.02));\n}\n","name":"Image","description":"","type":"image"},{"outputs":[],"inputs":[],"code":"//\n// 2014 @gyabo\n//\n\n//#define Z_SIDE\n//#define A_SIDE\n#define B_SIDE\n#define C_SIDE\n\n#define BEAT     0.2\n#define REP      12\n#define SC(x)    if( (t + de) > BEAT * cnt) pm = x; cnt++;\n\n#define BOWING1  0.3956\n#define BOWING2  0.2523\n\nfloat note(int n)\n{\n    if(n < 0) return 0.0;\n\treturn pow(2.0, float(n) / 12.0) * 8.00;\n}\n\nvec2 mainSound( in int samp,float time)\n{\n\tfloat a   = 0.0;\n\tfloat b   = 0.0;\n\tfloat t   = time;\n    float vib = sin(time * 40.0) * 0.05;\n\n\t//Auto maestro agogik.\n\tfloat de  = 0.5 * sin(t * 0.03) + cos(1.5 * cos(t * 1.3)) * 0.10;\n\n    //Auto Dynamics.\n\tfloat ade = sin(3.2 * sin(t * 0.6)) * 0.4;\n\tfloat e1  = 0.717 + ade;\n    float e2  = 0.817 + ade;\n\tfloat cnt = 0.0;\n\tfloat ph  = 0.5;\n\tint pm = 0;\n\n    //ref:https://www.shadertoy.com/view/lssXWS\n    for(float i = 0.0 ; i < float(REP); i++)\n\t{\n\t\tcnt = 0.0;\n\n#ifdef Z_SIDE\n        SC(36);SC(36);SC(36);SC(36);SC(36);SC(36);SC(-1);SC(-1); //c\n        SC(43);SC(43);SC(43);SC(43);SC(43);SC(43);SC(-1);SC(-1); //g\n        SC(50);SC(50);SC(50);SC(50);SC(50);SC(50);SC(-1);SC(-1); //d\n        SC(57);SC(57);SC(57);SC(57);SC(57);SC(57);SC(-1);SC(-1); //a\n#endif\n        //-------------------------------------------------------\n        //http://www.harfesoft.de/midi/bach/\n        //BWV 1007\n        //-------------------------------------------------------\n\t\tSC(-1);SC(-1);SC(-1);SC(-1);SC(-1);SC(-1);SC(-1);SC(-1);\n#ifdef A_SIDE\n\t\tSC(43);SC(50);SC(59);SC(57);SC(59);SC(50);SC(59);SC(50);\n\t\tSC(43);SC(50);SC(59);SC(57);SC(59);SC(50);SC(59);SC(50);\n\t\tSC(43);SC(52);SC(60);SC(59);SC(60);SC(52);SC(60);SC(52);\n\t\tSC(43);SC(52);SC(60);SC(59);SC(60);SC(52);SC(60);SC(52);\n\t\tSC(43);SC(54);SC(60);SC(59);SC(60);SC(54);SC(60);SC(54);\n\t\tSC(43);SC(54);SC(60);SC(59);SC(60);SC(54);SC(60);SC(54);\n\t\tSC(43);SC(55);SC(59);SC(57);SC(59);SC(55);SC(59);SC(55);\n\t\tSC(43);SC(55);SC(59);SC(57);SC(59);SC(55);SC(59);SC(54);\n\t\tSC(43);SC(52);SC(59);SC(57);SC(59);SC(55);SC(54);SC(55);\n\t\tSC(52);SC(55);SC(54);SC(55);SC(47);SC(50);SC(49);SC(47);\n\t\tSC(49);SC(55);SC(57);SC(55);SC(57);SC(55);SC(57);SC(55);\n\t\tSC(49);SC(55);SC(57);SC(55);SC(57);SC(55);SC(57);SC(55);\n\t\tSC(54);SC(57);SC(62);SC(61);SC(62);SC(57);SC(55);SC(57);\n\t\tSC(54);SC(57);SC(55);SC(57);SC(50);SC(54);SC(52);SC(50);\n\t\tSC(40);SC(47);SC(55);SC(54);SC(55);SC(47);SC(55);SC(47);\n\t\tSC(40);SC(47);SC(55);SC(54);SC(55);SC(47);SC(55);SC(47);\n\t\tSC(40);SC(49);SC(50);SC(52);SC(50);SC(49);SC(47);SC(45);\n\t\tSC(55);SC(54);SC(52);SC(62);SC(61);SC(59);SC(57);SC(55);\n\t\tSC(54);SC(52);SC(50);SC(62);SC(57);SC(62);SC(54);SC(57);\n\t\tSC(50);SC(52);SC(54);SC(57);SC(55);SC(54);SC(52);SC(50);\n\t\tSC(56);SC(50);SC(53);SC(52);SC(53);SC(50);SC(56);SC(50);\n\t\tSC(59);SC(50);SC(53);SC(52);SC(53);SC(50);SC(56);SC(50);\n\t\tSC(48);SC(52);SC(57);SC(59);SC(60);SC(57);SC(52);SC(50);\n\t\tSC(48);SC(52);SC(57);SC(59);SC(60);SC(57);SC(54);SC(52);\n\t\tSC(51);SC(54);SC(51);SC(54);SC(57);SC(54);SC(57);SC(54);\n\t\tSC(51);SC(54);SC(51);SC(54);SC(57);SC(54);SC(57);SC(54);\n\t\tSC(55);SC(54);SC(52);SC(55);SC(54);SC(55);SC(57);SC(54);\n\t\tSC(55);SC(54);SC(52);SC(50);SC(48);SC(47);SC(45);SC(43);\n        SC(42);SC(48);SC(50);SC(48);SC(50);SC(48);SC(50);SC(48);\n        SC(42);SC(48);SC(50);SC(48);SC(50);SC(48);SC(50);SC(48);\n        SC(43);SC(47);SC(53);SC(52);SC(53);SC(47);SC(53);SC(47);\n\t\tSC(43);SC(47);SC(53);SC(52);SC(53);SC(47);SC(53);SC(47);\n\t\tSC(43);SC(48);SC(52);SC(50);SC(52);SC(48);SC(52);SC(48);\n\t\tSC(43);SC(48);SC(52);SC(50);SC(52);SC(48);SC(52);SC(48);\n#endif\n#ifdef B_SIDE        \n\t\tSC(43);SC(54);SC(60);SC(59);SC(60);SC(54);SC(60);SC(54);\n\t\tSC(43);SC(54);SC(60);SC(59);SC(60);SC(54);SC(60);SC(54);\n\t\tSC(43);SC(50);SC(59);SC(57);SC(59);SC(55);SC(54);SC(52);\n\t\tSC(50);SC(48);SC(47);SC(45);SC(43);SC(42);SC(40);SC(38);\n\t\tSC(37);SC(45);SC(52);SC(54);SC(55);SC(52);SC(54);SC(55);\n\t\tSC(37);SC(45);SC(52);SC(54);SC(55);SC(52);SC(54);SC(55);\n\t\tSC(36);SC(45);SC(50);SC(52);SC(54);SC(50);SC(52);SC(54);\n\t\tSC(36);SC(45);SC(50);SC(52);SC(54);SC(50);SC(52);SC(54);\n\t\tSC(36);SC(45);SC(50);SC(54);SC(57);SC(61);SC(62);SC(45);\n\t\tSC(47);SC(49);SC(50);SC(52);SC(54);SC(55);SC(57);SC(54);\n\t\tSC(50);SC(52);SC(54);SC(55);SC(57);SC(59);SC(60);SC(57);\n\t\tSC(54);SC(55);SC(57);SC(59);SC(60);SC(62);SC(63);SC(62);\n\t\tSC(61);SC(62);SC(62);SC(60);SC(59);SC(60);SC(60);SC(57);\n\t\tSC(54);SC(52);SC(50);SC(45);SC(47);SC(48);SC(38);SC(45);\n\t\tSC(50);SC(54);SC(57);SC(59);SC(60);SC(57);SC(59);SC(55);\n\t\tSC(50);SC(48);SC(47);SC(43);SC(45);SC(47);SC(38);SC(43);\n\t\tSC(47);SC(50);SC(55);SC(57);SC(59);SC(55);SC(61);SC(58);\n\t\tSC(57);SC(58);SC(58);SC(57);SC(56);SC(57);SC(57);SC(55);\n\t\tSC(54);SC(55);SC(55);SC(52);SC(49);SC(47);SC(45);SC(49);\n\t\tSC(52);SC(55);SC(57);SC(61);SC(62);SC(61);SC(62);SC(57);\n\t\tSC(54);SC(52);SC(54);SC(57);SC(50);SC(54);SC(45);SC(50);\n\t\tSC(49);SC(47);SC(45);SC(43);SC(42);SC(40);SC(38);SC(60);\n\t\tSC(59);SC(57);SC(55);SC(54);SC(52);SC(50);SC(60);SC(59);\n\t\tSC(57);SC(55);SC(54);SC(52);SC(50);SC(48);SC(59);SC(57);\n\t\tSC(55);SC(54);SC(52);SC(50);SC(48);SC(47);SC(57);SC(55);\n        SC(54);SC(52);SC(50);SC(48);SC(47);SC(45);SC(55);SC(54);\n#endif\n#ifdef C_SIDE\n        SC(52);SC(54);SC(57);SC(50);SC(57);SC(52);SC(57);SC(54);\n\t\tSC(57);SC(55);SC(57);SC(52);SC(57);SC(54);SC(57);SC(50);\n\t\tSC(57);SC(55);SC(57);SC(52);SC(57);SC(54);SC(57);SC(50);\n\t\tSC(57);SC(55);SC(57);SC(52);SC(57);SC(54);SC(57);SC(50);\n\t\tSC(57);SC(52);SC(57);SC(54);SC(57);SC(55);SC(57);SC(57);\n\t\tSC(57);SC(59);SC(57);SC(50);SC(57);SC(57);SC(57);SC(59);\n\t\tSC(57);SC(60);SC(57);SC(50);SC(57);SC(59);SC(57);SC(60);\n\t\tSC(57);SC(62);SC(57);SC(59);SC(57);SC(60);SC(57);SC(59);\n\t\tSC(57);SC(60);SC(57);SC(57);SC(57);SC(59);SC(57);SC(57);\n\t\tSC(57);SC(59);SC(57);SC(55);SC(57);SC(57);SC(57);SC(55);\n\t\tSC(57);SC(57);SC(57);SC(54);SC(57);SC(55);SC(57);SC(54);\n\t\tSC(57);SC(55);SC(57);SC(52);SC(57);SC(54);SC(57);SC(50);\n\t\tSC(52);SC(53);SC(50);SC(54);SC(50);SC(55);SC(50);SC(56);\n\t\tSC(50);SC(57);SC(50);SC(58);SC(50);SC(59);SC(50);SC(60);\n\t\tSC(50);SC(61);SC(50);SC(62);SC(50);SC(63);SC(50);SC(64);\n\t\tSC(50);SC(65);SC(50);SC(66);SC(50);SC(67);SC(59);SC(50);\n\t\tSC(59);SC(67);SC(59);SC(67);SC(59);SC(67);SC(59);SC(50);\n\t\tSC(59);SC(67);SC(59);SC(67);SC(59);SC(67);SC(57);SC(50);\n\t\tSC(57);SC(67);SC(57);SC(67);SC(57);SC(67);SC(57);SC(50);\n        SC(57);SC(67);SC(57);SC(67);SC(57);SC(66);SC(60);SC(50);\n\t\tSC(60);SC(66);SC(60);SC(66);SC(60);SC(66);SC(60);SC(50);\n\t\tSC(60);SC(66);SC(60);SC(66);SC(60);SC(43);SC(50);SC(59);\n\t\tSC(67);SC(67);SC(67);SC(67);SC(67);SC(67);SC(67);SC(67);\n        SC(67);SC(67);SC(67);SC(67);SC(67);SC(67);SC(67);SC(67);\n#endif\n\t\tSC(-1); //TAPE END.\n        \n        float ht = t;\n\n        float phase = float(pm) + ht * note(pm) + vib;\n\t\ta  += (sin(phase * 3.141552 * 2.0) *  fract(phase - de * BOWING1 * i) * 2.0 - 1.0) * e1;\n\t\tb  += (sin(phase * 3.141592 * 2.0) *  fract(phase - de * BOWING2 * i) * 2.0 - 1.0) * e2;\n\n\t\tif(i < 4.0)\n\t\t{\n\t\t\ta  -= fract(note(pm) * (1.0 + (i * 3.0)) * t - de * BOWING2 + float(pm)) * 0.12 * e1;\n\t\t\tb  -= fract(note(pm) * (1.0 + (i * 3.0)) * t - de * BOWING1 + float(pm)) * 0.13 * e2;\n\t\t}\n\n\t\te1  *= 0.9952;\n        e2  *= 0.9852;\n        float ke = e1;\n        e1 = e2;\n        e2 = e1;\n\t\tde += 0.019717;\n\t}\n\treturn vec2(a, b) / (float(REP) * 2.5);\n}\n","name":"Sound","description":"","type":"sound"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":true,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"XslXWj","date":"1407024394","viewed":396,"name":"Bach SOUND Test","username":"gyabo","description":"Practice. Bach bwv1007 test.","likes":5,"published":1,"flags":8,"usePreview":0,"tags":["sound"],"hasliked":0,"parentid":"","parentname":""}}