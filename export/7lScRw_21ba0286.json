{"ver":"0.1","info":{"id":"7lScRw","date":"1649426189","viewed":113,"name":"snowwwwww_andr","username":"Moloko","description":"test","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["test"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"precision mediump float;\n//varying highp vec2 textureCoordinate;\n//uniform sampler2D inputImageTexture;\n\nconst float PI  = 3.14159265359;\nconst float aoinParam1 = 0.7;\n\n//uniform float time;\n//uniform vec2 resolution;\n\nfloat inHeart (vec2 uv, vec2 center, float size) {\n  if (size==0.0) return 0.0;\n  vec2 o = vec2((uv.x-center.x)/(1.2*size),(uv.y-center.y)/(1.6*size));\n  float a = o.x*o.x+o.y*o.y-0.3;\n  return step(a*a*a, o.x*o.x*o.y*o.y*o.y);\n}\n\nfloat snow(vec2 uv,float scale)\n{\n\n float w=smoothstep(9.,0.,-uv.y*(scale/10.));\n if(w<.1)return 0.;\n uv+=(iTime*aoinParam1)/scale;\n //uv.y+=iTime*0.05/scale;\n //uv.x+=sin(uv.y+iTime*.05)/scale;\n uv*=scale;\n vec2 s=floor(uv),f=fract(uv),p;\n float k=3.;//,d;\n p=.5+.35*sin(11.*fract(sin((s+p+scale)*mat2(7,3,6,5))*5.))-f;\n //d=length(p);\n //k=min(d,k);\n //k=smoothstep(0.,k,sin(f.x+f.y)*0.01);\n k = inHeart(f, p, 0.075+sin(iTime)/50.0);\n     return k*w;\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    \n    \n    \n    vec4 texColor = texture(iChannel0, fragCoord/iResolution.xy);\n\n    float T = (iTime / .99);\n    vec2 position = (( fragCoord.xy / iResolution.xy ) - 0.5);\n    position.x *= iResolution.x / iResolution.y;\n    vec3 color = texColor.rgb;\n    vec2 uv=(fragCoord.xy*2.-iResolution.xy)/min(iResolution.x,iResolution.y); // бьем экран на квадраты, начало координат ставим в центр нижней границы экрана\n    vec3 finalColor=vec3(0);\n    float c=0.0;\n //c+=snow(uv,30.)*.3;\n c+=snow(uv,4.);\n c+=snow(uv,2.);\n c+=snow(uv,1.);\n finalColor=(vec3(c));\n \n \n \n\n    fragColor = (vec4( color, 1.0 ) + vec4(finalColor,1));\n    \n    \n    \n}","name":"Image","description":"","type":"image"}]}