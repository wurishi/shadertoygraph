{"ver":"0.1","info":{"id":"flcGzS","date":"1636220035","viewed":68,"name":"Tasuku's GLSL functions 2","username":"supertask","description":"https://thebookofshaders.com/05/","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["smoothstep"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"/*\n\nReferences:\n\n* https://www.opengl.org/sdk/docs/man/html/smoothstep.xhtml\n* https://thebookofshaders.com/glossary/?search=smoothstep\n\n*/\n\n\nfloat plot(vec2 st, float y)\n{\n  return  smoothstep( y-0.02, y     , st.y) - \n          smoothstep( y     , y+0.02, st.y);\n}\n\n\nfloat SmoothstepMountain(float x,\n    float centerX, float mainWidth, float slopeWidth)\n{\n    float halfMainWidth = mainWidth / 2.0;\n    float begin = centerX - halfMainWidth;\n    float end = centerX + halfMainWidth;\n\n    //return smoothstep(0.2, 0.2 + slopeWidth, x)\n    //    * smoothstep(0.8, 0.8 - slopeWidth, x);\n    return smoothstep(begin, begin + slopeWidth, x)\n        * smoothstep(end, end - slopeWidth, x);\n\n}\n\nfloat SmoothstepTest(float x)\n{\n    return SmoothstepMountain(x, 0.5, 1.0, 0.5);\n}\n\nfloat GodRayTest(float x) {\n    //x = gray color. 0 = black, 1 = white\n    x *= 1.0; //color intensity\n    float k = 1.0; //iteration\n    return length(x * 2.0) * pow(max(0.0, 0.5 - length(1.0 - x)), 2.0) * exp(-k * 0.1);\n    \n    //return pow(max(0.0, 0.5 - length(1.0 - x)), 2.0) * exp(-k * 0.1);\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 st = fragCoord.xy/iResolution.xy;\n    \n    //float y = smoothstep( mina, maxa, st.x );\n    float y = SmoothstepTest(st.x);\n    //float y = GodRayTest(st.x);\n    \n    // grey gradient\n    vec3 color = vec3(y);\n\n    // draw smoothstep curve in green\n    float percent = plot(st,y);\n    color = (1.0-percent)*color + percent*vec3(0.0,1.0,0.0);\n\n    fragColor = vec4(color,1.0);\n}","name":"Image","description":"","type":"image"}]}