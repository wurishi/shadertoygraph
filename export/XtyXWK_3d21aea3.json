{"ver":"0.1","info":{"id":"XtyXWK","date":"1485908353","viewed":215,"name":"clockyballs","username":"percentcer","description":"Making a ten second clock out the previous metaball code","likes":0,"published":3,"flags":0,"usePreview":0,"tags":["metaballs"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord ){\n    float sum = 0.;\n    float seconds = floor(mod(iTime, 10.));\n    for(float sec = 0.; sec < 10.; ++sec) {\n        if(sec != seconds) { continue; }\n        for(float dotid = 0.; dotid < 81.; ++dotid) {\n            float offset = 1. / (sec * 2.);\n\n            vec2 stPos = vec2(\n                fract(float(dotid) / sec),\n                floor(float(dotid) / sec) / sec\n            ) + offset;\n            vec2 stFrag = fragCoord.xy / iResolution.xy;\n\n            // scale by aspect ratio and translate it to center\n            float aspect = iResolution.x / iResolution.y;\n            stFrag.x *= aspect;\n            stFrag.x -= (1. - 1. / aspect);\n\n            float stDist = distance(stFrag, stPos);\n\n            float pulse = .75 + .5 * sin(iTime + (dotid * 4.));\n            float influence = 0.8 * pulse / (pow(stDist, 2.) * iResolution.x);\n            sum += influence;\n            \n            if (dotid > (sec * sec)) { break; }\n        }\n    }\n    fragColor = vec4(vec3(sum), 1.);\n}","name":"Image","description":"","type":"image"}]}