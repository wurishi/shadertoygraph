{"ver":"0.1","info":{"id":"4ljGWt","date":"1433596911","viewed":555,"name":"Power Coils","username":"fizzer","description":"Playing with inversion and volumetric light.","likes":29,"published":1,"flags":0,"usePreview":0,"tags":["procedural","inversion","eletric"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[],"code":"void mainImage(out vec4 c, vec2 q)\n{\n    float a=iTime*.1+1.,b=.5,g,e,t=0.,s;\n    vec3 r=vec3(0.,0.,3.),w=normalize(vec3((q-iResolution.xy/2.)/iResolution.y,-.5)),p;\n\n    mat2 x=mat2(cos(a),sin(a),sin(a),-cos(a)),y=mat2(cos(b),sin(b),sin(b),-cos(b));\n\n    w.xz=y*w.xz;\n    r.xz=y*r.xz;\n\n    w.yz=x*w.yz;\n    r.yz=x*r.yz;\n\n    c.rgb=vec3(0.,0.,.02);\n\n    for(int i=0;i<150;++i)\n    {\n        p=r+w*t;\n\n        float f=.25,d=1e4;\n        for(int j=0;j<2;++j)\n        {\n            s=.2*dot(p,p);\n            p=p/s;\n            f*=s;\n            g=p.z;\n            e=atan(p.y,p.x);\n            p=(mod(p,2.)-1.)*1.25;\n        }\n\n        d=min((length(abs(p.xy)-1.3)-.1)*f,1e2);\n\n        if(d<1e-3)\n            break;\n\n        c.rgb+=vec3(.3,.4,.8)*(pow(.5+.5*cos(g*.5+a*77.+cos(e*10.)),16.))*\n            (1.-smoothstep(0.,1.,70.*d))*.25;\n\n        t+=d;\n    }\n}\n\n","name":"","description":"","type":"image"}]}