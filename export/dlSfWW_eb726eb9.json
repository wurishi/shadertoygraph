{"ver":"0.1","info":{"id":"dlSfWW","date":"1694033331","viewed":73,"name":"Voronoi star field","username":"GBA","description":"Using palettes (https://www.shadertoy.com/view/ll2GD3) and voronoi (https://www.shadertoy.com/view/MslGD8) to create stars","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["voronoi","stars"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGzn","filepath":"/media/a/0c7bf5fe9462d5bffbd11126e82908e39be3ce56220d900f633d58fb432e56f5.png","previewfilepath":"/media/ap/0c7bf5fe9462d5bffbd11126e82908e39be3ce56220d900f633d58fb432e56f5.png","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// controls how many surrounding particles are checked \nconst int rad = 5;\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    vec2 ndc = 2.0 * uv - 1.0;\n    vec2 c = vec2(4.0);\n    \n    ndc.y /= iResolution.x / iResolution.y;\n    ndc *= 50.;\n    ndc += iTime;\n    vec2 o = floor(ndc / c);\n    vec2 f = fract(ndc / c);\n    vec3 col;\n    float md = 1E10;\n    for(int x = -rad; x <= rad; x++)\n    for(int y = -rad; y <= rad; y++) {\n        vec2 i = vec2(x,y);\n        vec2 g = hash(o + i);\n        vec2 r = i - f + g;\n        float s = 2. * noise(o + i);\n        s = 5.0 * exp(1.0 -s * s);\n        float d = s * 100. * dot(r, r);\n        vec3 c2 = pal(rand((o + i)), vec3(0.5,0.5,0.5),vec3(0.5,0.5,0.5),vec3(1.0,1.0,1.0),vec3(0.0,0.10,0.20));\n        col += c2 * 1.0 / d;\n    }\n    \n    // Output to screen\n    col += 0.1 * texture(iChannel0, 0.3 * ndc).x;\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"vec2 hash( vec2 p )\n{\n    //p = mod(p, 4.0); // tile\n    p = vec2(dot(p,vec2(127.1,311.7)),\n             dot(p,vec2(269.5,183.3)));\n    return fract(sin(p)*18.5453);\n}\n\nfloat rand(vec2 co) {\n    return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\nvec3 pal( in float t, in vec3 a, in vec3 b, in vec3 c, in vec3 d )\n{\n    return a + b*cos( 6.28318*(c*t+d) );\n}\n\nfloat noise(vec2 p) {\n    vec2 i = floor(p);\n    vec2 f = fract(p);\n    vec2 u = f*f*f*(f*(f*6.-15.)+10.);\n    vec2 d = vec2(1.0, 0.0); \n    \n    float x1 = rand(i);\n    float x2 = rand(i + d.xy);\n    float x3 = rand(i + d.yx);\n    float x4 = rand(i + d.xx);\n    \n    float mix1 = mix(x1, x2, u.x);\n    float mix2 = mix(x3, x4, u.x);\n    \n    return mix(mix1, mix2, u.y);\n    \n}\n","name":"Common","description":"","type":"common"}]}