{"ver":"0.1","info":{"id":"XsVfzy","date":"1529354050","viewed":454,"name":"Interstellar thingy","username":"Veggiebob","description":"from that one time-travely sceneat the very end?","likes":3,"published":1,"flags":6,"usePreview":0,"tags":["sound","shader","microphone"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sf3zn","filepath":"/presets/webcam.png","previewfilepath":"/presets/webcam.png","type":"webcam","channel":1,"sampler":{"filter":"linear","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XdXGRr","filepath":"/presets/mic.png","previewfilepath":"/presets/mic.png","type":"mic","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float ground (vec3 r){\n    return r.y-100.;\n}\nvec3 trace (vec3 o, vec3 r){\n    vec3 p = vec3(0.);\n    float t = 0.;\n    for(int i = 0; i<64; i++){\n        p = o+r*t;\n        float d = ground(p);\n        t+=d*0.9;\n    }\n    return vec3(p.xz, t);\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n    vec2 mouse = iMouse.xy/iResolution.xy;\n    uv.x-=0.5;\n    uv.y-=1.;\n    uv.x*=iResolution.x/iResolution.y;\n    \n    vec3 camera = vec3(mouse.x-0.5, mouse.y-0.5, -1.);\n    vec3 ray = vec3(uv.x, uv.y, 0.)-camera;\n    ray = normalize(ray);\n    if(ray.y>0.){\n        ray.y=-ray.y;\n    }\n    vec3 spot = trace(camera, ray);//the ray that hits the ground\n    vec4 v = texture(iChannel0, spot.xy*vec2(0.01)).rrrr;//the mic\n    vec4 t = texture(iChannel1, spot.xy*vec2(0.002));//the camera\n    float fog = (1.-spot.z*spot.z*0.0000001);\n    vec4 final = (t-v*0.5+0.3)*fog;\n    // Output to screen\n    fragColor = vec4(final.rgb, 1.);\n}","name":"Image","description":"","type":"image"}]}