{"ver":"0.1","info":{"id":"ftSXRz","date":"1626882027","viewed":173,"name":"Feedback Drawing","username":"teineiLIFE","description":"study","likes":7,"published":1,"flags":32,"usePreview":0,"tags":["2d"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage(out vec4 fragColor, in vec2 fragCoord) {\n  fragColor = texture(iChannel0, fragCoord.xy / iResolution.xy);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"float noise(vec2 p) { return sin(-p.x * 3.0 + p.y * 10.0); }\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n  vec2 uv = (fragCoord / iResolution.xy * 2.0 - 1.0) * iResolution.xy /\n            max(iResolution.x, iResolution.y) * 2.0;\n  float time = float(iTime);\n\n  float a = atan(uv.x, uv.y);\n  float r = length(uv) * 2.0;\n  vec2 p = uv;\n\n  for (int i = 1; i < 6; i++) {\n    vec2 newp = p + time;\n    newp.x += 0.5 * noise(p.xy);\n    newp.y += 0.5 * noise(p.yx);\n    p = mix(p, newp, 0.5);\n  }\n\n  vec4 color = vec4(0.5 * sin(p.x) + 0.5, 0.4 * sin(p.y) + 0.5,\n                    0.4 * sin(p.x + p.y + 1.5) + 0.5, 1.0);\n  if (color.x > 0.5 && color.y > 0.5 && color.z > 0.5) {\n    vec4 feedback = texture(iChannel0, (fragCoord.xy + vec2(-2.0, 2.0)) / iResolution.xy);\n    fragColor = feedback;\n  } else if (color.x > 0.4) {\n    vec4 feedback = texture(iChannel0, (fragCoord.xy - 2.0) / iResolution.xy);\n    fragColor = feedback;\n  } else if (color.y > 0.4) {\n    vec4 feedback = texture(iChannel0, (fragCoord.xy + vec2(2.0, -2.0)) / iResolution.xy);\n    fragColor = feedback;\n  } else if (color.z > 0.4) {\n    vec4 feedback = texture(iChannel0, (fragCoord.xy + 2.0) / iResolution.xy);\n    fragColor = feedback;\n  } else {\n    fragColor = color * 2.0 + 0.2;\n  }\n}","name":"Buffer A","description":"","type":"buffer"}]}