{"ver":"0.1","info":{"id":"XljBzz","date":"1514329874","viewed":336,"name":"Bleeding","username":"Loeizd","description":"Simple bleeding inspired by vhs\nmouse x to mask the effect","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["ghost","vhs","bleeding"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGzn","filepath":"/media/a/0c7bf5fe9462d5bffbd11126e82908e39be3ce56220d900f633d58fb432e56f5.png","previewfilepath":"/media/ap/0c7bf5fe9462d5bffbd11126e82908e39be3ce56220d900f633d58fb432e56f5.png","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XdfGRr","filepath":"/media/a/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm","previewfilepath":"/media/ap/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//higher is longer bleeds on x\n#define bleed 1.\n\n//higher to regain a bit of detail\n#define sharpness 6.0\n\n//higher is less bleeding\n#define exp_k 3.0 \n\n\nfloat bleedcurve (float x)\n{\n    return (sin(x*3.1415) + exp(-exp_k*2.*x))/3.;\n    //could also just retun the exp\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n\n    float iterations = 25.;\n    \n    float one_x = 1./iResolution.x;\n    float img = texture(iChannel0, uv).y * sharpness; //channel\n    float norm = sharpness;    \n    \n    for (float i = 0.; i<iterations; i++)\n    {\n\t\timg += texture(iChannel0, uv + vec2(i*one_x*bleed, 0.)).y //channel\n               * bleedcurve (i/iterations)\n\t\t\t   + texture(iChannel0, uv + vec2(-i*one_x*bleed, 0.)).y //channel\n               * bleedcurve (i/iterations);\n        \n        norm += bleedcurve (i/iterations) * 2. \n                + (texture(iChannel1, uv+sin(iTime*209.1)).x - 1. /*not -.5 because we use pow below*/) * 0.05; //adds grain\n    }\n    \n    img /= norm;\n\timg = pow(img, 1.1);\n    \n    fragColor = vec4(mix(img, texture(iChannel0, uv).y /*channel*/, floor(uv.x + 1. - iMouse.x/iResolution.x)));\n\n\n}","name":"Image","description":"","type":"image"}]}