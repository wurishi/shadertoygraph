{"ver":"0.1","info":{"id":"XlfBWj","date":"1513226036","viewed":1461,"name":"shockwave2","username":"viveleroi","description":"Improved version of the \"shockwave\" shader.","likes":8,"published":1,"flags":0,"usePreview":1,"tags":["shockwave"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n    // Sawtooth calc of time\n    float offset = (iTime - floor(iTime)) / iTime;\n\tfloat time = iTime * offset;\n\n    // Wave design params\n\tvec3 waveParams = vec3(10.0, 0.8, 0.1 );\n    \n    // Find coordinate, flexible to different resolutions\n    float maxSize = max(iResolution.x, iResolution.y);\n    vec2 uv = fragCoord.xy / maxSize;\n    \n    // Find center, flexible to different resolutions\n    vec2 center = iResolution.xy / maxSize / 2.;\n\n    // Distance to the center\n    float dist = distance(uv, center);\n    \n    // Original color\n\tvec4 c = texture(iChannel0, uv);\n    \n    // Limit to waves\n\tif (time > 0. && dist <= time + waveParams.z && dist >= time - waveParams.z) {\n        // The pixel offset distance based on the input parameters\n\t\tfloat diff = (dist - time);\n\t\tfloat diffPow = (1.0 - pow(abs(diff * waveParams.x), waveParams.y));\n\t\tfloat diffTime = (diff  * diffPow);\n\n        // The direction of the distortion\n\t\tvec2 dir = normalize(uv - center);\n        \n        // Perform the distortion and reduce the effect over time\n\t\tuv += ((dir * diffTime) / (time * dist * 80.0));\n        \n        // Grab color for the new coord\n\t\tc = texture(iChannel0, uv);\n\n        // Optionally: Blow out the color for brighter-energy origin\n        //c += (c * diffPow) / (time * dist * 40.0);\n\t}\n    \n\tfragColor = c;\n}","name":"Image","description":"","type":"image"}]}