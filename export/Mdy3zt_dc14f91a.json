{"ver":"0.1","info":{"id":"Mdy3zt","date":"1455836851","viewed":444,"name":"mandelbrot orbit trap test","username":"asneakyfatcat","description":"Too lazy to clean up and simplify the code for this one. Maybe later. Gets slightly pixelated at the end because of float precision. ","likes":9,"published":1,"flags":0,"usePreview":0,"tags":["test","mandelbrot","orbit","trap"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    //uv.x *= iResolution.x/iResolution.y;\n    float dist = 0.;\n    uv.x = -2.+4.*uv.x;\n    uv.y = -1.+2.*uv.y;\n    // comment the next line to see the fully zoomed out view\n    uv *=pow(.1,4.+cos(.1*iTime));\n    uv.x += .275015;//;\n    uv.y += .0060445;//\n    //uv /= 5.;\n    vec4 col =vec4(1.);\n    vec2 z = vec2(0.0);\n    \n    int trap=0;\n    for(int i = 0; i < 400; i++){\n        if(dot(z,z)>4.){trap = i;break;}\n        dist = min( 1e20, dot(z,z))+cos(float(i)*12.+3.*iTime);\n        z = mat2(z,-z.y,z.x)*z + uv;\n    }\n    dist = sqrt(dist);\n\tfloat orb = sqrt(float(trap))/64.;\n    fragColor=vec4(0.,log(dist)*sqrt(dist)-orb-orb,log(dist)*sqrt(dist-abs(sin(iTime))),1.);\n    if(orb == 0.){fragColor = vec4(0.);}\n    //fragColor = (orb!=0. ? 1.-orb*vec4(9.,5.,3.,0.):vec4(0.));\n}","name":"Image","description":"","type":"image"}]}