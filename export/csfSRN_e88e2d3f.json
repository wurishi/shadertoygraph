{"ver":"0.1","info":{"id":"csfSRN","date":"1668537943","viewed":525,"name":"Psychedelic Pills","username":"kishimisu","description":"This is a still image. If you see it animated you're probably tripping","likes":30,"published":3,"flags":0,"usePreview":0,"tags":["raymarching","domain","colorful","space","repetition","rgb","chromatic","aberration","trippy"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"/* \"Psychedelic Pills\" by @kishimisu (2022) - https://www.shadertoy.com/view/csfSRN\n\n   Playing around with raymarching, space repetition, \n   psychedelic colors and code golfing.\n   \n   This work is licensed under a Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License (https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en)\n*/\n\nvoid mainImage(out vec4 O, vec2 F) {\n_AA_START\n    float p, s, y, c, h = 3., \n                      e = iTime*.4+.8;\n    \n    vec2 r = iResolution.xy,\n         v = (F*2.-r-f)/r.y;\n         \n    for (s = 0.; s < 2e2 && abs(h) > .001 && p < 40.; s++) {\n        vec3 o = p * normalize(vec3(1., v));\n        c      = sin(e + p*.5)*.25;\n        y      = c + .25;\n        o.x   += e; \n        o.y    = abs(o.y);\n        o      = fract(o) - .5;\n        o.xy  *= mat2(cos(e + vec4(0,33,11,0)));\n        o.y   += y/2.; \n        o.y   -= clamp(o.y, 0., y);     \n        p += h = (length(o) - .1*(.75 + p*.1 + c))*.8;\n    }\n        \n    tot.rgb += exp(-p*.15 - .5*length(v)) * (cos(p*(8.4 + 0.16*vec3(0,1,2)))*1.2+1.2);\n_AA_END\n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"/* Anti-aliasing code */\n\n#define AA 2\n\n#define _AA_START               \\\nvec3 tot;                       \\\nfor (int j = 0; j < AA; j++)    \\\nfor (int k = 0; k < AA; k++) {  \\\nvec2 f = vec2(float(j), float(k)) / float(AA) - 0.5;\n\n#define _AA_END        \\\n} tot /= float(AA*AA); \\\nO = vec4(tot, 1.);","name":"Common","description":"","type":"common"}]}