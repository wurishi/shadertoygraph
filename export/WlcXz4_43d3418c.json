{"ver":"0.1","info":{"id":"WlcXz4","date":"1580463075","viewed":192,"name":"7am","username":"nabr","description":"scetch","likes":7,"published":1,"flags":8,"usePreview":0,"tags":["sound","fm","synth","panning","delay"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGzr","filepath":"/media/a/08b42b43ae9d3c0605da11d0eac86618ea888e62cdd9518ee8b9097488b31560.png","previewfilepath":"/media/ap/08b42b43ae9d3c0605da11d0eac86618ea888e62cdd9518ee8b9097488b31560.png","type":"texture","channel":3,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// -----------------------------------------------------\n// 7am by nabr\n// https://www.shadertoy.com/view/WlcXz4\n// License Creative Commons Attribution-NonCommercial 4.0 International (CC BY-NC 4.0)\n// https://creativecommons.org/licenses/by-nc/4.0/\n// -----------------------------------------------------\n\n\n// print chars by FabriceNeyret2\n#define char(_p,_C)(((_p.x<0.||_p.x>1.||_p.y<0.||_p.y>1.))?vec4(0,0,0,1e5):textureGrad(iChannel3,_p/16.+fract(vec2(_C,15-_C/16)/16.),dFdx(_p/16.),dFdy(_p/16.))).xyz\nvoid mainImage(out vec4 O, in vec2 U)\n{\n    vec3 d,sc,p,l,n;\n    vec2 R=iResolution.xy;\n    float t=iTime,pt;\n    U=(U-.5*R)/min(R.x,R.y);\n    d=normalize(vec3(U,-.025));\n    for(float j=0.;j<6.;j++)\n        p=12.*normalize((.7-dot(vec3(0,.2,1),-d))*d)\n        +cos(p.z-p.y)*vec3(cos(j+p.x)+sin(t+j+p.y),sin(j-p.y)+cos(p.x),cos(t+p.y-p.z));\n    l=normalize(vec3(2.*sin(1.5*t),2.*cos(1.5*t),.5));\n    n=normalize(mat3(1,0,0,0,1,0,p.x,p.y,p.z)*d);\n    for(int i=0;i<8;++i)\n        pt+=char(12.*vec2(.23+U.x,.2+.5*U.y),int[](115,111,117,110,100,32,105,110)[i]).x,U.x-=.052;\n    O=vec4(vec3(.318*acos(pt-dot(l,n)))+.25*cos(t+vec3(1, 0, 5)+(2.*n.z)),1.);\n}\n  ","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"// -----------------------------------------------------\n// 7am by nabr\n// https://www.shadertoy.com/view/WlcXz4\n// License Creative Commons Attribution-NonCommercial 4.0 International (CC BY-NC 4.0)\n// https://creativecommons.org/licenses/by-nc/4.0/\n// -----------------------------------------------------\n\n\nfloat synth(float rt,float tm)\n{\n    float s=0.,p=28.5,m=.5,h=1.;\n    if(mod(rt,4.)>.5)p=22.5;\n    if(mod(rt,4.)>.5&&mod(abs(rt),6.)>4.)m+=1.;\n    p=.5*(floor(p*10.+sin(5.*rt))*m);\n    if((int(tm)%6)>4)h-=.5*cos(30.*tm);\n    s=dot(h,mod(fract(p*rt)*float(int(tm+4.*rt)%8|1<<2),.5));\n    return s;\n}\n\nvec2 mainSound( in int samp,float time)\n{\n    // A 440 Hz wave that attenuates quickly overt time\n    // return vec2( sin(6.2831*440.0*time)*exp(-3.0*time) );\n    \n    float t = time;\n    float rvt = -(.5+t);\n    vec2 r=vec2(1);\n    float rand,t2,amp,sum=1.,ivR=1./4.;\n    //rev https://www.shadertoy.com/view/XldcRr\n    for(float _ii=0.;(_ii<=1.);_ii+=ivR){\n        rand=fract(120.*sin(_ii*1000.));\n        t2=(ivR+_ii)+.025*rand;\n        amp=exp(-_ii*t2);\n        r+=vec2(amp*synth(rvt+t2,t*1.00022),\n                amp*synth(rvt+t2,t*1.00025));\n        sum+=amp;\n    }\n    r/=sum;\n    \n    // https://dsp.stackexchange.com/a/21736\n    const float angle = .3926991; //radians(22.5); \n\tconst float sqh2 =  .7071067; //sqrt(2)/2\n\tvec2 rx = vec2(sqh2 * (cos(angle) + sin(angle)) * r.x, \n                   sqh2 * (cos(angle) - sin(angle)) * r.x);\n\tvec2 ry = vec2(sqh2 * (cos(angle) - sin(angle)) * r.y,\n                   sqh2 * (cos(angle) + sin(angle)) * r.y);\n    float p[]=float[](2.2, 1.8, 1.5); \n    #define dr(_t)sin(t+p[int(2.*t)%3]*cos(.105/fract(_t))*(-180.*fract(_t))*exp(-.45*fract(_t)))  \t\n    return vec2(.15)*(dr(1.5*t)+.85*dr(2.*t)) \n        \t+ vec2(rx.x + ry.x,ry.y + rx.y);\n}","name":"Sound","description":"","type":"sound"}]}