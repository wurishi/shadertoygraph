{"ver":"0.1","info":{"id":"4dscWX","date":"1490145651","viewed":174,"name":"Torus2D","username":"TomCat","description":"2D or 3D? Drag your mouse and have fun!","likes":7,"published":1,"flags":0,"usePreview":0,"tags":["2d","circles","interactive","torus"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define CUT .25\n#define STEP 50.\n#define SPEED 8.\n#define PI2 6.28318\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float ROT = iResolution.y / iMouse.y;\n    float FIRST = iMouse.x - iResolution.y;\n\n    float n = abs(FIRST);\n    \n    vec2 uv = fragCoord.xy / iResolution.xy;\n    uv = uv + uv - 1.;\n    uv *= iResolution.xy / iResolution.yy;\n    vec3 color = vec3(CUT);\n    float a = 0.;\n    for (float q = 0.; q < n; q++) {\n        float angle = q/n*PI2 + iTime/SPEED;\n        vec2 center = vec2(sin(angle)/1., cos(angle)/ROT);\n        vec2 d = center-uv;\n        if (d.x*d.x+d.y*d.y < 0.5) {\n        \ta = STEP;\n            color += 1./a;\n        }\n    }\n    if(color.x > 1.) color = 1.-(color-1.);\n    if(color.x < 0.) color = -1.*color;\n    if(FIRST < 0.) color += (.5*float(1&int(color*a))-.5);\n\tfragColor = vec4(color,1.0);\n}","name":"Image","description":"","type":"image"}]}