{"ver":"0.1","info":{"id":"ss23WW","date":"1617454899","viewed":61,"name":"Mandelbrot Kaleidoscope","username":"kithy","description":"mandelbrot set,polar mod,rotation matrix","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["mandelbrotset","rotationmatrix","polarmod"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define ITR 100\n#define PI 3.1415926\n\nmat2 rot(float a){\n\tfloat c=cos(a);\n\tfloat s=sin(a);\n\treturn mat2(c,-s,s,c);\n}\n\nvec2 pmod(vec2 p,float n){\n\tfloat np=PI*2.0/n;\n\tfloat r=atan(p.x,p.y)-0.5*np;\n\tr=mod(r,np)-0.5*np;\n\treturn length(p)*vec2(cos(r),sin(r));\n}\n\nfloat mandelbrot(vec2 uv,vec2 c){\n\tint j;\n\tfor(int i=0;i<ITR;i++){\n\t\tj++;\n\t\tuv=vec2(uv.x*uv.x-uv.y*uv.y+c.x,2.0*uv.x*uv.y+c.y);\n\t\tif(length(uv)>float(ITR)){\n\t\t\tbreak;\n\t\t}\n\t}\n\treturn float(j)/float(ITR);\n}\n\nvoid mainImage(out vec4 fragColor,in vec2 fragCoord){\n\tvec2 uv=(2.0*fragCoord.xy-iResolution.xy)/iResolution.y;\n\tuv.xy*=rot(iTime*0.5);\n\tuv=pmod(uv.xy,9.0);\n\tuv=mod(uv,0.8)-0.4;\n\tuv*=3.0;\n\tuv*=0.5+abs(sin(iTime*0.5));\n\tuv+=vec2(-0.5,0.0);\n\tfloat f=mandelbrot(vec2(0.0),uv);\n\n\tvec3 col=vec3(pow(f,3.0));\n\n\tfragColor=vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}