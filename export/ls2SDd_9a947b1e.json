{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"// 3d flythrough of the fractal in https://www.shadertoy.com/view/lslGWr\n\nconst int MAX_RAY_STEPS = 64;\n\nvec2 mouse() {\n\treturn iMouse.xy / iResolution.xy - vec2(.5);\n}\n\nfloat field(in vec3 p) {\n\tfloat strength = 7. + .03;\n\tfloat accum = 0.;\n\tfloat prev = 0.;\n\tfloat tw = 0.;\n\tfor (int i = 0; i < 10; ++i) {\n\t\tfloat mag = dot(p, p);\n\t\tp = abs(p) / mag + vec3(-0.5 * (mouse().x + 1.0), -0.4 * (mouse().y + 1.0), -1.5);\n\t\tfloat w = exp(-float(i) / 5.);\n\t\taccum += w * exp(-strength * pow(abs(mag - prev), 2.3));\n\t\ttw += w;\n\t\tprev = mag;\n\t}\n\treturn max(0., accum / tw);\n}\n\nvec2 rotate2d(vec2 v, float a) {\n\tfloat sinA = sin(a);\n\tfloat cosA = cos(a);\n\treturn vec2(v.x * cosA - v.y * sinA, v.y * cosA + v.x * sinA);\t\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n\tvec2 screenPos = (fragCoord.xy / iResolution.xy) * 2.0 - 1.0;\n\tvec3 cameraDir = vec3(0.0, 0.0, 1.4);\n\tvec3 cameraPlaneU = vec3(1.0, 0.0, 0.0);\n\tvec3 cameraPlaneV = vec3(0.0, 1.0, 0.0) * iResolution.y / iResolution.x;\n\tvec3 rayDir = cameraDir + screenPos.x * cameraPlaneU + screenPos.y * cameraPlaneV;\n\tvec3 rayPos = vec3(80.0, 12.0 * sin(iTime / 4.7), 0.0);\n\t\t\n    \n    rayDir.y -= .2 * sin(iTime / 4.7);\n    rayDir = normalize(rayDir);\n    \n\trayPos.xz = rotate2d(rayPos.xz, iTime / 2.0);\n\trayDir.xz = rotate2d(rayDir.xz, iTime / 2.0 + 3.14 / 2.0);\n    \n    \n    float dis = 0.0;\n    \n    vec3 col = vec3(0);\n    for(int i=0;i<MAX_RAY_STEPS;i++){\n        \n        \n        float val = field(rayPos * .053);\n        float t = max(5.0 * val - .9, 0.0);\n        \n        col += sqrt(dis) * .1 * vec3(0.5 * t * t * t, .6 * t * t, .7 * t);\n        \n        dis += 1.0 / float(MAX_RAY_STEPS);\n        \n        rayPos += rayDir * 1.0/ (val + .35);\n    }\n    \n    vec2 q = screenPos;\n    \n    col = min(col, 1.0) - .34 * (log(col + 1.0));\n    \n    fragColor = vec4(sqrt(col.rgb), 1.0);\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"ls2SDd","date":"1417514923","viewed":1164,"name":"Simplicity 3d","username":"runouw","description":"Yet another 3d visualization of JoshP's Simplicity https://www.shadertoy.com/view/lslGWr\nMove the mouse to change some parameters around.","likes":44,"published":1,"flags":0,"usePreview":0,"tags":["fractalclouds"],"hasliked":0,"parentid":"","parentname":""}}