{"ver":"0.1","info":{"id":"Dttyz2","date":"1699445140","viewed":71,"name":"fractalbach_test1","username":"fractalbach","description":"test","likes":3,"published":1,"flags":96,"usePreview":0,"tags":["test"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// There should be music.\n// If no music starts, try refreshing the page,\n// or go to BufferA and click \"pause\" and \"play\" on the iChannel0 music player.\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // These are not the codez you are looking for.\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    vec4 col = texture(iChannel0, uv);\n    fragColor = vec4(col.rgb, 1.);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"Ms33z2","filepath":"https://soundcloud.com/zerojanitor3/rick-astley-never-gonna-give-you-up-chrono-trigger-style-snes","previewfilepath":"https://soundcloud.com/zerojanitor3/rick-astley-never-gonna-give-you-up-chrono-trigger-style-snes","type":"musicstream","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":0}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"/* \n    NOTE:\n    If no music starts, modify iChannel0 and put a different source of music into there.\n\n    ADAPTED-FROM OR IDEAS-FROM:\n    iq, \"Gameboy\", https://www.shadertoy.com/view/XdlGzr\n    XIX, \"Simple Display of Audio Data\", https://www.shadertoy.com/view/lttBDM\n    \n    SONG:\n    https://soundcloud.com/zerojanitor3/rick-astley-never-gonna-give-you-up-chrono-trigger-style-snes\n    \n    ANOTHER GOOD SONG:\n    https://soundcloud.com/npph5412/never-gonna-give-you-up-beepbox-remix\n*/\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\n    // Throw a starfield in there lol\n    vec4 star_color;\n    starfield( star_color, fragCoord );\n\n    \n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord / iResolution.xy;\n    \n \n    // Retrieve information about about the song.\n    float fft = texture( iChannel0, vec2( uv.x, 0.0 ) ).x;\n    float wave = texture( iChannel0, vec2( uv.x, 1.0 ) ).x;\n\n\n    // Convert Sound information into sweet colors on the screen.\n    vec3 color = vec3( 0.0, 0.0, 0.0 );\n    \n    // Draw that sweet music stuff\n    if (uv.y < fft) {\n        color += vec3( fft, 4.0*fft*(1.0-fft), 1.0-fft );\n    }\n    \n    // Draw sweet music wave thing\n    if ( uv.y < (wave) && uv.y > (1.0-wave) ) {\n        color += vec3( wave, 0, 0 );\n    }\n    \n    // Add stars ONLY IF there isn't something being painted already\n    // It should just be in the background.\n    if ( length(color) < 0.01 ) {\n        color += star_color.xyz;\n    }\n    \n    // The new color we have just produced\n    vec4 upcoming_frag_color = vec4( color, 1.0 );\n\n    // Retrieve the previous color of the screen\n    vec4 previous_frag_color = texture( iChannel1, uv );\n    \n    // Mix the previous and upcoming frames together\n    vec4 combined_frag_color = mix( previous_frag_color, upcoming_frag_color, 0.25);\n    \n    // Final output\n    fragColor = combined_frag_color;\n}","name":"Buffer A","description":"","type":"buffer"},{"inputs":[],"outputs":[],"code":"// NEAT EXTRA STUFF GOES HERE\n\n// \"SmallStars (138 chars)\"\n// by P_Malin\n// https://www.shadertoy.com/view/Ml2XDt\n//\nvoid starfield( out vec4 f, vec2 p )\n{\n    p=p/2e3-.2;\n    float b = ceil(atan(p.x, p.y) * 6e2), h = cos(b), z = h / dot(p,p);\n    f = exp(fract(z + h * b + iDate.wwww) * -1e2) / z;\n}","name":"Common","description":"","type":"common"}]}