{"ver":"0.1","info":{"id":"MdcGW4","date":"1449597588","viewed":1298,"name":"Neon Hypno Bands","username":"104","description":"enjoy","likes":24,"published":1,"flags":0,"usePreview":0,"tags":["fun"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[],"code":"// initial inspiration:\n// http://static1.squarespace.com/static/53c9cdf3e4b0669c8d19e691/53ffa2f8e4b048b8b84fef6f/53ffa473e4b0f2e23aea116f/1409262727455/MagnetoLayer+2013-06-14-00-13-54-324.gif?format=500w\n    \nconst float bandSpacing = .05;\nconst float lineSize = 0.008;\nconst float segmentLength = .3;\n#define WARP\n\n\n\nfloat rand(float n){\n    return fract(cos(n*89.42)*343.42);\n}\nfloat roundx(float x, float p)\n{\n    return floor((x+(p*.5))/p)*p;\n}\nfloat dtoa(float d, float amount)\n{\n    return clamp(1./(clamp(d,1./amount,1.)*amount),0.,1.);\n}\nfloat sdSegment1D(float uv, float a, float b)\n{\n\treturn max(max(a - uv, 0.), uv - b);\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy - .5;\n    uv.x*=iResolution.x/iResolution.y;\n    \n    #ifdef WARP\n    // warp the hell out of the uv coords\n    vec2 oldUV = uv;\n    uv = pow(abs(uv), sin(iDate.w*vec2(.2,.7))*.35+1.2)*sign(oldUV);\n    #endif\n\n    float bandRadius = roundx(length(uv),bandSpacing);\n    vec3 bandID = vec3(rand(bandRadius),rand(bandRadius+1.),rand(bandRadius+2.));\n\n    float distToLine = sdSegment1D(length(uv), bandRadius-(lineSize*.5), bandRadius+(lineSize*.5));\n    float bandA = dtoa(distToLine, 400.);// alpha around this band.\n    \n    float bandSpeed = .1/max(0.05,bandRadius);// outside = slower\n    float r = -3.*iDate.w+bandID.x *6.28;\n    r *= bandSpeed;\n    uv *= mat2(cos(r),sin(r),-sin(r),cos(r));\n\n    float angle = mod(atan(uv.x,uv.y),6.28);// angle, animated\n    float arcLength = bandRadius * angle;\n    \n    float color = sign(mod(arcLength, segmentLength*2.)-segmentLength);\n\n    fragColor = vec4(vec3(bandID * color * bandA),1);\n}\n\n","name":"Image","description":"","type":"image"}]}