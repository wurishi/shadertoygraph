{"ver":"0.1","info":{"id":"4XlfWn","date":"1728267450","viewed":12,"name":"walk poly perimeter ","username":"Elsio","description":"preciso disso pro prÃ³ximo pass","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["animate","geometri","slip","octogono","octagono","cabri","geogebra"],"hasliked":0,"parentid":"l3XfDr","parentname":"move on the poly perimeter"},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI acos(-1.)\n#define TAU 2. * PI\n\nvec2 move(float poly, float ra, float d, float t) {\n    float s = TAU / poly; \n    float T = t * poly;\n    vec2 side = floor(T) * s + vec2(0, 11) + d;\n    \n    return mix(\n               cos(side), \n               cos(side + s), \n               fract(T)\n           ) * ra;\n}\n\nfloat Poly(vec2 p, float k, float ra, float T) {\n    float d;\n    d = atan(p.y, p.x) - T;\n    d = mod(d, TAU / k) - PI / k;\n    d = cos(d) * length(p) - ra;\n    \n    return abs(d);\n}\n\nvoid mainImage(out vec4 o, vec2 U){\n    vec2 r = iResolution.xy,\n         u = (U - r / 2.) / r.y;\n            \n    float t = iTime * .2, \n          k = 7., ds = PI / 3.;\n    \n    //t = floor(t) + smoothstep(.0, .4, fract(t));\n    \n    float\n    t1 = (floor(t * k) + smoothstep(.01, .5, fract(t * k))) / k,\n    t2 = (floor(t * k) + smoothstep(.5, 1., fract(t * k))) / k;\n    \n    vec2 q1 = move(k, .4, ds, t1);\n    vec2 q2 = move(k, .4, ds + PI / k, t2);\n\n    o *= .0;\n    \n    o += max(o, smoothstep(4. / r.y, .0, length(u) - .5)) * .25;\n    o += max(o, smoothstep(4. / r.y, .0, length(u - q1) - .1)) * .5;\n    o += max(o, smoothstep(4. / r.y, .0, length(u - q2) - .1)) * vec4(.5, 0, 0, 0);\n\n    if(false)\n    if(iMouse.z > 0. || cos(iTime * 2.) > .5)\n        o.r += \n              smoothstep(\n                4. / r.y, .0, \n                Poly(u, k, .365, ds)\n              );\n}","name":"Image","description":"","type":"image"}]}