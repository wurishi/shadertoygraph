{"ver":"0.1","info":{"id":"WlV3zV","date":"1579395235","viewed":325,"name":"Simple Clouds","username":"okelly4408","description":"Any corrections/suggestions would be greatly appreciated","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["noise","clouds","fog"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"Xsf3zn","filepath":"/media/a/f735bee5b64ef98879dc618b016ecf7939a5756040c2cde21ccb15e69a6e1cfb.png","previewfilepath":"/media/ap/f735bee5b64ef98879dc618b016ecf7939a5756040c2cde21ccb15e69a6e1cfb.png","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float noise( in vec3 x )\n{\n    vec3 p = floor(x);\n    vec3 f = fract(x);\n    f = f*f*(3.0-2.0*f);\n    \n    vec2 uv = (p.xy+vec2(37.0,17.0)*p.z) + f.xy;\n    vec2 rg = textureLod( iChannel0, (uv+ 0.5)/256.0, 0.0 ).yx;\n    return mix( rg.x, rg.y, f.z );\n}\n\nfloat fbm(vec3 v)\n{\n    float frequency = 1.0;\n    float gain = 1.0;\n    float damp = 0.5;\n    float lacunarity = 1.81;\n\tfloat sum = 0.0;\n    for (int i = 0; i < 6; i++)\n    {\n        sum += (1.0 - pow(abs(noise(v * frequency)), 2.0) )* (gain);\n        frequency *= lacunarity;\n        gain *= damp;\n    }\n    return sum * 0.75;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec3 rd = normalize(vec3((fragCoord.xy-0.5*iResolution.xy)/iResolution.y, 1.));\n\tvec3 ro = vec3(0., 0., -2.);\n    vec3 pos = vec3(ro.xy, ro.z += (iTime * 8.0));\n    pos.xz += iMouse.xy;\n    float sum = 0.0;\n    float t = 0.0;\n\tfor (int i = 0; i < 150; i++)\n    {\n        pos += (rd * t);\n        float n = fbm(pos / 32.0);\n        sum += n;\n        t = n;\n    }\n    sum /= 500.0;\n    float blend = smoothstep(0.25, 0.5, sum * 1.1);\n    float fog = mix(0.0, 1.0, blend);\n    vec3 color = mix(vec3(sum * 3.2) * ((exp( sum * -0.45 )) * 1.25), vec3(0.0, 0.2, 0.5), fog);\n    //fragColor = vec4(fog + vec3(0.0, 0.2, 0.5), 1.0);\n    fragColor = vec4(color, 1.0);\n}","name":"Image","description":"","type":"image"}]}