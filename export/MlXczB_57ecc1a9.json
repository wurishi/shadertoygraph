{"ver":"0.1","info":{"id":"MlXczB","date":"1505248948","viewed":215,"name":"My moving dots","username":"Wuszt","description":"just random dots","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["randomdots"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"Xsf3zn","filepath":"/media/a/f735bee5b64ef98879dc618b016ecf7939a5756040c2cde21ccb15e69a6e1cfb.png","previewfilepath":"/media/ap/f735bee5b64ef98879dc618b016ecf7939a5756040c2cde21ccb15e69a6e1cfb.png","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float size = 10.;\nint dotsAmount = 250;\nfloat speed = 0.1;\n\nfloat Random(float seed)\n{\n    float PHI = 1.61803398874989484820459; // Golden Ratio   \nfloat PI  = 3.141592653589793238462; // PI\nfloat SRT = 1.4142135623730950488016; // Square Root of Two\n    \n    float random = seed;\n    \n    random *= PHI;\n    random *= PI;\n    random *= SRT;\n        \n    random = 0.5 - texture(iChannel0,vec2(fract(random),fract(random*random))).a;\n    \n    random *= 1234.56789;\n    \n    return random;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    \n    float value = 1.;\n    \n    float randomValue = 5532.4654;\n    \n    for(int i=0;i<dotsAmount;i++)\n    {\n    vec2 currentPos;\n    float it = float(i);\n    \n    randomValue = Random(randomValue / (it * sqrt(float(dotsAmount))));\n    \n    float secRandom = Random(randomValue);    \n        \n    vec2 direction = //vec2(1.,1.);\n        vec2(cos(0.1 * iTime + randomValue),sin(0.1 * iTime + secRandom));    \n        \n        randomValue = secRandom;\n        \n    direction.x = 1./direction.x;\n    direction.y = 1./direction.y;\n        \n        direction.x = min(direction.x,1.);\n        direction.y = min(direction.y,1.);\n        \n        randomValue = Random(randomValue);\n        direction.x *= 5. * fract(randomValue);\n        \n        randomValue = Random(randomValue);\n        direction.y *= 5.* fract(randomValue);\n        \n        randomValue = Random(randomValue);\n    currentPos.x =(fract(randomValue)  + direction.x * (fract((iTime + randomValue) * speed) * (1.- fract(randomValue)))) * iResolution.x;\n    \n        \n        randomValue = Random(randomValue);\n    currentPos.y =(fract(randomValue)  + direction.y * (fract((iTime + randomValue) * speed) * (1.- fract(randomValue)))) * iResolution.y;\n    \n    //value = min(value, step(size,distance(fragCoord, currentPos)));\n    \n       value = step(size,distance(fragCoord, currentPos)); \n        \n    if(value < 1.)\n        break;\n    }\n    value = 1.- value;\n    value *= 0.5;\n    \n    float random1 = randomValue;\n    float random2 = Random(random1);\n    float random3 = Random(random2);\n    \n\tfragColor = vec4(value*step(random1,-0.1),value*step(random2,0.),value*step(random3,0.),1.0);\n}","name":"Image","description":"","type":"image"}]}