{"ver":"0.1","info":{"id":"tt33DS","date":"1577398573","viewed":98,"name":"Turn Around Blue (Practice #3)","username":"Coda_","description":"Turn Around Blue(Practice #3) I'll redo the code later because this is a mess.","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["torus","blue","turnaround"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define time  iTime\n\n\n\n\n\n\n\nfloat torus (vec3 p, vec2 r,float sp)\n{\n\n  p.yz *= mat2(cos(1.57),-sin(1.57),sin(1.57),cos(1.57)); \n  p.xy *= mat2(cos(time*mix(-sp,sp,sin(time)*0.015)),-sin(time*mix(-sp,sp,sin(time)*0.015)),sin(time*mix(-sp,sp,sin(time)*0.015)),cos(time*mix(-sp,sp,sin(time)*0.015)));\n  float x = length(p.xz) - r.x;\n  return length(vec2(x,p.y)) - r.y;   \n}\n\nfloat trace (vec3 o, vec3 r)\n{\n  float t = 0.0;\n  for(int i = 0;i < 100;i++)\n  {\n      vec3 p = o+r*t;\n      float d0 = torus(p-vec3(0,0,0),vec2(0.1,0.1),0.0);\n      float d1 = torus(p-vec3(0,0,0),vec2(0.5,0.15),1.0);\n      float d2 = torus(p-vec3(0,0,0),vec2(1.0,0.15),1.0);\n      d1 = min(d1,d0);\n      d1 = min(d1,d2);\n      float dx;\n      float tt = 0.25;\n      float tx = 1.0;\n      for(int i = 1; i < 20;i++)\n      {\n        dx = torus(p-vec3(0,0,0),vec2(tx,0.15),1.5+tt);\n        d1 = min(d1,dx);\n        tt += 0.07;\n        tx += 0.5;\n      }\n      \n      \n      t += d1*0.25;\n  }\n  return t;\n}\n\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = vec2(fragCoord.x / iResolution.x, fragCoord.y / iResolution.y);\n  \tuv -= 0.5;\n  \tuv /= vec2(iResolution.y / iResolution.x, 1.0);\n\n  \tvec3 r = normalize(vec3(uv,1.0));\n\n  \tvec3 o = vec3(0.0,0.0,-25);\n  \tfloat t = trace(o,r); \n  \n  \tfloat fog = 1.0/(1.0+t*t*0.001);\n\n    fragColor = vec4(vec3(fog)*vec3(0.0,0.0,1.0),1.0);\n}","name":"Image","description":"","type":"image"}]}