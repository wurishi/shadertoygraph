{"ver":"0.1","info":{"id":"WdjfRc","date":"1590526248","viewed":262,"name":"Snavs - Time","username":"alyd","description":"the larger gears spin faster when the lower frequencies of the song are louder.\nIf the audio doesn't play, try pausing and playing again in the main window and in iChannel0\nexercise after reading https://thebookofshaders.com/07/\n","likes":4,"published":1,"flags":64,"usePreview":0,"tags":["2d","music","audio","animation","visualizer"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XtjGRV","filepath":"https://soundcloud.com/snavs/snavs-time","previewfilepath":"https://soundcloud.com/snavs/snavs-time","type":"musicstream","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":0}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// adapted from code by @patriciogv - 2015 http://thebookofshaders.com/edit.php?log=200616233732\n\n#ifdef GL_ES\nprecision mediump float;\n#endif\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 st = fragCoord/iResolution.xy;\n    vec3 color = vec3(0.0);\n    vec2 pos = vec2(0.5)-st;\n\tpos.x *= iResolution.x/iResolution.y;\n    float zoom = 2.5;\n    float r = length(pos)*zoom;\n    float a = atan(pos.y,pos.x);\n    \n    \n\tfloat pulse = 0.5+0.3*texture(iChannel0,vec2(0,0)).r;//0.05*sin(iTime*0.5);\n    float scale = .9+(0.1*texture(iChannel0,vec2(0,0)).r);\n    float spin = iTime*(20.);\n    float soundfactor=15.;\n    float spinm2 = spin;\n    float spinm1 = spin;\n    float spin00 = spin;\n    float spin0 = spin;\n    float spin1 = spin;\n    float spin2 = spin;\n    float spin3 = spin;\n    float spin4 = spin;\n    \n        \n    spinm2 +=soundfactor*texture(iChannel0,vec2(0,0)).r;\n    spinm1 +=soundfactor*texture(iChannel0,vec2(0,0)).r;\n    spin00 += spin+soundfactor*texture(iChannel0,vec2(0.1,0)).r;\n    spin0 += spin+soundfactor*texture(iChannel0,vec2(0.3,0)).r;\n    spin1 += spin+soundfactor*texture(iChannel0,vec2(0.5,0)).r;\n    spin2 += spin+soundfactor*texture(iChannel0,vec2(0.7,0)).r;\n    spin3 += spin+soundfactor*texture(iChannel0,vec2(0.9,0)).r;\n    spin4 += spin+soundfactor*texture(iChannel0,vec2(1.0,0)).r;\n\n    vec3 shine = vec3(.7*(smoothstep(-0.940,0.944, cos(a*23.-spin))*0.104+pulse));\n    float fm3 = scale*4.8*(smoothstep(-1.,1., cos(a*27.-spinm2))*0.07+pulse);\n    float gm3 = 1.-smoothstep(fm3,fm3+0.02,r);\n    float fm2 = scale*3.5*(smoothstep(-0.940,0.944, cos(a*24.+spinm2))*0.11+pulse);\n    float gm2 = 1.-smoothstep(fm2,fm2+0.02,r);\n    float fm1 = scale*scale*3.1*(smoothstep(-0.1,0.5, cos(a*21.-spinm1))*0.07+pulse);\n    float gm1 = 1.-smoothstep(fm1,fm1+0.02,r);\n    float f00 = scale*2.2*(smoothstep(-0.940,0.944, cos(a*23.+spin00))*0.104+pulse);\n    float g00 = 1.-smoothstep(f00,f00+0.02,r);\n    float f0 = scale*1.6*(smoothstep(-.5,0.144, cos(a*13.-spin0))*0.104+pulse);\n    float g0 = 1.-smoothstep(f0,f0+0.02,r);\n    float f = scale*1.*(smoothstep(-.5,1., cos(a*10.+spin1))*0.2+pulse);\n    float g1 = 1.-smoothstep(f,f+0.02,r);\n    float f2 = scale*0.6*(smoothstep(-.5,1., cos(a*14.-spin2))*0.2+pulse);\n    float g2 = 1.-smoothstep(f2,f2+0.02,r);\n    float f3 = scale*0.25*(smoothstep(-.5,1., cos(a*10.+spin3))*0.6+pulse);\n    float g3 = 1.-smoothstep(f3,f3+0.02,r);\n    float f4 = scale*0.13*(smoothstep(-.5,.5, cos(a*7.-spin4))*0.4+pulse);\n    float g4 = 1.-smoothstep(f4,f4+0.02,r);\n    float f5 = scale*0.06*(smoothstep(-.5,100., cos(a*8.-spin4))*0.3+pulse);\n    float g5 = 1.-smoothstep(f5,f5+0.02,r);\n    float silver_gears = gm3-(gm2-(gm1-(g00-(g0-(g1-g2+g3-g4+g5)))));\n    float bronze_gears = 1.0-silver_gears;\n    vec3 silver_color = vec3(1.4)*silver_gears;\n    vec3 bronze_color = 0.5*(vec3(0.7)+vec3(64./255.,76./255.,82./255.))*(bronze_gears);\n    fragColor = vec4(1.-(silver_color+bronze_color-shine), 1.0);\n}\n","name":"Image","description":"","type":"image"}]}