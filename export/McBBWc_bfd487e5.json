{"ver":"0.1","info":{"id":"McBBWc","date":"1725644773","viewed":74,"name":"Rainbow Road Lorenz Attractor","username":"StormOfTheVoid","description":"Now you're thinking with portals","likes":5,"published":1,"flags":32,"usePreview":0,"tags":["lorenz"],"hasliked":0,"parentid":"XcSBWV","parentname":"Lorenz Test"},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4sXGR8","filepath":"/media/previz/buffer02.png","previewfilepath":"/media/previz/buffer02.png","type":"buffer","channel":2,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XdfGR8","filepath":"/media/previz/buffer03.png","previewfilepath":"/media/previz/buffer03.png","type":"buffer","channel":3,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec3 rotx(vec3 n,float theta){\n    float x=n.x;\n    float y=n.y;\n    float z=n.z;\n    return vec3(x,cos(theta)*y-sin(theta)*z,sin(theta)*y+cos(theta)*z);\n}\n\nvec3 roty(vec3 n,float theta){\n    float x=n.x;\n    float y=n.y;\n    float z=n.z;\n    return vec3(cos(theta)*x+sin(theta)*z,y,-sin(theta)*x+cos(theta)*z);\n}\n\nvec3 rotz(vec3 n,float theta){\n    float x=n.x;\n    float y=n.y;\n    float z=n.z;\n    return vec3(cos(theta)*x-sin(theta)*y,sin(theta)*x+cos(theta)*y,z);\n}\n\n\nvoid mainImage(out vec4 color, in vec2 uv) {\n    float sp=0.5;\n    \n    vec3 col=vec3(0.);\n    vec4 h=vec4(0.);\n    vec2 uv2=uv / iResolution.xy;\n\n    float a=float(iFrame)/(sp*100.);\n\n    float n=(55.+35.*cos(a/4.));\n    //float n=20.;\n    \n    for(float s=1.; s<=4.;s+=1.){\n    \n    if(s==1.){\n    h = texture(iChannel0, vec2(500.5,100.5)/iResolution.xy); \n    \n    \n    uv.x = n*(uv.x-0.5*iResolution.x)/iResolution.y;\n    uv.y = n*(uv.y-0.5*iResolution.y)/iResolution.y;\n    \n\n    }\n    if(s==2.){\n    h = texture(iChannel1, vec2(500.5,100.5)/iResolution.xy); \n\n    }\n\n    if(s==3.){\n    h = texture(iChannel2, vec2(500.5,100.5)/iResolution.xy); \n\n    }\n\n    if(s==4.){\n    h = texture(iChannel3, vec2(500.5,100.5)/iResolution.xy); \n\n    }\n    \n    float x=h.x;\n    float y=h.y;\n    float z=h.z;\n    \n    float dt=0.005;\n    float a=float(iFrame)/(sp*30.);\n    float c=12.;\n    float d=250.;\n    float p=-1.;\n    \n    float l=0.;\n    float t=0.;\n    while(l<=30000.){\n        t+=1.;\n        vec3 holder=vec3(10.*(y-x),(x*(28.-z)-y),(x*y-8./3.*z));\n        x=x+dt*holder.x;\n        y=y+dt*holder.y;\n        z=z+dt*holder.z;\n        \n        vec3 rotxyz=rotz(roty(rotx(vec3(x,y,z),0.1*a/2.),0.5*a/2.),0.1*a/2.);\n        float x3=mod(rotxyz.x+n/2.*iResolution.x/iResolution.y,n/1.*iResolution.x/iResolution.y)-n/2.*iResolution.x/iResolution.y;\n        float y3=mod(rotxyz.y+n/2.,n/1.)-n/2.;\n        float z3=rotxyz.z;    \n        float m=pow(length(vec3(x3,y3,z3)-vec3(0.,0.,d)),p);\n        \n        col+=pow(l/30000.,0.5)*dt*abs(holder)*c*vec3(0.5+0.5*cos(x),0.5+0.5*cos(y),0.5+0.5*cos(z))*pow(length(vec2(x3,y3)-uv),-1.1)*m;\n        l+=length(holder);\n       \n    }\n    }\n    color=vec4(col,1.);\n}\n\n","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 uv )\n{\n    float a=floor(float(iFrame)/0.5);\n    float dt=0.005;\n    \n    if(a==0.){\n    \n    vec3 col = vec3(1.,1.,-5.);\n    \n    \n\n    fragColor = vec4(col,1.0);\n\n    }else{\n    float dt=0.005;\n    \n    fragColor = texture(iChannel0, uv/iResolution.xy); \n    \n    uv=uv/iResolution.xy;\n    uv=vec2(floor(uv*iResolution.xy));\n    if(uv.x==500. && uv.y==100.){\n\n    if(mod(a,1.)==0.){\n    float x=fragColor.x;\n    float y=fragColor.y;\n    float z=fragColor.z;\n    \n    vec3 holder=vec3(10.*(y-x),(x*(28.-z)-y),(x*y-8./3.*z));\n\n    x=x+dt*holder.x;\n    y=y+dt*holder.y;\n    z=z+dt*holder.z;\n    \n    fragColor=vec4(x,y,z,1.);\n    }\n    \n    }\n    }\n\n   \n}","name":"Buffer A","description":"","type":"buffer"},{"inputs":[{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"XsXGR8","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 uv )\n{\n    float a=floor(float(iFrame)/0.5);\n    float dt=0.005;\n    \n    if(a==0.){\n    \n    vec3 col = vec3(-1.,1.,-5.);\n    \n    \n\n    fragColor = vec4(col,1.0);\n\n    }else{\n    float dt=0.005;\n    \n    fragColor = texture(iChannel1, uv/iResolution.xy); \n    \n    uv=uv/iResolution.xy;\n    uv=vec2(floor(uv*iResolution.xy));\n    if(uv.x==500. && uv.y==100.){\n\n    if(mod(a,1.)==0.){\n    float x=fragColor.x;\n    float y=fragColor.y;\n    float z=fragColor.z;\n    \n    vec3 holder=vec3(10.*(y-x),(x*(28.-z)-y),(x*y-8./3.*z));\n\n    x=x+dt*holder.x;\n    y=y+dt*holder.y;\n    z=z+dt*holder.z;\n    \n    fragColor=vec4(x,y,z,1.);\n    }\n    \n    }\n    }\n\n   \n}","name":"Buffer B","description":"","type":"buffer"},{"inputs":[{"id":"4sXGR8","filepath":"/media/previz/buffer02.png","previewfilepath":"/media/previz/buffer02.png","type":"buffer","channel":2,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4sXGR8","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 uv )\n{\n    float a=floor(float(iFrame)/0.5);\n    float dt=0.005;\n    \n    if(a==0.){\n    \n    vec3 col = vec3(1.,-1.,-5.);\n    \n    \n\n    fragColor = vec4(col,1.0);\n\n    }else{\n    float dt=0.005;\n    \n    fragColor = texture(iChannel2, uv/iResolution.xy); \n    \n    uv=uv/iResolution.xy;\n    uv=vec2(floor(uv*iResolution.xy));\n    if(uv.x==500. && uv.y==100.){\n\n    if(mod(a,1.)==0.){\n    float x=fragColor.x;\n    float y=fragColor.y;\n    float z=fragColor.z;\n    \n    vec3 holder=vec3(10.*(y-x),(x*(28.-z)-y),(x*y-8./3.*z));\n\n    x=x+dt*holder.x;\n    y=y+dt*holder.y;\n    z=z+dt*holder.z;\n    \n    fragColor=vec4(x,y,z,1.);\n    }\n    \n    }\n    }\n\n   \n}","name":"Buffer C","description":"","type":"buffer"},{"inputs":[{"id":"XdfGR8","filepath":"/media/previz/buffer03.png","previewfilepath":"/media/previz/buffer03.png","type":"buffer","channel":3,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"XdfGR8","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 uv )\n{\n    float a=floor(float(iFrame)/0.5);\n    float dt=0.005;\n    \n    if(a==0.){\n    \n    vec3 col = vec3(-1.,-1.,-5.);\n    \n    \n\n    fragColor = vec4(col,1.0);\n\n    }else{\n    float dt=0.005;\n    \n    fragColor = texture(iChannel3, uv/iResolution.xy); \n    \n    uv=uv/iResolution.xy;\n    uv=vec2(floor(uv*iResolution.xy));\n    if(uv.x==500. && uv.y==100.){\n\n    if(mod(a,1.)==0.){\n    float x=fragColor.x;\n    float y=fragColor.y;\n    float z=fragColor.z;\n    \n    vec3 holder=vec3(10.*(y-x),(x*(28.-z)-y),(x*y-8./3.*z));\n\n    x=x+dt*holder.x;\n    y=y+dt*holder.y;\n    z=z+dt*holder.z;\n    \n    fragColor=vec4(x,y,z,1.);\n    }\n    \n    }\n    }\n\n   \n}","name":"Buffer D","description":"","type":"buffer"}]}