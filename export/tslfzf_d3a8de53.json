{"ver":"0.1","info":{"id":"tslfzf","date":"1588810170","viewed":370,"name":"Blur anything that doesn't move","username":"foodini","description":"Any pixel that changes in between camera frames gets re-rendered, otherwise, it gets blurred.","likes":4,"published":1,"flags":34,"usePreview":0,"tags":["webcam"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n\n\tfragColor = texture(iChannel0, uv);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4sf3zn","filepath":"/presets/webcam.png","previewfilepath":"/presets/webcam.png","type":"webcam","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float d=0.001;\n    vec2 uv = fragCoord/iResolution.xy;\n    vec4 cur_col = texture(iChannel0, uv.xy);\n    \n    fragColor = texture(iChannel0, uv.xy);\n    fragColor += texture(iChannel0, uv.xy + vec2(d,d)) +\n                 texture(iChannel0, uv.xy + vec2(-d,d)) +\n                 texture(iChannel0, uv.xy + vec2(d,-d)) +\n                 texture(iChannel0, uv.xy + vec2(-d,-d));\n    fragColor /= 5.0;\n}","name":"Buffer A","description":"","type":"buffer"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4sXGR8","filepath":"/media/previz/buffer02.png","previewfilepath":"/media/previz/buffer02.png","type":"buffer","channel":2,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"XsXGR8","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float d=0.001;\n    vec2 uv = fragCoord/iResolution.xy;\n    vec4 cur_col = texture(iChannel0, uv.xy);\n    vec4 prev_col = texture(iChannel2, uv.xy);\n    \n    vec4 diff = cur_col - prev_col;\n    float len = length(diff);\n\n    vec4 blur_col = texture(iChannel1, uv.xy);\n    blur_col += texture(iChannel1, uv.xy + vec2(d,d)) +\n                texture(iChannel1, uv.xy + vec2(-d,d)) +\n                texture(iChannel1, uv.xy + vec2(d,-d)) +\n                texture(iChannel1, uv.xy + vec2(-d,-d));\n    blur_col /= 5.0;\n    \n    fragColor = cur_col;\n    if (length(diff) < 0.10) {\n        fragColor = blur_col;\n        //fragColor = vec4(0.0);\n    }\n\tif (length(diff) == 0.0)\n    \tfragColor = texture(iChannel1, uv.xy);\n}","name":"Buffer B","description":"","type":"buffer"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4sXGR8","filepath":"/media/previz/buffer02.png","previewfilepath":"/media/previz/buffer02.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4sXGR8","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n\n    fragColor = texture(iChannel0, uv.xy);\n}","name":"Buffer C","description":"","type":"buffer"}]}