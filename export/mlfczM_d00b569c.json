{"ver":"0.1","info":{"id":"mlfczM","date":"1690516441","viewed":32,"name":"Rolling Rings","username":"ullacity","description":"Just a test.","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["rings"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define S smoothstep\n#define pi 3.1415926538\n#define MINBLUR .009\n#define MAXBLUR .02\n#define PAD .02\n\nvec2 phasor(float t) {\n    return vec2(cos( t*cos(iTime) ),sin( t*sin(iTime) ));\n}\n\nvec3 disc(vec2 uv, vec2 p, float r) {\n    float blur = mix(MAXBLUR,MINBLUR,.5+.5*sin(iTime));\n    float d = length(uv-p);\n    float s = S(blur,0.00,d-r);\n    vec3 col = vec3(s);\n    return col;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord - .5*iResolution.xy)/iResolution.y;\n    \n    float aspect = iResolution.x/iResolution.y;\n    float T = iTime;\n    float alpha = .5 + .5*sin(T); // [0...1]\n    float ringwidth = mix(.05, .2, alpha);\n    float r = mix(0.5, .4, alpha)  - PAD;\n    vec2 p = vec2(0.);  \n    float theta = pi*sin(T);\n    \n    vec3 col = vec3(0.);\n    \n    float R = 0., a=0., n=8., red=0., green=0., blue=0.;\n    vec2 offs = vec2(0.);\n    float base = mix(1.01, 2., alpha);\n    \n    for (float i = 0.; i < n; i+=1.){\n        R = r/pow(base,i);\n        \n        col += disc(uv, p + offs, R);\n        col -= disc(uv, p + offs, R - ringwidth*R);\n        \n        offs += (R - ringwidth*R + -r/pow(base,i+1.))*(alpha)*phasor((i+1.)*theta);\n        \n        a = i/(n-1.); // [0..1]\n        red = mix(.4,.9,1. - a);\n        green = mix(.4,.9,a*a);\n        blue = mix(.4,.9,a*a);\n        col *= vec3(red,green,blue);\n        \n        //col *= vec3(1. - .5*a, .5*alpha + .5*a, .5*alpha + .5*a);\n        //col *= vec3(1. - .5*(a), .5*abs(sin(T)) + a, .5*abs(sin(T)) + a);    \n    }\n    \n    // Output to screen\n    vec3 finCol = vec3(1.);//mix(vec3(1.,0.,0.), vec3(1.,.8,.8), .5 + .5*sin(T));\n    fragColor = vec4(col*finCol,1.0);\n  \n}","name":"Image","description":"","type":"image"}]}