{"ver":"0.1","info":{"id":"flccDH","date":"1659658163","viewed":94,"name":"hi-tech weave pattern","username":"keir","description":"Build using this tutorial https://twitter.com/cmzw_/status/1555071863897722880","likes":6,"published":1,"flags":0,"usePreview":0,"tags":["truchet","pattern","weave"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec3 hash3( vec2 p )\n{\n    vec3 q = vec3( dot(p,vec2(127.1,311.7)), \n\t\t\t\t   dot(p,vec2(269.5,183.3)), \n\t\t\t\t   dot(p,vec2(419.2,371.9)) );\n\treturn fract(sin(q)*43758.5453);\n}\n\nfloat steppedLiner(float value, float steps)\n{\n    return clamp(round(value * steps) / (steps - 0.0), 0., 1.);\n}\n\nfloat mapRangeStepped(float value, float steps)\n{\n    return mix(-1., 1., steppedLiner(value, steps));\n}\n\nfloat pingPong(float value, float scale){\n    return scale - abs( mod(abs(value), (2. * scale)) - scale);\n}\n\nfloat compare(float a, float b, float epsilon)\n{\n    return abs(a - b) < epsilon ? 1.0 : 0.0;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 m = iMouse.xy / iResolution.xy;\n    \n    float pattern_scale = 20.;\n    float pattern_variation = 0.2;\n    \n    float wall_spread = 0.16;\n    float wall_thickness = 0.03;\n    \n    // OnDragging update mouse driven values\n    if(iMouse.z > 0. && iMouse.w < 0.)\n    {\n        wall_spread = mix(0.0, 0.5, m.x);\n        pattern_variation = m.y;\n    }\n\n\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = (fragCoord/iResolution.xy);\n    uv.x *= iResolution.x / iResolution.y;\n    uv.x += (iTime /80.);\n    \n    uv *= pattern_scale;\n    vec2 grid = floor(uv);\n    \n    float noise = hash3(grid).x;\n    noise = clamp(noise, 0., 1.);\n    \n    float from_min = pattern_variation;\n    float from_max = 1.0;\n    \n    float mapped_noise = mix(from_min, from_max, noise);\n    float stepped = steppedLiner(mapped_noise, 2.0);\n    stepped = mix(-1., 1., stepped);\n    \n    float a = dot(uv, vec2(stepped, 1.));\n    a = pingPong(a, 0.5);\n   \n    a = compare(a, wall_spread, wall_thickness);\n    \n    vec3 col = vec3(a, a, a);\n\n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}