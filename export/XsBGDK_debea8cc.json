{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"/*\n\tAndor Salga\n\t\n*/\n\n#define PI\t\t\t\t3.14159265359\n#define HALF_PI\t\t\t1.57079632679\n#define FOOD_SIZE\t\t40.0\n#define FOOD_SPEED\t\t1.0\n#define FOOD_AT_A_TIME\t2.5\n#define T\t\t\t\tiTime\n#define res\t\t\t\tiResolution\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tfragColor = vec4(0, 0, 0, 1);\n\t\n\tvec2 pacPos = vec2(50.-sin(iTime)*100., 0.);\n\t\n\tfloat foodSpeed = res.x * T * FOOD_SPEED;\n\tfloat theta = abs(sin(mod(T * PI * FOOD_SPEED * FOOD_AT_A_TIME, PI)))* HALF_PI / 2.0 ;\n\t\n\tvec2 p = vec2(res.xy/2. - fragCoord.xy);\n\t\t\n\t// food\n\tif( int(mod(p.x - foodSpeed - pacPos.x, res.x/FOOD_AT_A_TIME) / FOOD_SIZE) == 0 &&\n  \t    int(mod(p.y + FOOD_SIZE/2., res.y) / FOOD_SIZE) == 0 &&\n\t   \tp.x < pacPos.x){\n\t\tfragColor = vec4(1);\n\t}\n\t\n\t// pacman\n\tif( distance(fragCoord.xy + pacPos, res.xy/2.) < res.y/3.){\n\t\tvec2 p2 = res.xy/2.0 - fragCoord.xy - pacPos;\n\t\tfloat t = atan( abs(p2.y)/ -p2.x);\n\t\t\n\t\t// always draw backside\n\t\tif(p2.x > 0. || t > theta){\n\t\t\tfragColor = vec4(1, 1, 0, 1);\n\t\t}\t\n\t}\n\t\n\t// blue borders\n\tfragColor += step(fragCoord.y, 10.) * vec4(0,0,1,1);\n\tfragColor += step(res.y-fragCoord.y, 10.) * vec4(0,0,1,1);\t\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"XsBGDK","date":"1393250429","viewed":334,"name":"Simple Pacman","username":"asalga","description":"Simple Pacman","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["2d"],"hasliked":0,"parentid":"","parentname":""}}