{"ver":"0.1","info":{"id":"7sfcWr","date":"1641953787","viewed":114,"name":"lines that swim","username":"celyk","description":"a","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["lines"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define SHUTTER 1./24.\n#define SHAKE .0\n\nfloat line(vec2 p,vec2 a,vec2 b){\n    return length(clamp(dot(p-=a,b-=a)/dot(b,b),0.,1.)*b-p);\n}\n\n#define R iResolution.xy\nvoid mainImage(out vec4 O,vec2 U){\n    vec2 uv = (2.*U-R)/R.y;\n    float AA = .5*iResolution.y;\n    \n    \n    float t = iTime+25.;\n    \n    //A(t)\n    mat3 A=mat3(\n        vec3(sin(t*1.2)/1.2,sin(t*1.3)/1.3,0)*.3,\n        vec3(sin(t*.83)/.83,sin(t*.6)/.6,0)*.3,\n        vec3(cos(t*.9)/.9,sin(t),1) \n    );\n    \n    //dA/dt\n    mat3 Ap=mat3(\n        vec3(cos(t*1.2),cos(t*1.3),0)*.3,\n        vec3(cos(t*.83),cos(t*.6),0)*.3,\n        vec3(-sin(t*.9),cos(t),0)\n    );\n    \n    //shake\n    A[2] += SHAKE*vec3(sin(t*50.)*.3,sin(t*20.),0);\n    Ap[2] += SHAKE*vec3(cos(t*50.)*50.*.3,cos(t*20.)*20.,0);\n    \n    //repeat\n    uv = (inverse(A)*vec3(uv,1)).xy;\n    vec2 j = floor(uv) + .5;\n    uv = uv - j;\n    uv = (A*vec3(uv,0)).xy;\n    \n    //j is constant. d/dt[A*j] = [d/dt A]*j = Ap*j\n    vec2 v = (Ap*vec3(j,1)).xy*SHUTTER;\n    O = vec4(1)*line(uv,-v*.5,v*.5)*AA;\n}","name":"Image","description":"","type":"image"}]}