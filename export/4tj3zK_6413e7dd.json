{"ver":"0.1","info":{"id":"4tj3zK","date":"1430527625","viewed":710,"name":"Position Rotation","username":"anastadunbar","description":"Rotation using mat. mat follows a pattern.","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["2d"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4df3zn","filepath":"/media/a/3405e48f74815c7baa49133bdc835142948381fbe003ad2f12f5087715731153.ogv","previewfilepath":"/media/ap/3405e48f74815c7baa49133bdc835142948381fbe003ad2f12f5087715731153.ogv","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"false","srgb":"false","internal":"byte"},"published":1}],"outputs":[],"code":"vec2 rotation(in float angle,in vec2 position,in vec2 center)\n{\n    //Function seen from https://www.shadertoy.com/view/XlsGWf\n    float rot = radians(angle);\n    mat2 rotation = mat2(cos(rot), -sin(rot), sin(rot), cos(rot));\n    return vec2((position-center)*rotation);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    //Time set-up\n    float time = iTime;\n    float sintime = (sin(time)/2.)+0.5;\n    \n    //Stretched uv and angle\n\tvec2 uv = (fragCoord.xy/iResolution.xy);\n    vec2 stuv = ((uv-0.5)*vec2(1.0,0.6))+0.5;\n\tvec2 angle = rotation(time*40.,stuv,(iMouse.xy/iResolution.xy));\n    \n    //Rotating uv\n    vec2 rotuv = vec2(fract((angle*5.)+0.5));\n    \n    //Texture\n    vec3 texture = texture(iChannel0, rotuv).rgb;\n    \n\tfragColor = vec4(mix(texture,vec3(rotuv,0.),sintime),1.0);\n}","name":"","description":"","type":"image"}]}