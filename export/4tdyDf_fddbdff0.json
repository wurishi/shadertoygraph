{"ver":"0.1","info":{"id":"4tdyDf","date":"1558882195","viewed":239,"name":"Chromatic Pulsation","username":"AlphaRogue","description":"Chromatic aberration based on music.","likes":3,"published":1,"flags":64,"usePreview":0,"tags":["sound","chromatic","aberration"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4lX3zS","filepath":"https://soundcloud.com/french79music/we-are-not-as-others","previewfilepath":"https://soundcloud.com/french79music/we-are-not-as-others","type":"musicstream","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":0}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define OFFSET .006\n#define MIN .005\n\nvec4 pix(vec2 pos) { return texture(iChannel0, vec2(.5) + pos); }\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    float fft = 0.;\n    for (float i = 0.; i<= 1.; i += .05) fft += texture(iChannel1, vec2(i, .5) ).x;\n    fft /= 5.;\n    \n    vec2 lM = vec2(max(iResolution.x, iResolution.y), min(iResolution.x, iResolution.y));\n    vec2 pos = (fragCoord -.5 * lM ) / lM.x;\n    \n    float angle = atan(pos.y, pos.x);\n    vec2 offset = OFFSET * vec2(cos(angle) , sin(angle)); \n    \n    float dist = length(pos * vec2(.5, 1.));\n    vec2 scale = dist > MIN ? offset * fft * fft * min(2., (dist - MIN) * 6.) : vec2(0.);\n    fragColor = vec4(pix(pos - scale).x, pix(pos).y, pix(pos + scale).z, 1.);\n}","name":"Image","description":"","type":"image"}]}