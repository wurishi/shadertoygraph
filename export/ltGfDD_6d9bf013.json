{"ver":"0.1","info":{"id":"ltGfDD","date":"1542556600","viewed":92,"name":"Wa ,myfirstshader","username":"wanli","description":"low low 1","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["low"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float minZero(float ix){\n    if(ix<0.){\n    \tix=0.;\n    }\n    return ix;\n}\n\nfloat MyCirle_mask(vec2 uv, vec2 p,float r,float blur){\n    \n    uv.x-=p.x;\t\t\t\t\t\t\t// 先平移再缩放\n    uv.y-=p.y;\n    uv.x*=iResolution.x/iResolution.y;\t//让之前的（1，1）的 x变大到x/y倍；\n    float d=length(uv);\n    float s=smoothstep(r,r-blur,d);\n    return s;\n}\n\n\nfloat MySmile(vec2 uv,vec2 position,float size){\n    uv-=position;\n    uv/=size;\n    \n\tfloat face=MyCirle_mask(uv,vec2(0.0,0.0),.3,0.01);\n    float eye1=MyCirle_mask(uv,vec2(-0.06,0.1),.05,0.01);\n    float eye2=MyCirle_mask(uv,vec2(0.06,0.1),.05,0.01);\n    \n    float mouse1=MyCirle_mask(uv,vec2(0.0,0.1),.24,0.01);\n    float mouse2=MyCirle_mask(uv,vec2(0.0,-0.05),.2,0.01);\n    float mouse=mouse2-mouse1;\n    mouse=minZero(mouse);\n    return face-eye1-eye2-mouse;\n}\n\nfloat Band(float UV,float start,float end,float blur){\n\tfloat step1=smoothstep(start-blur,start+blur,UV);\n    float step2=smoothstep(end-blur,end+blur,UV);\n    return step1-step2;\n}\n\nfloat Rect(vec2 uv,float left,float right,float botton,float top,float blur){\n    uv.x*=iResolution.x/iResolution.y;\t//让之前的（1，1）的 x变大到x/y倍；\n \tfloat step1=Band(uv.x,left,right,blur);\n    float step2=Band(uv.y,botton,top,blur);\n    return step1*step2;\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float iGlobalTime=iTime;\n    vec2 uv = fragCoord/iResolution.xy; //0到1\n   \tuv.x-=0.5;\n    uv.y-=0.5;\n    \n    //move and smile\n    float size=sin(iTime);\n    if(size<0.){\n        size=-size;\n    }\n    float Color=MySmile(uv*size,vec2(0.,0.),0.7);\n    \n    \n    //Move\n    //float m=-(uv.x+0.3)*(uv.x-0.3);\n    //m*=13.0*m;\n    float m=sin(uv.x*20.+iTime*2.)/8.;\n   \tfloat x=uv.x;\n    float y=uv.y-m;\n    y=y*4.0/(12.0*x+6.);\n    \n    //blur\n    float blur=(9.0*x+3.)*0.01;\n    float RectMask=Rect(vec2(x,y),-1.,1.,-0.1,0.1,blur);\n    \n   \t//add smailface\n    vec3 AddColor=RectMask*vec3(1.)+Color*vec3(0.8,0.8,0.0);\n    \n    fragColor = vec4(vec3(AddColor),1.0);\n}","name":"Image","description":"","type":"image"}]}