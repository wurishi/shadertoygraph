{"ver":"0.1","info":{"id":"M32Szc","date":"1710905074","viewed":95,"name":"basic animation swords","username":"jorge2017a2","description":"basic  animation swords","likes":15,"published":1,"flags":0,"usePreview":0,"tags":["2d","basic","animation","swords"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//por jorge2017a2\n//basic animation swords\n//---19-marzo-2024\n//referencia\n//https://iquilezles.org/articles/distfunctions2d\n///\n#define antialiasing(n) n/min(iResolution.y,iResolution.x)\n#define S(d,b) smoothstep(antialiasing(1.5),0. , d - (b) )\n#define S2(d,b) smoothstep(antialiasing(0.5),0. , d - (b) )\n\n#define PI     3.14159265\n#define TWO_PI 6.28318530\n\nstruct TLinea\n{  vec2 A;\n   vec2 B;\n};\n\nTLinea arr[13];\n\n\nvec2 pt1_1[26]=vec2[](\nvec2(0.486,0.658),vec2(0.488,0.633),\nvec2(0.488,0.633),vec2(0.431,0.613),\nvec2(0.431,0.613),vec2(0.484,0.557),\nvec2(0.484,0.557),vec2(0.473,0.748),\nvec2(0.488,0.633),vec2(0.543,0.583),\nvec2(0.543,0.583),vec2(0.488,0.541),\nvec2(0.488,0.633),vec2(0.486,0.476),\nvec2(0.486,0.476),vec2(0.527,0.403),\nvec2(0.527,0.403),vec2(0.534,0.314),\nvec2(0.534,0.314),vec2(0.553,0.314),\nvec2(0.486,0.476),vec2(0.473,0.403),\nvec2(0.473,0.403),vec2(0.433,0.325),\nvec2(0.433,0.325),vec2(0.451,0.314)\n);\n\nvec2 pt1_2[26]=vec2[](\nvec2(0.486,0.658),vec2(0.488,0.633),\nvec2(0.488,0.633),vec2(0.444,0.58),\nvec2(0.444,0.58),vec2(0.495,0.58),\nvec2(0.501,0.563),vec2(0.436,0.711),\nvec2(0.488,0.633),vec2(0.545,0.622),\nvec2(0.545,0.622),vec2(0.501,0.563),\nvec2(0.488,0.633),vec2(0.486,0.476),\nvec2(0.486,0.476),vec2(0.532,0.42),\nvec2(0.532,0.42),vec2(0.525,0.336),\nvec2(0.525,0.336),vec2(0.538,0.325),\nvec2(0.486,0.476),vec2(0.473,0.403),\nvec2(0.473,0.403),vec2(0.433,0.325),\nvec2(0.433,0.325),vec2(0.451,0.314)\n);\n\nvec2 pt1_3[26]=vec2[](\nvec2(0.486,0.658),vec2(0.488,0.633),\nvec2(0.488,0.633),vec2(0.527,0.591),\nvec2(0.527,0.591),vec2(0.591,0.574),\nvec2(0.591,0.574),vec2(0.671,0.675),\nvec2(0.488,0.633),vec2(0.545,0.622),\nvec2(0.545,0.622),vec2(0.588,0.563),\nvec2(0.488,0.633),vec2(0.486,0.476),\nvec2(0.486,0.476),vec2(0.521,0.398),\nvec2(0.521,0.398),vec2(0.514,0.311),\nvec2(0.514,0.311),vec2(0.527,0.305),\nvec2(0.486,0.476),vec2(0.473,0.403),\nvec2(0.473,0.403),vec2(0.433,0.325),\nvec2(0.433,0.325),vec2(0.451,0.314)\n);\n\nvec2 pt1_4[26]=vec2[](\nvec2(0.486,0.658),vec2(0.488,0.633),\nvec2(0.488,0.633),vec2(0.525,0.571),\nvec2(0.525,0.571),vec2(0.573,0.51),\nvec2(0.573,0.51),vec2(0.689,0.521),\nvec2(0.488,0.633),vec2(0.536,0.566),\nvec2(0.536,0.566),vec2(0.584,0.515),\nvec2(0.488,0.633),vec2(0.486,0.476),\nvec2(0.486,0.476),vec2(0.521,0.398),\nvec2(0.521,0.398),vec2(0.514,0.311),\nvec2(0.514,0.311),vec2(0.527,0.305),\nvec2(0.486,0.476),vec2(0.473,0.403),\nvec2(0.473,0.403),vec2(0.433,0.325),\nvec2(0.433,0.325),vec2(0.451,0.314)\n);\n\nvec2 pt1_5[26]=vec2[](\nvec2(0.486,0.658),vec2(0.488,0.633),\nvec2(0.488,0.633),vec2(0.525,0.571),\nvec2(0.525,0.571),vec2(0.59,0.594),\nvec2(0.59,0.594),vec2(0.634,0.734),\nvec2(0.488,0.633),vec2(0.536,0.566),\nvec2(0.536,0.566),vec2(0.588,0.583),\nvec2(0.488,0.633),vec2(0.486,0.476),\nvec2(0.486,0.476),vec2(0.521,0.398),\nvec2(0.521,0.398),vec2(0.514,0.311),\nvec2(0.514,0.311),vec2(0.527,0.305),\nvec2(0.486,0.476),vec2(0.473,0.403),\nvec2(0.473,0.403),vec2(0.433,0.325),\nvec2(0.433,0.325),vec2(0.451,0.314)\n);\n\n\n\n\nvec3 DrawFigSolo(vec3 pColObj, vec3 colOut, float distObj ) \n{  colOut = mix(colOut,pColObj ,S( distObj,0.0)); return colOut; }\n\nvec3 D2(vec3 pColObj, vec3 colOut, float distObj ) \n{  colOut = mix(colOut,pColObj ,S2( distObj,0.0)); return colOut; }\n\n\nfloat sdCircle( vec2 p, float r )\n{ return length(p) - r;}\n\nfloat sdSegment( in vec2 p, in vec2 a, in vec2 b )\n{  vec2 pa = p-a, ba = b-a;\n    float h = clamp( dot(pa,ba)/dot(ba,ba), 0.0, 1.0 );\n    return length( pa - ba*h );\n}\n\nvec3 hacerCuerpo(vec2 p, vec3 colout,vec3 colin,  int poc, float rc)\n{\n    vec2 a, b;\n    int k,op;\n    k=0;\n    op=int(mod((iTime+float(poc))*4.0,5.0));\n    \n    for(int i=0;i<26;i++)\n    {\n        \n        if(op==0)\n        {  a=pt1_1[i];arr[k].A=a;\n           b=pt1_1[i+1];arr[k].B=b;\n            i++;k++;\n        }\n        \n        \n        if(op==1)\n        {  a=pt1_2[i]; arr[k].A=a;\n           b=pt1_2[i+1];  arr[k].B=b;\n            i++; k++;\n        }\n        \n        if(op==2)\n        {  a=pt1_3[i]; arr[k].A=a;\n           b=pt1_3[i+1];  arr[k].B=b;\n            i++; k++;\n        }\n        \n        if(op==3)\n        {  a=pt1_4[i]; arr[k].A=a;\n           b=pt1_4[i+1];  arr[k].B=b;\n            i++; k++;\n        }\n        \n        \n        if(op==4)\n        {  a=pt1_5[i]; arr[k].A=a;\n           b=pt1_5[i+1];  arr[k].B=b;\n            i++; k++;\n        }\n        \n    }\n    \n    float dfin,d1,d2;\n    dfin=9999.9;\n    bool blncol;\n    \n    blncol=false;\n    for(int i=0;i<13;i++)\n    {\n        a=arr[i].A;\n        b=arr[i].B;\n        d1=sdSegment(p, a,b );\n        dfin=min(dfin,d1);\n        if(i==3)\n          colout=D2(vec3(1.0), colout,abs(d1)-0.01);\n        else\n        colout=D2(colin, colout,abs(d1)-0.01);\n    }\n\n    d2= sdCircle( p-arr[0].A-vec2(0.0,0.05), rc );\n   colout=D2( colin, colout,abs(d2)-0.01);\n   \n   \n   return colout;\n    \n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{   vec2 uv = -1.0 + 2.0 * fragCoord.xy/iResolution.xy;\n\tuv.x *= iResolution.x/iResolution.y;\n    uv-=vec2(-0.45,-0.5);\n    float esc=1.0;\n    uv*=esc;\n    vec2 uv0=uv;\n    \n    vec3 col=vec3(0.2,0.7,0.2); \n    col=mix(col, vec3(0.0,0.0,1.0), uv.y-0.15);\n    \n    \n    float t=iTime;\n    col= hacerCuerpo(uv-vec2(-1.0,0.0),col,vec3(0.0),0,0.05);\n    col= hacerCuerpo(vec2(0.2-uv.x+0.6*sin(t), uv.y)-vec2(-1.0,0.0),col,vec3(1.0,0.0,0.0),0,0.035);\n    \n    col=pow(col,  vec3(0.554545));\n    fragColor = vec4(col,1.0);\n\n}","name":"Image","description":"","type":"image"}]}