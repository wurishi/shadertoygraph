{"ver":"0.1","info":{"id":"WtsSW8","date":"1730477827","viewed":89,"name":"Volcanic Activity","username":"OctopusX","description":"    ","likes":8,"published":1,"flags":0,"usePreview":0,"tags":["noise","fbm","fire","lava"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//forked from: https://www.shadertoy.com/view/XdGBWV\n\n#define UVScale 3.5\n#define AnimSpeed 1.2\n#define FBM_Octaves 6\n\n//0.45 to 0.6 works good\n#define FBM_Amp 0.5\n\n\n\nvec2 hash22(vec2 p)\n{\n\tvec3 p3 = fract(vec3(p.xyx) * vec3(.1031, .1030, .0973));\n    p3 += dot(p3, p3.yzx+19.19);\n    return fract((p3.xx+p3.yz)*p3.zy);\n}\n\nvec2 noise(in vec2 p)\n{\n    vec2 ipos = floor(p);\n    vec2 fpos = fract(p);\n    \n    vec2 a = hash22(ipos + vec2(0, 0));\n    vec2 b = hash22(ipos + vec2(1, 0));\n    vec2 c = hash22(ipos + vec2(0, 1));\n    vec2 d = hash22(ipos + vec2(1, 1));\n    \n    vec2 t = smoothstep(0.0, 1.0, fpos);\n    return mix(mix(a, b, t.x), mix(c, d, t.x), t.y);\n}\n\nvec2 fbm(in vec2 p)\n{\n    p += 1.13;\n    \n    vec2 res = vec2(0.0);\n    float amp = 0.5;\n    float freq = 2.2;\n    for (int i = 0; i < 6; ++i)\n    {\n        vec2 n = noise(freq*p);\n        res += amp * ((1.0-abs(n *2.0 -1.0)));\n        amp *= FBM_Amp;\n        freq *= 2.03;\n    }\n    return res;\n}\n\nvec3 palette(float t)\n{\n    t = pow(t,0.45) -0.2;\n    vec3 a = vec3(0.1, 0.1, 0.1);\n    vec3 b = vec3(0.3, 0.2, 0.1);\n    vec3 c = vec3(1, 0, 0);\n    vec3 d = vec3(1, 0.7, 0);\n    \n    if (t < 0.333) {\n        return mix(a, b, 3.0*t);\n    }\n    else if (t < 0.666) {\t\n        return mix(b, c, 3.0*(t - 0.3333));\n    }\n    else {\n        return mix(c, d, 3.0*(t - 0.6666));\n    }\n}\n\nvoid mainImage(out vec4 col, in vec2 uv)\n{\n    float aspect = iResolution.x / iResolution.y;\n    uv /= iResolution.xy / UVScale; uv.x *= aspect;\n    col = vec4(0.0, 0.0, 0.0, 1.0);\n    \n    float time = iTime *AnimSpeed;\n    vec2 x = fbm(uv);\n    x = fbm(uv + x*1.00 + 0.01*time);\n    x = fbm(uv + x*1.00 - 0.03*time);\n    x = smoothstep(-0.2,1.0,x);\n    col.xyz += palette(x.x * abs(x.y *2.2-0.5));\n}","name":"Image","description":"","type":"image"}]}