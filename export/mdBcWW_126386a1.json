{"ver":"0.1","info":{"id":"mdBcWW","date":"1687704966","viewed":62,"name":"smooth net","username":"Xecutor","description":"Combination of obvious things that looks somewhat interesting.","likes":6,"published":1,"flags":0,"usePreview":0,"tags":["lines","rotation"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float dtl(vec2 xy, vec2 p1, vec2 p2) {\n    vec2 ab = p2-p1;\n    if(abs(ab.x)>1e-5) {\n        float a = ab.y/ab.x;\n        float c=p1.y-p1.x*a;\n        return abs(a*xy.x-xy.y+c)/sqrt(a*a+1.0);\n    } else {\n        return abs(xy.x-p1.x);\n    }\n}\n\nfloat nline(vec2 xy, vec2 p1, vec2 p2) {\n    float d= dtl(xy, p1, p2);\n    d = pow(d,1.5)*10000.0;\n    d = 1.0/(d+1.0);\n    return d/3.0;\n}\n\nvec3 stclr(vec3 clr1, vec3 clr2, float v) {\n    return vec3(smoothstep(clr1.x, clr2.x, v),smoothstep(clr1.y, clr2.y, v),smoothstep(clr1.z, clr2.z, v));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    //vec2 uv = (fragCoord * 2.0 - iResolution.xy) / iResolution.y;\n    vec2 uv = fragCoord / iResolution.xy;//(fragCoord.x/iResolution.x, fragCoord.y/iResolution.y);\n    const float n = 31.0;\n    vec3 clr = vec3(0.0);\n    vec3 plt[4];\n    plt[0]=vec3(1.0,0.5,0.0);\n    plt[1]=vec3(0.5,1.0,0.5);\n    plt[2]=vec3(0.25,0.75,1.0);\n    plt[3]=vec3(0.3,0.7,0.4);\n    \n    for(float j=0.0;j<n;++j) {\n        float v = smoothstep(0.0,1.0,(mod(j+iTime,n))/(n-1.0));\n        vec2 pts[4];\n        pts[0] = vec2(0.0, v);\n        pts[1] = vec2(v, 1.0);\n        pts[2] = vec2(1.0, 1.0-v);\n        pts[3] = vec2(1.0-v, 0.0);\n        for(int i=0;i<4;++i) {\n            clr += nline(uv, pts[i],pts[(i+1)%4]) * stclr(plt[i],plt[(i+1)%4],mod(j,n)/(n-1.0));\n        }\n    }\n    \n    vec2 c = vec2(0.5,0.5);\n    float d = length(uv-c);\n    float r = sin(atan(uv.x-c.x,uv.y-c.y)*30.0-iTime*6.0);\n    \n    float s = abs(r)*(0.4-clamp(d,0.0,0.4))*4.0;\n    clr += vec3(r,r*r, (abs(sin(uv.x))+abs(cos(uv.y)))/2.0)*s;\n    \n    \n    //cf *= 3.0;\n    //vec3 col=vec3(clamp(cf-2.0,0.0,1.0),clamp(cf-1.0,0.0,1.0), clamp(cf,0.0,1.0));\n\n    fragColor = vec4(clr,1.0);\n}","name":"Image","description":"","type":"image"}]}