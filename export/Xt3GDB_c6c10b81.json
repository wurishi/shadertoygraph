{"ver":"0.1","info":{"id":"Xt3GDB","date":"1471137896","viewed":134,"name":"Nian Adventures with Senpai","username":"acidbubble","description":"First Shader","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["2dclickable"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"Xsf3Rn","filepath":"/media/a/cbcbb5a6cfb55c36f8f021fbb0e3f69ac96339a39fa85cd96f2017a2192821b5.png","previewfilepath":"/media/ap/cbcbb5a6cfb55c36f8f021fbb0e3f69ac96339a39fa85cd96f2017a2192821b5.png","type":"texture","channel":1,"sampler":{"filter":"nearest","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XdfGRr","filepath":"/media/a/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm","previewfilepath":"/media/ap/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\nfloat animationTime = 0.8;\n\nvec4 nian(in vec2 xy )\n{    \n    int i = 0;\n    \n    if(iMouse.a > 0.0)\n    {\n        animationTime = 0.2;\n    }\n    \n    if(iChannelTime[0] >= 34.5 && iChannelTime[0] < 45.5)\n    {\n        animationTime = 2.00;\n    }\n    else if(iChannelTime[0] >= 45.5 && iChannelTime[0] < 54.7)\n    {\n        animationTime = 4.24;\n    }\n    \n    else if(iChannelTime[0] >= 12.5 && iChannelTime[0] < 15.0)\n    {\n        animationTime = 0.2;\n    }\n    else if(iChannelTime[0] >= 132.8)\n    {\n        animationTime = 0.18;\n    }\n    \n\n    float res = mod(iTime, animationTime);\n    \n    if( res > (animationTime * 5.0)  / 6.0 )\n    {\n        i = 5;\n    }\n    else if( res > (animationTime * 4.0)  / 6.0)\n    {\n        i = 4;\n    }\n    else if( res > (animationTime * 3.0)  / 6.0)\n    {\n        i = 3;\n    }\n    else if( res > (animationTime * 2.0)  / 6.0)\n    {\n        i = 2;\n    }\n    else if( res > (animationTime / 6.0))\n    {\n        i = 1;\n    }\n\n\n   \n    \n    vec4 texColor = texture(iChannel1, xy * vec2(0.173,1) - vec2(0.0082,0) + vec2(0.1560 * float(i) ,0));\n    \n    if(iChannelTime[0] > 0.0 && iChannelTime[0] < 4.4)\n    {\n        return vec4(1,1,1,1);\n    }\n    else if(iChannelTime[0] >= 4.4 && iChannelTime[0] < 40.0)\n    {\n        vec4 solidRed = vec4((xy.y - 1.0) * -1.0,xy.x,xy.y,1.0);\n        return (texColor * 1.4 + solidRed) / 2.4;\n        \n    }\n    else if(iChannelTime[0] >= 40.0 && iChannelTime[0] < 77.5)\n    {\n        vec4 solidRed = vec4((xy.y - 1.0) * -1.0,xy.x,xy.y,1.0);\n        return (texColor * 1.4 + solidRed) / 2.4;\n\n    }\n    else if(iChannelTime[0] >= 77.5 && iChannelTime[0] < 78.5)\n    {\n        vec4 solidRed = vec4((xy.y - 1.0) * -1.0,xy.x,xy.y,1.0);\n        return (texColor * 0.8 + solidRed) / 2.2;\n\n    }\n    else if(iChannelTime[0] >= 78.5 && iChannelTime[0] < 111.2)\n    {\n        vec4 solidRed = vec4((xy.y - 1.0) * -1.0,xy.x,xy.y,1.0); \n        return (texColor * 1.4 + solidRed) / 2.4;\n\n    }\n    else if(iChannelTime[0] >= 111.2 && iChannelTime[0] <= 120.2)\n    {\n        texColor = texture(iChannel1, ((xy - 1.0) * -1.0  * vec2(0.173,1) - vec2(0.0082,0.1) + vec2(0.1560 ,0)));\n    }\n    else if(iChannelTime[0] >= 132.8)\n    {\n        texColor = texture(iChannel1, ((xy - vec2(1.0,0)) * vec2(-1.0,1)  * vec2(0.173,1) - vec2(0.0082,0.1) + vec2(0.1560 * float(i) ,0)));\n        vec4 solidRed = vec4((xy.y - 1.0) * -1.0,xy.x,xy.y,1.0); \n        return (texColor * 1.4 + solidRed) / 2.4;\n    }\n    \n    float average = (texColor.r + texColor.b + texColor.g) / 3.0;\n    \n    vec4 blackWhite = vec4(average,average,average,1);\n    \n    if(iChannelTime[0] >= 116.2 && iChannelTime[0] <= 120.2)\n    {\n        return blackWhite;\n    }\n    \n    return blackWhite - blackWhite * abs(cos(iTime * 0.5)) + texColor * abs(cos(iTime * 0.5)) ;\n   \n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 xy = fragCoord.xy; \n    xy.x = xy.x / iResolution.x;\n    xy.y = xy.y / iResolution.y;\n    \n    \n    vec4 video = texture(iChannel0, xy);\n    \n\n    if( video.r < 0.4 && video.g > 0.46 && video.b < 0.4)\n    {\n        fragColor = nian(xy);\n    }\n    else\n    {\n        fragColor = video;\n    }\n    \n}\n\n","name":"Image","description":"","type":"image"}]}