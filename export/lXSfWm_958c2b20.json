{"ver":"0.1","info":{"id":"lXSfWm","date":"1729533952","viewed":37,"name":"TheGuy888's Newton fractal 1","username":"TheGuy888","description":"click and drag to zoom in\n\ntook some trial and error","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["fractal","mandelbrot"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const int power = 3;\nvec2 ROOTS[power]=vec2[power](vec2(1,0),vec2(-0.5,sqrt(3.)/2.),vec2(-0.5,sqrt(3.)/-2.));\nfloat pi = 3.14159;\nvec2 cPow(vec2 z,float p){\n    float t= (atan(z.y/z.x)+pi*float(bool(z.x<0.)))*p;\n    float R= length(z);\n    return pow(R,p)*vec2(cos(t),sin(t));\n}\nvec2 cDiv(vec2 z1,vec2 z2){\n    return vec2((z1.x*z2.x)+(z1.y*z2.y),(z2.x*z1.y)-(z1.x*z2.y))/(pow(z2.x,2.)+pow(z2.y,2.));\n}\nvec2 nearestRoot(vec2 z){\n    int nearest=0;\n    for(int i=1;i<power;i++){if(distance(ROOTS[nearest],z)>distance(ROOTS[i],z)){nearest=i;};}\n    return vec2(distance(ROOTS[nearest],z),nearest);}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float ITERATIONS = 300.0;\n    float ZOOM;\n    vec2 COORDS;\n    if (iMouse.z>0.0){\n    ZOOM =10.0;\n    COORDS=4.*((iMouse.xy)-(iResolution.xy/2.))/(iResolution.x);\n   }else{\n    ZOOM =1.;\n    COORDS = vec2(0.0,0.0);\n   }\n    COORDS=COORDS-(COORDS/ZOOM);\n    \n    vec2 uv = COORDS+((4.0/ZOOM)*(fragCoord/iResolution.x))-iResolution.xy/(ZOOM*.5*iResolution.x);\n    \n    vec2 z =uv;\n    float i=0.0;\n    \n    for (i=0.0;i<ITERATIONS && nearestRoot(z)[0]>0.01;++i){\n    z = z-cDiv(cPow(z,float(power))-vec2(1.,0.),float(power)*cPow(z,float(power-1)));\n    }\n    \n    float time = (iTime*pi/10.)+19.25/5.;\n    i=i/4.+nearestRoot(z)[1];\n    vec3 col = abs(vec3(sin(i+time),sin(i+(time/3.0)),sin(i+(time/2.0))));\n    //col=vec3(nearestRoot(z)[1])/3.;\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}