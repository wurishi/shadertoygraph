{"ver":"0.1","info":{"id":"fltXz4","date":"1638802231","viewed":211,"name":"SnowFlake rnd","username":"Emil","description":"simple snowflake","likes":15,"published":1,"flags":0,"usePreview":0,"tags":["2d","snowflake","snow","flake"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sf3Rn","filepath":"/media/a/0a40562379b63dfb89227e6d172f39fdce9022cba76623f1054a2c83d6c0ba5d.png","previewfilepath":"/media/ap/0a40562379b63dfb89227e6d172f39fdce9022cba76623f1054a2c83d6c0ba5d.png","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float random (vec3 i){\n\treturn fract(sin(dot(i.xyz,vec3(41595.34636,861.15646,268.489)))*968423.156);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord-iResolution.xy*0.5)/iResolution.y;\n    \n    uv.y += iTime*0.4;\n    uv = (uv*4.0);\n    \n    vec2 cells = (uv+23.) - fract(uv);\n    cells *= 0.08;\n    \n    float rnd_x = random(vec3(0.685136, cells)); // iMouse.x*0.01\n    float rnd_y = random(vec3(cells, 3451.5)); // iMouse.y*0.01\n    \n    uv = fract(uv)-0.5;\n    \n    uv *= 1.67;\n    float rnd = (rnd_x+rnd_y);\n    uv += vec2(sin(iTime+rnd*40.0), sin(iTime+rnd*70.0))*0.25;\n    uv += vec2(sin(iTime*1.74+rnd*60.0), sin(iTime*2.74+rnd*60.0))*0.15;\n    \n    float luv = length(uv)*2.0;\n\n    float PI = 3.1415926537;\n    float radial = atan(uv.x, uv.y)/PI;\n    radial = atan(uv.x, uv.y)/PI + iTime * (rnd - 1.0) * 0.8;\n    radial = fract(radial*3.0);\n    radial = abs(radial-0.5);\n    float n_radial = radial*luv; // normalized radial\n    \n    float flake = texture(iChannel0, vec2(rnd_x, 0.0) + 0.26*vec2(n_radial, luv)).r;\n    flake = mix(flake, texture(iChannel0, vec2(0.0, rnd_y) + 0.4*vec2(n_radial*0.7, luv)).r, 0.5);\n    float edge = smoothstep(0.4, 1.0, luv);\n    flake *= 1.0-min(radial*0.5 + edge, 1.0);\n    flake = smoothstep(0.4, 0.7, flake);\n    flake += smoothstep(0.02, 0.0, n_radial) * (0.6-edge);\n    float result = min(radial*1.0, 1.0) + luv;\n    result = smoothstep(0.0, 0.3, flake);\n    //result = cells;\n    \n    fragColor = vec4(result, result, result,1.0);\n    \n}","name":"Image","description":"","type":"image"}]}