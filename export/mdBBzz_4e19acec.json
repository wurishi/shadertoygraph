{"ver":"0.1","info":{"id":"mdBBzz","date":"1689344668","viewed":104,"name":"Fresnel lighting","username":"Masker","description":"Simple lighting and stars :)","likes":6,"published":1,"flags":0,"usePreview":0,"tags":["lighting","stars","fresnel"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float time;\nvec3 resolution;\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ){\n    time = iTime;\n    resolution = iResolution;\n\tvec2 position =  ((2.0*gl_FragCoord.xy-resolution.xy)/ resolution.y)*1.05;\n\tfloat ratio=resolution.y/resolution.x;\n\t\n\tvec3 color = vec3(0.0,0.4,0.9);\n\tvec3 view = vec3(0.0,0.0,1.0);\n\tvec3 LightColor=vec3(0.0,0.5,0.0);\n\tvec3 SpecularColor=vec3(0.4,0.4,0.9);\n\t\n\n\tfloat len=length(position);\n\t\n\tfloat shape=1.0-smoothstep(1.0,1.0+0.175,len);\n\t\n\n\tfloat z = sqrt(max(0.0,1.0 - dot(position, position)));\n\t\n\tvec3 Normal=vec3(position,z)*shape; \n\t\n\tvec3 circleLight=mix(vec3(0.0),max(vec3(0.0),vec3(1.0) - dot(view, Normal)),shape);\n\tcircleLight=pow(circleLight,vec3(4.0))*SpecularColor;\n\tvec3 LightDir=normalize(vec3(sin(time*0.5)*0.9,0.0,cos(time*0.5)*0.9));\n\t\n\tfloat light=max(0.0,dot(Normal,LightDir));\n\tlight=light*2.0;\n\tcolor=(color+circleLight)*light; \n\t\n\t////STARS\n\t\n\tvec2 pos=gl_FragCoord.xy;\n\tpos.x=pos.x*(1.0+sin(pos.y)*10.0);\n\tpos.y=pos.y*(1.0+cos(pos.x)*10.0);\n\tvec3 back=fract(vec3(pos*5.0,pos.x*5.0));\n\tback=step(back,vec3(0.05))*vec3(1.0,1.0,1.0);\n\tback=back*(back.x+back.y-1.0);\n\tback=back*sin(time*0.5*(position.x+position.y)/len);\n\t\n\tback=back*vec3((1.0+sin(time*position.x))*0.5,(1.0+sin(time*position.y))*0.5,(1.0+sin(time*position.x*0.25))*0.5);\n\tback=back*(1.0-shape);\n\t\n\tcolor=color+back;\n\tfragColor = vec4(color, 1.0 );\n\n}","name":"Image","description":"","type":"image"}]}