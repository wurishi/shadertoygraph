{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"const int patternlength = 5;\nfloat pattern[patternlength];\n\n// change these coordinates to look around the fractal\nconst vec2 topleft = vec2(2.0, 4.0);\nconst vec2 bottomright = vec2(4.0, 2.0);\n\n// colors go above and below this value\nconst vec3 midgray = vec3(0.5, 0.5, 0.5);\n\n// crank this up for a slightly smoother render\nconst int iterations = 300;\n\n// let the value settle a bit\nconst int skip = 50;\n\n\n// for color\nconst float zscale = 1.0 / float(iterations - skip - 1);\nconst float gamma = 0.7;\n\nconst float x0 = 0.05;\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\n    \n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    uv *= (bottomright - topleft);\n    uv += topleft;\n    \n    // try changing the pattern to make different fractals\n    pattern[0] = uv[0];\n\tpattern[1] = uv[0];\n\tpattern[2] = uv[1];\n    pattern[3] = uv[0];\n    pattern[4] = uv[1];\n\t\n\n\tfloat total = 0.0;\n    float x = x0;\n    \n    // the first iterations are unstable so we ignore them\n    for (int i = 0; i < skip; i++) {\n        float k;\n        \n        k = pattern[i - patternlength * (i / patternlength)];\n        \n        x = k * x * (1.0 - x);\n    }\n\t\n\n    for (int i = skip; i < iterations; i++) {\n        float product = 1.0;\n        float k;\n        \n        // cheaty integer modulus (thanks iq)\n        k = pattern[i - patternlength * (i / patternlength)];\n        \n        float t = k * x;\n        x = t * (1.0 - x);\n        product *= k - (2.0 * t);\n        total += log(abs(product));\n        \n    \n    }\n    \n    total *= zscale;\n    \n    vec3 color = midgray * (pow(abs(total), gamma));\n    if (total < 0.0)\n    {\n        color *= -1.0;\n    }\n\tcolor += midgray;\n\t\n\tfragColor = vec4(color, 1.0);\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"MdSXWc","date":"1416515420","viewed":362,"name":"Lyapunov fractal (static)","username":"sep332","description":"Another fractal to play with :)\n\nUpdates: Fixed color; got rid of batches since it seems to do nothing for performance.","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["fractal","image","static","lyapunov"],"hasliked":0,"parentid":"","parentname":""}}