{"ver":"0.1","info":{"id":"4llSW4","date":"1436849243","viewed":190,"name":"Have a Heart","username":"rubixcom","description":"Simple heart shape","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["geometry","analytic"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[],"code":"float map(in vec2 uv)\n{\n    uv *= length(uv) * 120. * (1.0 + .4 * fract(iTime));\n    float t = atan(uv.x,uv.y*.9);\n    vec2 p;\n    p.x = 12. * sin(t);\n    p.y = dot(cos(t*vec4(1,2,3,4)),-vec4(-10,5,2,1));\n    return .2/(length(p)-length(uv));\n }\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 R = iResolution.xy;\n    vec2 uv = (fragCoord-.5*R)/ R.y;\n\n\tvec2 pixelsize = 1.0 / iResolution.xy;\n    \n    vec3 o = vec3(uv.x,map(uv),uv.y);\n    \n    vec3 nx = o;\n    nx.x += pixelsize.x;\n    nx.y = map(nx.xz);\n    nx.x = o.x + 1.0;\n    nx = normalize(nx - o);\n\n    vec3 nz = o;\n    nz.z += pixelsize.y;\n    nz.y = map(nz.xz);\n    nz.z = o.z + 1.0;\n    nz = normalize(nz - o);\n\n    vec3 normal = cross(nz,nx);\n\n    vec3 lightLoc = vec3(\n        iMouse.x/ iResolution.x - .5,\n        /*1. + .5*sin(iTime),*/\n        .5,\n        iMouse.y/ iResolution.y - .5);\n    \n    vec3 lightVec = normalize(lightLoc - o);\n\n    fragColor = \n        vec4(o.y > 0. ? 0.9 : 0., o.y < 0. ? 0.4 : 0. , o.y < 0. ? 0.7 : 0.,0.0) * \n        dot(normal,lightVec) / length(lightLoc - o);\n}\n","name":"","description":"","type":"image"}]}