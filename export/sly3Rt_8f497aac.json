{"ver":"0.1","info":{"id":"sly3Rt","date":"1638172300","viewed":237,"name":"[zznewclear13] Gradient Z","username":"zznewclear13","description":"A gradient Z.\n\nColor palette is stolen from iq's [url=https://www.shadertoy.com/view/ll2GD3]Palettes[/url].","likes":15,"published":1,"flags":0,"usePreview":0,"tags":["gradient"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//I stole the color palette from iq's Palettes (https://www.shadertoy.com/view/ll2GD3).\n\n#define INV_PI 0.31830988618\n\nvec3 pal( in float t, in vec3 a, in vec3 b, in vec3 c, in vec3 d )\n{\n    return a + b*cos( 6.28318*(c*t+d) );\n}\n\nfloat GetAngle(vec2 center, vec2 start, vec2 end)\n{\n    vec2 v0 = start - center;\n    vec2 v1 = end - center;\n    \n    float cosVal = dot(v0, v1);\n    float sinVal = v0.x * v1.y - v0.y * v1.x;\n    \n    return INV_PI * atan(sinVal, cosVal) * 0.5 + 0.5;\n}\n\nfloat GetAngleFlip(vec2 center, vec2 start, vec2 end)\n{\n    vec2 v0 = -(start - center);\n    vec2 v1 = end - center;\n    \n    float cosVal = dot(v0, v1);\n    float sinVal = v0.x * v1.y - v0.y * v1.x;\n    \n    return 0.5 - INV_PI * atan(sinVal, cosVal) * 0.5;\n}\n\n// b > a\nfloat EasyStep(float a, float b, float x)\n{\n    float value = clamp(x - a, 0.0, b - a);\n    return value / (b - a);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float size = iResolution.y * 0.5;\n    vec2 p2 = vec2(iResolution.x * 0.5 - size * 0.5, size * 0.5);\n    vec2 p1 = p2 + size;\n    vec2 p0 = vec2(p2.x, p1.y);\n    vec2 p3 = vec2(p1.x, p2.y);\n    \n    float gradientOne = GetAngleFlip(p0, p1, fragCoord);\n    float gradientTwo = 1.0 - GetAngleFlip(p3, p2, fragCoord);\n    \n    //Not as good as two gradients above.\n    //float gradientOne = GetAngle(fragCoord, p0, p1);\n    //float gradientTwo = GetAngle(fragCoord, p2, p3);\n    \n    float lerpOne = GetAngleFlip(p2, p1, fragCoord);\n    float angleOne = GetAngleFlip(p2, p1, p3);\n    lerpOne = EasyStep(angleOne, 0.5, lerpOne);\n    \n    float lerpTwo = GetAngleFlip(p1, p2, fragCoord);\n    float angleTwo = GetAngleFlip(p1, p2, p0);\n    lerpTwo = 1.0 - EasyStep(angleTwo, 0.5, lerpTwo);\n    \n    float lerpValue = mix(lerpOne, lerpTwo, step(0.5, fragCoord.y / iResolution.y));  \n    float gradientValue = 1.0 - mix(gradientTwo, gradientOne, lerpValue);\n    gradientValue = gradientValue * 0.5 - 0.05 * iTime;\n    \n    vec3 col = pal(gradientValue, vec3(0.5,0.5,0.5),vec3(0.5,0.5,0.5),vec3(1.0,1.0,1.0),vec3(0.0,0.33,0.67) );\n    \n    col = pow(col, vec3(0.4545));\n    fragColor = vec4(col,1.0); \n}","name":"Image","description":"","type":"image"}]}