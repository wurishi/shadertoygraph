{"ver":"0.1","info":{"id":"3llBDS","date":"1597615781","viewed":754,"name":"glitch3.frag","username":"thefox231","description":"the threequel","likes":6,"published":3,"flags":0,"usePreview":1,"tags":["glitch"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define bmp 170.0\n\nvec2 uvp(vec2 uv) {\n\treturn clamp(uv, 0.0, 1.0);\n}\n\nfloat outCirc(float t) {\n    return sqrt(-t * t + 2.0 * t);\n}\n\nfloat rand(vec2 co) {\n\treturn fract(sin(dot(co.xy,vec2(12.9898,78.233))) * 43758.5453);\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    vec3 col;\n    float amp;\n    \n    if (iMouse.z <= 0.0) {\n        amp = (1.0 - outCirc(fract(iTime/60.0*bmp)));\n    } else {\n        amp = iMouse.x/iResolution.x;\n    }\n    \n    //amp *= 0.5;\n    \n    for (int i = 0; i < 3; i++) {\n    \tvec2 uv = fragCoord / iResolution.xy;\n        uv += vec2(sin(iTime + float(i) + amp), cos(iTime + float(i) + amp)) * amp * 0.2;\n        vec3 texOrig = texture(iChannel0, uvp(uv)).rgb;\n        \n        uv.x += (rand(vec2(uv.y + float(i), iTime)) * 2.0 - 1.0) * amp * 0.8 * (texOrig[i] + 0.2);\n        uv.y += (rand(vec2(uv.x, iTime + float(i))) * 2.0 - 1.0) * amp * 0.1 * (texOrig[i] + 0.2);\n        \n        vec3 tex = texture(iChannel0, uvp(uv)).rgb;\n        \n        //tex += (rand(uv + iTime + float(i)) * 2.0 - 1.0) * amp * 0.1;\n        //tex += (rand(uv + iTime + tex[i] + float(i)) * 2.0 - 1.0) * amp * 0.2;\n        //tex += mix(1.0, rand(uv + tex[i] + float(i) * 253.6 + iTime) * tex.r * 5.0, amp);\n        tex += abs(tex[i] - texOrig[i]);\n        \n        tex *= rand(uv) * amp + 1.0;\n        \n        tex = fract(tex);\n        \n        col[i] = tex[i];\n    }\n    \n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}