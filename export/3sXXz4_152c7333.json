{"ver":"0.1","info":{"id":"3sXXz4","date":"1550671865","viewed":226,"name":"Tan Ball","username":"zyzek","description":"Just a bit of mucking around...","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["tangent"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define C fragCoord\n#define R iResolution\n#define T iTime\n#define PI 3.1415927\n\n#define discrete_mod(period) (mod((length(uv)-xmod), stroke_spacing*period)/(stroke_spacing*period))\n\nconst float scale = 1.0/10.0;\nconst float time_offset = 1200.0;\nconst float stroke_size = 0.15;\nconst float stroke_smooth = 0.2;\nconst float stroke_spacing = 0.06;\nconst float spin_speed = 3.0;\nconst float red_period = 3.0;\nconst float green_period = 3.03;\nconst float blue_period = 5.0; \n\nvec2 xform(vec2 p, float a) {\n    a = sqrt(a);\n    return mat2(tan(a), -tan(a), tan(a), tan(a)) * abs(p);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (C/R.xy - vec2(0.5, 0.5))*vec2(1.0, R.y/R.x)/scale;\n    float xmod = mod(length(uv), stroke_spacing) - stroke_spacing/2.0;\n    uv = xform(uv, (length(uv) - xmod)*(T + time_offset)*PI*spin_speed);\n    vec3 col_base = vec3(discrete_mod(red_period),\n                         discrete_mod(green_period),\n                         discrete_mod(blue_period));\n    float l = length(vec2(xmod, uv.y));\n    vec3 col = col_base*vec3(1.0 - smoothstep(stroke_size, stroke_size + stroke_smooth, l));\n    fragColor = vec4(pow(col, vec3(1.0/2.2)),1.0);\n}","name":"Image","description":"","type":"image"}]}