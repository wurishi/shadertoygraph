{"ver":"0.1","info":{"id":"mdjGDK","date":"1668164362","viewed":219,"name":"derivative of textures 2","username":"FabriceNeyret2","description":"buffA texture is just a  0 / 1 checker.\nImage tab:   zoom & interpolate.\ntop: hardware derivative.    why ??? \nbottom: manual derivative. not continuous either, but at least x/y symmetrical.","likes":3,"published":3,"flags":32,"usePreview":0,"tags":["dfdx","dfdy","precision","interpolation","fwidth"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// variant of https://shadertoy.com/view/ddj3WK\n\n#define T(U) texture(iChannel0,(U)/128.).xxxx\n\nvoid mainImage( out vec4 O, vec2 u )\n{\n    vec2 R = iResolution.xy,  U = u / R; \n // vec2 R = vec2(512), U = ( u-.5 ) / 512.; // avoids float approx. not better.\n    \n    O = T(U); \n    O = U.y > .5\n      ? dFdx( O )                     // top: hardware derivative\n      : O - T( U + vec2(1./R.x,0) );  // bottom: manual derivative\n          // analytical: should be a const vertical gradient B to W or W to B\n   O =  .5 + 50. * O;\n   \n   if ( int(u.y)*2 == int(iResolution.y) ) O = vec4(1,0,0,1); // red separator\n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[{"id":"4dXGR8","channel":0}],"code":"void mainImage( out vec4 O, vec2 u )\n{\n     O.x = mod(u.x+u.y,2.);     //  pure checker\n  // O.x = mod( u.x-.5, 2.);    //  alternate bars\n}","name":"Buffer A","description":"","type":"buffer"}]}