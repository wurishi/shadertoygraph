{"ver":"0.1","info":{"id":"lXyXDG","date":"1720426868","viewed":19,"name":"Sierpinski carpet_ARTS1308","username":"Reversion","description":"This shader is for a course, Fragment Shading Art in ShanghaiTech University as homework 5.","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["ifs"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// The MIT License\n// This shader is for a course, Fragment Shader Art (course code: ARTS1308) in ShanghaiTech University as hw5.\n// Reference: https://www.shadertoy.com/view/Md2GzR\n\n\nfloat length2( in vec2 p ) { return dot(p,p); }\n\nconst vec2 va = vec2( -2./3., 2./3. );\nconst vec2 vb = vec2( 0., 2./3. );\nconst vec2 vc = vec2( 2./3., 2./3. );\nconst vec2 vd = vec2( -2./3., 0. );\nconst vec2 ve = vec2( 0. );\nconst vec2 vf = vec2( 2./3., 0.);\nconst vec2 vg = vec2(-2./3.);\nconst vec2 vh = vec2(0., -2./3.);\nconst vec2 vi = vec2(2./3., -2./3.);\n\n// return distance and address\nvec2 map( vec2 p )\n{\n\tfloat a = 0.0;\n\tvec2 c;\n\tfloat dist, d, t;\n\tfor( int i=0; i<10; i++ )\n\t{\n        d = length2(p-va);                 c = va; dist=d; t=0.0;\n        d = length2(p-vb); if (d < dist) { c = vb; dist=d; t=1.0; }\n        d = length2(p-vc); if (d < dist) { c = vc; dist=d; t=2.0; }\n        d = length2(p-vd); if (d < dist) { c = vd; dist=d; t=3.0; }\n        d = length2(p-vf); if (d < dist) { c = vf; dist=d; t=4.0; }\n        d = length2(p-vg); if (d < dist) { c = vg; dist=d; t=5.0; }\n        d = length2(p-vh); if (d < dist) { c = vh; dist=d; t=6.0; }\n        d = length2(p-vi); if (d < dist) { c = vi; dist=d; t=7.0; }\n        \n        p = 3.0 *(p - c);\n        a = t + a*8.0;\n\t}\n\t\n\treturn vec2( length(p)/pow(3.0, 8.0), a/pow(8.0,10.0) );\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = (2.0*fragCoord.xy - iResolution.xy)/iResolution.y;\n\n\tvec2 r = map( uv );\n\t\n\tvec3 col = 0.5 + 0.5*sin( 3.1416*r.y + vec3(0.0,5.0,5.0) );\n\tcol *= 1.0 - smoothstep( 0.0, 0.02, r.x );\n\t\n\tfragColor = vec4( col, 1.0 );\n}","name":"Image","description":"","type":"image"}]}