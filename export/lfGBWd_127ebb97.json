{"ver":"0.1","renderpass":[{"outputs":[{"channel":0,"id":"4dfGRr"}],"inputs":[],"code":"float groundHeight = -0.1;\n\nvec3 intersectLineWithPlane(vec3 linePoint, vec3 lineDirection, vec3 planePoint, vec3 planeNormal) {\n    // Producto punto entre normal del plano y dirección de la recta\n    float denominator = dot(planeNormal, lineDirection);\n\n    // Si el denominador es 0, la recta es paralela al plano\n    if (abs(denominator) < 1e-6) {\n        return vec3(0.0); // Valor especial para indicar que no hay intersección\n    }\n\n    // Producto punto entre normal del plano y (planePoint - linePoint)\n    float t = dot(planeNormal, planePoint - linePoint) / denominator;\n\n    // Calcula el punto de intersección\n    return linePoint + t * lineDirection;\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (-1.0 + fragCoord / iResolution.xy * 2.0);// * vec2(iResolution.x / iResolution.y, 1.0);\n    \n    vec3 ray = vec3(uv.x, uv.y, 1.0);    \n        \n    vec3 linePoint = vec3(0.0, 0.0, 0.0);\n    vec3 planePoint = vec3(0.0, groundHeight - abs(sin(iTime)), 0.0);\n    //vec3 planePoint = vec3(0.0, groundHeight - 1.0, 0.0);\n    vec3 planeNormal = vec3(0.75, 1.0, -0.5);\n    \n    vec3 inter = intersectLineWithPlane(linePoint, ray, planePoint, planeNormal);\n    \n    float dist = inter.z;\n    \n    if(dist < 0.0) \n    {\n        dist = -dist;\n        fragColor = vec4(0.1, 0.3, 1, 1.0);    \n    }\n    else \n    {        \n        inter.z = inter.z + iTime;\n        inter.x = inter.x + sin(iTime);\n        \n        float iX = mod(inter.x, 1.0);\n        float iZ = mod(inter.z, 1.0);\n        \n        float r = ((iX <= 0.5 && iZ <= 0.5) || (iX > 0.5 && iZ > 0.5)) ? 1.0 : 0.0;\n        float b = 1.0 - r;\n        \n        fragColor = vec4(1.0-r / dist, max(0.5, 1.0 - 0.5 / dist), 1.0-b / dist, 1.0);    \n    }\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"lfGBWd","date":"1734568635","viewed":42,"name":"Kriptok - Bouncing","username":"adrikriptok","description":"Learning the basics.","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["test"],"hasliked":0,"parentid":"","parentname":""}}