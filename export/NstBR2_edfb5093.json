{"ver":"0.1","info":{"id":"NstBR2","date":"1656807836","viewed":144,"name":"simple song","username":"forprix","description":"just notes","likes":3,"published":1,"flags":8,"usePreview":0,"tags":["music"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n\n    // Time varying pixel color\n    vec3 col = 0.5 + 0.5*cos(iTime+uv.xyx+vec3(0,2,4));\n\n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"const float PI = 3.1415926538;\n\nconst int notes1[] = int[](\n    9,11,12,19, 12,11,9,11, 12,11,9,2, 2,4,4,7,\n    9,11,12,19, 12,11,9,11, 12,11,9,7, 7,4,4,2\n);\nconst int notes2[] = int[](\n    -7-12,-7-12,-7,-7-12, -7-12,-7,-7-12,-7-12, -7,-7-12,-7-12,-7,    -7,-7,-7-12,-7-12,\n    -3-12,-3-12,-3,-3-12, -3-12,-3,-3-12,-3-12, -3,-12-12,-12-12,-12, -12,-12,-12-12,-12-12\n);\nconst float noteDuration = 0.15;\nconst float declickDuration = 0.005;\n\nconst int size = notes1.length();\n\nfloat transit(float pos) {\n    return -cos(pos * PI) / 2.0 + 0.5;\n}\n\nfloat declick(float time) {\n    float noteTime = mod(time, noteDuration); // 0 - 2.3\n    if (noteTime < declickDuration)\n        return transit(noteTime / declickDuration);\n    else if (noteTime > (noteDuration - declickDuration))\n        return transit(-(noteDuration - noteTime) / declickDuration);\n    return 1.0;\n}\nvec2 mainSound( int samp, float time )\n{\n    int phase = int(int(mod(time, float(size) * noteDuration) / noteDuration));\n    int note1 = notes1[phase];\n    int note2 = notes2[phase];\n    float note1Freq = (440.0 * pow(2.0, float(note1) / 12.0)) * 0.5;\n    float note2Freq = (440.0 * pow(2.0, float(note2) / 12.0)) * 0.5;\n    float noteVal = (sin((PI*2.0*note1Freq)*time) + sin((PI*2.0*note2Freq)*time)) / 2.0;\n    \n    // A 440 Hz wave that attenuates quickly overt time\n    return vec2( noteVal  * declick(time));\n}","name":"Sound","description":"","type":"sound"}]}