{"ver":"0.1","info":{"id":"tdjBWm","date":"1590201575","viewed":346,"name":"Menger2D - broken","username":"alvarobyrne","description":"...","likes":4,"published":3,"flags":0,"usePreview":0,"tags":["2d","fractal","menger","mengerspone"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Fork of \"Menger2D\" by EvilRyu. https://shadertoy.com/view/MldXz4\n// 2020-05-23 02:26:38\n\n// Created by evilryu\n// License Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.\n\nfloat s=0.95,a=0.006,scale=3.;\nfloat d_box(vec2 q){float d=max(abs(q.x+sin(iTime)*0.01),abs(q.y));return smoothstep(s,s+a,d)+smoothstep(s-a,s-a-a,d);}\nfloat d_sph(vec2 q,float s){float d=pow(pow(abs(q.x),3.0)+pow(abs(q.y),3.5),1./3.);return smoothstep(s,s+a,d)+smoothstep(s-a,s-a-a,d);}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 q = (-iResolution.xy + 2.0*fragCoord)/iResolution.y;\n    vec3 col=vec3(1.0);//*d_box(q);\n    float iter = mod(floor(iTime),7.0);\n    for(int i=0;i<4;++i)\n    {\n        if(i<int(iter+0.5))\n        {\n            q=abs(q);\n            if(q.x>q.y)q.xy=q.yx;\n            s*=1.0/scale;\n            col*=d_sph(q,s*(1.+tan(iTime)));\n            q-=s*(scale-(1.+cos(iTime)));\n            if(q.x<-0.5*s*(scale-1.0))q.x+=s*(scale-(1.+sin(iTime)));\n        }\n        else\n        {\n            col*=d_sph(q,fract(iTime)*s/scale);\n        }\n    }\n    fragColor.xyz=col;\n}","name":"Image","description":"","type":"image"}]}