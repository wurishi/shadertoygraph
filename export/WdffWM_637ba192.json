{"ver":"0.1","info":{"id":"WdffWM","date":"1588336839","viewed":147,"name":"Peek-a-boo.","username":"Logos","description":"A sort of tunnel made of stack of julias.\n","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["2d","2d","fractal","julia","polynomial"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Created by Robert Śmietana (Logos) - 01.05.2020\n// Bielsko-Biała, Poland, UE, Earth, Sol, Milky Way, Local Group, Laniakea :)\n\n\n\n//--- program parameters ---//\n\nconst float\tDEPTH\t\t= 48.0;\nconst float\tITERATIONS\t= 64.0;\nconst float SKIN_SIZE   =  6.0;\n\n\n//--- fractal formula (julia 3rd degree polynomial) ---//\n\nfloat julia(vec2 p, vec2 parameter)\n{\n\tfor (float i = 1.0; i <= ITERATIONS; i++)\n    {\n\t\tvec2 o = p;\n        \n\t\tp = vec2(p.x*p.x - p.y*p.y, 2.0*p.x*p.y);\n\t\tp = vec2(p.x*o.x - p.y*o.y + parameter.x, o.x*p.y + p.x*o.y + parameter.y);\n\n        if (dot(p, p) > 4.0) return i;\n\t}\n\t\n\treturn 0.0;\t\n}\n\n\n//--- coloring function ---//\n\nvec4 color(float n, float i)\n{\n    return SKIN_SIZE < n?\n        \n        vec4(vec3(1.0), 1.0)\n        \n\t\t\t:\n    \n\t\tvec4(0.6 + 0.4*sin(0.874*iTime + (1.22 - 0.4*sin(0.88*iTime))*i),\n             0.6 + 0.4*sin(0.675*iTime + 1.26*i), \n             0.6 + 0.4*cos(0.543*iTime + 0.84*i),\n             1.0);\n}\n\n\n//--- main program ---//\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n    vec2 pixel_coord = 1.0*(fragCoord - 0.5*iResolution.xy) / iResolution.y;\n    \n    pixel_coord *= 0.9 - 0.3*sin(0.21*iTime);\n    \n    \n\tfor (float i = 0.0; i < DEPTH; i++)\n    {\n        float f = 0.12*i;\n        \n\t\tvec2 parameter = vec2(0.35*cos(iTime-f) + 0.1*sin(0.234*iTime+0.68*f),\n                              0.25*sin(iTime+1.4*f) + 0.11*sin(0.431*iTime-f));\n        \n        float n = julia(pixel_coord, parameter);\n        \n        if (0.0 < n)\n        {\n            fragColor = color(n, i);\n            return;\n        }\n        \n        pixel_coord *= 1.05;\n    }\n    \n    \n    fragColor = vec4(0.0, 0.0, 0.0, 1.0);\n}","name":"Image","description":"","type":"image"}]}