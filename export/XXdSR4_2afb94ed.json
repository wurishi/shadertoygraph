{"ver":"0.1","info":{"id":"XXdSR4","date":"1718713761","viewed":65,"name":"GOLD","username":"bradjamesgrant","description":"Joining Circle Masks\n\nInspired by - https://www.shadertoy.com/view/XXG3DV\n\nFilm Grain based on- https://www.shadertoy.com/view/4sXSWs","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["2d","circle","kaleidoscope"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define THICKNESS 0.1\n#define GRID 14.\n#define PI 3.14259\n#define S(x,d,v) smoothstep(x,d,v)\n#define GOLD vec3(1.,223./255.,0.)\nfloat remapRange(float f_l, float f_h, float t_l, float t_h, float v){\n    float ac = (v-f_l)/(f_h-f_l);\n    return (t_h-t_l)*ac + t_l;\n}\n\nvec3 get_circle_grid_mask(float bulges,vec2 uv, float g_size, float thick, float center_r, float out_r){\n    thick*=.5;\n    float t = fract(iTime*.5);\n    t*=.7;\n    t-=center_r;\n    center_r+=t;\n    out_r+=t;\n    uv+=.5/g_size;\n    vec2 spl = uv*g_size;\n    vec2 home = abs(floor(spl));\n    vec2 fr = fract(spl);\n    fr-=.5;\n\n    float ang = atan(fr.x,fr.y)/(2.*PI);\n    thick += sin(ang*PI*bulges)*.02;\n    float r = remapRange(0.,g_size,center_r,out_r, max(home.x,home.y));\n    float s = S(r-thick,r-thick+thick*.3,length(fr))*(1.-S(r+thick, r+thick+thick*.3,length(fr)));\n    return vec3(s);\n\n}\n\nvec3 palette(float n){\n    n+=iTime*.2;\n    vec3 col = sin(vec3(24.3*n, 43.23*n, 30.33*n))*.5+.8;\n    return col/length(col);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float t =1.0-fract(iTime*.5);\n    \n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.x-0.5*(iResolution.xy/iResolution.x);\n    \n    float dist = length(uv);\n    //square id\n    \n    float r = 0.9;\n    r-=dist;\n    \n    float talt = (sin(iTime*.5)*.5+.5) *10.;\n    vec3 mask = get_circle_grid_mask(16.,uv, 15.-2.*floor(talt*1.), .1, 0.,.5);\n    mask = get_circle_grid_mask(16.,uv, 15.-2.*floor(talt*1.), .1, 0.,.5);\n\n    vec3 mask2 = get_circle_grid_mask(0.,uv*.5, talt+10., .2,.1,.8);\n    vec3 col = mask*mask2;\n    \n    vec3 maskGrad = clamp(abs(ceil(col-floor(col))),0.,1.);\n    \n    col = col*palette(dist);\n\n    col = mix(col,GOLD, maskGrad);\n    \n    //col = maskGrad*GOLD;\n    // Output to screen\n    float strength = 50.0;\n    \n    float x = (uv.x + 4.0 ) * (uv.y + 4.0 ) * (10000. * 10.0);\n\tvec4 grain = vec4(mod((mod(x, 13.0) + 1.0) * (mod(x, 123.0) + 1.0), 0.01)-0.005) * strength;\n    col +=grain.xyz;\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}