{"ver":"0.1","info":{"id":"wsdXz7","date":"1571733450","viewed":290,"name":"\"Root\" - Number Theory","username":"rmmcal","description":"The mathematics of infinity... \"endless\"","likes":15,"published":1,"flags":0,"usePreview":0,"tags":["math","text","number","theory","root"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGzr","filepath":"/media/a/08b42b43ae9d3c0605da11d0eac86618ea888e62cdd9518ee8b9097488b31560.png","previewfilepath":"/media/ap/08b42b43ae9d3c0605da11d0eac86618ea888e62cdd9518ee8b9097488b31560.png","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"/////////////////////////////////////////////////////////////\n/////      ........ Root - Number Theory ......     ///////// \n/////////////////////////////////////////////////////////////\n// Brasil/Amazonas/Manaus                                       \n// Chrono Trigger - Intro                                    \n// Created by Rodrigo Cal (twitter: @rmmcal) - 2019/10\n// - https://www.shadertoy.com/view/wsdXz7\n/////////////////////////////////////////////////////////////\n// -------------------------------------------------------\n//\n//  Number Theory....\n//\n// Inspiration:\n// => Srinivasa Ramanujan\n//\n// Wiki:\n// => https://en.wikipedia.org/wiki/Srinivasa_Ramanujan\n//\n// -------------------------------------------------------\n/////////////////////////////////////////////////////////////\n\n\nfloat c(float v)\n{\n    return clamp(v,0.,1.);\n}\n\nfloat r( float b, float r, float p){\n\treturn  smoothstep(-b,b, abs(mod(p,r)*2.-r ));\n}\n\n//https://iquilezles.org/articles/distfunctions2d\nfloat sdLine( in vec2 p, in vec2 a, in vec2 b )\n{\n    vec2 pa = p-a, ba = b-a;\n    float h = clamp( dot(pa,ba)/dot(ba,ba), 0.0, 1.0 );\n    return length( pa - ba*h );\n}\n\nvoid line(inout vec4 c, vec2 p, vec2 a, vec2 b){\n    c = mix(c, vec4(0.), smoothstep(-0.01,-0.002, -sdLine(p,a,b)));\n} \n\nvoid root(inout vec4 c, vec2 p, float s){\n    p+= vec2(0.025,0.);\n    line(c, p, vec2(0.),vec2(0.02,0.1));\n    line(c, p, vec2(0.),vec2(-0.02,0.05));\n    line(c, p, vec2(0.02,0.1),vec2(0.02+s,0.1));\n    \n}\n\nvec4 char(vec2 p, int v){                                      \n    vec2 v2 = clamp(p / 16., 0.0, 1./16.) -vec2(0.,1./16.) + vec2(float(v%16)/16., -float(v/16)/16.);\n    return vec4(texture(iChannel0,v2,-1.));                     \n}\n\nvoid drawChar(inout vec4 canvas, vec2 p, float s, int v){      \n    canvas *= 1.-char(p*s, v).x;\n}\n\nvoid number(inout vec4 canvas, vec2 p, float s, int v){                                      \n\tfor (int i = 0; i < 10; i++)\n    {\n\t    canvas *= 1.-char((p+vec2(float(i)*.03,0.))*s, 48+v%10).x; \n        v /= 10;\n        if (v <= 0)\n            break;\n    }\n} \n\nvec3 grid(vec2 p){\n    float d = 1.;\n    d = c(smoothstep(-1.,1., 1.5-length(p))*.9); \n    d = min(d, r(.01,.04,p.x));\n    d = min(d, r(.01,.04,p.y));\n    \n    return vec3(d);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n\tvec2 p = (uv-.5) *vec2(iResolution.x/iResolution.y, 1.);\n  \n    vec4 canvas;\n    canvas.rgb = grid(p);\n    \n    p -= vec2(-.5,0.3);\n    p*=.9;\n\tvec2 ps = p;\n    \n    for (float j = 0.; j < 4.; j++)\n    {\n        p = ps;\n        number  (canvas,p-vec2(-0.22,0.),  10., int(j)+3 );\n        drawChar(canvas,p-vec2(-0.15,0.), 10., 61 );\n        for (float i = 0.; i < 10.; i++)\n        {\n            root(canvas, p, 1.-(i*.1)); \n            number  (canvas,p-vec2(  0.0,0.), 10., 1 );\n            drawChar(canvas,p-vec2(  0.05,0.), 10., 43 );\n            number  (canvas,p-vec2(  0.1,0.), 10., 2+int(i)+int(j) );\n            p*=1.3;\n            p -= vec2(.3,0.);\n        }\n\t    ps -= vec2(-.0,-0.2);\n    }\n     \n    fragColor = vec4(canvas.rgb,1.0);\n}","name":"Image","description":"","type":"image"}]}