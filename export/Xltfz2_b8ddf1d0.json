{"ver":"0.1","info":{"id":"Xltfz2","date":"1540327901","viewed":203,"name":"F I S S U R E","username":"cardinalsine","description":"Abstract doodling. Playing with sums of sinusoids.","likes":13,"published":1,"flags":0,"usePreview":0,"tags":["abstract"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.1415926535897932384626433832795\n#define PHI 1.6180339887498948482\n\n\nmat2 rotate(float theta) {\n    mat2 m = mat2(cos(theta), sin(theta),\n                  -sin(theta), cos(theta)\n                 );\n    return m;\n}\n\nfloat sinStep(float x, float w) {\n    float y = (x+(1./w)*sin(w*x));\n    return y;\n}\n    \nfloat sinc(float x, float w) {\n    float y = sin(w*x)/(w*x);\n    return y;\n}\n\n\nfloat gaussianWindow1D(float x) {\n    return exp(-(x*x));\n}\n\nfloat gaussianWindow2D(vec2 uv) {\n    return exp(-(uv.x*uv.x+uv.y*uv.y));\n}\n\nfloat absPolyWindow(float x, float p) {\n    return 1.-pow(abs(x),p);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = (-1.+2.*(fragCoord/iResolution.xy))*(iResolution.xy/iResolution.yy);\n    \n    float f = PI;\n    float theta = 0.25*f*sinStep(iTime,f);\n    uv *= rotate(theta);\n    \n    float df = distance(vec2(0.,0.), uv.xy);\n        \n    vec3 colOffset = (1.-df)*1.75*vec3(0.,1.,2.)*(0.5+0.5*cos(PI/2.+1.*f*iTime+0.25*f*sin(f*iTime)));\n    \n    //float win = clamp((1.-pow(df, 4.)),0.,1.);\n   \tfloat win = gaussianWindow1D(uv.y+uv.x);\n    \n    float sum = 0.;\n    float a = 0.;\n    float m = 16.;\n    float zoom = (0.75-0.25*cos(f*iTime));\n    vec3 col = vec3(0.,0.,0.);\n    \n    for (float i=1.; i<64.; i++) {\n        a = (1./i)*(1.+(sinc(iTime,PI*i*m)))*0.5;\n        sum += a;\n        col += a*cos(f*((2.+cos(iTime*f/2.))+i*sinStep(iTime, f))+(16.*i*exp((2.*(uv.x*uv.y)*zoom))+colOffset));\n    }\n    \n    col = (1.+col)*(1./sum)*win;\n    // Output to screen\n    fragColor = vec4(1.-col,1.0);\n}\n\n","name":"Image","description":"","type":"image"}]}