{"ver":"0.1","info":{"id":"WsdyRN","date":"1600541050","viewed":498,"name":"Chroma+UV Distortion","username":"Dogemaster09","description":"There are some parameters you can tweak in the code, I have them described with comments.","likes":7,"published":1,"flags":2,"usePreview":0,"tags":["distortion"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sf3zn","filepath":"/presets/webcam.png","previewfilepath":"/presets/webcam.png","type":"webcam","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec2 zoomUv(vec2 uv, float zoom) {\n    vec2 uv1 = uv;\n    uv1 += .5;\n    uv1 += zoom/2.-1.;\n    uv1 /= zoom;\n    return uv1;\n    \n}\n\n\n//Higher values = less distortion\nfloat distortion = 75.;\n//Higher values = tighter distortion\nfloat amplitude = 10.;\n//Higher values = more color distortion\nfloat chroma = .5;\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uvt = fragCoord/iResolution.xy;\n    \n    vec2 uvtR = uvt;\n    vec2 uvtG = uvt;\n    vec2 uvtB = uvt;\n    \n    //Uncomment the following line to get varying chroma distortion\n    //chroma = sin(iTime)/2.+.5;\n    \n    uvtR += vec2(sin(uvt.y*amplitude+iTime)/distortion, cos(uvt.x*amplitude+iTime)/distortion);\n    uvtG += vec2(sin(uvt.y*amplitude+iTime+chroma)/distortion, cos(uvt.x*amplitude+iTime+chroma)/distortion);\n    uvtB += vec2(sin(uvt.y*amplitude+iTime+(chroma*2.))/distortion, cos(uvt.x*amplitude+iTime+(chroma*2.))/distortion);\n    \n    vec2 uvR = zoomUv(uvtR, 1.1);\n    vec2 uvG = zoomUv(uvtG, 1.1);\n    vec2 uvB = zoomUv(uvtB, 1.1);\n    \n    float colR = vec3(texture(iChannel0, uvR)).r;\n    float colG = vec3(texture(iChannel0, uvG)).g;\n    float colB = vec3(texture(iChannel0, uvB)).b;\n\n    fragColor = vec4(colR, colG, colB, 1.0);\n}","name":"Image","description":"","type":"image"}]}