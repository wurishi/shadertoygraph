{"ver":"0.1","info":{"id":"ttd3WX","date":"1577804116","viewed":220,"name":"tenkinoko kouhaku","username":"aodnawg","description":"紅白のradwimpsのやつ","likes":7,"published":1,"flags":0,"usePreview":0,"tags":["dot"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define S smoothstep\n\nvec3 hsl2rgb( in vec3 c ){\n    vec3 rgb = clamp( abs(mod(c.x*6.0+vec3(0.0,4.0,2.0),6.0)-3.0)-1.0, 0.0,1.0);\n    return c.z + c.y * (rgb-0.5)*(1.0-abs(2.0*c.z-1.0));\n}\nfloat N11(float n) {\n\treturn fract(sin(n*939.19)*138.131);\n}\nvec3 pointLight(vec2 uv, float noise,float t, float ratio_) {\n    vec2 ratio =  vec2(ratio_,1.);\n    float r = .4+mix(-.1,.1,noise);\n    float sRange = .3;\n    float s = sin(t+noise*983.12)*.5+.5;\n    float m = S(r,r-.05,length(uv*ratio)) * s *noise;\n    float hue = mix(.5, .6, N11(noise));\n    float b = mix(.4, .8, N11(N11(noise)));\n    return m*hsl2rgb(vec3(hue,1.,b));;\n}\nfloat N21(vec2 n) {\n\treturn N11(N11(n.x)+n.y);\n}\nfloat mask(vec2 uv, vec2 id, float zy) {\n    float n = N11(id.x);\n\treturn step(floor(mix(-.5,.5,n)*zy)/zy, uv.y);\n}\nvec3 layer(vec2 uv, float z_, float seed) {\n    float ratio = 8.;\n    vec2 z = vec2(z_, z_*ratio);\n    vec2 uv_ = uv + vec2(seed, N11(seed));\n    vec2 gv = fract(uv_*z)-.5;\n    vec2 id = floor(uv_*z)-.5;\n    return pointLight(gv, N21(id), iTime, ratio)*mask(uv, id, z.y);\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = (fragCoord-.5*iResolution.xy)/iResolution.y;\n\tfloat t = iTime*.5;\n    \n    // Time varying pixel color\n    vec3 col =vec3(0.);\n\n    uv.x += iTime*.05;\n    \n    for(float i=1.; i <= 32.; i++) {\n        col +=  layer(uv,5.+i, N11(i))*.8;\n    } \n\n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}