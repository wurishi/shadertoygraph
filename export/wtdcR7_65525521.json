{"ver":"0.1","info":{"id":"wtdcR7","date":"1608791225","viewed":54,"name":"aflower","username":"nir","description":"playing with shadertoy","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["basic"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define pi 3.1415926\n\n\nfloat s(float v0, float d, float x) {\n    return smoothstep(v0, v0+d, x);\n}\n\n\nvec2 c2p(vec2 uv) {\n    return vec2(atan(uv.x, uv.y), length(uv));\n}\n\n\nvec4 flower(\n    vec2 uv,\n    vec4 color,\n    float size,\n    float rpetals,\n    float npetals,\n    float speed\n) {\n\n    uv = c2p(uv);        \n    uv.x += iTime * speed + uv.y;\n    \n    float m = (fract(uv.x / pi / 2. * npetals) - 0.5) * rpetals;\n    m = min(m, -m);\n    \n    float c = s(size, -0.01, uv.y + m);\n    \n    return mix(vec4(0.), color, c);\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord / iResolution.xy - .5;\n    uv.x *= iResolution.x / iResolution.y;\n\n    vec4 f;\n    vec4 c = vec4(0.7, 0.3, 0., 1.);\n    \n    f = flower(uv, vec4(1., 0., 0., 1.), 0.3, 0.3, 7., 0.1);\n    c = mix(c, f, f.a);\n    \n    f = flower(uv, vec4(0., 1., 0., .5), 0.27, 0.27, 7., 0.2);\n    c = mix(c, f, f.a);\n    \n    f = flower(uv, vec4(0., 0., 1., .5), 0.25, 0.25, 7., 0.28);\n    c = mix(c, f, f.a);\n    \n    f = flower(uv, vec4(1., 1., 0., .5), 0.23, 0.23, 7., 0.35);\n    c = mix(c, f, f.a);\n    \n    f = flower(uv, vec4(0., 1., 1., .5), 0.21, 0.21, 7., 0.4);\n    c = mix(c, f, f.a);\n    \n    f = flower(uv, vec4(1., 1., 1., .5), 0.19, 0.19, 7., 0.45);\n    c = mix(c, f, f.a);\n    \n    \n    fragColor = c;\n}\n","name":"Image","description":"","type":"image"}]}