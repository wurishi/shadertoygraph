{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[{"channel":0,"type":"video","id":"Xdf3Rn","filepath":"/media/a/e81e818ac76a8983d746784b423178ee9f6cdcdf7f8e8d719341a6fe2d2ab303.webm","sampler":{"filter":"linear","wrap":"clamp","vflip":"false","srgb":"false","internal":"byte"}}],"code":"#define PIXEL_SIZE_X 8\n#define PIXEL_SIZE_Y 8\n\n#define SAMPLE_SIZE_X 8\n#define SAMPLE_SIZE_Y 1\n\nfloat lightness(vec3 col)\n{\n \treturn (max(col.r, max(col.g, col.b)) + min(col.r, min(col.g, col.b))) / 2.;\n}\n\nfloat average(vec3 col)\n{\n    return (col.r + col. g + col.b) / 3.;\n}\n\nfloat luminosity(vec3 col)\n{\n    return (col.r * 0.21) + (col.g * 0.72) + (col.b * 0.07);\n}\n\n//\tfragCoord / X and flooring it will always return us a value\n//\tthat is will only increase by 1 for every X pixels\n//\texmaple: floor(1 / 8) = 0.... floor(7/8) = 0, floor(8/8) = 1\n\n//\tmultiply that by X and we advance through fragCoords only when we\n//\treach a multiple of X\n\n//\tdivide by screenSize to give us a uv coord between 0.0 -> 1.0\nvec2 downscaledUV(vec2 fragCoord, vec2 pixelSize)\n{\n    return floor(fragCoord / pixelSize) * pixelSize / iResolution.xy;\n}\n\nvec2 charUV(vec2 fragCoord, vec2 pixelSize)\n{\n\treturn mod(fragCoord / pixelSize, 1.);   \n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 pixelSize = vec2(PIXEL_SIZE_X, PIXEL_SIZE_Y);\n    vec2 sampleSize = vec2(SAMPLE_SIZE_X, SAMPLE_SIZE_Y);\n    \n\tvec2 uv = downscaledUV(fragCoord, pixelSize);\n\tvec3 col = texture(iChannel0, uv).rgb;\n    \n    float gray = luminosity(col);\n    vec2 index = floor(sampleSize * gray);\n    \n    fragColor = vec4(gray, gray, gray, 1.);\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"lls3Wj","date":"1425354220","viewed":417,"name":"Ascii Filter","username":"NGZaharias","description":"Ascii Filter","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["filter","ascii"],"hasliked":0,"parentid":"","parentname":""}}