{"ver":"0.1","info":{"id":"wsX3Rj","date":"1546825157","viewed":86,"name":"Meta Pool Flag","username":"caseymacneil","description":"accidentally made this when messing around with my other shader https://www.shadertoy.com/view/wss3RS","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["2d","noise","random","voroni"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float rand(vec2 value)\n{\n\treturn fract(sin(dot(value, vec2(23.1245,87.2980))) * 5387.58135649);\n}\n\nvec2 rand2d(vec2 value)\n{\n\treturn fract(sin(vec2(dot(value, vec2(23.1245,87.2980)), dot(value, vec2(127.5123,39.183)))) * 5387.58135649);\n}\n\nvec3 voroni(vec2 uv)\n{\n    vec2 iuv = floor(uv);\n    vec2 fuv = fract(uv);\n    vec3 col = (fuv).xyy;\n    float mdist = 1.;\n    vec2 p;\n    vec2 sp;\n    // get neighbour tiles\n    for(int y = -1; y <= 1; y++)\n    {\n        for(int x = -1; x <= 1; x++)\n        {\n            vec2 n = vec2(float(x),float(y));\n            \n            p = rand2d(iuv + n);\n            \n            // animate\n            p.y = 0.5 + 0.5*sin(iTime + 5.*p.y);\n            p.x = 0.5 + 0.5*cos(iTime + 5.*p.x);\n            \n            vec2 diff = n + p - fuv;\n            float dist = length(diff);\n            \n            // \n            \n            if(dist < mdist)\n            {\n            \tmdist = min(mdist,dist);\n                sp = p;\n            }\n        }\n    }\n    return vec3(round(mdist/mod(fuv.y,0.01)));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    \n    \n    vec2 vFontSize = vec2(8.0, 15.0);\n    vec2 uv = fragCoord/iResolution.xy;\n    \n    //scale\n    vec2 p = uv * (iResolution.xy / 100.0);\n    p += 1.0;\n    \n    vec3 col = voroni(p);\n    \n    // make pretty :)\n    col.r *= uv.x - 0.2;\n    col.g *= .8 * 1.-uv.x;\n    col = pow(col,vec3(4.2));\n    \n    \n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}