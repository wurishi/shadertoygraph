{"ver":"0.1","info":{"id":"fltBRn","date":"1722705397","viewed":14,"name":"TBOS_Patterns2","username":"nako","description":"The Book of Shades\nhttps://thebookofshaders.com/09/","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["bookofshaders"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.1415926535\nmat2 rotate(float rad){\n    return mat2(cos(rad), -sin(rad), sin(rad), cos(rad));\n}\n\nfloat fillLine(vec2 center, vec2 size, vec2 st)\n{\n    vec2 boundary = (1.0 - size)/2.;\n    vec2 bl = smoothstep(boundary, boundary+0.01, st);\n    vec2 tr = smoothstep(1.-boundary, 1.-boundary-0.01, st);\n    return bl.x*bl.y*tr.x*tr.y;\n}\n\nfloat fillCross(vec2 center, float r, vec2 st){\n    st -= center; \n    st *= rotate(2.*PI/8.);\n    st += center;\n    float v = fillLine(vec2(.5), vec2(r/5., r), st);\n    float h = fillLine(vec2(.5), vec2(r, r/5.), st);\n    return v+h;\n}\n\nfloat fillCircle(vec2 center, float r, vec2 st){\n    return 1.-smoothstep(r-(r*0.01),\n                         r+(r*0.01),\n                         distance(st, center));\n}\n\nfloat fillDark(){\n    return 0.0;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 st = fragCoord/iResolution.xy;\n    st.x *= iResolution.x/iResolution.y;\n    vec2 mouse_st = iMouse.xy/iResolution.xy;\n    mouse_st.x *= iResolution.x/iResolution.y;\n    \n    float N = 3.0;\n    st *= N;\n    mouse_st *= N;\n    \n    float column = floor(st.x);\n    float row = floor(st.y);\n    float mc = floor(mouse_st.x);\n    float mr = floor(mouse_st.y);\n    st = fract(st);\n    vec3 col = vec3(0.);\n    \n    \n    \n    if ((column == mc) && (row == mr)){\n        col = vec3(fillCircle(vec2(.5), 0.35, st));\n    }else{\n        col = vec3(fillCross(vec2(.5), 0.7, st));\n    }\n    \n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}