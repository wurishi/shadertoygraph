{"ver":"0.1","info":{"id":"dscyD7","date":"1695129884","viewed":24,"name":"Green room","username":"Sublingual","description":"Shader drawing practice.","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["painting","practice"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.1415926538421\n\nvec3 OCHRE=vec3(0.8,0.467,0.133);       // #CC7722 Wiki ochre\nvec3 UMBER=vec3(0.388,0.318,0.278);    //#635147  Wiki Umber\nvec3 CAD_GREEN=vec3(0.0,0.42,0.24);       // #006B3C  Cad Green\nvec3 APPLE=vec3(0.541,0.722,0.);    //#8AB800 Apple green\nvec3 LAVENDER=vec3(0.718,0.769,0.988);\nvec3 YELLOW=vec3(1.,0.965,0.);\nvec3 GOLD=vec3(1.,0.843,0.);\nvec3 SKY_BLUE=vec3(0.467,0.792,0.929);\nvec3 SCARLET=vec3(1.,0.141,0.);\nvec3 EGGSHELL=vec3(0.941,0.918,0.839)*0.975;\nvec3 CORAL=vec3(1.,0.435,0.38);\n\n    \nvec2 circle(vec2 uv){\n    float circle=length(uv-vec2(0.5,0.5))*2.;\n    float circle_a = atan(uv.y-0.5,uv.x-0.5);\n    return vec2(0.5+(circle_a/(PI * 2.0)),circle);\n}\n\n//Shamelessly copied from the book of shaders\nfloat random (vec2 st) {\n    return fract(sin(dot(st.xy,\n                         vec2(12.93498,78.233)))*\n        43758.5453123);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n\n    vec2 c=circle(uv+vec2(-0.1,0.1));\n    \n    float planks=75.8;\n    \n    float floor_stripes=random(floor(vec2(c.x)*planks));\n    \n    float grain_stripes=random(floor(vec2(c.x)*planks*8.));\n    \n    float grain_base=floor(c.y*25.);\n    float grain_fract=fract(c.y*25.);\n    \n    float floor_grain=mix(random(vec2(grain_stripes+grain_base)), random(vec2(grain_base+grain_stripes+1.)),smoothstep(0.,1., grain_fract));\n    \n    floor_grain=fract(abs((floor_grain+fract(c.x*planks*8.))-1.));\n    \n    floor_grain=step(floor_grain,0.2);\n    \n    float shine_mask=smoothstep(0.34,0.45,uv.x)-smoothstep(0.6,0.75,uv.x)-smoothstep(0.15,0.25,uv.y);\n    \n    shine_mask=shine_mask*floor_grain*floor(random(uv+sin(iTime)*0.0000005)+0.5);\n    \n    \n    \n    \n    float floor_mask=1.-(step(c.x,0.335)-step(c.x,0.1)-step(1.-uv.y,0.75));\n    float floor_edges=step(fract(c.x*planks),0.1)+step(fract(c.x*planks),0.9);\n    \n    shine_mask-=floor_mask;\n    shine_mask=clamp(shine_mask,0.,1.);\n    \n\n    float wall=step(uv.x,0.394)+1.-step(uv.x,0.69);\n    wall*=(smoothstep(uv.x,0.394,0.3)*smoothstep(uv.x,0.69,0.75))+0.2;\n    \n    vec2 win_circle=circle(vec2(uv.x*1.92/1.08,uv.y)+vec2(-0.462,-0.25));\n    float window=clamp(step(uv.x,0.432)+1.-step(uv.x,0.65)+1.-step(uv.y,0.75)+1.-step(1.-uv.y,0.68),0.,1.)\n                 -step(win_circle.y,0.387);\n    window=clamp(window,0.,1.);\n\n    float window_frame=step(fract((uv.x-0.432)*18.8),0.1)-step(1.-uv.y,0.25);\n    window_frame+=step(fract((uv.y-0.425)*9.48),0.1)-step(1.-uv.y,0.25);\n    \n    \n    \n    \n    window_frame=clamp(window_frame,0.,1.);\n    window_frame-=window;\n    \n    window_frame+=clamp(step(fract(win_circle.y*5.4), 0.1)-step(uv.y,0.74)-step(win_circle.y,0.1)-step(1.-win_circle.y,0.5), 0.,1.);\n    window_frame+=clamp(step(fract(0.55+win_circle.x*8.),0.1)-step(uv.y,0.75)-step(win_circle.y,0.2)-step(1.-win_circle.y,0.5),0.,1.);\n\n\n    vec2 walltex_scale=vec2(80.,40.);\n    float wall_texture=abs(fract(walltex_scale.x*uv.x)-0.5)+0.5;\n    float wall_tex_2=abs(fract(walltex_scale.x*uv.x+0.25)-0.5)+0.5;\n    wall_texture=step((fract((uv.y*walltex_scale.y)-0.5)),wall_texture)-step(fract((uv.y*walltex_scale.y)-0.5)+0.5,wall_texture);\n    wall_texture+=step((fract((1.5+uv.y*walltex_scale.y)-0.5)),wall_tex_2)-step(fract((1.5+uv.y*walltex_scale.y)-0.5)+0.5,wall_tex_2);\n    \n    wall_texture*=wall;\n    \n    float sky_distort=sin(-0.9+iTime+uv.x*10.)*(0.2+uv.y*3.)*(cos(fract(uv.x*48.5)-0.5)*abs(fract(8.*uv.y-0.5)-0.5));\n    \n    vec3 sky_grad=mix(YELLOW,mix(GOLD-0.2,YELLOW,sky_distort), -0.2+uv.y*1.3);\n    \n    vec3 col;\n    \n    col=mix(CAD_GREEN,APPLE,wall+wall_texture*0.2);\n    col=mix(sky_grad,col,window);\n    \n    floor_mask=clamp(floor_mask,0.,1.);\n    vec3 floor_=mix(OCHRE,UMBER,floor_stripes);\n    floor_-=floor_edges*0.1;\n    floor_-=floor_grain*0.1;\n    floor_=clamp(floor_,0.,1.);\n    col=mix(floor_,col,floor_mask);\n    col=mix(col,SCARLET-vec3(0.2),clamp(window_frame,0.,1.));\n    \n    \n    col=mix(YELLOW,col,1.-shine_mask);\n    \n    //col=vec3(col.x,0.,window_frame);\n    //col=vec3(col.xy,window);\n    //col=vec3(0.,floor_edges,0.);\n\n    //col=vec3(wall_texture);\n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}