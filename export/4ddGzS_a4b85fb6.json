{"ver":"0.1","info":{"id":"4ddGzS","date":"1450467822","viewed":129,"name":"paint a pattern #1","username":"public_int_i","description":"paint in parts of a pattern using discard :)","likes":0,"published":1,"flags":16,"usePreview":0,"tags":["2d","paint","draw","pattern","discard"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGRr","filepath":"/presets/tex00.jpg","previewfilepath":"/presets/tex00.jpg","type":"keyboard","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[],"code":"//paint a pattern #1 by Ethan Shulman 2015\n//This work is licensed under a Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License.\n\n\n//Click \"reset time\" to reset the canvas\n//Change paint color by enabling/disabling colors using the 0-9 keys\n//Enable multiple colors to mix them\n\n\n#define pattern 1.1\n#define iterations 5\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy - .5;\n\tvec3 paintColor = vec3(0.);\n    float enabled = 0.;\n    for (int i = 0; i < 10; i++) {\n        if (texture(iChannel0, vec2( (48.+float(i)+.5)/255. , .75)).x > 0.) {\n            #define fi float(i)*.4\n            paintColor = mix(paintColor, vec3(cos(fi), cos(fi+2.4), cos(fi+4.5))*.5+.5, enabled);\n            enabled++;\n        }\n    }\n    paintColor /= enabled;\n    if (enabled == 0.) paintColor = vec3(1.,0.,0.);\n    if (length(max(abs(uv-.44)-.03, 0.)) < .001 || (iMouse.w > 0. && length(uv-(iMouse.xy/iResolution.xy-.5))-.014 < 0.)) {\n        fragColor = vec4(paintColor, 1.);\n        return;\n    }\n    \n    for (int i = 0; i < iterations; i++) {\n        float t = pattern+float(i);\n        uv = abs(uv)*mat2(sin(t),cos(t),-cos(t),sin(t));\n        uv = mod(uv*2.,2.)-1.;\n    }\n    \n    float d = (length(mod(uv*1.,2.)-1.)-.94)*10.;\n    if (iTime > 2. && d < 0.) discard;\n    \n    fragColor = vec4(d);\n}","name":"","description":"","type":"image"}]}