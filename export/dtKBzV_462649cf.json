{"ver":"0.1","info":{"id":"dtKBzV","date":"1702303321","viewed":10,"name":"LCG Uniformity Test (FLOAT)","username":"stagakis","description":"This is a test for uniformity/visualization of the LCG","likes":0,"published":1,"flags":32,"usePreview":0,"tags":["shift","rng","lcg"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// ^^ [Buffer A] is what you're looking for\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    \n    fragColor = texelFetch(iChannel0, ivec2(fragCoord), 0);\n}\n","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"uint global_starting_offset = 0u;\n\nfloat rand(inout uint seed) {\n    uint LCG_A = 1664525u;\n    uint LCG_C  = 1013904223u;\n    \n    seed = (LCG_A * seed + LCG_C);\n    \n\treturn uintBitsToFloat( (seed << 8) >> 2 )/0.5f;\n}\n\nvec2 get_random_dir(inout uint seed) {\n    float x = rand(seed);\n    float y = rand(seed);\n    return vec2(x,y);\n}\n\n\nfloat shade(vec2 p) {\n\n\treturn 1. - smoothstep(0., 0.00001, dot(p, p));\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    vec2 uv = fragCoord/iResolution.xy;\n    \n    uint seed = global_starting_offset + uint(iFrame);\n    vec2 p = get_random_dir(seed);\n    fragColor.rgb = vec3(0.);\n    \n    fragColor.rgb += shade(p - uv);\n    vec3 prev_color = texelFetch(iChannel0, ivec2(fragCoord), 0).rgb;\n    fragColor.rgb += texelFetch(iChannel0, ivec2(fragCoord), 0).rgb;\n    fragColor.a   = 0.1;\n}\n","name":"Buffer A","description":"","type":"buffer"}]}