{"ver":"0.1","info":{"id":"MsfcWH","date":"1488040273","viewed":161,"name":"Simplex Raymarching","username":"Tidensbarn","description":"Simplex noise raymarching\nMouse enabled","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["raymarching"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec3 hash( vec3 p ) \n{\n\tp = vec3( dot(p,vec3(127.1,311.7, 74.7)),\n\t\t\t  dot(p,vec3(269.5,183.3,246.1)),\n\t\t\t  dot(p,vec3(113.5,271.9,124.6)));\n\n\treturn -1.0 + 2.0*fract(sin(p)*43758.5453123);\n}\n\nfloat noise( in vec3 p )\n{\n    vec3 i = floor( p );\n    vec3 f = fract( p );\n\t\n\tvec3 u = f*f*(3.0-2.0*f);\n\n    return mix( mix( mix( dot( hash( i + vec3(0.0,0.0,0.0) ), f - vec3(0.0,0.0,0.0) ), \n                          dot( hash( i + vec3(1.0,0.0,0.0) ), f - vec3(1.0,0.0,0.0) ), u.x),\n                     mix( dot( hash( i + vec3(0.0,1.0,0.0) ), f - vec3(0.0,1.0,0.0) ), \n                          dot( hash( i + vec3(1.0,1.0,0.0) ), f - vec3(1.0,1.0,0.0) ), u.x), u.y),\n                mix( mix( dot( hash( i + vec3(0.0,0.0,1.0) ), f - vec3(0.0,0.0,1.0) ), \n                          dot( hash( i + vec3(1.0,0.0,1.0) ), f - vec3(1.0,0.0,1.0) ), u.x),\n                     mix( dot( hash( i + vec3(0.0,1.0,1.0) ), f - vec3(0.0,1.0,1.0) ), \n                          dot( hash( i + vec3(1.0,1.0,1.0) ), f - vec3(1.0,1.0,1.0) ), u.x), u.y), u.z );\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy *2. - 1.;\n\t\n    float len = length((iMouse.xy / iResolution.xy) * 2. - 1. - uv);\n    float len2 = len * len;\n    \n    vec3 v = vec3(uv * 4.3 * len2, iTime * 3.61 );\n    \n    float n=0.;\n    \n    float z = 1. + 1. / (5.+len *  115.);\n    \n    float max = 6.;\n    \n    float m = iMouse.x * 1. + iResolution.x /2.;\n    \n    \n    for(float i = 0.01;i<1.;i+=.009) {\n        \n        v.z += 7112.*(log(1.+i*0.00003));\n        v.xy *= z;\n        float f = noise(v);\n        if(f > .009 * (28.-len2)) {\n            n = 1.0- i;\n            break;\n        }\n    }\n    \n    \n    fragColor = vec4(n*n*0.6*len,0.,n*n*1.0,1.);\n}","name":"Image","description":"","type":"image"}]}