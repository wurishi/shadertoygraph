{"ver":"0.1","info":{"id":"4lj3Wd","date":"1433678387","viewed":280,"name":"Melody Test","username":"TomoAlien","description":"A crappy test of melody with a modulation on it. Also the music's shader repurposed to show visuals","likes":4,"published":1,"flags":8,"usePreview":0,"tags":["2d","test","music","crap","melody","modulation"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[],"code":"float wave(float a,float time,float x){\n    if(step(fract(time*4.),0.5)<1.){\n    return tan(time*x*1.5)-sin(time*0.25)*8.;\n    }else{\n    return tan(time*x)-sin(time*4.)*16.;  \n    }}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float time=iTime;\n    time=time/1.75;\n    float ah;\n    vec2 uv = fragCoord.xy / iResolution.xy;\n    float x = uv.x-distance(uv.x,1.);\n    float y = (uv.y-0.5);\n    float n = iTime;\n    \nif(step(fract(time),0.5)<1.){\n    ah = wave(440.,time,x*y);\n    }else{\n    if(step(fract(time),0.25)<1.){\n    ah = wave(587.33,time,x/y);\n    }else{\n    if(step(fract(time),0.125)<1.){\n    ah = wave(392.00,time,x-y);\n    }else{\n    ah = wave(739.99,time,x);\n    }\n    }\n    }\n    ah=sin(ah);\n    \n\t\n\tfragColor = vec4(-ah,abs(ah),abs(ah),1.0);\n}","name":"","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"float wave(float a,float time){\n    if(step(fract(time*4.),0.5)<1.){\n    return tan(time*a*1.5)-sin(time*0.25)*8.;\n    }else{\n    return tan(time*a)-sin(time*4.)*16.;  \n    }}\n\nvec2 mainSound( in int samp,float time)\n{\n   \n    time=time/1.75;\n    float ah;\n    \n    \n    if(step(fract(time),0.5)<1.){\n    ah = wave(440.,time);\n    }else{\n    if(step(fract(time),0.25)<1.){\n    ah = wave(587.33,time);\n    }else{\n    if(step(fract(time),0.125)<1.){\n    ah = wave(392.00,time);\n    }else{\n    ah = wave(739.99,time);\n    }\n    }\n    }\n    ah = clamp(ah,0.,1.);\n\n    \n    \n    return vec2(ah);\n}","name":"","description":"","type":"sound"}]}