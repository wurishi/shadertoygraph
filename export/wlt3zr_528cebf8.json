{"ver":"0.1","info":{"id":"wlt3zr","date":"1575517445","viewed":235,"name":"fish scale uv pattern","username":"sp0rk3d","description":"simple circular scale pattern output is vec4 (uv, dist, id)","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["simple","static","fishscales"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// fish scales uv pattern\n// first Shadertoy test after watching some of BigWIngs \"art of code\" on youtube (https://www.youtube.com/channel/UCcAlTqd9zID6aNX3TzwxJXg/videos)\n// trying to get this pattern to work in maya this seemed to be a great tool to visualize what i was trying to do\nfloat N21(vec2 p)\n{\t// Dave Hoskins - https://www.shadertoy.com/view/4djSRW\n\tvec3 p3  = fract(vec3(p.xyx) * vec3(443.897, 441.423, 437.195));\n    p3 += dot(p3, p3.yzx + 19.19);\n    return fract((p3.x + p3.y) * p3.z);\n}\n\nvec4 scaleData(vec2 p){\n    vec2 ptA = vec2(floor(p.x) + 0.5, round(p.y));\n    vec2 ptB = vec2(round(p.x), floor(p.y) + 0.5);\n    \n\tfloat mixer1 = 0.;\n    if (round(p.y) < p.y) mixer1 = 1.;\n    \n    vec2 tmpMixA = mix(ptB, ptA, mixer1);\n    vec2 tmpMixB = mix(ptA, ptB, mixer1);\n    \n    vec2 subMixA = p - tmpMixA;\n    vec2 subMixB = p - tmpMixB;\n    \n    float dA = distance(tmpMixA, p); \n    float dB = distance(tmpMixB, p);    \n    \n    float mixer2 = 0.;\n    if (dB < 0.5) mixer2 = 1.;\n    \n    vec2 uv = mix(subMixA, subMixB, mixer2) * vec2(1., -1.) + vec2(0., 0.5);    \n    float dist = mix(dA, dB, mixer2) * 2.; // 0 to 1\n    float id = N21( mix(tmpMixA, tmpMixB, mixer2));\n      \n    return vec4(uv, dist, id);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/max(iResolution.x,iResolution.y);\n    \n    vec2 repeats = vec2(10.);\n    uv *= repeats;\n\t\n    // pass scaled uvs to the scaleData\n\tvec4 col = scaleData(uv);\n    \n    // Output to screen\n    fragColor = col;\n}","name":"Image","description":"","type":"image"}]}