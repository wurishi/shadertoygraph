{"ver":"0.1","info":{"id":"43sSz8","date":"1718656326","viewed":59,"name":"Conway's Game of Life...","username":"thomThalas","description":"Conway's Game of Life.\nYou can interact with the mouse.","likes":2,"published":1,"flags":32,"usePreview":0,"tags":["life"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    ivec2 coord = ivec2(fragCoord/vec2(size));\n    \n    \n    \n    fragColor = texelFetch(iChannel0, coord, 0);\n    \n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsBSR3","filepath":"/media/a/cb49c003b454385aa9975733aff4571c62182ccdda480aaba9a8d250014f00ec.png","previewfilepath":"/media/ap/cb49c003b454385aa9975733aff4571c62182ccdda480aaba9a8d250014f00ec.png","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"#define pac(x) x % ivec2(iResolution.xy / vec2(size))\n#define ic0 iChannel0\n#define ic1 iChannel1\n#define prev(y) bool(texelFetch(ic0, y, 0).x)\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    ivec2 fc = ivec2(fragCoord);\n    pac(fc);\n    \n    ivec2 mouse = ivec2(iMouse.xy / vec2(size));\n    pac(mouse);\n    \n    bool center = prev(fc);\n    \n    bool nb[8];\n    \n    nb[0] = prev(pac(fc+ivec2(1, 0)));\n    nb[1] = prev(pac(fc+ivec2(-1, 0)));\n    \n    nb[2] = prev(pac(fc+ivec2(0, 1)));\n    nb[3] = prev(pac(fc+ivec2(0, -1)));\n    \n    nb[4] = prev(pac(fc+ivec2(1, 1)));\n    nb[5] = prev(pac(fc+ivec2(-1, 1)));\n    nb[6] = prev(pac(fc+ivec2(-1, -1)));\n    nb[7] = prev(pac(fc+ivec2(1, -1)));\n    \n    int nbCount = 0;\n    for(int i = 0; i < nb.length(); i++)\n    {\n        if(nb[i])\n        {\n            nbCount++;\n        }\n    }\n    \n    bool newCell = false;\n    \n    if(center)\n    {\n        if(nbCount == 2 || nbCount == 3)\n        {\n            newCell = true;\n        }\n    }\n    else\n    {\n        if(nbCount == 3)\n        {\n            newCell = true;\n        }\n    }\n    \n    \n    \n    fragColor = vec4(vec3(newCell), 1.);\n    \n    if(iMouse.z > 0.5)\n    {\n        if(mouse == fc)\n        {\n            fragColor = vec4(1.);\n        }\n    }\n    \n    if(iFrame < 20)\n    {\n        float val = round(texture(ic1, fragCoord/iResolution.xy*1.).x);\n        fragColor = vec4(vec3(val), 1.);\n    }\n    \n    \n    \n    \n    \n    \n    \n    \n}","name":"Buffer A","description":"","type":"buffer"},{"inputs":[],"outputs":[],"code":"#define size 4","name":"Common","description":"","type":"common"}]}