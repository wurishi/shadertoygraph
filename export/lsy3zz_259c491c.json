{"ver":"0.1","info":{"id":"lsy3zz","date":"1453000804","viewed":1292,"name":"Easy read neon clock","username":"dine909","description":"Just clock things","likes":47,"published":1,"flags":32,"usePreview":1,"tags":["text","clock","font","neon","multipass"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//A clock to help teach my kids how to tell the time\n\nfloat antiAlias(float x) {return (x-(1.0-2.0/iResolution.y))*(iResolution.y/2.0);}\nfloat blur(float x) {return pow(smoothstep(0.945,1.0,x),10.);}\n\n#define PI 3.14159265359\n\nfloat opU( float d1, float d2 )\n{\n    return max(d1,d2);\n}\nvec2 opU( vec2 d1, vec2 d2 )\n{\n    return d1.x>d2.x?d1:d2;\n}\n\n\nfloat circle(vec2 pos, float radius)\n{\n    return (1.0-abs(length(pos)-radius));\n}\n\nfloat line( in vec2 p, in vec2 a, in vec2 b )\n{\n    vec2 pa = p - a;\n    vec2 ba = b - a;\n    float h = clamp( dot(pa,ba)/dot(ba,ba), 0.0, 1.0 );\n    float d = length( pa - ba*h );\n\n    return  (1.0 - d);\n}\n\nfloat square(in vec2 p, in vec2 pos, in vec4 s)\n{\n    float res=0.;\n    vec2 uv=(p-pos);\n    //    uv-=c;\n\n    res=opU(res,line(uv,vec2(s.x,s.y),vec2(s.z,s.y)));\n    res=opU(res,line(uv,vec2(s.z,s.y),vec2(s.z,s.w)));\n    res=opU(res,line(uv,vec2(s.z,s.w),vec2(s.x,s.w)));\n    res=opU(res,line(uv,vec2(s.x,s.w),vec2(s.x,s.y)));\n    return res;\n}\n\nvec2 rotatePoint(vec2 pt,vec2 piv,float angle){\n    float s=sin(angle);\n    float c=cos(angle);\n    vec2 p=pt-piv  ;\n    return vec2(p.x * c - p.y * s,p.x * s + p.y * c)+piv;\n}\n\nvec3 render(vec2 r,vec4 tdata){\n    vec3 col=vec3(0.);\n    float bamt=0.;\n    col=vec3(1.,0.1,0.45);\n\n    //default materials\n    if(r.y==1.) {col=col.rgb;bamt=0.6;}\n    if(r.y==2.) {col=col.gbr;bamt=0.6;}\n    if(r.y==3.) {col=col.grb;bamt=0.6;}\n    if(r.y==4.) {col=col.rrr;bamt=0.;}\n\n    //current hours & mins material glow\n    if(floor(r.y)>=10. && floor(r.y)<=22. ) {\n        float hmid=mod((tdata.w+150.)/3600.,12.);;\n            if(floor(r.y-10.)==mod(floor(hmid),12.) || r.y==5.)\n            {\n                col=col.grb;\n                bamt=.5;\n            }else{\n                col=vec3(.4);\n            }\n    }\n    if(floor(r.y)>=30. && floor(r.y)<=44.) {\n        float mmid=mod((((tdata.w+150.)/60.)),60.);\n        if(floor(r.y-30.)*5.==floor((mmid)/5.)*5. || r.y==6.){\n            col=col.gbr;\n            bamt=.5;\n        }else{\n            col=vec3(.4);\n        }\n    }\n\n    float aares=clamp(antiAlias(r.x), 0.0, 1.);\n    aares+=clamp(blur(r.x), 0.0, 1.)*bamt;\n    col*=aares;\n    return clamp(col,vec3(0.),vec3(1.));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    //    vec2 res=vec2(0.);\n\n    vec2 uv = fragCoord.xy / iResolution.xy;\n\n    vec3 col=vec3(0.);\n    //  res=vec2(0.);\n\n    float cmix= (smoothstep(00.,90.,float(iFrame)));\n    float times=iDate.w;\n\t\n    vec4 tdata=vec4(\n        mod(times/3600.,12.), \t// hours\n        mod(times/60.,60.),\t\t// minutess\n        mod(times,60.),\t\t\t// seconds\n        times);\t\t\t\t\t// time (s)\n\n    uv-=vec2(0.20,0.0);\n\n    if(uv.x>0.04 && uv.x<0.65 && uv.y>0.01 && uv.y <1.){\n        vec4 cf=texture(iChannel0,uv);\n        col+=render(cf.yz,tdata);\n    }\n\n    //Square things up\n    uv.y/=iResolution.x/iResolution.y;\n\n    if(true)\n    {\n        {\n            vec2 ruv=rotatePoint(uv,vec2(0.3),(cmix*(((tdata.y)/60.))-(1./4.))*(2.*PI));\n            col+=render(vec2(square(ruv+vec2(0.),vec2(0.3),vec4(-0.05,-0.001,0.18,0.001)),2.),tdata);\n        }\n        {\n            vec2 ruv=rotatePoint(uv,vec2(0.3),(cmix*(((tdata.x)/12.))-(1./4.))*(2.*PI));\n            col+=render(vec2(square(ruv+vec2(0.),vec2(0.3),vec4(-0.05,-0.002,0.135,0.002)),3.),tdata);\n        }\n        {\n            float smotion=tdata.z+(0.5-cos(tdata.z*PI*2.))*0.155;\n            vec2 ruv=rotatePoint(uv,vec2(0.3),cmix*(((smotion)/60.)-(1./4.))*(2.*PI));\n            col+=render(vec2(square(ruv+vec2(0.),vec2(0.3),vec4(-0.05,-0.0005,0.2,0.0005)),1.),tdata)*\n                smoothstep(30.,90.,float(iFrame));\n        }\n    }\n\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"nearest","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"//From: https://www.shadertoy.com/view/MsyGzz\n\n#define PI 3.14159265359\n\nfloat opU( float d1, float d2 )\n{\n    return max(d1,d2);\n}\nvec2 opU( vec2 d1, vec2 d2 )\n{\n    return d1.x>d2.x?d1:d2;\n}\n\n\nfloat circle(vec2 pos, float radius)\n{\n    return 1.0-(abs(length(pos)-radius));\n\n}\n\nfloat line( in vec2 p, in vec2 a, in vec2 b )\n{\n    vec2 pa = p - a;\n    vec2 ba = b - a;\n    float h = clamp( dot(pa,ba)/dot(ba,ba), 0.0, 1.0 );\n    float d = length( pa - ba*h );\n\n    return  (1.0 - d);\n}\n\n\nvec2 rotatePoint(vec2 pt,vec2 piv,float angle){\n    float s=sin(angle);\n    float c=cos(angle);\n    vec2 p=pt-piv  ;\n    return vec2(p.x * c - p.y * s,p.x * s + p.y * c)+piv;\n}\n\n\nvec2 res=vec2(0.);\nvec2 cpos=vec2(0.);\n\n// CHAR: 48 :0\nvoid char_0(vec2 uv,vec2 s,float m){\n    vec2 p=uv-cpos;\n    res=opU(res,vec2(line(p,vec2(9.0,21.0)*s,vec2(6.0,20.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(6.0,20.0)*s,vec2(4.0,17.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(4.0,17.0)*s,vec2(3.0,12.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(3.0,12.0)*s,vec2(3.0,9.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(3.0,9.0)*s,vec2(4.0,4.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(4.0,4.0)*s,vec2(6.0,1.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(6.0,1.0)*s,vec2(9.0,0.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(9.0,0.0)*s,vec2(11.0,0.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(11.0,0.0)*s,vec2(14.0,1.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(14.0,1.0)*s,vec2(16.0,4.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(16.0,4.0)*s,vec2(17.0,9.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(17.0,9.0)*s,vec2(17.0,12.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(17.0,12.0)*s,vec2(16.0,17.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(16.0,17.0)*s,vec2(14.0,20.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(14.0,20.0)*s,vec2(11.0,21.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(11.0,21.0)*s,vec2(9.0,21.0)*s),m));\n    cpos.x+=20.0*s.x;\n}\n// CHAR: 49 :1\nvoid char_1(vec2 uv,vec2 s,float m){\n    vec2 p=uv-cpos;\n    res=opU(res,vec2(line(p,vec2(6.0,17.0)*s,vec2(8.0,18.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(8.0,18.0)*s,vec2(11.0,21.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(11.0,21.0)*s,vec2(11.0,0.0)*s),m));\n    cpos.x+=20.0*s.x;\n}\n// CHAR: 50 :2\nvoid char_2(vec2 uv,vec2 s,float m){\n    vec2 p=uv-cpos;\n    res=opU(res,vec2(line(p,vec2(4.0,16.0)*s,vec2(4.0,17.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(4.0,17.0)*s,vec2(5.0,19.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(5.0,19.0)*s,vec2(6.0,20.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(6.0,20.0)*s,vec2(8.0,21.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(8.0,21.0)*s,vec2(12.0,21.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(12.0,21.0)*s,vec2(14.0,20.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(14.0,20.0)*s,vec2(15.0,19.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(15.0,19.0)*s,vec2(16.0,17.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(16.0,17.0)*s,vec2(16.0,15.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(16.0,15.0)*s,vec2(15.0,13.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(15.0,13.0)*s,vec2(13.0,10.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(13.0,10.0)*s,vec2(3.0,0.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(3.0,0.0)*s,vec2(17.0,0.0)*s),m));\n    cpos.x+=20.0*s.x;\n}\n// CHAR: 51 :3\nvoid char_3(vec2 uv,vec2 s,float m){\n    vec2 p=uv-cpos;\n    res=opU(res,vec2(line(p,vec2(5.0,21.0)*s,vec2(16.0,21.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(16.0,21.0)*s,vec2(10.0,13.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(10.0,13.0)*s,vec2(13.0,13.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(13.0,13.0)*s,vec2(15.0,12.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(15.0,12.0)*s,vec2(16.0,11.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(16.0,11.0)*s,vec2(17.0,8.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(17.0,8.0)*s,vec2(17.0,6.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(17.0,6.0)*s,vec2(16.0,3.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(16.0,3.0)*s,vec2(14.0,1.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(14.0,1.0)*s,vec2(11.0,0.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(11.0,0.0)*s,vec2(8.0,0.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(8.0,0.0)*s,vec2(5.0,1.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(5.0,1.0)*s,vec2(4.0,2.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(4.0,2.0)*s,vec2(3.0,4.0)*s),m));\n    cpos.x+=20.0*s.x;\n}\n// CHAR: 52 :4\nvoid char_4(vec2 uv,vec2 s,float m){\n    vec2 p=uv-cpos;\n    res=opU(res,vec2(line(p,vec2(13.0,21.0)*s,vec2(3.0,7.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(3.0,7.0)*s,vec2(18.0,7.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(13.0,21.0)*s,vec2(13.0,0.0)*s),m));\n    cpos.x+=20.0*s.x;\n}\n// CHAR: 53 :5\nvoid char_5(vec2 uv,vec2 s,float m){\n    vec2 p=uv-cpos;\n    res=opU(res,vec2(line(p,vec2(15.0,21.0)*s,vec2(5.0,21.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(5.0,21.0)*s,vec2(4.0,12.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(4.0,12.0)*s,vec2(5.0,13.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(5.0,13.0)*s,vec2(8.0,14.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(8.0,14.0)*s,vec2(11.0,14.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(11.0,14.0)*s,vec2(14.0,13.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(14.0,13.0)*s,vec2(16.0,11.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(16.0,11.0)*s,vec2(17.0,8.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(17.0,8.0)*s,vec2(17.0,6.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(17.0,6.0)*s,vec2(16.0,3.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(16.0,3.0)*s,vec2(14.0,1.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(14.0,1.0)*s,vec2(11.0,0.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(11.0,0.0)*s,vec2(8.0,0.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(8.0,0.0)*s,vec2(5.0,1.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(5.0,1.0)*s,vec2(4.0,2.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(4.0,2.0)*s,vec2(3.0,4.0)*s),m));\n    cpos.x+=20.0*s.x;\n}\n// CHAR: 54 :6\nvoid char_6(vec2 uv,vec2 s,float m){\n    vec2 p=uv-cpos;\n    res=opU(res,vec2(line(p,vec2(16.0,18.0)*s,vec2(15.0,20.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(15.0,20.0)*s,vec2(12.0,21.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(12.0,21.0)*s,vec2(10.0,21.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(10.0,21.0)*s,vec2(7.0,20.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(7.0,20.0)*s,vec2(5.0,17.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(5.0,17.0)*s,vec2(4.0,12.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(4.0,12.0)*s,vec2(4.0,7.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(4.0,7.0)*s,vec2(5.0,3.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(5.0,3.0)*s,vec2(7.0,1.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(7.0,1.0)*s,vec2(10.0,0.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(10.0,0.0)*s,vec2(11.0,0.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(11.0,0.0)*s,vec2(14.0,1.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(14.0,1.0)*s,vec2(16.0,3.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(16.0,3.0)*s,vec2(17.0,6.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(17.0,6.0)*s,vec2(17.0,7.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(17.0,7.0)*s,vec2(16.0,10.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(16.0,10.0)*s,vec2(14.0,12.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(14.0,12.0)*s,vec2(11.0,13.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(11.0,13.0)*s,vec2(10.0,13.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(10.0,13.0)*s,vec2(7.0,12.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(7.0,12.0)*s,vec2(5.0,10.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(5.0,10.0)*s,vec2(4.0,7.0)*s),m));\n    cpos.x+=20.0*s.x;\n}\n// CHAR: 55 :7\nvoid char_7(vec2 uv,vec2 s,float m){\n    vec2 p=uv-cpos;\n    res=opU(res,vec2(line(p,vec2(17.0,21.0)*s,vec2(7.0,0.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(3.0,21.0)*s,vec2(17.0,21.0)*s),m));\n    cpos.x+=20.0*s.x;\n}\n// CHAR: 56 :8\nvoid char_8(vec2 uv,vec2 s,float m){\n    vec2 p=uv-cpos;\n    res=opU(res,vec2(line(p,vec2(8.0,21.0)*s,vec2(5.0,20.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(5.0,20.0)*s,vec2(4.0,18.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(4.0,18.0)*s,vec2(4.0,16.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(4.0,16.0)*s,vec2(5.0,14.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(5.0,14.0)*s,vec2(7.0,13.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(7.0,13.0)*s,vec2(11.0,12.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(11.0,12.0)*s,vec2(14.0,11.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(14.0,11.0)*s,vec2(16.0,9.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(16.0,9.0)*s,vec2(17.0,7.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(17.0,7.0)*s,vec2(17.0,4.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(17.0,4.0)*s,vec2(16.0,2.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(16.0,2.0)*s,vec2(15.0,1.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(15.0,1.0)*s,vec2(12.0,0.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(12.0,0.0)*s,vec2(8.0,0.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(8.0,0.0)*s,vec2(5.0,1.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(5.0,1.0)*s,vec2(4.0,2.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(4.0,2.0)*s,vec2(3.0,4.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(3.0,4.0)*s,vec2(3.0,7.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(3.0,7.0)*s,vec2(4.0,9.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(4.0,9.0)*s,vec2(6.0,11.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(6.0,11.0)*s,vec2(9.0,12.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(9.0,12.0)*s,vec2(13.0,13.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(13.0,13.0)*s,vec2(15.0,14.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(15.0,14.0)*s,vec2(16.0,16.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(16.0,16.0)*s,vec2(16.0,18.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(16.0,18.0)*s,vec2(15.0,20.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(15.0,20.0)*s,vec2(12.0,21.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(12.0,21.0)*s,vec2(8.0,21.0)*s),m));\n    cpos.x+=20.0*s.x;\n}\n// CHAR: 57 :9\nvoid char_9(vec2 uv,vec2 s,float m){\n    vec2 p=uv-cpos;\n    res=opU(res,vec2(line(p,vec2(16.0,14.0)*s,vec2(15.0,11.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(15.0,11.0)*s,vec2(13.0,9.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(13.0,9.0)*s,vec2(10.0,8.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(10.0,8.0)*s,vec2(9.0,8.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(9.0,8.0)*s,vec2(6.0,9.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(6.0,9.0)*s,vec2(4.0,11.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(4.0,11.0)*s,vec2(3.0,14.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(3.0,14.0)*s,vec2(3.0,15.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(3.0,15.0)*s,vec2(4.0,18.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(4.0,18.0)*s,vec2(6.0,20.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(6.0,20.0)*s,vec2(9.0,21.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(9.0,21.0)*s,vec2(10.0,21.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(10.0,21.0)*s,vec2(13.0,20.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(13.0,20.0)*s,vec2(15.0,18.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(15.0,18.0)*s,vec2(16.0,14.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(16.0,14.0)*s,vec2(16.0,9.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(16.0,9.0)*s,vec2(15.0,4.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(15.0,4.0)*s,vec2(13.0,1.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(13.0,1.0)*s,vec2(10.0,0.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(10.0,0.0)*s,vec2(8.0,0.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(8.0,0.0)*s,vec2(5.0,1.0)*s),m));\n    res=opU(res,vec2(line(p,vec2(5.0,1.0)*s,vec2(4.0,3.0)*s),m));\n    cpos.x+=20.0*s.x;\n}\n\nvoid putDigit(float d,vec2 uv, vec2 s,float m)\n{\n    d = floor(d);    \n    if(d == 0.0){ char_0(uv,s,m); return;}\n    if(d == 1.0){ char_1(uv,s,m); return;}\n    if(d == 2.0){ char_2(uv,s,m); return;}\n    if(d == 3.0){ char_3(uv,s,m); return;}\n    if(d == 4.0){ char_4(uv,s,m); return;}\n    if(d == 5.0){ char_5(uv,s,m); return;}\n    if(d == 6.0){ char_6(uv,s,m); return;}\n    if(d == 7.0){ char_7(uv,s,m); return;}\n    if(d == 8.0){ char_8(uv,s,m); return;}\n    if(d == 9.0){ char_9(uv,s,m); return;}\n}\n\nvoid minutes(vec2 uv)\n{\n    vec2 buv=uv;\n    //    cpos=vec2(0.3 ,0.3)-vec2(0.02);\n    vec2 sc=vec2(0.001);\n    float numdia=8.;\n    for(float i=0.;i<12.;i++)\n    {\n        vec2 numpos=vec2(0.3 ,0.3)-(vec2(10.)*sc);\n\n        cpos=rotatePoint(vec2(numpos.x,numpos.y+0.17),numpos,(-i/12.)*PI*2.);\n        vec2 coff=vec2(18.,8.);\n        vec2 ccen=coff;\n\n        vec2 croff=rotatePoint(coff,ccen,(-i/12.)*PI*2.);\n\n        cpos-=croff*sc;\n        cpos+=sc*8.;\n        vec2 bcp=cpos;\n\t\tfloat m=30.+i;\n\n        for(int ii = 1;ii >= 0;ii--)\n        {\n            float digit = mod( (i*5.) / pow(10.0, float(ii)) , 10.0);\n            putDigit(digit,buv,sc,m);\n            cpos=bcp+vec2(16.*sc.x,0.);\n        }\n\n    }\n}\n\nvoid hours(vec2 uv)\n{\n    vec2 buv=uv;\n    //    cpos=vec2(0.3 ,0.3)-vec2(0.02);\n    vec2 sc=vec2(0.002);\n    float numdia=8.;\n    for(float i=0.;i<12.;i++)\n    {\n        vec2 numpos=vec2(0.3 ,0.3)-(vec2(10.)*sc);\n        float np=-i/12.;\n        cpos=rotatePoint(vec2(numpos.x,numpos.y+0.232),numpos,(np)*PI*2.);\n        vec2 coff=vec2((((i==0.) || (i>=10.))?18.:8.),8.);\n        vec2 ccen=vec2((((i==0.) || (i>=10.))?18.:8.),8.);\n\n        vec2 croff=rotatePoint(coff,ccen,(-i/12.)*PI*2.);\n\n        cpos-=croff*sc;\n        cpos+=sc*8.;\n        vec2 bcp=cpos;\n\t\n\t\tfloat m=10.+i;\n\n        if(i==0.){\n            putDigit(1.,buv,sc,m);\n            cpos=bcp+vec2(16.*sc.x,0.);\n            putDigit(2.,buv,sc,m);\n        }else if(i>=10.){\n            putDigit(1.,buv,sc,m);\n            cpos=bcp+vec2(16.*sc.x,0.);\n            putDigit(i-10.,buv,sc,m);\n        }else{\n            putDigit(i,buv,sc,m);\n        }\n        //        char_32(buv,sc);\n    }\n}\n\nfloat isInside( vec2 p, vec2 c ) { vec2 d = abs(p-0.5-c) - 0.5; return -max(d.x,d.y); }\nfloat isInside( vec2 p, vec4 c ) { vec2 d = abs(p-0.5-c.xy-c.zw*0.5) - 0.5*c.zw - 0.5; return -max(d.x,d.y); }\n\nvec4 loadValue( in vec2 re )\n{\n    return texture( iChannel0, (0.5+re) / iChannelResolution[0].xy, -100.0 );\n}\nvoid storeValue( in vec2 re, in vec4 va, inout vec4 fragColor, in vec2 fragCoord )\n{\n    fragColor = ( isInside(fragCoord,re) > 0.0 ) ? va : fragColor;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord.xy / iResolution.xy;\n    uv.y/=iResolution.x/iResolution.y;\n\n    vec3 col=vec3(0.);\n    res=vec2(-100.);\n\n    vec4 sres=loadValue(vec2(0.));\n    if(sres.xyz==iResolution) {\n//if resolution has NOT changed, copy the clock face buffer to the clock face buffer;\n        fragColor = vec4(texture(iChannel0,fragCoord/iResolution.xy).rgb,1.0);\n       return;\n    }\n//if resolution HAS changed, draw the clock face to the buffer;\n    \n    hours(uv);\n    minutes(uv);\n   \n    col=vec3(0.,res.x,res.y);\n    fragColor = vec4(col,1.0);\n    storeValue( vec2(0.), vec4(iResolution,0.),         fragColor, fragCoord );\n\n}","name":"Buffer A","description":"","type":"buffer"}]}