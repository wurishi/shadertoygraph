{"ver":"0.1","info":{"id":"4XSBWy","date":"1729869137","viewed":45,"name":"oparysh","username":"iskorka","description":"oparysh","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["2d"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XsX3Rn","filepath":"/media/a/92d7758c402f0927011ca8d0a7e40251439fba3a1dac26f5b8b62026323501aa.jpg","previewfilepath":"/media/ap/92d7758c402f0927011ca8d0a7e40251439fba3a1dac26f5b8b62026323501aa.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"uniform sampler2D tex0;\n\nvec4 oparysh(vec4 col, ivec2 pos, vec4 scale)\n{\n    ivec4 icol  = ivec4(col*scale);\n    icol = ivec4(icol.r&0xff, icol.g&0xff, icol.b&0xff, icol.a&0xff);\n  \n    ivec3 is = ivec3(scale.rgb); \n    int x = pos.x ^ pos.y;\n    int k = (x << icol.r)*\n            (x << icol.g)*\n            (x << icol.b);\n    k /= is.r+is.g+is.b;\n    \n    ivec4 ixored = icol ^ k;\n          ixored = ixored & ivec4((0xff << is.r), (0xff << is.g), (0xff << is.b), 0xff);\n          ixored = ivec4((ixored.r>>is.r), (ixored.g>>is.g), (ixored.b>>is.b), 0xff);  \n    \n    return vec4(ixored&icol)/scale;\n    \n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n    vec4 scale = vec4(4.0, 4.0, 4.0, 2.0);\n\n    ivec2 pos = ivec2(int((iResolution.y - fragCoord.y)),\n                      int(fragCoord.x));\n\n\n    vec4 col = texture(tex0, uv);\n    \n    // Output to screen\n    fragColor = oparysh(col, pos, scale);\n}","name":"Image","description":"","type":"image"}]}