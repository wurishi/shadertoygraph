{"ver":"0.1","info":{"id":"WtdfRn","date":"1612105416","viewed":46,"name":"boolean,polarmod 02","username":"kithy","description":"boolean,polarmod","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["boolean","polarmod"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\n\nfloat distFuncCube(vec3 p){\n\tvec3 q=abs(p);\n\treturn length(max(q-vec3(0.5,0.2,0.9),0.0));\n}\n\nfloat distFuncSphere(vec3 p){\n\tfloat s=0.5;\n\treturn length(p)-s;\n}\n\n\nvec2 pmod(vec2 p,float n){\n\tfloat np=3.141592*2.0/n;\n\tfloat r=atan(p.x,p.y)-0.5*np;\n\tr=mod(r,np)-0.5*np;\n\treturn length(p)*vec2(cos(r),sin(r));\n}\n\n\nfloat distFunc(vec3 p){\n\tp.z-=iTime*2.0;\n\tp.xy=pmod(p.xy,6.0);\n\tp=mod(p,0.8)-0.4;\n\tfloat d3=distFuncCube(p);\n\tfloat d4=distFuncSphere(p);\n\n\t//return(d3);\n\t//return(d4);\n\n\t//return min(d3,d4);//OR\n\n\t//return max(d3,d4);//AND\n\n\treturn max(d3,-d4);\n\t\n\t//return max(-d3,d4);\n\n}\n\n\nvoid mainImage(out vec4 fragColor,in vec2 fragCoord){\n\tvec2 p=(2.0*fragCoord.xy-iResolution.xy)/min(iResolution.x,iResolution.y);\n\n\tfloat radius=0.1;\n\tfloat phi=iTime*0.2;\n\tvec3 ro=vec3(cos(phi)*radius,0.0,(sin(phi)*radius));\n\tvec3 ta=vec3(0.0);\n\t\n\tvec3 cDir=normalize(ta-ro);\n\tvec3 cSide=cross(cDir,vec3(0.0,1.0,0.0));\n\tvec3 cUp=cross(cSide,cDir);\n\tfloat fov=0.6;\n\n\tvec3 rd=normalize(p.x*cSide+p.y*cUp+cDir*fov);\n\tfloat d,t=0.0;\n\t\n\tfloat emission=0.0;\n\n\tfor(int i=0;i<48;i++){\n\t\td=distFunc(ro+rd*t);\n\t\temission+=exp(abs(d)*-0.2);\n\t\tif(d<0.001)break;\n\t\tt+=d;\n\t\t}\n\n\tvec3 col=0.03*emission*vec3(0.3,sin(iTime*0.5),cos(iTime*0.5));\n\t\n\tfragColor=vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}