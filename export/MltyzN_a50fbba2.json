{"ver":"0.1","info":{"id":"MltyzN","date":"1538404279","viewed":170,"name":"Dots and Spirals","username":"Vovosunt","description":"Mouse x for ring count, mouse y for ring curvature.","likes":6,"published":1,"flags":0,"usePreview":0,"tags":["2d","fake3d"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define smooth (1.0 / iResolution.x)\n#define PI      3.14159265359\n#define liness 8.0\n#define rings 32.0\n#define swirls 8.0\n#define size 0.005\n#define pos 0.15\n#define width 0.055\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 st = (fragCoord.xy -0.5 * iResolution.xy)/ iResolution.x;\n        \n    vec3 finCol = vec3(0.0);\n    float lines = floor(iMouse.x / iResolution.x * liness + 1.);\n    float swirl = floor(iMouse.y / iResolution.y * swirls + 1.);\n    float maxz = 0.0;\n    \n    \n    for(float i = 0.0; i < lines; ++i){\n    \n        float il = i /lines;\n        \n    \tfloat a =(atan(st.x,st.y) + PI)/PI/2.;\n    \tfloat aa = (floor(a * rings) + 0.5)/rings;\n    \taa = aa * 2.0 * PI - PI;\n    \tfloat offset = floor(a * rings)/rings * 2.0 * PI * swirl + il * 2.0 * PI;\n    \tfloat rt = cos(iTime * 1.0 + offset)/2.0 + 0.5;\n    \tfloat rm = sin(iTime * 1.0 + offset)/2.0 + 0.5;\n    \tfloat ll = mix(pos - width,pos + width,rt);\n    \n    \tvec2 center = vec2(ll*sin(aa),ll*cos(aa));\n\n        float ring = length(center - st);\n        ring = smoothstep(smooth,-smooth,ring -size *(1.0 +  rm)/2.0);\n        //vec3 color = vec3(il, fract(il*2.0),fract(il*3.0)) + vec3(0.15);\n        //float xm = (0.25 + rm)/1.25;\n        //if(maxz < xm){\n        //    finCol = mix(finCol,color * xm,ring);\n        //    maxz = xm;\n        //}\n        //finCol = mix(finCol, color *ring * (0.25 + rm)/1.25, step(maxz - rm,0.0));\n        finCol = max(finCol,ring * (0.25 + rm)/1.25);\n    }\n    \n\tfragColor = vec4(finCol,1.0);\n}\n","name":"Image","description":"","type":"image"}]}