{"ver":"0.1","info":{"id":"clcGDf","date":"1683221318","viewed":71,"name":"HSV color picker","username":"vegardno","description":"Saw one that was a bit more \"artistic\" and tried to replicate it.","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["hsv","colorpicker"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XdX3Rn","filepath":"/media/a/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg","previewfilepath":"/media/ap/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// https://stackoverflow.com/questions/12964279/whats-the-origin-of-this-glsl-rand-one-liner\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\n// https://www.shadertoy.com/view/wlsSRB\nvec3 hsv2rgb2(vec3 c, float k) {\n    vec4 K = vec4(3. / 3., 2. / 3., 1. / 3., 3.);\n    vec3 p = smoothstep(0. + k, 1. - k,\n        .5 + .5 * cos((c.xxx + K.xyz) * radians(360.)));\n    return c.z * mix(K.xxx, p, c.y);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float zoom = .7 * iResolution.y;\n    vec2 uv = (2. * fragCoord - iResolution.xy) / zoom;\n\n    if (uv.x >= 1.5 && uv.y <= -.5)\n        uv = (2. * iMouse.xy - iResolution.xy) / zoom;\n\n    vec2 uv2 = uv;\n\n    float a = atan(uv2.y, uv2.x) / radians(360.);\n    float r = length(uv2);\n\n    r += .5 * (texture(iChannel0, .25 * uv + .1 * 2.).r - .0);\n    a += .1 * (texture(iChannel0, .25 * uv - .1 * 2.).g - .0);\n\n    r = floor(4. * r + .1 * rand(2. * uv)) / 4.;\n    a = floor(18. * a + .1 * rand(uv)) / 18.;\n\n    a *= radians(360.);\n    uv2 = r * vec2(cos(a), sin(a));\n    uv2 = mix(uv, uv2, .3);\n\n    vec3 col = vec3(0);    \n    col = mix(\n        //outside\n        hsv2rgb2(vec3(atan(uv2.y, uv2.x) / radians(360.), 1., 2. - length(uv2)), .15),\n        // inside\n        hsv2rgb2(vec3(atan(uv2.y, uv2.x) / radians(360.), length(uv2), 1.), .15),\n        smoothstep(1.5, -1.5, (length(uv2) - 1.) * zoom));\n\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}