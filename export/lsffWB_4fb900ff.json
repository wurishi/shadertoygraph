{"ver":"0.1","info":{"id":"lsffWB","date":"1500429086","viewed":189,"name":"black body / color temperatures","username":"aadeon","description":"description","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["blackbody","colortemperature"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define black_temp 0.0\n#define red_temp 500.0\n#define orange_temp 2500.0\n#define yellow_temp 5000.0\n#define white_temp 6000.0\n#define cyan_temp 15000.0\n\n\nvec4 WHITE = vec4(1.0,1.0,1.0,1.0);\nvec4 BLACK = vec4(0.0,0.0,0.0,0.0);\n    \nvec4 RED = vec4(1.0,0.0,0.0,1.0);\nvec4 GREEN = vec4(0.0,1.0,0.0,1.0);\nvec4 BLUE = vec4(0.0,0.0,1.0,1.0);\n    \nvec4 CYAN = vec4(0.0,1.0,1.0,1.0);\nvec4 MAGENTA = vec4(1.0,0.0,1.0,1.0);\nvec4 YELLOW = vec4(1.0,0.85,0.0,1.0);\n\nvec4 ORANGE = vec4(1.0,0.5,0.0,1.0);\n\n\nstruct light\n{\n vec2 position;\n float temp;\n float size;\n};\n    \nlight createLight(vec2 position, float temp, float size)\n{\n  light l;\n    l.position = position;\n    l.temp = temp;\n    l.size = size;\n    return l;\n}\n\nvec4 interpolate(vec4 c1, vec4 c2, float f)\n{\n return (1.0-f)*c1+(f)*c2;   \n}\n\nvec4 interpolate(vec4 c1, vec4 c2, float a, float b, float n)\n{\n    float f = (n-a)/(b-a);\n \treturn (1.0-f)*c1+(f)*c2;   \n}\n\nvec4 color_temp2(float temp)\n{\n    return WHITE;\n}\n\nvec4 color_temp(float temp)\n{\n     if (temp <= orange_temp)\n    {\n     return interpolate(RED, ORANGE, red_temp, orange_temp, temp); \n    }\n    else if (temp <= yellow_temp)\n    {\n     return interpolate(ORANGE, YELLOW, orange_temp, yellow_temp, temp);  \n    }\n    else if (temp <= white_temp)\n    {\n     return interpolate(YELLOW, WHITE, yellow_temp, white_temp, temp);  \n    }\n    else if (temp <= cyan_temp)\n    {\n     return interpolate(WHITE, CYAN, white_temp, cyan_temp, temp);  \n    }\n    else return WHITE;\n}\n\n\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 muv = (iMouse.xy/iResolution.xy);\n    \n    light l = createLight(iResolution.xy/2.0, 10000.0*(muv.y), abs(iResolution.x/2.0-iMouse.x));\n    \n    \n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    //float temp = uv.x*10000.0;\n    \n    if (distance(fragCoord.xy,l.position)<= l.size)\n    {\n   \t fragColor = color_temp(l.temp); \n    }   \n    else\n    {\n        \n        //fragColor = interpolate(color_temp(l.temp), BLACK, l.size, 2.0*l.size, pow(distance(fragCoord.xy,l.position)-l.size,1.0));\n       fragColor =  color_temp(l.temp)*pow(l.size,2.0)/pow(distance(fragCoord.xy,l.position),2.0);   \n    }\n\t\n}\n        \n        \n        \n        ","name":"Image","description":"","type":"image"}]}