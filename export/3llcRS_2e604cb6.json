{"ver":"0.1","info":{"id":"3llcRS","date":"1592347925","viewed":78,"name":"Gear wheel thingy","username":"tibor0991","description":"Ehhh, nothing much, looks nice but nothing special here.","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["smoothstep","polar","coordinates","gear"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sf3Rn","filepath":"/media/a/0a40562379b63dfb89227e6d172f39fdce9022cba76623f1054a2c83d6c0ba5d.png","previewfilepath":"/media/ap/0a40562379b63dfb89227e6d172f39fdce9022cba76623f1054a2c83d6c0ba5d.png","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\nfloat gear(float teethN, float toothHW, vec2 st, float radius) {\n    vec2 uv = vec2(st.x * teethN, st.y-radius);\n\tfloat x = abs((fract(uv.x)-0.5))*2.;\n    float y = uv.y * sqrt(2.) * teethN;\t\t//might be correct, I don't remember the actual formula for the tooth depth\n\treturn 1. - abs(y - smoothstep(0.5-toothHW, 0.5+toothHW, x)); //returns only the contour\n    //return y - smoothstep(0.5-toothHW, 0.5+toothHW, x);\t//returns the full shape\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord.xy-.5*iResolution.xy)/iResolution.y;\n    vec2 st = vec2((atan(uv.x, uv.y) / 6.2831)+0.5, length(uv));\n    \n    float teethN = 32.;\n    \n    \n    //wobbly effect\n    //float toothHW = texture(iChannel0, uv).x*0.4; //tooth half-width\n    \n    //sharp teeth\n    float toothHW = 0.3;\t//tooth half-width\n    \n    float g1 = gear(teethN, toothHW, st + vec2(iTime*0.1,0.), 0.4);\n    float g2 = gear(teethN, toothHW, st + vec2(iTime*0.1,0.), 0.35);\n    \n    \n\n    float col = smoothstep(0.9, 1., pow(max(g1, g2), 0.2));\n\n    // Output to screen\n    fragColor = vec4(col, col, col,1.0);\n}","name":"Image","description":"","type":"image"}]}