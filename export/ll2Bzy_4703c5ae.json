{"ver":"0.1","info":{"id":"ll2Bzy","date":"1516377615","viewed":357,"name":"Worm sun","username":"skaplun","description":"Tryin to reproduce Dave Whyte's animation.\nOriginal: https://dribbble.com/shots/3868342-Worm-Sun","likes":10,"published":1,"flags":0,"usePreview":0,"tags":["2d","wave","animation","sine"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.14159265359\n#define MAGENTA vec3(.24, .1, .35)\n#define WHITE vec3(1.)\n#define REPETITIONS 5\n#define DELTA PI/float(REPETITIONS)\n#define THICKNESS .025\n#define ES (6./iResolution.y)\n#define rMat(x) mat2(cos(x), -sin(x), sin(x), cos(x))\n\nfloat rm(float value, float min, float max) {\n    return clamp((value - min) / (max - min), 0., 1.);\n}\n\nfloat makeSignWave(vec2 st, float waveCenter, float waveLength, float addWave){\n    float xSign = sign(st.x);\n    float s = sin(st.x * 7. + iTime * 2. * xSign + addWave) * (.05 + pow(rm(length(st), waveCenter - waveLength, waveCenter + waveLength), 1.5) * .2);\n    float curWidth = pow(1. - rm(abs(waveCenter - abs(st.x)), 0., waveLength), 1.5) * THICKNESS;\n    \n    return smoothstep(ES, 0., abs(st.y - s) - curWidth)\n         * smoothstep(ES, 0., abs(abs(st.x)-waveCenter)-waveLength);\n}\n\nfloat clr(vec2 st){\n    float color = 0.;\n    for(int i=0; i<3; i++)\n        color += makeSignWave(st, .5 + .1 * float(i), .3, PI/2.*float(i));\n    return color;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 st = ( fragCoord * 2. - iResolution.xy ) / iResolution.y;\n    st *= 1.2;\n    float color = clr(st);\n    for(int i=0; i<REPETITIONS; i++, st *= rMat(DELTA))\n        color += clr(st);\n    fragColor = vec4(mix(MAGENTA, WHITE, color), 1.);\n}","name":"Image","description":"","type":"image"}]}