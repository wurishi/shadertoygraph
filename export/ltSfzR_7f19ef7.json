{"ver":"0.1","info":{"id":"ltSfzR","date":"1514251400","viewed":112,"name":"Hypno Circles","username":"n1kk","description":"Just look at the dot in the middle.","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["waves","circles","hypno"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define UV_CENTERIZE true\n#define UV_SIZE 1.2\n\n// this will adapt smoothing values to different resolutions\n#define UV_DENSITY (UV_SIZE/iResolution)\n\n// ----- CIRCLE \n// fill\nfloat g_circle_fill(vec2 p, vec2 center, float radius)\n{\n\treturn smoothstep(radius + UV_DENSITY.x * 5., radius, length(p - center));\n}\n\n// line \nfloat g_circle_line(vec2 p, vec2 center, float radius, float th)\n{\n    float delta = UV_DENSITY.x * 5.;\n    float rad1 = radius - th;\n    float rad2 = radius + th;\n    float l = length(p - center);\n\treturn min(smoothstep(rad1 - delta, rad1, l),\n              smoothstep(rad2 + delta, rad2, l));\n}\n\nfloat g_circle_line(vec2 p, vec2 center, float radius){\n\treturn g_circle_line(p, center, radius, 0.); \n}\n\n// ------ POLAR\n\nvec2 plr(float x, float y) { return vec2(length(vec2(x, y)), atan(y, x)); }\nvec2 plr(vec2 p) { return plr(p.x, p.y); }\n\n// ------ MATH\n\n#define snap(v,s) (round(v/s) * s)    \n\n// ----- MAIN_IMAGE\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    // origin\n    if (UV_CENTERIZE) {\n        uv = -UV_SIZE + 2. * UV_SIZE * uv;\n        uv.x *= iResolution.x / iResolution.y;\n    }\n    \n    vec2 p = plr(uv);\n    vec4 O = vec4(0.);\n    \n    vec3 c_red = vec3(1., .3, .3);\n    \n    float st1 = 0.05;\n    \n    float dt1 = mod(iTime * .1, st1);\n    float sdt1 = (dt1 < 0.05 ? dt1 : .1 - dt1) ;\n\n    for (float i = -1.; i < 2.; i += 1.)\n    \tO.rgb += c_red * g_circle_line(uv, vec2(0.), snap(p.x, st1) + st1*i + dt1);\n    \n    //O.rgb = max(O.rgb, c_red * g_circle_fill(uv, vec2(0.), .01 + sdt1));\n    \n\tfragColor = O;\n}","name":"Image","description":"","type":"image"}]}