{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"//20/03/2014 - Click on the shader to activate a different cardioid shape\n//26/03/2014 - Added a basic border smoothing, enable it with the SMOOTH define\n\n#define SMOOTH true\n\nfloat s_mask(vec2 p, float s) {\n\tfloat fw = fwidth(s);\n\treturn smoothstep(-fw, fw, s);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 p = (-1.0 + 2.0*fragCoord.xy / iResolution.xy)*vec2(iResolution.x/iResolution.y, 1.0);\n\tfloat beat = abs(sin(iTime)) + 0.7;\n\tfloat x = beat*p.x*3.0;\n\tfloat y = beat*p.y*4.0;\n\tfloat b = 1.2;\n\tfloat shape = x*x + pow((y - pow(x*x, 1.0/3.0)), 2.0) - 1.5;\n\t//float shape = pow(x*x+y*y-1.0, 3.0) - (x*x*y*y*y); //smooth not working well\n\t\n\tvec4 bCol = vec4(1.0, 0.65, 0.74, 1.0)*vec4(vec3(1.0 - 0.3*length(p)), 1.0);\n\tvec4 sCol = vec4(0.7, 0.062, 0.23, 1.0);\n\t\n\tif(iMouse.z > 0.0) {\n\t\ty -= 1.0;\n\t\tshape = pow(x*x+y*y+b*y, 2.0) - b*b*(x*x+y*y);\n\t}\n\t\n\tvec4 col = (shape < 0.0) ? sCol : bCol;\n\t\n\tif(SMOOTH) {\n\t\tfloat m = s_mask(p, shape);\n\t\tcol = mix(sCol, bCol, m);\n\t}\n\t\n\tfragColor = col;\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"ldjGDt","date":"1395327079","viewed":224,"name":"Bouncing Heart","username":"Nihilus","description":"An heart (cardioid) made with GLSL, an example and test.","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["test","example","newbe"],"hasliked":0,"parentid":"","parentname":""}}