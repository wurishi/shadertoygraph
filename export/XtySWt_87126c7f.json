{"ver":"0.1","info":{"id":"XtySWt","date":"1486323802","viewed":170,"name":"Broken circular rainbow","username":"Loeizd","description":"trying to make a simple circular rainbow, unsuccessful but interesting result.\nI think my polar coordinates aren't good.","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["color","gradient"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.1415\n\nvoid mainImage( out vec4 O,  vec2 U )\n{\n\tvec2 R = iResolution.xy, \n\t\t M = iMouse.xy/R;\n    U /= R;\n    float T = iDate.w; \n    \n    \n    //polar coordinates\n    U = vec2(fract(T*.5 + atan(U.y-0.5, U.x-0.5)/PI*.5+.5), 2.0*length(vec2(0.5-U)));\n    \n    \n    //gradient\n    vec3 m = abs(U.x*4.-vec3(3,2,4)/1.5);\n    m.gb = 1.-m.gb;\n\tm = smoothstep(0., 1., m);\n       \n    \n    O = sqrt(vec4(m, 1))+(sin(T*2.0)*0.5+0.5)*1.0-U.y;\n}","name":"Image","description":"","type":"image"}]}