{"ver":"0.1","info":{"id":"MsXcWj","date":"1534591892","viewed":127,"name":"Log Gradient","username":"TinyTexel","description":"shader","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["shader"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define CPAIR 0\n\nfloat Lum(vec3 rgb)\n{\n    return  0.2126 * rgb.r + 0.7152 * rgb.g + 0.0722 * rgb.b;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n\tfragColor = vec4(uv,0.5+0.5*sin(iTime),1.0);\n    \n    #if CPAIR == 0\n    vec3 colA = vec3(0.95, 0.2, 0.05);\n    vec3 colB = vec3(0.05, 0.2, 0.95);\n    #elif CPAIR == 1\n    vec3 colA = vec3(0.2, 0.95, 0.05);\n    vec3 colB = vec3(0.05, 0.2, 0.95);\n    #elif CPAIR == 2\n    vec3 colA = vec3(0.1, 0.3, 0.9);\n    vec3 colB = vec3(0.8, 0.9, 0.3);\n    #elif CPAIR == 3\n    vec3 colA = vec3(0.0001, 0.0001, 0.0001);\n    vec3 colB = vec3(1.0, 1.0, 1.0);\n    #elif CPAIR == 4\n    vec3 colA = vec3(1.0, 0.0001, 0.0001);\n    vec3 colB = vec3(0.0001, 0.0001, 1.0);\n     #elif CPAIR == 5\n    vec3 colA = vec3(0.0001, 1.0, 0.0001);\n    vec3 colB = vec3(0.0001, 0.0001, 1.0);\n    #endif\n    \n    colA = pow(colA, vec3(2.2));\n    colB = pow(colB, vec3(2.2));\n    \n    float lumA = Lum(colA);\n    float lumB = Lum(colB);\n    \n    vec3 colR0 = mix(colA, colB, uv.x);\n    vec3 colR1 = exp2(mix(log2(colA), log2(colB), uv.x));\n    \n    vec3 colR = uv.y < 0.5 ? colR0 : colR1;\n    \n    float lumR = mix(lumA, lumB, uv.x);\n    float lumRp = Lum(colR);\n    \n   \t//if(abs(uv.y - 0.5) < 0.45)\n    colR *= lumR / lumRp;\n    \n    if(abs(uv.y - 0.5) < 0.125) colR = uv.x < 0.5 ? colA : colB;\n    \n    fragColor.rgb = pow(colR, vec3(1.0 / 2.2));\n    \n    if(uv.y > 1.0 - 0.01) fragColor = vec4(0.0);\n    if(uv.y < 0.01) fragColor = vec4(0.0);\n    if(abs(uv.y - 0.625) < 0.005) fragColor = vec4(0.0);\n    if(abs(uv.y - 0.375) < 0.005) fragColor = vec4(0.0);\n}","name":"Image","description":"","type":"image"}]}