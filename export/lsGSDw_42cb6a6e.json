{"ver":"0.1","info":{"id":"lsGSDw","date":"1464715132","viewed":221,"name":"jonbro@gmail.com","username":"jonbro","description":"just a little moire pattern.","likes":7,"published":1,"flags":0,"usePreview":0,"tags":["2d"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.14159\nfloat sinNorm(float val)\n{\n    return (sin(val)+1.0)*0.5;\n}\nfloat str(float ratio, float toff)\n{\n    return sinNorm((toff)*PI*ratio);\n}\nfloat moire(vec2 uv, float phase)\n{    \n    float toff = phase;\n    vec2 center = vec2(str(1.0, toff)*0.3, str(1.3, toff)*0.15)+vec2(0.5, 0.5);\n    vec2 center2 = vec2(str(0.2, toff)*0.13, str(0.1, toff)*0.3)-vec2(0.5, 0.5);\n    vec2 center3 = vec2(str(2.0, toff)*0.2, str(1.0, toff)*0.25)+vec2(0.5, 0.5);\n    vec2 center4 = vec2(str(1.0, toff)*1.3, str(0.2, toff))-vec2(0.5, 0.5);\n    float c = sinNorm((length(uv-center)+1.5*sinNorm(length(uv-center2)))*250.0);\n    float c2 = sinNorm((length(uv-center3)+sinNorm(length(uv-center4)))*250.0);\n    float cavg = (c+c2)*0.5;\n    c = 1.0-smoothstep(ceil(min(c, c2)-0.5),1.0-cavg,0.5);//, 0.01);\n\treturn c;\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    \n    float p1 = mod((iTime+0.0)*0.25, 1.0);\n    float c = moire(uv, p1*0.25)*sin(p1*PI);\n\n    p1 = mod((iTime+0.25)*0.25, 1.0);\n\tc = max(c, moire(uv, p1*0.25)*sin(p1*PI));\n\n    p1 = mod((iTime+1.0)*0.25, 1.0);\n\tc = max(c, moire(uv, p1*0.25)*sin(p1*PI));\n    p1 = mod((iTime+2.0)*0.25, 1.0);\n\tc = max(c, moire(uv, p1*0.25)*sin(p1*PI));\n    fragColor = vec4(c,c,c,1.0);\n}\n","name":"Image","description":"","type":"image"}]}