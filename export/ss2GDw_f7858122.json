{"ver":"0.1","info":{"id":"ss2GDw","date":"1617534445","viewed":463,"name":"ShaderShodwon_Revision","username":"louis_C","description":"Visual made during the Revision's Shadershowdown 2021","likes":12,"published":1,"flags":40,"usePreview":0,"tags":["livedoingshadershowdown"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{    \n    vec2 uv = fragCoord/iResolution.xy;   \n    fragColor = texture(iChannel0 ,uv);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"XdfGRr","filepath":"/media/a/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm","previewfilepath":"/media/ap/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm","type":"video","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"\nfloat li(vec2 uv, vec2 a , vec2 b){ vec2 ua = uv-a; vec2 ba = b-a;\n  float h = clamp(dot(ua,ba)/dot(ba,ba),0.,1.);\n  return length(ua-ba*h);}\n  float rd(float t){ return fract(sin(dot(floor(t),45.))*7845.236);}\n  float no(float t){return mix(rd(t),rd(t+1.), smoothstep(0.,1.,fract(t)));}\n  vec2 it(vec2 t){vec2 r = vec2(0.); float a = 0.5; for(int i = 0 ; i < 3 ; i++){\n    r += vec2(no(t.x/a),no(t.y/a))*a;a*=0.5;} return pow(r,vec2(2.));}\n    float it(float t){float r =0.; float a = 0.5; for(int i = 0 ; i < 3 ; i++){\n    r += no(t/a)*a;a*=0.5;} return r;}\n   \n   vec4 mv(int i){vec2 t = vec2(iTime,iTime-iTimeDelta);\n      vec2 v1 = smoothstep(0.1,0.2,it(t*0.3));float ic = float(i);\n     vec2 vr = mix((it(t+ic*49.)-0.5)*0.1,vec2(0.),v1);\n     return (vec4( cos(ic*mix(vec2(1.),it(t*0.1),v1)+t),sin(ic*mix(vec2(1.),it(t*0.2),v1)+t)))*0.7*\n     vec4(mix(vec2( iResolution.y/ iResolution.x),vec2(1.),v1),1.,1.)+vec4(vr,0.,0.);}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    vec2 uc = uv;\n  uv = (uv-0.5)*2.;float r1 = 0.;\n  for(int  i = 1 ; i < 40 ; i++) {\n    vec4 p = mv(i);\n    r1 = max(r1,smoothstep(0.01,0.,li(uv,p.xz,p.yw)));\n  }\n  float r2 = max(r1,texture(iChannel0,uc).a*0.95);\n  vec2 uv2 = uv*vec2( iResolution.x/ iResolution.y,1.);\n  float t = (texture(iChannel1,uv2+vec2(0.5)).x)*step(length(uv2),0.5)*smoothstep(0.3,0.23,it(iTime*0.3));\n  r2 = max(t,r2);\n  float c = 0.;\n  vec2 ud = uc; vec2 ud2 = uv*0.005;\n  for(int  i = 1 ; i< 30 ; i++){\n    ud -= ud2;\n    c += texture(iChannel0,ud).a/float(i);\n  }\n  float f3 = max(c*(0.2+0.07*it(iTime*4.)),r2);\n  float m = 0.;\n  float b = sqrt(32.);\n  float d = length(uv.y)*0.01;\n  for(float i = -0.5*b; i <= 0.5*b; i +=1.)\n  for(float j = -0.5*b; j <= 0.5*b; j +=1.){\n    m += texture(iChannel0,uc+vec2(i,j)*d).a;\n  }\n  m /= 32.;\n  vec3 c1 = mix(vec3(1.),3.*abs(1.-2.*fract(m*.65+0.65+pow(it(iTime),5.)*10.+vec3(0.,-1./3.,1./3.)))-1.,0.5)*m;\n  vec3 c2 = mix(c1,1.-c1,smoothstep(0.2,0.1,it(iTime*3.+26.)));\n    fragColor = vec4(vec3(c2),f3);\n}","name":"Buffer A","description":"","type":"buffer"},{"inputs":[],"outputs":[],"code":"float rd(float t){ return fract(sin(dot(floor(t),45.))*7845.236);}\nfloat no(float t){return mix(rd(t),rd(t+1.), smoothstep(0.,1.,fract(t)));}\nfloat it(float t){float r =0.; float a = 0.5; for(int i = 0 ; i < 3 ; i++){\nr += no(t/a)*a;a*=0.5;} return (r-0.5)*2.;}\nfloat it2(float t){float r =0.; float a = 0.5; for(int i = 0 ; i < 3 ; i++){\nr += no(t/a)*a;a*=0.5;} return pow(r,2.);}\nfloat voc(float t, float f, float ft){float x = fract(t * f) / f;\nfloat e=(sin(x*3.*ft)+sin(x*22.*ft)+sin(x*28.*ft)); \nreturn e* min(x * 1000., 1.) * exp(x * -200.);}\nfloat hash(float x){return fract(sin(x) * 897612.531);}\nvec2 t1(float t, float var){\n    vec2 v = vec2(0., 0.);\n    for(int i = 0; i < 7; ++i){\n        float h = float(i);\n       \tfloat m = voc(t+h,40.+pow(2.01,(h-8.)*.2),var);\n        float pan = hash(h);\n        v.x += m * pan;\n        v.y += m * (1.-pan);\n    }return v *.1;}\nvec2 mainSound( int samp, float time )\n{\n   vec2 v1; float v2;\n   float vr = smoothstep(0.1,0.2,it2(time*0.3));\n   float vr2 = it(time*4.);\n   for( int  i = 1 ; i <7 ; i++){\n   float r = float (i);\n   float va = distance(sin(time+r*it2(time*0.2)),cos(time+r*it2(time*0.1)))*vr;\n    v1 +=  t1(time,va*20000.+hash(va)*100.);\n    v1 += t1(time,va*20.);    \n  }\n  v1 *=0.5;\n  v1 += t1(time,100.)*(1.-vr);\n    return vec2( v1);\n}","name":"Sound","description":"","type":"sound"}]}