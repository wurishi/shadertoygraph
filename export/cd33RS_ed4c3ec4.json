{"ver":"0.1","info":{"id":"cd33RS","date":"1677425740","viewed":58,"name":"Voronoi sky_haihai","username":"sky_haihai","description":"voronoi","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["noise"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec3 HueShift (in vec3 Color, in float Shift)\n{\n    vec3 P = vec3(0.55735)*dot(vec3(0.55735),Color);\n    \n    vec3 U = Color-P;\n    \n    vec3 V = cross(vec3(0.55735),U);    \n\n    Color = U*cos(Shift*6.2832) + V*sin(Shift*6.2832) + P;\n    \n    return vec3(Color);\n}\n\nvec2 N22(vec2 p){\n    vec3 a = fract(p.xyx *vec3(123.34,234.34,345.65));\n    a+=dot(a,a+34.45);\n    return fract(vec2(a.x*a.y,a.y*a.z));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv= (2.*fragCoord-iResolution.xy)/iResolution.y;\n        \n    float result=0.;\n    float t=iTime*.5;\n    \n    float cellIndex=0.;\n    float minDist=100.;\n    float minDist2=101.;\n    \n    for(float i=1.;i<50.;i++){\n       vec2 n= N22(vec2(i));\n       vec2 p=sin(n*t);\n       \n       float d=distance(uv,p);\n       \n       result+=smoothstep(.02,.01,d);\n       \n       if(d<minDist2){\n           minDist2=d;\n           if(minDist2<minDist){\n               float temp=minDist;\n               minDist=minDist2;\n               minDist2=temp;\n               cellIndex=i;\n           }\n       }\n       \n    }\n\n    vec3 c=HueShift(vec3(1.,0.,0.),cellIndex/50.);\n    float delta=minDist2-minDist;\n    delta=step(delta,uv.x);\n    vec3 col=vec3(delta);\n    \n    fragColor=vec4(col,1.);\n}","name":"Image","description":"","type":"image"}]}