{"ver":"0.1","info":{"id":"7tX3RS","date":"1643095342","viewed":142,"name":"inflate-2d effects(2)","username":"shicz86","description":"2deffects\nps: move mouse position and click on screen can change the result.","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["2deffects"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGRn","filepath":"/media/a/10eb4fe0ac8a7dc348a2cc282ca5df1759ab8bf680117e4047728100969e7b43.jpg","previewfilepath":"/media/ap/10eb4fe0ac8a7dc348a2cc282ca5df1759ab8bf680117e4047728100969e7b43.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define RANGE .25\n#define SPEED 3.\n#define STRENGTH .5*sin(iTime*SPEED)\n#define SCALE_FLAG 0\n\nvec2 inflate(vec2 uv,vec2 center,float range,float strength)\n{\n    float dist = distance(uv,center);\n    vec2 dir = normalize(uv-center);\n    float scale = 1.-strength+strength*smoothstep(0.,1.,dist/range);\n    float newDist = dist*scale;\n    \n    return center+newDist*dir;\n    // stretch only on x axis\n    //return center+vec2(newDist,dist)*dir;\n    // stretch only on y axis\n    //return center+vec2(dist,newDist)*dir;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.y;\n    vec2 mouse = iMouse.xy/iResolution.y;\n    \n    if(iMouse.xy == vec2(0))\n    {\n        mouse = vec2(0.5);\n        mouse.x *= iResolution.x/iResolution.y;\n    }\n    uv = inflate(uv,mouse,RANGE,STRENGTH);\n\n    vec4 color = texture(iChannel0,uv);\n    fragColor = color;\n}\n","name":"Image","description":"","type":"image"}]}