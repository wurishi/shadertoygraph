{"ver":"0.1","info":{"id":"DsfGWN","date":"1666115783","viewed":180,"name":"Artober - Angel's wings","username":"Flopine","description":"Day 17 or artober challenge, using old technics and getting back to an previous style can be refreshing :D ","likes":13,"published":1,"flags":0,"usePreview":0,"tags":["raymarching","fractal","fog","animation","everyday"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Code by Flopine\n\n// Thanks to wsmind, leon, XT95, lsdlive, lamogui, \n// Coyhot, Alkama,YX, NuSan, slerpy, wwrighter \n// BigWings, FabriceNeyret and Blackle for teaching me\n\n// Thanks LJ for giving me the spark :3\n\n// Thanks to the Cookie Collective, which build a cozy and safe environment for me \n// and other to sprout :)  \n// https://twitter.com/CookieDemoparty\n\n\n#define PI acos(-1.)\n#define rot(a) mat2(cos(a),sin(a),-sin(a),cos(a))\n\n\nvoid mo (inout vec2 p, vec2 d)\n{\n    p = abs(p)-d;\n    if(p.y>p.x) p=p.yx;\n}\n\nfloat tore (vec3 p, vec2 d)\n{\n    vec2 q = vec2(length(p.xy)-d.x, p.z);\n    for (int i=0; i<9; i++)\n    {        \n        mo(q, vec2(0.45, 0.35));        \n        float a = sin(atan(p.y,p.x)/PI)+iTime*0.3;\n        q *= rot(a);\n    }    \n    return length(q)-d.y;\n}\n\nfloat SDF (vec3 p)\n{\n    float t = tore(p.yzx, vec2(2., 0.1));\n    return t;\n}\n\nvec3 gcam (vec3 ro, vec3 ta, vec2 uv)\n{\n    vec3 f = normalize(ta-ro);\n    vec3 l = normalize(cross(vec3(0.,1.,0.),f));\n    vec3 u = normalize(cross(f,l));\n    return normalize(f+uv.x*l+uv.y*u);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (2.*fragCoord-iResolution.xy)/iResolution.y;\n\n    vec3 ro = vec3(1.5, 1., -7.5), rd=gcam(ro, vec3(0.),uv), p=ro;\n\n    for(float i=0.; i<64.; i++)\n    {\n        float d = SDF(p);\n        if (d<0.001)\n        {\n            break;\n        }\n        p += d*rd*0.7;\n    }\n    \n    float t = length(ro-p);   \n    vec3 col = mix (vec3(1.), vec3(.55,.75,.99), clamp(1.-exp(-0.008*t*t),0., 1.));\n    \n    // Output to screen\n    fragColor = vec4(sqrt(col),1.0);\n}","name":"Image","description":"","type":"image"}]}