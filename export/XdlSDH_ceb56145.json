{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"// @acaudwell\n\n// based on the mandelbulb distance function from this thread:\n// http://www.fractalforums.com/mandelbulb-implementation/realtime-renderingoptimisations/\n\nfloat mandelbulb(vec3 p, float power) {\n        \n    float r  = length(p);\n\n    vec3 c = p;\n        \n    for(int i=0; i<2; i++) {\n\n        float zo0 = asin(p.z / r);\n        float zi0 = atan(p.y, p.x);\n        float zr  = pow(r, power-1.0);\n        float zo  = (zo0) * power;\n        float zi  = (zi0) * power;\n        float czo = cos(zo);\n\n        p = zr * r * vec3(czo*cos(zi), czo*sin(zi), sin(zo));\n\n        p += c;\n\n        r = length(p);\n    }\n\n    return 0.5 * log(r);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n\n    vec2 p = ((fragCoord.xy / iResolution.xy) * 2.0 - 1.0) * 3.5;\n\n    float t = iTime;\n\n    vec3 p1 = normalize( vec3((p - 1.5*vec2(sin(t-2.0), cos(t+1.0))) * vec2(iResolution.x/iResolution.y, 1.0), 1.0 ) );\n    vec3 p2 = normalize( vec3((p - 1.5*vec2(cos(-t),sin(t))) * vec2(iResolution.x/iResolution.y, 1.0), 1.0 ) );\n\n    p1.xy = vec2( p1.x * cos(t) - p1.y * sin(t), p1.x * sin(t) + p1.y * cos(t)); \n    p2.xy = vec2( p2.x * cos(t) - p2.y * sin(t), p2.x * sin(t) + p2.y * cos(t)); \n\n    float m1 =  mandelbulb(p1, abs(cos(t)*13.0));\n    float m2 =  mandelbulb(p2, abs(sin(t)*13.0));\n\n    float f = pow(max(m1,m2) , abs(m1-m2));\n    vec3  c = m1 > m2 ? vec3(0.0, 0.05, 0.2) : vec3(0.2, 0.05, 0.0);\n\n    fragColor = vec4(c*f, 1.0);\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"XdlSDH","date":"1400452485","viewed":3394,"name":"Dueling Mandelbulbs","username":"andyalias","description":"I originally made this on GLSL Sandbox a while back. Tidied up and ported to ShaderToy.","likes":25,"published":1,"flags":0,"usePreview":0,"tags":["mandelbulb"],"hasliked":0,"parentid":"","parentname":""}}