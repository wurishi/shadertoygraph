{"ver":"0.1","info":{"id":"st23RG","date":"1624176466","viewed":597,"name":"Pixel perfect outline ( MIPmap )","username":"FabriceNeyret2","description":"MIPmapÂ variant of https://shadertoy.com/view/7ljGWD : precomputing mask, drawing isoval 0.5 .\n( LOD0 contour not antialiased ).\nNot sure why LOD8 is aliased: precision loss ?\nBTW builtin MIPmap of non-power-of-2 is very wrong, especially on Windows.","likes":13,"published":3,"flags":32,"usePreview":0,"tags":["pixel","outline","gpmipmap"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"mipmap","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// MIPmap variant of https://shadertoy.com/view/7ljGWD\n// LOD variant of \"Pixel perfect outline\" by portponky. https://shadertoy.com/view/7tj3Wh\n\n\nvoid mainImage( out vec4 O, vec2 U )\n{\n    O -= O; \n    for(float l=0.,c; l<8.; l++) {\n        c = T(U,l).a;\n        if (c<.5) O += .15* vec4(0, .58, .88, 1);\n        O += (1.-O) * max( 1.-abs(c-.5)/fwidth(c), 0.);\n     // O = mix(O, vec4(1), () ); // simplified above\n    }\n}\n","name":"Image","description":"","type":"image"},{"inputs":[{"id":"XdfGRr","filepath":"/media/a/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm","previewfilepath":"/media/ap/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"void mainImage( out vec4 O, vec2 U )\n{\n    O = T(U,0.);\n    O.a = step( .1, length(  O - vec4(.05, .64, .15, 1) ) ); // a := mask \n    // ( we might antialias LOD0 using a loop as in original version )\n}","name":"Buffer A","description":"","type":"buffer"},{"inputs":[],"outputs":[],"code":"#define T(U,l) textureLod( iChannel0, (U)/iResolution.xy, l )","name":"Common","description":"","type":"common"}]}