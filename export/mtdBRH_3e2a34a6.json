{"ver":"0.1","info":{"id":"mtdBRH","date":"1700968156","viewed":75,"name":"Tubos Poliedro","username":"Elsio","description":"tentando...","likes":15,"published":1,"flags":0,"usePreview":0,"tags":["gears","glass","refract","object","vidro"],"hasliked":0,"parentid":"dtdfR8","parentname":"Engrenagens #002"},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define rot(a) mat2(cos(a + vec4(0, 11, 33, 0)))\n#define t iTime\n#define torus(q)                       \\\n    length(vec2(length(q.xy)           \\\n        - 1. - cos(atan(q.x, q.y) * 5.) * .1,    \\\n        q.z)) - .14\n    \nfloat map(vec3 p, float mx, float my) {\n    p.yz *= rot(cos(t*3.) * .9);\n    p.xy *= rot(cos(t*2.) * 1.1);\n    \n    vec3 q;\n    float s, j, d;\n    \n    s = 1.;\n    while(j++ < 6.){\n        q = p;\n        q.xy *= rot(j * 6.28/5. + 6.28/5.);\n        q.xz *= rot(6.28/6.);\n        d = torus(q);\n        if(j < 4.) d = abs(d);\n        s = min(s, d);\n    }\n    return s;\n}\n\n\nvoid mainImage(out vec4 o, vec2 u) {\n    float d, layers, s, i, b, mx, my,\n          t = iTime;\n          \n    vec2 R = iResolution.xy;\n         u = (u.xy - R * .5) / R.y;\n         \n    vec3 rd = normalize(vec3(u, 1. - dot(u, u) * .4)), p;\n    o *= 0.;\n    \n    while(i++ < 44.) {\n        s = map(p, mx, my);\n        \n        d += max(s, 2e-3);\n        \n        p = d * rd;\n        p.z += -2.5; \n        \n        s < .01 \n            ? o += (.015 - s) / d * i / 18. \n            : o;\n    }\n}","name":"Image","description":"","type":"image"}]}