{"ver":"0.1","info":{"id":"lcG3Wm","date":"1712843553","viewed":24,"name":"workshop for a university","username":"la","description":".","likes":0,"published":1,"flags":0,"usePreview":0,"tags":[],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec2 rotate(vec2 a, float angle)\n{\n    float c = cos(angle);\n    float s = sin(angle);\n    return vec2(\n        a.x * c - a.y * s,\n        a.x * s + a.y * c\n    );\n}\n\nfloat cube(vec3 p, float s)\n{\n    vec3 d = abs(p) - vec3(s);\n    return min(max(d.x,max(d.y,d.z)),0.0) + length(max(d,0.0));\n}\n\nfloat sphere(vec3 p, float r)\n{\n    return length(p) - r;\n}\n\nfloat scene(vec3 p)\n{\n    float r = .8;\n    vec3 p2 = abs(p)-1.;\n    float d = max(max(p2.x,p2.y),p2.z);\n    p = abs(p);\n    d = min(d,   cube(p - vec3(3, 0, 0), 1.));\n    d = min(d, sphere(p - vec3(0, 0, 3), 1.));\n    d = min(d, sphere(p - vec3(0, 3, 0), 1.));\n    return d/sqrt(3.);\n}\n\nvec3 trace(vec3 cam, vec3 dir) \n{ \n    float t;\n    int i;\n    vec3 color = vec3(1);   \n    for (i = 0; i < 1000; ++i) \n    { \n        float k = scene(cam + dir * t); \n        t += k;         \n        if (k < .1) \n        { \n            vec3 h = cam + dir * t; \n            vec2 o = vec2(.001, 0); \n            \n            vec3 n = normalize(vec3( \n                scene(h + o.xyy) - scene(h - o.xyy), \n                scene(h + o.yxy) - scene(h - o.yxy), \n                scene(h + o.yyx) - scene(h - o.yyx))); \n             return color = vec3(1.0,10.,.2);\n        } \n                \n    } \n}\n\nvoid cameraspin(inout vec3 p)\n{\np.yz = rotate(p.yz, .3);\np.xz = rotate(p.xz, iTime * .5);\n}\n\nvoid mainImage(out vec4 out_color, in vec2 fragCoord)\n{\nvec2 uv = (fragCoord.yx -.5* iResolution.yx ) / iResolution.x;\nvec3 cam = vec3(0.5, 1.0, -55.0); \nvec3 dir = normalize(vec3(uv, 4.0)); \ncameraspin(cam);\ncameraspin(dir);\nout_color.rgb = trace(cam, dir);\n\n}\n    \t\n    \n    ","name":"Image","description":"","type":"image"}]}