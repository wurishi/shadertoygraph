{"ver":"0.1","info":{"id":"lfKcRW","date":"1731579223","viewed":32,"name":"Noisy Vortex","username":"sorseg","description":"A noisy black hole","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["2d","noise","polar"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float rand(vec2 v) {\n    return fract(sin(dot(v, vec2(20.3,40.8)))*60.0);\n}\n\n// vals is (0,0), (0,1), (1,0), (1,1)\nfloat bilinear(vec4 vals, vec2 f) {\n    float tmp1 = mix(vals.x, vals.y, f.y);\n    float tmp2 = mix(vals.z, vals.w, f.y);\n    return mix(tmp1, tmp2, f.x);\n}\n\nfloat noise_grid(vec2 coord, float width) {\n    // 0.0, 0.1, ...\n    vec2 p1 = floor(coord * width) / width;\n    // 0.1, 0.2, ...\n    vec2 p2 = p1 + 1.0 / width;\n    \n    float val00 = rand(vec2(p1.x, p1.y));\n    float val01 = rand(vec2(p1.x, p2.y));\n    float val10 = rand(vec2(p2.x, p1.y));\n    float val11 = rand(vec2(p2.x, p2.y));\n\n    return bilinear(vec4(val00, val01, val10, val11), fract(coord*width));\n}\n\n\nfloat noise_cyllinder(vec2 coord, float width) {\n    float tau = 3.14159*2.0;\n    coord.x = fract(coord.x / tau);\n    \n    \n    // 0.0, 0.1, ...\n    vec2 p1 = floor(coord * width) / width;\n    \n    // 0.1, 0.2, ...\n    vec2 p2 = p1 + 1.0 / width;\n    p2.x = fract(p2.x);\n\n    float val00 = rand(vec2(p1.x, p1.y));\n    float val01 = rand(vec2(p1.x, p2.y));\n    float val10 = rand(vec2(p2.x, p1.y));\n    float val11 = rand(vec2(p2.x, p2.y));\n\n    return bilinear(vec4(val00, val01, val10, val11), fract(coord*width));\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n    \n    vec2 from_center = uv - vec2(0.5);\n    \n    float angle = atan(from_center.x, from_center.y);\n    float dist = length(from_center);\n    float taper = min(dist *2.0, 1.0);\n    \n\n    float val = noise_cyllinder(vec2(angle + iTime, dist + iTime), 20.0) * taper;\n   \n\n    // Output to screen\n    fragColor = vec4(val,val,val,1.0);\n}\n\n\n","name":"Image","description":"","type":"image"}]}