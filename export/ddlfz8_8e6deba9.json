{"ver":"0.1","info":{"id":"ddlfz8","date":"1688471580","viewed":65,"name":"magic illusion","username":"nayk","description":"colorful, rainbow, rotating, color, shader, ","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["colorful","color","shader","rainbow","rotating"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\n#define pmod(p,x) mod(p,x) - 0.5*x\n#define rot(x) mat2(cos(x),-sin(x),sin(x),cos(x))\nvec4 hsv_to_rgb(float h, float s, float v, float a)\n{\n\tfloat c = v * s;\n\th = mod((h * 6.0), 6.0);\n\tfloat x = c * (1.0 - abs(mod(h, 2.0) - 1.0));\n\tvec4 color;\n \n\tif (0.0 <= h && h < 1.0) {\n\t\tcolor = vec4(c, x, 0.0, a);\n\t} else if (1.0 <= h && h < 2.0) {\n\t\tcolor = vec4(x, c, 0.0, a);\n\t} else if (2.0 <= h && h < 3.0) {\n\t\tcolor = vec4(0.0, c, x, a);\n\t} else if (3.0 <= h && h < 4.0) {\n\t\tcolor = vec4(0.0, x, c, a);\n\t} else if (4.0 <= h && h < 5.0) {\n\t\tcolor = vec4(x, 0.0, c, a);\n\t} else if (5.0 <= h && h < 6.0) {\n\t\tcolor = vec4(c, 0.0, x, a);\n\t} else {\n\t\tcolor = vec4(0.0, 0.0, 0.0, a);\n\t}\n \n\tcolor.rgb += v - c;\n \n\treturn color;\n}\n// thx to Fabrice for adding antialiasing\nfloat get (vec2 uv){\n    float modD = 0.014;\n    uv /= modD*2.;\n    uv = smoothstep(-fwidth(uv.x),fwidth(uv.x), 2.* abs(fract(uv/10.2)-.5)-.5); \n    uv = 10.*uv-1.; \n    return 0.5+ .2* uv.x*uv.y;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord - 0.5*iResolution.xy)/iResolution.y;\n\n    vec3 col = vec3(.0);\n vec2 trs = vec2(iTime*0.01,iTime*0.01);\n uv+=trs;\n\n\nfloat x = fragCoord.x - (iResolution.x / 2.0);\n\tfloat y = fragCoord.y - (iResolution.y / 2.0);\n\t\n\tfloat r = length(vec2(x,y));\n     uv*=rot(iTime*0.02);\n    \n    uv += 5. + fract(sin(iTime*0.05)*0.5);\n    col += get(uv)*2.1;\n    col += get(uv+( sin(fract(1.*iTime/3.14))*0.01));\n    col = 1. - col;\n\tfloat angle = atan(x,y) *sin(iTime)*r / 200.0 + 1.0*iTime;\n\tfloat intensity = 0.5 + 0.25*sin(15.0*angle);\nfragColor = vec4(col,1.0);\nfragColor *= hsv_to_rgb(angle/3.14, intensity, 1.0, 0.5);\n    \n    \n}","name":"Image","description":"","type":"image"}]}