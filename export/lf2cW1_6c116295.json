{"ver":"0.1","info":{"id":"lf2cW1","date":"1722281424","viewed":58,"name":"Chromatic spirals","username":"anej","description":"Distorted spiral arms with chromatic aberration effect","likes":6,"published":1,"flags":0,"usePreview":0,"tags":["procedural","2d"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage(out vec4 fColor, in vec2 fCoord) {\n    vec2 res = iResolution.xy;\n    vec2 c = (2.0 * fCoord - res) / res.y;\n    vec2 nc = normalize(c);\n    float r = length(c);\n    float t = 0.5 * iTime;\n    \n    fColor = vec4(0.0);\n    const float ray_count = 17.0;\n    const float PI = 3.14159265359;\n    for (float i=0.0; i<ray_count; i++) {\n        float angle = sign(mod(i, 2.0) - 0.5) * ((1.0 + 0.2*i) * sin((1.0 + 0.1*i)*(1.0 * r - 0.25*t + i)) + (1.529153*i + 0.1*t) * 2.0 * PI / ray_count);\n        float offset = 0.035 * (2.0 + cos(i+3.0*t+4.0*r));\n        vec2 dir_r = vec2(cos(angle-offset), sin(angle-offset));\n        vec2 dir_g = vec2(cos(angle), sin(angle));\n        vec2 dir_b = vec2(cos(angle+offset), sin(angle+offset));\n        vec3 intensity = vec3(\n            dot(nc, dir_r),\n            dot(nc, dir_g),\n            dot(nc, dir_b)\n        );\n        vec3 graded_intensity = 0.1925 * smoothstep(0.995-0.025*(r*r*r + 0.5*i), 1.0, intensity);\n        \n        fColor += vec4(graded_intensity, 0.0);\n    }\n}","name":"Image","description":"","type":"image"}]}