{"ver":"0.1","info":{"id":"ddScRG","date":"1687821017","viewed":63,"name":"isohypse flow","username":"Alpzy","description":"just messing around :)","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["flow","whitenoise","isohypse"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec3 palette(float t) {\n    vec3 a = vec3(0.538,0.098,0.498);\n    vec3 b = vec3(-0.262, 0.048, -0.392);\n    vec3 c = vec3(-1.242,-3.142,2.808);\n    vec3 d = vec3(0.268,-0.042,0.758);\n    return a + b*cos(6.28318*(c*t+d));\n}\n\nfloat whiteNoise2x1(vec2 p){\n    float random = dot(p, vec2(12.,78.));\n    random = sin(random);\n    random = random * 43758.545 + sin(iTime*.005) + iTime*.1;\n    random = sin(random);\n    return random;\n}\n\nfloat valueNoiseFn(vec2 uv)\n{\n    vec2 gridUv = fract(uv);\n    gridUv = smoothstep(0.01,.99, gridUv);\n\n    vec2 gridId = floor(uv);\n\n    float botLeft = whiteNoise2x1(gridId);\n    float botRight = whiteNoise2x1(gridId + vec2(1.0, 0.0));\n    float topLeft = whiteNoise2x1(gridId + vec2(0.0, 1.0));\n    float topRight = whiteNoise2x1(gridId + vec2(1.0, 1.0));\n\n    float b = mix(botLeft, botRight, gridUv.x);\n    float t = mix(topLeft, topRight, gridUv.x);\n    \n    float valueNoise = mix(b, t, gridUv.y);\n    return valueNoise;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    uv *= 10.0;\n    float valueNoise = valueNoiseFn(uv);\n    \n    for(float i = 0.0; i<100.0; i++)\n    {\n        valueNoise += valueNoiseFn(uv * pow(2.0,i)) * pow(0.1, i);\n    }\n    \n    valueNoise = smoothstep(0.9,0.95, fract(valueNoise));\n    valueNoise = step(0.01,valueNoise);\n    valueNoise *= 2.0;\n    vec3 col = vec3(valueNoise);\n   \n    col *= palette((valueNoise*uv.y*uv.x + iTime*10.0)*0.001);\n    fragColor = vec4(col,.5);\n}","name":"Image","description":"","type":"image"}]}