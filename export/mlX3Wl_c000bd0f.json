{"ver":"0.1","info":{"id":"mlX3Wl","date":"1672654084","viewed":250,"name":"maze scroll loop","username":"FabriceNeyret2","description":"vaguely inspired by https://twitter.com/ruuddotorg/status/1609592373822255107\n\n- why this simple maze generator ( either left or bottom cell wall, at random )  cause a general diagonal path ? \n- why do I need to slightly slowdown the flood front ? ","likes":22,"published":3,"flags":32,"usePreview":0,"tags":["loop","scroll","maze","short"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"mipmap","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// ========== display =============\n\nvoid mainImage( out vec4 O, vec2 U )\n{\n    U *= 360./R.y/4./R;\n    O    = texture(iChannel0, U)*2. -1.;\n    O.r += texture(iChannel1, U).x;\n    \n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[{"id":"4dXGR8","channel":0}],"code":"// ====== maze generator ===========\n\nvoid mainImage( out vec4 O, vec2 U )\n{\n    U = ( U - float(iFrame) ) / 4.; \n // O = vec4( fract( U[ fract(1e3*sin(dot(mod(ceil(U),20.),vec2(73,-13))) )>.5 ? 0:1 ] ));\n    O = vec4( fract(-U[ fract(1e3*sin(dot(mod(ceil(U),20.),vec2(73,-17))) )>.5 ? 0:1 ] ));\n}","name":"Buffer A","description":"","type":"buffer"},{"inputs":[],"outputs":[],"code":"#define R    iResolution.xy\n#define T(U) texelFetch( iChannel0, ivec2(U), 0 )\n","name":"Common","description":"","type":"common"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":0,"sampler":{"filter":"mipmap","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"XsXGR8","channel":0}],"code":"// ======== flooding ================\n\nvoid mainImage( out vec4 O, vec2 U )\n{\n   O *= 0.;\n   if (U.y > 1.) O = T(U-1.);                                   // scroll\n   \n   if (iFrame==0) { if ( length(U-vec2(75,40) ) < 5. ) O.r++; } // init \n   \n   else if (    texelFetch(iChannel1,ivec2(U),0).x < .3         // floor\n             && textureLod(iChannel0,U/R,1.).r > 0. \n             && ( iFrame%4 ) < 2 + (iFrame%3<2?1:0)  // slow down the front\n           ) O.r ++;\n    \n\n       \n}","name":"Buffer B","description":"","type":"buffer"}]}