{"ver":"0.1","info":{"id":"ttjcRd","date":"1595164648","viewed":666,"name":"Sine of the Times","username":"Farbs","description":"IDK. Jammed this out using only sine waves for instruments. Make sure you enable webcam and dance along!","likes":2,"published":3,"flags":10,"usePreview":0,"tags":["music"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sf3zn","filepath":"/presets/webcam.png","previewfilepath":"/presets/webcam.png","type":"webcam","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec2 mainSound( in int samp, float time )\n{\n    time = time * 2.0;\n    time = round(time*2048.0)/2048.0;\n    float otime = time;\n    time = mod(time, 10.0);\n    \n    // A 440 Hz wave that attenuates quickly overt time\n    float bass = sin(6.2831*55.0*time + sin(time*6.2831)*110.0)*exp(-3.0*mod(time,0.25));\n    float hat = sin(6.2831*110.0*time)*exp(-3.0*mod(time,1.0));\n    float tick = sin(6.2831*220.0*time)*exp(-3.0*mod(time,0.75));\n    float melody = sin(6.2831*220.0*pow(2.0,round(mod(otime, 12.0))/12.0)*time)*exp(-3.0*mod(time,0.125));\n    return vec2( mix( mix(bass, hat, 0.5), mix(melody, tick, sin(otime)*0.5+0.5), 0.25) );\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n\n    // Output to screen\n    vec4 flash = 1.0 - fract(vec4(iTime*2.0, iTime * 4.0, iTime * 8.0, 1.0));\n    fragColor = vec4(texture(iChannel0, uv + mainSound( in int samp,iTime) * 0.1).r, texture(iChannel0, uv).g, texture(iChannel0, uv+ mainSound( in int samp,iTime) - 0.1).b , 1.0)*3.0 + flash * flash * 0.25;\n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"vec2 m( float time )\n{\n//    time = mod(time * 512.0, 8.0) < 4.0 ? time : -time;\n    time = mix( round(time*2048.0)/2048.0, time, 0.5);\n    float otime = time;\n    time = mod(time, 10.0);\n    \n    // A 440 Hz wave that attenuates quickly overt time\n    float bass = sin(6.2831*55.0*time + sin(time*6.2831)*110.0)*exp(-3.0*mod(time,0.25));\n    float hat = sin(6.2831*110.0*time)*exp(-3.0*mod(time,1.0));\n    float tick = sin(6.2831*220.0*time)*exp(-3.0*mod(time,0.75));\n    float melody = sin(6.2831*220.0*pow(2.0,round(mod(otime, 12.0))/6.0)*time)*exp(-3.0*mod(time,0.125));\n    return vec2( mix( mix(bass, hat, 0.5), mix(melody, tick, sin(otime)*0.5+0.5), 0.25) );\n}\n\nvec2 mainSound( in int samp, float time )\n{\n    time = mod(time, 16.0) < 4.0 ? -0.25 * time : time;\n    float otime = time;\n    vec2 a = m(time);\n    time = time * pow(2.0, round(mod(time * 4.0, 8.0)-2.0));\n    vec2 b = m(time);\n    return mix(a, b, clamp(sin(otime * 0.1) * 2.0 + 0.5, 0.0, 1.0));\n}","name":"Sound","description":"","type":"sound"}]}