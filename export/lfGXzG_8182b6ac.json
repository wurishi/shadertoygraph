{"ver":"0.1","info":{"id":"lfGXzG","date":"1715342084","viewed":149,"name":"ShaderShowdown_Revision2024 Cosa","username":"louis_C","description":"Shader made during the shodwon of 2024 revision we little modification to integrate fft accumulation texture.\n(sound in\nlink here : https://www.youtube.com/watch?v=8PoeeqtmRe0&t=1470s","likes":10,"published":1,"flags":40,"usePreview":0,"tags":["livecoding","shadershowdow"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 r, in vec2 d ) { r = texture(iChannel0,d/iResolution.xy);}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"mat2 rot(float t){ float c = cos(t); float s= sin(t); return mat2(c,-s,s,c);}\nfloat rd(float t){return fract(sin(dot(floor(t),45.56))*7845.236);}\nfloat no(float t){return mix(rd(t), rd(t+1.), smoothstep(0.,1.,fract(t)));}\nfloat e; float zl;\nfloat rd(){return fract(sin(e +=45.)*7845.236);}\nvec3 vr(){float a = rd()*6.28; \n  return vec3(cos(a), sin(a),(rd()-0.5)*2.)*sqrt(rd());}\nfloat b(vec3 p){vec3 q = abs(p)-10.;\n  return length(max(q,0.))+min(0.,max(q.x,max(q.y,q.z)));}\n  vec3 co ;\n  float map(vec3 p,float t){\n    p.xy *= rot(p.z*0.1*sin(t));\n    vec3 pb = p;\n    float fr = step(0.5,fract(p.x/12.))+step(0.5,fract(p.z/12.));\n    pb= mod(pb,vec3(6.,0.,6.))-vec3(3.,0.,3.);\n    pb.y += -5.*abs(sin(t*2.+fr));\n   float t1 = smoothstep(-0.5,0.5,sin(t));\n    float d1 = max(length(pb)-mix(3.,2.,t1),length(mod(p,vec3(2.))-1.)-mix(0.5,2.,t1));\n    float d2 = max(-100.,-b(p-vec3(0.,8.,0.)));\n    float d3 = mix(mix(-p.y+12.,p.x+9.9,step(0.5,fract(t*4.))),length(p.xz)-2.*step(0.5,fract(t*4.)),step(0.5,fract(t)));\n    zl = d3;\n    float l1 = step(0.5,fract(atan(pb.x,pb.z)/3.14*4.));\n    float l2 = mix(l1,1.-l1,step(0.5,fract(pb.y*1.)));\n    co  = mix(vec3(0.8,0.9,1.)*max(vec3(0.,0.1,0.3),step(0.05,fract(p.x+0.5))*step(0.05,fract(p.y+0.5))*step(0.05,fract(p.z+0.5))),\n    mix(mix(vec3(1.,0.,0.),vec3(1.),l2),vec3(1.), step(0.01,d1)),step(0.01,d2));\n    return min(d1,min(d2,d3));}\n  float rm(vec3 p, vec3 r,float t){ float dd= 0.;\n    for(int  i = 0 ; i < 64 ; i++) {\n      float d = map(p,t);\n      if(d<0.01){break;}\n      p += r*d;\n      dd +=d;}return dd;}\nvec3 nor(vec3 p, float t){vec2 e = vec2(0.01,0.); \n  return normalize(map(p,t)-vec3(map(p-e.xyy,t),map(p-e.yxy,t),map(p-e.yyx,t)));}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float t = iTime+pow(fract(iTime*2.),5.)*0.5;\n   t +=  pow(fract(iTime*  mix(2.,4.,step(0.75,fract(iTime*mix(1.,0.5,step(0.75,\n   fract(iTime*0.125))))))),5.)*0.25;\n    vec2 uv = fragCoord/iResolution.xy;\nvec2 uc  = uv;\n\tuv -= 0.5;uv *= 2.;\n  uv = mix(uv,abs(uv),step(0.75,fract(t*0.25)));\n\tuv /= vec2(iResolution.y / iResolution.x, 1);\n  vec3 p  = vec3(0.,0.,-7.); vec3 r = normalize(vec3(uv,1.+sin(t)*0.5));\n  p.xz *=  rot(t);r.xz *= rot(t);\n  float r1 = 0.;float de = 0.;\n  e = uv.x*iResolution.y+uv.y;\n  e +=t;\n  float at = 2.;vec3 lum;\n\tfor(int  i = 0 ; i < 4 ; i++){\n    float d = rm(p,r,t);\n    if(i == 0){lum = co;}\n    if(zl>0.01){p +=r*d;\n      vec3 n = nor(p,t);\n      r  = n+vr();\n      p +=r*0.2;\n      at *= 0.5;\n      }\n    else{r1 = at;}}\n    float r2 = mix(r1,texture(iChannel0,uc).a,0.6);\n\tfragColor = vec4(pow(vec3(r2*mix(lum,1.-lum,step(0.85,fract(t*4.)))),vec3(0.25)),r2);\n}","name":"Buffer A","description":"","type":"buffer"},{"inputs":[],"outputs":[],"code":"float hs(float t){return fract(sin(dot(t,45.))*7845.236);}\nfloat rd(float t){ return fract(sin(dot(floor(t),45.))*7845.236);}\nfloat no(float t){return mix(rd(t),rd(t+1.),smoothstep(0.,1.,fract(t)));}\nfloat it(float t, int n){float r = 0.;float a = 0.5;for(int i=0 ; i <n ;i++){\nr += no(t/a)*a; a*=0.5;} return r;}\nfloat tri (float t){return mix(fract(t),1.-fract(t),step(0.5,fract(t*0.5)));}\nvec2 ba1(float time){  vec2 t1 = vec2(0.);\n    float ta =  pow(fract(time*2.),0.6);\n    vec2 tt = vec2(it(ta*10.,5),it(ta*10.+452.236,5))-0.5;\n    vec2 hs = vec2(fract(sin(vec2(dot(45.,time),dot(46.,time)))*7845.236)\n    *0.0015*(1.-ta));\n    for(int  i = 0 ; i < 5 ; i++){\n    float j = float(i);float r1 = 0.2*j;\n    vec2 r2 = 200.+100.*j+tt*(3.+j*0.5);\n    vec2 br = 0.2+j*(0.1+hs);\n    t1 += vec2(sin(pow(fract(time*0.5     ),r1)*r2))*br;\n    t1 += vec2(sin(pow(fract(time*0.5+0.25),r1)*r2))*br;\n    t1 += vec2(sin(pow(fract(time*0.5+0.5 ),r1)*r2))*br;\n    t1 += vec2(sin(pow(fract(time*0.5+0.75),r1)*r2))*br;\n    }\n    t1 /=5.;\n    return t1;}\n    \nvec2 ba2 (float t){\n  vec2 r1 = vec2(0.);\n   float r = 0.0015*it(t*200.,10);\n  for(int i = -3 ; i <=3 ; i++){r1 += ba1(t+float(i)*r);}\n  float tt = fract(t*0.25);\n  return ba1(t)*(1.-tt)+r1*(0.1+tt*0.2);}\n  \n  vec2 c1 (float time){ \n  float t2 = mix(2.,4.,step(0.75,fract(time*mix(1.,0.5,step(0.75,fract(time*0.125))))));\n    vec2 r = vec2(it(pow(fract(time*t2+0.5),0.3)*800.,4),\n    it(pow(fract(time*t2+0.5),0.3)*800.+0.5*sin(time),4))\n    *0.1;\n  return r;}\n  \n  vec2 c2 (float t){\n  vec2 r1 = vec2(0.);\n  float r = mix(0.05,0.0015,smoothstep(5.,6.,t))*it(t*200.,10);\n  for(int i = -3 ; i <=3 ; i++){r1 += c1(t+float(i)*r);} \n  return r1;}\n \nvec2 e2(float t){float tt2 = 0.25*floor(fract(t*0.25)*3.+1.);                           \n  float t2 = t*mix(mix(6.,8.,step(0.5,fract(t*mix(4.,6.,step(tt2,fract(t)))))),4.,\n  step(0.5,fract(t)*step(0.5,fract(t*0.125+0.5))))+0.5;                          \n  vec2 s2 = vec2(rd(t*100000.-t2*100.),rd(t*100000.-t2*100.+45.))*0.1\n   *pow(clamp(vec2(fract(t2),fract(t2))*2.-1.,0.,1.),\n  vec2( mix(0.01,10.,step(0.5,fract(t*8.))))); \n                 return s2;}\nvec2 e3(float t){vec2 h = vec2(hs(t),hs(t+46.));\n  vec2 r = vec2(0.); for(int i = 0 ; i < 3 ; i++){\n    r += pow(e2 (t+float(i)*(0.015)),vec2(1.+float(i)*0.05));\n  }return (clamp(r,0.,1.)-0.5)*2.;}\n \nvec2 mainSound( int samp, float time )\n{\n    float dv1 = clamp(time*0.7,0.,1.);\n    vec2 v1 =ba2(time)*dv1;\n    float dv2 = clamp(time*0.1,0.,1.);\n    float tt2 = mix(1.,mix(4.,2.,step(0.8,fract(time*0.05))),step(6.,time));\n    float t2 = mix(1.-clamp(time*0.2,0.,0.5),1.,step(0.5,fract(time*tt2)));\n    vec2 v2 = c2(time)*t2;\n    v1 += v2*dv2;\n    v1 += e3(time)*smoothstep(0.,1.,vec2(sin(time*0.2),sin(time*0.2+0.1)))\n    *(1.-v1)*0.25* clamp(time*0.01,0.,1.);\n    return v1;\n    \n  \n}","name":"Sound","description":"","type":"sound"}]}