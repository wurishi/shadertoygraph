{"ver":"0.1","info":{"id":"ws2Gzc","date":"1549598981","viewed":495,"name":"linear to srgb & srgb to linear","username":"aferriss","description":"Linear to srgb and back, as per apple's implementation\nhttps://developer.apple.com/library/archive/documentation/Miscellaneous/Conceptual/MetalProgrammingGuide/Mem-Obj/Mem-Obj.html#//apple_ref/doc/uid/TP40014221-CH4-SW17","likes":3,"published":3,"flags":0,"usePreview":0,"tags":["color","space","linear","colorspace","conversion","srgb","profiles"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XdX3Rn","filepath":"/media/a/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg","previewfilepath":"/media/ap/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec3 srgbToLinear(vec3 col){\n    return mix(col / 12.92, pow((col+0.055)/1.055,vec3(2.4)), step(0.04045, col));\n}\n\nvec3 linearToSrgb(vec3 col){\n    return mix(col*12.92, 1.055 * pow(col, vec3(0.41667)) - 0.055, step(0.0031308, col));\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy; \n    \n    vec4 t = texture(iChannel0, uv);\n    t.rgb = srgbToLinear(t.rgb);\n    t.rgb = linearToSrgb(t.rgb);\n    fragColor = t;\n}","name":"Image","description":"","type":"image"}]}