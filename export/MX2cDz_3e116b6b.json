{"ver":"0.1","info":{"id":"MX2cDz","date":"1727173026","viewed":21,"name":"circle ripple / cmcc","username":"Doris","description":"Draw circle","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["cineshader"],"hasliked":0,"parentid":"3tdSRn","parentname":"001-DrawCircle"},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec3 drawCircle(vec2 pos, float radius, float width, float power, vec4 color, float slider)\n{\n    vec2 mousePos = vec2(0.5);\n    float dist1 = length(pos);\n    dist1 = fract((dist1 * 5.0) - fract(iTime * 2.0 + sin(slider + iTime * 2.0) * 0.5 +  cos(slider + iTime * 2.0) * 0.5) );\n    float dist2 = dist1 - radius ;\n    float intensity = pow(radius / abs(dist2), width); \n    vec3 col = color.rgb * intensity * power * max((0.8- abs(dist2)), 0.0);\n    return col;\n}\n\nvec3 hsv2rgb(float h, float s, float v)\n{\n    vec4 t = vec4(1.0, 2.0/3.0, 1.0/3.0, 3.0);\n    vec3 p = abs(fract(vec3(h) + t.xyz) * 6.0 - vec3(t.w));\n    return v * mix(vec3(t.x), clamp(p - vec3(t.x), 0.0, 1.0), s);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // // -1.0 ~ 1.0\n    vec2 pos = (fragCoord.xy * 2.0 - iResolution.xy) / min(iResolution.x, iResolution.y);\n    \n    float h = mix(0.4, 0.65, length(pos));\n    // vec4 color = vec4(hsv2rgb(h, 1.0, 1.0), 1.0);\n    \n    \n    float slider = iMouse.x / iResolution.x;\n    \n    vec4 color = vec4(1.0 * slider);\n    float radius = 0.5;\n    float width = 0.8;\n    float power = 0.1;\n    vec3 finalColor = drawCircle(pos, radius, width, power, color, slider);\n\n    pos = abs(pos);\n    // vec3 finalColor = vec3(pos.x, 0.0, pos.y);\n    \n    \n    vec2 uv = fragCoord.xy / iResolution.xy;\n    vec4 color2 = texture(iChannel0, uv.xy);\n\n   //finalColor = mix(color2.xyz, finalColor, finalColor.y / 2.0);\n   //finalColor = pow(finalColor, vec3(.454545));\n   finalColor = mix(color2.xyz, finalColor, finalColor.z * slider);\n   \n   fragColor = vec4(finalColor, 1.0 * slider) ;\n    \n    \n}\n\n","name":"Image","description":"","type":"image"}]}