{"ver":"0.1","info":{"id":"dsfcRH","date":"1686571868","viewed":43,"name":"Solar Eclipse sdMoon","username":"YAr","description":"It is a Solar Eclipse made with sdMoon function","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["moon","moon","eclipse","solar","sdmoon"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float sdMoon(vec2 p, float d, float ra, float rb )\n{\n    p.y = abs(p.y);\n    float a = (ra*ra - rb*rb + d*d)/(2.0*d);\n    float b = sqrt(max(ra*ra-a*a,0.0));\n    if( d*(p.x*b-p.y*a) > d*d*max(b-p.y,0.0) )\n          return length(p-vec2(a,b));\n    return max( (length(p          )-ra),\n               -(length(p-vec2(d,0))-rb));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 p = (2.0*fragCoord-iResolution.xy)/iResolution.y;\n    vec2 m = (2.0*iMouse.xy-iResolution.xy)/iResolution.y;\n    p *= 1.3;\n    m *= 1.3;\n    \n    float t = fract(iTime/20.)*20.;\n    \n    float ra = 0.8;\n    float rb = 1.;\n    float di = t/5. - 2.;\n    \n    float d1 = 0.;\n    \n    if (abs(di) > (rb-ra)) {\n        d1 = di;\n    } else {\n        d1 = di/5.;\n    }\n    \n    float d = sdMoon( p, d1, ra, rb );\n    \n    vec3 col;\n    \n    col = vec3(1.0) - d*(2.-abs(di))*vec3(0.1,0.4,0.7);\n    \n    fragColor = vec4(col, 1.0);\n}","name":"Image","description":"","type":"image"}]}