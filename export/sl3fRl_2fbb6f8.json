{"ver":"0.1","info":{"id":"sl3fRl","date":"1663484729","viewed":46,"name":"Chroma Wheel","username":"lassiter","description":"Chroma Wheel","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["casutic"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.1415926535897932384626433832795\n#define RADIUS 0.25\n#define SIZE 0.75\n#define WHITE vec3(1.0)\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n\tvec2 circleRed = uv - vec2(\n\t\t\t(cos(iTime) + PI * 0.07) / PI * RADIUS + 0.5,\n\t\t\t(sin(iTime) - PI * 0.07) / PI * RADIUS + 0.5\n\t);\n\tfloat lenRed = smoothstep(0.0, SIZE, length(circleRed) * 2.0);\n\tfloat effectRed = 1.0 - lenRed;\n\n\t// green\n\tvec2 circleGreen = uv - vec2(\n\t\t\t(cos(iTime * 1.15)) / PI * RADIUS + 0.5,\n\t\t\t(sin(iTime * 0.9) + PI * 0.1) / PI * RADIUS + 0.5\n\t);\n\tfloat lenGreen = smoothstep(0.0, SIZE, length(circleGreen) * 2.0);\n\tfloat effectGreen = 1.0 - lenGreen;\n\n\t// blue\n\tvec2 circleBlue = uv - vec2(\n\t\t\t(cos(iTime * 0.9) - PI * 0.07) / PI * RADIUS + 0.5,\n\t\t\t(sin(iTime * 1.5) - PI * 0.07) / PI * RADIUS + 0.5\n\t);\n\tfloat lenBlue = smoothstep(0.0, SIZE, length(circleBlue) * 2.0);\n\tfloat effectBlue = 1.0 - lenBlue;\n\n\tfloat colorAlpha = max(effectRed, max(effectGreen, effectBlue));\n\tvec3 color = mix(WHITE, vec3(\n\t\t\teffectRed,\n\t\t\teffectGreen,\n\t\t\teffectBlue\n\t), colorAlpha);\n\n\t// caustics\n\tfloat time = iTime * 0.5 + 23.0;\n    vec2 p = mod(fragCoord * PI * 2.0, PI * 2.0) - 250.0;\n\tvec2 i = vec2(p);\n\tfloat caustic = 1.0;\n\tfloat inten = 0.005;\n\tfor (int n = 0; n < 6; n++) {\n\t\tfloat t = time * (1.0 - (3.5 / float(n+1)));\n\t\ti = p + vec2(cos(t - i.x) + sin(t + i.y), sin(t - i.y) + cos(t + i.x));\n\t\tcaustic += 1.0/length(vec2(p.x / (sin(i.x+t)/inten),p.y / (cos(i.y+t)/inten)));\n\t}\n\tcaustic /= 6.0;\n\tcaustic = 1.17 - pow(caustic, 1.4);\n\tcaustic = pow(abs(caustic), 8.0);\n\n    //fragColor = vec4(color,1);\n    fragColor = vec4(color, clamp(caustic * colorAlpha + colorAlpha, 0.0, 1.0));\n}","name":"Image","description":"","type":"image"}]}