{"ver":"0.1","renderpass":[{"outputs":[{"channel":0,"id":"4dfGRr"}],"inputs":[],"code":"// By Jared Berghold 2022 (https://www.jaredberghold.com/)\n// Based on the \"new day\" shader by netgrind (https://www.shadertoy.com/view/Xl2BzW)\n\n#define PI 3.14159265359\n#define TAU 6.28318530718\n#define PYTHAG_CONST 1.41421356237\n\n#define COUNT 60.0\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n  // pos will range from 0 -> 1 in the shorter dimension and x -> y in the longer dimension,\n  // where x is less than 0, and y is greater than 1\n  vec2 pos = fragCoord / min(iResolution.x, iResolution.y);\n  vec2 lengths = iResolution.xy / min(iResolution.x, iResolution.y);\n  pos -= 0.5 * lengths;\n  pos += 0.5;\n  fragCoord -= iResolution.xy * 0.5;\n  \n  // scale up starburst at start\n  const float finishTime = 0.5; // time over which the initial zoom animation occurs for\n  const float minScale = 1000.0; // starting scale for animation\n  const float maxScale = 10.0; // ending scale for animation\n  float animScale = smoothstep(0.0, finishTime, min(iTime, finishTime));\n  vec2 uv = fragCoord.xy / min(iResolution.x, iResolution.y) * mix(minScale, maxScale, animScale);\n  \n  vec2 mousePos = iMouse.xy / min(iResolution.x, iResolution.y);\n  mousePos -= 0.5 * lengths;\n  mousePos += 0.5;\n  vec2 dM = pos - mousePos;\n  float squareDistToMouse = dot(dM, dM);\n  vec2 centre = vec2(0.5, 0.5);\n  vec2 dC = mousePos - centre;\n\n  float t = iTime * TAU * 0.04;\n  \n  float d = length(uv);\n  float f = 0.0;\n  float phase = t;\n  float dir = 1.0;\n  float a = 0.0;\n  \n  for(float i = 0.; i < COUNT; i += 1.0)\n  {\n      float p = phase + (sin(i + t) - 1.0) * 0.05;\n      a = dot(normalize(uv), normalize(vec2(cos((p) * dir), sin((p) * dir))));\n      a = max(0.99, a);\n      a = pow(a, 20.0);\n      dir *= -1.0;\n      phase += mod(i, TAU);\n      f += a;\n      f = abs(mod(f + 3.0, 6.0) - 3.0);\n  }    \n  \n  float distMouseToCentre = length(dC);\n  float distFromMouse = length(dM);\n  \n  f += mix(2.0, mix(0.0, 0.2, 3.0 * max(0.4 - distMouseToCentre, 0.0)) / squareDistToMouse, mix(0.025, 0.55, distFromMouse)) \n     - mix(0.0055, 0.0095, distMouseToCentre) * d * 0.7;\n  f = max(f, 0.0);\n  \n  // apply a vignette effect, so the centre is brighter than the outside area\n  //f = 3.0; // uncomment this line to test the vignette effect\n  float dist = 1.0 - length(pos - centre);\n  dist = max(0.0, dist);\n  dist = pow(dist, 3.5);\n  f *= dist;\n  \n  // the next 3 lines take 'f', a float, to generate a colour, 'c'\n  vec3 c = mix(vec3(0.0, 0.0, 0.0), vec3(0.5216, 0.3529, 0.2706), f);\n  c = min(max(c, 0.0), 1.0);\n  c = 1.0 - vec3(0.3059, 0.6824, 0.5255) * 3.0 * (1.0 - c);\n\n  const float brightness = 1.0;\n  fragColor = vec4(brightness * c, 1.0);\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"cdB3Ww","date":"1667651279","viewed":160,"name":"Starburst (2022)","username":"jurnip","description":"Interactive starburst effect\nUse mouse to interact (click inside canvas and drag outside to keep tracking the mouse without needing to click)\n\nBased on \"new day\" by netgrind: https://www.shadertoy.com/view/Xl2BzW","likes":11,"published":1,"flags":0,"usePreview":0,"tags":["sun","interactive","star","starburst"],"hasliked":0,"parentid":"Xl2BzW","parentname":"new day"}}