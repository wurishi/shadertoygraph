{"ver":"0.1","info":{"id":"wlcfDB","date":"1613363050","viewed":108,"name":"2D Particle Generator","username":"Learner_CC","description":"A simple particle generator","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["2dparticle"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define g -9.81\n// -------- Hash -------- //\nfloat N21(vec2 p) {\n\tp = fract(p * vec2(233.34, 851.73));\n    p += dot(p, p + 23.45);\n    return fract(p.x * p.y);\n}\n\nvec2 N22(vec2 p) {\n\tfloat n = N21(p);\n    return vec2(n, N21(p + n));\n}\n\nfloat N11(float n) {\n    return fract(sin(dot(vec2(cos(n), sin(n)) ,vec2(27.9898, 38.233))) * 88.5453);\n}\n// -------- Particle -------- //\nfloat particle(vec2 uv, vec2 p, vec2 v, float t) {\n    float x = p.x + v.x * t;\n    float y = p.y + v.y * t + g / 2.0 * t * t;\n    vec2 l = (vec2(x, y) - uv) * 15.0;\n    float pct = 1.0 / dot(l, l) * smoothstep(1.0, 0.5, t);;\n    return pct;\n}\n\nfloat particleGenerator1(vec2 uv, vec2 p, float t, float n) {\n    float pct = 0.0;\n    float ti = mod(t, 4.0);\n    for (float i = 0.0; i < n; i++) {\n        float x = (1.0 + i) * cos(i);\n        float y = (1.0 + i) * sin(i);\n        vec2 rand = vec2(x, y);\n        vec2 velocity = rand / 2.0;\n        pct += particle(uv, vec2(0.0, 1.0), velocity, t);\n    }\n    return pct;\n}\n\nfloat seed = 0.32;\nfloat particleGenerator2(vec2 uv, vec2 p, float t, float n) {\n    float pct = 0.0;\n    float ti = mod(t, 4.0);\n    for (float i = 0.0; i < n; i++) {\n        seed += i;\n        vec2 rand = vec2(1.0, 1.6) * (vec2(-1.0, 1.0) + 2.0 * N22(vec2(seed, i)));\n        float randi = 8.0 * N21(rand) - 4.0;\n        vec2 position = vec2(cos(randi), sin(randi));\n        vec2 velocity = vec2(position.y, position.x) * 20.0;\n        pct += particle(uv, position, velocity, t);\n    }\n    return pct;\n}\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    vec2 uv = gl_FragCoord.xy / iResolution.xy;\n    vec2 st = 2.0 * uv - 1.0;\n\n    st*= 10.0;\n    \n    float t = iTime / 4.0;\n    float pct = 0.0;\n    float n = 10.0;\n    for (float i = 0.0; i < 1.0; i += 1.0 / n) {\n        float ti = mod(t - i * (n - 1.0), 1.0);\n        pct += particleGenerator2(st, vec2(0.0, 1.0), ti, 72.0);\n    }\n\n    fragColor = vec4(pct);\n}","name":"Image","description":"","type":"image"}]}