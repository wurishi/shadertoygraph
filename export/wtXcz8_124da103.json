{"ver":"0.1","info":{"id":"wtXcz8","date":"1591386330","viewed":114,"name":"marble of WaveSphere","username":"foran","description":"marble of WaveSphere","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["marbleofwavesphere"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//https://www.shadertoy.com/view/MdySzR\n\nvec2 pa(in vec2 uv, in float per){\n    vec2 result = (cos(uv.x*per)) * normalize(vec2(cos((uv.x)*per), .5));\n    return result;\n}\n\nvec2 pb(in vec2 uv, in float per){\n    vec2 result = (cos(uv.y*per)) * normalize(vec2(1., cos((uv.y)*per)));\n    return result;\n}\nmat2x2 rot(float angle)\n{\n    float c=cos(angle);\n    float s=sin(angle);\n    return mat2x2(c,-s,s,c);\n}\nfloat sdWaveSphere(vec3 p,float radius,int waves,float waveSize)\n{\n    //bounding Sphere\n    float d=length(p)-radius*2.2;\n    if(d>0.)return.2;\n    // deformation of radius\n    d=waveSize*(radius*radius-(p.y*p.y));\n    radius+=d*cos(atan(p.x,p.z)*float(waves));\n    return.5*(length(p)-radius);\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float t = iTime*.35;\n    \n\tvec2 uv =(fragCoord.xy / iResolution.xy);\n    uv.x *= iResolution.x/iResolution.y*.5+.5;\n         uv*=rot(-.14*t);// вращение uv   \n    vec2 vpert = pa(uv, 5.);//5-15\n    uv += vpert * sin(t) *.32;//.3-.9\n    \n    vec2 hpert = pb(uv, 5.);//5-15\n     uv += hpert * sin(t) * .3208;//.3-.9\n    \n    //vec4 col = texture2D(iChannel0, uv);\n    //fragColor=fragColor=mix(vec4(sin(uv.x*2.),0.,//градиент\n    //cos(uv.y*3.),1.),col,.9);\n\tfragColor = mix(6.*vec4(sin(uv.x*12.), mod(uv.x*12., .25),//градиент \n    cos(uv.y*13.), 1.),vec4(sin(t*.5)*3.,sin(t*.5),sin(t*1.5)*\n    11.,tan(t*22.15)*1.), .49);\n       //float sdWaveSphere(vec3 p,float radius,int waves,float waveSize)\n    float wave=sdWaveSphere(uv.xxy,1.518,15,t*.4);\n    fragColor =fragColor* wave;\n}\n","name":"Image","description":"","type":"image"}]}