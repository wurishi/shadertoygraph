{"ver":"0.1","info":{"id":"tdsGRS","date":"1546745559","viewed":197,"name":"Voronoi Circular Pattern","username":"Passion","description":"black n white click for grid and voronoin border","likes":6,"published":1,"flags":0,"usePreview":0,"tags":["2d","voronoin"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI acos(-1.)\n#define TWO_PI PI*2.\n\nmat2 r2(float a){\n    float s =sin(a);\n    float c = cos(a);\n    return mat2(s,c,-c,s);\n}\n\nvec2 rnd(vec2 p){\n    vec3 a = fract(p.xyx*vec3(123.12, 256.45, 359.88));\n    a += dot(a, a+47.88);\n    return fract(vec2(a.x*a.y, a.z*a.y));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    \n    uv = uv * 2.0 - 1.0;\n    uv.x *= iResolution.x/iResolution.y;\n    float t =iTime;\n\tuv *= 1.+dot(uv,uv)*.0911275;\n      \n    uv *= 4.+sin(t/2.);\n    uv+=vec2(sin(t),cos(t));\n    uv*=r2(sin(t/3.)*.5)*1.12;\n    \n    vec2 gv = fract(uv)-.5;\n    vec2 id = floor(uv);\n    float minDist = 100.;\n    vec2 cid = vec2(0);\n    for(int y = -1; y<1; y++){\n        for(int x =-1; x<1; x++){\n            vec2 offset = vec2(x, y);\n            vec2 rand = rnd(id + offset);\n            \n            vec2 point = offset + sin(rand*iTime)*.5+.5;\n            \n            point-=gv;\n            point*=r2(cid.x-t);\n            float d = length(point);\n            float md = abs(point.x)+abs(point.y);\n            \n            float dst = mix(d,md,sin(rnd(cid).x+rnd(cid).y));\n            \n            if(d<minDist){\n                minDist = d;\n                cid = id+offset;\n            }\n        }\n    }\n    \n    vec3 col = vec3(0); \n    \n    float c = length(minDist)-.3;\n    \n    float grd = step(.46,gv.x)+step(.46,gv.y);   \n    fragColor =  vec4(smoothstep(0.05,0.03, c*sin(3.*t-c*22.+sin(t-rnd(cid).x*12.))));   // vec4(minDist);\n    if(iMouse.z>0.0){\n        fragColor +=vec4(cos(rnd(cid)*4.).xyxy);\n        fragColor.r += grd;\n    }\n}","name":"Image","description":"","type":"image"}]}