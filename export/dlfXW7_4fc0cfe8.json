{"ver":"0.1","info":{"id":"dlfXW7","date":"1674854214","viewed":209,"name":"2D Water Shader","username":"Kelvin2854","description":"A neat 2D water shader with waves that uses a scrolling noise texture.  Feel free to use this however you want!","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["2d","waves","water"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XsfGRn","filepath":"/media/a/1f7dca9c22f324751f2a5a59c9b181dfe3b5564a04b724c657732d0bf09c99db.jpg","previewfilepath":"/media/ap/1f7dca9c22f324751f2a5a59c9b181dfe3b5564a04b724c657732d0bf09c99db.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4sf3Rr","filepath":"/media/a/ad56fba948dfba9ae698198c109e71f118a54d209c0ea50d77ea546abad89c57.png","previewfilepath":"/media/ap/ad56fba948dfba9ae698198c109e71f118a54d209c0ea50d77ea546abad89c57.png","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const float speed = 0.1;\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    //main\n\tvec2 p_m = fragCoord.xy / iResolution.xy;\n    \n    vec4 img = texture(iChannel0, p_m);\n    \n    vec4 offs_img = texture(iChannel1, p_m + vec2(iTime * 0.05f, 0));\n    vec4 offs_img_y = texture(iChannel1, p_m + vec2(0, iTime * 0.05f));\n    vec4 offs_img_height = texture(iChannel1, vec2(p_m.x, iTime * 0.05f));\n    \n    vec4 water_color = vec4(0, 0, 1, 0);\n    \n    \n    float height = p_m.y + offs_img_height.x * 0.1f;\n    if (height < 0.5) {\n        \n        float mix_val = clamp(p_m.y / 0.5f + ((offs_img.x + offs_img_y.x) / 2.0f) * 0.25f, 0.0f, 1.0f);\n    \n        vec3 bottom_water_color = vec3(178, 213, 243) / 255.0f;\n        vec3 top_water_color = vec3(86, 156, 216) / 255.0f;\n        \n        vec3 total_water_color = mix(bottom_water_color, top_water_color, mix_val);\n        \n        water_color.xyz = total_water_color;\n    \n        water_color.a = clamp(1.0f - mix_val + 0.5f, 0.5f, 1.0f);\n        \n        if (abs(height - 0.5f) <= 0.01f) {\n            water_color = vec4(1.0f);\n        }\n        \n        img = texture(iChannel0, p_m + vec2(offs_img.x * 0.1f, 0));\n    }\n    \n    fragColor = mix(img, water_color, water_color.a);\n}","name":"Image","description":"","type":"image"}]}