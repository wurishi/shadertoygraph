{"ver":"0.1","info":{"id":"3dsSz2","date":"1551706604","viewed":82,"name":"rotato potato","username":"nexor","description":"rot","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["rot"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define tri(x) (abs(fract((x))*4.-2.)-1.)\n#define repeat(x,n) (mod((x)+((n)*.5),(n))-((n)*.5))\n#define PI 3.141569\n\nfloat circle( vec2 p, float r )\n{\n  return length(p) - r;\n}\n\nmat2 rot(float a)\n{\n float c=cos(a),s=sin(a);\n    return mat2(c,-s,s,c);\n}\n\nfloat fgear(float t, float start, float end)\n{\n \treturn smoothstep(start,end,fract(t));   \n}\n\nfloat gear(float t, float start, float end)\n{\n \treturn floor(t)+fgear(t,start,end);   \n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n\n    vec2 p = -1.+2.*uv;\n    p.x*=iResolution.x/iResolution.y;\n    \n\t\n    vec2 q=p;\n    float t = iTime*.5/PI;\n    float g1 = fgear(t,0.,.25);\n    float g2 = fgear(t,.25,.5);\n    float g3 = gear(t,.5,.625);\n    float g4 = fgear(t,.625,.75);\n    float g5 = gear(t,.75,1.);\n    \n    float s1 = sin(g1*PI);\n    float s2 = sin(g2*PI);\n    p *= rot(g3*PI);\n    p.x += cos(p.y*15.+g4*10.)*.15*sin(g4*PI);\n    \n    p.x-=sign(tri(q.y))*s1*.5;\n    p.y-=sign(tri(q.x))*s2*.5;\n    \n    float d=1e3;\n    p=repeat(p,.5);\n    p = rot(g5*PI*2.)*p;\n    \n    vec3 col = vec3(.3, .5, .1)*1.2;\n\n    d = circle(p, .2) + sin(atan(p.y,p.x)*15.)*(sin(iTime*12.6)*.002+.008);\n    d=abs(d)-.025;\n    d = smoothstep(0.001,0.,d);\n    col+= vec3(p.y+.5, sin(p.y), p.y*.2)*d*1.;\n\n    fragColor = vec4(col,.6);\n}","name":"Image","description":"","type":"image"}]}