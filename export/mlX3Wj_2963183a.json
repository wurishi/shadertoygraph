{"ver":"0.1","info":{"id":"mlX3Wj","date":"1672403743","viewed":86,"name":"Simple progressbar","username":"DantesPlan","description":"A simple progressbar.","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["aspectratio","rectangle","progressbar","axis"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float rectangle(vec2 uv,vec2 pos,vec2 size,float blur)\n{\n    uv -= pos;\n\n    vec2 tuv;\n\n    tuv = (size / 2.0) - abs(uv);\n\n    tuv = smoothstep(-(blur*0.5), (blur*0.5), tuv);\n\n    return (tuv.x*tuv.y);\n}\n\nvec4 progressbarFunc(vec2 uv,vec2 pos,vec2 size,float tiles,float value)\n{\n\tvec4 layer;\n\n\tuv -= pos;\n\tuv *= size;\n\n\tif(abs(uv.x)>size.x/(size.x*1.99) || abs(uv.y)>size.y/(size.y*19.0))\n\t\treturn vec4(0.0);\n\n\tvec4 empty = vec4(1.0,0.0,0.0,1.0);\n\tvec4 full = vec4(0.0,1.0,0.0,1.0);\n\n\tfloat rc, space=0.005, width=0.0, height=0.0;\n\n\twidth = 1.0/tiles;\n\theight = 0.1;\n\n\tfor(float i = -(tiles * 0.5); i < (tiles*0.5); i += 1.0)\n\t{\n\t\tfloat px = (width * 0.5) + i * width;\n\t\trc += rectangle(uv, vec2(px,0.0), vec2(width-space, height), 0.01);\n\t}\n\n\tfloat progress = (uv.x - value) <= -0.5 ? 1.0 : 0.0;\n\n\tlayer = mix(empty * rc, full * rc, progress);\n\n\treturn layer;\n}\n\nvec4 drawAxis(vec2 uv, float lineWidth, float density)\n{\n    vec4 layer = vec4(0.0);\n\n    float ax = step(abs(uv.x-0.5),lineWidth);\n    float ay = step(abs(uv.y-0.5),lineWidth);\n\n    layer = mix(layer, vec4(1.0,0.0,0.0,1.0), ax * density);\n    layer = mix(layer, vec4(0.0,1.0,0.0,1.0), ay * density);\n\n    // Center dot\n    float cd = rectangle(uv,vec2(0.5),vec2(0.02),0.0025);\n\n    layer = mix(layer, vec4(1.0), cd);\n\n    return layer;\n}\n\nvec2 setAspectRatio(vec2 uv,vec2 res)\n{\n    float aspect = res.x/res.y;\n    vec2 st = uv/res.xy;\n    st -= 0.5;\n    st.x *= aspect;\n    st += 0.5;\n    return st;\n}\n\nvoid mainImage(out vec4 fragColor,in vec2 fragCoord)\n{\n    vec2 uv = setAspectRatio(fragCoord,iResolution.xy);\n\n    vec4 axisLayer = drawAxis(uv,0.004,0.8);\n\tvec4 progressbar1Layer = progressbarFunc(uv,vec2(0.5,0.7),vec2(0.8,0.5),1.0,mod(iTime*0.125,1.0));\n\tvec4 progressbar2Layer = progressbarFunc(uv,vec2(0.5,0.3),vec2(0.8,0.5),10.0,sin(iTime)*0.5+0.5);\n\n    fragColor = mix(vec4(0.0),axisLayer,axisLayer.a);\n\n\tfragColor = mix(fragColor,progressbar1Layer,progressbar1Layer.a);\n\tfragColor = mix(fragColor,progressbar2Layer,progressbar2Layer.a);\n}\n","name":"Image","description":"","type":"image"}]}