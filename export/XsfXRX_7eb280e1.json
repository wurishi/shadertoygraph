{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[{"channel":0,"type":"texture","id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"}}],"code":"/*\n  Written by Alan Wolfe\n  http://demofox.org/\n  http://blog.demofox.org/\n*/\n\n\n#define FIELD z\n#define THRESHOLD 0.4\n\n#define MINSCALE 0.025\n#define MAXSCALE 1.0\n#define TIMEMULTIPLIER 0.5\n\n#define SMOOTHING 0.125\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\t\n\tfloat mode = mod(iTime, 6.0) / 2.0;\n\t\n\tfloat scale = (sin(iTime * TIMEMULTIPLIER + 1.57) * 0.5 + 0.5) * (MAXSCALE - MINSCALE) + MINSCALE;\n\t\n\tvec2 percent = ((fragCoord.xy / iResolution.xy) - vec2(0.5,0.5)) * scale;\n\tpercent.y = 1.0 - percent.y;\n\tpercent += vec2(0.5,0.5);\n\t\n\t// read the texture color\n\tvec3 pixelColor = texture(iChannel0, percent).xyz;\n\t\n\t// if the mouse is not pressed, do our distance field type effect\n\tif( iMouse.z <= 0.0 )\n\t{\n\t\tfloat testValue = pixelColor.FIELD;\n\t\t\n\t\ttestValue = clamp(smoothstep(THRESHOLD - SMOOTHING, THRESHOLD + SMOOTHING, testValue), 0.0, 1.0);\n\t\t\n\t\t// black & white\n\t\tif (mode > 2.0)\n\t\t{\n\t\t\tpixelColor = testValue > THRESHOLD\n\t\t\t\t? vec3(1.0)\n\t\t\t\t: vec3(0.0);\t\t\n\t\t}\n\t\t// color\n\t\telse if (mode > 1.0)\n\t\t{\n\t\t\tpixelColor *= testValue > THRESHOLD\n\t\t\t\t? vec3(1.0)\n\t\t\t\t: vec3(0.0);\n\t\t}\t\t\n\t\t// original image\n\t\telse\n\t\t{\n\t\t}\n\t}\n\t\n\tfragColor = vec4(pixelColor, 1.0);\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"XsfXRX","date":"1404680116","viewed":433,"name":"Old Picture Filter","username":"demofox","description":"I was recently playing around with distance field textures (http://blog.demofox.org/2014/06/30/distance-field-textures/) and wondered what would happen if you applied the same thresholding idea to a non distance field texture.","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["2d","filter"],"hasliked":0,"parentid":"","parentname":""}}