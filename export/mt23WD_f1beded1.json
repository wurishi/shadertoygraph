{"ver":"0.1","info":{"id":"mt23WD","date":"1673876032","viewed":104,"name":"Cheat Voxel Raycaster (MC WIP)","username":"gcgac","description":"I might make this into minecraft, but this is more of a demo of voxel raycasting while being really lazy and not using DDA. I'm not a huge fan of how the face shading turned out.","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["ray","voxel","minecraft","raycaster"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// thanks to inigo quilez for making this site\nfloat size = 1.0;\n\nfloat yval(float x,float z){\n    return ((sin(x*8.0)+sin(z*7.0)+sin((x+0.3)*10.0))/10.0)+sin(x)+sin(z)+(sin((x+sin(z)/2.0)*6.5)+cos(z*3.2))/10.0;\n}\n\nfloat check(vec3 ray){\n    vec2 r = vec2(round(ray.x/size)*size,(ray.z/size)*size);\n    if (round(yval(r.x,r.y)/size)*size==round(ray.y/size)*size || round(yval(r.x,r.y)/size+0.001)*size==round(ray.y/size)*size || round(yval(r.x,r.y)/size)*size>round(ray.y/size)*size){\n        return 1.0;\n    }else{\n        return 0.0;\n    }\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ){\n    vec2 uv = (fragCoord/iResolution.y)-0.5*2.0;\n    float z = iTime;\n    vec3 ray = vec3(sin(z*1.3),2.0,z);\n    vec3 light = vec3(sin(z*1.3)+2.0,5.0,z+2.0);\n    float inter = 0.0;\n    vec3 pr;\n    int steps = 0;\n    while (inter == 0.0 && steps<300){\n        pr = ray;\n        ray += normalize(vec3(uv,1.0))/50.0;\n        steps += 1;\n        if (check(ray) == 1.0 || check(vec3(ray.x,ray.y+1.0,ray.z))== 1.0){\n            inter = length(vec3(sin(z*1.3),2,z)-ray)*0.1;\n        }\n    }\n    if (inter == 0.0){\n        fragColor = vec4(0,0,0,1);\n    }else{\n        float bri = 1.0;\n        ray = pr;\n        fragColor = vec4(1.0-vec3(inter),1.0);\n        float inter = 0.0;\n        int steps = 0;\n        while (inter == 0.0){\n            ray += normalize(vec3(uv,1.0))/1000.0;\n            steps += 1;\n            if (check(ray) == 1.0 || check(vec3(ray.x,ray.y+1.0,ray.z))== 1.0){\n                inter = length(vec3(sin(z*1.3),2,z)-ray)*0.1;\n            }\n        }\n        if (check(vec3(ray.x-0.001,ray.y,ray.z))==0.0){\n            bri = 0.8;\n        }\n        if (check(vec3(ray.x,ray.y+0.001,ray.z))==0.0){\n            bri = 0.9;\n        }\n        if (check(vec3(ray.x+0.001,ray.y,ray.z))==0.0){\n            bri = 0.95;\n        }\n\n\n        fragColor = vec4(0,(1.0-length(vec3(inter)))*bri,0,1.0);\n    }\n}","name":"Image","description":"","type":"image"}]}