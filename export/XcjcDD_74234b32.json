{"ver":"0.1","info":{"id":"XcjcDD","date":"1722350344","viewed":29,"name":"Iridescent Spirals","username":"anej","description":"Distorted and blurred spiral arms with iridescent color palette","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["procedural","2d"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec3 hsv2rgb(vec3 c) { // https://gist.github.com/983/e170a24ae8eba2cd174f\n    vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n    vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n    return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\nvoid mainImage(out vec4 fColor, in vec2 fCoord) {\n    vec2 res = iResolution.xy;\n    vec2 c = (2.0 * fCoord - res) / res.y;\n    vec2 nc = normalize(c);\n    float r = length(c);\n    float t = 0.7 * iTime;\n    \n    fColor = vec4(0.0);\n    const float ray_count = 17.0;\n    const float PI = 3.14159265359;\n    for (float i=0.0; i<ray_count; i++) {\n        float angle = sign(mod(i, 2.0) - 0.5) * ((1.0 + 0.2*i) * sin((1.0 + 0.1*i)*(1.0 * r - 0.25*t + i)) + (1.529153*i + 0.1*t) * 2.0 * PI / ray_count);\n        vec2 dir = vec2(cos(angle), sin(angle));\n        float intensity = dot(nc, dir);\n        float graded_intensity = 0.3 * smoothstep(0.85-0.1*(r*r*r + 0.5*i), 1.0, intensity);\n        float hue = 0.5 * (1.0 + sin(3.42*i + 0.25*t + 0.05*r));\n        fColor = (1.0-graded_intensity) * fColor +\n            graded_intensity * vec4(hsv2rgb(vec3(hue, 0.5, 1.0)), 0.0);\n    }\n}\n","name":"Image","description":"","type":"image"}]}