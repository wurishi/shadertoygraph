{"ver":"0.1","info":{"id":"lsKcRw","date":"1521498624","viewed":263,"name":"layered animated figures(406 ch)","username":"iapafoto","description":"Another version of  FabriceNeyret2 incredible layered animated figure shader for golfing \nOriginal shader https://shadertoy.com/view/XsGyRm\nReproducing https://www.facebook.com/CosmosUpp/videos/1001518269996955/\n","likes":7,"published":1,"flags":0,"usePreview":0,"tags":["2d","lines","illusion","points","short","reproduction","animgif"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// golfing simplified version of [FabriceNeyret2] https://shadertoy.com/view/XsGyRm\n\n#define P(k) cos(2.6928*(k)+T+vec2(0,11))                                        // heptastar vertex i                                 \n#define L(a,b) cos(T a)*3./dot(A=(-clamp(dot(B=b-Q, A=U-Q)/dot(B,B), 0.,1.)*B +A)*R.y, A ) // draw a line\n#define p(d) mix( P(i= ceil(t= T+ (n d)*.583)), P(--i), .5+.5*cos(3.*fract(t)) ) // point(n,t) on heptastar \n\nvoid mainImage(out vec4 O, vec2 u) {\n    vec2 A,B,Q,R=iResolution.xy, U = ( u+u - R ) / R.y;\n    O-=O;\n    for (float i,t,T=iTime*.3, n=0.; n<12.;\n        O.r += 40./ dot(A=(Q-U)*R.y , A ))  /* dots */\n        Q = P(n),\n        O = max(O,L(*.5,P(++n))),    \t/* lines */\n        Q = p(),\n        O.b += L(+1.,p(+4.)),     /* triangles */\n        O.g += L(+2.,p(+3.)); }   /* squares   */\n        \n        \n/*\n----------------------\nhttps://twigl.app/  373ch\n----------------------\n#define P(k)cos(2.6928*(k)+T+vec2(0,11))\n#define L(a,b)cos(T a)*3./dot(A=(-clamp(dot(B=b-Q,A=U-Q)/dot(B,B),0.,1.)*B+A)*R.y,A)\n#define p(d)mix(P(i=ceil(h=T+(n d)*.583)),P(--i),.5+.5*cos(3.*fract(h)))\nvec2 A,B,Q,R=r.xy,U=(2.*FC.xy-R)/R.y;for(float i,h,T=t*.3,n=0.;n<12.;o.r+=40./dot(A=(Q-U)*R.y,A))\nQ=P(n),o=max(o,L(*.5,P(++n))),Q=p(),o.b+=L(+1.,p(+4.)),o.g+=L(+2.,p(+3.));\n*/","name":"Image","description":"","type":"image"}]}