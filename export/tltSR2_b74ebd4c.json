{"ver":"0.1","info":{"id":"tltSR2","date":"1581371335","viewed":182,"name":"distorted stripes","username":"C_H","description":"\"Stolen\" from Ã‰tienne Jacob\nCheck out [url]https://necessarydisorder.wordpress.com/2017/09/02/animated-stripes-gifs-from-scalar-fields/[/url]","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["stripes"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.14159\n#define TWO_PI 6.28318\n\n// Perlin Noise from https://gist.github.com/patriciogonzalezvivo/670c22f3966e662d2f83\nfloat rand(vec2 c){\n\treturn fract(sin(dot(c.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\nfloat noise(vec2 p, float freq ){\n\tfloat unit = 1./freq;\n\tvec2 ij = floor(p/unit);\n\tvec2 xy = mod(p,unit)/unit;\n\txy = .5*(1.-cos(PI*xy));\n\tfloat a = rand((ij+vec2(0.,0.)));\n\tfloat b = rand((ij+vec2(1.,0.)));\n\tfloat c = rand((ij+vec2(0.,1.)));\n\tfloat d = rand((ij+vec2(1.,1.)));\n\tfloat x1 = mix(a, b, xy.x);\n\tfloat x2 = mix(c, d, xy.x);\n\treturn mix(x1, x2, xy.y);\n}\n\nfloat pNoise(vec2 p, int res){\n\tfloat persistance = .5;\n\tfloat n = 0.;\n\tfloat normK = 0.;\n\tfloat f = 4.;\n\tfloat amp = 1.;\n\tfor (int i = 0; i<=res; i++){\n\t\tn+=amp*noise(p, f);\n\t\tf*=2.;\n\t\tnormK+=amp;\n\t\tamp*=persistance;\n\t}\n\tfloat nf = n/normK;\n\treturn nf*nf*nf*nf;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord-.5*iResolution.xy)/iResolution.y;\n\tfloat n = pNoise(uv, 2);\n    float v = (sin((iTime + uv.x * 20. + uv.y * 20. + n * smoothstep(.5, -.5, length(uv)) * 200.) * TWO_PI) + 1.) / 2.;\n    vec3 col = vec3(smoothstep(-1., 1., (v-.65)/fwidth(v) ));\n    col.b = .65;\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}