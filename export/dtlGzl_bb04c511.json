{"ver":"0.1","info":{"id":"dtlGzl","date":"1672254307","viewed":88,"name":"christmas-overlay","username":"rprtr258","description":"christmas-overlay","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["newyear"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const float w = 142.;\nconst vec3 red1   = vec3(0xa3, 0x1e, 0x39) / 255.;\nconst vec3 green1 = vec3(0x1b, 0x94, 0x50) / 255.;\nconst vec3 white1 = vec3(0xff, 0xff, 0xf7) / 255.;\n\nconst vec3 red2   = vec3(0x8b, 0xe0, 0xff) / 255.;\nconst vec3 green2 = vec3(0xff, 0xff, 0xf7) / 255.;\nconst vec3 white2 = vec3(0x1b, 0x94, 0x50) / 255.;\n\nconst vec3 red3   = vec3(0x17, 0x00, 0x7c) / 255.;\nconst vec3 green3 = vec3(0xff, 0xff, 0xf7) / 255.;\nconst vec3 white3 = vec3(0x97, 0xcd, 0xff) / 255.;\n\nconst vec3 red4   = vec3(0x1b, 0x94, 0x50) / 255.;\nconst vec3 green4 = vec3(0xa3, 0x1e, 0x39) / 255.;\nconst vec3 white4 = vec3(0xff, 0xff, 0xf7) / 255.;\n\nconst vec3 red5   = vec3(0xf9, 0xba, 0xba) / 255.;\nconst vec3 green5 = vec3(0xff, 0xff, 0xf7) / 255.;\nconst vec3 white5 = vec3(0xd8, 0x5f, 0x5f) / 255.;\n\nbool romb(in vec2 p, in float w) {\n    vec2 r = abs(p - w / 2.);\n    float abobus = r.x + r.y;\n    return abobus < w / 2.;\n}\n\nfloat triangle(in vec2 p, in vec2 q) {\n    p.x = abs(p.x);\n    vec2 a = p - q*clamp( dot(p,q)/dot(q,q), 0.0, 1.0 );\n    vec2 b = p - q*vec2( clamp( p.x/q.x, 0.0, 1.0 ), 1.0 );\n    float s = -sign( q.y );\n    vec2 d = min( vec2( dot(a,a), s*(p.x*q.y-p.y*q.x) ),\n                  vec2( dot(b,b), s*(p.y-q.y)  ));\n    return 1./(1.+exp(-sqrt(d.x)*sign(d.y)*10.));\n}\n\nfloat box(in vec2 p, in vec2 b) {\n    vec2 d = abs(p)-b;\n    return float(length(max(d,0.0)) + min(max(d.x,d.y),0.0) < 0.1);\n}\n\nfloat elka(in vec2 uv) {\n    float p1 = triangle(vec2(uv.x, w-uv.y) - vec2(w/2., 36.), vec2(29. / 2., 15.));\n    float p2 = triangle(vec2(uv.x, w-uv.y) - vec2(w/2., 44.), vec2(44. / 2., 25.));\n    float p3 = triangle(vec2(uv.x, w-uv.y) - vec2(w/2., 52.), vec2(59. / 2., 35.));\n    float p4 = box(uv - vec2(w/2., 49.), vec2(14./2., 14./2.));\n    return max(max(p1, p2), max(p3, p4));\n}\n\nfloat center(in float x) {\n    return (x + 1.) / 2.;\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    vec2 uv0 = fragCoord - vec2(sin(iTime/10.) * 500., 0.);\n    //vec2 uv0 = fragCoord;\n    vec2 uv = mod(uv0, w);\n    bool rmb = romb(uv, w);\n    float el = elka(uv);\n    float el2 = elka(mod(uv0 - vec2(w/2.), w));\n    \n    float tx = center(sin(iTime/10.));\n    float t1 = (tx-1./4.)/(0./4.-1./4.)*(tx-2./4.)/(0./4.-2./4.)*(tx-3./4.)/(0./4.-3./4.)*(tx-4./4.)/(0./4.-4./4.);\n    float t2 = (tx-0./4.)/(1./4.-0./4.)*(tx-2./4.)/(1./4.-2./4.)*(tx-3./4.)/(1./4.-3./4.)*(tx-4./4.)/(1./4.-4./4.);\n    float t3 = (tx-1./4.)/(2./4.-1./4.)*(tx-0./4.)/(2./4.-0./4.)*(tx-3./4.)/(2./4.-3./4.)*(tx-4./4.)/(2./4.-4./4.);\n    float t4 = (tx-1./4.)/(3./4.-1./4.)*(tx-2./4.)/(3./4.-2./4.)*(tx-0./4.)/(3./4.-0./4.)*(tx-4./4.)/(3./4.-4./4.);\n    float t5 = (tx-1./4.)/(4./4.-1./4.)*(tx-2./4.)/(4./4.-2./4.)*(tx-3./4.)/(4./4.-3./4.)*(tx-0./4.)/(4./4.-0./4.);\n\n    vec3 red = red1*t1+red2*t2+red3*t3+red4*t4+red5*t5;\n    vec3 green = green1*t1+green2*t2+green3*t3+green4*t4+green5*t5;\n    vec3 white = white1*t1+white2*t2+white3*t3+white4*t4+white5*t5;\n\n    vec3 square = mix(red, green, float(rmb));\n    fragColor = vec4(mix(square, white, el + el2), 1.);\n}","name":"Image","description":"","type":"image"}]}