{"ver":"0.1","info":{"id":"ds23Dc","date":"1668296800","viewed":124,"name":"Folding experiment","username":"kastorp","description":".","likes":15,"published":1,"flags":0,"usePreview":0,"tags":["2d","fold"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\n#define PI 3.1416\n\nfloat map(vec2 p)\n{\n    float a= PI*(.24+.23*sin(iTime));  \n             // PI/6.; //hexagon\n    vec2 n=-vec2(cos(a),sin(a));\n    for(float i=0.; i<20.; i++){ //repetition\n    \tp.xy=abs(p.xy);\n\t\tfloat g=dot(p,n)+.1;//cell size\n\t\tp-=(g-abs(g))*n;\n    }\n    \n    switch(int(mod(iTime/PI/4.,4.))){\n        case 0:\n            return length(max(abs(p)-vec2(.15,0.),0.0)) ;\n        case 1:\n           return         length(max(abs(p)-vec2(.0,.5),0.0)) ;\n       case 2:\n           return distance(p, mix(-n, n, clamp(dot(p +n, normalize(2.*n)) / length(2.*n), 0., 1.)));\n       case 3:\n            return abs(length(p)-.01);\n    }\n}\n\n#define st(x) sin(iTime*x)\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n\tvec2 p = 2.*(2.0*fragCoord-iResolution.xy)/iResolution.y;\n    vec2 m = 2.*(2.0*iMouse.xy-iResolution.xy)/iResolution.y;\n    \n    \n\n    \n    float d=map( p);\n    float dm= iMouse.z>0.001 ? map( m):1e5;\n     \n    // colorize\n    vec3 col = (d>0.0) ? vec3(0.9,0.6,0.3) : vec3(1.0,1.1,1.2);\n\tcol *= 1.0 - exp(-2.0*abs(d));\n\tcol *= 0.7 + 0.2*cos(50.0*d);\n\tcol = mix( col, vec3(1.0), 1.0-smoothstep(0.0,0.03,abs(d)) );\n    \n    if( iMouse.z>0.001 )\n    {\n        col = mix(col, vec3(1.0,1.0,0.0), 1.0-smoothstep(0.0, 0.01, abs(length(p-m)-abs(dm))-0.0075));\n        col = mix(col, vec3(1.0,1.0,0.0), 1.0-smoothstep(0.0, 0.01, length(p-m)-0.035));\n    }\n   \n\tfragColor = vec4(col,1.0);\n}\n \n ","name":"Image","description":"","type":"image"}]}