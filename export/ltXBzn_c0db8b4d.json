{"ver":"0.1","info":{"id":"ltXBzn","date":"1510762637","viewed":222,"name":"DancingShader","username":"hop","description":"Dancing shader","likes":4,"published":1,"flags":64,"usePreview":0,"tags":["test","music","fun","bit","dancer"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"MsSXRz","filepath":"https://soundcloud.com/mcfearless/veridis-quo-daft-punk-original","previewfilepath":"https://soundcloud.com/mcfearless/veridis-quo-daft-punk-original","type":"musicstream","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":0}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec4 background(vec2 fCoord)\n{\n    vec2 gb = vec2(abs(fCoord.x / iResolution.x - (0.5 + 0.4 * sin(iTime / 4.0)))\n                   ,abs(fCoord.y / iResolution.y - (0.5 + 0.4 * cos(iTime / 3.0))));\n\treturn vec4(0.8 * abs(cos(iTime / 4.0)), gb, 1.0);\n}\n\nfloat rand(vec2 co){\n  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\nvec4 dancer(vec2 fCoord, vec4 fColor, vec2 center, float radFactor)\n{\n    float rad = min(iResolution.x, iResolution.y) * radFactor;\n    rad += rad * texelFetch(iChannel0, ivec2(0,0), 0).x;\n    vec2 dist = center - fCoord;\n    float dist2 = dist.x * dist.x + dist.y * dist.y;\n    float rad2 = rad * rad;\n    // main circle\n    if (dist2 < rad2) {\n    \tfColor = fColor + 0.3;\n    }\n    // hands\n    vec2 x = vec2(1, 0);\n    float angle = degrees(acos(dot(normalize(dist), x)));\n    if (dist.y < 0.) {\n    \tangle += 180.;\n    }\n    int texel = int(angle / 10.);\n    //atan(dist.x / dist.y);\n    if (dist2 < rad2 + rad2 * texelFetch(iChannel0, ivec2(texel, 0), 0).x) {\n    \tfColor = fColor + 0.3;\n    }\n    return fColor;\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n\tfragColor = background(fragCoord);\n    fragColor = dancer(fragCoord, fragColor, iResolution.xy / 2.0, 0.1);\n}","name":"Image","description":"","type":"image"}]}