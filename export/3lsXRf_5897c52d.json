{"ver":"0.1","info":{"id":"3lsXRf","date":"1563778158","viewed":511,"name":"All Night","username":"alyd","description":"Inspiration: chapter 5 in thebookofshaders and https://www.shadertoy.com/view/XsXXDn by Danilo Guanabara","likes":13,"published":1,"flags":64,"usePreview":0,"tags":["2d","music","beginner","audio","animation","visualizer"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4llXW4","filepath":"https://soundcloud.com/vulkansound/far-east-movement-x-marshmello-freal-luv-purowuan-remix","previewfilepath":"https://soundcloud.com/vulkansound/far-east-movement-x-marshmello-freal-luv-purowuan-remix","type":"musicstream","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":0}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define steps 10000.\n#define opacity .5\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n        vec4 color;\n        vec2 res=iResolution.xy;\n        float t = iTime;\n        float radialdist;\n    \tvec2 st = fragCoord/iResolution.xy;\n\n    \n    for (int i=0;i<3;i+=2) {\n        vec2 uv,pos=fragCoord.xy/res;\n        uv=pos;\n        pos-=.5; //centers the image so it's radial. pos is relative to screen width so 0.5 is halfway\n        pos.x*=res.x/res.y; //scales the aspect ratio\n        radialdist=length(pos); \n        \n        //SOUND\n        // the pow causes the rings in the center to be thicker.\n        // raising radialdist to the power of totalsound creates thinner rings ie more \n        // fragmentation at the center when the song gets more intense.\n        float totalsound = texture(iChannel0,vec2(0,0)).r;\n        float freq_bin = floor(steps*pow(radialdist,2.+1.*totalsound))/steps; //which bin this ring falls into.\n        float sound = texture(iChannel0,vec2(1.0-freq_bin,0)).r; //get the sound amplitude at this bin.\n        t += 1.*sound; //jump the \"time\" forward at this bin\n        \n        uv+=pos/radialdist*(sin(t))*sin(radialdist*9.-t*2.);\n        color[i]=.01/length(abs(uv-0.5-0.2*(sin(t)))); \n        \n        //make a more purple color\n        if (i==2){\n            color[0]+=.005/length(abs(uv-0.5-0.2*(sin(t))));\n            color[2]+=.01/length(abs(uv-0.5-0.2*(sin(t))));\n        }\n    }\n    color[3]=1.0;\n    fragColor = color;\n}","name":"Image","description":"","type":"image"}]}