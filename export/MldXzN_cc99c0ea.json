{"ver":"0.1","info":{"id":"MldXzN","date":"1478574954","viewed":261,"name":"Shape animation","username":"kellyegan","description":"Playing with looping animation. Pretty basic.","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["animation","shapes","timing"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.14159265359\n#define TAU 6.28318530718\n\nfloat polygon( vec2 st, float sides, float radius ) {\n    float a = atan(st.x,st.y) + PI;\n    float r = TAU / sides;\n    float d = cos( floor(0.5 + a / r) * r - a) * length(st);\n    return smoothstep( radius - 0.003, radius + 0.003, d );\n}\n\nfloat stepUpDown(float begin, float end, float t) {\n  return step(begin, t) - step(end, t);\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    \n    \n    float shortSide = min( iResolution.x, iResolution.y );\n    vec2 uv = fragCoord.xy / shortSide;\n    vec2 center = iResolution.xy / (shortSide * 2.);\n    uv -= center;\n    \n    float period = mod( iTime, 5.0);\n    \n    float sides = stepUpDown( 0.00, 1.0, period ) * 3.\n        \t\t+ stepUpDown( 1.0, 2.0, period ) * 4.\n        \t\t+ stepUpDown( 2.0, 3.0, period ) * 5.\n        \t\t+ stepUpDown( 3.0, 4.0, period ) * 6.\n        \t\t+ stepUpDown( 4.0, 5.0, period ) * 8.\n        \t\t;\n    \n\tperiod = mod( iTime, 12.0);\n    vec3 color = stepUpDown( 0.0, 1.0, period ) * vec3(0.389,0.266,1.000)\n            \t+ stepUpDown( 1.0, 3.0, period ) * vec3(1.000,0.935,0.334)\n            \t+ stepUpDown( 3.0, 5.0, period ) * vec3(0.443,0.665,0.297)\n        \t\t+ stepUpDown( 5.0, 7.0, period ) * vec3(0.900,0.200,0.410)\n        \t\t+ stepUpDown( 7.0, 9.0, period ) * vec3(0.100,0.095,0.350)\n        \t\t+ stepUpDown( 9.0, 11.0, period ) * vec3(0.900,0.423,0.168)\n                + stepUpDown( 11.0, 12.0, period ) * vec3(0.389,0.266,1.000)\n            \t;\n    \n    fragColor = vec4(color, 0.0);\n        \n    float d = polygon( uv, sides, fract(iTime) * fract(iTime) );\n    \n    if( mod(floor(iTime), 2.0) == 0.0 ) {\n        d = 1.0 - d;\n    }\n    \n    color = d * ( vec3(1.0) );\n    \n\tfragColor += vec4(color,1.0);\n}\n","name":"Image","description":"","type":"image"}]}