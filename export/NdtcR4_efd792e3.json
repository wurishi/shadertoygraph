{"ver":"0.1","info":{"id":"NdtcR4","date":"1653081829","viewed":157,"name":"Wrong Star","username":"sinvec","description":"Based on my previous works.","likes":11,"published":1,"flags":0,"usePreview":0,"tags":["2d","sdf","geometry","isometric"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.14159\n#define ro(a) (mat2(cos(a),sin(a),-sin(a),cos(a)))\n#define R iResolution\n#define s(v,l) smoothstep(l/R.y,0.,v)\n#define sdw(p,v) smoothstep(-p,p,v)\n#define m(x) (area = min(area,x))\n\nfloat lnsg(vec2 p, vec2 a, vec2 b)\n{\n    vec2 ba = b-a, pa = p-a;\n    float h = clamp(dot(pa,ba)/dot(ba,ba), 0., 1.);\n    return length(pa-h*ba);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 u = (fragCoord - R.xy * .5) / R.y;\n    float a = .015, ha = a / 2., h = a * sqrt(3.) / 2.;\n    float area = 999.;\n    const float C = sqrt(3.);\n    vec3 col = vec3(.99), col1 = col;\n\n    for(float i = 0.; i < 6.; i++) { \n        vec2 p1 = vec2(ha,-h),\n             p2 = vec2(5.*a,8.*h),\n             p3 = p2 + vec2(-a,2.*h),\n             p4 = p3 + vec2(a*1.5,3.*h),\n             p5 = p2 + vec2(a*3.,0.),\n             p6 = p1 + vec2(a*3.,0.),\n             p7, p8;\n        m(lnsg(u,p1,p2));m(lnsg(u,p2,p3));m(lnsg(u,p3,p4));\n        m(lnsg(u,p4,p5));m(lnsg(u,p5,p6));m(lnsg(u,p1,p6));\n        float X = u.x, Y = u.y;\n        area*=sign(4.-sign(Y+h)-sign(-Y+C*X-2.*h)-sign(Y-C*(X-a*4.))-sign(-Y-C*(X-12.*a)));\n        area*=sign(4.-sign(Y-C*X+2.*h)-sign(-Y+C*(X+a))-sign(Y+C*(X-a*9.))-sign(-Y-C*(X-a*12.)));    \n        col = mix(col,col1*.94*mix(1.,.3,sdw(.03,-Y-h))*mix(1.,.5,sdw(.1,Y-13.*h)), s(area, .5));\n        area = 999.;\n        p1 = p3 + vec2(-a,-2.*h);\n        p2 = p1 + vec2(-a*1.5,3.*h);\n        p3 = p2 + vec2(a*2.5,5.*h);\n        p6 = p3 + vec2(-5.5*a,11.*h);\n        m(lnsg(u,p1,p4));m(lnsg(u,p1,p2));m(lnsg(u,p2,p3));m(lnsg(u,p3,p6));\n        p7 = p6 + vec2(3.*a,0.);p8 = p5 + vec2(3.*a,0.); \n        m(lnsg(u,p6,p7));m(lnsg(u,p7,p8));m(lnsg(u,p8,p5));m(lnsg(u,p5,p4));\n        area*=sign(4.-sign(Y+C*(X-7.*a))-sign(-Y-C*(X-12.*a))-sign(Y-C*(X+a))-sign(-Y+C*(X+4.*a)));\n        area*=sign(3.-sign(Y+C*(X-12.*a))-sign(-Y-C*(X-15.*a))-sign(Y-8.*h)-sign(-Y+27.*h));\n        col = mix(col,col1*.94*mix(1.,.2,sdw(.05,-Y-C*(X-7.*a))), s(area, .5));\n        area = 999.;\n        p3 = p2 + vec2(-1.5*a,3.*h);\n        p4 = p3 + vec2(a,2.*h);\n        p5 = p4 + vec2(3.*a,0.);\n        m(lnsg(u,p2,p3));m(lnsg(u,p3,p4));m(lnsg(u,p4,p5));m(lnsg(u,p5,p2));\n        area*=sign(4.-sign(Y+C*(X-7.*a))-sign(Y-C*(X+4.*a))-sign(-Y+C*(X+7.*a))-sign(-Y+16.*h));\n        col = mix(col,col1*.94*mix(1.,.2,sdw(.05,Y-16.*h)), s(area, .5));\n        area = 999.;\n        p1 = p4 + vec2(-2.5*a,5.*h);\n        p2 = p1 + vec2(-1.5*a,-3.*h);\n        p3 = p2 + vec2(-1.5*a,3.*h);\n        p6 = p3 + vec2(3.*a,6.*h);\n        m(lnsg(u,p4,p1));m(lnsg(u,p1,p2));m(lnsg(u,p2,p3));\n        m(lnsg(u,p3,p6));m(lnsg(u,p6,p5));m(lnsg(u,p5,p4));\n        area*=sign(4.-sign(Y+C*(X-9.*a))-sign(-Y-C*(X-12.*a))-sign(Y-16.*h)-sign(-Y+C*(X+15.*a)));\n        area*=sign(4.-sign(-Y+C*(X+15.*a))-sign(-Y-C*(X-9.*a))-sign(Y+C*(X-6.*a))-sign(Y-C*(X+12.*a)));\n        col = mix(col,col1*.94*mix(1.,.2,sdw(.05,-Y+15.*h))*mix(1.,.5,sdw(.1,Y-30.*h)), s(area, .5));\n        area = 999.;\n        p4 += vec2(-a,2.*h);\n        m(lnsg(u,p4,p1));m(lnsg(u,p1,p2));m(lnsg(u,p2,p4));\n        area*=sign(3.-sign(-Y-C*(X-9.*a))-sign(-Y+C*(X+12.*a))-sign(Y-18.*h));\n        col = mix(col,col1*.94*mix(1.,.2,sdw(.05,Y-20.*h)), s(area, .5));\n        area = 999.;\n        p1 = vec2(3.5*a,-h);\n        p2 = p1 + vec2(4.5*a,9.*h);\n        p3 = p2 + vec2(3.*a,0.);\n        p4 = p1 + vec2(3.*a,0.);\n        m(lnsg(u,p1,p2));m(lnsg(u,p2,p3));m(lnsg(u,p3,p4));m(lnsg(u,p4,p1));\n        area*=sign(3.-sign(-Y+C*(X-4.*a))-sign(Y-C*(X-7.*a))-sign(Y+h)-sign(-Y+8.*h));\n        col = mix(col,col1*.94*mix(1.,.3,sdw(.03,-Y-h))*mix(1.,.5,sdw(.1,Y-14.*h)), s(area, .5));\n        area = 999.;\n        p1 = vec2(3.5*a,7.*h);\n        p2 = p1 + vec2(a,0.);\n        p3 = p2 + vec2(-.5*a,-h);\n        m(lnsg(u,p1,p2));m(lnsg(u,p2,p3));m(lnsg(u,p3,p1));\n        area*=sign(3.-sign(Y+C*(X-7.*a))-sign(Y-C*(X-a))-sign(-Y+7.*h));\n        col = mix(col,col1*.94*mix(1.,.2,sdw(.05,Y-8.*h)), s(area, .5));\n        u *= ro(PI / 3.);\n    }\n       \n    for(float i = 0.; i < 6.; i++) { \n        float Y = u.y, X = u.x;\n        area = 999.;\n        vec2 p1 = vec2(-.5*a,11.*h),\n             p2 = p1 + vec2(-.5*a,h),\n             p3 = p2 + vec2(.5*a,h),\n             p4 = p3 + vec2(13.*a,0.),\n             p5 = p4 + vec2(-.5*a,-h),\n             p6 = p5 + vec2(.5*a,-h);\n        m(lnsg(u,p1,p2));m(lnsg(u,p2,p3));m(lnsg(u,p3,p4));m(lnsg(u,p4,p5));\n        m(lnsg(u,p5,p6));m(lnsg(u,p6,p1));\n        area*=sign(5.-sign(Y-11.*h)-sign(-Y+13.*h)-sign(Y+C*(X-5.*a))\n                     -sign(-Y+C*(X+7.*a))-sign(Y-C*(X-6.*a)));\n        area*=sign(3.-sign(-Y+C*(X-6.*a))-sign(Y-11.*h)-sign(-Y-C*(X-18.*a)));\n        col = mix(col,vec3(.9,.85,.65)\n                    * mix(1.,.5,sdw(.1,-Y-C*(X-4.*a))*sdw(.001,-Y+12.*h))\n                    * mix(1.,.5,sdw(.1,Y+C*(X-19.*a))*sdw(.001,-Y+12.*h)),\n              s(area, .5));\n        area = 999.;\n        p1 = p3 + vec2(.5*a,13.*h);\n        p2 = p1 + vec2(a,0.);\n        p3 = p2 + vec2(.5*a,-.5*h);\n        p4 = p3 + vec2(-a,0.);\n        m(lnsg(u,p1,p2));m(lnsg(u,p2,p3));m(lnsg(u,p3,p4));m(lnsg(u,p4,p1));\n        area*=sign(4.-sign(Y+C*(X-13.*a))-sign(-Y-C*(X-14.*a))-sign(Y-25.*h)-sign(-Y+26.*h));\n        col = mix(col,vec3(.9,.85,.65)*mix(1.,.7,sdw(.05,-Y+25.*h)*sdw(.001,Y-C*(X+12.*a))), s(area, .2));\n        area = 999.;\n        p1 = vec2(2.*a,0.);\n        p2 = p1 + vec2(3.5*a,7.*h);\n        p3 = p2 + vec2(a,0.);\n        p4 = p3 + vec2(-3.5*a,-7.*h);\n        m(lnsg(u,p1,p2));m(lnsg(u,p2,p3));m(lnsg(u,p3,p4));m(lnsg(u,p4,p1));\n        area*=sign(4.-sign(Y)-sign(-Y+C*(X-2.*a))-sign(Y-C*(X-3.*a))-sign(-Y+7.*h));\n        col = mix(col,vec3(.9,.9,.6)\n                  * mix(1.,.7,sdw(.05,-Y+6.*h)*sdw(.001,Y+C*(X-9.*a)))\n                  * mix(1.,.5,sdw(.05,-Y) * sdw(.05,-Y+C*(X-3.*a))), \n              s(area, .5));\n        area = 999.;\n        p1 = vec2(a,14.*h);\n        p2 = p1 + vec2(a,2.*h);\n        p3 = p2 + vec2(-a,2.*h);\n        p4 = p3 + vec2(a,0.);\n        p5 = p4 + vec2(a,-2.*h);\n        p6 = p5 + vec2(-a,-2.*h);\n        m(lnsg(u,p1,p2));m(lnsg(u,p2,p3));m(lnsg(u,p3,p4));\n        m(lnsg(u,p4,p5));m(lnsg(u,p5,p6));m(lnsg(u,p6,p1));\n        area*=sign(4.-sign(Y-14.*h)-sign(-Y+16.*h)-sign(-Y+C*(X+6.*a))-sign(Y-C*(X+5.*a)));\n        area*=sign(4.-sign(Y-16.*h)-sign(-Y+18.*h)-sign(Y+C*(X-10.*a))-sign(-Y-C*(X-11.*a)));\n        col = mix(col,vec3(.9,.75,.65)\n                  * mix(1.,.7,sdw(.001,Y-16.*h) * sdw(.03,Y+C*(X-11.*a)))\n                  * mix(1.,.7,sdw(.001,-Y+16.*h) * sdw(.03,-Y+C*(X+5.*a))),\n              s(area, .5));\n        u *= ro(PI / 3.);\n    }\n    \n    // I added some contrast here (i think col * col is quite dark)\n    fragColor = vec4(vec3(pow(col.x,1.4),pow(col.y,1.4),pow(col.z,1.4)),1.0);\n}","name":"Image","description":"","type":"image"}]}