{"ver":"0.1","info":{"id":"3syyW1","date":"1602672702","viewed":220,"name":"HSV Color Transform","username":"ShadingKnight","description":"Based on https://beesbuzz.biz/code/16-hsv-color-transforms","likes":0,"published":1,"flags":0,"usePreview":1,"tags":["color"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define M_PI 3.14159265\n\nvec3 TransformHSV(\n    vec3 inputCol,  // color to transform\n    float h,          // hue shift (in degrees)\n    float s,          // saturation multiplier (scalar)\n    float v           // value multiplier (scalar)\n) {\n    float vsu = v * s * cos(h * M_PI/180.0);\n    float vsw = v * s * sin(h * M_PI/180.0);\n    \n    vec3 ret = vec3(0.0);\n    ret.r = (.299*v + .701*vsu + .168*vsw)*inputCol.r\n        +   (.587*v - .587*vsu + .330*vsw)*inputCol.g\n        +   (.114*v - .114*vsu - .497*vsw)*inputCol.b;\n    ret.g = (.299*v - .299*vsu - .328*vsw)*inputCol.r\n        +   (.587*v + .413*vsu + .035*vsw)*inputCol.g\n        +   (.114*v - .114*vsu + .292*vsw)*inputCol.b;\n    ret.b = (.299*v - .300*vsu + 1.25*vsw)*inputCol.r\n        +   (.587*v - .588*vsu - 1.05*vsw)*inputCol.g\n        +   (.114*v + .886*vsu - .203*vsw)*inputCol.b;\n    \n    return ret;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    \n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n\tvec3 col = texture(iChannel0, uv).xyz;\n    // Time varying pixel color\n    // vec3 col = vec3(1.0, 0.1, 0.1);\n\t\n    vec3 newCol = clamp(TransformHSV(col, abs(sin(iTime) * 360.0), 1.0, 1.0), 0.0, 1.0);\n    // Output to screen\n    if(fragCoord.x > iResolution.x * 0.5)\n    {\n    \tfragColor = vec4(newCol,1.0);\n    }\n    else\n    {\n        fragColor = vec4(col,1.0);\n    }\n}","name":"Image","description":"","type":"image"}]}