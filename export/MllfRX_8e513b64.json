{"ver":"0.1","info":{"id":"MllfRX","date":"1512744910","viewed":120,"name":"Marching Ikura","username":"jakerr","description":"First shader.","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["circles","dots","cells","polka"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define CELL vec2(0.1, 0.1)\n\nfloat circle(vec2 coord, float r) {\n    // Alternate crawl\n    if(mod(coord.y, CELL.y * 2.0) < CELL.y) {\n        coord.x += mod(iTime/30. * (1.0 + floor(coord / CELL).y), CELL.x);\n    } else {\n        coord.x += mod(iTime/30. * (CELL.y - floor(coord / CELL).y), CELL.x);\n    }\n    vec2 cell = floor(coord / CELL);\n    vec2 center = cell * CELL + CELL/2.0;\n    return r - distance(coord, center);\n}\n\nvec4 crawl(vec2 coord) {\n    vec2 uv = coord;\n    float circle1 = smoothstep(0.0, CELL.y/8.0, circle(coord,  CELL.y/3.5));\n    float circle2 = smoothstep(0.0, CELL.y/4.0, circle(coord,  CELL.y/2.0));\n    vec4 grad1 = vec4(uv.rg, 1.0, 1.0);\n    vec4 grad2 = vec4(2.0 * abs(uv.x+sin(iTime)/2.0), 0.5, 0.5, 0.0);\n\n    vec4 bg = vec4(0.1, 0.2, 0.4, 1.0);\n    vec4 color = mix(bg, grad1, circle1);\n    color = mix(color, grad2, circle2 * 0.5);\n    return color;\n}\n\nvec4 ghost(vec2 coord, float times) {\n    vec4 color = vec4(0.0);\n    float m = 1.0;\n    for(float i = 0.; i < times; i++) {\n        color = mix(color, crawl(coord), m);\n        coord.x -= CELL.x/(times);\n        coord.y += CELL.y/(times);\n        m -= (0.5 / (times));\n    }\n    return color;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n\tvec2 coord = fragCoord / iResolution.y;\n    fragColor = ghost(coord, 15. + sin(iTime * (coord.x / CELL.x)));\n}","name":"Image","description":"","type":"image"}]}