{"ver":"0.1","info":{"id":"MXVXWw","date":"1720048833","viewed":45,"name":"Random dazzle - hw3","username":"Morevita","description":"Use textures to get random color patterns","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["2d"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XdfGRn","filepath":"/media/a/e6e5631ce1237ae4c05b3563eda686400a401df4548d0f9fad40ecac1659c46c.jpg","previewfilepath":"/media/ap/e6e5631ce1237ae4c05b3563eda686400a401df4548d0f9fad40ecac1659c46c.jpg","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4sfGRn","filepath":"/media/a/fb918796edc3d2221218db0811e240e72e340350008338b0c07a52bd353666a6.jpg","previewfilepath":"/media/ap/fb918796edc3d2221218db0811e240e72e340350008338b0c07a52bd353666a6.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// ref:https://www.shadertoy.com/view/X3dXWf\n\nfloat spiral(vec2 uv, float randParam1, float randParam2, float randParam3) {\n    vec2 nv = normalize(uv);\n    float a = atan(uv.y, uv.x);\n    float l = sqrt(dot(uv, uv));\n    uv = nv * (sin(l * randParam1 + iTime * randParam2) + sin(a * randParam3));\n    float s = sin(a * randParam3);\n    float d = distance(nv * (s * 0.2 + 0.5), uv);\n    d = cos(d * l);\n    \n    return clamp(-exp(-d * 1.0) + 0.3 / (d * d), 0.0, 1.0);\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    vec2 uv = (fragCoord * 2.0 - iResolution.xy) / min(iResolution.x, iResolution.y) * 2.0;\n    float t = iTime /10.0;\n\n    float randParam1 = texture(iChannel0, vec2(0.1, 0.2)).r * 5.0;\n    float randParam2 = texture(iChannel0, vec2(0.3, 0.4)).g * 5.0;\n    float randParam3 = texture(iChannel0, vec2(0.5, 0.6)).b * 5.0;\n\n    float colorControl1 = texture(iChannel1, vec2(0.1, 0.2)).r * 0.5 + 0.5;\n    float colorControl2 = texture(iChannel1, vec2(0.3, 0.4)).g * 0.5 + 0.5;\n    float colorControl3 = texture(iChannel1, vec2(0.5, 0.6)).b * 0.5 + 0.5;\n\n    vec3 col = vec3(spiral(uv * cos(t - cos(t * randParam1 + cos(t * randParam2))) + vec2(-uv.y, uv.x) * sin(t - sin(t * randParam3 * 3.0)), randParam1, randParam2, randParam3));\n    col.b *= 0.4;\n    uv -= col.gb;\n    col.r += col.r + spiral(uv * cos(0.5 + t - cos(t * randParam1 + cos(t * randParam2))) + vec2(-uv.y, uv.x) * sin(0.5 + sin(t * randParam3 * 3.0) + t), randParam1, randParam2, randParam3);\n    uv += col.rr;\n    col.g += col.g + spiral(uv * cos(1.0 - t + sin(t  * randParam1 * 3.0 - sin(t * randParam2 * 5.0))) + vec2(-uv.y, uv.x) * sin(1.0 - sin(t * randParam3 * 3.0)), randParam1, randParam2, randParam3);\n    uv -= col.rg;\n    col.b += col.b + spiral(uv * cos(1.5 - cos(t * randParam1)) + vec2(-uv.y, uv.x) * sin(1.5 - sin(t * randParam2 * 3.0)), randParam1, randParam2, randParam3);\n\n    col *= vec3(colorControl1, colorControl2, colorControl3);\n    col = 1.0 - sqrt(col);\n    col = sin(col * 2.0) * 0.5 + 0.5;\n    col = (0.5 + col) * (1.5 - abs(cos(length(col) * 3.0)));\n    col = mix(vec3(dot(col, vec3(0.299, 0.587, 0.114))), col, 4.0);\n    col += vec3(0.5 * cos(iTime / 10.0 + vec3(1.0, 7.0, 3.0))) - 0.2;\n\n    fragColor = vec4(col, 1);\n}\n","name":"Image","description":"","type":"image"}]}