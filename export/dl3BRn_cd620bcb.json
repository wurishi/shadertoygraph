{"ver":"0.1","info":{"id":"dl3BRn","date":"1700853498","viewed":35,"name":"TUNNEL 2","username":"fthr_tpolm","description":"it's a tunnel","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["tunnel"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord / iResolution.xy;\n    uv = uv * 2.0 - 1.0; // Transform uv to (-1, 1) range\n    uv.x *= iResolution.x / iResolution.y; // Correct aspect ratio\n\n    // 3D Tunnel effect\n    float fov = 3.14159 / 4.0; // Field of view\n    vec3 rayDir = normalize(vec3(uv, -1.0 / tan(fov / 2.0))); // Ray direction for each pixel\n    float z = iTime * 0.1; // Camera movement along z-axis\n    vec3 rayOrigin = vec3(0.0, 0.0, z);\n\n    // Wobbling cylinder\n    float baseRadius = 1.0;\n    float wobbleFactor = 0.2;\n    float cylinderRadius = baseRadius + wobbleFactor * sin(iTime + length(rayOrigin.xy) * 2.0);\n\n    // Calculate intersection with wobbling cylinder surface\n    float a = rayDir.x * rayDir.x + rayDir.y * rayDir.y;\n    float b = 2.0 * (rayOrigin.x * rayDir.x + rayOrigin.y * rayDir.y);\n    float c = rayOrigin.x * rayOrigin.x + rayOrigin.y * rayOrigin.y - cylinderRadius * cylinderRadius;\n    float discriminant = b * b - 4.0 * a * c;\n\n    if (discriminant > 0.0) {\n        float t = (-b - sqrt(discriminant)) / (2.0 * a);\n        vec3 hitPoint = rayOrigin + t * rayDir;\n\n        // Convert hit point to cylindrical UV\n        vec2 cylUV;\n        cylUV.x = atan(hitPoint.y, hitPoint.x) / (2.0 * 3.14159);\n        cylUV.y = hitPoint.z - floor(hitPoint.z);\n\n        // Thicker lines and more rays\n        vec2 grid = vec2(30.0, 30.0); // Increase the number of rays\n        vec2 gridUV = fract(cylUV * grid);\n        float lineThickness = 0.05; // Adjust line thickness\n        float line = smoothstep(lineThickness, lineThickness + 0.01, 0.5 - abs(gridUV.x - 0.5));\n        line += smoothstep(lineThickness, lineThickness + 0.01, 0.5 - abs(gridUV.y - 0.5));\n\n        // Rainbow color tint\n        vec3 colorTint = 0.5 + 0.5 * cos(vec3(0.0, 2.0, 4.0) + cylUV.xyx * 3.14159 * 2.0);\n\n        // Bloom effect (simplified)\n        float bloom = line * 1.5; // Amplify brightness for bloom\n        vec3 bloomColor = colorTint * bloom;\n\n        // High contrast\n        bloomColor = pow(bloomColor, vec3(1.5)); // Increase contrast\n\n        // Color and output\n        vec3 col = mix(colorTint * line, bloomColor, 0.5); // Combine original color with bloom\n        fragColor = vec4(col, 1.0);\n    } else {\n        // Background color if ray doesn't hit the cylinder\n        fragColor = vec4(0.0, 0.0, 0.0, 1.0);\n    }\n}\n","name":"Image","description":"","type":"image"}]}