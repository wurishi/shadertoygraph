{"ver":"0.1","info":{"id":"ltjGzG","date":"1430093728","viewed":134,"name":"echo_partition","username":"echophon","description":"Exploring @paniq partition noise (http://glslsandbox.com/e#4841.11)","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["noise"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[],"code":"#ifdef GL_ES\nprecision mediump float;\n#endif\n\nvec2 hash(vec2 v) {\n    vec2 n;\n    n.x=fract(fract(v.y-v.x*831.0518)*(v.y+v.x)*3156.7821);\n    n.y=fract(fract(v.x+v.y*804.3048)*(v.x-v.y)*5349.2627);\n    return n;\n}\n\n\n//via http://glslsandbox.com/e#4841.11\nfloat partition_noise(vec2 p) {\n    float time = iTime; \n\tvec2 id;\n\tfloat a, b;\n\t\n\tid = floor(floor(p)-.5);\n\tp *= floor(hash(id) * 1.)+.5;\n\n\tid = floor(p);\n\tp.yx *= floor(hash(id) * 3.)-2.*mix(sin(time*.013), sin(time*0.004), 1.0);\n\n\tid -= floor(p);\n\n\tp *= floor(hash(id) * 2.)+1.;\n\tid = floor(p);\n\tp -= id;\n\n    vec2 u = abs(p - .5) * 2.;\n\t\n\t//return max(u.x, u.y);\n\t//return min(u.x, u.y);\n    \n\treturn mix(u.x, u.y, 0.0);\n    //return mix(u.x, u.y, step(sin(time),u.y) );\n\t//return step(u.x, u.y);\n\t//return clamp(0.0, u.x, u.y);\n\t//return smoothstep(u.x, u.y, sin(time*4.)*1.75 );\n\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float time = iTime; \n    vec2 uv = fragCoord.xy / iResolution.xy;\n\n\tuv *= 12.;\n\tuv += iMouse.xy * 1.;\n\tuv += time*0.5;\n\n\tfragColor = vec4(partition_noise(uv));\n}","name":"Image","description":"","type":"image"}]}