{"ver":"0.1","info":{"id":"WlG3zz","date":"1578070639","viewed":104,"name":"Perlin/Value Noise w/ FBM","username":"shinda1020","description":"Perlin/Value noise with Fractional Brownian Motion.","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["noise"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float hash(float a)\n{\n    return fract(sin(a)*10403.9);\n}\n\nvec2 hash22(vec2 uv)\n{\n    float f = uv.x + uv.y * 37.0;\n    return fract(cos(f)*vec2(10003.579, 37049.7));\n}\n\nfloat perlinNoise(vec2 p) {\n    vec2 pi = floor(p);\n    vec2 pf = fract(p);\n\n    vec2 w = pf * pf * (3.0 - 2.0 * pf);\n\n    return mix(mix(dot(hash22(pi + vec2(0.0, 0.0)), pf - vec2(0.0, 0.0)), \n                   dot(hash22(pi + vec2(1.0, 0.0)), pf - vec2(1.0, 0.0)), w.x), \n               mix(dot(hash22(pi + vec2(0.0, 1.0)), pf - vec2(0.0, 1.0)), \n                   dot(hash22(pi + vec2(1.0, 1.0)), pf - vec2(1.0, 1.0)), w.x),\n               w.y);\n}\n\nfloat valueNoise(vec2 p) {\n  vec2 w = floor(p);\n  vec2 k = fract(p);\n  k = k*k*(3.-2.*k); // smooth it\n\n  float n = w.x*10. + w.y*48.;\n\n  float a = hash(n);\n  float b = hash(n+10.);\n  float c = hash(n+48.);\n  float d = hash(n+58.);\n\n  return mix(\n    mix(a, b, k.x),\n    mix(c, d, k.x),\n    k.y);\n}\n\nconst mat2 mtx = mat2( 0.80,  0.60, -0.60,  0.80 );\nfloat fbm6( vec2 p ) {\n  float f = 0.0;\n\n  f += 0.500000*valueNoise( p ); p = mtx*p*2.02;\n  f += 0.250000*valueNoise( p ); p = mtx*p*2.03;\n  f += 0.125000*valueNoise( p ); p = mtx*p*2.01;\n  f += 0.062500*valueNoise( p ); p = mtx*p*2.04;\n  f += 0.031250*valueNoise( p ); p = mtx*p*2.01;\n  f += 0.015625*valueNoise( p );\n\n  return f/0.96875;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy * 6.0;\n\n    vec3 noise = vec3(fbm6(uv));\n\n    // Output to screen\n    fragColor = vec4(noise,1.0);\n}","name":"Image","description":"","type":"image"}]}