{"ver":"0.1","info":{"id":"XcscDr","date":"1721044403","viewed":44,"name":"雷达扫描敌人","username":"langzai","description":"雷达","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["2d","uv"],"hasliked":0,"parentid":"-1","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define Pi 3.1415926\nvec2 CenterUV(vec2 fragCoord )//https://www.shadertoy.com/view/M3cSDS\n{\n    return (2.0 * fragCoord - iResolution.xy) / min(iResolution.x, iResolution.y);\n}\n\nfloat CrateGrid(float uv,float cellSize,float power)//创建高光线\n{\n    float checkeruv = 1.-pow(mod(uv,cellSize),power)+ 1.-pow(mod(-uv,cellSize),power);\n    return checkeruv*checkeruv;\n}\nfloat CrateGrid(vec2 uv,float cellSize,float power)//创建高光网格线\n{\n    vec2 checkeruv = 1.-pow(mod(uv,cellSize),vec2(power))+ 1.-pow(mod(-uv,cellSize),vec2(power));\n    return checkeruv.x*checkeruv.x + checkeruv.y*checkeruv.y;\n}\nvec2 hash22(vec2 p)// hash function by Dave_Hoskins\n{\n\tuvec2 q = uvec2(ivec2(p))*uvec2(1597334673U, 3812015801U);\n\tq = (q.x ^ q.y) * uvec2(1597334673U, 3812015801U);\n\treturn vec2(q) * (1.0 / float(0xffffffffU));\n}\nfloat CreatEnemies(vec2 uv)\n{\n    float enemy = 0.;\n    for(int i = 0; i < 16; ++i)\n    {\n        vec2 h = (3. * hash22(vec2(float(i + 5) * 2.)) - 1.5)*.8;\n        enemy += 1.-step(0.05,length(uv-h));\n    }\n    return enemy;\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec3 radarColor = vec3(0.,1.,0.);\n    vec3 enemiseColor = vec3(1.,0.,0.);\n    vec2 uv = CenterUV(fragCoord );\n    vec2 uv2 = vec2(atan(uv.x,uv.y),length(uv));\n    \n    \n    float grid = CrateGrid(uv,.2,0.13)*0.2;//方格\n    grid += CrateGrid(uv2.y,.2,0.15)*0.7;//圆环\n    grid += CrateGrid(uv,2.,0.2);//十字光标\n    \n    float scan = pow(fract(uv2.x/(Pi*2.) -iTime* 0.2) , 10.)*0.7;\n    radarColor *= grid +scan;\n    \n    float enemise = CreatEnemies(uv);\n    vec3 finalColor = mix(radarColor,enemiseColor,enemise * scan);\n    \n    \n    fragColor = vec4(finalColor,1.0);\n}","name":"Image","description":"","type":"image"}]}