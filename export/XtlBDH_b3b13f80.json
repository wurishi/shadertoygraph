{"ver":"0.1","info":{"id":"XtlBDH","date":"1511795714","viewed":134,"name":"Skyfall","username":"UglySwedishFish","description":"skyfall","likes":0,"published":1,"flags":64,"usePreview":0,"tags":["skyfall"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XdX3zn","filepath":"/media/a/488bd40303a2e2b9a71987e48c66ef41f5e937174bf316d3ed0e86410784b919.jpg","previewfilepath":"/media/ap/488bd40303a2e2b9a71987e48c66ef41f5e937174bf316d3ed0e86410784b919.jpg","type":"cubemap","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"},"published":1},{"id":"lsSXz1","filepath":"https://soundcloud.com/user-720557634/adele-skyfall-official-lyrics-video","previewfilepath":"https://soundcloud.com/user-720557634/adele-skyfall-official-lyrics-video","type":"musicstream","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":0}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\nfloat GetPuddle(vec2 uv,float time) {\n    float distancePuddle = length(uv*2.-1.); \n\tif((distancePuddle > fract(time*1.6) && distancePuddle < fract(time*1.6)+0.2)) {\n    \tfloat h = distancePuddle-fract(time*1.6); \n        h/=fract(time*1.6)+0.2; \n        float fadeOut = time-floor(time); \n        h*=pow(1.0-fadeOut,3.5); \n    \treturn h; \n    }\n    return 0.0; \n}\n\nvec3 GetPuddleNormal(vec2 uv,float time,vec3 norm) {\n\tfloat addon = 0.05; \n    \n    float intensity = GetPuddle(uv,time); \n    float PuddleR = GetPuddle(uv-vec2(addon,0.),time); \n    float PuddleL = GetPuddle(uv+vec2(addon,0.),time); \n    float PuddleU = GetPuddle(uv+vec2(0.,addon),time); \n    float PuddleD = GetPuddle(uv-vec2(0.,addon),time); \n    \n    return mix(normalize(vec3(PuddleR-PuddleL, 1., PuddleU-PuddleD)),vec3(norm),1.0-intensity); \n\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    \n    \n    vec2 uv2 = fragCoord.xy / iResolution.xy;\n\n    \n\tvec2 uv = fragCoord.xy / vec2(float(60.));\n    \n    int locX = int(floor(uv.x))+2; \n    int locY = int(floor(uv.y))+2; \n    \n\tuv.x = fract(uv.x); \n    uv.y = fract(uv.y); \n\n    float TimeAddonX = fract(sin(float(locX)*43758.5453123)); \n    float TimeAddonY = fract(sin(float(locY)*43758.5453123)); \n\t\n    float Mix = fract(sin(TimeAddonX*12123.+TimeAddonY*43758.5453123)); \n    \n    float seed = fract(sin(mix(TimeAddonX,TimeAddonY,Mix)*43758.5453123)); \n    seed = fract(tan(mix(mix(seed,TimeAddonX,TimeAddonY),TimeAddonY,TimeAddonX)*43758.5453123)); \n    \n    vec3 PuddleNormal = GetPuddleNormal(uv,iTime*0.25+seed,vec3(0.,1.,0.)); \n    \n    fragColor = vec4(texture(iChannel1,PuddleNormal).rgb,1.); \n    \n}","name":"Image","description":"","type":"image"}]}