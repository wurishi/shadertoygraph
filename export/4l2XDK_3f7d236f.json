{"ver":"0.1","info":{"id":"4l2XDK","date":"1446568964","viewed":199,"name":"idea about using &quot;if &quot;","username":"Equations","description":"Note that this &quot;shader&quot;, by default, generates a black screen. To see how it works, read the &quot;Please read&quot;. Also feel free to comment!","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["if"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Created by Sebastian Ohrem - 2015\n// License: Creative Commons Attribution-NonCommercial-ShareAlike\n\n// \t\t\t\t\t\t----- WARNING -----\n// this shader uses a lot of resources, so reduce the Slowness value\n// should you be experiencing browser crashes or other unwanted behaviour\n\n//\t\t\t\t\t\t\t--- PLEASE READ ---\n//this is no usual shader (fancy landscape and all) but rather a test for an idea using \"if\" I came up with.\n//to run the test, i.e. see the difference between the two implementations, \n//uncomment either one of the two (in the mainImage function), then compile and watch your frame rate\n\n\n\n\n//adjust the following two constants as need be:\n//\n#define Slowness 30000\n//Slowness: how much time the dumbFunction function will use\n//a frient of mine had to set the Slowness to 1000000 to see the difference, \n//so you might need to also increase it by a lot\n#define Screen 0.2\n//Screen: how much of the screen (white part) the dumbFunction function it to be calculated for (needn't be changed)\n\nfloat dumbFunction(in float arg)\n{\n\t//this is just a function to burn time calculating\n    for(int i = 0; i < Slowness; i++)\n    {\n        arg *= 3.14159265359;\n    }\n    if( arg == 0.0) return 0.0;\n    return 1.0;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    \n    float color = 0.0; \n    //color displayed:  white = calculation (dumbFunction was run for this pixel)\n    //\t\t\t\t\tblack = no calculation\n    \n    \n    //default implementation, low frame rate due to always running the if\n    /*\n\n    if(uv.y < Screen) color = dumbFunction(1.0);\n\n    /**/\n    \n    \n    //my implementation, higher frame rate\n    /*\n\n    (uv.y < Screen) && (0.0 == (color = dumbFunction(1.0)));\n\n    /**/\n    \n    \n    fragColor = vec4(color);\n}\n\n//\t\t\t\t\t\t--- EXPLANATION ---\n// while if always calculates and then, if the argument is false, \n// discards the calculation, making it quite impractical for usage,\n// the && operator only calculates the righhand object if the left-hand object is true, \n// so you can kind of use this property to conditionally run a command (like I did),\n// although I have to admit it looks kind of ugly and also cannot do everything you want an if to.\n// Still, it might be handy for some of you (t will be for me), so enjoy!","name":"Image","description":"","type":"image"}]}