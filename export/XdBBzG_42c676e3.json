{"ver":"0.1","info":{"id":"XdBBzG","date":"1500907910","viewed":366,"name":"ECG","username":"Zibe","description":"Trying to simulate ECG, based on this formula : https://www.reddit.com/r/Physics/comments/30royq/whats_the_equation_of_a_human_heart_beat/cpw81wj/","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["2d"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float plot(vec2 st, float pct){\n  return  smoothstep( pct-0.005, pct, st.y) - \n          smoothstep( pct, pct+0.005, st.y);\n}\n\nfloat ecg(float x)\n{\n    \n    x = x - ceil(x/2.8 - 0.5)*2.8;\n    \n   return 0.2*(exp((-pow(x + 1.4, 2.)) / (2.*0.02)) + exp((-pow(x - 1.4,2.)) / (2.*0.02))) + \n       (1. - abs(x / 0.1) - x)*exp((-pow(7.*x,2.)) / 2.);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    \n    \n\tfragColor = vec4(0., step( 0.245,mod(uv.x, 1./4.)) , 0., 1.);\n\tfragColor += vec4(0., step( 0.245,mod(uv.y, 1./4.)) , 0., 1.);\n    \n    fragColor +=  plot(uv, ecg(uv.x*2. + iTime / 1.5)/2. + 0.5) * vec4(0.,10.,0., 0.);\n}","name":"Image","description":"","type":"image"}]}