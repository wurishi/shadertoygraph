{"ver":"0.1","info":{"id":"ttKyDm","date":"1611165905","viewed":297,"name":"Playing with ByteBeats","username":"eiffie","description":"ByteBeats","likes":8,"published":3,"flags":40,"usePreview":0,"tags":["bytebeat"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage(out vec4 O, in vec2 U){\n  O=vec4(1)-texture(iChannel0,U/iResolution.xy);\n}\n//bytebeats see common for function","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"int cnv1(float t){return int(t*44100.+.5);}\nint fun(int t){return\n  //t*(t%6 | t>>12 | t>>8);\n  //t/16*(t%16 | t>>8 & t>>7);\n  //t*(t>>8 & t>>12);\n  t*-1*(t>>(t%65536<62000?7:5) & t>>12);\n  //t*-1*(t>>12 | t>>8 & t>>8);\n}\nvec2 cnv2(int t){return mod(vec2(t/64,t/32),vec2(256.))/256.-.5;}\n","name":"Common","description":"","type":"common"},{"inputs":[],"outputs":[],"code":"vec2 mainSound( int samp, float time )\n{\n  int t=cnv1(time);\n  vec2 o=cnv2(fun(t))+cnv2(fun(t+1));\n  return mix(o,o.yx,fract(time*4.));\n}","name":"Sound","description":"","type":"sound"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"float DE(vec2 p){\n  float t3=iTime*5.+4.*sin(iTime*2.);\n  p+=vec2(sin(t3),sin(t3*1.1))*0.2;\n  float r=length(p)-.3+sin(t3)*0.2,a=atan(p.y,p.x)/3.14159;\n  vec2 o=cnv2(fun(cnv1(iTime)))*2.; \n  return max(abs(r)*0.7,min(abs(a-o.x),abs(a-o.y))*abs(sin(t3))*4.);\n}\nvec3 pal(float a){return abs(vec3(sin(a),sin(a*1.3),sin(a*1.5)))*.1;}\nvoid mainImage(out vec4 O, in vec2 U){\n  if(iFrame<5){O=vec4(0);return;}\n  vec2 rez=iResolution.xy;\n  float t2=iTime+4.*sin(iTime);\n  vec2 uv=(U*2.-rez)/rez,U2=U/rez;\n  O=texture(iChannel0,U2*1.01+vec2(sin(t2),cos(t2))*0.01-0.005)*0.97;\n  float a=atan(uv.y,uv.x);\n  O.rgb+=pal(iTime+a)*smoothstep(0.1,0.0,DE(uv));\n}","name":"Buffer A","description":"","type":"buffer"}]}