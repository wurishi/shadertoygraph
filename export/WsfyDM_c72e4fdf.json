{"ver":"0.1","info":{"id":"WsfyDM","date":"1584866594","viewed":139,"name":"simple gears","username":"shitball","description":"瞎几把写","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["2d"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float gear(vec2 center,vec2 uv,float speed,float radius,float wheelNum,float phase){\n    vec2 pos = uv - center;\n    \n    float r = length(pos);\n    float a = atan(pos.y,pos.x);\n    \n    \n    \n    float f = smoothstep(-.5,.5,cos(a * wheelNum + speed * iTime + phase)) * radius + radius * 3. ;\n    \n    return (1. - smoothstep(f , f + .002f,r))* step(radius * 1.5  , r);\n}\n\nfloat gearInv(vec2 center,vec2 uv,float speed,float radius,float wheelNum,float phase){\n\treturn gear(center,uv,-speed,radius,wheelNum,phase);\n}\n\nvec2 projToScreen(float x,float y){\n    return vec2(x * iResolution.x / iResolution.y , y);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n    \n    //uv = fract(uv * 4.);\n    \n    uv = projToScreen(uv.x,uv.y);\n\n    vec3 col = vec3(0 ,1.,1.);\n    \n    col += vec3(1.,1.,1.) * gear(projToScreen(.5,.5),uv,5.,.05,6.,0.);\n    col += vec3(1.,1.,1.) * gear(projToScreen(.2,.2),uv,5.,.025,6.,3.);\n    col += vec3(1.,1.,1.) * gear(projToScreen(.25,.6),uv,5.,.04,8.,3.5);\n    col += vec3(1.,1.,1.) * gearInv(projToScreen(.32,.35),uv,5.,.02,5.,- 2.);\n    col += vec3(1.,1.,1.) * gearInv(projToScreen(.8,.6),uv,5.,.07,9.,3.5);\n    \n    // Output to screen\n    fragColor = vec4(col,1.);\n}","name":"Image","description":"","type":"image"}]}