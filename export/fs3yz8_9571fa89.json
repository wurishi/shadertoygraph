{"ver":"0.1","info":{"id":"fs3yz8","date":"1652999765","viewed":68,"name":"6▣","username":"natnatnat","description":"6▣","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["square"],"hasliked":0,"parentid":"7tjfWR","parentname":"5▣"},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const float PI = 3.14,\n    width = 0.8,\n    height = 0.6,\n    R = 0.07;\nconst vec2 center = vec2(0., .0);\n\nvec2 rotZ(vec2 point, float angle) {\n    float c = cos(angle);\n    float s = sin(angle);\n    vec2 finalPoint = mat2(c, -s, s, c) * point;\n    return finalPoint;\n}\n\nvec4 drawRect(float width, float height, vec2 U, float d) {\n    vec4 o = vec4(1.);\n    vec2 rotU = rotZ(U, -PI/4. * 0.9);\n    o *= vec4(min(exp((-abs(rotU.y - rotU.x) + height)/d), 1.));\n    rotU = rotZ(U, PI/4.);\n    o *= vec4(min(exp((-abs(rotU.y - rotU.x) + width)/d), 1.));\n    return o;\n}\n\nvec4 drawBall(float radius, vec2 U, vec2 center, float d) {\n    return vec4(min(exp((-distance(U, center) + radius)/d), 1.));\n}\n\nvec4 draw(vec2 uv, vec2 Res) {\n    vec4 o = vec4(1.);\n    vec2 mDir = normalize((2. * iMouse.xy - Res) / Res.y);\n    o *= drawRect(width, height, uv, abs(sin(iTime)) * 0.2 + 0.1)\n      - drawRect(width * 0.85, height  * 0.85, uv, 0.01)\n      + drawBall(0.08, uv, vec2(-0.25, 0.05) + R * mDir, abs(sin(iTime)) * 0.03 + 0.01)\n      + drawBall(0.12, uv, vec2(0.25, 0.05) + R * mDir, abs(sin(iTime)) * 0.03 + 0.01);\n    return o;\n}\n\nvoid mainImage( out vec4 o, in vec2 uv0 ) {\n    vec2 Res = iResolution.xy, \n        uv = (2. * uv0 - Res) / Res.y;\n    vec2 fakeCenter = abs(sin(iTime) * vec2(.7));\n    float amp = abs(sin(iTime));\n    o = (1. - 0.5 * amp) * draw(uv - center, Res) + amp * 0.5 * draw(uv + vec2(fakeCenter.x, 0.), Res) + amp * 0.5 * draw(uv - vec2(fakeCenter.x, 0.), Res);\n}","name":"Image","description":"","type":"image"}]}