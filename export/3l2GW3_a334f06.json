{"ver":"0.1","info":{"id":"3l2GW3","date":"1567866800","viewed":161,"name":"Voronoi menu","username":"skaplun","description":"Cool carousel menu. Originally made by @setchi.\nHere is the source https://twitter.com/setchi/status/1141313091134562304","likes":11,"published":1,"flags":0,"usePreview":0,"tags":["voronoi","noise","menu"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XdfGRn","filepath":"/media/a/e6e5631ce1237ae4c05b3563eda686400a401df4548d0f9fad40ecac1659c46c.jpg","previewfilepath":"/media/ap/e6e5631ce1237ae4c05b3563eda686400a401df4548d0f9fad40ecac1659c46c.jpg","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":3,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"Xsf3zn","filepath":"/media/a/f735bee5b64ef98879dc618b016ecf7939a5756040c2cde21ccb15e69a6e1cfb.png","previewfilepath":"/media/ap/f735bee5b64ef98879dc618b016ecf7939a5756040c2cde21ccb15e69a6e1cfb.png","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4sf3Rr","filepath":"/media/a/ad56fba948dfba9ae698198c109e71f118a54d209c0ea50d77ea546abad89c57.png","previewfilepath":"/media/ap/ad56fba948dfba9ae698198c109e71f118a54d209c0ea50d77ea546abad89c57.png","type":"texture","channel":2,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const float MAX_FLOAT = 1e10;\nvec2 hash2(vec2 p){\n\treturn textureLod( iChannel0, (p+0.5)/256.0, 0.0 ).xy;\n}\n\nconst int POINTS_CNT = 12;\nvec2 ORIGINAL_POINTS[POINTS_CNT] = vec2[POINTS_CNT](\n    vec2(-3., 0.), vec2(-2.25, .5), vec2(-1.5, .125),\n    vec2(-.75, .125), vec2(-.5, .2), vec2(1.25, -.1),\n    vec2(1.55, -.15), vec2(2., .0),\n    vec2(-1.75, 1.25), vec2(1.5, 1.4), vec2(1.5, -1.5), vec2(-1.5, -1.75));\n\nvec4 voronoi2(in vec2 coord, float offset){\n    vec2[] points = ORIGINAL_POINTS;\n    for(int i=0; i<8; i++){\n        vec2 cP, dP;\n        if (i == 0){\n        \tcP = ORIGINAL_POINTS[7] + vec2(1., 0.);\n        \tdP = ORIGINAL_POINTS[7];\n        }else{\n        \tcP = ORIGINAL_POINTS[i];\n        \tdP = ORIGINAL_POINTS[i - 1];\n        }\n        points[i] = mix(cP, dP, offset);\n    }\n\t\n    vec2 mr;\n\n    float minDistance = MAX_FLOAT;\n    int index = -1;\n    for(int i=0; i<POINTS_CNT; i++){\n    \tvec2 to = points[i] - coord;\n        float curDistance = distance(points[i], coord);\n        if(curDistance < minDistance){\n            minDistance = curDistance;\n            mr = to;\n            index = i;\n        }\n    }\n    minDistance = MAX_FLOAT;\n    for(int i=0; i<POINTS_CNT; i++){\n    \tif(i == index)\n            continue;\n        vec2 r = points[i] - coord;\n        if(distance(mr, r)>0.0000000000001)\n            minDistance = min(minDistance, dot((mr + r), normalize(r - mr)));\n    }\n    return vec4( minDistance, mr, float(index) );\n}\n\nvec4 tex(int t, vec2 c, float m){\n    if(t >= 8)\n        return vec4(-1.);\n    t = (t+int(m))%3;\n    switch(t){\n    \tcase 0:\n        \treturn  textureLod(iChannel1, c, 0.);\n        case 1:\n        \treturn  vec4(textureLod(iChannel2, c, 0.).x);\n        case 2:\n        \treturn  textureLod(iChannel3, c, 0.);\n        default:\n        \treturn vec4(0.);\n    }\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord){\n    vec2 p = (2. * fragCoord.xy - iResolution.xy)/iResolution.y;\n    float m = iTime * 1.5 + (1. - iMouse.x/iResolution.x) * 4.;\n    vec4 c = voronoi2(p, fract(m));\n    vec4 col = tex(int(c.a), (p - c.yz) * .225 - .45, m);\n    col = mix( vec4(1.0,0.6, 0.0, 1.), col, smoothstep( 0.02, 0.04, c.x ) );\n\tfragColor = col;\n}","name":"Image","description":"","type":"image"}]}