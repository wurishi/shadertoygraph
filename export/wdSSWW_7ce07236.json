{"ver":"0.1","info":{"id":"wdSSWW","date":"1556489737","viewed":209,"name":"Glitchy Cookie","username":"Flopine","description":"Here is a little experiment on random and glitch for the Cookie Fanzine #2 about glitch. \nComment #define ANIMATED to see the still image chosen for the 'zine.\nAnd check out the Cookie Collective twitter: https://twitter.com/CookieDemoparty ","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["2d","random","glitch"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Code by Flopine\n// Thanks to wsmind, leon, XT95, lsdlive, lamogui, Coyhot, Alkama and YX for teaching me\n// Thanks LJ for giving me the love of shadercoding :3\n\n// Cookie Collective rulz\n\n#define ANIMATED\n\n\nvec2 hr = vec2(1., 1.73);\nfloat detail = 5.;\n\n#ifdef ANIMATED\n\t#define time iTime\n#else\n\t#define time 0.\n#endif\n\nfloat rand (float x)\n{return fract(sin(x)*256.43);}\n\nfloat HexDist (vec2 uv)\n{\n  uv = abs(uv);\n   return max(dot(uv, normalize(hr)), uv.x);\n}\n\nvec4 HexGrid (vec2 uv)\n{\n  uv *= detail;\n\n  vec2 ga = mod(uv,hr)-hr*0.5;\n  vec2 gb = mod(uv-hr*0.5, hr)-hr*0.5;\n\n  vec2 guv = dot(ga,ga)<dot(gb,gb) ? ga : gb;\n  guv = fract(guv);\n  vec2 id = uv-guv;\n\n  guv.y = .5-HexDist(guv);\n  return vec4(guv.x, guv.y, id.x, id.y);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n  vec2 uv = 2.*(fragCoord.xy / iResolution.xy)-1.;\n  uv.x *= iResolution.x / iResolution.y;\n\n  uv.x -= 0.25;\n  uv = mix(uv, floor(uv*15.)/10., length(uv));\n  float hx = HexGrid(uv).x;\n  uv.y += fract(uv.x*5.);\n  vec4 hc = HexGrid(uv);\n  vec3 col = mix(vec3(rand(hc.z)*0.8, rand(hc.w), 1.),\n                 vec3(1., rand(hc.z)*0.6, rand(hc.w)),\n                 step(0.05,hc.y+sin(time)));\n  col *= smoothstep(0.05,0.4,hx+sin(time*2.));\n  col = pow(col,vec3(0.6));\n  fragColor = vec4(col, 1.0);\n}","name":"Image","description":"","type":"image"}]}