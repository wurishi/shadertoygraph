{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"#define M_PI 3.141592654\n#define NUM_IT 24\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n   // Move the centre around a bit\n   vec2 vMid = vec2(\n     -1.74 + 0.2 * sin(iTime * 0.07), \n     -1.00 + 0.2 * cos(iTime * 0.07)\n   );\n\n   // Rotate and zoom\n   float fPhi = iTime * 0.05;\n   float fZoom = -2.5 + sin(iTime * 0.05);\n   mat2 mTrf = mat2(\n     cos(fPhi) * fZoom, sin(fPhi) * fZoom, // 1st column\n     -sin(fPhi) * fZoom, cos(fPhi) * fZoom // 2nd column\n   );\n\n   // Compute vRel as the xy in Mandelbrot space\n   vec2 vRel = mTrf * (vMid + vec2 (3.5, 2)*fragCoord.xy/iResolution.xy);\n\n   // The usual Mandelbrot iteration follows\n   vec2 vJmp = vec2(0.0, 0.0);\n   int nIt = NUM_IT;\n\n   for (int i = 0; i < NUM_IT; i++) {\n      // Instead of pow(x, 2), we use a modified formula for a warping effect\n      float fX2 = pow(vJmp.x, 2.0f + 1.9f * sin(iTime * 0.5));\n      float fY2 = pow(vJmp.y, 2.0f + 1.0f * cos(iTime * 0.5));\n        \n      if (fX2 + fY2 >= 4.0 && nIt == NUM_IT) {\n         nIt = i; \n         // break; -- not always allowed due to parallelism\n      }\n        \n      float fTmp = fX2 - fY2 + vRel.x;\n      vJmp.y = 2.0*vJmp.x*vJmp.y + vRel.y;\n      vJmp.x = fTmp;\n   }\n    \n   float fGrey = float (nIt) / float (NUM_IT);\n   fragColor = vec4(\n      0.5 + 0.5*sin (2.0 * M_PI * fGrey + iTime*0.5),\n      0.5 + 0.5*sin (2.0 * M_PI * fGrey + iTime*0.6),\n      0.5 + 0.5*sin (2.0 * M_PI * fGrey + iTime*0.7),\n      1.0\n   );\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"Mlf3WN","date":"1422044960","viewed":183,"name":"Mandelbroxagon","username":"digorydoo","description":"My second shader!","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["mandelbrot","retro","newbie","crap","superhexagon"],"hasliked":0,"parentid":"","parentname":""}}