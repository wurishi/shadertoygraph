{"ver":"0.1","info":{"id":"wdKBR3","date":"1607751553","viewed":136,"name":"Snowy Landscape - Andrew","username":"andrew741","description":"Snowy hills and dynamic moon lighting!","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["snowylandscape"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float rand(vec2 co){\n    return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord - iResolution.xy / 2.) / iResolution.xy;\n    float time = iTime + iMouse.x / 125.;\n    vec2 NfragCoord = floor(uv * 450.);\n    \n    float terrainHeight = (sin((uv.x + time / 4.) * 4.) / 4. + 0.5) - uv.y;\n    float terrainCut = clamp(round(terrainHeight), 0., 1.);\n    \n    vec2 posForRand = vec2(floor((NfragCoord.y + time * 300.) / 10.), floor((NfragCoord.x - time * 200. + floor(NfragCoord.y / 1.25)) / 2.));\n    float Frandom = rand(posForRand + 1234.5);\n    float random = rand(posForRand);\n    float Frain = Frandom * Frandom * Frandom * Frandom * Frandom;\n    float rain = random * random * random * random * random;\n    float Frain_cut = 1. - clamp(round(Frain * .55), 0., 2.);\n    float rain_cut = 1. - clamp(round(rain * .7), 0., 2.);\n    \n    float lighting = length(uv.xy - 0.9) * 1.45;\n    lighting = max(lighting, 0.9);\n    lighting -= (uv.y  * terrainCut) / 1.5;\n    \n    float lightingColMask = length(uv.xy - 0.5) - 3.;\n    lightingColMask = clamp(round(lightingColMask), 0., 1.);\n    lightingColMask += (uv.y * terrainCut) * 1.25;\n    \n    vec3 otherSnowColor = vec3(0.85) * terrainCut + .9 * (1. - terrainCut);\n    vec3 snowColor = otherSnowColor * (1. - Frain_cut);\n    \n    vec3 col = vec3(0.8);\n    col = col * rain_cut + 0.9 * (1. - rain_cut);\n    col = col * (1. - terrainCut) + (0.95 * (uv.y + 0.92)) * terrainCut;\n    col = col * Frain_cut + snowColor;\n    col /= lighting;\n    col *= lightingColMask + vec3(0.673, 0.673, 0.96) * (1. - lightingColMask);\n    \n    fragColor = vec4(col, 1.0);\n}\n","name":"Image","description":"","type":"image"}]}