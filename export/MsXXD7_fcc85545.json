{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[{"channel":0,"type":"video","id":"Xdf3Rn","filepath":"/media/a/e81e818ac76a8983d746784b423178ee9f6cdcdf7f8e8d719341a6fe2d2ab303.webm","sampler":{"filter":"linear","wrap":"clamp","vflip":"false","srgb":"false","internal":"byte"}}],"code":"// visualise the distortion, incompatible with LERP_AFTER\n//#define TRACE_WARP\n\n// this looks prettier, but makes it less obvious that it's the same warp each time.\n//#define LERP_AFTER\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 C = (2.0*fragCoord.xy-iResolution.xy) / iResolution.x;\n\t// position better to see the fractal\n\tC = -C.yx*1.8+vec2(-.5,0);\n\t\n\tvec2 Z = vec2(0);\n\t\n\t#define MAX 16\n\tfloat m = float(MAX);\n\tfloat n = fract(.3*iTime/m)*m;\n\t\n#ifndef LERP_AFTER\n\t// blend towards the next one\n\tZ = C*fract(n);\n#endif\n\t\n\tfor ( int i=0; i < MAX; i++ )\n\t{\n\t\tif ( float(i) > n )\n\t\t\tbreak;\n\t\tZ = vec2( Z.x*Z.x-Z.y*Z.y, 2.0*Z.x*Z.y ) + C;\n\t}\n\n#ifdef LERP_AFTER\n\t// blend from the last one\n\tZ = mix( Z, vec2( Z.x*Z.x-Z.y*Z.y, 2.0*Z.x*Z.y ) + C, fract(n) );\n#endif\n\n/*\t// checkerboard\n\tvec2 c = step(vec2(.5),fract(Z*8.0))*2.0-1.0;\n\tfragColor.rgb = c.xxx*c.yyy;*/\t\n\n\t// image map\n\tfragColor.rgb = texture(iChannel0,-Z.yx*.3+.5).rgb;\n\t\n\n#ifdef TRACE_WARP\n\t// visualise the distortion\n\t#define L 20\n\tfor ( int i=0; i < L; i++ )\n\t{\n\t\tZ = C*fract(n + float(i)/float(L));\n\t\tZ = vec2( Z.x*Z.x-Z.y*Z.y, 2.0*Z.x*Z.y ) + C;\n\t\t\n\t\tvec2 p = step(fract(Z*3.0+.5),vec2(.95));\n\t\tvec4 c = mix( vec4(0,0,1,.3), vec4(1,1,1,1), 1.0-step( .0001, float(i)/float(L) ) );\n\t\tfragColor.rgb = mix( fragColor.rgb, c.rgb, c.a*(1.0-max(p.x,p.y)) );\n\t}\n#endif\n\t\n\tfragColor.a = 1.0;\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"MsXXD7","date":"1402229945","viewed":326,"name":"Mandelbrit","username":"TekF","description":"Trying to understand the mandelbrot fractal as a repeated spatial distortion, so I needed a texture to apply it to.","likes":11,"published":1,"flags":0,"usePreview":0,"tags":["fractal"],"hasliked":0,"parentid":"","parentname":""}}