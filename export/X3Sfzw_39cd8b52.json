{"ver":"0.1","info":{"id":"X3Sfzw","date":"1729281826","viewed":100,"name":"chiaroscuro","username":"pb","description":"inside a quaternion julia set","likes":12,"published":1,"flags":32,"usePreview":0,"tags":["fractal","julia","quaternion"],"hasliked":0,"parentid":"XX2cWG","parentname":"zz quats"},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//philip.bertani@gmail.com\n\nvoid mainImage(out vec4 O, vec2 u) {\n    vec2 R = iResolution.xy,\n        uv = u/R;\n\n    O *= 0.;\n\n    float[] gk1s = float[](\n        0.003765, 0.015019, 0.023792, 0.015019, 0.003765,\n        0.015019, 0.059912, 0.094907, 0.059912, 0.015019,\n        0.023792, 0.094907, 0.150342, 0.094907, 0.023792,\n        0.015019, 0.059912, 0.094907, 0.059912, 0.015019,\n        0.003765, 0.015019, 0.023792, 0.015019, 0.003765\n    );\n\n    //golfed by fabriceneyret2\n    for (int k; k < 25; k++)      \n        O += gk1s[k] * texture(iChannel0, uv + ( vec2(k%5,k/5) - 2. ) / R );\n        \n    //O = 8.*fwidth(O*O/4.);\n}\n\n","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[{"id":"4dXGR8","channel":0}],"code":"//golfed by FabriceNeyret2\n\nfloat sc;\n\nvec4 qm( vec4 v ) { // v*v , to multiply 2 quaternions\n     vec2 s=vec2(1,-1);\n     return v * mat4( v*s.xyyy, v.yxwz*s.xxxy, v.zwxy*s.xyxx, v.wzyx*s.xxyx );\n}\n\nfloat df(vec4 q) {  \n    vec4 q2 = vec4(1,0,0,0); \n    sc= 1.;     \n    for (int i; i++<6; q2 = q )    \n        q = cos(qm(q)) + vec4(-.8,.1,.2,.1),\n        sc *= length(q)/length(q2);         \n  \n    float d = clamp(dot(q,q),1e-3,1e4);     \n    return sqrt(sqrt(d/sc)) * log(d);\n}\n\n#define rot(a)  mat2(cos(a+vec4(0,11,33,0)))\n\nvoid mainImage( out vec4 O, vec2 U) {\n         \n    O *= 0.;\n    vec2 R = iResolution.xy;\n    vec4 D = normalize( vec4( U+U-R, R.y, 50) ) *2.,\n         p = vec4(-.4,0,.7,0);  \n    p.xz *= rot(18./7.);\n    p.xy *= rot(.2 + iTime/5.);\n    \n    for (float d,i ; ++i<50.; ) \n        d = df(p)/60.,\n        p += d * D,       \n        d > .002 ? O += .06*cos( log(1.+sc) ) / exp(i*i*i*i*d*d*.1) : O;\n\n    O = max( tanh(O*O), 0.);  \n}","name":"Buffer A","description":"","type":"buffer"}]}