{"ver":"0.1","info":{"id":"clKyWh","date":"1700469297","viewed":78,"name":"Snow Flakes 2D","username":"Famousghost","description":"Simple 2D snow flakes algorithm","likes":4,"published":1,"flags":32,"usePreview":0,"tags":["randomsdf"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"mipmap","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n\n    vec3 col = texture(iChannel0, uv).rgb;\n\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"#define PI 3.14159265359\n#define SPEED_Y 2.0\n#define SPEED_X 3.0\n\nfloat rnd(vec2 uv)\n{\n   return fract(sin(dot(uv, vec2(19.42564f, 33.23563f)))* 72345.4556f);\n}\n\nvec2 random(vec2 uv, float radius, float speedX, float speedY, float movement, vec2 seed, float seedStrength)\n{\n    float angle = fract(sin(dot(uv, seed)) * seedStrength) * 2.0f * PI;\n    float x = mix(-1.0f + radius * 2.0f, 1.0f - radius* 2.0f, cos(angle + iTime * speedX + movement) * 0.5f + 0.5f);\n    float y = mix(-1.0f + radius* 2.0f, 1.0f - radius* 2.0f, sin(angle + iTime * speedY + movement) * 0.5f + 0.5f);\n    return vec2(x, y);\n}\n\nfloat sdCircle(vec2 uv, vec2 position, float radius)\n{\n    return length(uv - position) - radius;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    \n    float size = 16.0f;\n    float size2 = 8.0f;\n\n    uv.y += iTime * 0.1f;\n    \n    \n    vec2 id = floor(uv * size) / size;\n    vec2 id2 = floor(uv * size2) / size2;\n    \n    vec2 cellUv = fract(uv * size) * 2.0f - 1.0f;\n    vec2 cellUv2 = fract(uv * size2) * 2.0f - 1.0f;\n    \n    cellUv.x *= iResolution.x / iResolution.y;\n    cellUv2.x *= iResolution.x / iResolution.y;\n    float radius = 0.2f;\n    \n    vec2 pos = random(id , radius, 2.0f, 3.0f, 0.0f, vec2(19.432432f, 33.32432f), 43432.43223f);\n    vec2 pos2 = random(id2, radius, 3.0f, 1.0f, 2.0f, vec2(13.432432f, 21.32432f), 72432.43223f);\n    \n    float r = radius - rnd(id);\n    float r2 = radius - rnd(id2);\n    \n    float snowFlakes = 1.0f - smoothstep(-radius, radius, sdCircle(cellUv, pos, r));\n    float snowFlakes2 = 1.0f - smoothstep(-radius, radius, sdCircle(cellUv2, pos2, r2));\n\n    vec3 col = vec3(snowFlakes + snowFlakes2);\n    \n    col += texture(iChannel0, fragCoord / iResolution.xy).rgb * 0.2f;\n    \n    \n    \n    col = clamp(col, vec3(0.0f), vec3(1.0f));\n    \n    fragColor = vec4(col,1.0);\n}","name":"Buffer A","description":"","type":"buffer"}]}