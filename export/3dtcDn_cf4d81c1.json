{"ver":"0.1","info":{"id":"3dtcDn","date":"1600758461","viewed":46,"name":"ScreenPatch","username":"wavebbs","description":"2D","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["2d"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec4 color1 = vec4(93./255.,178./255.,238./255.,1.0);\nvec4 bg = vec4(14./255.,44./255.,66./255.,1.0);\nvec2 size = vec2(3.,3.);\nfloat timeScale = 3.;\n\nfloat N(float t){\n\treturn fract( sin(t*13.21345)*613.456 );\n}\nvec4 N14(float t){\n\treturn fract( sin(t* vec4(3456,1024,3456,9654)*vec4(6547,345,8821,1565) ));\n}\n\n\nfloat Split(vec2 uv, vec2 scale,float timescale)\n{\n    \n\n //   time *=10.0;\n\t//vec2 a = vec2(15, 22);\n\tvec2 st = uv * scale;\n\n\tvec2 id = floor(st);\n\n\tst = fract(st) - 0.5;\n    \n\n    \n     \n        ///随机每个 块的时间   \n    float time = iTime + fract(sin(id.x *361.34+id.y * 2312.7)*712.34) * 6.283 ;\n\n    float t = floor(time/timescale);\n    \n    \n    ///set random time to start\n    float alpha =  fract(sin(id.x *N(t*8.3323)*31.31978+id.y * N(t*12.33214)*8.80857)*12.3431);// * 6.283;\n    \n\t//float alpha = 0.0;\n    ///set random pos\n    //alpha = time;\n    //st.y += y;\n    \n\n    \n    \n    ///不需要移动位置\n\tvec2 p1 = vec2(0.0, 0);\n\tvec2 o1 = (st - p1) ;\n\n\n\t//Square\n\tfloat d = 1.0 -  max(abs(o1.x), abs(o1.y))/0.5f;\n\tfloat m1 = 0.0;//1.0*(1.0-d);//  lerp(1, 0.0, d);\n\n    \n\tm1 = step(d, 0.01);\n    \n    \n\tm1 = 1.0 - m1;\n\t\n\tfloat fade = fract(time/timescale  )* 2. - 1.0;\n    \n    fade = 1. - abs(fade);\n    \n    \n\treturn m1*fade * alpha;\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n\n\n  \n    \n    float r = Split(uv,size,timeScale);\n    \n  \n\n   // xx = 1.0 - xx;\n    \n    vec3 col = color1.rgb ;\n  // texture(iChannel0, uv) ;\n    col = mix(color1.rgb ,bg.rgb,r );;// bg.rgb + col;    ;//mix(color1.rgb,bg.rgb,r);\n    \n    // Output to screen\n    fragColor =  vec4(col,1.0);\n    \n    \n    \n    \n    \n    \n    \n}","name":"Image","description":"","type":"image"}]}