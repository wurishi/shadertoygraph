{"ver":"0.1","info":{"id":"ftB3W3","date":"1624798229","viewed":57,"name":"game of life #404","username":"TrevallionJ","description":"It's Conways game of life, not much else to say really...\nClick to reset","likes":3,"published":1,"flags":32,"usePreview":0,"tags":["gameoflife"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"nearest","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n\n    fragColor = texture(iChannel0, uv);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"nearest","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"//  Colors of dead cells\nvec4 dead( vec2 fragCoord ){\n\n    \n\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n\n    vec4 fragColor;\n    \n    if(texture(iChannel0, uv).r > 0.0){\n        fragColor = vec4(texture(iChannel0, uv).r - 0.01, 0.0, 1.0, 1.0);\n    }else{\n        fragColor = vec4(0.0, (texture(iChannel0, uv).b - 0.1) / 2.0, texture(iChannel0, uv).b - 0.1, 1.0);\n    }\n    \n    return fragColor;\n}\n\n//  Count neighbouring cells\nint nearby(vec2 fragCoord){\n    int n = 0;\n    for(float x = 0.0; x < 3.0; x++){\n        for(float y = 0.0; y < 3.0; y++){\n            if(texture(iChannel0, vec2(fragCoord.x+x-1.0, fragCoord.y+y-1.0)/iResolution.xy) == vec4(1.0)){\n                n++;\n            }\n        }\n    }\n    if(texture(iChannel0, fragCoord/iResolution.xy) == vec4(1.0)){n--;}\n    return n;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    //  iterate rules\n    int n = nearby(fragCoord);\n    //  if alive\n    if(texture(iChannel0, fragCoord/iResolution.xy) == vec4(1.0)){\n        if(n < 2 || n > 3){\n            fragColor = dead(fragCoord);\n        }else{\n            fragColor = vec4(1.0);\n        }\n    }else if(n == 3){\n        fragColor = vec4(1.0);\n    }\n    if(iFrame == 0 || sign(iMouse.w) == 1.0){\n        fragColor = vec4(round(gold_noise(fragCoord, fract(iDate[3]) + 1.0)));\n    }\n}","name":"Buffer A","description":"","type":"buffer"},{"inputs":[],"outputs":[],"code":"const float PHI = 1.61803398874989484820459; // Î¦ = Golden Ratio \n\nfloat gold_noise(in vec2 xy, in float seed)\n{\n    return fract(tan(distance(xy*PHI, xy)*seed)*xy.x);\n}","name":"Common","description":"","type":"common"}]}