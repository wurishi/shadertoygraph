{"ver":"0.1","info":{"id":"tl2SD1","date":"1565809003","viewed":98,"name":"Circles and crosses","username":"zodiax","description":"Simple fun with shapes","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["circle","cross"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"mat2 rotate2d(float _angle){\n    _angle *= 3.1415/180.;\n    return mat2(cos(_angle),-sin(_angle),\n                sin(_angle),cos(_angle));\n}\n\nvec4 box(vec2 uvNew, vec2 scale, float orientation, vec2 position)\n{\n    uvNew += vec2(-0.5-position.x,(-0.5-position.y)*iResolution.y/iResolution.x);\n    uvNew *= rotate2d(orientation);\n    float a = 1.-step(scale.x*0.2,abs(uvNew.x));\n    float b = 1.-step(scale.y*0.2,abs(uvNew.y));\n    vec4 col= vec4(vec3(a*b),1.0);\n\n\treturn col;\n}\n\nvec4 crossA(vec2 uvNew, float orientation, vec2 position, vec2 scale)\n{\n\tvec4 crossAComp = box(uvNew, scale, 0.+orientation, position) + box(uvNew, scale, 90.+orientation, position);\n    return clamp(crossAComp,0.,1.);\n}\n\nvec4 circle(vec2 uvNew, float radius, vec2 position)\n{\n    uvNew += vec2(-0.5,(-0.5)*iResolution.y/iResolution.x);\n    float c = pow(uvNew.x-position.x,2.)+pow(uvNew.y-position.y,2.);\n    c = 1. - step(0.01*radius,c);\n\treturn vec4(c);\n}\n\nvec2 grid(vec2 uvNew, float density)\n{\n    uvNew *= density;\n    return vec2(fract(uvNew));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n\tuv.y *= iResolution.y/iResolution.x;\n    \n    //cross\n    float g = 15.;\n    //float timeFactor = 25.*sin(ceil(uv.x*g) * (iTime)) + 25.*cos(ceil(uv.y*g) * (iTime));\n    float timeFactor = 20.*iTime + ceil(uv.y*g);\n    vec2 cPos = vec2(sin(uv.y*g + iTime *.5)*.1,sin(uv.x*g + iTime*.5)*.1);\n    vec4 crossCol = vec4(1.0,0.5,.3,1.0) * 1.-clamp(vec4(ceil(uv.x*g)/10.) * vec4(ceil(uv.y*g)/10.),0.,9.)+.1;\n    \n    //circle\n    vec2 oPos1 = vec2(sin(iTime+uv.x*g)*0.3,cos(iTime+uv.x*g)*0.3+.2);\n    vec4 circleCol = vec4(1.0,0.0,.3,1.0) * clamp(vec4(ceil(uv.x*g)/10.) * vec4(ceil(uv.y*g)/10.),0.,9.)+.1;\n\n    //final\n    fragColor = circle(grid(uv,g),2.,oPos1)*circleCol;\n    fragColor += crossA(grid(uv,g),timeFactor, cPos, vec2(0.1,2.50))*crossCol;\n}","name":"Image","description":"","type":"image"}]}