{"ver":"0.1","info":{"id":"7llyzn","date":"1673526554","viewed":59,"name":"Tree stump (domain warping)","username":"silentmimsy","description":"domain warping","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["beginner"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//Creds to Iniqo Quilez to learn about domain warping: https://iquilezles.org/articles/warp/\n\nconst mat2 m = mat2( 0.80,  0.60, -0.60,  0.80 );\n\nfloat noise( in vec2 p )\n{\n\treturn sin(p.x)*sin(p.y);\n}\n\nfloat fbm4( vec2 p )\n{\n    float f = 0.0;\n    f += 0.5000*noise( p ); p = m*p*2.02;\n    f += 0.2500*noise( p ); p = m*p*2.03;\n    f += 0.1250*noise( p ); p = m*p*2.01;\n    f += 0.0625*noise( p );\n    return f/0.9375;\n}\n\nfloat fbm6( vec2 p )\n{\n    float f = 0.0;\n    f += 0.500000*(0.5+0.5*noise( p )); p = m*p*2.02;\n    f += 0.250000*(0.5+0.5*noise( p )); p = m*p*2.03;\n    f += 0.125000*(0.5+0.5*noise( p )); p = m*p*2.01;\n    f += 0.062500*(0.5+0.5*noise( p )); p = m*p*2.04;\n    f += 0.031250*(0.5+0.5*noise( p )); p = m*p*2.01;\n    f += 0.015625*(0.5+0.5*noise( p ));\n    return f/0.96875;\n}\n\nvec2 fbm4_2( vec2 p )\n{\n    return vec2(fbm4(p), fbm4(p+vec2(7.8)));\n}\n\nvec2 fbm6_2( vec2 p )\n{\n    return vec2(fbm6(p+vec2(16.8)), fbm6(p+vec2(11.5)));\n}\n\n\nfloat func( vec2 q, out vec4 rt )\n{\n    \n    q += 2.*sin(vec2(5.3,6.72)*length(q) + vec2(0.4,0.11)*iTime*0.1);\n    \n    vec2 r = vec2(fbm6(q+vec2(4.69,1.11)), fbm4(q+vec2(11,15.33)));\n    \n    \n    r += 0.1*sin(vec2(4.1,2.22)+length(r) );\n    \n    vec2 t = 0.2*vec2(fbm6(r +3.*q + vec2(0.4,1.16)), vec2(1)- 4.*q + fbm4(r + vec2(9.5,3.2) )  );\n   \n    rt = vec4(r,t);\n    \n    return  fbm4(3.*vec2(fbm6(q + cos(r) + 0.4*t + vec2(4,69)),fbm6(q + sin(r) + 0.4*t* vec2(3,11.1))));        \n    \n    \n}\n\nvec2 N22(vec2 p){\n\n    vec3 a = fract(p.xyx * vec3(123.34, 234.34, 345.65));\n    a += dot(a,a+34.35);\n    return fract(vec2(a.x*a.y,a.y*a.z));\n\n}\n\n\nvec3 col0 = vec3(93, 41, 6)/255.;\nvec3 col1 = vec3(165., 91., 83.)/255.;\nvec3 col2 = vec3(91., 39., 11.)/255.;\nvec3 col3 = vec3(212, 187, 126)/255.;\nvec3 col4 = vec3(139, 110, 43)/25.5;\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    \n    vec4 on = vec4(0.0);\n    float f = func(uv, on);\n\n    vec3 col = vec3(0.0);\n    col = mix( col2, col0, f );\n    col = mix( col, col3, dot(on.zw,on.zw) );\n    col = mix( col, col0, 0.2 + 0.5*on.y*on.y );\n    col = mix( col, col3, smoothstep(1.1,1.3,abs(on.z)+abs(on.w)) );\n    col = clamp( col*f*2.0, 0.0, 1.0 );\n\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}