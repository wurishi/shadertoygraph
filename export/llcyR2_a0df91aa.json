{"ver":"0.1","info":{"id":"llcyR2","date":"1533180259","viewed":261,"name":"2d wave ripple simulator","username":"archibate","description":"2d wave simulator using laplacian.\nclick to create ripple.","likes":2,"published":1,"flags":32,"usePreview":0,"tags":["2d","wave","physics","reflect","snell"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGRn","filepath":"/media/a/10eb4fe0ac8a7dc348a2cc282ca5df1759ab8bf680117e4047728100969e7b43.jpg","previewfilepath":"/media/ap/10eb4fe0ac8a7dc348a2cc282ca5df1759ab8bf680117e4047728100969e7b43.jpg","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":2,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\nvoid mainImage(out vec4 O, in vec2 U)\n{\n    #define R iResolution.xy\n    //O = texture(iChannel0, U/R)*.5+.5; return;\n    #define A(o,a) o texture(iChannel0,(U o vec3(1,1,0).a)/R).r\n    vec2 g = 4.*vec2(A(+,xz)A(-,xz),A(+,zy)A(-,zy));\n    float h = dot(g,g);\n    O = (1.-texture(iChannel2,U/R).r)*\n            mix(.6*texture(iChannel1,(U-2.*g)/R),\n            vec4(2.), mix(pow(h/(1.+h),5.),1.,.02));\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"\nvoid mainImage(out vec4 O, in vec2 U)\n{\n\t#define R iResolution.xy\n    #define T(u) texture(iChannel0, (u)/R)\n\t#define a(o,f) T(U o vec3(1,1,0).f).r\n    O = T(U);\n    O.g += .5*(-4.*O.r\n        + a(+,xz) + a(-,xz)\n        + a(+,zy) + a(-,zy));\n    O.r += .5*O.g;\n    \n\t#define MM(c,v) if (c) { vec2 d=U-v; O.r+=exp(-.01*dot(d,d)); }\n    MM(iFrame <= 5, R/2.)\n    MM(iMouse.w >= .5, iMouse.xy)\n    \n    /*if (true) { vec2 d=U-R/2.; O.r+=.3*sin(iTime)*exp(-.01*dot(d,d)); }\n    O.rg *= 1.-texture(iChannel1,U/R).r;*/\n}","name":"Buffer A","description":"","type":"buffer"},{"inputs":[],"outputs":[{"id":"XsXGR8","channel":0}],"code":"\nvoid mainImage(out vec4 O, in vec2 U)\n{\n    U -= iResolution.xy*.5;\n    U /= iResolution.y;\n    O.r = step(.1,dot(U,U));\n}","name":"Buffer B","description":"","type":"buffer"}]}