{"ver":"0.1","info":{"id":"4sXczf","date":"1489056145","viewed":127,"name":"Insect_Vision","username":"mmichal","description":"This example is strongly based on https://www.shadertoy.com/view/lsBGWz# shader. \nNext version will contain, simple color processing to better simulate insect visual perception. ","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["animalvisioninsect"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sX3Rn","filepath":"/media/a/c3a071ecf273428bc72fc72b2dd972671de8da420a2d4f917b75d20e1c24b34c.ogv","previewfilepath":"/media/ap/c3a071ecf273428bc72fc72b2dd972671de8da420a2d4f917b75d20e1c24b34c.ogv","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// based on https://www.shadertoy.com/view/lsBGWz#\n// Insect Vision v.1\n\n#define H 0.010\n#define S ((3./2.) * H/sqrt(6.))\n\nvec2 xy_coord(vec2 Index) {\n\tfloat i = Index.x;\n\tfloat j = Index.y;\t\n\tvec2 r;\n    \n\tr.x = i * S;\n\tr.y = j * H + (mod(i,2.0)) * H/2.0;\n\treturn r;\n}\n\nvec2 Index(vec2 xy_coord) {\n\tvec2 r;\n\tfloat x = xy_coord.x;\n\tfloat y = xy_coord.y;\n    \n\tfloat it = float(floor(x/S));\n\tfloat yts = y - (mod(it,2.0)) * H/2.;\n\tfloat jt = float(floor((1./H) * yts));\n\tfloat xt = x - it * S;\n\tfloat yt = yts - jt * H;\n\tfloat deltaj = (yt > H/2.)? 1.0:0.0;\n\tfloat fcond = S * (2./3.) * abs(0.5 - yt/H);\n\n\tif (xt > fcond) {\n\t\tr.x = it;\n\t\tr.y = jt;\n    }else {\n\t\tr.x = it - 1.0;\n\t\tr.y = jt - (mod(r.x,2.0)) + deltaj;\n\t}\n\treturn r;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord) {\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n\tvec2 hexIx = Index(uv);\n\tvec2 hexXy = xy_coord(hexIx);\n\tvec4 fcol = texture(iChannel0, hexXy);\n\tfragColor = fcol;\n}","name":"Image","description":"","type":"image"}]}