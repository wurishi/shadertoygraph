{"ver":"0.1","info":{"id":"4lKBRR","date":"1543087943","viewed":100,"name":"Фрактал Жюлиа.","username":"zhan_ilyasov","description":"Задание по спецкурсу. WASD. Q/E","likes":1,"published":1,"flags":48,"usePreview":0,"tags":["fractal"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    uv = 2.0 * (uv - .5);\n    if (iFrame > 0) {\n        vec3 fin = texture(iChannel0, vec2(0, 0)).xyz;\n        uv = fin.z * uv;\n        uv = uv + fin.xy;\n    }\n   \tvec2 c;\n    c.x = 0.3;\n    c.y = 0.5;\n    float R = 3.0, L, ITERS = 100.0;\n    for(float i = 0.0; i < ITERS; i++)\n    {\n        float buffer = uv.x;\n        uv.x = uv.x * uv.x - uv.y * uv.y;\n    \tuv.y = 2.0 * buffer * uv.y;\n    \tuv.x = uv.x + c.x;\n    \tuv.y = uv.y + c.y;\n        if (sqrt(uv.x * uv.x + uv.y * uv.y) > R)\n            break;\n        L += 1.0;\n    }\n    fragColor = vec4(L/ITERS, 0.0, 0.0, 1.0);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGRr","filepath":"/presets/tex00.jpg","previewfilepath":"/presets/tex00.jpg","type":"keyboard","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"bool readKey(int value) {\n    float keyVal = texture(iChannel0, vec2((float(value)+0.5)/256.0, 0.25)).x;\n\treturn (keyVal > 0.5) ? true: false;\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{   \n    float zoom = 2.0;\n    vec2 uv = fragCoord / iResolution.xy;\n    uv = zoom * uv;\n    if (iFrame > 0) {\n        vec3 fin = texture(iChannel1, vec2(0, 0)).xyz;\n        uv = fin.xy;\n        zoom = fin.z;\n    }\n    if (readKey(65))\n        uv.x -= 0.025 * zoom;\n    if (readKey(68))\n        uv.x += 0.025 * zoom;\n    if (readKey(87)) \n        uv.y += 0.025 * zoom;\n    if (readKey(83)) \n        uv.y -= 0.025 * zoom;\t\n    if (readKey(69))\n        zoom = zoom - 0.025 * zoom;\n    if (readKey(81))\n       zoom = zoom + 0.025 * zoom;\n    fragColor = vec4(uv.x, uv.y, zoom, 1.0);\n}","name":"Buffer A","description":"","type":"buffer"}]}