{"ver":"0.1","info":{"id":"M32yDh","date":"1727221524","viewed":16,"name":"iamres's deadlock","username":"iamres","description":"Thanks MeDope for the tip about \"step\" xD","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["iamres","deadlock"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define pi acos(-1.)\n#define side(a) dot(uv, vec2(sin(a), cos(a)))\nfloat Line(vec2 p, vec2 a, vec2 b) {\n\tvec2 pa = p - a, ba = b - a;\n    float t = clamp(dot(pa, ba)/dot(ba, ba), 0.0, 1.0);\n    vec2 c = a+ba*t;\n    float d = length(c-p);\n    float l = 0.002, g = 0.002;\n\treturn min(1.0, 0.003/d); }\n\nfloat aaStep(float edge, float gradient) {\n    float halfPix = fwidth(gradient) / 3.0;\n    float low = edge - halfPix;\n    float hi  = edge + halfPix;\n    return clamp((gradient - low) / (hi - low), 0.0, 1.0); }\n    \nvec2 RotateUV(vec2 uv, float rotation) {\n    return vec2(sin(rotation) * uv.y + cos(rotation) * uv.x, sin(rotation) * uv.x - cos(rotation) * uv.y); }\n    \nfloat triangle(vec2 uv, float size) {\n    float rotation1 = pi*2.;    \n\tuv = RotateUV(uv, rotation1);\n    uv.x = abs(uv.x);\n    float w = fwidth(uv.y);\n    float a = pi/3.;\n    float d1 = side(a);\n    a = pi*5./5.;\n    float d2 = side(a); \n    float d = max(d1, d2);\n    return smoothstep(w, -w, d-size); }\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n   \n    vec2 uv = (fragCoord-0.5*iResolution.xy)/iResolution.x;\n\n  \n    vec3 col = vec3(0);\n    \n    //col += smoothstep(0.1, 0.102, length(uv)*vec3(1.0, 0.0, 0.0));\n    col += smoothstep(0.98, 1.0, min(0.2/abs(length(uv)), 1.0))*vec3(0.9417, 0.8745, 0.749);\n    \n    vec2 uvr1 = RotateUV(uv, pi/sqrt(4.)/2.);\n    vec2 uvr2 = RotateUV(uv, -pi/sqrt(4.)/2.);\n    vec2 uvr3 = RotateUV(uv, -pi*sqrt(5.)/3.);\n    vec2 uvr4 = RotateUV(uv, pi*sqrt(5.)/3.);\n    \n    float line1 = Line(RotateUV(uv*3.8, pi/sqrt(4.)/2.), vec2(0., 0.2), vec2(0.0, 0.8));\n    col -= aaStep(mix(0.5, 2.6, -uvr1.y*1.35), line1)*vec3(1.)*step(uvr1.y, 0.1695);\n    \n    float line2 = Line(RotateUV(uv*3.8, -pi/sqrt(4.)/2.), vec2(0., 0.2), vec2(0.0, 0.8));\n    col -= aaStep(mix(0.5, 2.6, -uvr2.y*1.35), line2)*vec3(1.)*step(uvr2.y, 0.1695);\n    \n    float line3 = Line(RotateUV(uv*3.8, -pi*sqrt(5.)/3.), vec2(0., 0.2), vec2(0.0, 0.8));\n    col -= aaStep(mix(0.5, 2.6, -uvr3.y*1.35), line3)*vec3(1.)*step(uvr3.y, 0.1695);\n    \n    float line4 = Line(RotateUV(uv*3.8, pi*sqrt(5.)/3.), vec2(0., 0.2), vec2(0.0, 0.8));\n    col -= aaStep(mix(0.5, 2.6, -uvr4.y*1.35), line4)*vec3(1.)*step(uvr4.y, 0.1695);\n    \n    \n    \n    float line5 = Line(uv, vec2(0., -0.2), vec2(0.0, 0.2));\n    col -= aaStep(0.8, line5)*vec3(0.9417, 0.8745, 0.749)*step(uv.y, -0.07);\n    \n    float line6 = Line(uv, vec2(0., -0.2), vec2(0.0, 0.2));\n    col -= aaStep(0.8, line6)*vec3(0.9417, 0.8745, 0.749)*step(-uv.y, -0.07);\n    \n    float line7 = Line(uv, vec2(0.5, -0.0), vec2(-0.5, 0.0));\n    col -= aaStep(0.8, line7)*vec3(0.9417, 0.8745, 0.749)*step(uv.x, -0.12);\n    \n    float line8 = Line(uv, vec2(0.5, -0.0), vec2(-0.5, 0.0));\n    col -= aaStep(0.8, line8)*vec3(0.9417, 0.8745, 0.749)*step(-uv.x, -0.12);\n    \n \n    \n    float circle =  min(0.004/abs(length(uv + vec2(0.0, -0.0)) - 0.17), 1.0);\n    col -= aaStep(0.8, circle)*vec3(0.9417, 0.8745, 0.749);\n    \n    col -= smoothstep(0.9, 1., min(0.028/abs(length(uv)), 1.0));\n    \n    \n    float circle1 =  min(0.008/abs(length(uv + vec2(0.0, -0.0)) - 0.06), 1.0);\n    col -= aaStep(0.8, circle1)*vec3(0.9417, 0.8745, 0.749);\n    \n    \n    \n    col -= triangle(RotateUV(uv, pi/2.)+vec2(0.0, 0.07), 0.035)*vec3(0.9417, 0.8745, 0.749);\n    col -= triangle(RotateUV(uv, -pi/2.)+vec2(0.0, 0.07), 0.035)*vec3(0.9417, 0.8745, 0.749);\n    \n    \n    \n    \n    float circle2 =  min(0.008/abs(length(uv + vec2(0.0, -0.0)) - 0.04), 1.0);\n    col = mix(col, vec3(0.9417, 0.8745, 0.749), aaStep(0.8, circle2));\n    \n    \n    \n    \n    \n    col -= smoothstep(0.98, 1., min(0.1/abs(length(uv + vec2(0., 0.13-sin(iTime)*0.05))), 1.0))*step(-uv.y, 0.05)*step(-uv.x, 0.05)*step(uv.x, 0.05);\n    \n    col -= smoothstep(0.98, 1., min(0.1/abs(length(uv + vec2(0., -0.13+sin(iTime)*0.05))), 1.0))*step(uv.y, 0.05)*step(-uv.x, 0.05)*step(uv.x, 0.05);\n    \n    \n    \n  \n    fragColor = vec4(col,1.0);\n}\n","name":"Image","description":"","type":"image"}]}