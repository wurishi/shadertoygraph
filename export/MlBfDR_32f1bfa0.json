{"ver":"0.1","info":{"id":"MlBfDR","date":"1515335748","viewed":629,"name":"Fragment Pixel Sorting","username":"slerpy","description":"Space to reset","likes":13,"published":1,"flags":48,"usePreview":0,"tags":["sorting"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord.xy / iResolution.xy;\n\tfragColor = texture(iChannel0, uv);\n    \n    float prog = fragColor.w / max(iResolution.x, iResolution.y);\n    if( abs(uv.y-.5) > .03 || abs(prog-.5) > .5 )return;\n    \n    fragColor += .4 * sign(float(pow(uv.x, 1.3) > prog)-.5);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGRr","filepath":"/presets/tex00.jpg","previewfilepath":"/presets/tex00.jpg","type":"keyboard","channel":2,"sampler":{"filter":"nearest","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":0,"sampler":{"filter":"nearest","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"#define f(x) (x.b - x.r)\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv1 = fragCoord.xy / iResolution.xy;\n        \n    if(iFrame < 30 || texture(iChannel2, vec2(.125, 0)).r > .5 ){\n    \tfragColor = vec4(texture(iChannel1, uv1).rgb, -1.);\n        return;\n    }\n    \n    int s = (iFrame & 1) ^ (int(fragCoord.x) & 1);\n    vec2 uv2 = uv1 + vec2(0, sign(float(s)-.5)/ iResolution.x).yx;\n    \n    vec4 c1 = texture(iChannel0, uv1);\n    vec4 c2 = texture(iChannel0, uv2);\n    \n    int b = int( f(c1) > f(c2) );\n    fragColor = bool(b ^ s) && (f(c1) != f(c2)) && abs(uv2.x-0.5) < 0.5 ? c1 : c2;\n    \n    fragColor.w++;\n}","name":"Buffer A","description":"","type":"buffer"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"nearest","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"XsXGR8","channel":0}],"code":"#define f(x) dot( x.rgb, vec3(1.) )\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv1 = fragCoord.xy / iResolution.xy;\n    \n    /*\n    \tSpace for\n\t\tsymmetry :D\n\t*/\n    \n    int s = (iFrame & 1) ^ (int(fragCoord.y) & 1);\n    vec2 uv2 = uv1 + vec2(0, sign(float(s)-.5)/ iResolution.y).xy;\n    \n    vec4 c1 = texture(iChannel0, uv1);\n    vec4 c2 = texture(iChannel0, uv2);\n    \n    int b = int( f(c1) > f(c2) );\n    fragColor = bool(b ^ s) && (f(c1) != f(c2)) && abs(uv2.y-0.5) < 0.5 ? c1 : c2;\n}","name":"Buffer B","description":"","type":"buffer"}]}