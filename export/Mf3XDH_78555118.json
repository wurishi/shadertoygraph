{"ver":"0.1","info":{"id":"Mf3XDH","date":"1713863989","viewed":58,"name":"Black hole 2d","username":"Mik0","description":"Black hole and white hole visuals.","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["blackhole"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XdfGRn","filepath":"/media/a/e6e5631ce1237ae4c05b3563eda686400a401df4548d0f9fad40ecac1659c46c.jpg","previewfilepath":"/media/ap/e6e5631ce1237ae4c05b3563eda686400a401df4548d0f9fad40ecac1659c46c.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define AA 4\nconst float pi = acos(0.0)*2.0;\n\nbool grid(vec2 p, float thickness)\n{\n    return (abs(fract(p.x+(0.5*thickness)))<thickness)||(abs(fract(p.y+(0.5*thickness)))<thickness);\n}\n\nvec3 col(vec2 p)\n{\n    //return vec3(grid(p, 0.05));\n    //return abs(sin(vec3(p.x, p.y, 0.5)))*float(grid(p*2.0, 0.5));\n    return texture(iChannel0,  p*0.25).xyz;\n}\n\nvec3 blackhole(vec2 p, float size)\n{\n    float dist = length(p)-abs(size);\n    vec2 dir = size*normalize(p)/(dist*dist);\n    if(dist>0.0)\n    {\n    p-=dir;\n    return col(1.0*p+(iTime*0.5));\n    }\n    else return vec3(1.0-sign(size));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    \n    // Time varying pixel color\n    vec3 col;\n    float t;\n    for( int m=0; m<AA; m++ )\n    for( int n=0; n<AA; n++ )\n    {        \n        vec2 uv = (fragCoord+(vec2(m,n)/float(AA)))/iResolution.xy;\n        uv-=0.5;\n        uv.x*=iResolution.x/iResolution.y;\n        uv*=3.5;\n        col += blackhole(uv, sin(sqrt(clamp(iTime*0.25-.2, 0., 1.))*-1.5*pi)*0.5);\n        t+=1.0;\n    }\n\n    // Output to screen\n    fragColor = vec4(col/t,1.0);\n}","name":"Image","description":"","type":"image"}]}