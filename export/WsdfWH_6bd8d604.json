{"ver":"0.1","info":{"id":"WsdfWH","date":"1604998825","viewed":115,"name":"bounce the ball","username":"jing","description":"the ball bounced between the wall.","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["bounce"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGzn","filepath":"/media/a/0c7bf5fe9462d5bffbd11126e82908e39be3ce56220d900f633d58fb432e56f5.png","previewfilepath":"/media/ap/0c7bf5fe9462d5bffbd11126e82908e39be3ce56220d900f633d58fb432e56f5.png","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.14159265359\n#define R 0.15\n\n\nfloat DistanceSphere(vec2 p, vec2 c, float r)\n{\n  return r / length(p-c);\n}\n\nfloat noise2d(vec2 p) {\n\tfloat t = texture(iChannel0, p).x;\n\tt += 0.5 * texture(iChannel0, p * 1.2).x;\n\tt += 0.25 * texture(iChannel0, p * 1.3).x;\n\treturn t / 1.75;\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n  vec2 uv = fragCoord.xy / iResolution.yy;\n\n  float xdy = iResolution.x / iResolution.y;\n  float HEIGHT = 1.0f - 2.0f * R;\n  float WIDTH = xdy - 2.0f * R;\n  \n  vec2 c = vec2(0.5*xdy, 0.5);\n  vec2 v = vec2(0.2f*xdy*0.7, 0.2f);\n  c += iTime * v;\n\n  ivec2 grid = ivec2(c.x/WIDTH, c.y/HEIGHT);\n  c = vec2(mod(c.x, WIDTH), mod(c.y, HEIGHT));\n  if (grid.x % 2 != 0)\n    c.x = WIDTH - c.x;\n  if (grid.y % 2 != 0)\n    c.y = HEIGHT - c.y;\n  c += R;\n  \n  vec2 p = (2.0*fragCoord.xy-iResolution.xy)/min(iResolution.y,iResolution.x);\n  vec3 bg = vec3(1.0,0.8,0.7-0.07*p.y)*(1.0-0.25*length(p));\n  float d = DistanceSphere(uv, c, R);\n  fragColor = vec4(bg, 1.0f);\n\n  float w = 0.025;\n  if (d > 1.0 + w)\n  {\n    vec4 sg = vec4(0.624, 0.796, 0.361, 1.0);\n    sg.rgb += noise2d(uv * 0.1) * 0.1;\n    fragColor = sg;\n  }\n  else if (d > 1.0 - w)\n  {\n    fragColor = vec4(0.2, 0.2, 0.2, 1.0);\n  }\n  \n  fragColor.rgb = pow(fragColor.rgb, vec3(1.0/2.2));\n}\n","name":"Image","description":"","type":"image"}]}