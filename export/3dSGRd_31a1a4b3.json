{"ver":"0.1","info":{"id":"3dSGRd","date":"1592248463","viewed":137,"name":"Illusion - Eye twitching","username":"Gaktan","description":"The image appears to be moving, especially when focusing on the near peripheral vision while scanning the image.\nI can also see some circles forming near the center.\n\nUse mouse for controls. Change the value of #define MOUSE for different controls","likes":7,"published":1,"flags":0,"usePreview":0,"tags":["2d","optical","illusion"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Different mouse controls. Possible values: 0, 1, 2\n#define MOUSE 1\n\n#define PI 3.14159265359\n\nvec2 ToPolar(in vec2 uv)\n{\n    float x = atan(uv.x, uv.y);\n    float y = length(uv);\n    return vec2(x, y);\n}\n\nvec3 Pal(in float t, in vec3 a, in vec3 b, in vec3 c, in vec3 d)\n{\n    return a + b*cos( PI*2.0*(c*t+d) );\n}\n\nvec3 Palette(in float x)\n{\n    return Pal(x, vec3(0.5, 0.5, 0.5), vec3(0.5, 0.5, 0.5), vec3(1.0, 1.0, 1.0), vec3(0.0, 0.10, 0.20));\n}\n\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n    // Mobile friendly UVs\n    vec2 uv = fragCoord/iResolution.xy * 2.0 - 1.0;\n    uv.x *= iResolution.x / iResolution.y;\n\n    vec2 pol = ToPolar(uv);\n    vec2 mouse = iMouse.xy/iResolution.xy;\n\n    float count\t\t\t= 35.0 / (PI*2.0);\n    float zoom\t\t\t= 16.0;\n    float dent_strength\t= 1.1;\n    float offset\t\t= 0.85;\n\n    if (iMouse.z > 0.0)\n    {\n#if MOUSE == 1\n        count\t\t\t= ceil(mouse.x * 50.0) / (PI*2.0);\n    \tzoom\t\t\t= 25.0 * mouse.y;\n#elif MOUSE == 2\n        dent_strength \t= 2.0 * (mouse.y * 2.0 - 1.0);\n        offset \t\t\t= 2.0 * (mouse.x * 2.0 - 1.0);\n#endif\n    }\n\n    float dent = pow(fract(count * pol.x) - 0.5, 2.0) * dent_strength;\n\n    // Attenuate the effect over distance\n    float p = (offset-dent / (pol.y + offset));\n\n    float s = zoom * pol.y * p;\n\n    fragColor = vec4(Palette(s),1.0);\n}","name":"Image","description":"","type":"image"}]}