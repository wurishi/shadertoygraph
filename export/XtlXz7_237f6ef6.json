{"ver":"0.1","info":{"id":"XtlXz7","date":"1435406097","viewed":1469,"name":"Simple line drawing","username":"ApoorvaJ","description":"Simple thick line drawing","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["line"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[],"code":"#define resolution vec2(500.0, 500.0)\n#define Thickness 0.03\n\nfloat drawLine(vec2 p1, vec2 p2) {\n  vec2 uv = gl_FragCoord.xy / resolution.xy;\n\n  float a = abs(distance(p1, uv));\n  float b = abs(distance(p2, uv));\n  float c = abs(distance(p1, p2));\n  \n  float d = sqrt(c*c + Thickness*Thickness);\n\n  if ( a >= d || b >= d )\n  {\n  \tif (distance(p1, uv) <= Thickness ||\n        distance(p2, uv) <= Thickness)\n        return 1.0;\n    else\n        return 0.0;\n  }\n\n  float p = (a + b + c) * 0.5;\n\n  // median to (p1, p2) vector\n  float h = 2.0 / c * sqrt( p * ( p - a) * ( p - b) * ( p - c));\n    \n  if (h <= Thickness)\n  {\n      return 1.0;\n  }\n  else\n  {\n      \treturn 0.0;\n  }\n\n  //return mix(1.0, 0.0, smoothstep(0.5 * Thickness, 1.5 * Thickness, h));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n  vec2 p1 = vec2(0.8 + sin(iTime)*0.5, 0.1);\n  vec2 p2 = vec2(0.8 + cos(iTime)*0.5, 0.8);\n  fragColor = vec4(drawLine(p1, p2));\n}\n","name":"","description":"","type":"image"}]}