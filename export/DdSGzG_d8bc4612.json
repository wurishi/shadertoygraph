{"ver":"0.1","info":{"id":"DdSGzG","date":"1667754970","viewed":204,"name":"Wobbly kali fractal","username":"illus0r","description":"ðŸŒˆ","likes":14,"published":1,"flags":0,"usePreview":0,"tags":["wobblykalifractal"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define time iTime\n#define o fragColor\n\n#define F float\n#define V vec2\n#define W vec3\n#define N normalize\n#define L length\n#define rot(x) mat2(cos(x),-sin(x),sin(x),cos(x))\n#define S(x) sin((x)+2.*sin((x)+4.*sin(x)))\n#define col(x) (x-cos((x-W(.8,.1,.5 ))*6.283)*.5+.5)\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\to-=o;\n\tvec2 uv = vec2(fragCoord.x / iResolution.x, fragCoord.y / iResolution.y);\n\tuv -= 0.5;\n\tuv /= vec2(iResolution.y / iResolution.x, 1.);\n\n\tF e=1.,i=0.,d=0.;\n\tW P,p,rd=N(W(uv,1));\n\tfor(;i++<99.&&e>.0001;){\n\t\tP=p=rd*d+.001;\n\t\tV stp=V(2.+.05*S(S(time+P.z)),1.);\n\t\t\n\t\tp.xz*=rot(S(time)*.1);\n\t\tp.xy*=rot(S(time*.317)*.1);\n\t\tp.z-=1.-time*.2;\n\t\tp.xy*=rot(S(time*.7+P.z));\n\t\tp.x+=stp.x/2.;\n\t\tp.y+=sin(time*.1)*6.;\n\t\t\n\t\tF ss=2.,s;\n\t\tp.xz=mod(p.xz+stp/2.,stp)-stp/2.;\n\t\tfor(F j=0.;j<13.;j++){\n\t\t\tp=abs(p);\n\t\t\tp-=W(.5,2.,.5);\n\t\t\tss*=s=2.3/clamp(dot(p,p),.3,1.1);\n\t\t\tp*=s;\n\t\t\tp-=W(0,2,0);\n\t\t}\n\t\td+=e=(L(p)-1.)/ss;\n\t}\n\tF c=1.-i/99.;\n\to+=c;\n\to.rgb*=col(cos(1.+L(P*4.))*.5+.5);\n}","name":"Image","description":"","type":"image"}]}