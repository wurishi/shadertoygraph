{"ver":"0.1","info":{"id":"MXfSDX","date":"1710066078","viewed":80,"name":"Super Basic CRT!","username":"_orca_","description":"Decided to learn shaders a little bit since I've never really given them a proper go, here's my first shader (which was done in GameMaker and exported to here for fun).","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["crt","monitor"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4df3zn","filepath":"/media/a/3405e48f74815c7baa49133bdc835142948381fbe003ad2f12f5087715731153.ogv","previewfilepath":"/media/ap/3405e48f74815c7baa49133bdc835142948381fbe003ad2f12f5087715731153.ogv","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\nfloat scanlines = 1000.0;\nfloat scanline_min_brightness = 0.2;\n\nfloat displacement_strength = 0.25;\nfloat displacement_overflow = 0.01;\n\nfloat crt_displacement_get(vec2 fac) {\n\treturn fac.x - smoothstep(0.1, 0.8, distance(fac.y, 0.5)) * (0.5 - fac.x) * displacement_strength;\n}\n\nfloat crt_scanline_get(float y_texcoord) {\n\treturn max(sin(y_texcoord * scanlines) / 4.0 + 0.5, scanline_min_brightness);\n}\n\nfloat crt_vignette_get(vec2 texcoord, float flicker_value) {\n\treturn smoothstep(0.95, 0.2, distance(texcoord - vec2(0, 0.01 * flicker_value), vec2(0.5))) * 1.9;\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    \n    vec2 uv = fragCoord/iResolution.xy;\n    \n    vec2 texcoord = vec2(\n\t\tcrt_displacement_get(uv.xy),\n\t\tcrt_displacement_get(uv.yx)\n\t);\n\t\n\tfloat flicker_value = crt_scanline_get(texcoord.y);\n\tfloat vignette = crt_vignette_get(texcoord, flicker_value);\n\t\n\tfragColor =\n\t\ttexture(iChannel0, texcoord + vec2(-0.25, 1.0) * displacement_overflow * flicker_value) * \n\t\tvec4(1.0 + 0.1 * flicker_value, 1.0, 1.0 + 0.2 * flicker_value, 1.0) *\n\t\tvec4(vec3(vignette * flicker_value), 1.0);\n\t\n}\n","name":"Image","description":"","type":"image"}]}