{"ver":"0.1","info":{"id":"DlyGRd","date":"1684415671","viewed":41,"name":"(+(0-0))=!","username":"shorokhova_angelina","description":"--","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["3"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const int n = 1; // число фигур\nvec3 colAr[n] = vec3[n](vec3(1.0, 0.0, 0.0)); \nvec3 BGcol = vec3(0.0, 0.0, 0.0); // цвет фона\nfloat zAr[n] = float[n](3.0); // z-координаты плоских фигур\nint inds[n] = int[n](0); // массив индексов\nconst int m = 3; // число вершин\nvec2 polygons[m]=vec2[m](vec2(0.45,0.25),vec2(0.6,0.55),vec2(0.75,0.25));\n\nvoid initPolygons(vec2 uv){ \npolygons[2]=vec2(0.6*cos(2.*iTime)-0.1*sin(2.*iTime),0.6*sin(2.*iTime)+0.1*cos(2.*iTime));\npolygons[0]=vec2(0.3*cos(2.*iTime)-0.1*sin(2.*iTime),0.3*sin(2.*iTime)+0.1*cos(2.*iTime));\npolygons[1]=vec2(0.45*cos(2.*iTime)-0.4*sin(2.*iTime),0.45*sin(2.*iTime)+0.4*cos(2.*iTime));\n}\n\nbool inSphere(in vec2 uv,in vec2 move_of_center,in float r){ \nfloat d =length( uv - move_of_center - vec2(.5,.5) )-r;\n  if (d<0.0) return true; \n  return false;\n}\n\nfloat LeftTurn(vec2 v1, vec2 v2, vec2 v3){\nfloat d=(v2.x-v1.x)*(v3.y-v1.y)-(v3.x-v1.x)*(v2.y-v1.y);\n    if (d>0.0) return -1.0;\n    if (d==0.0) return 0.0;\n    return 1.0;\n} \n\nbool inPolygon(int num, vec2 p) {\nvec2 a=polygons[0];\nvec2 b=polygons[1];\nvec2 c=polygons[2];\nif((LeftTurn(a,b,p)>0.0)&& (LeftTurn(b,c,p)>0.0)&&(LeftTurn(c,a,p)>0.0)) return true;\nreturn false;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ){\n \n    vec2 uv = fragCoord/iResolution.x;\n    vec3 col=BGcol;\n    initPolygons(uv);\n    vec2 m = vec2(cos(iTime)*0.4, sin(2.*iTime)*0.2-0.3);\n    vec2 m1 = vec2(sin(2.*iTime)*0.2-0.3,cos(iTime)*0.4);\n    if (inPolygon(0,uv)) col=vec3(cos(0.9*iTime)*uv.x+0.3, sin(0.9*iTime)*uv.y+0.3,0.1*uv.y);\n    if (inSphere(uv,m,0.03)) col = vec3(uv.y,sin(iTime)*0.3,0.0);\n    if (inSphere(uv,m1,0.03)) col = vec3(cos(iTime)*0.3,uv.y,0.0);\n    \n    fragColor = vec4(col,1.0);\n}\n","name":"Image","description":"","type":"image"}]}