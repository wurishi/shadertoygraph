{"ver":"0.1","info":{"id":"WsKcRm","date":"1602493662","viewed":69,"name":"Example 27 - pnorm","username":"jt","description":"Draw circle, square etc. using p-norms.\nSee [url]https://www.shadertoy.com/view/llsyz8[/url] for generalization (super-formula).","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["example","pnorm"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 v = (2.0 * fragCoord - iResolution.xy) / iResolution.y;\n\n    //https://en.wikipedia.org/wiki/Norm_(mathematics)#p-norm\n    float p = 1.0 / (0.5 + /*prevent div zero*/0.49 * cos(iTime)) - 1.0;\n    \n    float d = pow(pow(abs(v.x), p) + pow(abs(v.y), p), 1.0 / p);\n    //float Brightness = step(0.5, d); // simple version\n    float Brightness = smoothstep(0., fwidth(d), d - .5); // smooth version, as suggested by shane\n\n    fragColor = vec4(Brightness);\n}\n","name":"Image","description":"","type":"image"}]}