{"ver":"0.1","info":{"id":"MddcD2","date":"1520834184","viewed":141,"name":"Photo Blur_2","username":"GuntherRox","description":"blur test","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["blur"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float detail =1.0;\n   \nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n   vec3 col = vec3(0.); \n    \n    //average of neighboorhood pizels \n    \n    for (int i = -10; i <= 10; ++i) \n    {\n        for (int j = -10; j <= 10; ++j)\n        {\n            vec2 f = fragCoord.xy; \n            f.x += float(i);\n            f.y += float (j); \n            vec2 uv = f/ iResolution.xy;\n            col += texture(iChannel0, uv).rgb; \n        }\n    }\n    \n    col /= float (21*18);\n   \n   \n    \n    \n    vec3 originalColor = texture(iChannel0, fragCoord.xy / iResolution.xy) .rgb; \n    \n    float intensity = 0.333 * (originalColor.r + originalColor.g + originalColor.b);\n    if (intensity > 0.4)\n    {\n    \n    //detail \n    \n    vec3 diff = texture(iChannel0, fragCoord.xy / iResolution.xy).rgb - col;\n    \n    diff *= vec3(1.0, 0, 0);\n    \n    //how much detail we want to add back \n    \n    col = col + diff * detail; \n    fragColor = vec4(col,1.0);\n    }\n    \n    else\n        fragColor = vec4(originalColor, 1.0); \n    \n}","name":"Image","description":"","type":"image"}]}