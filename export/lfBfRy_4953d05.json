{"ver":"0.1","info":{"id":"lfBfRy","date":"1725085421","viewed":17,"name":"rotating box 2d","username":"dragonmuffin","description":"example of rotating box","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["2d","sdf"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float BoxSdf(vec2 corn1, vec2 corn2, vec2 crd) {\n\tfloat dist = max(max(corn1.x - crd.x,corn1.y -\n\t  crd.y), max(crd.x - corn2.x, crd.y - corn2.y));\n\tvec2 corn3 = vec2(corn1.x, corn2.y);\n\tvec2 corn4 = vec2(corn2.x, corn1.y);\n\tif(crd.x < corn1.x && crd.y < corn1.y)\n\t\tdist = length(crd - corn1);\n\tif(crd.x > corn2.x && crd.y > corn2.y)\n\t\tdist = length(crd - corn2);\n\tif(crd.x < corn3.x && crd.y > corn3.y)\n\t\tdist = length(crd - corn3);\n\tif(crd.x > corn4.x && crd.y < corn4.y)\n\t\tdist = length(crd - corn4);\n\treturn dist;\n}\n\nvec3 CheckSdf(float d) {\n\td /= 256.;\n\tvec3 col = (d > 0.0) ? vec3(0.9, 0.6, 0.3) :\n\t\tvec3(0.65, 0.85, 1.0);\n\tcol *= 1.0 - exp(-6.0 * abs(d));\n\tcol *= 0.8 + 0.2 * cos(150.0 * d);\n\tcol = mix( col, vec3(1.0),\n\t\t1.0 - smoothstep(0.0, 0.01, abs(d)));\n\treturn col;\n}\n\nmat2 rot(float phi) {\n    return mat2(\n        vec2(cos(phi),-sin(phi)),\n        vec2(sin(phi),cos(phi))\n    );\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n\tvec3 col = CheckSdf(BoxSdf(vec2(60,60),vec2(400,160), fragCoord*rot(iTime*4.)));\n\tfragColor = vec4(col, 1.);\n}","name":"Image","description":"","type":"image"}]}