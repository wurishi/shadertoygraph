{"ver":"0.1","info":{"id":"ttBcRW","date":"1593800073","viewed":201,"name":"distort1365423454365","username":"Fililip","description":"123","likes":7,"published":1,"flags":0,"usePreview":0,"tags":["distortion"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":0,"sampler":{"filter":"nearest","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGzn","filepath":"/media/a/0c7bf5fe9462d5bffbd11126e82908e39be3ce56220d900f633d58fb432e56f5.png","previewfilepath":"/media/ap/0c7bf5fe9462d5bffbd11126e82908e39be3ce56220d900f633d58fb432e56f5.png","type":"texture","channel":1,"sampler":{"filter":"linear","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float rand(vec2 c)\n{\n\treturn fract(sin(dot(c.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\nfloat noise(vec2 p, float freq)\n{\n\tfloat unit = iResolution.x / freq;\n\tvec2 ij = floor(p / unit);\n\tvec2 xy = mod(p, unit) / unit;\n\txy = 0.5 * (1.0 - cos(3.14 * xy));\n\tfloat a = rand((ij + vec2(0.0, 0.0)));\n\tfloat b = rand((ij + vec2(1.0, 0.0)));\n\tfloat c = rand((ij + vec2(0.0, 1.0)));\n\tfloat d = rand((ij + vec2(1.0, 1.0)));\n\tfloat x1 = mix(a, b, xy.x);\n\tfloat x2 = mix(c, d, xy.x);\n\treturn mix(x1, x2, xy.y);\n}\n\nfloat pNoise(vec2 p, int res)\n{\n\tfloat persistance = 0.5;\n\tfloat n = 0.0;\n\tfloat normK = 0.0;\n\tfloat f = 8.0;\n\tfloat amp = 12.0;\n\tint iCount = 0;\n\tfor (int i = 0; i < 50; i++)\n    {\n\t\tn += amp * noise(p, f);\n\t\tf *= 2.0;\n\t\tnormK += amp;\n\t\tamp *= persistance;\n\t\tif (iCount == res) break;\n\t\tiCount++;\n\t}\n\tfloat nf = n / normK;\n\treturn nf * nf * nf * nf;\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n    vec2 coords = fragCoord;\n    \n    float noise = texture(iChannel1, iTime * 200.0 + coords / iResolution.xy).r;\n    float perlinNoise = pNoise(vec2(iTime * 1000.0 + coords.y), 0) * noise * 20.0;\n    \n    coords.x += perlinNoise;\n    \n    vec2 uv = fragCoord / iResolution.xy;\n    vec2 uvv = coords / iResolution.xy;\n    \n    vec4 image = texture(iChannel0, uv);\n    \n    image.r = texture(iChannel0, uv + vec2(0.0005) * perlinNoise).r;\n    image.g = texture(iChannel0, uvv).g;\n    image.b = texture(iChannel0, uvv).b;\n    \n    fragColor = image;\n}","name":"Image","description":"","type":"image"}]}