{"ver":"0.1","info":{"id":"wsVGDR","date":"1570033766","viewed":113,"name":"van koch mod","username":"stduhpf","description":"inspierd by the video of @bingwings : [url]https://www.youtube.com/watch?v=il_Qg9AqQkE[/url]","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["2d","fractal"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define MOD\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\n\n    vec2 uv = (2.*fragCoord-iResolution.xy)/iResolution.y;\n    const float reapeat = log2(9.);\n    float zoomf = iTime;\n    float zoom = 2.*exp2(max(-zoomf,-mod(zoomf,reapeat)-reapeat));\n    uv*=zoom;\n    vec3 col =vec3(0);\n    vec2 n = normalize(vec2(2.*sqrt(.75),-1));\n    uv.y-=sqrt(.75);\n    uv.x=abs(uv.x);\n    if(dot(uv-vec2(1.5,0),n.yx)<0.){\n\t//col.r++;\n    uv = reflect(uv-vec2(1.5,0),n.yx)+vec2(1.5,0);\n    }\n    \n\tfloat k = 1.;\n    int it = 10;\n    for(int i = 0;i<it;i++){\n        uv.x=abs(uv.x)-.5;\n\t\t#ifdef MOD\n\t\tvec2 ni = i%2==0?n*vec2(1,-1):n;\n        #else\n        vec2 ni=n;\n        #endif\n        if(dot(uv,ni)<0.)\n        uv = reflect(uv,ni);\n\n        uv*=3.;\n        uv.x-=1.5;\n        k*=1./3.;\n    }\n    uv.x+=1.5;\n    k*=3.;\n    uv/=3.;\n    \n    float d = distance(uv,vec2(clamp(uv.x,-0.,1.),0.))*k/zoom;\n    \n    col+=(sin(d*100.)*.05+.95)*mix(vec3(0,0,1),vec3(1,0,0),sign(uv.y)*.5+.5);\n    col-= smoothstep(3./iResolution.y,0.,d);\n\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}