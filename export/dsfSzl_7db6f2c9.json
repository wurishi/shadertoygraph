{"ver":"0.1","info":{"id":"dsfSzl","date":"1669380442","viewed":297,"name":"\"Laser\" Cube 2D Projector","username":"jvb","description":"Attempt to make a 2D laser cube\nPHOTOSENSITIVE_WARNING","likes":23,"published":1,"flags":0,"usePreview":0,"tags":["2d","fake","laser"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PHOTOSENSITIVE_WARNING 0\n#define time iTime\n\nfloat segment(vec2 P, vec2 A, vec2 B, float r) \n{\n    vec2 g = B - A;\n    vec2 h = P - A;\n\tfloat t = mod(A.y*3.0+A.x*5.0+time*9.0, 1.0);\n\tfloat t2 = mod(A.y*3.0+A.x*5.0+time*33.0, 1.0);\n    float d = length(h - g * clamp(dot(g, h) / dot(g,g), t,t2));\n\t\n\treturn 1.0/(1.0+300.0*pow(d,0.9));\n\t//return smoothstep(r, 0.5*r, d);\n}\n\n\n\nvec3 rotatey(in vec3 p, float ang) { return vec3(p.x*cos(ang)-p.z*sin(ang),p.y,p.x*sin(ang)+p.z*cos(ang));  }\nvec3 rotatex(in vec3 p, float ang) { return vec3(p.x,p.y*cos(ang)-p.z*sin(ang),p.y*sin(ang)+p.z*cos(ang));  }\nvec3 rotatez(in vec3 p, float ang) { return vec3(p.x*cos(ang)-p.y*sin(ang),p.x*sin(ang)+p.y*cos(ang),p.z);  }\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\n\tvec2 p = 2.0*( fragCoord.xy / iResolution.xy ) -1.0;\n\tp.x *= iResolution.x/iResolution.y;\n\tvec3 col = vec3(0);\n\t\n\t\n\tvec3 verts[8];\n\tvec2 proj[8]; \n\t\n\tverts[0] = vec3(-10,-20,-10);\n\tverts[1] = vec3(+10,-20,-10);\n\tverts[2] = vec3(+10,+20,-10);\n\tverts[3] = vec3(-10,+20,-10);\n\tverts[4] = vec3(-10,-20,+10);\n\tverts[5] = vec3(+10,-20,+10);\n\tverts[6] = vec3(+10,+20,+10);\n\tverts[7] = vec3(-10,+20,+10);\n\t\n\t\n\tfor (int i = 0; i < 8; i++) {\n\t\tverts[i] = rotatey(verts[i], 0.3*time);\n\t\tverts[i] = rotatex(verts[i], 0.2*time);\n\t\tverts[i] = rotatez(verts[i], 0.1*time);\n\t\tfloat dist = -100.0;\n\t\tfloat mag = 4.0;\n\t\tproj[i].x = mag*verts[i].x / (verts[i].z + dist);\n\t\tproj[i].y = mag*verts[i].y / (verts[i].z + dist);\n\t}\n\t\n\tcol += vec3(0.7,0.7,1)*segment(p, proj[0], proj[1], 0.01); \n\tcol += vec3(0.7,0.7,1)*segment(p, proj[1], proj[2], 0.01); \n\tcol += vec3(0.7,0.7,1)*segment(p, proj[2], proj[3], 0.01); \n\tcol += vec3(0.7,0.7,1)*segment(p, proj[3], proj[0], 0.01); \n\tcol += vec3(0.7,0.7,1)*segment(p, proj[4], proj[5], 0.01); \n\tcol += vec3(0.7,0.7,1)*segment(p, proj[5], proj[6], 0.01); \n\tcol += vec3(0.7,0.7,1)*segment(p, proj[6], proj[7], 0.01); \n\tcol += vec3(0.7,0.7,1)*segment(p, proj[7], proj[4], 0.01); \n\tcol += vec3(0.7,0.7,1)*segment(p, proj[0], proj[4], 0.01); \n\tcol += vec3(0.7,0.7,1)*segment(p, proj[1], proj[5], 0.01); \n\tcol += vec3(0.7,0.7,1)*segment(p, proj[2], proj[6], 0.01); \n\tcol += vec3(0.7,0.7,1)*segment(p, proj[3], proj[7], 0.01); \n\t\n    col *= 2.2;\n#if PHOTOSENSITIVE_WARNING\n\tcol *= 2.2*sin(-p.y*1.0-50.0*time);\n#endif\n    fragColor = vec4(col, 1.0);\n}\n\n","name":"Image","description":"","type":"image"}]}