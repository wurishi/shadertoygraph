{"ver":"0.1","info":{"id":"csycDV","date":"1696598411","viewed":26,"name":"lambert light","username":"Leesh1234","description":"dot!","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["2d"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#ifdef GL_ES\nprecision mediump float;\n#endif\nvec3 hsb2rgb( in vec3 c ){\n    vec3 rgb = clamp(abs(mod(c.x*6.0+vec3(0.0,4.0,2.0),6.0)-3.0)-1.0,0.0,1.0 );\n    rgb = rgb*rgb*(3.0-2.0*rgb);\n    return c.z * mix( vec3(1.0), rgb, c.y);\n}\nvec2 rot(float dir,vec2 p){\n    return mat2(cos(dir),sin(dir),-sin(dir),cos(dir))*p;\n}\n\nfloat draw_line(vec2 p1, vec2 p2, vec2 st){\n    vec2 w=st-p2;\n    vec2 u=p1-p2;\n    float s=clamp(dot(w,u)/dot(u,u),0.,1.);\n    return smoothstep(2./iResolution.y,0.,length(w-s*u));\n}\n\nfloat gain(float x, float k) {\n    float a = 0.5*pow(2.0*((x<0.5)?x:1.0-x), k);\n    return (x<0.5)?a:1.0-a;\n}\n\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    vec2 st = ( fragCoord - .5*iResolution.xy )/iResolution.y;\n\tvec2 light_pos=.6*vec2(cos(iTime),sin(iTime));\n    vec2 c=vec2(0.);\n    float len=length(light_pos-c)-.2;\n    float dir=atan((light_pos-c).y,(light_pos-c).x);\n    vec2 ray=vec2(len*cos(dir),len*sin(dir));\n    vec2 n=normalize(vec2(st-c));\n    vec2 l=normalize(vec2(light_pos-c));\n    float r=.2;\n    float s=smoothstep(0.,1.,length(c-st)/r);\n    \n    vec3 color = vec3(0.5),light_col;\n    light_col=hsb2rgb(vec3(clamp(fract(iTime/20.),0.,1.),1.,1.));\n    color = mix(color,light_col,draw_line(light_pos,ray,st));\n    color = mix(color,light_col,smoothstep(.02,.02-2./iResolution.y,length(light_pos-st)));\n    color = mix(color,light_col*dot(n,l)*s,smoothstep(2./iResolution.y,0.,length(c-st)-r));\n    fragColor = vec4(color,1.0);\n}","name":"Image","description":"","type":"image"}]}