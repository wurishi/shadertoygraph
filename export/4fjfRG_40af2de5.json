{"ver":"0.1","info":{"id":"4fjfRG","date":"1725106085","viewed":31,"name":"Pentagon tiling 05","username":"shadertoyjiang","description":"Animations are displayed when the mouse is on the left side of the canvas.\n\n[url=https://www.shadertoy.com/view/lcSfW1]Pentagonal radial tiling[/url]","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["tiling","pentagonal"],"hasliked":0,"parentid":"Xf2BRG","parentname":"Pentagon tiling 04"},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// 2024年8月31日\n// 第5种五边形平铺\n\n#define rot(a) mat2(cos(a), -sin(a), sin(a), cos(a))\n#define PI 3.14159265358979\nfloat dln(in vec2 a, in vec2 b, in vec2 p) {\n        b -= a;\n        p -= a;\n        float h = clamp(dot(p, b) / dot(b, b), 0., 1.);\n        return length(p - b * h);\n}\n\nvec2 k = vec2(.866, 1), n = vec2(.866, .5), p = vec2(.288675, .5);\nvec2 cent6(vec2 u) {\n        vec2 i, f;\n        i = floor(u / k + .5);\n        i.y += step(.5, mod(i.x, 2.)) * sign(u.y - i.y) * .5;\n        i *= k;\n        f = u - i;\n        if (dot(abs(f) - p, n) > 0.) i += sign(f) * n;\n        return i;\n}\n\nfloat pentagon06(vec2 u) {\n        vec2 c = cent6(u * vec2(1, 2)) / vec2(1, 2),\n                p = vec2(.288675, .25),\n                q = vec2(.57735, 0),\n                n = vec2(.866,.5),// cos(iTime + vec2(0, 11)), \n                n1, n2,\n                f = u - c;\n        \n        if(iMouse.x<iResolution.x*.56)n = cos(iTime + vec2(0, 11));              \n        \n        if (fract(c.y) > .25) f.x = -f.x;\n        float d = abs(dot(f, n));\n        f = abs(f) - p;\n        n1 = normalize(q - p),\n                n2 = vec2(-1, 0),\n                n = normalize(n1 - n2);\n        if (dot(f, n) > 0.) f = reflect(f, n);\n        return min(d, abs(f.y));\n}\n\nvoid mainImage(out vec4 O, vec2 U) {\n        O = vec4(.5);\n        vec2 R = iResolution.xy,\n                u = 2. * (U + U + .1 - R) / R.y;\n        float d = pentagon06(u);\n        O = .8 - vec4(.006 / d);\n}\n\n","name":"Image","description":"","type":"image"}]}