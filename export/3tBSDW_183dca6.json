{"ver":"0.1","info":{"id":"3tBSDW","date":"1565823082","viewed":132,"name":"Sierpinski real n_gons","username":"grappletree","description":"Dots represent the corners of a fractal shape with n sides where n is a real number based on the position of the mouse horizontally.","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["2d","fractal","sierpinski","greyscale"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Created Originally By by Vinicius Graciano Santos - vgs/2013\n// https://www.shadertoy.com/view/4djGW1\n// Updated By grappletree - 2019\n\n#define TAU 6.283185\n\n// play with this value (try 3)\n#define SIDES (iMouse.y>0.? 10.*(iMouse.x+1.)/iResolution.x : 7.)\n\n// uncomment to see that the polygon lies within the unit circle.\n//#define UCIRCLE\n\nfloat fractal(in vec2 uv) {\n\tfloat c = cos(1.0/float(SIDES)*TAU);\n\tfloat s = sin(1.0/float(SIDES)*TAU);\n\t\n\tmat2 m = mat2(c, s, -s, c);\n\tvec2 p = vec2(1.0, 0.0), r = p;\n\t\n\tfor (int i = 0; i < 8; ++i) {\n\t\tfloat dmin = length(uv - r);\n\t\tfor (int j = 0; j < int(SIDES + 1.); ++j) {\n\t\t\tp = m*p;\n\t\t\tfloat d = length(uv - p); \n\t\t\tif (d < dmin) {dmin = d; r = p;}\n\t\t}\n\t\tuv = 2.0*uv - r;\n\t}\n\t\n\treturn ((length(uv-r)*(1.+SIDES/5.))-0.15)/pow(2.0, 7.0);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n\tfloat vig = 0.15 + pow(uv.x*uv.y*(1.0-uv.x)*(1.0-uv.y), 0.1);\n\t\n\tuv = -1.0+2.0*uv;\n\tuv.x *= iResolution.x/iResolution.y;\n\t\n\tfloat d = fractal(uv);\n\td = smoothstep(0.001, 0.015, d);\n\t\n\t#ifdef UCIRCLE\n\td *= 1.0-length(uv);\n\t#endif\n\t\t\n\tfragColor = vec4(vec3(pow(vig*d, 0.45)),1.0);\n}","name":"Image","description":"","type":"image"}]}