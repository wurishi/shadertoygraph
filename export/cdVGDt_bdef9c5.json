{"ver":"0.1","info":{"id":"cdVGDt","date":"1679342743","viewed":77,"name":"RingDistortion","username":"grobs","description":"Learning about SDFs.  Click and hold to move distortion ring","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["sdf","distortion","ring"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sfGRn","filepath":"/media/a/fb918796edc3d2221218db0811e240e72e340350008338b0c07a52bd353666a6.jpg","previewfilepath":"/media/ap/fb918796edc3d2221218db0811e240e72e340350008338b0c07a52bd353666a6.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float circleSDF(vec2 xy, vec2 origin, float r)\n{\nreturn length(xy - origin) - r;\n}\n\nfloat ringSDF(vec2 xy, vec2 origin, float r1, float r2)\n{\n\n    return abs(circleSDF(xy, origin, r1)) - r2;\n\n}\n\n\nvoid mainImage( out vec4 fcl, in vec2 fco )\n{\n    // normalise inputs to window height\n    vec2 uv = fco/iResolution.y;\n    float mx = 0.5 * iResolution.x / iResolution.y;\n    vec2 mouse = iMouse.xy / iResolution.y;\n    \n    \n    // circle SDF with origin at mouse xy, then binarize\n    float sdf = ringSDF(uv, mouse, 0.2, 0.02);\n    //float sdf = circleSDF(uv, mouse, 0.2);\n\n    \n    \n    float spot = smoothstep(-0.05, 0.05, sdf);\n    \n    // displacement field\n    vec2 disp = uv - mouse;\n\n    // sample texture \n    vec3 tex = texture(iChannel0, uv + 0.06*(spot) * disp).rgb;\n    vec3 col = tex * (1.0);\n    \n\n\n\n    // Output to screen\n    fcl = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}