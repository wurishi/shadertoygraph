{"ver":"0.1","info":{"id":"ldKyW1","date":"1521922825","viewed":1382,"name":"Light and dark glow","username":"Tetane","description":"A border between two worlds.","likes":55,"published":1,"flags":0,"usePreview":0,"tags":["light","glow","sinus","dark"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define pi 3.14159\n\nfloat glow(float x, float str, float dist){\n    return dist / pow(x, str);\n}\n\n// Sinus Signed Distance Function (distance field)\nfloat sinSDF(vec2 st, float A, float offset, float f, float phi){\n    return abs((st.y - offset) + sin(st.x * f + phi) * A);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 st = (fragCoord-0.5*iResolution.xy) / iResolution.y + 0.5;\n    float col = 0.0;\n    float time = iTime/2.0;\n    float str = 0.6; // Strength of the light\n    float dist = 0.02; // Light propagation distance\n    float nSin = 4.0; // Number of sinus functions drawn\n  \n    \n    float timeHalfInv = -time * sign(st.x-0.5);\n    float am = cos(st.x*3.0); // Amplitude modulation\n    float offset = 0.5+sin(st.x*12.0+time)*am*0.05;\n    for(float i = 0.0; i<nSin ; i++){\n        col += glow(sinSDF(st, am*0.2, offset, 6.0, timeHalfInv+i*2.0*pi/nSin), str, dist);\n    }\n    \n    // Reverse the color on one half of the screen\n    vec3 s = cos( 6.*st.y*vec3(1,2,3) - time*vec3(1,-1,1) ) * 0.5;\n    float cut = st.x+ (s.x+s.y+s.z) / 33.0;\n    col = abs(smoothstep(-0.01,-0.03,0.5-cut) - clamp(col,0.0,1.0));\n\t\n    \n    // Output to screen\n    fragColor = vec4(vec3(col),1.0);\n    \n    //----------------------------------------------\n    \n    // Test glow function with a circle distance field\n    \t/*\n        float circleSDF = length(st-0.5);\n        fragColor = vec4(vec3(glow(circleSDF, 1.0, 0.02)), 1.0);\n\t\t*/\n    \n    // Test sinus distance field function\n        // fragColor = vec4(vec3(sinSDF(st, 0.1, 0.5, 10.0, 0.0)),1.0); // horizontal\n        // fragColor = vec4(vec3(sinSDF(st.yx, 0.1, 0.5, 10.0, 0.0)),1.0); // vertical\n}","name":"Image","description":"","type":"image"}]}