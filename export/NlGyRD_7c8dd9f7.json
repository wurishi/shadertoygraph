{"ver":"0.1","info":{"id":"NlGyRD","date":"1660998095","viewed":113,"name":"crt tv","username":"Obeme","description":"crt tv effect ","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["tag"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4df3zn","filepath":"/media/a/3405e48f74815c7baa49133bdc835142948381fbe003ad2f12f5087715731153.ogv","previewfilepath":"/media/ap/3405e48f74815c7baa49133bdc835142948381fbe003ad2f12f5087715731153.ogv","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const float grid_density = 1.f / 130.f;\nconst float grid_thickness = grid_density * 0.66f;\n\nconst float rect_size = 0.9f;\nconst float rect_power = 3.5f;\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord)\n{\n    vec2 uv = fragCoord.xy/iResolution.xy*2.f-vec2(1);\n\n    vec4 border_mask = vec4(vec3(0.1f),\n    smoothstep(rect_size, rect_size+100.f/length(iResolution.xy), pow(abs(uv.x), rect_power) + pow(abs(uv.y), rect_power)));\n    \n    uv.xy /= 1.f + cos(length(uv.xy))/2.f; \n    uv.xy *= 1.f + cos(sqrt(2.f))/2.f;    \n    vec2 t_uv = uv/2.f+vec2(0.5f);\n    float  video_signal = float(texture(iChannel0, vec2(t_uv.x, round((t_uv.y+grid_density)/grid_density*2.f) * grid_density / 2.f)));\n    \n    float dist_to_grid = abs(mod(uv.y + grid_density/2.f, grid_density)-grid_density / 2.f);\n    float grid = 1.f - dist_to_grid/grid_thickness;\n    grid = smoothstep(0.f, 0.9f, grid);\n\n    fragColor = vec4(mix(vec3(5, 21, 5)/255.f, vec3(230, 255, 240)/255.f, video_signal*grid), 1.0);\n    fragColor = vec4(mix(fragColor.xyz, border_mask.xyz, border_mask.w), 1.0f);\n}","name":"Image","description":"","type":"image"}]}