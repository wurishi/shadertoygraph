{"ver":"0.1","info":{"id":"MftfRl","date":"1733405634","viewed":33,"name":"2D colors smin","username":"KivuSupremeKing","description":"learning color smin","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["colors"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float sdCircle(vec2 pos, vec2 cpos, float s)\n{\n    return length(pos - cpos) - s;\n}\n\nfloat sdSegment( in vec2 p, in vec2 a, in vec2 b )\n{\n    vec2 pa = p-a, ba = b-a;\n    float h = clamp( dot(pa,ba)/dot(ba,ba), 0.0, 1.0 );\n    return length( pa - ba*h );\n}\n\nfloat sdBox( in vec2 pos, in vec2 bpos, in vec2 b )\n{\n    vec2 d = abs(pos - bpos)-b;\n    return length(max(d,0.0)) + min(max(d.x,d.y),0.0);\n}\n\nfloat sdPentagon( in vec2 p, in vec2 bpos, in float r )\n{\n    p = p - bpos;\n    const vec3 k = vec3(0.809016994,0.587785252,0.726542528);\n    p.x = abs(p.x);\n    p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);\n    p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);\n    p -= vec2(clamp(p.x,-r*k.z,r*k.z),r);    \n    return length(p)*sign(p.y);\n}\n\nvec2 smin(float a, float b, float k)\n{\n    float h = 1.0 - min( abs(a-b)/(6.0*k), 1.0 );\n    float w = h*h*h;\n    float m = w*0.5;\n    float s = w*k; \n    return (a<b) ? vec2(a-s,m) : vec2(b-s,1.0-m);\n}\n\nfloat lerp(float a, float b, float k)\n{\n    return a + (b - a) * k;\n}\n\nvec3 clerp(vec3 a, vec3 b, float k)\n{\n    vec3 r = vec3(lerp(a.x, b.x, k), lerp(a.y, b.y, k), lerp(a.z, b.z, k));\n    return r;\n}\n\nvec3 map(vec2 pos, vec2 m)\n{\n    float d1 = sdCircle(pos, m, 10.);\n    float d2 = sdCircle(pos, vec2(40., 20.), 15.);\n    float d3 = sdBox(pos, vec2(-40, 35.), vec2(10., 5.));\n    float d4 = sdPentagon(pos, vec2(-40, -25.), 10.);\n    \n    vec3 color1 = vec3(9./255., 132./255., 227./255.);\n    vec3 color2 = vec3(253./255., 121./255., 168./255.);\n    vec3 color3 = vec3(85./255., 239./255., 196./255.);\n    vec3 color4 = vec3(225./255., 112./255., 85./255.);\n    \n    \n    vec2 s = smin(d1, d2, 0.8);\n    vec3 c = clerp(color1, color2, s.y);\n    \n    s = smin(s.x, d3, 0.8);\n    c = clerp(c, color3, s.y);\n    \n    s = smin(s.x, d4, 0.8);\n    c = clerp(c, color4, s.y);\n    \n    if (s.x > 0.05)\n        return vec3(1.);\n    \n    \n    \n    return c;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (2.*(fragCoord)/iResolution.xy) - 1.;\n    vec2 ratio = vec2(iResolution.x/iResolution.y, 1.);\n    uv *= ratio * 50.;\n    vec2 m = (iMouse.xy * 2. - iResolution.xy) / iResolution.y;\n    if (iMouse.xy == vec2(0.))\n        m = vec2(0.);\n    m *= 50.;\n\n    vec3 col = map(uv, m);\n    \n    // Output to screen\n    \n    fragColor = vec4(col, 1.0);\n    fragColor.rgb = pow(fragColor.rgb, vec3(1.0/2.2));\n}","name":"Image","description":"","type":"image"}]}