{"ver":"0.1","info":{"id":"NsSyWd","date":"1644308349","viewed":60,"name":"moving cells experiment","username":"milez770","description":"voronoi ","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["voronoi"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec2 N22(vec2 p){\n    vec3 a = fract(p.xyx*vec3(123.123, 324.34, 542.12));\n    a += dot (a, a+34.43);\n    return fract(vec2(a.x*a.y, a.y*a.z));\n}\n\nfloat t= 10.;\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord){\n     vec2 uv = (2.*fragCoord-iResolution.xy)/iResolution.y;\n     \n     float m = 0.;\n     t += smoothstep(0.4, .0, abs(pow(sin(iTime/2.), 2.))-.4 );\n    \n     \n     vec2 cellIndex = vec2(0);\n     \n     vec3 col;\n             //vec2 p = sin(vec2(n.x*t+iTime/10., n.y*t*1.3+iTime/10.));\n\n     uv *= 3.;\n     vec2 gv = fract(uv)-.5;\n     vec2 id = floor(uv);\n     vec2 mg, mr;\n\n\n     // iq's voronoi\n     // https://www.shadertoy.com/view/ldl3W8\n     float minDist = 100.0;\n    for( int j=-1; j<=1; j++ )\n    for( int i=-1; i<=1; i++ )\n    {\n        vec2 g = vec2(float(i),float(j));\n\t\tvec2 o = N22( id + g );\n        o = 0.25*sin( (iTime/5.)+3.*t + 10.2831*o );\n        vec2 r = g + o - gv;\n        float d = dot(r,r);\n\n        if( d<minDist )\n        {\n            minDist = d;\n            mr = r;\n            mg = g;\n        }\n    }\n     \n    for( int j=-1; j<=1; j++ )\n    for( int i=-1; i<=1; i++ )\n    {\n        vec2 g = mg + vec2(float(i),float(j));\n        vec2 o = N22( id + g );\n        o = 0.25*sin( (iTime/5.)+3.*t + 10.2831*o );\n        vec2 r = g + o - gv;\n\n        if( dot(mr-r,mr-r)>0.00001 )\n        minDist = min( minDist, dot( 0.5*(mr+r), r-mr ) );\n    }\n     col = (smoothstep(-.3, .7, minDist))*vec3(2., 1.3 , 1.);\n     col = pow(col, vec3(.4545));\n     fragColor = vec4(col, 1.0);\n}","name":"Image","description":"","type":"image"}]}