{"ver":"0.1","info":{"id":"4t3cRf","date":"1533367784","viewed":136,"name":"Lissajous X","username":"archibate","description":"a really cool & unbelieveable pattern. it's nice to watch it...growing.","likes":7,"published":1,"flags":32,"usePreview":0,"tags":["2d","sdf","patterns","lissajous"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage(out vec4 O, in vec2 U)\n{\n    O = vec4(1)*texture(iChannel0, U/iResolution.xy).r;\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"#if 1\nconst float K1=19., K2=17.;\n#define SPEED .1\n#else\nconst float K1=33., K2=41.; // try other values!\n#define SPEED .14\n#endif\n#define WIDTH .006\n//#define WIDTH (2./iResolution.y)\n\nvec2 pos(int i)\n{\n    float a = SPEED*float(i)/(K1+K2);\n    return .3*vec2(cos(K1*a),sin(K2*a));\n}\n\n#define cross2d(u,v) (u.x*v.y-u.y*v.x)\n\nfloat ud2Line(vec2 u, vec2 q, vec2 p)\n{\n    u-=q; p-=q;\n    float l = length(p);\n    vec2 d = p/l;\n    float c = cross2d(d,u);\n    float s = dot(d,u);\n    l/=2.; s = max(0.,abs(s-l)-l);\n    return c*c+s*s;\n}\n\nvoid mainImage(out vec4 O, in vec2 U)\n{\n    O = iFrame == 0 ? vec4(0) : texture(iChannel0, U/iResolution.xy);\n    U -= iResolution.xy*.5;\n    U /= iResolution.y;\n    \n    vec2 p = pos(iFrame*2-1), q = pos(iFrame*2), r = pos(iFrame*2+1);\n    O.r = max(O.r,smoothstep(WIDTH*WIDTH,.0,ud2Line(U,q,r)));\n    O.r = max(O.r,smoothstep(WIDTH*WIDTH,.0,ud2Line(U,r,p)));\n}","name":"Buffer A","description":"","type":"buffer"}]}