{"ver":"0.1","info":{"id":"NdSSDm","date":"1620325077","viewed":123,"name":"20210507_palette mono","username":"FMS_Cat","description":"pol","likes":5,"published":1,"flags":32,"usePreview":0,"tags":["palette","effects"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"Xdf3zn","filepath":"/media/a/85a6d68622b36995ccb98a89bbb119edf167c914660e4450d313de049320005c.png","previewfilepath":"/media/ap/85a6d68622b36995ccb98a89bbb119edf167c914660e4450d313de049320005c.png","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsBSR3","filepath":"/media/a/cb49c003b454385aa9975733aff4571c62182ccdda480aaba9a8d250014f00ec.png","previewfilepath":"/media/ap/cb49c003b454385aa9975733aff4571c62182ccdda480aaba9a8d250014f00ec.png","type":"texture","channel":2,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Simply do a dithered quantization using a palette and an input brightness\n// RGB one: https://www.shadertoy.com/view/fsBXWm\n\n// #define NEAREST\n#define BAYER\n// #define BLUE\n\n#define saturate(i) clamp(i,0.,1.)\n\n#define PALETTE_COLORS 6\n\n// picked the most sweet part from SWEETIE 16 - The palette by GrafxKid\n// Ref: https://lospec.com/palette-list/sweetie-16\nconst vec3 palette[ PALETTE_COLORS ] = vec3[](\n    vec3( 0x1a, 0x1c, 0x2c ) / 255.0, // 0\n    vec3( 0x5d, 0x27, 0x5d ) / 255.0, // 1\n    vec3( 0xb1, 0x3d, 0x53 ) / 255.0, // 2\n    vec3( 0xef, 0x7d, 0x57 ) / 255.0, // 3\n    vec3( 0xff, 0xcd, 0x75 ) / 255.0, // 4\n    vec3( 0xf4, 0xf4, 0xf4 ) / 255.0 // 12\n);\n\nconst vec3 LUMA = vec3( 0.2126, 0.7152, 0.0722 );\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n    vec2 uv = fragCoord / iResolution.xy;\n    \n    vec4 tex = texture( iChannel0, uv );\n    float luma = dot( tex.rgb, LUMA );\n\n    vec3 col = vec3( 0.0 );\n\n#ifdef NEAREST\n    col = palette[ int( luma * float( PALETTE_COLORS - 1 ) + 0.5 ) ];\n#endif\n\n#ifdef BAYER\n    float bayer = texture( iChannel1, fragCoord / 8.0 ).x;\n    col = palette[ int( luma * float( PALETTE_COLORS - 1 ) + bayer ) ];\n#endif\n\n#ifdef BLUE\n    float blue = texture( iChannel2, fragCoord / 1024.0 ).x;\n    col = palette[ int( luma * float( PALETTE_COLORS - 1 ) + blue ) ];\n#endif\n    \n    fragColor = vec4( col, 1.0 );\n}\n","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n    fragColor = texture( iChannel0, fragCoord / iResolution.xy );\n}\n","name":"Buffer A","description":"","type":"buffer"}]}