{"ver":"0.1","info":{"id":"4sdXR8","date":"1457889861","viewed":876,"name":"Cells on fire displaced","username":"indivisual","description":"copy of https://www.shadertoy.com/view/lsX3z4 supplemented by displacement of a background material","likes":28,"published":1,"flags":0,"usePreview":0,"tags":["displacement","distortion","worley"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sX3Rn","filepath":"/media/a/c3a071ecf273428bc72fc72b2dd972671de8da420a2d4f917b75d20e1c24b34c.ogv","previewfilepath":"/media/ap/c3a071ecf273428bc72fc72b2dd972671de8da420a2d4f917b75d20e1c24b34c.ogv","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// copy of https://www.shadertoy.com/view/lsX3z4\n\n#define DISPLACE .105\n\nfloat length2(vec2 p) { return dot(p, p); }\n\nfloat noise(vec2 p){\n\treturn fract(sin(fract(sin(p.x) * (4313.13311)) + p.y) * 3131.0011);\n}\n\nfloat worley(vec2 p) {\n\tfloat d = 1e30;\n\tfor (int xo = -1; xo <= 1; ++xo)\n\tfor (int yo = -1; yo <= 1; ++yo) {\n\t\tvec2 tp = floor(p) + vec2(xo, yo);\n\t\td = min(d, length2(p - tp - vec2(noise(tp))));\n\t}\n\treturn 3.*exp(-4.*abs(2.*d - 1.));\n}\n\nfloat fworley(vec2 p) {\n\treturn sqrt(sqrt(sqrt(\n\t\tpow(worley(p + iTime), 2.) *\n\t\tworley(p*2. + 1.3 + iTime*.5) *\n\t\tworley(p*4. + 2.3 + iTime*.25) *\n\t\tworley(p*8. + 3.3 + iTime*.125) *\n\t\tworley(p*32. + 4.3 + iTime*.125) *\n\t\tsqrt(worley(p * 64. + 5.3 + iTime * .0625)) *\n\t\tsqrt(sqrt(worley(p * 128. + 7.3))))));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n\tfloat t = fworley(uv * iResolution.xy / 600.);\n\tt *= exp(-length2(abs(2.*uv - 1.)));\n\tfloat r = length(abs(2.*uv - 1.) * iResolution.xy);\n    vec2 of1 = vec2(DISPLACE*t);\n    vec2 of2 = vec2(DISPLACE)/iResolution.xy;\n    uv += of1-of2;\n    uv.y -=DISPLACE*.12;\n\tvec4 back = texture(iChannel0, uv);\n    fragColor = back;\n}","name":"Image","description":"","type":"image"}]}