{"ver":"0.1","info":{"id":"WttBRN","date":"1612360369","viewed":192,"name":"Neural Shirt 3D","username":"iuryBorgesRodrigues","description":"Neural Shirt 3D","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["3d","neural","shirt"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//CC0 1.0 Universal https://creativecommons.org/publicdomain/zero/1.0/\n//To the extent possible under law, Blackle Mori has waived all copyright and related or neighboring rights to this work.\n\n//like the last few shaders I've published, this is a neural network experiment.\n//this time, the neural network reproduces an SDF given the x,y,z coordinates\n//using siren networks with skip connections: https://vsitzmann.github.io/siren/\n\nvec3 erot(vec3 p, vec3 ax, float ro) {\n    return mix(dot(p,ax)*ax,p,cos(ro))+sin(ro)*cross(ax,p);\n}\n\nfloat scene(vec3 p) {\n    //sdf is undefined outside the unit sphere, uncomment to witness the abominations\n    if (length(p) > 1.) {\n        return length(p)-.8;\n    }\n    //neural networks can be really compact... when they want to be\n  vec4 f0_0=sin(p.y*vec4(-1.866,4.290,2.601,2.497)+p.z*vec4(.240,-.786,2.007,1.265)+p.x*vec4(3.956,1.460,1.367,.532)+vec4(-2.685,-3.509,.942,-.381));\nvec4 f0_1=sin(p.y*vec4(-3.606,1.369,-1.847,-3.740)+p.z*vec4(-.745,-.741,1.188,-1.510)+p.x*vec4(-.368,3.395,-.833,1.031)+vec4(4.373,6.283,-7.095,-1.042));\nvec4 f0_2=sin(p.y*vec4(3.353,-1.989,3.235,3.104)+p.z*vec4(-.739,-.478,.110,-3.318)+p.x*vec4(3.992,-2.669,-.891,3.172)+vec4(-1.647,-7.413,6.366,1.956));\nvec4 f0_3=sin(p.y*vec4(1.224,-2.609,3.491,-4.317)+p.z*vec4(-.348,3.840,-2.432,2.064)+p.x*vec4(-1.432,-1.402,.431,-2.045)+vec4(-6.209,1.668,7.858,-4.550));\nvec4 f1_0=sin(mat4(.014,-.273,.044,-.186,.368,-.189,.254,.030,-.648,.189,-.332,.323,.337,.339,-.492,-.028)*f0_0+\n    mat4(.407,-.565,-.255,-.003,.336,.225,-.805,-.425,-.014,.289,.488,-.621,-.346,.227,-.107,.202)*f0_1+\n    mat4(-.416,.375,.122,.071,-.178,-.079,.460,.123,-.150,.483,-.397,.356,-.340,.463,.013,-.052)*f0_2+\n    mat4(-.425,.126,.179,-.071,.209,.369,.292,-.178,-.636,-.014,-.016,.287,.360,-.224,.239,.301)*f0_3+\n    vec4(-1.605,-3.116,-1.730,-.855))/1.0+f0_0;\nvec4 f1_1=sin(mat4(.244,-.038,.421,-.013,-.095,.072,.130,.013,-.055,.306,-.783,-.132,.057,-.698,-.067,-.107)*f0_0+\n    mat4(-.699,-.057,.329,-.367,.053,.434,.443,.380,-.357,-.229,.461,.247,-.350,-.280,.467,.188)*f0_1+\n    mat4(.492,-.229,.402,-.282,-.156,-.242,-.537,.002,-.363,-.470,-.110,.251,-.040,.104,-.180,-.013)*f0_2+\n    mat4(-.687,.032,-.765,.017,-.570,-.398,-.276,.067,.085,.559,-.472,.109,.599,.487,-.061,-.528)*f0_3+\n    vec4(1.710,-2.917,1.681,-.757))/1.0+f0_1;\nvec4 f1_2=sin(mat4(.232,-.180,.275,.059,-.347,.318,.116,.307,-.016,-.107,-.056,-.447,-.394,.108,.020,.015)*f0_0+\n    mat4(.546,-.033,-.183,-.914,.251,-.235,-.322,.214,.325,-.162,-.122,.379,.316,.365,-.122,.292)*f0_1+\n    mat4(-.574,-.236,.422,-.388,-.585,.539,.296,-.816,-.263,.127,.147,.079,-.418,.217,-.045,-.008)*f0_2+\n    mat4(-.263,.876,.399,-.647,.235,.477,-.157,.266,-.846,-.373,-.397,-.032,.202,-.390,-.001,.341)*f0_3+\n    vec4(-1.371,-.316,-.784,-.519))/1.0+f0_2;\nvec4 f1_3=sin(mat4(.039,.116,-.504,-.110,-.353,.296,.158,.198,.168,.339,-.217,-.238,-.205,.167,-.078,.496)*f0_0+\n    mat4(-.297,-.465,-.127,.370,-.117,.058,.334,.383,.244,.307,.410,.410,.295,.502,-.302,-.188)*f0_1+\n    mat4(.294,-.281,.378,-.280,-.405,-.026,-.472,.210,-.218,1.199,.073,.531,.267,-.017,-.025,.322)*f0_2+\n    mat4(-.103,-.328,.102,.553,-.143,.098,-.063,-.017,.222,.096,-.083,.279,.080,.033,-.379,-.085)*f0_3+\n    vec4(-1.579,-1.434,.608,2.635))/1.0+f0_3;\nvec4 f2_0=sin(mat4(-.399,-.054,.100,-.464,-.072,.312,-.067,.262,.386,.426,.241,.108,-.137,.070,-.201,.139)*f1_0+\n    mat4(-.021,-.285,-.408,-.293,-.506,-.340,.362,-.341,.182,.491,.128,-.279,.307,.406,-.394,.034)*f1_1+\n    mat4(-.224,-.169,-.045,.403,-.418,.262,.217,-.369,.937,.175,-.006,.118,.159,-.458,-.340,-.195)*f1_2+\n    mat4(.070,.606,-.648,.477,.324,.478,-.206,.175,-.030,.316,-.206,-.128,.313,-.364,-.326,-.256)*f1_3+\n    vec4(1.716,.630,2.222,3.409))/1.4+f1_0;\nvec4 f2_1=sin(mat4(-.144,.197,-.043,-.262,-.041,.185,-.407,-.128,.431,-.075,.159,.073,-.632,-.370,.113,-.123)*f1_0+\n    mat4(-.551,.160,.538,-.000,-.378,-.116,-.304,-.027,-.294,.348,-.417,-.145,-.191,.221,.195,-.064)*f1_1+\n    mat4(.277,.233,-.286,-.034,.439,-.513,.443,-.515,.285,.076,-.097,-.296,-.124,.701,-.092,.186)*f1_2+\n    mat4(.174,.154,-.160,.320,-.048,.025,.046,.320,-.359,.510,.343,.274,.039,-.482,.511,-.406)*f1_3+\n    vec4(.388,-3.117,-1.149,-.658))/1.4+f1_1;\nvec4 f2_2=sin(mat4(.490,-.404,.185,-.223,.508,.023,-.206,.145,.184,.010,-.258,-.352,-.325,.504,.091,-.137)*f1_0+\n    mat4(-.325,.222,.098,.290,.028,.045,.452,-.676,-.130,.394,-.117,-.065,.100,-.041,-.288,-.379)*f1_1+\n    mat4(.047,.097,-.139,.176,-.327,.395,-.147,-.348,-.076,.183,.202,-.279,.023,-.232,.201,-.824)*f1_2+\n    mat4(-.909,.723,.511,-.357,.143,-.418,.156,-.093,-.051,.477,-.332,.080,.069,-.290,.071,.121)*f1_3+\n    vec4(-2.315,-.724,-.967,-2.472))/1.4+f1_2;\nvec4 f2_3=sin(mat4(-.332,-.204,.026,.339,.088,-.636,-.421,-.036,-.584,-.165,.131,-.237,.151,-.065,-.341,-.502)*f1_0+\n    mat4(.070,-.425,-.239,.292,.175,-.141,.027,.598,.554,-.239,-.209,-.283,-.097,.329,-.163,.681)*f1_1+\n    mat4(-.045,.175,-.584,.328,-.141,-.418,.047,.192,-.096,-.489,-.529,.101,.612,.252,.076,-.060)*f1_2+\n    mat4(.406,-.243,-.249,.549,-.350,.145,-.184,-.187,.278,-.337,.353,.916,.075,.523,.285,-.012)*f1_3+\n    vec4(-2.706,1.470,-1.238,1.607))/1.4+f1_3;\nvec4 f3_0=sin(mat4(-.669,-.403,.540,-.195,-.229,-.246,-.082,.213,.537,.235,.166,-.167,-.345,.376,.140,-.468)*f2_0+\n    mat4(.395,-.179,-.080,-.913,-.323,-.744,-.345,-.685,.075,.223,-.317,-.141,-.372,-.223,-.131,.452)*f2_1+\n    mat4(.018,.328,.322,.136,-.143,.090,.279,-.415,.314,-.240,-.267,.184,-.032,.181,-.506,.184)*f2_2+\n    mat4(-.351,.446,.158,-.265,-.079,.053,.352,.218,-.429,-.173,-.708,.250,.226,-.026,.100,.247)*f2_3+\n    vec4(.966,-1.657,3.050,-3.121))/1.7+f2_0;\nvec4 f3_1=sin(mat4(-.305,.293,-.331,.209,-.193,.339,-.480,-.423,-.657,-.276,.112,-.614,.317,-.544,-.320,.055)*f2_0+\n    mat4(-.720,-.238,-.316,.468,-.478,.162,.448,-.591,-.037,.318,-.188,-.500,.308,-.494,.430,.240)*f2_1+\n    mat4(.351,.055,-.189,.382,.100,-.251,.242,-.109,-.024,-.332,.016,-.007,.614,-.395,-.093,-.306)*f2_2+\n    mat4(.079,-.829,-.154,-.445,.183,-.024,-.061,-.053,.293,.607,-.023,-.141,-.098,-.014,.146,-.101)*f2_3+\n    vec4(-.944,-1.746,-1.011,-1.971))/1.7+f2_1;\nvec4 f3_2=sin(mat4(.648,-.186,-.272,-.479,.307,-.062,.420,.425,-.130,-.004,.507,-.141,.033,.415,.284,.403)*f2_0+\n    mat4(.128,.092,.481,.045,-.524,-.232,.497,-.311,-.736,-.516,.222,-.043,-.133,.479,-.342,-.421)*f2_1+\n    mat4(-.123,-.465,-.506,.458,.483,-.155,.530,-.242,-.072,-.052,-.128,-.015,-.134,-.354,-.399,.389)*f2_2+\n    mat4(-.182,-.369,-.282,-.180,.288,-.426,-.092,.408,.273,.268,-.046,.087,.035,-.322,-.297,-.134)*f2_3+\n    vec4(.780,.385,-.277,-1.990))/1.7+f2_2;\nvec4 f3_3=sin(mat4(.059,-.462,-.329,-.495,-.301,.109,.483,.615,.103,-.209,.199,.195,.150,-.430,.304,.313)*f2_0+\n    mat4(-.386,-.197,.181,-.187,.980,-.552,-.058,-.472,-.149,.175,-.306,-.221,-.696,-.962,-.612,.407)*f2_1+\n    mat4(-.250,.263,-.316,-.269,.662,-.201,.029,-.356,-.251,-.282,-.034,-.429,-.302,-.246,.368,.226)*f2_2+\n    mat4(.779,-.228,.025,-.429,-.164,.022,.171,-.472,.024,-.315,.413,-.292,.045,.387,-.295,-.285)*f2_3+\n    vec4(2.070,2.959,-1.704,3.077))/1.7+f2_3;\nvec4 f4_0=sin(mat4(.544,.069,-.513,-.047,-.142,.105,-.163,-.212,.216,.218,-.086,.362,.295,-.565,-.066,.314)*f3_0+\n    mat4(-.414,-.371,.505,.056,-.105,-.348,-.082,-.040,.285,.212,.002,.052,-.138,-.036,.220,-.482)*f3_1+\n    mat4(.243,-.491,-.649,.177,.084,.256,-.473,-.073,-.265,.423,-.223,-.692,.297,.081,-.063,.023)*f3_2+\n    mat4(.554,-.287,.559,-.900,.402,.484,-.315,.307,-.230,.031,.100,-.207,-.281,.326,.463,-.428)*f3_3+\n    vec4(-3.037,.146,-.877,2.857))/2.0+f3_0;\nvec4 f4_1=sin(mat4(-.515,.669,.090,.267,.255,-.076,.067,.246,.378,-.109,-.368,-.020,.344,.517,.485,.708)*f3_0+\n    mat4(.213,-.346,.298,-.252,-.460,-.228,-.620,-.396,-.164,.215,-.416,.520,-.150,.342,.322,.291)*f3_1+\n    mat4(.102,-.174,.185,.488,.211,.498,.078,-.106,-.102,-.460,.035,-.153,.249,-.586,.071,.149)*f3_2+\n    mat4(-.182,.378,-.452,-.311,.054,-.018,-.038,-.031,.090,.117,-.194,.080,.018,.057,.027,-.153)*f3_3+\n    vec4(-2.596,.079,-2.713,-.803))/2.0+f3_1;\nvec4 f4_2=sin(mat4(-.245,.304,-.154,-.302,.077,-.186,-.228,-.035,.419,-.104,-.181,.776,-.236,.299,-.055,-.318)*f3_0+\n    mat4(.124,.390,.517,.008,-.473,-.587,-.149,-.177,.393,.016,.285,.172,.052,-.312,.735,-.120)*f3_1+\n    mat4(-.249,.345,.124,-.182,-.313,-.039,.401,-.417,-.120,-.238,-.472,-.092,.512,-.225,-.596,-.430)*f3_2+\n    mat4(.332,.021,1.003,.163,.534,-.198,-.334,.506,-.385,.505,-.549,-.371,-.509,-.397,.240,-.508)*f3_3+\n    vec4(2.464,-.005,-2.892,.016))/2.0+f3_2;\nvec4 f4_3=sin(mat4(-.804,-.339,-.188,.288,.815,-.568,-.109,.533,.042,-.262,-.473,.048,-.127,.237,-.400,-.404)*f3_0+\n    mat4(-.389,.278,-.183,-.041,-.512,.175,.379,.010,-.585,-.513,.172,-.800,.217,-.276,.482,-.492)*f3_1+\n    mat4(-.311,.054,-.426,-.081,-.667,-.082,-.205,-.443,.608,.425,-.550,-.351,-.305,-.186,.042,-.024)*f3_2+\n    mat4(-.192,.167,-.869,-.217,-.198,-.284,-.225,.905,-.330,-.964,-.291,.272,.305,.364,-.049,-.314)*f3_3+\n    vec4(-.386,.098,2.374,.588))/2.0+f3_3;\nvec4 f5_0=sin(mat4(.550,-.662,.389,.939,-.051,-.473,.175,-.438,.103,-.729,.326,.236,-.220,-.523,.105,.487)*f4_0+\n    mat4(-.441,.281,-.389,-.639,-.537,.110,.020,.357,-.297,-.258,.365,.045,-.534,.461,.073,.314)*f4_1+\n    mat4(.279,-.426,-.367,.040,-.026,.324,.379,.290,.244,.716,-.086,-.667,.057,-.261,-.118,-.025)*f4_2+\n    mat4(-.132,-.362,.442,.417,-.621,.473,-.305,-.576,-.125,-.216,-.568,.191,.527,.329,.547,-.069)*f4_3+\n    vec4(-.563,.215,-1.059,-2.479))/2.2+f4_0;\nvec4 f5_1=sin(mat4(.269,.027,-.484,.846,.318,-.471,-.333,-.550,-.459,-.296,.272,-.040,.356,-.213,-.215,-.250)*f4_0+\n    mat4(.329,.292,.594,.121,.052,.502,.584,-.018,.420,.163,.101,.593,-.140,-.229,.311,-.565)*f4_1+\n    mat4(.436,.160,.018,-.205,-.150,-.444,.549,.406,-.309,-.395,.414,-.323,-.470,.050,-.077,.004)*f4_2+\n    mat4(-.380,.575,.089,.507,-.440,-.183,-.635,.574,.392,-.068,.023,-.493,-.144,.039,.412,-.037)*f4_3+\n    vec4(2.269,2.183,2.855,-1.143))/2.2+f4_1;\nvec4 f5_2=sin(mat4(.968,.461,-.225,-.008,.077,-.010,-.234,-.122,.010,.290,-.306,.432,-.192,-.273,.052,.178)*f4_0+\n    mat4(.054,-1.008,.030,.570,-.164,.466,.719,-.302,-.160,.618,-.487,.383,.427,.064,.141,-.139)*f4_1+\n    mat4(.499,-.171,-.051,-.012,.352,-.266,-.333,.867,.146,.109,.146,.397,.015,-.385,.363,-.038)*f4_2+\n    mat4(.488,.310,-.026,.289,.352,-.068,.470,-.312,-.218,.423,-.807,.050,.041,.315,-.412,-.159)*f4_3+\n    vec4(-1.077,2.860,-1.950,1.573))/2.2+f4_2;\nvec4 f5_3=sin(mat4(.915,.733,-.462,.326,-.081,-.240,-.106,-.034,.645,.015,-.191,-.148,.069,.323,-.153,-.175)*f4_0+\n    mat4(-.645,-.320,.171,.087,-.091,.405,-.187,-1.046,-.363,-.580,-.025,-.109,-.485,-.337,-.045,.599)*f4_1+\n    mat4(-.546,.250,-.135,.080,-.025,.260,-.158,.044,-.780,-.389,.157,-.414,-.188,.210,-.072,.360)*f4_2+\n    mat4(.381,.202,.010,-.178,.022,-.121,-.159,.295,-.429,-.748,-.027,.674,-.193,.121,.294,.394)*f4_3+\n    vec4(2.343,1.753,-1.476,.265))/2.2+f4_3;\nvec4 f6_0=sin(mat4(-.567,.302,.445,-.325,-.368,-.423,-.549,.455,-.298,-.186,-.098,.434,-.404,.057,-.936,.189)*f5_0+\n    mat4(.140,.065,.210,.292,.371,.058,.151,-.042,.376,-.159,-.028,.013,-.034,-.538,-.275,.544)*f5_1+\n    mat4(-.225,.156,-.156,-.348,-.380,.202,.391,.209,.186,-.460,.042,.711,-.587,.050,-.485,-.249)*f5_2+\n    mat4(.184,.098,-.297,-.752,.126,.277,-.776,-.178,-.189,.237,.719,.115,-.280,-.143,.332,.259)*f5_3+\n    vec4(.570,-2.839,.501,-1.388))/2.4+f5_0;\nvec4 f6_1=sin(mat4(.235,.294,-.032,.210,-.613,.503,-.480,-.233,.127,-.530,.078,.186,1.209,.724,.028,.802)*f5_0+\n    mat4(-.450,-.089,.622,-.001,-.742,-.175,-.392,.996,.132,-.018,.511,-.109,.107,.760,-.427,-.007)*f5_1+\n    mat4(-.135,.499,.266,.054,.398,.270,.494,-.394,-.599,.558,.343,-1.122,.136,.673,-.615,.543)*f5_2+\n    mat4(-.034,.825,-.068,-.416,-.354,.309,.195,.304,.529,-.252,.307,.271,-.293,-.041,.655,-.208)*f5_3+\n    vec4(-2.116,-.602,.156,3.043))/2.4+f5_1;\nvec4 f6_2=sin(mat4(-.017,.823,-.624,.268,.134,-.096,.387,-.263,.786,-.317,-.337,-.290,-.613,-.369,.341,-.335)*f5_0+\n    mat4(.047,.136,-.366,-.222,.507,-.311,-.380,-.074,.099,-.543,.321,.288,.014,-.183,.066,-.156)*f5_1+\n    mat4(.533,.914,-.390,.416,.407,.089,-.760,.356,-.650,-.442,-.064,.124,-1.310,.192,.832,-.567)*f5_2+\n    mat4(-.561,.547,.133,-.395,.424,.504,.354,.670,.291,-.080,.139,-.067,-.250,.198,.155,-.265)*f5_3+\n    vec4(-.025,-3.289,-2.495,-.184))/2.4+f5_2;\nvec4 f6_3=sin(mat4(-.259,-.279,.298,-.589,-.149,-.447,-.229,-.171,.555,-.322,.134,-.092,-.690,-.073,.327,.412)*f5_0+\n    mat4(.114,-1.166,-.372,.022,.117,.162,-.636,-.386,.199,.282,-.542,.499,.048,.387,.220,.186)*f5_1+\n    mat4(.153,-.387,-.026,-.563,.288,.008,-.000,-.237,.159,.392,-.132,-.837,.331,-.358,.391,-.030)*f5_2+\n    mat4(.725,-.242,-.334,-.470,-.053,-.301,.855,-.479,.493,-.048,-.232,.488,-.818,-.712,.319,-.365)*f5_3+\n    vec4(.649,2.270,-2.213,-1.682))/2.4+f5_3;\nvec4 f7_0=sin(mat4(.295,.024,.266,.193,-.230,-.254,.327,-.492,.100,.011,.379,-.050,-.493,-.600,.224,-.195)*f6_0+\n    mat4(.424,.114,-.564,.024,.358,.336,.326,.031,-.276,.196,-.474,.917,-.176,-.191,-.357,.808)*f6_1+\n    mat4(.259,.370,.032,.368,.328,.161,-.184,.066,.117,-.287,-.152,-.216,.003,.196,-.216,-.533)*f6_2+\n    mat4(-.224,.153,.302,-.281,-.098,.219,.315,-.244,.227,-.255,-.524,.172,-.096,-.096,.022,.473)*f6_3+\n    vec4(.277,-1.321,-2.988,.327))/2.6+f6_0;\nvec4 f7_1=sin(mat4(-.360,-.456,.254,.338,.071,.524,-.052,-.612,-.119,-.017,-.063,.228,-.355,.852,.047,.226)*f6_0+\n    mat4(.173,.767,.121,-.546,.452,-.107,-.089,-.583,.577,-.353,.628,.064,.284,.590,-.151,.334)*f6_1+\n    mat4(.107,-.792,.196,-.231,-.456,.511,-.377,-.075,-.323,.323,-.046,-.042,-.134,.262,-.229,-.557)*f6_2+\n    mat4(-.187,1.132,.299,-.487,-.098,-.397,-.438,.035,.035,.431,.044,.001,.419,.236,-.169,-.593)*f6_3+\n    vec4(-1.358,-2.203,-.447,-2.868))/2.6+f6_1;\nvec4 f7_2=sin(mat4(-.522,-.747,.001,.189,.269,.125,.423,-.416,-.342,.661,.153,.334,-.000,.721,.035,.620)*f6_0+\n    mat4(.257,.645,.440,-.146,-.719,-.455,-.859,-.357,.162,-.043,.112,.318,.321,-.537,.154,-.115)*f6_1+\n    mat4(-.106,.088,-.282,.794,.243,.277,-.626,.227,-.651,.270,.269,-.724,-.161,.286,.496,-.827)*f6_2+\n    mat4(-.528,-.445,-.670,-.901,-.422,-.102,-.365,.318,.720,.565,-.159,-.505,-.304,.159,.371,.600)*f6_3+\n    vec4(.838,-1.887,2.183,2.824))/2.6+f6_2;\nvec4 f7_3=sin(mat4(-.346,.252,-.124,-.094,-.040,-.990,.036,-.363,.062,.181,.021,-.412,-.013,-.042,.139,-.556)*f6_0+\n    mat4(.367,.367,.457,.650,-.549,-.066,.084,-.395,-.721,.656,.037,-.739,-.055,-.403,-.504,.004)*f6_1+\n    mat4(.534,-.290,.361,-.552,-.190,.013,.292,.145,.443,.154,-.386,.167,-.673,-.759,-.207,1.304)*f6_2+\n    mat4(.369,-.011,-.123,.761,.562,.103,-.283,-.039,.502,.113,.054,-.021,.615,.130,.119,-.175)*f6_3+\n    vec4(-.243,2.676,2.331,-.847))/2.6+f6_3;\nvec4 f8_0=sin(mat4(-.815,.138,1.119,-.066,.322,.368,-.427,-.627,-.490,-.237,.552,.620,-.124,-.203,-.137,.234)*f7_0+\n    mat4(.230,.120,-.098,-.027,.497,-.214,1.009,-.253,.348,-.012,-.203,-.056,.352,.206,-.356,-.295)*f7_1+\n    mat4(.207,-.105,.625,.387,.251,-.396,.342,-.812,-.090,-.371,-.386,-.529,.664,-.063,-.236,-.582)*f7_2+\n    mat4(-.575,.455,.135,.427,.355,-.211,.303,.129,.202,.077,.030,.139,.136,.021,.053,.287)*f7_3+\n    vec4(-1.948,-.654,-2.391,1.007))/2.8+f7_0;\nvec4 f8_1=sin(mat4(-.152,-.477,-.867,.005,.330,.490,.665,-.209,-1.217,-.336,-.161,-.009,-.858,.424,.049,.455)*f7_0+\n    mat4(-.115,-.209,-.524,.649,-.692,-.532,.246,.325,.109,-.311,-.163,.086,.345,.627,.316,.705)*f7_1+\n    mat4(-.299,.029,-.453,.643,.398,-.074,-.408,.371,.456,.416,.023,.123,-.211,.763,.680,-.636)*f7_2+\n    mat4(.335,.694,.380,.388,.100,-.057,.473,.259,-.053,-.209,-.506,.062,-.173,.251,-.564,.086)*f7_3+\n    vec4(1.154,-1.384,1.930,.064))/2.8+f7_1;\nvec4 f8_2=sin(mat4(.260,-.216,.240,-.445,.084,-.730,.590,.003,.048,-.519,-.302,.669,-.728,-.621,.118,.130)*f7_0+\n    mat4(.291,-.203,.622,-.454,-.148,-.389,.163,.596,-.220,-.463,.232,.313,-.164,-.045,.803,-.146)*f7_1+\n    mat4(.254,.773,-.763,.182,-.220,.751,.030,-1.108,-.235,-.575,.616,-.394,-.343,.132,.456,-.090)*f7_2+\n    mat4(.129,.476,-.429,-.650,-.692,-.012,-.084,-.211,.380,-.122,-.057,-.220,-.157,-.008,.012,-.551)*f7_3+\n    vec4(2.211,2.339,.816,2.304))/2.8+f7_2;\nvec4 f8_3=sin(mat4(.202,-.699,-.344,.165,.132,-.269,.180,-.254,-.185,.222,.351,.280,.091,-.177,.575,.031)*f7_0+\n    mat4(-.340,-.319,.753,-.029,.452,-.201,.188,-.082,.265,.673,.678,-.281,-.273,-.551,.374,.143)*f7_1+\n    mat4(.706,-.141,-.891,.058,.360,-.141,-.298,.389,-.060,-.121,.278,-.261,.245,1.102,.059,.166)*f7_2+\n    mat4(.367,.271,-.266,.135,.113,.030,-.201,-.104,.595,-.201,-.179,-.025,-.626,.563,.211,-.329)*f7_3+\n    vec4(-1.765,-1.128,-1.262,-1.918))/2.8+f7_3;\nreturn dot(f8_0,vec4(.044,-.061,-.031,-.035))+\n    dot(f8_1,vec4(-.041,.034,-.053,-.037))+\n    dot(f8_2,vec4(.044,.044,-.049,-.039))+\n    dot(f8_3,vec4(-.021,-.017,-.046,-.022))+\n    -0.082;\n\n}\n\nvec3 norm(vec3 p) {\n    mat3 k = mat3(p,p,p)-mat3(0.001);\n    return normalize(scene(p) - vec3(scene(k[0]),scene(k[1]),scene(k[2])));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord-0.5*iResolution.xy)/iResolution.y;\n    vec2 mouse = (iMouse.xy-0.5*iResolution.xy)/iResolution.y;\n\n    vec3 cam = normalize(vec3(1.5,uv));\n    vec3 init = vec3(-3.,0,0);\n    \n    float yrot = 0.5;\n    float zrot = iTime*.2;\n    if (iMouse.z > 0.) {\n        yrot += -4.*mouse.y;\n        zrot = 4.*mouse.x;\n    }\n    cam = erot(cam, vec3(0,1,0), yrot);\n    init = erot(init, vec3(0,1,0), yrot);\n    cam = erot(cam, vec3(0,0,1), zrot);\n    init = erot(init, vec3(0,0,1), zrot);\n    \n    vec3 p = init;\n    bool hit = false;\n    for (int i = 0; i < 150 && !hit; i++) {\n        float dist = scene(p)-0.04;\n        hit = dist*dist < 1e-6;\n        p+=dist*cam;\n        if (distance(p,init)>5.) break;\n    }\n    vec3 n = norm(p);\n    vec3 r = reflect(cam,n);\n    //don't ask how I stumbled on this texture\n    vec3 nz = p - erot(p, vec3(1), 2.) + erot(p, vec3(1), 4.);\n    float spec = length(sin(r*3.5+sin(nz*120.)*.15)*.4+.6)/sqrt(3.);\n    spec *= smoothstep(-.3,.2,scene(p+r*.2));\n    vec3 col = vec3(1.0,0.0,0.0)*spec + pow(spec,8.);\n    float bgdot = length(sin(cam*8.)*.4+.6)/2.;\n    vec3 bg = vec3(.1,.1,.11) * bgdot + pow(bgdot, 10.);\n    fragColor.xyz = hit ? col : bg;\n    fragColor = smoothstep(-.02,1.05,sqrt(fragColor)) * (1.- dot(uv,uv)*.5);\n}","name":"Image","description":"","type":"image"}]}