{"ver":"0.1","info":{"id":"csVBWd","date":"1699029460","viewed":42,"name":"Voronoi Experiment - 100816723","username":"St0ven_","description":"a simple voronoi texture generator","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["voronoi"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n    \n    uv = (uv - 0.5) * 2.0;\n    \n    uv.x *= iResolution.x / iResolution.y;\n    \n    int arrayLength = 5;\n    vec2[] voronoiPoints = vec2[] (vec2(-1, 0), vec2(0.25, 0.25), vec2(0, 0.5), vec2(0.5, 0.5), vec2(-0.5, 0));\n    vec2[] voronoiBasePoints = vec2[] (vec2(-1, 0), vec2(0.25, 0.25), vec2(0, 0.5), vec2(0.5, 0.5), vec2(-0.5, 0));\n    vec4[] voronoiColors = vec4[] (vec4(0, 1, 1, 1), vec4(1, 1, 0, 1), vec4(0, 0, 1, 1), vec4(0, 1, 0, 1), vec4(1, 0, 0, 1));\n\n    float d = 0.0;\n    float lengthToPoint = 0.0;\n    float maxLength = 999.0;\n    \n    vec2 closestPoint = vec2(0, 0);\n    \n    vec4 pixelColor = vec4(0, 0, 0, 1);\n    \n    if(int(iTime) % 5 == 0){\n        voronoiBasePoints = voronoiPoints;\n    }\n    \n    for(int i = 0; i < arrayLength; i++){\n    \n        if(i % 2 == 0){\n            voronoiPoints[i].x = voronoiBasePoints[i].x + (-sin(iTime + float(i + 1)) /  float(i + 1) * .75);\n            voronoiPoints[i].y = voronoiBasePoints[i].y + (cos(iTime + float(i + 1)) / float(i + 1) * .75);\n        }\n        else{\n            voronoiPoints[i].x = voronoiBasePoints[i].x + (-cos(iTime + float(i + 1)) / float(i + 1) * .75);\n            voronoiPoints[i].y = voronoiBasePoints[i].y + (sin(iTime + float(i + 1)) / float(i + 1) * .75);\n        }\n        lengthToPoint = distance(uv, voronoiPoints[i]);\n        \n        if(lengthToPoint < maxLength){\n            maxLength = lengthToPoint;\n            \n            pixelColor = voronoiColors[i];\n            closestPoint = voronoiPoints[i];\n        }\n    }\n    \n    d = distance(uv, closestPoint);\n    \n    if(d < 0.01){\n        pixelColor = pixelColor * d;\n    }\n    \n    //pixelColor = vec4(d, d, d, 1);\n\n    // Output to screen\n    fragColor = vec4(pixelColor);\n}","name":"Image","description":"","type":"image"}]}