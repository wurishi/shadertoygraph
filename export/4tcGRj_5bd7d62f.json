{"ver":"0.1","info":{"id":"4tcGRj","date":"1470212816","viewed":237,"name":"Roadway of the stars","username":"johanw123","description":"Just something that happened while tinkering around with particles and stuff.","likes":5,"published":1,"flags":32,"usePreview":0,"tags":["particles","trails"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tfragColor = vec4(texture(iChannel0, fragCoord.xy/iResolution.xy).rgb, 1.0);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"Xsf3zn","filepath":"/media/a/f735bee5b64ef98879dc618b016ecf7939a5756040c2cde21ccb15e69a6e1cfb.png","previewfilepath":"/media/ap/f735bee5b64ef98879dc618b016ecf7939a5756040c2cde21ccb15e69a6e1cfb.png","type":"texture","channel":3,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"float rand(vec2 co){return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 q = fragCoord.xy / iResolution.xy;\n    vec2 p = fragCoord.xy/iResolution.xy-0.5;\n    \n    vec4 col= vec4(0);\n    vec2 w = 1./iResolution.xy;\n    \n    vec4 tex = texture(iChannel0, vec2(0, 0));\n    vec2 pos = tex.xy;\n   \tvec2 vel;\n    vel.x = tex.z;\n    vel.y = tex.a;\n\n    if (iFrame < 1) \n    {\n        //vec4 r = texture(iChannel3, q);\n       // pos = r.xyz;\n        float r = rand(fragCoord);\n        \n        ///var x = _originX + radius * Math.Cos(angle);\n    \t//var y = _originY + radius * Math.Sin(angle);\n        \n        float angle = r * 3.14 * 200.;\n        float radius = r * 200.;\n        \n        pos.x = (iResolution.x / 2.) + radius * sin(angle);\n        pos.y = (iResolution.y / 2.) + radius * cos(angle);\n       // pos.x = fragCoord.x;\n       // pos.y = fragCoord.y;\n        //vel.y = radius * sin(angle) * 0.1;\n        //vel.x = radius * cos(angle) * 0.1;\n        vel.x = 1.;\n        vel.y = 1.;\n       // vel.y = radius * cos(angle);\n       // pos.y = fragCoord.y * r.y;\n       // pos.x = 400.;\n        //pos.z = fragCoord.x + fragCoord.y;\n\t\tcol = vec4(pos.x, pos.y, vel.x, vel.y);\n    }\n    else\n    {\n        float r = rand(fragCoord);\n        \n        ///var x = _originX + radius * Math.Cos(angle);\n    \t//var y = _originY + radius * Math.Sin(angle);\n        \n        float angle = r * 3.14 * 1000.;\n        float radius = r * 1000.;\n       // vel.y = radius * sin(angle) * 0.1;\n        //vel.x = radius * cos(angle) * 0.1;\n        //pos.rgb += velo.rgb*0.002;\n        //pos.y += 1.;\n        float d = length(p);\n        float d2 = distance(pos, vec2((iResolution.x / 2.), (iResolution.y / 2.)));\n        //x = t*cos(t), y = t*sin(t)\n        //vel.x = iTime * cos(iTime) * 1.15 * (atan(p.y,p.x) * sin(d * iTime)) / d2;\n        //vel.y = iTime * sin(iTime) * 1.15 * (atan(p.y,p.x) * cos(d * iTime)) / d2;\n      /*  vel.x = iTime * cos(iTime * r) * 10.15 *\n            (atan(p.y,p.x) * sin(d * iTime)) / d2;\n        vel.y = iTime * sin(iTime * r) * 1.15 *\n            (atan(p.y,p.x) * cos(d * iTime)) / d2;*/\n        \n        vel.x = 0.*sin( 100./r * iTime) -cos(iTime / 2.) + iTime * cos(iTime) * 1.75  * (atan(p.y,p.x) * sin(d * iTime)) / d2;\n        vel.y = 0.*cos(100./r * iTime) -cos(iTime / 2.) + iTime * sin(iTime) * 0.55  * (atan(p.y,p.x) * cos(d * iTime)) / d2;\n        \n        pos.xy += vel.xy;\n\n        col = vec4(pos.x, pos.y, vel.x, vel.y);\n    }\n\n    \n    //col.a = 1.;\n\tfragColor = col;\n}","name":"Buf A","description":"","type":"buffer"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"XsXGR8","channel":0}],"code":"vec4 getColor(in vec2 fragCoord)\n{\n    vec4 col = vec4(0);\n    vec2 w = 1./iResolution.xy;\n    \n    vec2 q = fragCoord.xy/iResolution.xy;\n    vec2 p = fragCoord.xy/iResolution.xy-0.5;\n    p.x*=iResolution.x/iResolution.y;\n    \n    vec4 tex = texture(iChannel0, q);\n    //vec2 pos = tex.xy * iResolution.xy / 700.;\n    vec2 pos = vec2(tex.x * iResolution.x / 1280., tex.y * iResolution.y / 700.);\n   \tvec2 vel;\n    vel.x = tex.z;\n    vel.y = tex.a;\n\n    float d = distance(pos.x, fragCoord.x) * distance(pos.y, fragCoord.y);\n    float d2 = distance(pos.x, fragCoord.x) *  distance(pos.y, fragCoord.y) * d;\n    if(d < 20.) //20\n    {\n     \tcol.rgb += 000000.1*d*abs(sin(vec3(1.,5.4,1.3)*(iTime*.06 + float(q.x)*.003 + 2.))*0.04);\n    }\n    if(d2 < 50.) //200\n    {\n     \tcol.rgb += 000000.1*d2* abs(cos(vec3(1.,5.4,1.3)*(iTime*.06 + float(q.y)*.003 + 2.))*0.004);\n    }\n    \n    return col;\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\t\n    vec2 q = fragCoord.xy/iResolution.xy;\n\tvec2 p = fragCoord.xy/iResolution.xy-0.5;\n\t//p.x*=iResolution.x/iResolution.y;\n\n    vec4 c = texture(iChannel1, q);\n    vec4 cola = getColor(fragCoord);\n    \n    vec4 col = cola + c;\n    col *= 0.999;\n\n\tfragColor = col;\n}","name":"Buf B","description":"","type":"buffer"}]}