{"ver":"0.1","info":{"id":"tl2XDy","date":"1567030245","viewed":65,"name":"Color from Bricks","username":"gressettd","description":"Playing with patterns that produce several variables for multiple perspectives on the pattern to drive color control.","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["color","brick"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec4 ComputeRegularBrickTilePattern(vec2 pos, vec2 box, float gap, float brickLum, float gapLum)\n{\n\tfloat width = box.x;\n\tfloat height = box.y;\n\t\t\n\tfloat brickAndMortarWidth = width + gap;\n\tfloat brickAndMortarHeight = height + gap;\n\tfloat mwf = (gap * 0.5 / brickAndMortarWidth);\n\tfloat mhf = (gap * 0.5 / brickAndMortarHeight);\n\n\t\n\tfloat row = pos.y / height;\n\tfloat x = 0.0;\n\tfloat y = fract(row);\n\tif (fract(row * 0.5) > 0.5)\n\t{\n\t\tx = fract((pos.x + width / 2.0) / width);\n\t}\n\telse\n\t{\n\t\tx = fract(pos.x / width);\n\t}\n\n\tfloat horizontal = step(mwf, x) - step(1.0 - mwf, x);\n\tfloat vertical = step(mhf, y) - step(1.0 - mhf, y);\n\tfloat lum = mix(gapLum, brickLum, horizontal * vertical);\n\tvec4 retval = vec4(lum, x, y, floor(row));\n\treturn retval;\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n    uv.y *= float(iResolution.y) / float(iResolution.x);\n    \n    uv += vec2(0.0,iTime* 0.1);\n\n    vec4 cc = ComputeRegularBrickTilePattern(uv,\n                                             vec2(0.3,0.15),\n                                             0.01,\n                                             0.8,0.25);\n\tfloat lum = cc.x * (cc.y+cc.z);\n    vec3 color = vec3( 0.5*(sin(cc.w * 3.14)) + 1.0,\n                       0.5*(sin((cc.w + cc.y)*3.14)) + 1.0,\n                       0.5*(sin((cc.w + cc.z)*3.14)) + 1.0);\n    color = clamp(lum * color, 0.0, 1.0);\n    \n    // Output to screen\n    fragColor = vec4(color,1.0);\n}","name":"Image","description":"","type":"image"}]}