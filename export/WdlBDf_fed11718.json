{"ver":"0.1","info":{"id":"WdlBDf","date":"1589309871","viewed":208,"name":"Julia Set sound activated bounds","username":"long_march","description":"Also includes a point-based orbit trap at the origin to get the colours","likes":4,"published":1,"flags":4,"usePreview":0,"tags":["mandelbrot"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XdXGRr","filepath":"/presets/mic.png","previewfilepath":"/presets/mic.png","type":"mic","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\n\nvec2 from_polar(float r, float theta) {\n  return vec2(r * cos(theta), r * sin(theta));\n}\n\nvec2 to_polar(vec2 z) {\n  return vec2(length(z), atan(z.y, z.x));\n}\n\nvec2 complex_mul(vec2 a, vec2 b) {\n    return vec2(a.x*b.x - a.y*b.y, a.x*b.y + a.y*b.x);\n}\n\nvec2 complex_pow(vec2 z, float val) {\n\tvec2 p = to_polar(z);\n\treturn from_polar(pow(p.x, val), p.y*val);\n}\n\nvec2 complex_pow(vec2 z, int val) {\n    vec2 ret = z;\n    for (int n = 1; n < val; n++) {\n    \tz = complex_mul(ret, z);   \n    }\n    return z;\n}\n\nvoid mainImage(out vec4 fragment_colour, in vec2 fragment_coordinate) {\n    vec2 uv = fragment_coordinate / iResolution.xy - 0.5;\n    uv.x *= iResolution.x / iResolution.y;\n\n    vec2 c = uv * 2.5f; // / pow(iTime, iTime) * 2.5;\n    // c.x -= 1.0015f;\n    // c.y += 0.28295;\n\n    vec2 z;\n    float iters = 0.0f;\n    float bound = pow(texture(iChannel1, vec2(0.3,1)).x, 2.0) * 2.0f + 0.6;\n\tif (iTime < 0.1) bound = 2.f;\n    \n    float trap = 100000.0f;\n\tz = c;\n    c = vec2(-0.8, 0.156);\n\n    while (length(z) < bound) {\n        iters++;\n    \tz = complex_mul(z, z) + c;\n\n\t\tfloat dist = length(z);\n\t\ttrap = min(trap, dist);\n\n        if (iters > 100.0f) break;\n    }\n\n    iters /= 100.0f;\n    iters = sqrt(iters) - sqrt(trap);\n\n    fragment_colour = vec4(sin(iters + bound / 10.), iters*iters*iters, 0.12, 0);\n    if (iters >= 2.5f) fragment_colour = vec4(1);\n}\n","name":"Image","description":"","type":"image"}]}