{"ver":"0.1","info":{"id":"MssBRj","date":"1497041214","viewed":119,"name":"Dons sandbox","username":"dhonerbrink","description":"Dons sandbox","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["sandbox"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sX3Rn","filepath":"/media/a/c3a071ecf273428bc72fc72b2dd972671de8da420a2d4f917b75d20e1c24b34c.ogv","previewfilepath":"/media/ap/c3a071ecf273428bc72fc72b2dd972671de8da420a2d4f917b75d20e1c24b34c.ogv","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float GetTexture(float x, float y)\n{\n    return texture(iChannel0, vec2(x, y) / iResolution.xy).r;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float threshold = 0.2;\n        \n    float x = fragCoord.x;\n    float y = fragCoord.y;\n    \n    float xValue = -GetTexture(x-1.0, y-1.0) -  // down left\n                    2.0*GetTexture(x-1.0, y) -  // left\n                    GetTexture(x-1.0, y+1.0) +  // top  left\n                    GetTexture(x+1.0, y-1.0) +  // down right\n                    2.0*GetTexture(x+1.0, y) +  // right\n                    GetTexture(x+1.0, y+1.0);   // top right\n                    \n                    \n    float yValue = GetTexture(x-1.0, y-1.0) +   // down left\n                    2.0*GetTexture(x, y-1.0) +  // down \n                    GetTexture(x+1.0, y-1.0) -  // down right\n                    GetTexture(x-1.0, y+1.0) -  // top left\n                    2.0*GetTexture(x, y+1.0) -  // top\n                    GetTexture(x+1.0, y+1.0);   // top right\n    \n    if(iMouse.x < iResolution.x/2.0) {\n        if(length(vec2(xValue, yValue)) > threshold)\n        {\n            fragColor = vec4(0);\n        }\n        else\n        {\n            vec2 uv = vec2(x, y) / iResolution.xy;\n            vec4 currentPixel = texture(iChannel0, uv);\n            currentPixel += texture(iChannel0, vec2(uv.x - 1.0, uv.y - 1.0));\n            currentPixel += texture(iChannel0, vec2(uv.x + 1.0, uv.y - 1.0));\n            currentPixel += texture(iChannel0, vec2(uv.x - 1.0, uv.y + 1.0));\n            currentPixel += texture(iChannel0, vec2(uv.x + 1.0, uv.y + 1.0));\n\t\t\tcurrentPixel /= 2.0;                                   \n            fragColor = currentPixel;\n        }\n    }\n    else {\n            vec2 uv = vec2(x, y) / iResolution.xy;\n            vec4 currentPixel = texture(iChannel0, uv);\n            fragColor = currentPixel;\n    }\n}","name":"Image","description":"","type":"image"}]}