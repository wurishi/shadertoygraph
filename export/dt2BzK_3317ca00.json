{"ver":"0.1","info":{"id":"dt2BzK","date":"1694288589","viewed":58,"name":"thermal color map (zv)","username":"zerovolts","description":"Remap video to grayscale and then to a thermal camera-inspired rainbow color ramp.","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["color","thermal"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sX3Rn","filepath":"/media/a/c3a071ecf273428bc72fc72b2dd972671de8da420a2d4f917b75d20e1c24b34c.ogv","previewfilepath":"/media/ap/c3a071ecf273428bc72fc72b2dd972671de8da420a2d4f917b75d20e1c24b34c.ogv","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const float PI = 3.1415926538;\n\nvec3 tex(vec2 uv) {\n    return pow(texture(iChannel0, uv).rgb, vec3(2.2));\n}\n\nfloat color2lum(vec3 color) {\n    return color.r * 0.2126 +\n           color.g * 0.7152 +\n           color.b * 0.0722;\n}\n\n// A single triangle wave from 0.0 to 1.0.\nfloat c(float x) {\n    return x < 0. || x > 1.\n        ? 0.\n        : x < .5\n            // positive slope\n            ? 2. * x\n            // negative slope\n            : -2. * x + 2.;\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    vec2 st = fragCoord / iResolution.xy;\n    float s = color2lum(tex(st));\n    \n    vec3 color = vec3(c(s - .5), c(s), c(s + .5));\n    \n    vec3 srgb = pow(color, vec3(1. / 2.2));\n    fragColor = vec4(srgb, 1.0);\n}","name":"Image","description":"","type":"image"}]}