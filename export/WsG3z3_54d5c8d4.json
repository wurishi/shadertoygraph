{"ver":"0.1","info":{"id":"WsG3z3","date":"1570620041","viewed":65,"name":"g_sin","username":"guanguan","description":"三角函数测试","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["test","sin"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\nfloat pi=3.141593;\n//A*Sin(wx +t)\n//yoffset 在y轴上的偏移\nfloat InSin(vec2 pos, float A,float w,float t,float yoffset,float antiAltas)\n{\n    float y=A * sin(w * pos.x + t) +yoffset;\n    float dif = abs(pos.y-y);\n    return smoothstep(fwidth(pos.y-y),0.0,dif);\n}\n\n//float waveValueA = sin((v.vertex.x + v.vertex.z) * _Frequency + time * _Frequency) * _Amplitude;\n\nfloat InWave(vec2 pos, float A,float freq,float t,float yoffset,float antiAltas)\n{\n    float y=A * sin( (pos.x+pos.y) * freq + t * freq) +yoffset;\n    float dif = abs(pos.y-y);\n   // return smoothstep(fwidth(pos.y-y),0.0,dif);\n    return smoothstep(y-antiAltas,y,pos.y)-smoothstep(y,y+antiAltas,pos.y);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n\tfloat width = 0.009;\n    float A = 0.3;\n    float xSpeed = 1.0;\n    //fragColor.r=InSin(uv,A,pi*2.0,iTime*xSpeed,0.5,width);\n    \n    float freq = pi*5.0;\n    xSpeed=-0.2;\n    fragColor.r=InWave(uv,A,freq,iTime*xSpeed,0.5,width);\n}\n    ","name":"Image","description":"","type":"image"}]}