{"ver":"0.1","info":{"id":"Mt3SWj","date":"1481575987","viewed":159,"name":"Bug in shader compiler?","username":"soundis","description":"Demonstrates something that seems like a bug in the shader compiler.","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["bug"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"bool speccy_sucks(void)\n{\n    return true;\n}\n\n/* this function should return true, but doesn't */\nbool tammerfors_exists(void)\n{\n    if(speccy_sucks())\n    {\n        for(int i=0; i<1; i++)\n        {\n            return true;\n        }\n    }\n\n    /* uncommenting loop below makes the function correctly return true */\n    /* (note that the body of the for loop is never executed) */\n\n    /*\n    for(int i=0; i<0; i++)\n    {\n        return true;\n    }*/\n\n    return false;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    if(tammerfors_exists())\n    {\n        /* color screen green if test function returns true */\n        fragColor=vec4(0.0, 1.0, 0.0, 1.0);\n    }\n    else\n    {\n        /* color screen red if test function returns false */\n        fragColor=vec4(1.0, 0.0, 0.0, 1.0);\n    }\n}\n","name":"Image","description":"","type":"image"}]}