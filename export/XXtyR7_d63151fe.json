{"ver":"0.1","renderpass":[{"outputs":[{"channel":0,"id":"4dfGRr"}],"inputs":[],"code":"\n#define S3(d,b) smoothstep(6./iResolution.y, 0. , d - (b) )\n#define S2(d,b) smoothstep(6./iResolution.y, 0. , d - (b) )\n#define S(d,b) smoothstep(6./iResolution.y, 0. , d - (b) )\n#define PI     3.14159265\n#define TWO_PI 6.28318530\n\n\nvec3 DFB(vec3 pColObj, vec3 colOut, float distObj )\n{ colOut = mix(colOut,pColObj ,S3( distObj,0.0));\n  colOut = mix(colOut,vec3(0.0),S3(abs( distObj)-0.005,0.0));\n  return colOut;\n}\n\nvec3 DFS(vec3 pColObj, vec3 colOut, float distObj )\n{ colOut = mix(colOut,pColObj ,S( distObj,0.0)); return colOut;\n  return colOut;\n}\n\n\n\nfloat divf(float a, float b)\n{\n    //evita crash por 1/0.0 =Infinito=error, en compilar\n    if(b==0.0)\n    {b=0.00001;}\n    return a/b;\n}\n\n\nfloat sdSegment( in vec2 p, in vec2 a, in vec2 b )\n{  vec2 pa = p-a, ba = b-a;\n    float h = clamp( divf( dot(pa,ba),dot(ba,ba)), 0.0, 1.0 );\n    return length( pa - ba*h );\n}\n\n\n//https://www.shadertoy.com/view/dt2yDK  //iq\n// distance to segment\nfloat sdSegment( in vec2 p, in vec2 a, in vec2 b, in float th )\n{\n    vec2 ba = b-a;\n    vec2 pa = p-a;\n    float h = clamp( divf(dot(pa,ba),dot(ba,ba)) , 0.0, 1.0 );\n    vec2  q = pa-h*ba;\n    return length(q) - th;\n}\n\n\n\nvec3 s_(vec2 p, vec3 colout,vec3 colIn)\n{\nvec3 c1=vec3(1.0);\nvec3 c2=vec3(1.0,0.0,0.0);\n    \nvec2 A,B, med,pr;\nfloat dfin;\nfloat  r1,ang, he ;\n\nA=vec2(0.5733333,0.82);\nB=vec2(0.67,0.75);\nfloat d21=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d21);\n\nA=vec2(0.38,0.8233333);\nB=vec2(0.5666667,0.82);\nfloat d22=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d22);\n\nA=vec2(0.38,0.8233333);\nB=vec2(0.3,0.7566667);\nfloat d23=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d23);\n\nA=vec2(0.3,0.7566667);\nB=vec2(0.3066667,0.5966667);\nfloat d24=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d24);\n\nA=vec2(0.3033333,0.5966667);\nB=vec2(0.3866667,0.5366667);\nfloat d25=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d25);\n\nA=vec2(0.3866667,0.5433334);\nB=vec2(0.6166667,0.53);\nfloat d26=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d26);\n\nA=vec2(0.6133333,0.53);\nB=vec2(0.6366667,0.4366667);\nfloat d27=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d27);\n\nA=vec2(0.64,0.4466667);\nB=vec2(0.6366667,0.26);\nfloat d28=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d28);\n\nA=vec2(0.5666667,0.2133333);\nB=vec2(0.6366667,0.2633333);\nfloat d29=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d29);\n\nA=vec2(0.3333333,0.2333333);\nB=vec2(0.5566667,0.21);\nfloat d210=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d210);\n\n\n    \n    return colout;\n}\n\n\n\n\nvec3 o_(vec2 p, vec3 colout,vec3 colIn)\n{\nvec3 c1=vec3(1.0);\nvec3 c2=vec3(1.0,0.0,0.0);\n    \nvec2 A,B, med,pr;\nfloat dfin;\nfloat  r1,ang, he ;\n\n   \n\nA=vec2(0.38,0.63);\nB=vec2(0.6266667,0.63);\nfloat d31=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d31);\n\nA=vec2(0.68,0.5633333);\nB=vec2(0.6233333,0.63);\nfloat d32=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d32);\n\nA=vec2(0.68,0.3766667);\nB=vec2(0.6766667,0.57);\nfloat d33=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d33);\n\nA=vec2(0.6233333,0.3133333);\nB=vec2(0.6766667,0.3766667);\nfloat d34=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d34);\n\nA=vec2(0.37,0.32);\nB=vec2(0.6233333,0.32);\nfloat d35=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d35);\n\nA=vec2(0.3033333,0.3733333);\nB=vec2(0.37,0.3166667);\nfloat d36=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d36);\n\nA=vec2(0.3033333,0.57);\nB=vec2(0.3133333,0.38);\nfloat d37=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d37);\n\nA=vec2(0.38,0.6333333);\nB=vec2(0.3,0.5666667);\nfloat d38=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d38);\n\n\n   \n    return colout;\n}\n\n\n\n\n\nvec3 u_(vec2 p, vec3 colout,vec3 colIn)\n{\nvec3 c1=vec3(1.0);\nvec3 c2=vec3(1.0,0.0,0.0);\n    \nvec2 A,B, med,pr;\nfloat dfin;\nfloat  r1,ang, he ;\n\n   \n\nA=vec2(0.3166667,0.4);\nB=vec2(0.3133333,0.6266667);\nfloat d41=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d41);\n\nA=vec2(0.3733333,0.32);\nB=vec2(0.3066667,0.4033333);\nfloat d42=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d42);\n\nA=vec2(0.63,0.3266667);\nB=vec2(0.37,0.3266667);\nfloat d43=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d43);\n\nA=vec2(0.68,0.4033333);\nB=vec2(0.6266667,0.33);\nfloat d44=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d44);\n\nA=vec2(0.6666667,0.6233333);\nB=vec2(0.6766667,0.4066667);\nfloat d45=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d45);\n\n\n   \n    return colout;\n}\n\n\n\nvec3 n_(vec2 p, vec3 colout,vec3 colIn)\n{\nvec3 c1=vec3(1.0);\nvec3 c2=vec3(1.0,0.0,0.0);\n    \nvec2 A,B, med,pr;\nfloat dfin;\nfloat  r1,ang, he ;\n\n\n\nA=vec2(0.3133333,0.33);\nB=vec2(0.3133333,0.62);\nfloat d51=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d51);\n\nA=vec2(0.3666667,0.5966667);\nB=vec2(0.3066667,0.5333334);\nfloat d52=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d52);\n\nA=vec2(0.5933333,0.59);\nB=vec2(0.3633333,0.5966667);\nfloat d53=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d53);\n\nA=vec2(0.6266667,0.5266666);\nB=vec2(0.5966667,0.59);\nfloat d54=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d54);\n\nA=vec2(0.62,0.3266667);\nB=vec2(0.6266667,0.5266666);\nfloat d55=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d55);\n\n\n   \n   \n    return colout;\n}\n\n\n\n\nvec3 d_(vec2 p, vec3 colout,vec3 colIn)\n{\nvec3 c1=vec3(1.0);\nvec3 c2=vec3(1.0,0.0,0.0);\n    \nvec2 A,B, med,pr;\nfloat dfin;\nfloat  r1,ang, he ;\n\nA=vec2(0.62,0.3266667);\nB=vec2(0.62,0.8166667);\nfloat d61=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d61);\n\nA=vec2(0.62,0.5666667);\nB=vec2(0.5566667,0.6266667);\nfloat d62=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d62);\n\nA=vec2(0.56,0.6233333);\nB=vec2(0.3633333,0.6266667);\nfloat d63=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d63);\n\nA=vec2(0.3733333,0.6266667);\nB=vec2(0.3066667,0.56);\nfloat d64=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d64);\n\nA=vec2(0.3066667,0.5566667);\nB=vec2(0.3066667,0.3766667);\nfloat d65=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d65);\n\nA=vec2(0.3033333,0.38);\nB=vec2(0.3766667,0.31);\nfloat d66=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d66);\n\nA=vec2(0.3666667,0.3166667);\nB=vec2(0.5566667,0.32);\nfloat d67=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d67);\n\nA=vec2(0.5566667,0.32);\nB=vec2(0.62,0.3733333);\nfloat d68=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d68);\n\n   \n   \n    return colout;\n}\n\n\n\n\nvec3 c1_(vec2 p, vec3 colout,vec3 colIn)\n{\nvec3 c1=vec3(1.0);\nvec3 c2=vec3(1.0,0.0,0.0);\n    \nvec2 A,B, med,pr;\nfloat dfin;\nfloat  r1,ang, he ;\n\n   \n\nA=vec2(0.49,0.8266667);\nB=vec2(0.37,0.7);\nfloat d11=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d11);\n\nA=vec2(0.5633333,0.6966667);\nB=vec2(0.4933333,0.8266667);\nfloat d12=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d12);\n\nA=vec2(0.5633333,0.2666667);\nB=vec2(0.56,0.7033333);\nfloat d13=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d13);\n\nA=vec2(0.75,0.2733333);\nB=vec2(0.3766667,0.2766667);\nfloat d14=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d14);\n\n   \n    return colout;\n}\n\n\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float scale =2.0;\n    vec2 uv =  scale * ( 2. * fragCoord - iResolution.xy ) / iResolution.y ;\n    uv.x-=0.55;\n    vec3 col=vec3(1.0);\n   \n\n    \n   uv.x+=2.0;\n   col= s_(uv, col,vec3(1.0,0.0,0.0));\n   col= o_(uv-vec2(0.5,0.0), col,vec3(1.0,0.0,0.0));\n   col= u_(uv-vec2(1.0,0.0), col,vec3(1.0,0.0,0.0));\n   col= n_(uv-vec2(1.5,0.0), col,vec3(1.0,0.0,0.0));\n   col= d_(uv-vec2(2.0,0.0), col,vec3(1.0,0.0,0.0));\n   \n   col= c1_(uv-vec2(3.0,0.0), col,vec3(1.0,0.0,0.0));\n   \n   col=pow(col,  vec3(0.554545));  \n    fragColor = vec4(col,1.0);\n    \n  \n}\n\n\n","name":"Image","description":"","type":"image"},{"outputs":[],"inputs":[],"code":"//---por jorge2017a2\n//Referencia de sonido \n//IQ,AeroShark333, Gaz ,etc. muchos :)\n\n//Name Piano youtube:\n\n//\n\n#define PI acos(-1.)\n#define PIH (PI*.5)\n#define TAU (PI*2.)\n#define TWO_PI 6.2831\n\n\nconst float ttotal=22.0; \nconst float pi = 3.1415927;\nconst float tau = 6.283185;\nfloat ms;\nfloat mresp;\nfloat mtime;\nfloat mtempo;\n\n\n//https://www.shadertoy.com/view/ss3cDN\n// Created by AeroShark333\nfloat squareWave750( float f, float x)\n{ return (min(1.0, floor( 4.0 * floor( f * x ) - floor( 4.0 * f * x ) + 3.0 ))); }\n\nfloat squareWave500( float f, float x)\n{ return (floor( 2.0 * floor( f * x ) - floor( 2.0 * f * x ) + 1.0 )); }\n\nfloat squareWave250( float f, float x)\n{ return (max(0.0, floor( 4.0 * floor( f * x ) - floor( 4.0 * f * x ) + 1.0 ))); }\n\nvec2 squareWave250( vec2 f, float x)\n{ return (max(vec2(0.0), floor( 4.0 * floor( f * x ) - floor( 4.0 * f * x ) + 1.0 ))); }\n\nfloat triangleWave500( float q, float x)\n{ float f = 1.0-2.0*abs(0.5-mod(q*x,1.0));  return (f); }\n\nfloat triangleWave250( float q, float x)\n{ float f = max(0.0,1.0-2.0*abs(0.5-2.0*mod(q*x,1.0))); return (f); }\n\nfloat convertBassFreq (float f)\n{ return (f/2.0); }\n\nfloat  sawf(float t , float freq)\n{  return fract(t * freq) - 0.5; }\n\nfloat wave1( float x, float dxdt, in vec2 v, float t , float w)\n{   float f2;\n    float sampleX=0.0;\n    float f=w;\n    float v1,v2;\n    v1=squareWave250(f,t)+v.x;\n    v2=triangleWave250(f,t);\n    sampleX =v1*v2*exp(-2.5*t);\n    f2=(sampleX+sawf(t,f)+sawf(t,f+2.0)+sawf(t,f-2.0));\n    float fx=f2*1.5;\n    return fx;\n}\n\n\nfloat D3(float ton, float tid, float toff)\n{   vec3 n3;\n    float resp;\n    n3=vec3(ton,tid, toff);\n    \n    \n    if(ms>=ton && ms<=toff)\n    {      // lower one octave\n      n3.y -=12.; //12 notas\n      //n3.y +=12.; //12 notas\n\n      // compute note frequency and time  \n      float f = 440.0*pow( 2.0, float(n3.y-69.)/12.0 );\n      float t = mtime - float(n3.x)/mtempo;\n      if( n3.x==0.0 ) return 0.0;\n\n      // prepare wave parameters\n      float w = tau*f;\n      \n      float dwdt = w/iSampleRate; // derivative\n\n      // mix between bandlimited and raw saw waves  \n      vec2 v = smoothstep(-0.2,0.2,sin(t*vec2(1.0,0.5)) );\n      // build instrument\n\n      float f1,y;\n      f1=wave1(w*t,1.00*dwdt,v,t,w);\n      \n      float wf  = 0.4*f1;\n      y=f1*wf;\n      float offset=n3.x;\n       y*=exp(-1.0/n3.z * (t -offset) );\n        \n       mresp+=y;\n    }\n    \n}\n\n\n\nfloat SoundIq(float time)\n{ ///referencia de notas musicales... iq \n  time = mod( time+1.0, ttotal);\n // tune\n  float tempo = 0.4; //0.6\n  float s = time*tempo;\n vec3 n3=vec3(0.0);\n \n //variables globales\n ms=s;\n mresp=0.0;\n mtime=time;\n mtempo=tempo;\n\n\nD3(0.00000,48.0,0.25000); D3(0.25000,48.0,0.50000); D3(0.50000,55.0,0.75000); D3(0.75000,55.0,1.00000);\n D3(1.00000,57.0,1.25000); D3(1.25000,57.0,1.50000); D3(1.50000,55.0,2.00000); D3(2.00000,53.0,2.25000);\n D3(2.25000,53.0,2.50000); D3(2.50000,52.0,2.75000); D3(2.75000,52.0,3.00000); D3(3.00000,50.0,3.25000);\n D3(3.25000,50.0,3.50000); D3(3.50000,48.0,4.00000); D3(4.00000,55.0,4.25000); D3(4.25000,55.0,4.50000);\n D3(4.50000,53.0,4.75000); D3(4.75000,53.0,5.00000); D3(5.00000,52.0,5.25000); D3(5.25000,52.0,5.50000);\n D3(5.50000,50.0,6.00000); D3(6.00000,55.0,6.25000); D3(6.25000,55.0,6.50000); D3(6.50000,53.0,6.75000);\n D3(6.75000,53.0,7.00000); D3(7.00000,52.0,7.25000); D3(7.25000,52.0,7.50000); D3(7.50000,50.0,8.00000);\n\n\n\n  return mresp;\n}\n\nvec2 mainSound( in int samp, float time )\n{ float t1=mod(time, ttotal);\n  float y= SoundIq(t1)*0.5;\n  return vec2(y);\n}   \n","name":"Sound","description":"","type":"sound"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":true,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"XXtyR7","date":"1734885268","viewed":75,"name":"sound estrellita 01","username":"jorge2017a2","description":"sound estrellita 01","likes":7,"published":1,"flags":8,"usePreview":0,"tags":["sound"],"hasliked":0,"parentid":"","parentname":""}}