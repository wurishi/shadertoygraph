{"ver":"0.1","info":{"id":"XfXBRN","date":"1723412567","viewed":50,"name":"girls and boys","username":"jorge2017a2","description":"girls and boys","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["girlsandboys"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//por jorge2017a2\n//church-2d\n//girls and boys\n//--11-ago-2024-\n//referencia\n//https://iquilezles.org/articles/distfunctions2d\n///\n#define antialiasing(n) n/min(iResolution.y,iResolution.x)\n#define S(d,b) smoothstep(antialiasing(1.5),0. , d - (b) )\n#define S2(d,b) smoothstep(8.0*antialiasing(1.5),0.,d - (b) )\n#define S3(d,b) smoothstep(0.125/antialiasing(0.5),0. , d - (b) )\n\n\n#define opU2(d1, d2) ( d1.x < d2.x ? d1 : d2 )\n\n\n#define PI     3.14159265\n#define TWO_PI 6.28318530\n\n\nfloat Sdf_I(float distA, float distB)\n\t{ return max(distA, distB);}\nfloat Sdf_U(float distA, float distB)\n\t{ return min(distA, distB);}\nfloat Sdf_D(float distA, float distB)\n\t{ return max(distA, -distB);}\n\n\n\nvec3 DFB(vec3 pColObj, vec3 colOut, float distObj )\n{ colOut = mix(colOut,pColObj ,S3( distObj,0.0));\n  colOut = mix(colOut,vec3(0.0),S3(abs( distObj)-0.005,0.0));\n  return colOut;\n}\n\n\nvec3 DFS(vec3 pColObj, vec3 colOut, float distObj )\n{ colOut = mix(colOut,pColObj ,S( distObj,0.0)); return colOut;\n  return colOut;\n}\n\n///oneshade    \nvec2 Rotate(in vec2 p, in vec2 o, in float r) \n{   float c = cos(r), s = sin(r);\n    return (p - o) * mat2(c, -s, s, c) + o;\n}\n\nfloat sdBox( in vec2 p, in vec2 b )\n{ vec2 d = abs(p)-b;  return length(max(d,0.0)) + min(max(d.x,d.y),0.0);  }\n\n\n\nfloat sdCircle( vec2 p, float r )\n{ return length(p) - r;}\n\nfloat divf(float a, float b)\n{\n    //evita crash por 1/0.0 =Infinito=error, en compilar\n    if(b==0.0)\n    {b=0.00001;}\n    return a/b;\n}\n\n\nfloat sdSegment( in vec2 p, in vec2 a, in vec2 b )\n{  vec2 pa = p-a, ba = b-a;\n    float h = clamp( divf( dot(pa,ba),dot(ba,ba)), 0.0, 1.0 );\n    return length( pa - ba*h );\n}\n\n\nfloat sdTrapezoid( in vec2 p, in float r1, float r2, float he )\n{\n    vec2 k1 = vec2(r2,he);\n    vec2 k2 = vec2(r2-r1,2.0*he);\n    p.x = abs(p.x);\n    vec2 ca = vec2(p.x-min(p.x,(p.y<0.0)?r1:r2), abs(p.y)-he);\n    vec2 cb = p - k1 + k2*clamp( dot(k1-p,k2)/dot2(k2), 0.0, 1.0 );\n    float s = (cb.x<0.0 && ca.y<0.0) ? -1.0 : 1.0;\n    return s*sqrt( min(dot2(ca),dot2(cb)) );\n}\n\nfloat sdTriangleIsosceles( in vec2 p, in vec2 q )\n{\n    p.x = abs(p.x);\n    vec2 a = p - q*clamp( dot(p,q)/dot(q,q), 0.0, 1.0 );\n    vec2 b = p - q*vec2( clamp( p.x/q.x, 0.0, 1.0 ), 1.0 );\n    float s = -sign( q.y );\n    vec2 d = min( vec2( dot(a,a), s*(p.x*q.y-p.y*q.x) ),\n                  vec2( dot(b,b), s*(p.y-q.y)  ));\n    return -sqrt(d.x)*sign(d.y);\n}\n\n\n// License: Unknown, author: Unknown, found: don't remember\nfloat hash(vec2 co) \n{\n  return fract(sin(dot(co.xy ,vec2(12.9898,58.233))) * 13758.5453);\n}\n\n\nvec3 ninoA(vec2 p, vec3 colout)\n{\nvec2 A,B, med,pr;\nfloat dfin;\nfloat  r1,ang, he ;\n\nA=vec2(0.4545455,0.768595);\nmed=vec2(0.2444628,0.09090909);\nhe=9.090909E-02;\nfloat d1= sdTrapezoid(p-A, med.x, med.y, he);\n\nA=vec2(0.5289256,0.9586777);\nB=vec2(0.5371901,0.8595041);\nfloat d2=sdSegment(p,A,B);\n\nA=vec2(0.6033058,0.9421487);\nB=vec2(0.5371901,0.8760331);\nfloat d3=sdSegment(p,A,B);\n\nA=vec2(0.6115702,0.8595041);\nB=vec2(0.5702479,0.8677686);\nfloat d4=sdSegment(p,A,B);\n\nA=vec2(0.4545455,0.6033058);\nmed=vec2(0.2438017,0.08677686);\nfloat d5=sdBox(p-A,med);\n\nA=vec2(0.446281,0.5785124);\nmed=vec2(0.2520661,0.1033058);\nhe=8.264463E-02;\nfloat d6= sdTrapezoid(p-A, med.x, med.y, he);\n\nA=vec2(0.448281,0.4297521-0.005);\nmed=vec2(0.08677686,0.2355372+0.02);\nhe=8.264463E-02;\nfloat d7= sdTrapezoid(p-A, med.x, med.y, he);\n\nA=vec2(0.3553719,0.1818182);\nB=vec2(0.446281,0.3636364);\n\nfloat d8=sdSegment(p+vec2(0.0,0.02),A,B);\n\nA=vec2(0.5289256,0.1900826);\nB=vec2(0.4380165,0.338843);\nfloat d9=sdSegment(p,A,B);\n\nA=vec2(0.3636364,0.5867769-0.01);\nr1=0.00826446;\nfloat d10=sdCircle(p-A,r1);\n\nA=vec2(0.5371901,0.5702479);\nr1=0.00826446;\nfloat d11=sdCircle(p-A,r1);\n\nA=vec2(0.446281,0.5289256);\nr1=0.01652892;\nfloat d12=sdCircle(p-A,r1);\n\nA=vec2(0.446281,0.5289256);\nr1=0.01602892;\nfloat d12a=sdCircle(p-A,r1);\n\n\n\nA=vec2(0.4380165,0.4876033);\nmed=vec2(0.05785124,0.04132231);\nfloat d13=sdBox(p-A,med);\n\nA=vec2(0.4628099,0.4958678);\nr1=0.07438017;\nfloat d14=sdCircle(p-A,r1);\n\nA=vec2(0.4628099,0.4958678);\nr1=0.0718017;\nfloat d14a=sdCircle(p-A,r1);\n\n\n\nA=vec2(0.4545455,0.5289256);\nmed=vec2(0.09290909,0.07024793);\nfloat d15=sdBox(p-A,med);\n\nA=vec2(0.3140496,0.5123967);\nmed=vec2(0.04958678,0.02479339);\nfloat d16=sdEllipse(p-A,med);\n\nA=vec2(0.5785124,0.5041322);\nmed=vec2(0.04958678,0.02479339);\nfloat d17=sdEllipse(p-A,med);\n\n\n\n//Colores\nvec3 c1=vec3(1.000,0.565,0.541);\nvec3 c2=vec3(0.886,0.549,0.106);\nvec3 c3=vec3(0.522,0.337,0.133);\nvec3 c4=vec3(0.286,0.165,0.000);\nvec3 c5=vec3(0.9,0.1,0.1);\n\nfloat d101=Sdf_U(d1,d5);\nfloat d102=d2;\nfloat d103=d3;\nfloat d104=d4;\nfloat d106=Sdf_U(d6,d7);\nfloat d107=d8;\nfloat d108=d9;\nfloat d109=d10;\nfloat d110=d11;\nfloat d111=Sdf_D(d12,d13);\nd111=Sdf_D(d111,d12a);\n\n\nfloat d112=Sdf_D(d14,d15);\nd112=Sdf_D(d112,d14a);\n\n d112=abs(d112)-0.001;;\n\nfloat d113=abs(d16)-0.001;;\nfloat d114=abs(d17)-0.001;\n\n\nvec3 c3a= c3* hash(p*0.0001);\nvec3 c3b= c3* hash(p*0.0001+1.0);\nvec3 c3c=mix(c3a,c3b, hash(p*0.001-1.0));\n\ncolout= DFB(c3c, colout,d101);  //pelo\ncolout= DFB(c3, colout,d102);//pelo\ncolout= DFB(c1, colout,d103);\ncolout= DFB(c1, colout,d104);\ncolout= DFB(c1, colout,d106);\ncolout= DFB(c1, colout,d107);\ncolout= DFB(c1, colout,d108);\ncolout= DFB(c3, colout,d109);\ncolout= DFB(c5, colout,d110);\ncolout= DFS(c4, colout,d111);\ncolout= DFS(c5, colout,d112);\ncolout= DFS(c5, colout,d113);\ncolout= DFS(c5, colout,d114);\n\n    return colout;\n}\n\n\n\nvec3 ninoB(vec2 p, vec3 colout)\n{\nvec2 A,B, med,pr;\nfloat dfin;\nfloat  r1,ang, he ;\n\nA=vec2(0.69504,0.8264463-0.15);\nmed=vec2(0.2892562/2.0,0.1487603);\nfloat d1=sdTriangleIsosceles(p-A,med);\n\nA=vec2(0.5206612,0.7520661);\nmed=vec2(0.1900826,0.04958678);\nhe=7.438017E-02;\nfloat d2= sdTrapezoid(p-A, med.x, med.y, he); //pelo\n\nA=vec2(0.694215-0.045,0.7272727+0.005);\nmed=vec2(0.1900826,0.04958678);\nhe=7.438017E-02;\nfloat d3= sdTrapezoid(p-A, med.x, med.y, he);\n\nA=vec2(0.5785124,0.5950413);\nmed=vec2(0.2520661,0.0785124);\nfloat d4=sdBox(p-A,med);\n\nA=vec2(0.5867769-0.01,0.4173554+0.01);\nmed=vec2(0.0785124,0.2561983);\nhe=0.1033058;\nfloat d5= sdTrapezoid(p-A, med.x, med.y, he);\n\nA=vec2(0.3223141,0.8512397);\nB=vec2(0.3140496,0.6694215);\nfloat d6=sdSegment(p,A,B);\n\nA=vec2(0.1487603,0.6859504);\nB=vec2(0.3305785,0.6859504);\nfloat d7=sdSegment(p,A,B);\n\nA=vec2(0.4958678,0.1570248);\nB=vec2(0.4958678,0.3057851);\nfloat d8=sdSegment(p,A,B);\n\nA=vec2(0.6694215,0.1652893);\nB=vec2(0.5123967,0.3305785);\nfloat d9=sdSegment(p,A,B);\n\nA=vec2(0.7024794,0.6033058);\nr1=0.00826446;\nfloat d10=sdCircle(p-A,r1);\n\nA=vec2(0.8181818,0.6033058);\nr1=0.00826446;\nfloat d11=sdCircle(p-A,r1);\n\nA=vec2(0.6280992,0.5489256);\nmed=vec2(0.05785124,0.03305785);\nfloat d12=sdEllipse(p-A,med); //mejilla\n\nA=vec2(0.7768595,0.5371901);\nmed=vec2(0.02479339,0.01652892);\nfloat d13=sdEllipse(p-A,med); //nariz\n\nA=vec2(0.7768595,0.5371901);\nmed=vec2(0.02079339,0.01452892);\nfloat d13a=sdEllipse(p-A,med); //nariz\n\n\nA=vec2(0.7768595,0.4991901);\nmed=vec2(0.0520661,0.0385124);\nfloat d13b=sdBox(p-A,med);\n\n\n\nA=vec2(0.7190083,0.5041322);\nr1=0.07438017;\nfloat d14=sdCircle(p-A,r1); //boca\n\nA=vec2(0.7190083,0.5041322);\nr1=0.07038017;\nfloat d14a=sdCircle(p-A,r1);\n\nA=vec2(0.7190083,0.5702479);\nmed=vec2(0.09917355,0.08264463);\nfloat d15=sdBox(p-A,med);\n\nfloat d101=Sdf_U(d3,d4);\nfloat d102=Sdf_U(d101,d5);\nfloat d103=Sdf_U(d1,d2);\n\nfloat d104=Sdf_D(d14,d15);\nd104=Sdf_D(d104,d14a);\nd104=abs(d104)-0.001;;\n\n\nfloat d105=Sdf_D(d13,d13b);\nd105=Sdf_D(d105,d13a);\nd105=abs(d105)-0.001;\nvec3 c0=vec3(0.0);\n\n//color de cada objeto\nvec3 c1= vec3(0.48658,0.67851,0.81071);\nvec3 c2= vec3(0.08132,0.4524,0.08209);\nvec3 c3= vec3(0.44477,0.73252,0.76208);\nvec3 c4= vec3(0.38079,0.07245,0.45663);\nvec3 c13= vec3(0.68981,0.67907,0.90221);\nvec3 c15= vec3(0.95449,0.0004,0.38736);\n\n\ncolout= DFB(c1,colout,d1);\ncolout= DFB(c2,colout,d2);\ncolout= DFB(c3,colout,d3);\ncolout= DFB(c4,colout,d4);\n\ncolout= DFB(vec3(0.93673,0.83012,0.68858), colout,d102);\ncolout= DFB(vec3(0.73782,0.93912,0.35404), colout,d103);\ncolout= DFB(vec3(0.80922,0.63847,0.28609), colout,d104); //boca\n\ncolout= DFB(c0,colout,d6);\ncolout= DFB(c0,colout,d7);\ncolout= DFB(c0,colout,d8);\ncolout= DFB(c0,colout,d9);\n\ncolout= DFB(c0,colout,d10); //ojo\ncolout= DFB(c0,colout,d11); //ojo\ncolout= DFS(c15,colout,d12); //mejilla\ncolout= DFB(c13,colout,d105);  //nariz\n    return colout;\n}\n\nvec3 ninaC(vec2 p, vec3 colout)\n{\nvec2 A,B, med,pr;\nfloat dfin;\nfloat  r1,ang, he ;\n\nA=vec2(0.3709677,0.5);\nmed=vec2(0.1895161,0.1733871);\nfloat d1=sdBox(p-A,med);\n\nA=vec2(0.3548387,0.1612903);\nB=vec2(0.5403226,0.3306452);\nfloat d2=sdSegment(p,A,B);\n\nA=vec2(0.5322581,0.1451613);\nB=vec2(0.5403226,0.3145161);\nfloat d3=sdSegment(p,A,B);\n\nA=vec2(0.2016129,0.3709677-0.025);\nmed=vec2(0.0483871,0.03225806);\nfloat d4=sdBox(p-A,med);\n\nA=vec2(0.233871,0.516129);\nr1=0.00806452;\nfloat d5=sdCircle(p-A,r1);\n\nA=vec2(0.5564516-0.22,0.5080645-0.210);\nmed=vec2(0.3580645/2.0,0.1532258+0.1);\nang=90.0 *PI/180.0;\npr = Rotate(p-A, med/2.0, ang);\nfloat d6=sdTriangleIsosceles(pr,med);//pelo rostro\n\nA=vec2(0.6854839-0.15,0.6693549);\nmed=vec2(0.266129/2.0,0.1693548);\nang=180.000 *PI/180.0;\npr = Rotate(p-A, med/2.0, ang);\nfloat d7=sdTriangleIsosceles(pr,med); //pelo 1\n\nA=vec2(0.8790323-0.175,0.5967742-0.12);\nmed=vec2(0.2177419/2.0,0.1129032);\nang=-270.0 *PI/180.0;\npr = Rotate(p-A, med/2.0, ang);\nfloat d8=sdTriangleIsosceles(pr,med); //pelo\n\nA=vec2(0.7580645-0.05,0.6774194);\nmed=vec2(0.108871,0.05645161);\nang=45.0*PI/180.0;\npr=Rotate(p-A,med/2.0,ang);\nfloat d9=sdBox(pr,med);  //pelo\n\nA=vec2(0.3790323-0.04,0.5685484+0.025);\nmed=vec2(0.02016129,0.1612903);\nhe=0.0766129;\nfloat d10= sdTrapezoid(p-A, med.x, med.y, he);\n\nA=vec2(0.5645161-0.025,0.5080645);\nmed=vec2(0.3306452/2.0,0.1612903);\nang=-90.0 *PI/180.0;\npr = Rotate(p-A, med/2.0, ang);\nfloat d11=sdTriangleIsosceles(pr,med);\n\nA=vec2(0.3306452,0.4435484);\nmed=vec2(0.05645161,0.02419355);\nfloat d12=sdEllipse(p-A,med);\n\n//codigo de operacion\nfloat d101=d2;\nfloat d102=d3;\nfloat d103=Sdf_D(d1,d4);\nfloat d104=d5;\nfloat d105=Sdf_U(d9,d8);\nfloat d106=Sdf_U(d105,d7);\nfloat d107=Sdf_U(d10,d11);\nd107=Sdf_U(d107,d6);\nd107=Sdf_U(d107,d106);\n\n\nfloat d108=d12;\n\nvec3 c0=vec3(0.0);\nvec3 c1=vec3(0.980,0.988,0.263);\nvec3 c2=vec3(0.918,0.510,0.514);\nvec3 c3=vec3(0.839,0.227,0.416);\nvec3 c4=vec3(0.9,0.1,0.16);\n\ncolout= DFB(c0, colout,d101);\ncolout= DFB(c0, colout,d102);\ncolout= DFB(c2, colout,d103); //rostro\ncolout= DFS(c0, colout,d104); //ojo\ncolout= DFB(c4, colout,d107); //pelo rostro\ncolout= DFS(c4, colout,d108);  //meilla\n\n    return colout;\n}\n\n\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{   vec2 uv = ( 2. * fragCoord - iResolution.xy ) / iResolution.y;\n    uv-=vec2(-1.7,-1.0);\n    float esc=0.75;\n    uv*=esc;\n    vec2 uv0=uv;\n    \n    vec3 col=vec3(0.0,0.76,0.2)*0.65-(uv.y*0.5-0.25);\n    \n    uv+=vec2( 0.15,-0.5);\n    col= ninoA(uv,col);\n    col= ninoB(uv-vec2(0.6,0.0),col);\n    col= ninaC(uv-vec2(1.5,0.0),col);\n    \n    int op=int( floor(3.0*fract(iTime*0.25)+1.0 ) );\n    if(op==1)\n    col= ninoA(uv-vec2(0.75,-0.8),col);\n    if(op==2)\n    col= ninoB(uv-vec2(0.75,-0.8),col);\n    if(op==3)\n    col= ninaC(uv-vec2(0.75,-0.8),col);\n    \n    // Vignette\n    col *= max(1.15 - length(uv-vec2(1.0+1.0*sin(iTime),0.5)), 0.0);\n    \n    col=pow(col,  vec3(0.554545));\n    fragColor = vec4(col,1.0);\n}\n","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"//iq\nfloat dot2( in vec2 v ) { return dot(v,v); }\nfloat dot2( in vec3 v ) { return dot(v,v); }\nfloat ndot( in vec2 a, in vec2 b ) { return a.x*b.x - a.y*b.y; }\n\n\n\nfloat sdEllipse( in vec2 p, in vec2 ab )\n{\n    p = abs(p); if( p.x > p.y ) {p=p.yx;ab=ab.yx;}\n    float l = ab.y*ab.y - ab.x*ab.x;\n    float m = ab.x*p.x/l;      float m2 = m*m; \n    float n = ab.y*p.y/l;      float n2 = n*n; \n    float c = (m2+n2-1.0)/3.0; float c3 = c*c*c;\n    float q = c3 + m2*n2*2.0;\n    float d = c3 + m2*n2;\n    float g = m + m*n2;\n    float co;\n    if( d<0.0 )\n    {\n        float h = acos(q/c3)/3.0;\n        float s = cos(h);\n        float t = sin(h)*sqrt(3.0);\n        float rx = sqrt( -c*(s + t + 2.0) + m2 );\n        float ry = sqrt( -c*(s - t + 2.0) + m2 );\n        co = (ry+sign(l)*rx+abs(g)/(rx*ry)- m)/2.0;\n    }\n    else\n    {\n        float h = 2.0*m*n*sqrt( d );\n        float s = sign(q+h)*pow(abs(q+h), 1.0/3.0);\n        float u = sign(q-h)*pow(abs(q-h), 1.0/3.0);\n        float rx = -s - u - c*4.0 + 2.0*m2;\n        float ry = (s - u)*sqrt(3.0);\n        float rm = sqrt( rx*rx + ry*ry );\n        co = (ry/sqrt(rm-rx)+2.0*g/rm-m)/2.0;\n    }\n    vec2 r = ab * vec2(co, sqrt(1.0-co*co));\n    return length(r-p) * sign(p.y-r.y);\n}\n\n","name":"Common","description":"","type":"common"}]}