{"ver":"0.1","info":{"id":"MclyWX","date":"1721703147","viewed":72,"name":"Agua suja","username":"Elsio","description":"Eu ainda n√£o sei dirigir","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["water","moon","river","tunel","lagoon","titanic","egito"],"hasliked":0,"parentid":"4fsczl","parentname":"Brejo"},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// https://www.shadertoy.com/view/dsKczW neve\n// https://www.shadertoy.com/view/ddKcRD titanic\n\n#define rot(a) mat2(cos(a + vec4(0, 11, 33, 0)))\n#define t iTime * .75\n\nvoid mainImage(out vec4 o, vec2 u) {    \n    vec2 r = iResolution.xy; \n         u = (u - r.xy / 2.) / r.y;\n            \n    o -= o;\n    vec3 D = normalize(vec3(u, 2)), f,\n         p = vec3(sin(t * .78) * 1. - 1.,cos(t) * .2, t * 2.),\n         k = p + vec3(cos(1.*t), sin(2.*t), sin(3.*t) * 2. + 7. + 10.) * .2;\n    \n    D.zy *= rot(sin(t) * .08);\n    D.zx *= rot(cos(t * .1) * .1);\n    \n    float i, j, e, d = 1., \n          agua, nivelDagua, pipes, \n          ball, teto, chao;\n    \n    while(i++ < 120. && d > .01){\n        \n        ball = length(p - k) - .1;\n        agua = abs(p.y + cos(t * 1.4) * .2 + .1) - .02;\n        chao = -abs(p.y - .4) + .8;     //teto = -p.y + .8;\n        pipes = length((mod(p, 2.) - 1.).zx) - .1;\n        nivelDagua = p.y + cos(t * 1.4) * .2 + .18;\n        \n        j = 1.;\n        e = 0.;\n        while(j < 512.)\n            j += j,\n            f = p * j * 3.,\n            f.y += cos(t) * j * .9, \n            f.yz *= rot(j),\n            e += abs(dot(sin(f), vec3(1))) / j;\n        \n        d = min(\n                min(ball, pipes),\n                min(\n                    agua, \n                    min(\n                        chao, \n                        max(.0, nivelDagua)\n                    )\n                ) + e * .09 \n            );\n        \n        p += d * D;\n    }\n    \n    j = 2.;\n    o += j / (length(p - k) - .1 + j);\n    \n    if(d > nivelDagua)\n        o.b *= (length(o.rg) * 1. + 1.) * .5,\n        o.rgb -= cos(t) * .2;\n    \n    o = o*o*o;\n}","name":"Image","description":"","type":"image"}]}