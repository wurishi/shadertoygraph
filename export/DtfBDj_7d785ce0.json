{"ver":"0.1","info":{"id":"DtfBDj","date":"1693430662","viewed":38,"name":"Taiwan Flag","username":"jt","description":"Codegolf anyone? BTW It's fine to reduce accuracy of constants / tweak the values to match the reference more closely.\nAdditional challenge: no trig functions (I can make a branch if someone insists on using trig functions).\nKeep sqrt(2) instead of 1.4142","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["flag","codegolf","taiwan"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// references:\n// https://www.britannica.com/topic/flag-of-Taiwan\n// https://en.wikipedia.org/wiki/List_of_aspect_ratios_of_national_flags\n\n#define t(a,b) smoothstep(a-.01,a+.01,b)\n#define r(p) t(.2, .9 * p.y + .23 * p.x)\n#define q(x,y) reflect(abs(x),y)\n#define s(p) max(1.-t(.03, abs(length(p)-0.48)), r(abs(reflect(q(q(q(p, c), d), c), d))))\n\nvoid mainImage(out vec4 o, vec2 I)\n{\n    float a = sqrt(2.), b = sqrt(.375);\n    vec2 R = iResolution.xy, c = sqrt(.5+.5/vec2(a, -a)), d = b + vec2(a, -a)/4.;\n    //vec2 R = iResolution.xy, f = vec2(1,-1), c = sqrt(.5+.5*f/a), d = b + f*a/4.; // ??? is initialization order left-to-right ???\n    vec4 e = vec4(0,5,-9,6)/5.;\n    I = 2.4 * (2. * I - R) / R.y;\n    o = mix(e.yyyy, mix(mix(e.yxxy, e.xxyy, t(0., min(-I.x, I.y))), e.xxxy, t(3.6, abs(I.x))), s(I - e.zw));\n}\n\n/*\nfloat r(vec2 p)\n{\n    return smoothstep(.195, .205, .9 * abs(p.y) + .23 * p.x);\n}\n\nfloat s(vec2 p)\n{\n    float c = sqrt(2.), b = sqrt(.75);\n    vec2 d = vec2(sqrt(2. + c), sqrt(2. - c))/2., e = vec2(b + .5, b - .5)/c;\n    return min(smoothstep(.445, .455, length(p)), max(1.-smoothstep(.495, .505, length(p)), r(reflect(reflect(abs(reflect(abs(reflect(abs(p), d)), e)), d), e))));\n}\n\nvoid mainImage(out vec4 c, vec2 I)\n{\n    vec4 d = vec4(0,5,-9,6)/5.;\n    vec2 R = iResolution.xy;\n    I = 2.4 * (2. * I - R) / R.y;\n    c = mix(d.yyyy, mix(d.xxxy, mix(d.yxxy, d.xxyy, step(0., min(-I.x, I.y))), step(abs(I.x), 3.6)), s(I - d.zw));\n}\n*/\n","name":"Image","description":"","type":"image"}]}