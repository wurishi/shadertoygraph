{"ver":"0.1","info":{"id":"4dsBWn","date":"1495667702","viewed":104,"name":"cosmic tripping","username":"kalin","description":"cosmic trip","likes":1,"published":1,"flags":64,"usePreview":0,"tags":["cosmictrip"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"Xdf3zn","filepath":"/media/a/85a6d68622b36995ccb98a89bbb119edf167c914660e4450d313de049320005c.png","previewfilepath":"/media/ap/85a6d68622b36995ccb98a89bbb119edf167c914660e4450d313de049320005c.png","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"MssXz7","filepath":"https://soundcloud.com/emeenz/psychout-67","previewfilepath":"https://soundcloud.com/emeenz/psychout-67","type":"musicstream","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":0}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec3 col(float r, float g, float b) { return vec3(r / 255.0, g / 255.0, b / 255.0); }\nvec3 col(int r, int g, int b) { return vec3(float(r) / 255.0, float(g) / 255.0, float(b) / 255.0); }\n\nvec3 hsv2rgb(vec3 c)\n{\n    vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n    vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n    return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    vec2 nuv = uv * 2.0 - 1.0;\n    float bpm = 95.1;\n    float t = iTime;\n\tfloat bt = t * 1.0 / 60.0 * 95.1;\n    float pi = 3.1415926535;\n    float st = sin(t);\n    \n    float r = sqrt(nuv.x * nuv.x + nuv.y * nuv.y);\n    float theta = atan(nuv.y, nuv.x);\n\n    vec3 col0 = col(161, 243, 114);\n    vec3 col1 = col(223, 153, 179);\n    vec3 col2 = col(116, 100, 206);\n    vec3 col3 = col(52, 118, 245);\n    vec3 col4 = col(231, 179, 141);\n    vec3 col5 = col(255, 255, 255);\n    \n    float w0 = abs(sin(theta * 1.0 + (bt + 0.0) * 1.0)) / pi;\n    float w1 = abs(sin(theta * 1.0 + (bt + 2.0) * 1.1)) / pi;\n    float w2 = abs(sin(theta * 2.0 + (bt + 4.0) * 1.2)) / pi;\n    float w3 = abs(sin(theta * 4.0 + (bt + 6.0) * 1.3)) / pi;\n    float w4 = abs(sin(theta * 4.0 + (bt + 8.0) * 1.4)) / pi;\n    float w5 = abs(sin(theta * 3.0 + bt));\n    \n    w5 = step(w5, 0.15);\n\n    fragColor.xyz = col0 * 0.2;\n    fragColor.xyz += col0 * w0;\n    fragColor.xyz += col1 * w1;\n    fragColor.xyz += col2 * w2;\n    fragColor.xyz += col3 * w3;\n    fragColor.xyz += col4 * w4;\n        \n    float fft = texture(iChannel0, vec2(0.25, 0.2)).x;\n    float beat = pow(fft, 3.5);\n    \n    float hue = theta / pi + fract(bt * 0.3) + 0.01 * beat;\n    float sat = 0.4 + 0.3 * beat;\n    float val = 1.0 + 0.5 * beat;\n\n    \n    fragColor.xyz = hsv2rgb(vec3(hue, sat, val));\n    fragColor.xyz = mix(fragColor.xyz, vec3(1,1,1), step(0.99 - 0.1 * beat, pow(sin(theta * 3.0 + bt), 4.0)));\n    \n    float wave0 = sin(bt);\n    float wave1 = sin(bt * 0.2);\n    \n    vec2 wavehead = vec2(sin(bt * 0.75) * 0.01, sin(bt * 0.25) * 0.03);\n    vec2 wavebody = vec2(sin(bt * 1.25 + 2.0) * 0.01, sin(bt * 1.25 + 2.0) * 0.05);\n    vec2 wavebody2 = vec2(sin(bt * 1.25 + 3.0) * 0.01, sin(bt * 1.25 + 3.0) * 0.05);\n\n    \n    float shead = 1.0 - step(0.2, pow(length(nuv * vec2(0.8, 0.9) + wavehead), 1.03));\n    float sbody = 1.0 - step(0.2, pow(length(nuv * vec2(1.1, 1.3) + wavebody), 1.35));\n    float sbody2 = 1.0 - step(0.2, pow(length(nuv * vec2(1.1, 1.3) + wavebody2), 1.6));\n    float smouth = 1.0 - step(0.1, length(nuv * vec2(0.8, 1.5) + vec2(0.0, +0.05) + wavehead));\n    float shandl = 1.0 - step(0.1, length(nuv * vec2(0.9, 1.0) + vec2(-0.4, 0.1) + wavebody));\n\tfloat shandr = 1.0 - step(0.1, length(nuv * vec2(0.9, 1.0) + vec2(+0.4, 0.1) + wavebody));\n    float seyel = 1.0 - step(0.03, length(nuv * vec2(1.0, 1.0) + vec2(-0.175, -0.02) + wavehead));\n\tfloat seyer = 1.0 - step(0.03, length(nuv * vec2(1.0, 1.0) + vec2(+0.175, -0.02) + wavehead));\n    float seye2l = 1.0 - step(0.03, length(nuv * vec2(1.0, 3.75) + vec2(-0.175, -0.09) + wavehead + wavebody));\n    float seye2r = 1.0 - step(0.03, length(nuv * vec2(1.0, 3.75) + vec2(+0.175, -0.09) + wavehead));\n    \n    vec3 swirl = fragColor.xyz;\n    \n    vec3 botwhite = col(240, 220, 200);\n    vec3 botwhiteface = col(255, 240, 220);\n    vec3 botorange = col(254, 122, 35);\n    vec3 botmouth = botwhite * 0.25 + botwhite * pow(texture(iChannel1, uv * 32.0 + sin(bt) * 0.5).x, 3.0);\n    vec3 boteye = col(32, 32, 32);\n    vec3 boteye2 = col(17, 234, 217);\n\n    fragColor.xyz = mix(fragColor.xyz, botwhite, sbody2);\n    fragColor.xyz = mix(fragColor.xyz, botorange, sbody);\n    fragColor.xyz = mix(fragColor.xyz, botwhiteface, shead);\n\tfragColor.xyz = mix(fragColor.xyz, botmouth, smouth);\n    fragColor.xyz = mix(fragColor.xyz, botorange, shandl);\n\tfragColor.xyz = mix(fragColor.xyz, botorange, shandr);\n\tfragColor.xyz = mix(fragColor.xyz, boteye, seyel);\n\tfragColor.xyz = mix(fragColor.xyz, boteye, seyer);\n\tfragColor.xyz = mix(fragColor.xyz, boteye2, seye2l);\n\tfragColor.xyz = mix(fragColor.xyz, boteye2, seye2r);\n\n}","name":"Image","description":"","type":"image"}]}