{"ver":"0.1","info":{"id":"wsdXWf","date":"1573072848","viewed":123,"name":"Flower Kaleidoscope","username":"gbunny","description":"Floral experiment.\nMouse around for extra kaleidoscope-y interaction","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["flower","kaleidoscope"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#ifdef GL_ES\nprecision mediump float;\n#endif\n#define PI 3.14159265359\n\nuniform vec2 u_resolution;\nuniform float u_time;\n\nvec3 Flower(vec2 st, vec3 color, float petalsCount){\n    float pct = 0.0;\n    st-= .5; //centering\n    float radius = length(st) * 3.5;\n    float a = atan(st.y,st.x);\n    float f= abs(cos(a*.5*petalsCount))+.4;\n    vec3 temp = vec3(1. - smoothstep(f,radius, .9));\n    temp += color;\n    return temp;\n}\n\nvec2 rotate2D(vec2 _st, float _angle){\n    _st =  mat2(cos(_angle),-sin(_angle),\n                sin(_angle),cos(_angle)) * _st;\n    return _st;\n}\n\nfloat proceduralSplatter(vec2 st, float radius, float numCircles){\n    float pct = 0.;\n    st.x -= .5;\n    for (float i = 1.; i < numCircles; i++){\n        st.y -=(.3/ (i+1.));\n        pct +=smoothstep(radius * 1./i, radius * 1./i - .1, length(st));\n    }\n    return pct;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord) {\n    float time = iTime;\n    vec2 st = fragCoord.xy/iResolution.xy;\n    float aspect = iResolution.x/iResolution.y;\n    st.x *= aspect;\n    vec3 color = Flower(st, vec3(0.58,0.42,1.00), 5.);\n    color = mix(color, Flower(rotate2D(st, PI * -.1), vec3(1.00,0.53,0.39), 7.), cos(time / 2.));\n    st += rotate2D(st,iMouse.y /100.);\n    color = mix(color, Flower(rotate2D(st, PI * .1), vec3(0.70,1.00,0.73), 8.), sin(time));\n    st += rotate2D(st, iMouse.x /50.);\n    color = mix(color, Flower(rotate2D(st, PI * -.1), vec3(0.61,0.05,0.05), 6.), cos(time / 4.));\n    color = mix(color, Flower(rotate2D(st, PI * .5), vec3(0.00,0.85,0.85), 5.), sin(time / 4.));\n\n    fragColor = vec4(color,1.0);\n}\n","name":"Image","description":"","type":"image"}]}