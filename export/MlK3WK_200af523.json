{"ver":"0.1","info":{"id":"MlK3WK","date":"1476903076","viewed":253,"name":"Epilepsy on LSD","username":"indivisual","description":"copy of https://www.shadertoy.com/view/XtVGDy\nsupplemented by displacement of a background material","likes":6,"published":1,"flags":0,"usePreview":0,"tags":["displacement"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sX3Rn","filepath":"/media/a/c3a071ecf273428bc72fc72b2dd972671de8da420a2d4f917b75d20e1c24b34c.ogv","previewfilepath":"/media/ap/c3a071ecf273428bc72fc72b2dd972671de8da420a2d4f917b75d20e1c24b34c.ogv","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//copy of https://www.shadertoy.com/view/XtVGDy\n//supplemented by displacement of a background material\n\nfloat map( vec3 p )\n{\n    float amp = texture( iChannel2, vec2( 0.01, 0.002 ) ).x * 1.0;\n    vec3 q = fract( p ) * 2.0 - 1.0;\n    return length( q ) - 0.7;\n}\n\nfloat trace (vec3 o, vec3 r)\n{\n    float amp = sin(iTime);\n    // for use with audio try:\n    //float amp = texture( iChannel2, vec2( 0.1, 0.0 ) ).x * 2.0;\n    float t = 0.0;\n    for ( int i = 0; i < 158; ++i ) {\n        vec3 p = o + r *( 2.3 * amp );\n        float d = map( p );\n        t += d * 0.5;\n         }\n         return t;\n        \n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\t\n    vec2 R = iResolution.xy;\n    \n    vec2 uv = fragCoord / R;\n   \n    uv = (2.0 * fragCoord - R) / R.y; \n    \n    uv.x *= R.x / R.y; \n    \n    vec3 r = normalize( vec3 ( uv, 1.0 ) ); \n    \n    float the = iTime * 0.2;\n    \n    r.xz *= mat2( cos( the ), -sin( the ), sin( the ), cos( the ) );\n    \n    vec3 o = vec3( 0.0, 0.0, iTime );\n    \n    float t = trace( o, r ); \n    \n    float fog = 3.0 / ( 1.0 + t * t * 0.1 );\n    \n    vec3 fc = vec3( fog );\n    \n    if (t > 05.) {\n    vec4 color = texture(iChannel0, (fragCoord / iResolution.xy)+fog);\n    \n    fragColor = color;\n        //fragColor = vec4( fc, 1.0 );\n\n    } else {\n        fragColor = texture(iChannel0, fragCoord / iResolution.xy);\n    }\n}","name":"Image","description":"","type":"image"}]}