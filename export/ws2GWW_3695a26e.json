{"ver":"0.1","info":{"id":"ws2GWW","date":"1548944113","viewed":234,"name":"Venn diagrams (SDF)","username":"saidwho12","description":"Visual representation of simple logical operands.","likes":10,"published":1,"flags":0,"usePreview":0,"tags":["2d","sdf","text","xor","not","diagram","and","logic","or","venn"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGzr","filepath":"/media/a/08b42b43ae9d3c0605da11d0eac86618ea888e62cdd9518ee8b9097488b31560.png","previewfilepath":"/media/ap/08b42b43ae9d3c0605da11d0eac86618ea888e62cdd9518ee8b9097488b31560.png","type":"texture","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define R0 .23\n\n// change to 0 for FabriceNeyret2's version\n#if 1\n#define AND(A,B) max(A,B)\n#define NOT(A,B) max(A,-B)\n#define OR(A,B) min(A,B)\n\n#define XOR(A,B) OR(NOT(A,B),NOT(B,A))\n//#define XOR(a,b) NOT(AND(a,b),OR(a,b))\n\n#define D(c, o){\\\n\tfloat a;\\\n    for(int i = -1; ++i < N; a = float(i+1)/float(N)*6.28,\\\n    a = length(c-vec2(sin(a),cos(a))*R0*.5)-R0,\\\n    t = (i == 0) ? a : o(t, a));\\\n    O = t<=0. ? vec4(1,0,0,0) : O;\\\n    O *= smoothstep(0., 3./R.y, abs(t)-1e-3);\\\n\t}\n\n#else\n#define OR(A,B) (A+B-A*B)\n#define AND(A,B) ((A)*(B))\n#define NOT1(A) (1.-A)\n#define NOT(A,B) AND(A,NOT1(B))\n\n#define XOR(A,B) AND(OR(A,B),NOT1(AND(A,B)))\n//#define XOR(A,B) NOT(OR(A,B),AND(A,B))\n\n#define D(c, o){\\\n\tfloat a;\\\n    for(int i = -1; ++i < N; a = float(i+1)/float(N)*6.28,\\\n    a = clamp(1.-length(c-vec2(sin(a),cos(a))*R0*.5)/R0,0.,1.),\\\n    /*a = pow(a,.25),*/\\\n    /*a = smoothstep(0.,3./R0/R.y,a),*/\\\n    t = (i == 0) ? a : o(t, a));\\\n    O = mix(O, vec4(1,0,0,0), t);\\\n\t}\n\n#endif\n\n#define C(c,x) texture(iChannel0, clamp(c,0.,1.)/16. + vec2(x%16,(255-x)/16)/16.)\n#define L(c,x) (1.-C(c,x).r)\n\nconst int   A_ = 65,\n            D_ = 68,\n            N_ = 78,\n            O_ = 79,\n            R_ = 82,\n            T_ = 84,\n            X_ = 88;\n\n#define W(a, b) {\\\n\tvec2 v = 8.*(a);\\\n    int l = b.length();\\\n    for(int i = 0; i < l; i++, v.x-=.5) O *= L(v+vec2(.25*float(l+1),0), b[i]);}\n\nvoid mainImage( out vec4 O, in vec2 u ) {\n    O -= O++; // Clear garbage memory\n    vec2 R = iResolution.xy, p = (u+u-R)/R.y;\n\tfloat t = 1e3;\n    int N = 2 + int(iMouse.z > 0. ? iMouse.x/R.x*8. : mod(iTime,4.));\n    \n    D(p-vec2(-.5), OR)\n    D(p-vec2(.5,-.5), NOT)\n    D(p-vec2(-.5,.5), AND)\n    D(p-vec2(.5), XOR)\n        \n    W(p-vec2(-.5,-1), int[](O_,R_))\n    W(p-vec2(.5,-1), int[](N_,O_,T_))\n    W(p-vec2(-.5,0), int[](A_,N_,D_))\n    W(p-vec2(.5,0), int[](X_,O_,R_))\n}","name":"Image","description":"","type":"image"}]}