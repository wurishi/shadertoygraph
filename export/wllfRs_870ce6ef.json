{"ver":"0.1","info":{"id":"wllfRs","date":"1597522550","viewed":95,"name":"My First Mandelbrot :P","username":"dub","description":"Quick mandelbrot","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["mandelbrot"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// reference:\n// https://en.wikipedia.org/wiki/Mandelbrot_set\n\n#define PI 3.1415926538\n#define PI2 PI/2.0\n\n#define MAX_ITER 100.\n\n// from: http://www.chilliant.com/rgb2hsv.html\nvec3 HUEtoRGB(in float H)\n{\n    float R = abs(H * 6.0 - 3.0) - 1.0;\n    float G = 2.0 - abs(H * 6.0 - 2.0);\n    float B = 2.0 - abs(H * 6.0 - 4.0);\n    return clamp(vec3(R,G,B), 0.0, 1.0);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float aspect = iResolution.x / iResolution.y;\n    vec2 uv = fragCoord/iResolution.y;\n    uv *= 2.0; // transform to [-1, 1] y domain\n    uv -= vec2(aspect, 1.0); // center on screen\n    // uv /= exp2(iTime);\n    uv /= exp2(sin(iTime*PI2/18.0-PI2)*9.0+9.0); // this is as far as our precision goes\n    \n    // interesting point\n    // https://commons.wikimedia.org/wiki/File:Fractal-zoom-1-03-Mandelbrot_Buzzsaw.ogv\n   \tuv += vec2(0.001643721971153, -0.822467633298876);\n    \n    // z = 0\n    vec2 xy = vec2(0.);\n    \n    float i = 0.;\n\tvec2 sq_xy = vec2(0.);\n    for (;i < MAX_ITER; i++)\n    {\n        // |z| <= 2\n        if(sq_xy.x + sq_xy.y > 2.0*2.0)\n            break;\n\n        // z^2 + c = x^2 + 2ixy -y^2 + cx + icy\n        xy = vec2(sq_xy.x - sq_xy.y, 2.0*xy.x*xy.y) + uv;\n    \tsq_xy = xy*xy;\n    }\n    /*\n    for (;dot(xy, xy) <= 2.0*2.0 && i < MAX_ITER; i++)\n        // z^2 + c = x^2 + 2ixy -y^2 + cx + icy\n        xy = vec2(xy.x*xy.x - xy.y*xy.y, 2.0*xy.x*xy.y) + uv;\n\t*/\n    \n    //nsmooth := n + 1 - Math.log(Math.log(zn.abs()))/Math.log(2)\n        \n    //vec3 col = (i < MAX_ITER) ? HUEtoRGB(i/MAX_ITER) : vec3(0.);\n    vec3 col = (i < MAX_ITER) ? HUEtoRGB((i + 1. - log2(log(i)))/MAX_ITER) : vec3(0.);\n    \n    fragColor.rgb = col;\n}","name":"Image","description":"","type":"image"}]}