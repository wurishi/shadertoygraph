{"ver":"0.1","info":{"id":"sddfD8","date":"1656437376","viewed":56,"name":"Буратино, практика 2022","username":"solobay","description":"Задание 3, день 2","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["2022"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"    bool circle(vec2 p, vec2 c, float r)\n    {\n           float scaleY = iResolution.y / iResolution.x;\n             return (p.x - c.x) * (p.x - c.x) + (p.y   - c.y) * (p.y - c.y) * (scaleY * scaleY) < r*r; \n    }\n    bool ellips(vec2 p, vec2 c, float r, float a, float b)\n    {\n         float t = iResolution.y / iResolution.x;\n           return (p.x-c.x)*(p.x-c.x)*0.5/(a*a) + (p.y-c.y)*(p.y-c.y)*0.5*(t*t)/(b*b) < r*r; \n    }\n\n    float calculate(vec2 a, vec2 b, vec2 p)\n    {\n             return (p.x-a.x)*(b.y-a.y) - (p.y-a.y)*(b.x-a.x);\n    }\n \n        bool isOnOneSide(vec2 a, vec2 b, vec2 c, vec2 p) \n        {\n                return calculate(a, b, c)*calculate(a, b, p) >= 0.0;\n        }\n\n            bool triangle(vec2 a, vec2 b, vec2 c, vec2 p)\n            {\n                     return  isOnOneSide(a, b, c, p) && isOnOneSide(b, c, a, p) && isOnOneSide(c, a, b, p);\n            }\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 crd = fragCoord/iResolution.xy;\n     crd = crd - vec2(0.5);\n      float x = crd.x;\n      float y = crd.y;\n    fragColor = vec4(0.4, 0.32, 0.3, 0.1);\n    vec4 body = vec4(1.0, 0.7, 0.4, 1.0); //цвет тела\n        \n       //голова\n       if(circle(vec2(x,y), vec2(0.0, -0.1), 0.15))\n         fragColor = body;\n         \n       //румянец\n       if(circle(vec2(x,y), vec2(0.001, -0.18), 0.035))\n        fragColor = vec4(1.0, 0.3, 0.4, 0.4);    \n        \n       //нос\n       if(triangle(vec2(0.3, -0.1), vec2(0.1, -0.15), vec2(0.1, -0.05), vec2(x, y)))\n        fragColor = body;\n         \n       //глаз  \n       if(circle(vec2(x,y), vec2(0.053, -0.04), 0.02))\n         fragColor = vec4(0., 0, 0., 1.0);\n         \n       if(circle(vec2(x,y), vec2(0.05, -0.02), 0.021))\n         fragColor = body;\n         \n       //шляпа \n       if(ellips(vec2(x,y), vec2(0.002, 0.12), 0.09, 1.3, 0.3))\n         fragColor = vec4(1.0, 0.9, 0.3, 1.0);\n         \n       if(triangle(vec2(0.0, 0.4), vec2(-0.1, 0.17), vec2(0.1, 0.17), vec2(x, y)))\n         fragColor = vec4(1.0, 0.9, 0.3, 1.0); \n         \n       if(circle(vec2(x,y), vec2(0.0, 0.4), 0.025))\n        fragColor = vec4(1.0, 1.0, 1.0, 1.0);         \n         \n       //рот\n       if(triangle(vec2(0.14, -0.22), vec2(0.062, -0.22), vec2(0.12, -0.266), vec2(x, y)))\n        fragColor = vec4(0.0, 0.0, 0.0, 1.0);\n        \n}","name":"Image","description":"","type":"image"}]}