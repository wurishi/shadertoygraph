{"ver":"0.1","info":{"id":"XlKyzW","date":"1536900135","viewed":1799,"name":"Noise Fire","username":"runouw","description":"A simple fire effect made with noise","likes":42,"published":1,"flags":0,"usePreview":0,"tags":["fire"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sf3Rn","filepath":"/media/a/0a40562379b63dfb89227e6d172f39fdce9022cba76623f1054a2c83d6c0ba5d.png","previewfilepath":"/media/ap/0a40562379b63dfb89227e6d172f39fdce9022cba76623f1054a2c83d6c0ba5d.png","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float fbm(vec2 at) {\n    float s = sin(0.45);\n    float c = cos(0.45);\n    mat2 r = mat2(vec2(s, c), vec2(-c, s));\n    \n    float f = 0.0;\n    float amp = 1.0;\n    for (int i = 0; i < 5; i++) {\n        f += amp * texture(iChannel0, at).r;\n        \n        at *= 2.0;\n        at = r * at;\n        \n        amp *= 0.5;\n    }\n    return f;\n}\n\nfloat fbm_lowres(vec2 at) {\n    float s = sin(0.45);\n    float c = cos(0.45);\n    mat2 r = mat2(vec2(s, c), vec2(-c, s));\n    \n    float f = 0.0;\n    float amp = 1.0;\n    for (int i = 0; i < 3; i++) {\n        f += amp * texture(iChannel0, at).r;\n        \n        at *= 2.0;\n        at = r * at;\n        \n        amp *= 0.6;\n    }\n    return f;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    \n    uv.x *= 2.5;\n    \n    uv.x += sin(uv.y * 14.0) * 0.01;\n    \n    uv.y -= 0.5;\n    \n    vec2 off = vec2(0.004, -0.04) * iTime * sign(uv.y);\n    \n    float distX = fbm_lowres(uv * 0.05 + iTime * 0.01);\n    float distY = fbm_lowres(uv * 0.05 + iTime * 0.01 + 50.0);\n    vec2 distortion = (vec2(distX, distY * 0.7) - 0.5) * 0.005;\n    \n    float bottom = pow(abs(1.0 - uv.y), 1.3);\n    \n    float f = fbm(uv * 0.03 + off * 0.5 + distortion * bottom);\n    f += fbm(uv * 0.03 + off) * 0.2;;\n    \n    f -= pow(abs(uv.y), 0.4);\n    f = max(f, 0.0);\n    \n    float deg0 = pow(f - 0.1, 28.0);\n    float deg1 = pow(f - 0.05, 12.0);\n    float deg2 = pow(f, 1.7);\n    \n    deg2 -= deg1;\n    deg1 -= deg0;\n    \n    vec3 col = vec3(0.9, 0.8, 0.7) * deg0;\n    col += vec3(0.7, 0.6, 0.2) * deg1;\n    col += vec3(0.5, 0.5, 0.5) * deg2;\n    \n    col.rgb += vec3(1.0, 0.9, 0.7) * pow((1.0 - abs(uv.y)), 24.0);\n    \n    // Output to screen\n    fragColor = vec4(col, 1.0);\n}","name":"Image","description":"","type":"image"}]}