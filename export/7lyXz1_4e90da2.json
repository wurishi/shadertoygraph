{"ver":"0.1","info":{"id":"7lyXz1","date":"1643371375","viewed":236,"name":"noise pixel drawer","username":"Carandiru","description":"this is an interesting find. the blue-noise stops the expansion of free space. draw away with the mouse!","likes":2,"published":3,"flags":32,"usePreview":0,"tags":["pixel","automata","cellular"],"hasliked":0,"parentid":"tddfR8","parentname":"Design with Cellular Automata"},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    fragColor = texture(iChannel0, fragCoord / iResolution.xy);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"nearest","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":2,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsBSR3","filepath":"/media/a/cb49c003b454385aa9975733aff4571c62182ccdda480aaba9a8d250014f00ec.png","previewfilepath":"/media/ap/cb49c003b454385aa9975733aff4571c62182ccdda480aaba9a8d250014f00ec.png","type":"texture","channel":1,"sampler":{"filter":"nearest","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"#define CA_RESIST        1024.0 // higher = less change can be made to CA (armor)\n#define CA_AGGRESSION    0.1 // higher = CA changes faster. (memory of itself)\n\n\nfloat bn(in vec2 uv)\n{\n    return textureLod(iChannel1, (uv * iResolution.xy) / 1024.0f, 0.0f).r;\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n\n    vec2 uv = fragCoord/iResolution.xy;\n    float g = 0.0f;\n    \n    float fN = 0.0f;\n    int iN = 0;\n    \n    for (int i=-1; i < 2; i++) {\n        for (int j=-1; j < 2; j++) {\n            \n            vec2 cuv = (fragCoord + vec2(i, j)) / iResolution.xy;\n            float state = textureLod(iChannel0, cuv, 0.0).r;\n            fN += state;\n            iN += int(floor(state + 0.5f));\n            \n            g += state * bn(uv);\n        }\n    }\n\n    vec3 psuedoMouse = textureLod(iChannel2, uv, 0.0f).rgb;\n    \n    float selfState = textureLod(iChannel0, uv, 0.0).r * CA_AGGRESSION;\n    \n    if (iN <= 3) {\n        selfState -= 0.5f;\n    }\n    else {\n        selfState += 0.75f;\n    }\n    \n    if (fN <= 3.0f) {\n        selfState = 0.5f; // ground level\n        selfState *= bn(uv);\n    }\n    else {\n        selfState += (abs(g-fN)/CA_RESIST);\n    }\n    \n    vec2 mouse = iMouse.xy;\n    bool moused = bool((iMouse.z * iTimeDelta) >= 0.5f);\n    \n    if (!moused) {\n        mouse = psuedoMouse.xy * iResolution.xy;\n    }\n    \n    if (length(mouse - fragCoord) < (iTime)) {\n        ++selfState;\n    }\n\n    fragColor = vec4(vec3(selfState), 1.0);\n}","name":"Buffer A","description":"","type":"buffer"},{"inputs":[],"outputs":[{"id":"XsXGR8","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = 2.0f * fragCoord / iResolution.xy - 1.0f;\n    \n    float t = iTime * 3.0f;\n    \n    vec2 ruv = uv + 0.5f;\n    ruv = ruv + vec2(cos(t), -sin(t));\n    ruv = ruv - 0.5f;\n    \n    ruv = normalize(ruv);\n    \n    float c = dot(ruv, uv);\n    c = c * 0.5f + 0.5f;\n    \n    ruv = ruv * 0.5f + 0.5f;\n        \n    fragColor = vec4(ruv,c,0.0);\n}","name":"Buffer B","description":"","type":"buffer"}]}