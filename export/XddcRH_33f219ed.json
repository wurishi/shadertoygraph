{"ver":"0.1","info":{"id":"XddcRH","date":"1517954427","viewed":199,"name":"Metaball Animation","username":"salaark","description":"2D metaballs forming a rotating paw shape with smooth transitions.","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["metaball","ink","paw"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define M_PI 3.14159265358979\n\nfloat smin( float a, float b, float k ) {\n\tfloat h = clamp( 0.5 + 0.5*(b-a)/k, 0.0, 1.0 );\n\treturn mix( b, a, h ) - k*h*(1.0-h);\n}\n\nvec3 blob(vec2 pos, float offset) {\n    vec2 center = (pos-(iResolution.xy/2.0))/2.0;\n    return vec3(pos.x+sin(-iTime*2.0+offset*M_PI)*center.x*2.0, pos.y+sin(-iTime*2.0+offset*M_PI)*center.y*2.0, 20.0);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Pixel coordinates and origin point\n    vec2 uv = fragCoord;\n    vec2 origin = iResolution.xy/2.0;\n\n    // Position and time offset of blobs\n    vec3 center = vec3(origin, 40.0);\n    vec3 meta1 = blob(origin+vec2(50,0), 0.0);\n    vec3 meta2 = blob(origin+vec2(42.04,42.04), 0.25);\n    vec3 meta3 = blob(origin+vec2(0,50), 0.5);\n    vec3 meta4 = blob(origin+vec2(-42.04,42.04), 0.75);\n    vec3 meta5 = blob(origin+vec2(-50,0), 1.0);\n    vec3 meta6 = blob(origin+vec2(-42.04,-42.04), 1.25);\n    vec3 meta7 = blob(origin+vec2(0,-50), 1.5);\n    vec3 meta8 = blob(origin+vec2(42.04,-42.04), 1.75);\n\n    vec3 metaballs[9] = vec3[9]( center, meta1, meta2, meta3, meta4,\n                                 meta5, meta6, meta7, meta8);\n    \n    // Pixel color based on smin distance to metaballs\n    vec3 col = vec3(1);\n    float sticky = 40.0;\n    float total = smin(distance(center.xy, uv)-center.z, distance(meta1.xy, uv)-meta1.z, sticky);\n    for(int i = 2; i < metaballs.length(); i++) {\n        total = smin(total, distance(metaballs[i].xy, uv)-metaballs[i].z, sticky);\n    }\n    if(total <= 0.0){\n        col = vec3(0);\n    }\n\n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}