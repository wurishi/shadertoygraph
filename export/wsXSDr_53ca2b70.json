{"ver":"0.1","info":{"id":"wsXSDr","date":"1551046505","viewed":118,"name":"shape antialias","username":"feiss","description":"basic antialiasing example using fwidth. Right == no aa.","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["antialias","derivatives","aa"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define BORDER 0.08\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n\t\n    // get shape distant field\n    float shape = (uv.x - 0.2) + uv.y*0.4;\n    \n    // calculate Antialias width\n    float AA = fwidth(shape) * 2.0;\n    \n    if (uv.x>0.5) AA = 0.0;\n    \n    // draw shape using smoothsteps\n    float col = smoothstep(0.5 - BORDER - AA, 0.5 - BORDER, shape);\n\tcol -= smoothstep(0.5 + BORDER, 0.5 +  BORDER + AA, shape);\n    \n    vec3 c = vec3(col);\n    if(abs(uv.x - 0.5) < 1.0/iResolution.x) c = vec3(1.0, 0.0, 0.0);\n    \n    fragColor = vec4(c,1.0);\n}","name":"Image","description":"","type":"image"}]}