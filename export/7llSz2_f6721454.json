{"ver":"0.1","info":{"id":"7llSz2","date":"1626121359","viewed":166,"name":"AntiPod - Gay Crush","username":"Flopine","description":"A shader made as a loop for a track from ThronoCrigger, check out his album!!! \nhttps://thronocrigger.bandcamp.com/track/gay-crush","likes":6,"published":1,"flags":0,"usePreview":0,"tags":["2d","palette","animation","rainbow","pattern","hexagons","mograph"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Code by Flopine\n\n// Thanks to wsmind, leon, XT95, lsdlive, lamogui, \n// Coyhot, Alkama,YX, NuSan, slerpy, wwrighter \n// BigWings and FabriceNeyret for teaching me\n\n// Thanks LJ for giving me the spark :3\n\n// Thanks to the Cookie Collective, which build a cozy and safe environment for me \n// and other to sprout :)  \n// https://twitter.com/CookieDemoparty\n\n\n#define PI acos(-1.)\n#define TAU 6.283185\n#define hr vec2(1.,sqrt(3.))\n\n#define BPM (125./60.)\n#define dt(sp,off) fract((iTime+off)*sp)\n#define sw(sp,off,num) (floor(sin(dt(sp,off)*PI)*num))\n\n#define rot(a) mat2(cos(a),sin(a),-sin(a),cos(a))\n#define palette(t,c,d,a) (vec3(a)+vec3(0.5)*cos(TAU*(c*t+d)))\n#define AAstep(thre, val) smoothstep(-.7,.7,(val-thre)/min(0.07,fwidth(val-thre)))\n\nvoid moda (inout vec2 p, float rep)\n{\n    float per = TAU/rep;\n    float a = mod(atan(p.y,p.x),per)-per*.5;\n    p = vec2(cos(a),sin(a))*length(p);\n}\n\nvoid mo (inout vec2 p, vec2 d)\n{p = abs(p)-d;if(p.y>p.x)p=p.yx;}\n\nvec3 frame (vec2 uv)\n{\n    vec2 ga=mod(uv,hr)-hr*.5,\n    gb=mod(uv-hr*.5,hr)-hr*.5,\n    guv=(dot(ga,ga)<dot(gb,gb))?ga:gb,\n    gid=uv-guv;\n    \n    float h = max(abs(guv.x),dot(abs(guv),normalize(hr)));\n    \n    return vec3(h,gid);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (2.*fragCoord-iResolution.xy)/iResolution.y;\n\n    mo(uv,vec2(.8,.6));\n    moda(uv,6.);\n    mo(uv,vec2(floor(dt(BPM/8.,0. )*8.))); \n    \n    vec3 f = frame(uv*5.);\n    f.yz += .1;\n    float lf = length(f.yz);\n    vec2 anim = vec2(cos(dt(1.,atan(f.z,f.y)-lf)*TAU),sin(dt(1.,atan(f.z,f.y)-lf)*TAU))*0.02;\n    float ih = frame((uv+anim)*5.).x; \n    vec3 col = AAstep(0.4,f.x)*palette(lf,vec3(1.5),vec3(0.,0.63,0.37),0.7)\n               + AAstep(ih,0.25)*palette(lf,vec3(1.4),vec3(0.,0.63,0.37),0.45);\n    \n    fragColor = vec4(sqrt(col),1.0);\n}","name":"Image","description":"","type":"image"}]}