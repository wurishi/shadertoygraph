{"ver":"0.1","info":{"id":"wdcczs","date":"1601508957","viewed":362,"name":"Dodecahedron & Icosahedron","username":"gaz","description":"sdf","likes":8,"published":1,"flags":0,"usePreview":0,"tags":["icosahedron","dodecahedron"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void rot3(inout vec3 p,vec3 a,float t){\n\ta=normalize(a);\n\tvec3 q=cross(a,p),u=cross(q,a);\n\tp=u*cos(t)+q*sin(t)+a*dot(p,a);   \n}\n\n#define sabs(p) sqrt((p)*(p)+2e-3)\n#define smin(a,b) (a+b-sabs(a-b))*.5\n#define smax(a,b) (a+b+sabs(a-b))*.5\n\nfloat dodec(vec3 p,float r){\n\tfloat G=sqrt(5.)*.5+.5;\n\tvec3 n=normalize(vec3(G,1,0));\n\tfloat d=0.;\n    p=sabs(p);\n    d=smax(d,dot(p,n));\n    d=smax(d,dot(p,n.yzx));\n    d=smax(d,dot(p,n.zxy));\n\treturn d-r;\n}\n\nfloat icosa(vec3 p,float r){\n\tfloat G=sqrt(5.)*.5+.5;\n\tvec3 n=normalize(vec3(G,1./G,0));\n\tfloat d=0.;\n    p=sabs(p);\n    d=smax(d,dot(p,n));\n    d=smax(d,dot(p,n.yzx));\n    d=smax(d,dot(p,n.zxy));\n\td=smax(d,dot(p,normalize(vec3(1))));\n    return d-r;\n}\n\nfloat map(vec3 p){\n\trot3(p,vec3(1,2,3),iTime);\n\treturn (fract(iTime*.2)<.5)?icosa(p,1.):dodec(p,1.);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    fragColor=vec4(0);\n\tvec3 rd=normalize(vec3((fragCoord-.5*iResolution.xy)/iResolution.y,1));\n\tvec3 ro=vec3(0,0,-3.5);\n\tfloat i,g,e;\n\tfor(i=0.;++i<50.;){\n\t\tg+=e=map(g*rd+ro);\n\t\tif(e<.001)break;\n\t}\n\tfragColor+=3./i;  \n}\n","name":"Image","description":"","type":"image"}]}