{"ver":"0.1","info":{"id":"MdyXR1","date":"1462814561","viewed":142,"name":"JCVD fractal","username":"stduhpf","description":"insprated by \"Fractal Nyancat\" by iq: https://www.shadertoy.com/view/4slGWH","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["2d","fractal","jcvd"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XdfGRr","filepath":"/media/a/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm","previewfilepath":"/media/ap/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//JCVD \n\nconst int n= 64; \n\n\nvec2 multc(vec2 a, vec2 b)\n     {\n         return vec2(a.x*b.x-a.y*b.y,a.x*b.y+b.x*a.y);}\nvec4 gettrap(vec2 a)\n{\n    vec4 col;\n    a/=2.;\n    if (a== clamp (a,0.,1.))\n    {\n    vec4 vi = texture(iChannel0,a).rgba;\n    if (vi.g>.5 && vi.r<.5 && vi.b<.5)vi.w=0.; // I know this is not the good way to do it, but it works\n   col = vi;\n    }else{col = vec4(0);}\n        return col;\n    \n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.y;\n    uv-=vec2(.5+ abs(iResolution.y-iResolution.x)/(2.*iResolution.y),.5);\n    uv*=2.8;\n    vec2 um = iMouse.xy/iResolution.y;\n      um-=vec2(.5+ abs(iResolution.y-iResolution.x)/(2.*iResolution.y),.5);\n    um*=2.8;\n        \n    vec4 color = vec4(0);\n    vec2 z =uv;\n    vec2 c = um;\n    vec2 trap = vec2(2.*cos(.546546*iTime),2.*sin(.25548*iTime));\n    float cont = 0.;\n    for (int i=0;i<n;i++)\n    {\n        if (length(z)>4.|| color.w>0.)continue;\n        z=multc(z,multc(z,z))+c;\n        vec4 t = gettrap(z-trap);\n        color=t;\n        cont++;\n    }\n    \n\tfragColor = mix(color,texture(iChannel0,fragCoord.xy / iResolution.xy)*cont/float(n),1.-color.w);\n}","name":"Image","description":"","type":"image"}]}