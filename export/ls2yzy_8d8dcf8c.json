{"ver":"0.1","info":{"id":"ls2yzy","date":"1492668673","viewed":164,"name":"HCL Colorspace","username":"ccorcos","description":"yup","likes":7,"published":1,"flags":0,"usePreview":0,"tags":["color"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// HCL colorspace:\n// https://www.shadertoy.com/view/Xt3SDs\nconst float X = 0.950470;\nconst float Y = 1.0;\nconst float Z = 1.088830;\n\nconst float t0 = 4.0 / 29.0;\nconst float t1 = 6.0 / 29.0;\nconst float t2 = 3.0 * t1 * t1;\nconst float t3 = t1 * t1 * t1;\n\nfloat lab_xyz(float t) {\n    return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfloat xyz_rgb(float x) {\n    return x <= 0.0031308 ? 12.92 * x : 1.055 * pow(x, 1.0 / 2.4) - 0.055;\n}\n\nvec3 lab2rgb(vec3 lab) {\n    float l = lab.x;\n    float a = lab.y;\n    float b = lab.z;\n    float y = (l + 16.0) / 116.0;\n    float x = y + a / 500.0;\n    float z = y - b / 200.0;\n    x = lab_xyz(x) * X;\n    y = lab_xyz(y) * Y;\n    z = lab_xyz(z) * Z;\n    return vec3(\n        xyz_rgb( 3.2404542 * x - 1.5371385 * y - 0.4985314 * z),\n\t\txyz_rgb(-0.9692660 * x + 1.8760108 * y + 0.0415560 * z),\n        xyz_rgb( 0.0556434 * x - 0.2040259 * y + 1.0572252 * z)\n    );\n}\n\nvec3 hcl2lab(vec3 hcl) {\n    float h = hcl.x;\n    float c = hcl.y;\n    float l = hcl.z;\n    h = radians(h);\n    return vec3(l, cos(h) * c, sin(h) * c);\n}\n\nvec3 hcl2rgb(vec3 hcl) {\n    return lab2rgb(hcl2lab(hcl));\n}\n\nvec3 hcl(float h, float c, float l)\n{\n\treturn hcl2rgb(vec3(h * 360.0, c * 128.0, l * 100.0));\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    \n\tvec2 p = fragCoord.xy / iResolution.xy;\n\tfragColor = vec4(hcl(p.x, p.y, 0.66), 0.1);\n}","name":"Image","description":"","type":"image"}]}