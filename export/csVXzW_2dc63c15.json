{"ver":"0.1","info":{"id":"csVXzW","date":"1703595171","viewed":56,"name":"standard utilities","username":"Anon3242","description":"utils, including float printing and shader input (or any variable) history plotting.\nusing bufA as loopback.","likes":2,"published":1,"flags":32,"usePreview":0,"tags":["utils"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGzr","filepath":"/media/a/08b42b43ae9d3c0605da11d0eac86618ea888e62cdd9518ee8b9097488b31560.png","previewfilepath":"/media/ap/08b42b43ae9d3c0605da11d0eac86618ea888e62cdd9518ee8b9097488b31560.png","type":"texture","channel":3,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec4 char(vec2 p, int c) \n{\n    if (p.x<.0|| p.x>1. || p.y<0.|| p.y>1.) return vec4(0,0,0,1e5);\n    //sharper\n    //return ceil(textureGrad( iChannel3, p/16. + fract( vec2(c, 15-c/16) / 16. ), dFdx(p/16.),dFdy(p/16.) ).xxxx-0.6);\n\t\n    return textureGrad( iChannel3, p/16. + fract( vec2(c, 15-c/16) / 16. ), dFdx(p/16.),dFdy(p/16.) ).xxxx;\n}\n\nvec4 printfloat(float n, vec2 U, vec4 O){\n    \n    //O+= char(U,61);\n    //U.x-=.5; \n    O+= char(U,48+int(mod(n/1000.0,10.0)));\n    U.x-=.5; \n    O+= char(U,48+int(mod(n/100.0,10.0)));\n    U.x-=.5; \n    O+= char(U,48+int(mod(n/10.0,10.0)));\n    U.x-=.5; \n    O+= char(U,48+int(mod(n,10.0)));\n    U.x-=.5; \n    O+= char(U,46);\n    U.x-=.5; \n    O+= char(U,48+int(mod(n*10.0,10.0)));\n    U.x-=.5; \n    O+= char(U,48+int(mod(n*100.0,10.0)));\n    \n    return O;\n}\n\nvec4 pix(vec2 fragCoord,vec2 xy){\n    float size=0.6;\n    //if(fragCoord.x>=xy.x-size && fragCoord.x<=xy.x+size && fragCoord.y>=xy.y-size && fragCoord.y<=xy.y+size)\n    if(  fragCoord==vec2(float(int(xy.x))+0.5,float(int(xy.y))+0.5)  )\n    //if(fragCoord==xy)\n    {\n        return vec4(vec3(1.0),1.0);\n    }\n    else{return vec4(vec3(0.0),1.0);}\n}\n\nvoid mainImage( out vec4 O, vec2 coord )\n{\n    \n    O = vec4(0.0);\n    vec2 uv = coord/iResolution.y;\n    vec2 m = iMouse.xy/iResolution.y;\n    vec2 position = m;\n    position = vec2(0.0,0.0);\n    float FontSize = 4.92;\n    vec2 U = ( uv - position+vec2(0.015,0.002))*64.0/FontSize;\n\n    O=printfloat(iTime,U,O);\n    \n    U.y-=0.8;\n    O+= vec4(char(U,64+int(mod(iTime,26.0))).x,0,0,1.0);\n    \n    U.y-=0.8;\n    O=printfloat(iTimeDelta*10000.0,U,O);\n    \n    U.y-=0.8;\n    O=printfloat(iDate.w,U,O);\n    \n    U.y-=1.6;\n    O+= char(U,64+24);\n    U.x-=.5; \n    U.x-=.5;\n    O=printfloat(m.x,U,O);\n    \n    U.x-=4.0;\n    O+= char(U,64+25);\n    U.x-=.5; \n    U.x-=.5;\n    O=printfloat(m.y,U,O);\n    \n    \n    U.y-=0.8;\n    U.x+=6.0;\n    O+= char(U,64+24);\n    U.x-=.5; \n    U.x-=.5;\n    O=printfloat(iMouse.x,U,O);\n    \n    U.x-=4.0;\n    O+= char(U,64+25);\n    U.x-=.5; \n    U.x-=.5;\n    O=printfloat(iMouse.y,U,O);\n     \n    if(int(coord.x)>=400 && int(coord.x)<=799){\n        O+=pix(coord,vec2(coord.x,GETVAL(int(coord.x)-400,0).x));\n        O+=pix(coord,vec2(coord.x,GETVAL(int(coord.x),0).x));\n    }\n    \n    //for(int i=1;i<=400;i++){\n        //O+=pix(coord,vec2(400+i,GETVAL(i,0)));\n    //}\n    //for(int i=401;i<=799;i++){\n    //    O+=pix(coord,vec2(i,GETVAL(i,0)));\n    //}\n    \n    U.x+=6.0;\n    U.y-=0.8;\n    \n    \n    U.y-=0.8;O=printfloat(iTime,U,O);\n    U.y-=0.8;O=printfloat(iTime,U,O);\n    U.y-=0.8;O=printfloat(iTime,U,O);\n    U.y-=0.8;O=printfloat(iTime,U,O);\n    U.y-=0.8;O=printfloat(iTime,U,O);\n    U.y-=0.8;O=printfloat(iTime,U,O);\n    U.y-=0.8;O=printfloat(iTime,U,O);\n    U.y-=0.8;O=printfloat(float(int(0.9)),U,O);\n    //O=mix(O,vec4(uv.x,uv.y,0.0,1.0),m.y);\n    //O = O.xxxx;\n    //U.y-=0.8;\n    //if(uv.y>0.5)O=vec4(printfloat(1234.56,U,O).x,0,0,1.0);\n    O += 1.0*vec4(uv.x,uv.y,0.0,0.0);\n    \n    \n    if(int(coord.x)>=0 && int(coord.x)<=1600){\n        O+=pix(coord,vec2(coord.x,sin(coord.x/100.0*4.0*m.x)*100.0+100.0));\n    }\n    \n    O+=texelFetch(iChannel0,ivec2(int(coord.x),int(coord.y)),0).xyzw/200.0;\n}\n\n\n//line 12 -> x,y coordinates of text, counted from left down corner","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"#define GETVAL(INDEXX,INDEXY) texelFetch(iChannel0,ivec2(INDEXX,INDEXY),0)\n","name":"Common","description":"","type":"common"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"#define SETVALX(INDEXX,INDEXY,VAL) if(int(fragCoord.x)==INDEXX && int(fragCoord.y)==INDEXY) fragColor=vec4(VAL,fragColor.y,fragColor.z,fragColor.w)\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    //COPY\n    fragColor=texelFetch(iChannel0,ivec2(fragCoord),0);\n    \n    if(int(fragCoord.y)>=0 && int(fragCoord.y)<=1){\n        if(int(fragCoord.x)>=0 && int(fragCoord.x)<=399){\n            SETVALX(int(fragCoord.x),0,GETVAL(int(fragCoord.x)+1,0).x);\n        }\n        SETVALX(400,0,iTimeDelta*10000.0);\n\n        if(int(fragCoord.x)>=401 && int(fragCoord.x)<=798){\n            SETVALX(int(fragCoord.x),0,GETVAL(int(fragCoord.x)+1,0).x);\n        }\n        SETVALX(799,0,iMouse.y);\n    }\n    \n}","name":"Buffer A","description":"","type":"buffer"}]}