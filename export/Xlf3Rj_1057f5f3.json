{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[{"channel":0,"type":"texture","id":"4dXGzn","filepath":"/media/a/0c7bf5fe9462d5bffbd11126e82908e39be3ce56220d900f633d58fb432e56f5.png","sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"}}],"code":"\nfloat noise( vec2 p )\n{\n\treturn texture(iChannel0,p).x; \n}\n\nfloat fnoise(vec2 uv, vec4 sc) {\n\tfloat f  = sc.x*noise( uv ); uv = 2.*uv+.11532185;\n\t\t  f += sc.y*noise( uv ); uv = 2.*uv+.23548563;\n\t\t  f += sc.z*noise( uv ); uv = 2.*uv+.12589452;\n\t\t  f += sc.w*noise( uv ); uv = 2.*uv+.26489542;\n\treturn f;\n}\n\n\nfloat terrain(float x) {\n\tfloat w=0.;\n\tfloat a=1.;\n\tx*=20.;\n\tw+=sin(x*.3521)*4.;\n\tfor (int i=0; i<5; i++) {\n\t\tx*=1.53562;\n\t\tx+=7.56248;\n\t\tw+=sin(x)*a;\t\t\n\t\ta*=.5;\n\t}\n\treturn .2+w*.015;\t\n}\n\nfloat bird(vec2 p) {\n\tp.x+=iTime*.05;\n\tfloat t=iTime*.05+noise(vec2(floor(p.x/.4-.2)*.7213548))*.7;\n\tp.x=mod(p.x,.4)-.2;\n\tp*=2.-mod(t,1.)*2.;\n\tp.y+=.6-mod(t,1.);\n\tp.y+=pow(abs(p.x),2.)*20.*(.2+sin(iTime*20.));\n\tfloat s=step(0.003-abs(p.x)*.1,abs(p.y));\t\n\treturn min(s,step(0.005,length(p+vec2(0.,.0015))));\n}\n\nfloat tree(vec2 p, float tx) {\n\tfloat noisev=noise(p.xx*.1+.552121)*.25;\n\tp.x=mod(p.x,.2)-.1;\n\tp*=15.+noise(vec2(tx*1.72561))*10.;\n\tfloat ot=1000.;\n\tfloat a=radians(-60.+noise(vec2(tx))*30.);\n\tfor (int i=0; i<7; i++) {\n\t\tot=min(ot,length(max(vec2(0.),abs(p)-vec2(-a*.15,.9))));\n\t\tfloat s=(sign(p.x)+1.)*.25;\n\t\tp.x=abs(p.x);\n\t\tp=p*1.3-vec2(0.,1.+noisev);\t\t\n\t\ta*=.8;\n\t\ta-=(noise(vec2(float(i+2)*.55170275+tx,s))-.5)*.2;\n\t\tmat2 rot=mat2(cos(a),sin(a),-sin(a),cos(a));\n\t\tp*=rot;\n\t}\n\treturn step(0.05,ot);\n}\n\n\nfloat scene(vec2 p) {\n\tfloat t=terrain(p.x);\n\tfloat s=step(0.,p.y+t);\n\tfloat tx=floor(p.x/.2)*.2+.1;\n\tif (noise(vec2(tx*3.75489))>.55) s=min(s,tree(p+vec2(0.,terrain(tx)),.42+tx*4.5798523));\n\ts=min(s,bird(p));\n\treturn s;\n}\n\nfloat aascene(vec2 p) {\n\tvec2 pix=vec2(0.,max(.25,6.-iTime)/iResolution.x);\n\tfloat aa=scene(p);\n\taa+=scene(p+pix.xy);\n\taa+=scene(p+pix.yy);\n\taa+=scene(p+pix.yx);\n\treturn aa*.25;\t\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy-.5;\n\tuv.x*=iResolution.x/iResolution.y;\n\tfloat v=0., l;\n\tfloat t=iTime*.05;\n\tvec2 c=vec2(-t,0.);\n\tvec2 p;\n\tfloat sc=clamp(t*t*.5,.05,.15);\n\tuv.y-=.25;\n\tuv.x-=.2;\n\tfor (int i=0; i<50; i++) {\n\t\tp=uv*sc;\n\t\tl=pow(max(0.,1.-length(p)*2.),15.);\n\t\tl=.02+l*.8;\n\t\tv+=scene(p+c)*pow(float(i+1)/30.,2.)*l;\t\t\t\n\t\tsc+=.006;\n\t}\n\tfloat clo=fnoise((uv-vec2(t,0.))*vec2(.03,.15),vec4(.8,.6,.3,.1))*max(0.,1.-uv.y*3.);\n\tfloat tx=uv.x-t*.5;\n\tfloat ter=.5+step(0.,uv.y-fnoise(vec2(tx)*.015,\n\t\t\t  vec4(1.,.5,.3,.1))*(.23*(1.+sin(tx*3.2342)*.25))+.5);\n\tfloat s=aascene(p+c)*(ter+clo*.4);\n\tv*=.025;\n\tfloat col=min(1.,.05+v+s*l);\n\tcol=sqrt(col)*2.05-.5;\n\tfragColor = vec4(col*min(1.,iTime*.2));\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"Xlf3Rj","date":"1388899480","viewed":3647,"name":"Creepy Mountains","username":"Kali","description":"A random tree generator, some birds (or bats... or something with wings), sine/noise waves for the terrains, a bit of fog, and finally kind of a volumetric light effect.","likes":133,"published":1,"flags":0,"usePreview":1,"tags":["2d"],"hasliked":0,"parentid":"","parentname":""}}