{"ver":"0.1","info":{"id":"4ccfR4","date":"1732740921","viewed":33,"name":"falling lights","username":"Psyph","description":"First draft of something ive been trying to make for a long time. this ended up being really computing intensive oops... change \"j\" on line 50 for a new random seed (to any int 0-242). ","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["lights"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGzn","filepath":"/media/a/0c7bf5fe9462d5bffbd11126e82908e39be3ce56220d900f633d58fb432e56f5.png","previewfilepath":"/media/ap/0c7bf5fe9462d5bffbd11126e82908e39be3ce56220d900f633d58fb432e56f5.png","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.141592654\nvec3 palette(float t)\n{\n    /*\n    vec3 a=vec3(0.500,0.500,0.500);\n    vec3 b=vec3(1.000,1.000,1.000);\n    vec3 c=vec3(0.310,0.310,0.310);\n    vec3 d=vec3(0.000,0.667,0.333);\n    */\n    \n    /*\n    vec3 a=vec3(0.888,0.608,0.333);\n    vec3 b=vec3(0.588,0.418,0.250);\n    vec3 c=vec3(0.750,0.750,0.750);\n    vec3 d=vec3(0.000,0.667,0.333);\n    */\n    \n    /*\n    //rainbow4\n    vec3 a=vec3(0.5,0.5,0.5);\n    vec3 b=2.*vec3(0.5,0.5,0.5);\n    vec3 c=2.*vec3(0.5,0.5,0.5);\n    vec3 d=vec3(0.000,0.667,0.333);\n    */\n    \n    \n    vec3 a=vec3(0.500,0.668,0.500);\n    vec3 b=vec3(0.528,0.198,1.000);\n    vec3 c=vec3(1.000,1.000,1.448);\n    vec3 d=vec3(0.808,0.333,0.468);\n    \n    \n\treturn a+b*cos(2.*PI*(c*t+d));\n}\nfloat rand(int i,int j)\n{\n    return texelFetch(iChannel0,ivec2(i,j),0).x;\n}\nfloat sin2(float x)\n{\n    return (sin(x)+1.)/2.;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv=(2.*fragCoord-iResolution.xy)/iResolution.y;\n\n    vec3 col=vec3(0.);\n    int j=0;\n    float rs=iResolution.x/iResolution.y;\n    vec2 ts=.05*vec2(textureSize(iChannel0,0));\n    int i=0;\n    while(i<25)\n    {\n        float an=1.2*rand(i,j)-.6;\n        float start=2.*rand(i,j+3)-1.;\n        float acc=sin(1.+iTime*rand(i,j+12)/5.)/30.+1.;\n        float wav=sin(.8*iTime*(rand(i,j+13)-.5));\n        vec2 p=vec2(wav+start+an*iTime/2.,2.-acc*iTime*(rand(i,j+1)*.35+.3));\n        \n        p.y=mod(p.y+1.5,3.5)-2.;\n        p.x=mod(p.x+rs+.5,5.)-rs-.5;\n        float le=length(uv-p);\n        //float ls=sin2(iTime+6.*rand(i,j+8))+sin2(iTime*rand(i,j+6))/3.+.3;\n        float ra=1.;\n        if(sin(3.*iTime*(.25+rand(i,j+9)))>.2)\n        {\n             ivec2 g=ivec2(5.*(sin(iTime*4.*(rand(i,j+10)+.5))+1.),0);\n             ra=texelFetch(iChannel0,g,0).x*.75+.25;\n        }\n        \n        float siz=1.75*rand(i,j+2)+.7+.3*sin(rand(i,j+11)*iTime);\n        float fol=max(((siz)/(50.*le+1.)-le/40.),0.);\n        //float fol=max(1./(50.*le+1.)-le/40.,0.);\n        col+=ra*vec3(fol)*palette(sin(iTime/5.+6.*rand(i,j+7)));\n\n  \n        i++;\n    }\n    \n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}