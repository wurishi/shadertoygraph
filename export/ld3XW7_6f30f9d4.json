{"ver":"0.1","info":{"id":"ld3XW7","date":"1459641964","viewed":269,"name":"1D DCT test","username":"anastadunbar","description":"https://unix4lyfe.org/dct/\nThe green curve is made up of cosines.","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["test","fft","study","fourier","transform","jpg","jpeg"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define time iTime\n#define pi 3.14159265358979323\nfloat function(float x) {\n    return cos(x*40.*sin(time));\n}\nconst float count = 40.;\nfloat dct_1d(float freq) {\n    float sum = 0.;\n    for (float x=0.;x<count;x++) {\n        sum += function(x/count)*cos(pi*freq*(2.*x+1.)/(2.*count));\n    }\n    if (freq == 0.) { sum *= 1./sqrt(2.); }\n    return sum/2.;\n}\n#define clamps(x) clamp(x,0.,1.)\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n    vec2 p = fragCoord.xy / iResolution.xy;\n\tvec3 color = vec3(0.);\n    float line_thickness = 0.005;\n    float line_sharpness = 200.;\n    color.r += 1.-clamps((abs(((function(p.x)+1.)/2.)-p.y)-line_thickness)*line_sharpness);\n    float c = 0.;\n    \n    const float loops = 30.;\n    #define x p.x\n    for (float i = 0.; i < loops; i++) {\n        float amp = dct_1d(i/2.);\n        c += cos(x*i*(pi/2.))*amp;\n    }\n    color.b = dct_1d(floor(p.y*loops)/2.)/(count/4.);\n    c /= count/2.;\n    color.g += 1.-clamps((abs(((c+1.)/2.)-p.y)-line_thickness)*line_sharpness);\n    fragColor = vec4(color,1.0);\n}","name":"Image","description":"","type":"image"}]}