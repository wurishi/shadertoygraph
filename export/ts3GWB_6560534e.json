{"ver":"0.1","info":{"id":"ts3GWB","date":"1569196173","viewed":321,"name":"Psych waves","username":"414owen","description":"Psychedelic ripple effect","likes":7,"published":1,"flags":0,"usePreview":0,"tags":["80s","retro","psychedelic","ripple"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"precision lowp float;\nprecision lowp int;\n\nconst float space = 15.0;\nconst float width = 4.0;\nconst float speed = 20.0;\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n  vec2 center = iResolution.xy / 2.0;\n\n  float dist = min(\n    distance(fragCoord, vec2(0, iResolution.y)),\n    min(\n      distance(fragCoord, iResolution.xy),\n      min(\n        distance(fragCoord, center),\n        min(\n          distance(fragCoord, vec2(0, 0)),\n          distance(fragCoord, vec2(iResolution.x, 0))\n        )\n      )\n    )\n  );\n    \n  vec3 col1 = hueShift(vec3(1, 0, 0), iTime);\n  vec3 col2 = hueShift(col1, dist / 40.0);\n  float a = modF(iTime * speed - dist, space + width);\n  fragColor = vec4(a < width ? col2 : vec3(0, 0, 0), 1);\n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"float modF(float a,float b) {\n  float m = a - floor((a + 0.5) / b) * b;\n  return m + 0.5;\n}\n\nvec3 hueShift( vec3 color, float hueAdjust ){\n    const vec3  kRGBToYPrime = vec3 (0.299, 0.587, 0.114);\n    const vec3  kRGBToI      = vec3 (0.596, -0.275, -0.321);\n    const vec3  kRGBToQ      = vec3 (0.212, -0.523, 0.311);\n\n    const vec3  kYIQToR     = vec3 (1.0, 0.956, 0.621);\n    const vec3  kYIQToG     = vec3 (1.0, -0.272, -0.647);\n    const vec3  kYIQToB     = vec3 (1.0, -1.107, 1.704);\n\n    float   YPrime  = dot (color, kRGBToYPrime);\n    float   I       = dot (color, kRGBToI);\n    float   Q       = dot (color, kRGBToQ);\n    float   hue     = atan (Q, I);\n    float   chroma  = sqrt (I * I + Q * Q);\n\n    hue += hueAdjust;\n\n    Q = chroma * sin (hue);\n    I = chroma * cos (hue);\n\n    vec3    yIQ   = vec3 (YPrime, I, Q);\n\n    return vec3( dot (yIQ, kYIQToR), dot (yIQ, kYIQToG), dot (yIQ, kYIQToB) );\n}","name":"Common","description":"","type":"common"}]}