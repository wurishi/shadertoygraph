{"ver":"0.1","renderpass":[{"outputs":[{"channel":0,"id":"4dfGRr"}],"inputs":[],"code":"void mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n    // Normalize coordinates\n    vec2 uv = fragCoord / iResolution.xy;\n    uv.x *= iResolution.x / iResolution.y;\n\n    // Time factor for animation\n    float t = iTime;\n\n    // Wave simulation\n    float wave1 = sin(uv.x * 10.0 + t * 2.0) * 0.1;\n    float wave2 = sin(uv.x * 15.0 - t * 1.5) * 0.05;\n    float waveHeight = wave1 + wave2;\n\n    // Fixed x-position for the ship\n    float shipX = 0.5;\n    float shipY = 0.45 + (wave2 - wave1); // Ship moves vertically with the wave\n\n    // Ship body (tapered shape)\n    float bodyWidth = 0.04;\n    float bodyHeight = 0.01;\n    vec2 bodyPos = vec2(shipX, shipY - 0.01); // Slightly below the ship's center\n    float bodyShape = smoothstep(bodyWidth, bodyWidth - 0.01, length(uv - bodyPos)) \n                      * smoothstep(bodyHeight, bodyHeight - 0.005, abs(uv.y - bodyPos.y));\n\n    // Mast (vertical line)\n    vec2 mastStart = vec2(shipX, shipY - 0.005);\n    vec2 mastEnd = vec2(shipX, shipY + 0.05);\n    float mast = smoothstep(0.005, 0.003, length(uv - mastStart))\n               * smoothstep(0.003, 0.005, length(uv - mastEnd));\n\n    // Sail (triangle shape)\n    vec2 sailBase = vec2(shipX, shipY + 0.02);\n    float sail = smoothstep(0.02, 0.015, length(uv - sailBase))\n               * step(uv.x, shipX); // Only draw on the left side of the mast\n\n    // Flag (small rectangle at mast top)\n    vec2 flagPos = vec2(shipX, shipY + 0.05);\n    float flag = smoothstep(0.015, 0.013, abs(uv.x - flagPos.x - 0.01))\n               * smoothstep(0.005, 0.003, abs(uv.y - flagPos.y));\n\n    // Combine ship components\n    float ship = bodyShape + mast + sail + flag;\n\n    // Ship color\n    vec3 shipColor = vec3(0.8, 0.1, 0.1); // Red body\n    vec3 mastColor = vec3(0.7, 0.7, 0.7); // Gray mast\n    vec3 sailColor = vec3(1.0, 1.0, 1.0); // White sail\n    vec3 flagColor = vec3(0.0, 0.0, 1.0); // Blue flag\n\n    vec3 finalShipColor = mix(shipColor, mastColor, mast);\n    finalShipColor = mix(finalShipColor, sailColor, sail);\n    finalShipColor = mix(finalShipColor, flagColor, flag);\n\n    // Ocean color gradient\n    float horizon = smoothstep(0.4, 0.5, uv.y + waveHeight);\n    vec3 oceanColor = mix(vec3(0.0, 0.3, 0.6), vec3(0.0, 0.6, 0.8), horizon);\n\n    // Clouds (top half only, moving across the full width of the screen)\n    if (uv.y > 0.5) {\n        // Smooth horizontal movement across the full screen\n        float cloudSpeed = 0.1; // Speed factor\n        vec2 cloud1Pos = vec2(mod(t * cloudSpeed + 0.0, 1.0), 0.8); // Cloud 1\n        vec2 cloud2Pos = vec2(mod(t * (cloudSpeed - 0.02) + 0.2, 1.0), 0.85); // Cloud 2\n        vec2 cloud3Pos = vec2(mod(t * (cloudSpeed + 0.05) + 0.4, 1.0), 0.78); // Cloud 3\n        vec2 cloud4Pos = vec2(mod(t * (cloudSpeed + 0.07) + 0.6, 1.0), 0.82); // Cloud 4\n        vec2 cloud5Pos = vec2(mod(t * (cloudSpeed - 0.03) + 0.8, 1.0), 0.84); // Cloud 5\n        vec2 cloud6Pos = vec2(mod(t * (cloudSpeed + 0.06) + 1.0, 1.0), 0.79); // Cloud 6\n\n        // Define the shapes of clouds\n        float cloud1 = smoothstep(0.05, 0.04, length(uv - cloud1Pos));\n        float cloud2 = smoothstep(0.07, 0.06, length(uv - cloud2Pos));\n        float cloud3 = smoothstep(0.06, 0.05, length(uv - cloud3Pos));\n        float cloud4 = smoothstep(0.06, 0.05, length(uv - cloud4Pos));\n        float cloud5 = smoothstep(0.05, 0.04, length(uv - cloud5Pos));\n        float cloud6 = smoothstep(0.07, 0.06, length(uv - cloud6Pos));\n\n        float clouds = cloud1 + cloud2 + cloud3 + cloud4 + cloud5 + cloud6;\n\n        vec3 cloudColor = vec3(1.0); // White clouds\n        oceanColor = mix(oceanColor, cloudColor, clouds);\n    }\n\n    // Blend ship with the ocean\n    vec3 finalColor = mix(oceanColor, finalShipColor, ship);\n\n    fragColor = vec4(finalColor, 1.0);\n}\n","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"MfcBzM","date":"1734238964","viewed":20,"name":"Moving Along Waves","username":"Acez989","description":"test shader for class","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["waves"],"hasliked":0,"parentid":"","parentname":""}}