{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[{"channel":0,"type":"texture","id":"Xsf3Rn","filepath":"/media/a/cbcbb5a6cfb55c36f8f021fbb0e3f69ac96339a39fa85cd96f2017a2192821b5.png","sampler":{"filter":"nearest","wrap":"clamp","vflip":"false","srgb":"false","internal":"byte"}}],"code":"//#define TRACE_WARP // visualise the distortion, incompatible with LERP_AFTER\n\n// this looks prettier, but makes it less obvious that it's the same warp each time.\n#define LERP_AFTER\n\nvec3 Sample( vec2 p )\n{\n\t// nyancat\n\tp = (p+vec2(.4,.3))*.6;\n\t\n\t// code pinched from https://www.shadertoy.com/view/4slGWH\n\tp = clamp(p,0.0,1.0);\n\tp.x = p.x*40.0/256.0;\n\tp.y = 0.5 + 1.2*(0.5-p.y);\n\tp = clamp(p,0.0,1.0);\n\tfloat fr = floor( mod( 20.0*iTime, 6.0 ) );\n\tp.x += fr*40.0/256.0;\n\treturn texture( iChannel0, p ).rgb;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 C = (2.0*fragCoord.xy-iResolution.xy) / iResolution.x;\n\t// position better to see the fractal\n\tC = C*2.0+vec2(-.6,0);\n\t\n\tvec2 Z = vec2(0);\n\t\n\t#define MAX 20\n\tfloat m = float(MAX);\n\tfloat n = exp2(fract(.03*iTime)*log2(m))-1.0;//fract(.3*iTime/m)*m;\n\t\n#ifndef LERP_AFTER\n\t// blend towards the next one\n\tZ = C*fract(n);\n#endif\n\t\n\tfor ( int i=0; i < MAX; i++ )\n\t{\n\t\tif ( float(i) > n )\n\t\t\tbreak;\n\t\tZ = vec2( Z.x*Z.x-Z.y*Z.y, 2.0*Z.x*Z.y ) + C;\n\t}\n\n#ifdef LERP_AFTER\n\t// blend from the last one\n\tZ = mix( Z, vec2( Z.x*Z.x-Z.y*Z.y, 2.0*Z.x*Z.y ) + C, fract(n) );\n#endif\n\n/*\t// checkerboard\n\tvec2 c = step(vec2(.5),fract(Z*8.0))*2.0-1.0;\n\tfragColor.rgb = c.xxx*c.yyy;*/\t\n\n\t// image map\n\tfragColor.rgb = Sample(Z*.5+.5);\n\t\n\n#ifdef TRACE_WARP\n\t// visualise the distortion\n\t#define L 20\n\tfor ( int i=0; i < L; i++ )\n\t{\n\t\tZ = C*fract(n + float(i)/float(L));\n\t\tZ = vec2( Z.x*Z.x-Z.y*Z.y, 2.0*Z.x*Z.y ) + C;\n\t\t\n\t\tvec2 p = step(fract(Z*3.0+.5),vec2(.95));\n\t\tvec4 c = mix( vec4(0,0,1,.3), vec4(1,1,1,1), 1.0-step( .0001, float(i)/float(L) ) );\n\t\tfragColor.rgb = mix( fragColor.rgb, c.rgb, c.a*(1.0-max(p.x,p.y)) );\n\t}\n#endif\n\t\n\tfragColor.a = 1.0;\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"ldfXD7","date":"1402233109","viewed":272,"name":"Nyandelbrot","username":"TekF","description":"Based on my Mandelbrit.","likes":7,"published":1,"flags":0,"usePreview":0,"tags":["fractal"],"hasliked":0,"parentid":"","parentname":""}}