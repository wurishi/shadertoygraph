{"ver":"0.1","info":{"id":"dssyDl","date":"1694952039","viewed":16,"name":"6.21","username":"yumi","description":"clamp","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["clamp"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec3 palette( float t)\n{\n    vec3 a = vec3(0.840,0.748,0.840);\n    vec3 b = vec3(-0.083,0.297,0.537);\n    vec3 c = vec3(1.132,2.587,1.786);\n    vec3 d = vec3(-0.083,0.407,1.237);\n    \n    return a + b*cos( 6.28318*(c*t+d) );\n}\n\nfloat ndot(vec2 a, vec2 b ) { return a.x*b.x - a.y*b.y; }\n\nfloat sdRhombus( in vec2 p, in vec2 b ) \n{\n    p = abs(p);\n\n    float h = clamp( ndot(b-2.0*p,b)/dot(b,b), -1.0, 1.0 );\n    float d = length( p-0.5*b*vec2(1.0-h,1.0+h) );\n\n\treturn d * sign( p.x*b.y + p.y*b.x - b.x*b.y );\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 p = (2.0*fragCoord-iResolution.xy)/iResolution.y;\n    //vec2 m = (2.0*iMouse.xy-iResolution.xy)/iResolution.y;\n    \n    //p = fract(p);\n    vec3 fcol = vec3(.0);\n    //p -= .5;\n\n\tfor (float i=.0;i<2.;i++){\n    vec2 ra = .5+0.3*(cos(iTime + vec2(0.0,1.)));\n\n\tfloat d = sdRhombus( p, ra );\n    \n    d = pow(d, length(p));\n    \n\n    vec3 col = sign(d)*palette(d/2.);\n\t//col *= 1.0 - exp(-2.0*abs(d));\n    \n    \n\tcol *= 0.8 + 0.2*cos(140.0*d);\n    \n    col *= palette(length(p)+iTime/2.);\n    \n    fcol += col;\n    }\n\t//col = mix( col, vec3(1.0), 1.0-smoothstep(0.0,0.02,abs(d)) );\n\n    //if( iMouse.z>0.001 )\n    //{\n    //d = sdRhombus(m, ra);\n    //col = mix(col, vec3(1.0,1.0,0.0), 1.0-smoothstep(0.0, 0.005, abs(length(p-m)-abs(d))-0.0025));\n    //col = mix(col, vec3(1.0,1.0,0.0), 1.0-smoothstep(0.0, 0.005, length(p-m)-0.015));\n    //}\n    fragColor = vec4(fcol,1.0);\n}","name":"Image","description":"","type":"image"}]}