{"ver":"0.1","info":{"id":"fsX3zN","date":"1615561165","viewed":58,"name":"bubbles enhanced ","username":"davecaputo","description":"Pulsating, moving bubbles","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["bubble"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float Bubble(vec2 origin, float r, float blur)\n{\n    float d = length(origin);\n    float c = smoothstep(r, r - blur, d);\n    return c;\n}\nfloat SuperBubble(vec2 origin, float r){\n    float c = Bubble(origin, r, .03);\n    c += Bubble(origin - vec2(r * .25), r * 0.7, .2);\n    return c;\n}\nvec2 orig(vec2 fragCoord, float x, float y){\n    vec2 o;\n    o.x = x;\n    o.y = y;\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n    // Current origin\n    uv -= o;\n    // Not an ellipse anymore\n    uv.x *= iResolution.x/iResolution.y;\n    return uv;\n}\nfloat SuperBubble2(vec2 fragCoord,float x, float y, float r){\n    return SuperBubble(orig(fragCoord,x,y), r);\n}\nconst int nbubbles = 3;\nfloat bubbles[nbubbles];\nstruct BubbleData{\n    float x0, y0, r0, p;\n    float vx,vy;\n};\nBubbleData newBubble(float x0, float y0, float r0, float p, float vx, float vy){\n    BubbleData b;\n    b.x0 = x0;\n    b.y0 = y0;\n    b.r0 = r0;\n    b.p = p;\n    b.vx = vx;\n    b.vy = vy;\n    return b;\n}\nfloat MovingBubble(vec2 fragCoord, BubbleData b){\n    return SuperBubble2(\n        fragCoord, \n        b.x0 + 0.1 * sin(b.vx * iTime), \n        b.y0 + 0.1 * cos(b.vy * iTime), \n        b.r0 + 0.1 * sin(iTime * b.p) * sin(iTime * b.p)\n    );\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    BubbleData b1 = newBubble(0.5, 0.5, 0.2, 0.6, 0.5, 0.8);\n    BubbleData b2 = newBubble(0.2, 0.2, 0.2, 2., 0.5, 0.8);\n    BubbleData b3 = newBubble(0.75,0.6, 0.2, 0.6, 0.1, 0.8);\n    bubbles[0] = MovingBubble(fragCoord, b1);\n    bubbles[1] = MovingBubble(fragCoord, b2);\n    bubbles[2] = MovingBubble(fragCoord, b3);\n    float b = .0;\n    for(int i = 0; i < nbubbles; i++) b+= bubbles[i];\n    vec3 col = vec3(0.9 ,1, 9.) * b * 0.5;\n    fragColor = vec4(col, 1.0);\n}","name":"Image","description":"","type":"image"}]}