{"ver":"0.1","info":{"id":"MXBSRm","date":"1710374233","viewed":65,"name":"Neon shapes","username":"koboko34","description":"Neon shader using 2d signed distance fields","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["neon"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define rot(a) mat2(cos(a), sin(a), -sin(a), cos(a))\n\nvec3 palette(float t)\n{\n    vec3 a = vec3(0.5, 0.5, 0.5);\n    vec3 b = vec3(0.5, 0.5, 0.5);\n    vec3 c = vec3(1.0, 1.0, 1.0);\n    vec3 d = vec3(0.0, 0.1, 0.2);\n    \n    return a + b*cos( 6.28318*(c*t+d) );\n}\n\nfloat sdTriangle( in vec2 p, in float r )\n{\n    const float k = sqrt(3.0);\n    p.x = abs(p.x) - r;\n    p.y = p.y + r/k;\n    if( p.x+k*p.y>0.0 ) p = vec2(p.x-k*p.y,-k*p.x-p.y)/2.0;\n    p.x -= clamp( p.x, -2.0*r, 0.0 );\n    return -length(p)*sign(p.y);\n}\n\nfloat sdBox( in vec2 p, in vec2 b )\n{\n    vec2 d = abs(p)-b;\n    return length(max(d,0.0)) + min(max(d.x,d.y),0.0);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord / iResolution.xy;\n    uv -= 0.5;\n    uv.x *= iResolution.x / iResolution.y;\n    \n    vec2 uv0 = uv;\n    \n    uv *= 5.;\n    float per = 1.2;\n    vec2 id = floor(uv/per);\n    if (mod(id.y, 2.) > 0.5) \n    {\n        uv.x += iTime;\n    }\n    else\n    {\n        uv.x -= iTime;\n    }\n    \n    // domain repetition\n    uv = mod(uv, per) - per * 0.5;\n    \n    uv *= rot(iTime);\n    \n    float d = 0.;\n\n    vec3 col = palette(length(uv0) + iTime * 0.3);\n    \n    vec2 pos = vec2(uv.x + 0.07, uv.y + 0.1);\n    float tri = sdTriangle(pos, 0.3);\n    tri = smoothstep(0., 0.1, abs(tri));\n    \n    pos = vec2(uv.x - 0.07, uv.y - 0.1);\n    float box = sdBox(pos, vec2(0.25));\n    box = smoothstep(0., 0.1, abs(box));\n    \n    float neon = 0.18;\n    d += neon/tri;\n    d += neon/box;\n    \n    d = pow(d, 1.4);\n    \n    vec3 outColor = vec3(d * col);\n    \n    fragColor = vec4(uv, 0., 1.);\n    fragColor = vec4(outColor, 1.);\n}","name":"Image","description":"","type":"image"}]}