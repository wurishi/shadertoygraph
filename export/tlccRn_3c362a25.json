{"ver":"0.1","info":{"id":"tlccRn","date":"1655415615","viewed":125,"name":"pixel art webcam","username":"TonyIlersich","description":"generates pixel art from the web cam","likes":1,"published":1,"flags":34,"usePreview":0,"tags":["webcam"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sf3zn","filepath":"/presets/webcam.png","previewfilepath":"/presets/webcam.png","type":"webcam","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec3 grayscale(vec3 raw)\n{\n    return (raw + raw.zxy + raw.yzx) / 4.0;\n}\n\nvec3 flatten(vec3 raw)\n{\n    const float n = 4.0;\n    const float s = .25 / n;\n    if (abs(raw.r - raw.g) < s)\n    {\n        if (min(abs(raw.r - raw.b), abs(raw.g - raw.b)) < s)\n        {\n            raw.r = raw.g = raw.b = (raw.r + raw.g + raw.b) / 3.0;\n        }\n        else\n        {\n            raw.r = raw.g = (raw.r + raw.g) / 2.0;\n        }\n    }\n    else if (abs(raw.r - raw.b) < s)\n    {\n        raw.r = raw.b = (raw.r + raw.b) / 2.0;\n    }\n    else if (abs(raw.g - raw.b) < s)\n    {\n        raw.g = raw.b = (raw.g + raw.b) / 2.0;\n    }\n    return floor(raw * n + .5) / n;\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n    vec2 uv = vec2(1,0) + vec2(-1, 1) * fragCoord/iResolution.xy;\n    const vec2 res = vec2(240.0, 144.0);\n    vec2 uv2 = floor(uv * res) / res;\n    vec3 raw = texture(iChannel1, uv2).rgb;\n    //vec3 gray = grayscale(raw);\n    vec3 flatt = flatten(raw);\n    vec3 clr = flatt;\n    fragColor = vec4(clr, 1);\n}\n","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4sf3zn","filepath":"/presets/webcam.png","previewfilepath":"/presets/webcam.png","type":"webcam","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    const float p = .5;\n    vec2 uv = fragCoord/iResolution.xy;\n    vec4 old = texture(iChannel0, uv);\n    vec4 raw = texture(iChannel1, uv);\n    fragColor = old * p + raw * (1.0-p);\n}","name":"Buffer A","description":"","type":"buffer"}]}