{"ver":"0.1","info":{"id":"slS3R1","date":"1623599490","viewed":147,"name":"Gradient Audio Visualizer","username":"Buunuu","description":"Audio Visualizer","likes":5,"published":1,"flags":96,"usePreview":0,"tags":["audio","visualizer"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGzn","filepath":"/media/a/0c7bf5fe9462d5bffbd11126e82908e39be3ce56220d900f633d58fb432e56f5.png","previewfilepath":"/media/ap/0c7bf5fe9462d5bffbd11126e82908e39be3ce56220d900f633d58fb432e56f5.png","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":3,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsBSR3","filepath":"/media/a/cb49c003b454385aa9975733aff4571c62182ccdda480aaba9a8d250014f00ec.png","previewfilepath":"/media/ap/cb49c003b454385aa9975733aff4571c62182ccdda480aaba9a8d250014f00ec.png","type":"texture","channel":2,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.1415926535897932384626\n#define max sin(sin(sin(sin(sin(PI / 2.0)))))\nfloat f_sin_sin_sin(float x)\n{\n    return sin(sin(sin(sin(sin(x))))) / max;\n}\n\nvec3 better_rainbow_fsinsinsin(float hue)\n{\n    float angle = hue * 2. * PI;\n    float r = 0.5 + 0.5 * f_sin_sin_sin(angle                    );\n    float g = 0.5 + 0.5 * f_sin_sin_sin(angle - 2. * PI      / 3.);\n    float b = 0.5 + 0.5 * f_sin_sin_sin(angle - 2. * PI * 2. / 3.);\n    vec3 color = vec3(r,g,b);\n    return color;\n}\n//hsl to rgb but with only a float as input https://www.shadertoy.com/view/4dVXWW\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    vec2 uv2 = fragCoord/iResolution.y;\n\n    float n = (texture(iChannel2,uv2).x-0.5)*0.3;//blue noise\n    float g = (1.-uv.y+n)*0.2;//gradient\n    float c = texture(iChannel0,uv).x;//color\n    \n    c = mix(g,c,c);\n    \n    fragColor = vec4(better_rainbow_fsinsinsin(mix(0.0,0.5,c))*c,1.0);\n    //fragColor = vec4(texture(iChannel3,uv).x);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"MtBXD3","filepath":"https://soundcloud.com/wazmusic/close-eyes?utm_source=clipboard&utm_medium=text&utm_campaign=social_sharing","previewfilepath":"https://soundcloud.com/wazmusic/close-eyes?utm_source=clipboard&utm_medium=text&utm_campaign=social_sharing","type":"musicstream","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":0}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    \n    float p = texture(iChannel0,uv).y;\n    float m = texture(iChannel1,vec2(uv.x,0.2)).x;\n    m += p*0.8;\n    \n    float l = step(abs(uv.y),0.0012);\n\n    fragColor = vec4(l*(m*0.33),m,0.0,1.0);\n}","name":"Buffer A","description":"","type":"buffer"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"XsXGR8","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    //uv = vec2(uv.x,pow(uv.y,0.95));\n    vec2 uv2 = uv*vec2(1.,1.);\n    float curve = 1.0-pow(uv.y,3.0);\n    \n    float p = texture(iChannel1,uv*vec2(1.0,curve*curve)).x;\n    p = texture(iChannel1,uv2-vec2(0.,mix(0.005,0.01,p*curve)*curve*curve)).x*0.996;//previous frame\n    float c = texture(iChannel0,uv).x;//current frame\n    \n    fragColor = vec4(max(p,c));\n}","name":"Buffer B","description":"","type":"buffer"}]}