{"ver":"0.1","info":{"id":"clS3zK","date":"1673512666","viewed":584,"name":"basic functions","username":"mtx","description":"Visualizing different functions available in glsl: step, mix, smoothstep, clamp, max, min","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["math","glsl","function"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n  \n  vec2 uv = fragCoord / iResolution.xy;\n  \n  vec3 col = vec3(0.0);\n  float fn = 0.0;\n  float curve = 0.0;\n\n  float leftOffset = 2.0 * uv.x;\n  float rightOffset = 2.0 * (uv.x - 0.5);\n  if(uv.y > 0.66) {\n    // top\n    // fn = mix(0.0, 1.0, uv.x);\n    // same as \n    // fn = uv.x; // since uv is 0..1\n    if(uv.x < 0.5) {\n      // left \n      fn = step(0.5, leftOffset);\n      // or (absolute)\n      // fn = step(0.25, uv.x);\n\n      col = mix(cyan, magenta, fn);\n      \n      curve = smoothstep(0.0, 0.006, abs(uv.y - mix(0.66, 1.0, fn)));\n      col = mix(white, col, curve);\n\n      // vertical fn line at middle because curve will not paint it\n      float vseparator = smoothstep(0.0, 0.006, abs(uv.x - 0.25));\n      col = mix(white, col, vseparator); \n    } else {\n      // right\n      // relative position\n      \n      fn = rightOffset;\n      // same as \n      // fn = mix(0.0, 1.0, rightOffset);\n      \n      // draw MIX gradient (separatorar)\n      col = mix(cyan, magenta, fn);\n      \n      // draw function curve\n      curve = smoothstep(0.0, 0.006, abs(uv.y - mix(0.66, 1.0, fn)));\n      \n      col = mix(white, col, curve);\n      \n    }\n\n\n  } else if(uv.y > 0.33 && uv.y < 0.66) {\n    // center\n    if(uv.x < 0.5) {\n      // left\n      // draw STEP gradient\n\n      // relative position\n\n       fn = smoothstep(0.0, 1.0, leftOffset);\n      // same as (absolute)\n      // fn = smoothstep(0.5, 1.0, uv.x);\n      \n      // draw SMOOTHSTEP gradient\n      col = mix(cyan, magenta, fn);\n\n      curve = smoothstep(0.0, 0.006, abs(uv.y - mix(0.33, 0.66, fn)));\n      col = mix(white, col, curve);\n\n\n    } else {\n      // right\n      // draw CLAMP gradient\n    \n      fn = clamp(rightOffset, 0.2, 0.8);\n\n      col = mix(cyan, magenta, fn);\n\n      curve = smoothstep(0.0, 0.006, abs(uv.y - mix(0.33, 0.66, fn)));\n      col = mix(white, col, curve);\n\n    }\n  } else {\n    // bottom\n    if(uv.x < 0.5) {\n\n      fn = min(leftOffset, 0.3);\n      \n      col = mix(cyan, magenta, fn);\n\n      curve = smoothstep(0.0, 0.006, abs(uv.y - mix(0.0, 0.33, fn)));\n      col = mix(white, col, curve);\n\n    } else {\n      fn = max(rightOffset, 0.7);\n      \n      col = mix(cyan, magenta, fn);\n\n      curve = smoothstep(0.0, 0.006, abs(uv.y - mix(0.0, 0.33, fn)));\n      col = mix(white, col, curve);\n    }\n\n  }\n\n  // SEPARATORS \n  // horizontal\n  float separator = smoothstep(0.0, 0.002, abs(uv.y - 0.66));\n  col = mix(gray, col, separator);\n\n  separator = smoothstep(0.0, 0.002, abs(uv.y - 0.33));\n  col = mix(gray, col, separator);\n\n\n  // vertical \n  separator = smoothstep(0.0, 0.002, abs(uv.x - 0.5));\n  col = mix(gray, col, separator);\n\n  fragColor = vec4(col, 1.0);\n \n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"vec3 cyan = vec3(0.0, 1.0, 1.0);\nvec3 magenta = vec3(1.0, 0.0, 1.0);\nvec3 white = vec3(1.0, 1.0, 1.0);\nvec3 gray = vec3(0.2, 0.2, 0.2);","name":"Common","description":"","type":"common"}]}