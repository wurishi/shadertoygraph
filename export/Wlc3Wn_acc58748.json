{"ver":"0.1","info":{"id":"Wlc3Wn","date":"1576076849","viewed":172,"name":"Bytebeat Mix","username":"gaz","description":"bytebeat","likes":9,"published":1,"flags":8,"usePreview":0,"tags":["bytebeat"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGzn","filepath":"/media/a/0c7bf5fe9462d5bffbd11126e82908e39be3ce56220d900f633d58fb432e56f5.png","previewfilepath":"/media/ap/0c7bf5fe9462d5bffbd11126e82908e39be3ce56220d900f633d58fb432e56f5.png","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGzr","filepath":"/media/a/08b42b43ae9d3c0605da11d0eac86618ea888e62cdd9518ee8b9097488b31560.png","previewfilepath":"/media/ap/08b42b43ae9d3c0605da11d0eac86618ea888e62cdd9518ee8b9097488b31560.png","type":"texture","channel":3,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// https://www.shadertoy.com/view/wlc3zH\nvec4 texNoise(vec2 uv)\n{\n    float f = 0.;\n    f += texture(iChannel0, uv*.125).r*.5;\n    f += texture(iChannel0, uv*.25).r*.25;\n    f += texture(iChannel0, uv*.5).r*.125;\n    f += texture(iChannel0, uv*1.).r*.125;\n    f=pow(f,1.2);\n    return vec4(f*.45+.05);\n}\n\nfloat hash(float p)\n{\n    return fract(sin(p+4545.12345)*5555.0);\n}\n\n// https://www.shadertoy.com/view/WsX3R4\nfloat rhythmSequence(int s,float time, float a)\n{\n  float n =mod(time,a);\n  for(int i=0;i<16;i++){\n    if((s>>(int(time/a)-i)%16&1)==1)break;\n    n+=a;\n  }\n  return n;\n}\n\n#define Rhythm2Int(v,a)v=0;for(int i=0;i<16;i++)v+=a[i]<<i;\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n    vec2 uv = (fragCoord*2.-iResolution.xy)/iResolution.y;\n    uv += texNoise(uv*0.1 - vec2(0.,iTime*0.05)).rg*0.5;\n    vec2 id=floor(uv/0.5);\n    uv=mod(uv,0.5)-0.25;\n    int rhytm;\n    Rhythm2Int(rhytm, int[]( 1,0,0,0, 0,0,0,1, 1,0,1,0, 0,0,0,0 ))\n    float value=exp(-rhythmSequence(rhytm,iTime,0.05)*3.0); \n    value*=hash(dot(id,vec2(123.236,floor(iTime*1.05)*12.456)))*0.5;\n    vec3 col=vec3(0.05,0.05,0.1);\n    col=mix(vec3(0.2,0.6,0.4),col,smoothstep(value,value+0.01,length(uv)));\n    value*=0.2;\n\tcol=mix(vec3(0.8,0.,0.4),col,smoothstep(value,value+0.01,abs(length(uv)-0.1)));\n\tfragColor = vec4(col,1.0);\n}\n","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"// http://countercomplex.blogspot.jp/2011/10/algorithmic-symphonies-from-one-line-of.html\nint code0(int t){return (t|(t>>9|t>>7))*t&(t>>11|t>>9);}\nint code1(int t){return (t*9&t>>4|t*5&t>>7|t*3&t/1024)-1;}\nint code2(int t){return t*(t>>11&t>>8&123&t>>3);}\nint code3(int t){return t*(((t>>12)|(t>>8))&(63&(t>>4)));}\nint code4(int t){return t*(t>>8*(t>>15|t>>8)&(20|(t>>19)*5>>t|t>>3));}\nint code5(int t){return (t>>6|t|t>>(t>>16))*10+((t>>11)&7);}\nint code6(int t){return (t|(t>>9|t>>7))*t&(t>>11|t>>9);}\nint code7(int t){return t*5&(t>>7)|t*3&(t*4>>10);}\nint code8(int t){return (t>>7|t|t>>6)*10+4*(t&t>>13|t>>6);}\nint code9(int t){return ((t/2*(15&(0x234568a0>>(t>>8&28))))|t/2>>(t>>11)^t>>12)+(t/16&t&24);}\nint code10(int t){return (t&t/255)-(t*3&t>>13&t>>6);}\nint code11(int t){return ((t<<1)^((t<<1)+(t>>7)&t>>12))|t>>(4-(1^7&(t>>19)))|t>>7;}\n\n#define ByteBeat(f,t) (mix(float(f(int(t))&255),float(f(int(t+1.0))&255),smoothstep(0.0,1.0,fract(t)))/128.0-1.0)\nvec2 mainSound( in int samp,float t)\n{\n    float L=0.0,R=0.0;\n    L+=0.3*ByteBeat(code7,t*1500.0);\n    L+=0.3*ByteBeat(code2,t*10000.0);\n    L+=0.3*ByteBeat(code11,t*5000.0);\n    R+=0.3*ByteBeat(code11,(t-0.1)*5000.0);\n    R+=0.3*ByteBeat(code8,t*10000.0);\n    R+=0.3*ByteBeat(code9,t*5000.0);\n    return 0.8*clamp(vec2(L,R),-vec2(1),vec2(1));\n}\n","name":"Sound","description":"","type":"sound"}]}