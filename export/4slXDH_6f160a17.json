{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"// srtuss, 2014\n\n#define pi 3.1415926535897932384626433832795\n\nfloat tri(float x)\n{\n\treturn abs(fract(x) * 2.0 - 1.0);\n}\n\nfloat dt(vec2 uv, float t)\n{\n\tvec2 p = mod(uv * 10.0, 2.0) - 1.0;\n\tfloat v = 1.0 / (dot(p, p) + 0.01);\n\tp = mod(uv * 11.0, 2.0) - 1.0;\n\tv += 0.5 / (dot(p, p) + 0.01);\n\treturn v * (sin(uv.y * 2.0 + t * 8.0) + 1.5);\n}\n\nfloat fun(vec2 uv, float a, float t)\n{\n\tfloat beat = t * 178.0 / 4.0 / 60.0;\n\tfloat e = floor(beat) * 0.1 + 1.0;\n\tbeat = fract(beat) * 16.0;\n\tfloat b1 = 1.0 - mod(beat, 10.0) / 10.0;\n\tfloat b2 = mod(beat, 8.0) / 8.0;\n\tb1 = exp(b1 * -1.0) * 0.1;\n\tb2 = exp(b2 * -4.0);\n\te = floor(fract(sin(e * 272.0972) * 10802.5892) * 4.0) + 1.0;\n\tfloat l = length(uv);\n\tfloat xx = l - 0.5 + sin(mod(l * 0.5 - beat / 16.0, 1.0) * pi * 2.0);\n\ta += exp(xx * xx * -10.0) * 0.05;\n\tvec2 pp = vec2(a * e + l * sin(t * 0.4) * 2.0, l);\n\tpp.y = exp(l * -2.0) * 10.0 + tri(pp.x) + t * 2.0 - b1 * 4.0;\n\tfloat v = pp.y;\n\tv = sin(v) + sin(v * 0.5) + sin(v * 3.0) * 0.2;\n\tv = fract(v) + b2 * 0.2;\n\tv += exp(l * -4.5);\n\tv += dt(pp * vec2(0.5, 1.0), t) * 0.01;\n\treturn v;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tfloat t = iTime;\n\tvec2 uv = fragCoord.xy / iResolution.xy * 2.0 - 1.0;\n\tuv.x *= 0.7 * iResolution.x / iResolution.y;\n\tfloat an = atan(uv.y, uv.x) / pi;\n\tfloat a = 0.02;\n\tfloat v =\n\t\tfun(uv, an, t + a * -3.) +\n\t\tfun(uv, an, t + a * -2.) * 6. +\n\t\tfun(uv, an, t + a * -1.) * 15. +\n\t\tfun(uv, an, t + a *  0.) * 20. +\n\t\tfun(uv, an, t + a *  1.) * 15. +\n\t\tfun(uv, an, t + a *  2.) * 6. +\n\t\tfun(uv, an, t + a *  3.);\n\tv /= 64.0;\n\tvec3 col;\n\tcol = clamp(col, vec3(0.0), vec3(1.0));\n\tcol = pow(vec3(v, v, v), vec3(0.5, 2.0, 1.5) * 8.0) * 3.0;\n\tcol = pow(col, vec3(1.0 / 2.2));\n\tfragColor = vec4(col, 1.0);\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"4slXDH","date":"1400259638","viewed":1958,"name":"star swirl","username":"srtuss","description":"playing around in with 2d things. has an 178 bpm breakbeat in it ^^","likes":7,"published":1,"flags":0,"usePreview":0,"tags":["2d","simple","red"],"hasliked":0,"parentid":"","parentname":""}}