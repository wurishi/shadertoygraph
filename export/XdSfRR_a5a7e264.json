{"ver":"0.1","info":{"id":"XdSfRR","date":"1498997631","viewed":931,"name":"Retro Pacman","username":"sawass","description":"Pixel Pacman character simulation","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["retro","pacman","pixelate","arcade"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"/*\n* RETRO PACMAN\n* @author Jordi Serrano Berbel\n* @date 07/02/17\n*/\n\n#define PIXELATION 30.\n#define PIXELATE(uv) floor((uv)*PIXELATION)/PIXELATION\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 screen = iResolution.xy;\n    \n\tvec2 uvBody = PIXELATE((fragCoord - screen / vec2(2.00, 2.00)) / screen.y),\n         uvEye  = PIXELATE((fragCoord - screen / vec2(1.85, 1.25)) / screen.y);\n    \n    float newPos = 1.5 - float(int(iTime*10.) % 30)/10.;\n    uvBody.x += newPos;\n    uvEye.x  += newPos;\n    \n\tfloat radiusBody = length(uvBody),\n          radiusEye  = length(uvEye);\n    \n    float pacman = ( \n        step(radiusBody, .5) *\n        step(uvBody.x / radiusBody, .85 - .15 * sin(iTime*8.)) - \n        step(radiusEye, .05)\n    );\n    \n    fragColor = vec4(1.,1.,0.,1.) * pacman;\n}","name":"Image","description":"","type":"image"}]}