{"ver":"0.1","info":{"id":"4sfyDB","date":"1489590305","viewed":207,"name":"Line 2d distance field","username":"pthextract","description":"Line distance field","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["line","testing"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//Created by pthextract in 2017-Mar-15\n\n// from: https://iquilezles.org/articles/distfunctions\n// just a bit compacted\nfloat sdCap( vec3 p, vec3 a, vec3 b)\n{\n    return length((p-=a)-(b-=a)*clamp(dot(p,b)/dot(b,b), 0.0, 1.0 ));\n}\n\nfloat sdCapP( vec3 p, vec3 a, vec3 b, float la,float lb)\n{\n    float l=length(a-b);\n    float l1=dot(a-p,a-b)/l/l;\n    float ll=length((p-=a)-(b-=a)*clamp(dot(p,b)/dot(b,b), 0.0, 1.0 ));\n    //float l2=dot(b-p,b-a)/length(b-a)/length(b-a);\n    return (-lb*l1-la*(1.-l1))+ll;\n}\n\nvoid mainImage( out vec4 o,  vec2 i )\n{\n    vec2 ir=iResolution.xy;\n\t i = i /ir -.5;\n    i/=0.01;i.x/=ir.y/ir.x;\n\to = vec4(0);\n    \n    vec3 la=vec3(-22.*sin(iDate.w),22.*cos(iDate.w),1.);\n    vec3 lb=vec3(22.*sin(iDate.w),-22.*cos(iDate.w),1.);\n    \n    o=1.-vec4(clamp( sdCap(vec3(i,1),la,lb)-2.,.0,.8 ));\n    \n     la=vec3(-22.*sin(iDate.w+1.5078),22.*cos(iDate.w+1.507),1.);\n     lb=vec3(22.*sin(iDate.w+1.507),-22.*cos(iDate.w+1.507),1.);\n   \n    \n    o+=1.-vec4(clamp( sdCapP(vec3(i,1),la,lb,.1,5.)-1.,.3,.8 ));\n \t//o.g+=clamp( (1.-length(vec3(i/33.,1)-vec3(0,0,.2))-.1)*1.9,.0,.9);//df sphere\n}","name":"Image","description":"","type":"image"}]}