{"ver":"0.1","info":{"id":"4dyfz3","date":"1529702573","viewed":112,"name":"the game of life","username":"elgecko","description":"conway's game of life","likes":0,"published":1,"flags":32,"usePreview":0,"tags":["buffer"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    int fp = iFrame%2;\n    if (fp==0)\n        fragColor = texture(iChannel0, uv);\n    else\n        fragColor = texture(iChannel1, uv);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    //float grid = 20.0;\n    int fp = iFrame%2;\n    if (fp==0)\n        fragColor = texture(iChannel0, fragCoord/iResolution.xy);\n    else\n        fragColor = texture(iChannel1, fragCoord/iResolution.xy);////////////\n}","name":"Buf A","description":"","type":"buffer"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"XsXGR8","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 grid = vec2(16.,9.)*3.;\n    if (iFrame==0)\n    {\n        const int size = 9;\n    \tvec2 uv = fragCoord/iResolution.xy*grid.xy;\n        bool cond = false;\n        vec2[size] tab = vec2[size](vec2(0.,1.), vec2(0.,3.), vec2(1.,4.), vec2(2.,4.), vec2(3.,4.),\n                                    vec2(4.,4.), vec2(4.,3.), vec2(4.,2.), vec2(3.,1.));\n        \n        for(int i = 0; i<size; i++)\n            cond = cond || (uv.x>tab[i].x && uv.x<tab[i].x+1. && uv.y>tab[i].y && uv.y<tab[i].y+1.);\n        \n        if (cond)\n            fragColor = vec4(1.,1.,1.,0.);\n        else\n            fragColor = vec4(0.,0.,0.,0.);\n        return;\n    }\n    int fp = iFrame%2;\n    if (fp==0)\n    {\n    \tvec2 uv = fragCoord/iResolution.xy*grid.xy;\n        vec2 xy = vec2(floor(uv.x), floor(uv.y));\n    \tint nbVois = 0;\n        bool isAlive;\n        vec2 temp;\n        temp = (xy+vec2(0.5,0.5))/grid.xy;\n        isAlive = (texture(iChannel0, temp)==vec4(1.,1.,1.,0.));\n        temp = (xy+vec2(1.5,0.5))/grid.xy;\n        if (temp.x>0. && temp.x<1. && temp.y>0. && temp.y<1. && texture(iChannel0, temp)==vec4(1.,1.,1.,0.))\n            nbVois++;\n        temp = (xy+vec2(1.5,1.5))/grid.xy;\n        if (temp.x>0. && temp.x<1. && temp.y>0. && temp.y<1. && texture(iChannel0, temp)==vec4(1.,1.,1.,0.))\n            nbVois++;\n        temp = (xy+vec2(0.5,1.5))/grid.xy;\n        if (temp.x>0. && temp.x<1. && temp.y>0. && temp.y<1. && texture(iChannel0, temp)==vec4(1.,1.,1.,0.))\n            nbVois++;\n        temp = (xy+vec2(-0.5,1.5))/grid.xy;\n        if (temp.x>0. && temp.x<1. && temp.y>0. && temp.y<1. && texture(iChannel0, temp)==vec4(1.,1.,1.,0.))\n            nbVois++;\n        temp = (xy+vec2(-0.5,0.5))/grid.xy;\n        if (temp.x>0. && temp.x<1. && temp.y>0. && temp.y<1. && texture(iChannel0, temp)==vec4(1.,1.,1.,0.))\n            nbVois++;\n        temp = (xy+vec2(-0.5,-0.5))/grid.xy;\n        if (temp.x>0. && temp.x<1. && temp.y>0. && temp.y<1. && texture(iChannel0, temp)==vec4(1.,1.,1.,0.))\n            nbVois++;\n        temp = (xy+vec2(0.5,-0.5))/grid.xy;\n        if (temp.x>0. && temp.x<1. && temp.y>0. && temp.y<1. && texture(iChannel0, temp)==vec4(1.,1.,1.,0.))\n            nbVois++;\n        temp = (xy+vec2(1.5,-0.5))/grid.xy;\n        if (temp.x>0. && temp.x<1. && temp.y>0. && temp.y<1. && texture(iChannel0, temp)==vec4(1.,1.,1.,0.))\n            nbVois++;\n        if ((isAlive && (nbVois==2)) || nbVois==3)\n            fragColor = vec4(1.,1.,1.,0.);\n        else\n            fragColor = vec4(0.,0.,0.,0.);\n    }\n    else\n        fragColor = texture(iChannel1, fragCoord/iResolution.xy);\n}","name":"Buf B","description":"","type":"buffer"}]}