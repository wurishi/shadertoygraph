{"ver":"0.1","info":{"id":"7sdXz8","date":"1632669935","viewed":51,"name":"Vanes","username":"1rosehip","description":"Rectangles rotating around the left top corner.","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["rotation","vanes"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"/**\n * create a rotation matrix for the given angle in radians\n */\nmat2 getRotationMatrix(float angle) {\n    float s = sin(angle);\n    float c = cos(angle);\n\n    return mat2(c, -s,\n                s, c);\n}\n\n\n/**\n draw a rectangle\n*/\nvec3 rect(vec2 position, vec2 center, vec2 anchor, vec2 size) {\n    vec3 color = vec3(1.0, 1.0, 1.0);\n\n    vec2 pos = position - center;\n\n    float halfW = size.x / 2.0;\n    float halfH = size.y / 2.0;\n\n    color *= step(-halfW - anchor.x, pos.x) - step(halfW - anchor.x, pos.x);\n    color *= step(-halfH - anchor.y, pos.y) - step(halfH - anchor.y, pos.y);\n    \n    return color;\n}\n\n/**\n * draw a stick\n */\nvec3 stick(vec2 position, vec2 center){\n    vec3 color = vec3(1.0, 1.0, 1.0);\n    vec2 pos = position - center;\n    \n    float lineSize = 0.005;\n    float verticalLine = smoothstep(lineSize, lineSize + lineSize / 2.0, abs(pos.x + 0.1 * sin(5.0 * pos.y)));\n    color *= 1.0 - (1.0 - verticalLine) * (smoothstep(0.1, 0.0, pos.y));\n\n    return color;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.y - vec2(0.5, 0.0);\n    uv = mod(uv, 1.0);\n    \n    vec3 color = vec3(0.31, 0.02, 0.37);\n\n    vec2 center = vec2(0.5, 0.5);\n    mat2 mat = getRotationMatrix((iTime + uv.x));\n    vec2 pos = mat * (uv - center) + center;\n\n    // stick\n    color = mix(vec3(0.5922, 0.4078, 0.6), color, stick(uv, center));\n    vec2 size = vec2(0.4, 0.2);\n    \n    vec3 rect1 = rect(pos, center, -size / 2.0, size);\n    color = mix(color, vec3(1.0, 0.8549, 0.9765), rect1);\n\n    vec3 rect2 = rect(pos, center, vec2(size.y, -size.x) / 2.0, size.yx);\n    color = mix(color, vec3(0.8549, 0.9608, 1.3), rect2);\n\n    vec3 rect3 = rect(pos, center, size / 2.0, size);\n    color = mix(color, vec3(0.8549, 1.0, 0.9451), rect3);\n\n    vec3 rect4 = rect(pos, center, vec2(-size.y, size.x) / 2.0, size.yx);\n    color = mix(color, vec3(0.9961, 1.0, 0.8549), rect4);\n\n    fragColor = vec4(color, 1.0);\n}","name":"Image","description":"","type":"image"}]}