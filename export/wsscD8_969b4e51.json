{"ver":"0.1","info":{"id":"wsscD8","date":"1584738149","viewed":147,"name":"Lyapunov Mirror Animation","username":"gPlatl","description":"Original code by Inigo Quilez (see header).\n\nPress mouse to avoid mirroring! ","likes":2,"published":1,"flags":80,"usePreview":0,"tags":["2d","fractal","animated","lyapunov"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGRr","filepath":"/presets/tex00.jpg","previewfilepath":"/presets/tex00.jpg","type":"keyboard","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XtB3DR","filepath":"https://soundcloud.com/zaramoth/pyre-original-soundtrack-moon-touched","previewfilepath":"https://soundcloud.com/zaramoth/pyre-original-soundtrack-moon-touched","type":"musicstream","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":0}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//----------------------------------------------------------\n// Shader: Lyapunov_Mirror_Animation.glsl\n//\n// Original code author: Inigo Quilez 2013 \n//   https://www.shadertoy.com/view/Mds3R8\n//\n// Animated variant:  \n//   https://www.shadertoy.com/view/WdscWH\n//----------------------------------------------------------\nprecision highp float;\n\n#define AA 1\n\n#define s 0.97\n#define t 0.04\n//----------------------------------------------------------\nvec3 calc(in vec2 p) \n{\n  float                // animation\n  w1 = s + t*sin(0.0 + 1.3*iTime*0.2),\n  w2 = s + t*sin(1.0 + 1.7*iTime*0.2),\n  w3 = s + t*sin(4.0 + 1.1*iTime*0.2),\n  w4 = s + t*sin(2.0 + 1.5*iTime*0.2),\n  w5 = s + t*sin(5.0 + 1.9*iTime*0.2),\n  A1 = w1*p.x,  B1 = w1*p.y,\n  A2 = w2*p.x,  B2 = w2*p.y,\n  A3 = w3*p.x,  B3 = w3*p.y,\n  A4 = w4*p.x,  B4 = w4*p.y,\n  A5 = w5*p.x,  B5 = w5*p.y,\n  x = 0.5,\n  h = 0.0;\n  for (int i = 0; i < 200; i++) \n  { // rule: AABAB\n    x = A1*x*(1.0-x); h += log2(abs(A1*(1.0-2.0*x)));\n    x = A2*x*(1.0-x); h += log2(abs(A2*(1.0-2.0*x)));\n    x = B3*x*(1.0-x); h += log2(abs(B3*(1.0-2.0*x)));\n    x = A4*x*(1.0-x); h += log2(abs(A4*(1.0-2.0*x)));\n    x = B5*x*(1.0-x); h += log2(abs(B5*(1.0-2.0*x)));\n  }\n  h /= 200.0 * 5.0;\n\n  vec3 col = vec3(0.0);\n  if (h > 0.0)   // background?\n    h *= 0.0001;\n  else h = abs(h);\n  col = vec3(0.5+0.5*sin(0.9+4.5*h),\n             0.5+0.5*sin(0.2+4.5*h),\n             0.5+0.5*sin(0.5+3.5*h));\n  return col * vec3(1.1)*pow(h,0.2);\n}\n//----------------------------------------------------------\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) \n{\n  vec3 col = vec3(1.);\n  vec2 uv = gl_FragCoord.xy;\n  vec2 R = 1.0 / iResolution.xy;\n  if (iMouse.z <= 0.0) \n    uv = 1.9*abs(gl_FragCoord.xy  - 0.5*iResolution.xy) ;\n\n  float k = 3.0;   \n  if (AA == 0)\n    col = calc(k + (uv * R));\n  else\n    col =(calc(k+(uv              ) * R) +\n          calc(k+(uv+vec2(0.0,0.5)) * R) +\n          calc(k+(uv+vec2(0.5,0.0)) * R) +\n          calc(k+(uv+vec2(0.5,0.5)) * R)) / 4.0;\n\n  fragColor = vec4(col, 1.0);\n}\n","name":"Image","description":"","type":"image"}]}