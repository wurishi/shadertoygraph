{"ver":"0.1","info":{"id":"MdtXzf","date":"1460724650","viewed":205,"name":"LUX meets JPN","username":"tomaes","description":"...started as flags of Japan and Luxembourg, hence the title.","likes":11,"published":1,"flags":0,"usePreview":0,"tags":["2d","distortion","minimal","flags"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// flag of Japan\nvec3 jpn(vec2 _uv)\n{   \n    float off = atan(_uv.x,_uv.y)*0.1 > 0.1 ? 1.0: 2.0-_uv.y;\n    vec3 col = vec3(2.2-off,1.1-off,0.8-off);\n\t\n    if ( distance( vec2(_uv.x,0.15+_uv.y*0.7),vec2(0.5,0.5)) < 0.15 )\n    \tcol = vec3(1.0,0.2,0.2+_uv.x*0.4 );\n    \n    return col;\n}\n\n// flag of Luxembourg\nvec3 lux(vec2 _uv)\n{\n    if (mod(_uv.y, 1.0) < 0.3333)\n    {\n        return vec3(0.0,0.6,1.0); //blue\n    } \n    else\n\tif (mod(_uv.y, 1.0) < 0.6666)\n    {\n        return vec3(1.0,1.0-_uv.x*0.1,1.0); //white\n    }\n    else\n    {\n        return vec3(1.0,0.0,_uv.x*0.3); //red\n    }\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord.xy / iResolution.xy;\n    float t = 3000.0+iTime;\n    \n    uv.y += sin(t+uv.x*sin(uv.x*6.0+t)*uv.y*sin(t)*10.0)*0.5;   \n    uv.y += sin(t*0.1+uv.x*5.0)*0.2;\n    \n    if ( ((uv.y/uv.x)*0.3+(uv.y+uv.x)*0.7) > (sin(t)) ) \n    {    \n    \tfragColor = vec4(jpn(uv),1.0) - vec4(lux(uv),1.0)*mod(t+uv.y,1.0)*0.8; \n    }\n    else\n    \tfragColor = vec4(lux(uv),1.0) - vec4(jpn(uv),1.0)*0.15;\n    \n    // band\n    if ( (uv.y*uv.x+0.05) > (sin(t)) && (uv.y*uv.x) < (sin(t)) \n       && (mod(uv.x+t*0.4,0.1) < 0.08)\n       ) \n    \tfragColor =  vec4(1.0,1.0,1.0,1.0);//vec4(0.5,0.9,uv.x*0.5,1.0);    \n}","name":"Image","description":"","type":"image"}]}