{"ver":"0.1","info":{"id":"3sdfWn","date":"1604832118","viewed":70,"name":"heart beat","username":"zhuhaigen","description":"heart beat","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["heartbeat"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// https://zhuanlan.zhihu.com/p/110429623\n// https://www.jb51.net/article/157084.htm\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = (2.*fragCoord.xy-iResolution.xy)/(min(iResolution.x,iResolution.y));\n\n\tvec3 bcol = vec3(1.,0.8,0.8)*(1.-0.38*length(uv.xy));\n    \n    \n   float tt = mod(iTime,2.)/2.;  //u_time 为周期性输入的时间\n\tfloat ss = pow(tt,.2)*0.5 + 0.5;\n\tss = 1.0 + ss*0.5*sin(tt*6.2831*3.0)*exp(-tt*4.0);//控制幅度的函数\n\tuv *= vec2(0.5,1.5) + ss*vec2(0.5,-0.5);\n    \n    \n    //向下偏移0.25个单位\n    uv.y-=0.25;\n    \n    float PI = 3.14159;\n    float a = abs(atan(uv.x,uv.y) / PI);\n    float p = length(uv);\n    \n    //心的颜色，向外扩展颜色稍微变浅\n    vec3 hcol=vec3(0.9,0.35*p,0.35*p);\n    \n    float d = (13.0*a - 22.0*a*a + 10.0*a*a*a)/(6.0-5.0*a);\n    \n    //这里直接用a-p也行，不过心形比较壮\n    //vec3 rescol=mix(bcol,hcol,max(0.,a-p));\n    vec3 rescol=mix(bcol,hcol,smoothstep(-0.03,0.03,d-p));\n    // Output to screen\n    fragColor = vec4(rescol,1.0);\n}","name":"Image","description":"","type":"image"}]}