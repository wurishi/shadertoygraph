{"ver":"0.1","info":{"id":"7dVGRW","date":"1631204115","viewed":296,"name":"Voxel LOD in 490 chars","username":"Xor","description":"Based on my mini [url=https://www.shadertoy.com/view/sdy3RW]voxel shader[/url]","likes":14,"published":1,"flags":0,"usePreview":0,"tags":["voxel","golf"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//Based on: https://www.shadertoy.com/view/sdy3RW\n//<512 Chars playlist: shadertoy.com/playlist/N3SyzR\n\n#define m(p) (length(mod(p,4.)-2.)-2.)*z\n\nvoid mainImage(out vec4 O, vec2 I)\n{\n    vec3 a = iResolution, b=iMouse.xyz,\n    d = vec3(I+I-a.xy,a),\n    p = vec3(I-I,iTime),c = p;\n    \n    d.xz *= mat2(sin(vec4(0,11,33,0)+3.*(b/a-.5*sign(b)).x)); \n    d /= length(d);\n    \n    float e = I.x/a.x*4.,\n    z = exp2(ceil(++e));\n    for(int i = 0; i++<999 && m(a=ceil(c*z+d*step(a,b))/z-.5/z)>.8; )\n        a = sign(d),\n        b = fract(-c*z*a),\n        a *= (b+step(b,-b))/d,\n        b = min(a.xxx,min(a.y,a.z)),\n        c += d*b/z;\n\n    O.rgb = mod(a*z*2.+.5,3.)/(9.+dot(p-c,p-c))*m(c);\n    O *= 3.2-2.*pow(abs(mod(e+e,2.)-1.),3.);\n}\n\n/*\n///Original 527 chars:\n\n#define V vec3\n#define m(p) (length(mod(p,4.)-2.)-2.)\n\nvoid mainImage(out vec4 O, vec2 I)\n{\n    V a = iResolution, b=iMouse.xyz,\n    c = 3.*(b/a-.5)*sign(b),\n    d = V(a.y/.5,I+I-a.xy),\n    p = d-d; p.x=iTime;\n    d.xy *= mat2(sin(vec4(0,11,33,0)+c.x)); \n    d /= length(d);\n   \n    c = p;\n    float e = I.x/a.x*4.,\n    L = float(4<<int(e)),\n    z = L;\n    for(int i = 0; i++<999 && z<=L;)\n    {\n        a = sign(d);\n        b = fract(-c*z*a);\n        b += step(b,-b);\n        a *= b/d;\n        b = min(a.xxx,min(a.y,a.z));\n        c += d*b/z;\n        z *= m(ceil(c*z+d*step(a,b))/z-.5/z)*z<.8?2.:1.;\n    }\n\n    O.rgb = (mod(ceil(c*z/2.),3.)+.5)/V(8.+dot(p-c,p-c))*(m(c)*z);\n    O *= 1.2-.8*pow(abs(mod(e+e,2.)-1.),3.);\n}\n*/","name":"Image","description":"","type":"image"}]}