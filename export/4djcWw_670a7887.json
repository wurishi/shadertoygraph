{"ver":"0.1","info":{"id":"4djcWw","date":"1492354646","viewed":210,"name":"trying to","username":"Loeizd","description":"the function NoiseIt does most of the work","likes":6,"published":1,"flags":32,"usePreview":0,"tags":["jpeg"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n\tfragColor = texture(iChannel0,uv);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"XdfGRr","filepath":"/media/a/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm","previewfilepath":"/media/ap/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm","type":"video","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"vec3 toYUV(vec3 intex)\n{\n    float y = .299*intex.r+0.587*intex.g+0.114*intex.b;\n    return vec3(y, 0.436*(intex.b-y)/(1.-0.114), 0.615*(intex.r-y)/(1.-0.229));   \n}\n\nvec3 toRGB(vec3 yuv)\n{\n \treturn vec3(yuv.x+1.14*yuv.z, yuv.x-0.395*yuv.y-0.581*yuv.z, yuv.x+2.033*yuv.y);   \n}\n\nvec3 NoiseIt(vec3 img)\n{\n\treturn vec3(sin(img.x*9897.), sin(img.y*7654.8),sin(img.z*97.));    \n}\n    \n\n/*vec3 JPG(vec3 tex)\n{\n \treturn();   \n}*/\n\nvoid mainImage( out vec4 C, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord / iResolution.xy;\n    \n    //offset\n    vec2 offset = vec2(0.,-sin(iDate.w)*0.008+0.01);\n    \n    //clear the buffer sometimes\n    float loose = clamp(1.-(-fract(iDate.w*sin(iDate.w*0.66))+.2), 0., 1.);\n    \n    //Create Buffer\n    vec4 BA = texture(iChannel0, uv+offset)*loose;\n    \n    // pixelate UVs\n    float s = 130.;\n    vec2 puv = vec2(floor(uv.x*s)/s, floor(uv.y*s)/s) ;//+ vec2(1./s*0.5);\n   \n    //RGB to YUV\n    //vec3 img = toRGB(toYUV(vec3(texture(iChannel1, uv).x, texture(iChannel1, puv).yz)));\n    vec3 img = toRGB(toYUV(vec3(texture(iChannel0, uv+offset).x, texture(iChannel0, puv+offset).yz)));    \n\n    //sin noise\n    vec3 noise = vec3(sin(img.x*9897.), sin(img.y*7654.8),sin(img.z*97.));\n    \n    \n    //C = texture(iChannel1, puv);\n    //C = vec4(puv, 0.,0.);\n    C = vec4(mix(NoiseIt(img), img, 0.95), 1.);\n\t\n    \n    vec4 london = texture(iChannel1, uv);\n   \tC = max(london,vec4(mix(noise, img, 0.95), 1.));\n    C = max(london,vec4(NoiseIt(BA.xyz), 1.));\n    C = vec4(NoiseIt(max(london, BA).xyz), 1.);\n}","name":"Buf A","description":"","type":"buffer"}]}