{"ver":"0.1","info":{"id":"ddSGzd","date":"1668070549","viewed":323,"name":"Supah Watch","username":"supah","description":"Supah Watch feat Simone","likes":15,"published":1,"flags":0,"usePreview":0,"tags":["time","watch","idate","supah"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define TAO 6.2831853\n#define HALFPI 1.570796325\n#define S smoothstep\n#define R iResolution.xy\n#define px 1./min(R.x,R.y)\n\n#define outerRadius  250. *px\n#define outerMinTick 5.   *px\n#define outerMaxTick 120. *px\n\nfloat sdfBox(vec2 p, vec2 size)\n{\n    vec2 d = abs(p) - size;  \n\treturn length(max(d, vec2(0))) + min(max(d.x, d.y), 0.0);\n}\n\nmat2 rot(float a) {\n    return mat2(cos(a), -sin(a), sin(a), cos(a));\n}\n\nfloat tick(vec2 uv, vec2 size, float offset, float time) {\n    uv *= rot(time);\n    uv -= vec2(0., size.y + offset);\n    return S(px, 0., sdfBox(uv, size));\n}\n\nfloat light(vec2 uv, float time) {\n    uv *= rot(time+HALFPI);\n    return pow(length(vec2(atan(uv.y, uv.x), length(uv))), 1.);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord-.5*R.xy)/R.y;\n\n    float hourTime = (iDate.w/3600.)/24.*TAO*2.;\n    float minTime = iDate.w/60./60.*TAO;\n    float secTime = iDate.w/60.*TAO;\n\n    float s = tick(uv, vec2(0.1*px, 85.*px), 20.*px, secTime);\n    float m = tick(uv, vec2(0.5*px, 70.*px), 16.*px, minTime);\n    float h = tick(uv, vec2(.5*px, 40.*px), 20.*px, hourTime);\n    float pin = S(px, 0., abs(length(uv) - 4.*px) - .5*px);\n    \n    float outer = 0.;\n    float ticks = 1./120.;\n    for (float i = ticks; i < 1.; i += ticks) {\n        vec2 st = uv;\n        float r = TAO * i;\n        st *= rot(r);\n        float t = pow(.5 + .5 * sin(HALFPI+secTime-i*TAO), 20.);\n        st -= vec2(0., outerRadius + t*-outerMaxTick);\n        outer += S(px, 0., sdfBox(st, vec2(0.1*px, outerMinTick + t * outerMaxTick)));\n    }\n    \n    float clock = m +\n                  h +\n                  s * .4 +\n                  pin * .4 +\n                  outer * .2 +\n                  light(uv, secTime) * .05;\n               \n    vec3 col = vec3(clock);\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}