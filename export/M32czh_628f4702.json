{"ver":"0.1","info":{"id":"M32czh","date":"1726990358","viewed":20,"name":"Weird Fractals","username":"BuzzWP","description":"mandelbrot but with a more general, matrix-based f_c(z) function","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["fractal"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const int MANDEL_ITERS = 255;\nconst float MANDEL_TOO_BIG = 10.0;\n\nconst int TERMS = 20;\n\nmat2 exp_mat2(mat2 a) {\n    mat2 cumu = mat2(1, 0, 0, 1);\n    mat2 term = mat2(1, 0, 0, 1);\n    \n    for (int i = 1; i < TERMS; i++) {\n        term = term * a / float(i);\n        cumu += term;\n    }\n    \n    return cumu;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float X_MIN = -2.0;\n    float X_MAX = 0.7;\n    float Y_MIN = -1.8;\n    float Y_MAX = 1.8;\n    \n    vec2 mouseuv = 1.4 * vec2(\n        X_MIN + (X_MAX - X_MIN) * (iMouse.x / iResolution.x),\n        Y_MIN + (Y_MAX - Y_MIN) * (iMouse.y / iResolution.y)\n    );\n    \n    mat2 IMAGINARY = mat2(0., mouseuv.x, -mouseuv.y, 0.);\n\n    vec2 c = vec2(\n        X_MIN + (X_MAX - X_MIN) * (fragCoord.x / iResolution.x),\n        Y_MIN + (Y_MAX - Y_MIN) * (fragCoord.y / iResolution.y)\n    );\n    \n    vec2 z = vec2(0., 0.);\n    int i = 0;\n    for (; i < MANDEL_ITERS; i++) {\n        float t = 2. * atan(z.y, z.x);\n        //z = dot(z, z) * mat2(cos(t), sin(t), -sin(t), cos(t)) * vec2(1., 0.) + c;\n        z = dot(z, z) * exp_mat2(t * IMAGINARY) * vec2(1., 0.) + c;\n        \n        if (length(z) > MANDEL_TOO_BIG) break;\n    }\n    float b = sqrt(2.*float(i) / 255.);\n\n    // Output to screen\n    fragColor = vec4(b, b, b, 1.0);\n}","name":"Image","description":"","type":"image"}]}