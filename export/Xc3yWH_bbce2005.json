{"ver":"0.1","info":{"id":"Xc3yWH","date":"1730778413","viewed":39,"name":"Pendulum Test","username":"8InfinityTaco8","description":"Gonna Add some Physics to this in a separate fork.","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["basics","pendulum"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n    vec2 uv = (fragCoord * 2. - iResolution.xy) / iResolution.y;\n    vec2 center = vec2(0.0, 0.5); //centered with correct UV scaling\n    float time = iTime;\n\n    // Pendulum parameters\n    float pendulumLength = 0.8; // Length of the pendulum\n    float angle = 0.5 * sin(time); // Angle of the pendulum (oscillating)\n    \n    //Joint Position\n    vec2 joint1 = center + vec2(0.0, 0.0); // Fixed point at the center\n    vec2 joint2 = center + vec2(pendulumLength * sin(angle), -pendulumLength * cos(angle)); // Bob position\n    \n    // Draw the pendulum\n    vec3 color = vec3(0.0); // background\n    float radius = 0.06; // Radius for joints\n\n    vec2 lineDir = normalize(joint2 - joint1);\n    float lineLength = length(joint2 - joint1) - radius; // Adjusted length to stop at joint edges\n    float lineThickness = 0.02;\n    \n    vec2 lineEnd = joint1 + lineDir * lineLength;\n    \n    float distanceToLine = abs((uv - joint1).y * lineDir.x - (uv - joint1).x * lineDir.y) / lineLength;\n    bool onLineSegment = dot(uv - joint1, lineDir) > 0.0 && length(uv - joint1) <= lineLength;\n    \n    float distanceToJoint1 = length(uv - joint1);\n    float distanceToJoint2 = length(uv - joint2);\n    \n    if (distanceToLine < lineThickness && onLineSegment) {\n        color = vec3(0.8, 0.1, 0.1); // Red color for the line\n    }\n    \n    if (distanceToJoint1 < radius) {\n        color = vec3(0.1, 0.1, 0.8); // Blue color for joint 1\n    }\n    \n    if (distanceToJoint2 < radius) {\n        color = vec3(0.1, 0.8, 0.1); // Green color for the joint 2\n    }\n\n    fragColor = vec4(color, 1.0);\n}\n\n\n\n\n    \n\n    \n\n\n\n    \n\n\n    \n\n","name":"Image","description":"","type":"image"}]}