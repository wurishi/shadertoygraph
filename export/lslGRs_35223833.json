{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"float wave( vec2 uv, float time, float frequency){\n\t\n\t// moving sine wave\n\tfloat x=sin( time+frequency*4.0-uv.x*frequency);\n\t\n\t// set y in range -1.0 to 1.0, so that comparing distance to sin(x) is easy\n\tfloat y=uv.y*2.0-1.0;\n\t\n\t// set color = distance between sin(x) and y (intensity increases further away we are)\n\tfloat color=sin(x)-y;\n\t\n\t// vary the thickness of the wave over time\n\tcolor/=(sin(time)*0.1+0.15);\n\t\n\t// colour should be brightest for points nearest the wave\n\tcolor=1.0/abs(color);\n\t\n\treturn color;\n}\n\n// The white diamond control \nvec4 control( vec2 uv, vec2 mouse){\n\t\n\t// calc distance from centre point of control, locking x co-ordinate of control at 0.9\n\tfloat x=abs(uv.x-0.9);\n\tfloat y=abs(uv.y-mouse.y);\n\t\n\t// Fix aspect ratio\n\ty*=iResolution.y/iResolution.x;\n\t\n\t// use the distance of the current position to create a white colour\n\tfloat d=1.0/(50.0*abs(x+y));\n\treturn vec4( d, d, d, 1.0);\n}\n\n// split out the mixing of control and waves to help experiment\nvec4 myMix( vec4 first, vec4 second){\n\t//return first+second;\n\t//return first*second;\n\treturn vec4( mix( first.r, second.r, 0.5),\n\t\t\t\t mix( first.g, second.g, 0.5),\n\t\t\t\t mix( first.b, second.b, 0.5), 1.0);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\t// set uv in range 0.0 to 1.0 (current coordinate)\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n\t\n\t// set mouse in range 0.0 to 1.0\n\tvec2 mouse = iMouse.xy/iResolution.xy;\n\t\n\t// put a margin at top and bottom of mouse y co-ordinate\n\tmouse.y=clamp( mouse.y, 0.1, 0.9);\n\t\n\t// calculate colour contribution from white control to this position\n\tvec4 controlColor = control( uv, mouse );\n\t\n\t// generate one wave per RGB component\n\tvec4 waves = vec4( wave(uv, iTime, 12.0*mouse.y),\n\t\t\t\t\t   wave(uv, iTime, 15.0*mouse.y),\n\t\t\t\t\t   wave(uv, iTime, 18.0*mouse.y), 1.0);\n\t\n\t\n\t// mix the colours of the waves and control into the final result\n\tfragColor=myMix(waves, controlColor);\n}\n\n\n\n","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"lslGRs","date":"1377507758","viewed":620,"name":"Waves of Light","username":"alun_davies","description":"My first shader, comments in code to help fellow newbies :)\n\nDrag the white control to vary the frequency of the waves","likes":12,"published":1,"flags":0,"usePreview":0,"tags":["wave","light","sine","curve","control"],"hasliked":0,"parentid":"","parentname":""}}