{"ver":"0.1","info":{"id":"lfKSzR","date":"1714738825","viewed":39,"name":"dotlines","username":"adaad","description":"this one is really inefficient","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["2d"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define speed .02\nint numdots = 60;\nfloat maxlen = .3;\n\nfloat rand2(vec2 co){return fract(sin(dot(co, vec2(12.9898, 78.233))) * 43758.5453);}\nvec2 randvec(float n){return fract(vec2(sin(n*124899.3523),cos(n*3523389.124+421.42)));}\n\nvec2 pos(vec2 start, float angle, float t) {\n    vec2 grad = vec2(sin(angle), cos(angle)) * speed;\n    return fract(start + grad*t);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float aspect = iResolution.x/iResolution.y;\n    vec2 aspectv = vec2(aspect,1.);\n    vec2 uv = fragCoord/iResolution.xy;\n\n    vec3 col = 0.5 + 0.5*cos(iTime*.2+uv.xyx+vec3(0,2,4));\n    float val = 0.;\n    for (int i = 0; i < numdots; i ++) {\n        //vec2 start = randvec(float(i));\n        vec2 start = vec2(i)/float(numdots);\n        float angle = float(i*6)/float(numdots);\n        vec2 a = pos(start,angle,iTime);\n        float l = length(aspectv*(uv - a));\n        if (l < .003) {\n            fragColor = vec4(1);\n            return;\n        }\n        \n        if (l < maxlen) {\n            for (int j = 0; j < numdots; j++) {\n                start = vec2(j)/float(numdots);\n                angle = float(j*6)/float(numdots);\n                vec2 b = pos(start,angle,iTime);\n                l = length((a-b)*aspect);\n                if (max(length(uv-a),length(uv-b)) < length(a-b) \n                    && l < maxlen) {\n                    float d = abs((b.x-a.x)*(uv.y-a.y)-(uv.x-a.x)*(b.y-a.y))/length(b-a);\n                    float mult = clamp(maxlen-l,0.,.5);\n                    if (d < clamp(.01*mult,0.,.001)) {\n                        val += mult;\n                    }\n                }\n            }\n        }\n    }\n    \n    \n    fragColor=vec4(mix(col,vec3(val),val),1.);\n    \n    \n\n}","name":"Image","description":"","type":"image"}]}