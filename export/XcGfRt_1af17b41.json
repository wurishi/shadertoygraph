{"ver":"0.1","renderpass":[{"outputs":[{"channel":0,"id":"4dfGRr"}],"inputs":[],"code":"/* \n A crazy cool spiral\n 16/Dec/2024\n Inspired by ronwnor: https://x.com/Pixelated_Donut\n*/\n\n#define PI 3.14159265359\n\n\n// The pattern function based on your formula\nfloat funPattern(float x, float y, float t) {\n\t\tfloat a = atan(y, x);\n\t\tfloat b = asin(sin(a - t + 3.0 * log(x*x + y*y)));\n\t\tfloat k = pow( 2.0 * PI, 1.0 - sqrt(sin(6.0*a)*sin(6.0*a)+b*b) );\n    return 2.0 * b * cos(k) - sin(k) / (1.0/sin(12.0 * a));\n}\n\n// Convert hue to RGB (HSB to RGB helper function)\nvec3 hsb2rgb(float h, float s, float b) {\n    vec3 c = vec3(h, s, b);\n    float k = mod(c.x * 6.0, 6.0);\n    float f = k - floor(k);\n    float p = c.z * (1.0 - c.y);\n    float q = c.z * (1.0 - f * c.y);\n    float t = c.z * (1.0 - (1.0 - f) * c.y);\n\n    if (k < 1.0) return vec3(c.z, t, p);\n    if (k < 2.0) return vec3(q, c.z, p);\n    if (k < 3.0) return vec3(p, c.z, t);\n    if (k < 4.0) return vec3(p, q, c.z);\n    if (k < 5.0) return vec3(t, p, c.z);\n    return vec3(c.z, p, q);\n}\n\n// https://github.com/d3/d3-color\nvec3 cubehelix(vec3 c) {\n  float a = c.y * c.z * (1.0 - c.z);\n  float cosh = cos(c.x + PI / 2.0);\n  float sinh = sin(c.x + PI / 2.0);\n  return vec3(\n    (c.z + a * (1.78277 * sinh - 0.14861 * cosh)),\n    (c.z - a * (0.29227 * cosh + 0.90649 * sinh)),\n    (c.z + a * (1.97294 * cosh))\n  );\n}\n\n// https://github.com/d3/d3-scale-chromatic\nvec3 cubehelixDefault(float t) {\n  return cubehelix(vec3(mix(300.0 / 180.0 * PI, -240.0 / 180.0 * PI, t), 0.5, t));\n}\n\n// https://github.com/d3/d3-scale-chromatic\nvec3 cubehelixRainbow(float t) {\n  if (t < 0.0 || t > 1.0) t -= floor(t);\n  float ts = abs(t - 0.5);\n  return cubehelix(vec3((360.0 * t - 100.0) / 180.0 * PI, 1.5 - 1.5 * ts, 0.8 - 0.9 * ts));\n}\n\n//https://iquilezles.org/articles/palettes/\nvec3 palette( float t ) {\n    vec3 a = vec3(0.198, 0.438, 0.698);\n    vec3 b = vec3(-0.262, 0.208, 0.238);\n    vec3 c = vec3(2.238, 2.168, 1.000);\n    vec3 d = vec3(-0.052, 0.333, 0.667);\n\n    return a + b*cos( 6.28318*(c*t+d) );\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord ) {\n\n    vec2 uv = ( fragCoord -.5 * iResolution.xy ) / iResolution.y;\n\n    vec2 center = vec2(0.0, 0.0); // Center coordinates (u, v) to another point, if you want :)\n\n\n    float patternValue = funPattern(uv.x, uv.y, iTime);\n\n    // Assign color based on patternValue\n    vec3 color;\n    if (patternValue < 0.0) {\n        float hue = mix(0.75, 1.0, (patternValue - iTime) / 1.0); // Map \n        //color = hsb2rgb(hue, 1.0, 1.0); // Usual HSV color\n\t\tcolor = cubehelixRainbow(hue); // I like more these Rainbow colors compare to the usual HSV\n        //color = palette(length(patternValue) + iTime * 0.35);\n    } else {\n        color = vec3(0.15); // Dark gray for positive pattern value\n    }\n\n    // Output to screen\n    fragColor = vec4(color,1.0);\n}\n\n\n","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"XcGfRt","date":"1734316460","viewed":84,"name":"Psychedelic Spiral","username":"jcponcemath","description":"Psychedelic Spiral inspired by ronwnor: https://x.com/Pixelated_Donut","likes":13,"published":1,"flags":0,"usePreview":0,"tags":["spiral","hsv","infinite"],"hasliked":0,"parentid":"","parentname":""}}