{"ver":"0.1","info":{"id":"mtGXWc","date":"1686414824","viewed":42,"name":"Bubble image sort in 2D","username":"denisis234","description":"Sorting an image by pixels brightness","likes":2,"published":1,"flags":32,"usePreview":0,"tags":["sorting","bubblesort"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n\n    vec4 value_here = texture(iChannel0, uv);\n\n    fragColor = value_here;\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"XdX3Rn","filepath":"/media/a/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg","previewfilepath":"/media/ap/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n    vec2 uv = fragCoord.xy / iResolution.xy;\n\n    float currentStep = floor(iTime * 60.0);\n\n    vec4 value_here = texture(iChannel1, uv);\n    \n    vec4 value_swap;\n    \n    float brightness_here = value_here.r + value_here.g + value_here.b;\n    float brightness_swap;\n    \n    if(iTime < 0.1 || iMouse.z > 0.5){    value_here = texture(iChannel0, uv);\n     fragColor = value_here;\n    }\n    else{\n     value_here = texture(iChannel1, uv);\n    if (mod(currentStep, 4.0) < 1.0) {\n        float pixelParity = mod(fragCoord.x, 2.0);\n        if (pixelParity < 1.0) {\n            value_swap = texture(iChannel1, uv + vec2(1.0 / iResolution.x, 0.0));\n            brightness_swap = value_swap.r + value_swap.g + value_swap.b;\n            if (brightness_here > brightness_swap) {\n                fragColor = value_swap;\n            } else {\n                fragColor = value_here;\n            }\n        } else {\n            value_swap = texture(iChannel1, uv - vec2(1.0 / iResolution.x, 0.0));\n            brightness_swap = value_swap.r + value_swap.g + value_swap.b;\n            if (brightness_here < brightness_swap) {\n                fragColor = value_swap;\n            } else {\n                fragColor = value_here;\n            }\n        }\n    } else if (mod(currentStep, 4.0) < 2.0) {\n        float pixelParity = mod(fragCoord.x, 2.0);\n        if (pixelParity < 1.0) {\n            value_swap = texture(iChannel1, uv - vec2(1.0 / iResolution.x, 0.0));\n            brightness_swap = value_swap.r + value_swap.g + value_swap.b;\n            if (brightness_here < brightness_swap) {\n                fragColor = value_swap;\n            } else {\n                fragColor = value_here;\n            }\n        } else {\n            value_swap = texture(iChannel1, uv + vec2(1.0 / iResolution.x, 0.0));\n            brightness_swap = value_swap.r + value_swap.g + value_swap.b;\n            if (brightness_here > brightness_swap) {\n                fragColor = value_swap;\n            } else {\n                fragColor = value_here;\n            }\n        }\n    } else \n     if (mod(currentStep, 4.0) < 3.0) {\n        float pixelParity = mod(fragCoord.y, 2.0);\n        if (pixelParity < 1.0) {\n            value_swap = texture(iChannel1, uv + vec2(0.0, 1.0 / iResolution.y));\n            brightness_swap = value_swap.r + value_swap.g + value_swap.b;\n            if (brightness_here > brightness_swap) {\n                fragColor = value_swap;\n            } else {\n                fragColor = value_here;\n            }\n        } else {\n            value_swap = texture(iChannel1, uv - vec2(0.0, 1.0 / iResolution.y));\n            brightness_swap = value_swap.r + value_swap.g + value_swap.b;\n            if (brightness_here < brightness_swap) {\n                fragColor = value_swap;\n            } else {\n                fragColor = value_here;\n            }\n        }\n    } else {\n        float pixelParity = mod(fragCoord.y, 2.0);\n        if (pixelParity < 1.0) {\n            value_swap = texture(iChannel1, uv - vec2(0.0, 1.0 / iResolution.y));\n            brightness_swap = value_swap.r + value_swap.g + value_swap.b;\n            if (brightness_here < brightness_swap) {\n                fragColor = value_swap;\n            } else {\n                fragColor = value_here;\n            }\n        } else {\n            value_swap = texture(iChannel1, uv + vec2(0.0, 1.0 / iResolution.y));\n            brightness_swap = value_swap.r + value_swap.g + value_swap.b;\n            if (brightness_here > brightness_swap) {\n                fragColor = value_swap;\n            } else {\n                fragColor = value_here;\n            }\n        }\n        }\n    }\n}\n","name":"Buffer A","description":"","type":"buffer"}]}