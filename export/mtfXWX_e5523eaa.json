{"ver":"0.1","info":{"id":"mtfXWX","date":"1675425873","viewed":39,"name":"tryToRotate","username":"Hala","description":"shader","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["shader"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sf3Rr","filepath":"/media/a/ad56fba948dfba9ae698198c109e71f118a54d209c0ea50d77ea546abad89c57.png","previewfilepath":"/media/ap/ad56fba948dfba9ae698198c109e71f118a54d209c0ea50d77ea546abad89c57.png","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float rectSDF(vec2 st, vec2 s) {\n    st = st*0.6;\n    return max(abs(st.x/s.x), abs(st.y/s.y));\n}\n\nfloat stroke(float x,float s, float w) {\n    float d = step(s, x+w*.5) - step(s, x-w*.5);\n    return clamp(d, 0.,1.);\n}\n\nfloat crossSDF(vec2 st, float s) {\n    vec2 size = vec2(.25, s);\n    return min (rectSDF(st.xy, size.xy), rectSDF(st.xy, size.yx));\n}\n\nvec2 rotation(vec2 st, float g)\n{\n    mat2 rot = mat2(cos(g), sin(g), -sin(g), cos(g));\n    st *= rot;\n    return st;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    //Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy*3.-1.3;\n    uv.x *= iResolution.x / iResolution.y;  \n    uv -= vec2(.5, 0.);\n    \n\n    //Draw Rect\n    float s = rectSDF(uv, vec2(1.));\n    float r = rectSDF(uv, vec2(3.0));\n    vec3 c = vec3(step(crossSDF(uv, .5), .55));\n    c -= step(crossSDF(uv, 1.3), .2);\n    \n    //Rotations\n    vec2 stRotated = rotation(uv, iTime/3.);\n    vec2 stRotatedRight = rotation(uv, -iTime/3.);\n    float sdfRotated = rectSDF(stRotated, vec2(1.));\n    \n    float sdf = rectSDF(stRotatedRight, vec2(1.));\n\n    \n    //Colors\n    vec3 colorA = vec3(0.6,0.3,0.4);\n    vec3 colorB = vec3(0.6,0.7,0.7);\n    c += (mix(colorA, colorB, uv.x*uv.y*uv.y*uv.x));\n    c+= 0.3 + 0.1*sin(2.*iTime+uv.xyx+vec3(0,1,6));\n    \n    //Rectangles\n    c += stroke(sdf, .7, .02);\n    c += stroke(sdfRotated, .5, .02);\n    c += stroke(sdf,abs(fract(-iTime/3.)), 0.05);\n    c += stroke(sdfRotated,abs(fract(iTime/2.)), .02);\n        \n    // FakeTunnel\n    float p_angle = atan(uv.x, uv.y);\n    float p_distance = length(uv)*2.;\n    \n    vec2 st = vec2(p_distance, p_angle);\n    \n    c += texture (iChannel0, vec2(1.0/st.x + iTime, st.y)).xyz;\n    \n    c *= min(st.x*.5, 0.3);\n    \n    //Output to screen\n    fragColor = vec4(c,1.0);\n    \n}","name":"Image","description":"","type":"image"}]}