{"ver":"0.1","info":{"id":"wsXXRX","date":"1551750454","viewed":398,"name":"Outlines","username":"Bapho","description":"A simple outline shader","likes":7,"published":1,"flags":0,"usePreview":0,"tags":["detection","edgedetection","edge","outlines","outline","comic","cel"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sX3Rn","filepath":"/media/a/c3a071ecf273428bc72fc72b2dd972671de8da420a2d4f917b75d20e1c24b34c.ogv","previewfilepath":"/media/ap/c3a071ecf273428bc72fc72b2dd972671de8da420a2d4f917b75d20e1c24b34c.ogv","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define threshold 0.1\n#define dif 2.0\n\nconst vec4 outline = vec4(0.1, 0.1, 0.1, 1.0);\n\nfloat getMaxNeighbourDistance(in vec2 coord){\n    vec4 north = texture(iChannel0, (coord + vec2(0.0, -dif)) / iResolution.xy);\n    vec4 east  = texture(iChannel0, (coord + vec2(+dif, 0.0)) / iResolution.xy);\n    vec4 south = texture(iChannel0, (coord + vec2(0.0, +dif)) / iResolution.xy);\n    vec4 west  = texture(iChannel0, (coord + vec2(-dif, 0.0)) / iResolution.xy);\n    return max(distance(north, south), distance(east, west));\n}\n\nvoid mainImage(out vec4 color, in vec2 coord){ \n    \n    if(getMaxNeighbourDistance(coord) >= threshold){\n\t\tcolor = outline;\n    } else{\n        color = texture(iChannel0, coord / iResolution.xy);\n    }\n}","name":"Image","description":"","type":"image"}]}