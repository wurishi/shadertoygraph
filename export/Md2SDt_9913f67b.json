{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"// 3d flythrough of the fractal in https://www.shadertoy.com/view/lslGWr\n\nconst int MAX_RAY_STEPS = 64;\n\nvec2 mouse() {\n\treturn iMouse.xy / iResolution.xy - vec2(.5);\n}\n\nfloat field(in vec3 p) {\n\tfloat strength = 7. + .03 * log(1.e-6 + fract(sin(iTime * 0.2) * 4373.11));\n\tfloat accum = 0.;\n\tfloat prev = 0.;\n\tfloat tw = 0.;\n\tfor (int i = 0; i < 16; ++i) {\n\t\tfloat mag = dot(p, p);\n\t\tp = abs(p) / mag + vec3(-0.5, -0.4, -1.2);\n\t\tfloat w = exp(-float(i) / 5.);\n\t\taccum += w * exp(-strength * pow(abs(mag - prev), 2.3));\n\t\ttw += w;\n\t\tprev = mag;\n\t}\n\treturn max(0., 5. * accum / tw - .9);\n}\n\nvec2 rotate2d(vec2 v, float a) {\n\tfloat sinA = sin(a);\n\tfloat cosA = cos(a);\n\treturn vec2(v.x * cosA - v.y * sinA, v.y * cosA + v.x * sinA);\t\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n\tvec2 screenPos = (fragCoord.xy / iResolution.xy) * 2.0 - 1.0;\n\tvec3 cameraDir = vec3(0.0, 0.0, 1.4);\n\tvec3 cameraPlaneU = vec3(1.0, 0.0, 0.0);\n\tvec3 cameraPlaneV = vec3(0.0, 1.0, 0.0) * iResolution.y / iResolution.x;\n\tvec3 rayDir = cameraDir + screenPos.x * cameraPlaneU + screenPos.y * cameraPlaneV;\n\tvec3 rayPos = vec3(80.0, 12.0 * sin(iTime / 4.7), -12.0);\n\t\t\n    \n    rayDir.y += .2 * sin(iTime / 4.7);\n    rayDir = normalize(rayDir);\n    \n\trayPos.xz = rotate2d(rayPos.xz, iTime / 10.0 + mouse().y);\n\trayDir.xz = rotate2d(rayDir.xz, iTime / 10.0 + mouse().y);\n    \n    \n    float dis = 0.0;\n    \n    vec3 col = vec3(0);\n    for(int i=0;i<MAX_RAY_STEPS;i++){\n        \n        \n        float t = field(rayPos * .013);\n        \n        col += sqrt(dis) * .05 * vec3(0.5 * t * t * t, .6 * t * t, .7 * t);\n        \n        dis += 1.0 / float(MAX_RAY_STEPS);\n        \n        rayPos += rayDir * 0.8;\n    }\n    \n    vec2 q = screenPos;\n    \n    fragColor = vec4(col.rgb, 1.0);\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"Md2SDt","date":"1417417328","viewed":498,"name":"Simplicity Clouds","username":"runouw","description":"3d flythrough of JoshP's Simplicity https://www.shadertoy.com/view/lslGWr\nI wanted to see what it would look like in 3d.","likes":15,"published":1,"flags":0,"usePreview":0,"tags":["fractalclouds"],"hasliked":0,"parentid":"","parentname":""}}