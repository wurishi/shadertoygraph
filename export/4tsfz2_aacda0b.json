{"ver":"0.1","info":{"id":"4tsfz2","date":"1512530827","viewed":155,"name":"HSL Torus","username":"doomtaters","description":"a hsl colored torus type thing","likes":6,"published":1,"flags":0,"usePreview":0,"tags":["torus","ring","hsl"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const float pi = 3.1415926535897932384626433832795;\nconst float M_120Deg = pi*2.0/3.0;\nconst float M_240Deg = M_120Deg*2.0;\n\nvec3 hsl2rgb( in vec3 c ){\n    vec3 rgb = clamp( abs(mod(c.x*6.+vec3(0,4,2),6.) -3. ) -1., 0.,1.);\n    return c.z + c.y * (rgb-.5)*(1.-abs(2.*c.z-1.));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 translated = 2.0*(fragCoord - iResolution.xy/2.0);\n    translated /= ( iResolution.x<iResolution.y ? iResolution.x : iResolution.y );\n    \n    float dist = length( translated );\n    float innerRadius = sin(iTime)/6.0+0.3;\n    \n    vec3 hsl = vec3( iTime/3.0 + atan( translated.x, translated.y )/(pi*2.0), 1.0, (dist>innerRadius?0.5-(dist-innerRadius)/(2.0*innerRadius):dist/(innerRadius*2.0)));\n    fragColor = vec4( hsl2rgb( hsl ), 1.0 );\n}","name":"Image","description":"","type":"image"}]}