{"ver":"0.1","info":{"id":"7scyRS","date":"1653601360","viewed":147,"name":"Rainbow Stairs","username":"sinvec","description":"Based on my previous works.","likes":14,"published":1,"flags":0,"usePreview":0,"tags":["2d","gradient","geometry","isometric"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define S(x) sign(x)\n#define COL(x,y,z) (vec3(x,y,z)/255.)\n#define m6(x) int(mod((x),6.)*2.)\n#define L(k,s) (Y - (k) * (X + (s)))\n#define V(b) (X + (b))\n#define sd(x,y) (cl = mix(cl,(x),smoothstep(.1,0.,(y))))\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 u = (fragCoord - iResolution.xy * .5) / iResolution.y;\n    const float a = .03, h = a * sqrt(3.) / 2., K = sqrt(3.) / 3.,\n                b = 1.047197, c = b * 2.;\n\n    vec3 cl = vec3(1.);\n    vec3[12] cs = vec3[12](COL(247.,228.,154.),COL(254.,206.,121.),COL(248.,166., 86.),\n                           COL(244.,129.,112.),COL(243.,129.,147.),COL(243.,145.,188.),\n                           COL(243.,145.,188.),COL(139.,139.,195.),COL(148.,202.,227.),\n                           COL(160.,217.,217.),COL(151.,209.,169.),COL(202.,224.,127.));\n       \n    for (float i = 0.; i < 6.; i++) {\n        float X = u.x, Y = u.y;\n        vec3 s2 = mix(cs[m6(i)],cs[m6(i+1.)+1],V(2.*h)/(6.*h)),\n             s3 = mix(cs[m6(i+1.)],cs[m6(i+2.)+1],L(K,8.*h)/(2.*a)),\n             s4 = mix(cs[m6(i+2.)],cs[m6(i+3.)+1],V(3.*h)/(2.*h)),\n             s5 = mix(cs[m6(i+3.)],cs[m6(i+4.)+1],L(K,12.*h)/(2.*a)),\n             s6 = mix(cs[m6(i+4.)],cs[m6(i+5.)+1],L(K,10.*h)/(2.*a)),\n             s7 = mix(cs[m6(i+5.)],cs[m6(i+6.)+1],-L(-K,-10.*h)/(3.*a)), \n             s8 = mix(cs[m6(i+6.)],cs[m6(i+7.)+1],L(K,14.*h)/(2.*a)),\n             s9 = mix(cs[m6(i+7.)],cs[m6(i+8.)+1],V(10.*h)/(10.*h)),\n             s10 = mix(cs[m6(i+8.)],cs[m6(i+9.)+1],V(0.)/(4.*h)),\n             s11 = mix(cs[m6(i+9.)],cs[m6(i+10.)+1],L(K,16.*h)/(4.*a)),\n             s12 = mix(cs[m6(i+10.)],cs[m6(i+11.)+1],V(h)/(4.*h)),\n             s13 = mix(cs[m6(i+11.)],cs[m6(i+12.)+1],L(K,14.*h)/(4.*a)),\n             s14 = mix(cs[m6(i+12.)],cs[m6(i+13.)+1],V(2.*h)/(4.*h));\n            \n        float L1=S(V(2.*h)),L2=S(-V(0.)),L3=S(-L(-K,-14.*h)),\n              L4=S(V(0.)),L5=S(L(-K,-8.*h)),L6=S(-V(-2.*h)),\n              L7=S(-L(-K,-8.*h)),L8=S(L(-K,-6.*h)),L9=S(-V(-\n              4.*h)),L10=S(L(K,10.*h)),L11=S(V(h)),L12=S(V(\n              3.*h)),L13=S(-L(-K,-10.*h)),L14=S(-L(K,16.*h))\n              ,L15=S(L(-K,-4.*h)),L16=S(V(4.*h)),L17=S(-V(2.\n              *h)),L18=S(L(K,14.*h)),L19=S(-L(K,18.*h)),L20\n              =S(L(K,16.*h)),L21=S(V(10.*h)),L22=S(-L(K,26.\n              *h)),L23=L(-K,-12.*h),L24=L(K,12.*h),L25=S(-V\n              (h)),L26=V(5.*h),L27 = V(6.*h),L28=L(K,22.*h),\n              L29=L(K,24.*h),L30=L(-K,-24.*h),L31=L(-K,-22.\n              *h),L32=L(-K,-20.*h),L33=L(-K,-18.*h);\n            \n        sd(s2,S(3.5-L1-L2-S(L23)-L3));sd(s2,S(3.5-L4-L3-L5-\n        L6));sd(s2,S(3.5-S(V(-h))-L7-L8-L9));sd(s3,S(3.5-L1\n        -L2-S(L(K,8.*h))-S(-L(K,10.*h))));sd(s3,S(3.5-L10-S\n        (-L24)-L2-L11));sd(s4,S(3.5-L12-L25-L5-L13));sd(s5,\n        S(3.5-S(L24)-L14-S(L(-K,-10.*h))-S(-L23)));sd(s6,S(\n        3.5-L10-S(-L(K,14.*h))-L7-L8));sd(s7,S(3.5-L13-L15-\n        S(L26)-S(-V(4.*h))));sd(s7,S(3.5-L15-S(-L(-K,-6.*h)\n        )-L16-L17));sd(s8,S(3.5-L18-L19-L16-S(-V(3.*h))));\n        sd(s8,S(2.5-L20-L19-L12-L17));sd(s9,S(3.5-L21-S(-V(\n        9.*h))-L10-L14));sd(s9,S(3.5-L14-L18-L21-S(-L27)));\n        sd(s9,S(3.5-S(L27)-S(-L26)-L18-L22));sd(s9,S(3.5-S(\n        L26)-S(L(K,20.*h))-L22-L17));sd(s9,S(3.5-L1-S(L28)-\n        L22-L25));sd(s9,S(3.5-L11-L2-L22-S(L29)));sd(s10,S(\n        3.5-S(-L(-K,-26.*h))-S(L30)-L4-L9));sd(s11,S(3.5-S(\n        -L30)-S(L31)-S(-L29)-L20));sd(s12,S(3.5-S(-L31)-S(\n        L32)-L11-S(-V(-3.*h))));sd(s13,S(3.5-S(-L32)-S(L33)\n        -S(-L28)-L18));sd(s14,S(3.5-S(-L33)-S(L(-K,-16.*h))\n        -L1-L6));u *= mat2(cos(b),sin(b),-sin(b),cos(b));\n    }\n    for (float i = 0.; i < 3.; i++) {\n        float X = u.x, Y = u.y;\n        vec3 s1 = mix(cs[m6(i)], cs[m6(i+1.)+1], L(K,0.)/(3.*a)), \n             s2 = mix(cs[m6(i+1.)],cs[m6(i+2.)+1],-L(K,4.*h)/(3.*a));\n        \n        sd(s1,S(3.5-S(L(K,0.))-S(-L(K,4.*h))-S(-V(0.))-\n        S(V(2.*h))));sd(s1,S(3.5-S(L(K,4.*h))-S(-L(K,6.\n        *h))-S(V(2.*h))-S(-V(-h))));sd(s2,S(3.5-S(-L(K,\n        4.*h))-S(L(K,-2.*h))-S(L(-K,-4.*h))-S(-L(-K,-6.\n        *h))));u *= mat2(cos(c),sin(c),-sin(c),cos(c));\n    }\n    \n    fragColor = vec4(cl,1.0);\n}","name":"Image","description":"","type":"image"}]}