{"ver":"0.1","info":{"id":"4dScWK","date":"1493731992","viewed":281,"name":"outline macro, 2D distfunc","username":"nexor","description":"macro magic","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["2d","distancefunction","macro"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// OutLine\n#define OL(v,p,f,w) f;{v+=(1.-(f));p*=(1.+w);v+=(f);}\n\n#define sin1(a) (sin(a)*.5+.5)\n\nfloat circle(vec2 p, float r)\n{\n    return smoothstep(1.,.975,length(p/r));\n}\n\nfloat rect(vec2 p, float w, float h)\n{\n \tp=abs(p/vec2(w,h));\n    return smoothstep(1.,.975,max(p.x,p.y));\n}\n\nfloat rect(vec2 p,float a)\n{\n    return rect(p,a,a);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    vec2 p = -1.+2.*uv;\n    p.x*=iResolution.x/iResolution.y;\n    vec3 col = vec3(.0);\n    \n    float v = 0.;\n    float w = OL(v,p,max(circle(p,1.),rect(p,.9)),sin1(iTime)*.15);\n    \n    col += mix(\n        w*mix(vec3(1.,.0,.0),vec3(.0,1.,.0),v),\n        vec3(w),step(uv.x,.5));\n    \n\tfragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}