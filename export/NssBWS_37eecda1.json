{"ver":"0.1","info":{"id":"NssBWS","date":"1645366534","viewed":192,"name":"Particle cloud","username":"Izokina","description":"Blah-blah, see topic :)\nP. S. try the define derectives","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["particles","stateless"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"precision mediump float;\n\n// #define SCALE\n#define SCALE * .5\n#define SPEED * hex(17.)\n#define AA 4\n#define DENSITY 32 /* out of 256 */\n\nfloat hex(in float v) {\n    return v / 256.0;\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n    float s = min(iResolution.x, iResolution.y);\n    float si = 1.0 / s;\n\n    float aa_off = 0.0;\n    vec4 col = vec4(0.);\n    for (int aa = 0; aa < AA; aa++) {\n        vec2 uv = (fragCoord + fract(vec2(hex(160. + 5.), hex(80. + 9.)) * aa_off)) * si;\n        aa_off += 1.0;\n        float vy = 0.0;\n        float vd = hex(176. + 3.);\n        vec2 pp = vec2(0.0);\n        float tt = iTime SPEED;\n        float h1 = hex(96. + 1.);\n        float h2 = hex(24. + 13.);\n        for (int i = 0; i < DENSITY; i++) {\n            vy = fract(vy + vd);\n            tt += vy;\n            float py = trunc(fract(uv.y - (vy - .5) * tt) * s SCALE);\n            float vx = fract(py * h1);\n            float px = trunc(fract(uv.x - (vx - .5) * (tt + py)) * s SCALE);\n            if (vy == fract(px * h2))\n                pp = vec2(px, py);\n        }\n\n        col.a += 1.0;\n        if (pp != vec2(0.0)) {\n            col.rgb += vec3(fract(pp.x * hex(65.0)), fract(pp.y * hex(45.0) + pp.x * hex(11.0)), fract(pp.x * hex(59.0) + pp.y * hex(221.0) + hex(35.0)));\n        }\n    }\n\n    // Output to screen\n    fragColor = vec4(col.rgb / col.a,1.0);\n}","name":"Image","description":"","type":"image"}]}