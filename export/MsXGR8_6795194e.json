{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[{"channel":0,"type":"texture","id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"}}],"code":"#define CIRCLE(_size,_dist,_sharpness) pow(clamp(_size*_dist,0.0,1.0),_sharpness)\r\n\r\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\r\n{\r\n\tvec2 uv = fragCoord.xy / iResolution.xy;\t\r\n\t//fragColor = vec4(uv,0.5+0.5*sin(iTime),1.0);\r\n\t\r\n\tvec2 aspect = vec2(iResolution.x / iResolution.y,1.0);\r\n\tvec2 aspect_uv = aspect*uv;\r\n\tvec2 mouse_uv = aspect * iMouse.xy / iResolution.xy;\r\n\t\r\n\tfloat blurAmount = mouse_uv.y*2.0 - 1.0;\r\n\tfloat blurSign = sign(blurAmount);\r\n\tmouse_uv.y = 0.35;\r\n\t\r\n\tfloat bob = 0.035 * sin(0.1*iTime);\r\n\tmouse_uv.x += bob*sin(iTime);\r\n\tmouse_uv.y += bob*cos(0.5*iTime);\r\n\t\t\r\n\tvec2 delta = mouse_uv - aspect_uv;\r\n\tfloat dist = length(delta);\r\n\tvec2 middle = floor(-delta.yx+vec2(1));\r\n\t\r\n\tfloat blackRing;\r\n\tblackRing =      CIRCLE(4.0,dist,64.0);\r\n\tblackRing +=  0.9 - 0.9 * CIRCLE(4.02,dist,128.0);\r\n\t\r\n\tblackRing *=     CIRCLE(8.0,dist,128.0);\r\n\tblackRing += 1.0-CIRCLE(8.03,dist,128.0);\r\n\t\r\n\t\r\n\tblackRing *=     CIRCLE(9.0,dist,128.0);\r\n\tblackRing += 1.0-CIRCLE(9.04,dist,128.0);\r\n\t\r\n\tfloat frostRing;\r\n\tfrostRing =      CIRCLE(18.0,dist,256.0);\r\n\tfrostRing *= 1.0-CIRCLE( 8.0,dist,256.0);\r\n\t\r\n\tfloat ring;\r\n\tring = 1.0 - CIRCLE(1.2,dist,8.0);\r\n\tblackRing *= ring;\r\n\t\r\n\tvec2 grid = mod(delta*10.0, 1.0);\r\n\tgrid = clamp(grid, 0.0, 1.0);\r\n\tgrid.x = pow(grid.x,30.0);\r\n\tgrid.y = pow(grid.y,30.0);\r\n\tgrid.x *= grid.y;\r\n\tgrid.x = 1.0-grid.x;\r\n\t\r\n\tvec2 pattern = delta*45.0;\r\n\tpattern = mod(pattern,1.0);\t\r\n\tpattern = clamp(pattern, 0.0, 1.0);\r\n\tfrostRing *= pattern.x * pattern.y;\r\n\tfloat frostOffset = blurAmount*frostRing;\r\n\t\r\n\tfloat splitRing = (1.0-CIRCLE(18.1,dist,256.0));\r\n\tfrostRing += splitRing;\r\n\tsplitRing *= mix(blurAmount,-blurAmount,middle.x);\r\n\tfloat splitOffset = splitRing;\r\n\t\r\n\tvec2 shift = -(1.0-ring) * delta;\r\n\tvec3 aber = 0.1 * vec3(0.6,0.8,1);\r\n\t\r\n\tuv.x += splitOffset * 0.01;\r\n\tuv += frostOffset*vec2(0.01);\r\n\tuv.y = 1.0-uv.y;\t\r\n\t\r\n\tfloat blurBias = 3.4 * blurSign * blurAmount;\r\n\tvec4 blurColor = texture(iChannel0,uv + shift*aber.x, blurBias);\r\n\tblurColor.y =    texture(iChannel0,uv + shift*aber.y, blurBias).y;\r\n\tblurColor.z =    texture(iChannel0,uv + shift*aber.z, blurBias).z;\r\n\t\r\n\tvec4 sharpColor = texture(iChannel0,uv + shift*aber.x);\r\n\tvec4 color = blackRing * mix(blurColor, sharpColor, frostRing) * grid.x;\r\n\tfragColor = color;\r\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"MsXGR8","date":"1362182308","viewed":841,"name":"Split Prism","username":"monkeyscience","description":"Click and drag left/right to move the camera and up/down to set focus.\nA camera focus post effect with the nifty micro-prism focusing effect old timey SLR cameras come with.","likes":17,"published":1,"flags":0,"usePreview":0,"tags":["posteffect","splitprismcamera","chromaticaberation"],"hasliked":0,"parentid":"","parentname":""}}