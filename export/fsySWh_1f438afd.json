{"ver":"0.1","info":{"id":"fsySWh","date":"1670409020","viewed":154,"name":"Understanding spiral","username":"Loubi","description":"This act as a tutorial for myself on how polar coordinates works to create basic spirals.\nChange the value of SPIRAL_MODE from 1 to 4 to see different function in action","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["spiral"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.14159265359\n#define TAU 2. * PI\n#define PHI (1. + sqrt(5.)) / 2.\n#define ZOOM 10.\n#define SPIRAL_MODE 3\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord - iResolution.xy * .5) / iResolution.y;\n    uv *= ZOOM;\n    \n/// r and theta are the polar coordinates of uv,\n// r being the length (or magnitude) of the vector,\n// and theta (φ, θ, or t) being the angle between uv.xy and the X axis\n/// If you need some ressources, here is a good one:\n// 3.4 Polar Coordinates - The Nature of Code\n// https://www.youtube.com/watch?v=O5wjXoFrau4\n    float\n        r = length(uv),\n        theta = atan(uv.y, uv.x),\n        spirFunc,\n        spiral;\n        \n//******************//\n#if SPIRAL_MODE == 1\n//******************//\n    float k = 2.;\n    float a = 10.3;\n    //r = r\n    spirFunc = sin(theta + TAU * sqrt(r) * k + a);// * (sin(iTime) + 1.);\n    // spiral = step(r, spirFunc)\n    // + step(r + .1, spirFunc);\n    spiral = smoothstep(spirFunc + .5, spirFunc, r)\n    + smoothstep(spirFunc, spirFunc  - .5, r);\n    \n//******************//\n#elif SPIRAL_MODE == 2\n//******************//\n    r = log(r);\n    spirFunc = sin(theta + TAU * r) * (sin(iTime) + 1.);\n    spiral = smoothstep(spirFunc, spirFunc - .02, r);\n    \n//******************//\n#elif SPIRAL_MODE == 3\n//******************//\n    r = log(r);\n    spirFunc = sin(theta + TAU * r) * (sin(iTime) * 1.);\n    spiral = smoothstep(spirFunc, spirFunc - .02, r);\n    \n//******************//\n#elif SPIRAL_MODE == 4\n//******************//\n    r *= PI;\n    spirFunc = sin(theta + TAU * r) * (sin(iTime) + 3.);\n    spiral = smoothstep(spirFunc, spirFunc - .2, r);\n    \n#endif\n\n    vec3 color = vec3(0.);\n    color += spiral;\n    fragColor = vec4(color, 1.0);\n}","name":"Image","description":"","type":"image"}]}