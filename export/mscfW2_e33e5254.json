{"ver":"0.1","info":{"id":"mscfW2","date":"1697649087","viewed":13,"name":"Fork naked nyan gehanzh 942","username":"gehanzh","description":"homegirl needs a rainbow!","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["nyan"],"hasliked":0,"parentid":"stGBDR","parentname":"naked nyan"},"renderpass":[{"inputs":[{"id":"Xsf3Rn","filepath":"/media/a/cbcbb5a6cfb55c36f8f021fbb0e3f69ac96339a39fa85cd96f2017a2192821b5.png","previewfilepath":"/media/ap/cbcbb5a6cfb55c36f8f021fbb0e3f69ac96339a39fa85cd96f2017a2192821b5.png","type":"texture","channel":0,"sampler":{"filter":"nearest","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\nconst float PI = 3.14159;\nvec3 hsv2rgb(vec3 c) {\n    vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n    vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n    return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\nfloat xOff(int index,float freq){\n    float amp = 0.02;\n\n    if(mod(float(index), 2.0) == 0.0){\n        if(mod(freq*iTime,2.0)<1.0)\n            return 0.0;\n        else\n            return amp;\n    }else{\n        if(mod(freq*iTime,2.0)<1.0)\n            return amp;\n        else\n            return 0.0;\n    }\n}\n\nvec3 f(float t) {\n    float hue = 0.8-mix(0.0, 0.8, t);\n    float saturation = 1.0;  \n    float value = 1.0;\n    return hsv2rgb(vec3(hue, saturation, value));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.y;\n    float freq=10.;\n    float numSeg=10.;\n    uv *= 2.;\n    uv -= vec2(2.5, 0.5);\n    uv = clamp(uv, 0., 1.);\n\t\n\tfloat frame = floor( mod( iTime*freq, 6.0 ) );\n\n    //vec2 offset = vec2(0.2);\n    //float scale = 3.;\n    \n\tfloat nyanWidthUV = 40.0/256.0;\n\tuv.x = (uv.x + frame)*nyanWidthUV;\n    \n    \n\tvec4 nyan = texture( iChannel0, uv );\n\tvec3 col = nyan.xyz;\n    float offset = 0.42;\n    float range=0.25;\n    if(col==vec3(1.0)){\n        vec2 uv = fragCoord.xy / iResolution.xy;\n        int segmentIndex = int((uv.x +iTime*0.1)*numSeg);\n        uv.y+=xOff(segmentIndex,freq);\n        if(uv.y>offset&&uv.y<range+offset&& uv.x<0.8){\n            float warpedUV=(uv.y-offset)/range;\n            // Time varying pixel color\n            col = f(warpedUV);\n        }else{\n            col = vec3(31., 68., 121.)/255.0;\n        }\n    }\n    \n    fragColor = vec4( col, 1.0 );\n}","name":"Image","description":"","type":"image"}]}