{"ver":"0.1","info":{"id":"3sBXDh","date":"1553541395","viewed":582,"name":"Bokeh circle blur","username":"kindpotato","description":"Here I use a kernel that is way too big, but makes a nice lense blur.","likes":7,"published":1,"flags":2,"usePreview":0,"tags":["blur"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sX3Rn","filepath":"/media/a/c3a071ecf273428bc72fc72b2dd972671de8da420a2d4f917b75d20e1c24b34c.ogv","previewfilepath":"/media/ap/c3a071ecf273428bc72fc72b2dd972671de8da420a2d4f917b75d20e1c24b34c.ogv","type":"video","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4sf3zn","filepath":"/presets/webcam.png","previewfilepath":"/presets/webcam.png","type":"webcam","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\n\n     \nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n    if (uv.x > 0.5){\n        int diameter = 40;\n        float radius = float(diameter)/2.;\n        vec2 pixel = vec2(1.0 / 1280.,1./720.); //pixel size on video\n\n\n        // Sample the neighbor pixels\n        vec3 sum = vec3(0);\n        for (int y = -diameter/2;y < diameter/2+1;++y) {\n            for (int x = -diameter/2; x < diameter/2+1;++x) {\n                //if sample is within radius\n                if ( float(x*x+y*y) < radius*radius)\n                    sum += texture(iChannel1, uv + vec2(float(x-diameter/2)*pixel.x,float(y-diameter/2)*pixel.y) ).rgb;\n            }\n        }\n\n        sum /= 3.1459*radius*radius;\n\n\n\n        fragColor = vec4(sum,1);\n    }\n    else fragColor = texture(iChannel1,uv);\n}","name":"Image","description":"","type":"image"}]}