{"ver":"0.1","info":{"id":"lcBGDy","date":"1704567494","viewed":127,"name":"Vela azul","username":"Sumar","description":"Com certeza existe uma maneira melhor e mais fÃ¡cil de fazer esse fogo mas fiz o que deu.","likes":15,"published":1,"flags":0,"usePreview":0,"tags":["sdf","candle","pixelart"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define T .4*iTime\n#define PULSE .005*sin(1.2*iTime)\n#define FLAME vec3(.5,.4,.9)\n\nfloat rand(vec2 c){\n \treturn fract(sin(dot(c ,vec2(2.141,131.234))) * 723.225);   \n}\n\nfloat rect(vec2 p, float a, float b){\n    p = abs(p);\n    return max(p.x - a, p.y -b);\n}\n\nfloat wall(vec2 p){\n    vec2 dim = vec2(1.,2.);\n    p -= 2.13;\n    p *= .8*dim;\n    p.x += 2.5 * floor(p.y);\n    \n    p = abs(fract(p)) - 1. + .05*dim *1.1*rand(p);\n    return step(0., -max(p.x , p.y));\n}\n\n\nfloat sdCircle(vec2 p, float r){\n    return length(p) - r - .06*rand(p) - .7*PULSE;\n}\n\nfloat sdFire(vec2 p){\n    float r = .19 + PULSE;\n    float x = p.x/r + T + .5*cos(2.5*p.y);\n    float d = 2. + sin(10.*x) + .7*cos(40.*x) + .3*sin(.3*x);\n        \n    p.y -= max(p.y, 0.)*.85*d*r;\n    p.x *= 1.15;\n    \n    return length(p) - r;\n}\n\nfloat sdWax(vec2 p){\n    float r = .2;\n    \n    float x = p.x/r ;    \n    float d = 1. + sin(9.*x +0.1);\n    \n    p.y += .27;\n    p.y *= 2.7;\n    p.y -= min(p.y, 0.)*1.6*d*r;\n    \n    return length(p) - r;\n}\n\nfloat transition(float x, float s){\n    return clamp(floor(s*x)/s, 0., 1.);\n}\n\nvec2  transition(vec2 x, float s){\n    return floor(s*x)/s;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{ \n    vec2 uv = (2.*fragCoord -iResolution.xy)/iResolution.y;\n    \n    uv *= .9;\n    uv = transition(uv, 50.);\n    \n    vec3 col;\n    float d;\n    \n    d = max(.6, wall(uv)) * transition(-sdCircle(uv, .9),6.5);\n    col = d * FLAME/2.;\n    \n    d = step(0., -rect(uv + vec2(0., 1.3), .16, 1.));\n    if(d > 0.) \n        col = FLAME * transition(-sdCircle(uv, 1.),6.5);\n   \n    d = -sdWax(uv);\n    if(d > 0.) \n        col = .9*FLAME;\n    \n    d = step(0., -rect(uv + vec2(0., 0.15), .01, .1));\n    if(d > 0.) \n        col = vec3(0.);\n    \n    d = transition(-8.*sdFire(uv), 3.);\n    col = mix(col, mix( FLAME, vec3(.7),d), d);\n       \n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}