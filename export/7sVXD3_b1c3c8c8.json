{"ver":"0.1","info":{"id":"7sVXD3","date":"1635438529","viewed":281,"name":"testing CubeMaps indexing","username":"FabriceNeyret2","description":"I was worrying about precise access to CubeMaps pixels center, but it does work.","likes":3,"published":3,"flags":0,"usePreview":0,"tags":["cubemaps"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dX3Rr","filepath":"/media/a//media/previz/cubemap00.png","previewfilepath":"/media/ap//media/previz/cubemap00.png","type":"cubemap","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\nvoid mainImage( out vec4 O, vec2 U )\n{\n    vec2 R = vec2(1024);\n    \n    O = C(U,0);      // access to pixels center of  cubemap face 1, LOD 0\n    \n    if ( length(U-.5*iResolution.xy)<30.) O = C(511.5,0); // check central pixel\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dX3Rr","filepath":"/media/a//media/previz/cubemap00.png","previewfilepath":"/media/ap//media/previz/cubemap00.png","type":"cubemap","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dX3Rr","channel":0}],"code":"\nvoid mainCubemap( out vec4 O, vec2 U, vec3 o, vec3 d )\n{\n    if ( max(d.x, max(d.y,d.z)) != d.z ) return; // we want only face 1 \n    \n    O.xy = mod(U-.5,2.);             // strips every 2 lines/columns\n    \n    if (U==vec2(511.5)) O = vec4(1); // set central pixel\n\n}","name":"Cube A","description":"","type":"cubemap"},{"inputs":[],"outputs":[],"code":"// access to cubemap face 1 , LOD n\n#define C(U,n) texture(iChannel0, vec3(2.*(U)/R-1.,1)*vec3(1,-1,1), float(n) )","name":"Common","description":"","type":"common"}]}