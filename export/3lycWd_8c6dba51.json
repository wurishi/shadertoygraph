{"ver":"0.1","info":{"id":"3lycWd","date":"1611943348","viewed":139,"name":"General Smin and Smix","username":"UnstableLobster","description":"Not sure about the math, but seems to give proper results.","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["smin","smix"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\n//simplified by iq\nfloat smin(float a, float b, float k, float p, out float t)\n{\n    float h = max(k - abs(a-b), 0.0)/k;\n    float m = 0.5 * pow(h, p);\n    t = (a < b) ? m : 1.0-m;\n    return min(a, b) - (m*k/p);\n}\n\n#define iR iResolution\n#define ratio iR.x/500.0\n\nvoid mainImage( out vec4 O, in vec2 pos )\n{\n    //data\n    float p0 = distance(pos, vec2(iR.x*0.5 - 50.0*ratio, iR.y*0.5)) - 50.0*ratio + sin(iTime*0.45)*10.0*ratio;\n    float p1 = distance(pos, vec2(iR.x*0.5 + 50.0*ratio + sin(iTime * 0.5)*20.0*ratio  , iR.y*0.5)) - 50.0*ratio;\n    float p2 = distance(pos, iR.xy*0.5 + vec2(sin(iTime), cos(iTime)*0.75)*150.0*ratio ) - 50.0*ratio;\n    \n    vec3 p0c = vec3(1.0, 0.5, 0.25);\n    vec3 p1c = vec3(0.25,0.5, 1.0);\n    vec3 p2c = vec3(0.5, 0.0, 0.5);\n    \n    //distance and color track\n    float d = 10000.0;\n    vec3 c = vec3(1.0);\n    \n    //smoothing radius and exponent\n    float k = 60.0*ratio + sin(iTime*0.23) * 20.0*ratio;\n    float p = 3.5;\n    \n    //--\n    float t = 0.0;\n    d = smin(p0, p1, k, p, t);\n    c = mix(p0c, p1c, t);\n    \n    d = smin(d, p2, k, p, t);\n    c = mix(c, p2c, t);\n   \n    //--\n    O.xyz = vec3( min(max(-d, 0.0), 1.0) ) * c; \n    O.xyz *= 0.25 + pow(-d/ratio*3000.0, 0.2)*0.75;\n    O.xyz = pow(O.xyz, vec3(0.8));\n}","name":"Image","description":"","type":"image"}]}