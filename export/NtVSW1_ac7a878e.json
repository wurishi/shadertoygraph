{"ver":"0.1","info":{"id":"NtVSW1","date":"1640614055","viewed":1561,"name":"Drop shadow of round rect","username":"fb","description":"Drop shadow of the rounded rectangle. Box shadow","likes":18,"published":3,"flags":0,"usePreview":0,"tags":["sdf","shadow","rect"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float sdRoundRect( in vec2 p, in vec2 b, in float r ) {\n    vec2 q = abs(p)-b+r;\n    return min(max(q.x,q.y),0.0) + length(max(q,0.0)) - r;\n}\n\nvec4 normalBlend(vec4 src, vec4 dst) {\n    float finalAlpha = src.a + dst.a * (1.0 - src.a);\n    return vec4(\n        (src.rgb * src.a + dst.rgb * dst.a * (1.0 - src.a)) / finalAlpha,\n        finalAlpha\n    );\n}\n\nfloat sigmoid(float t) {\n    return 1.0 / (1.0 + exp(-t));\n}\n\nfloat cornerRadius = 32.0;\nfloat blurRadius = 32.0f;\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n\n    vec2 center = iResolution.xy / 2.0;\n    vec2 hsize = iResolution.xy / 4.0;\n    \n\tfloat distShadow = clamp(sigmoid(sdRoundRect(fragCoord - center + vec2(0.0, iResolution.y / 20.0),\n        hsize, cornerRadius + blurRadius) / blurRadius), 0.0, 1.0);\n        \n    float distRect = clamp(sdRoundRect(fragCoord - center, hsize, cornerRadius), 0.0, 1.0);\n\n    vec3 col = vec3(distShadow);\n    col = mix(vec3(1.0), col, distRect);\n    \n    vec4 finalColor = normalBlend(vec4(vec3(1.0), 0.6), vec4(col, 1.0));\n    fragColor = finalColor;\n}","name":"Image","description":"","type":"image"}]}