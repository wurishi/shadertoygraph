{"ver":"0.1","info":{"id":"ddBXRG","date":"1670439085","viewed":71,"name":"2Voronoi","username":"ZoldLeo","description":"2 types of voronoi","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["noise"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float rand(float co) { return fract(sin(co*(91.3458)) * 47453.5453); }\nfloat rand(vec2 co) { return fract(sin(dot(co, vec2(12.9898, 78.233))) * 43758.5453); }\nfloat sqlength(vec2 a, vec2 b) { return float((b-a).x * (b-a).x + (b-a).y * (b-a).y); }\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    vec2 pos;\n    pos.x = floor(uv.x*10.0);\n    pos.y = floor(uv.y*10.0);\n    \n    vec2 pos0 = pos + vec2(0, 0) + rand(pos + vec2(0, 0));\n    vec2 pos1 = pos + vec2(1, 0) + rand(pos + vec2(1, 0));\n    vec2 pos2 = pos + vec2(1, 1) + rand(pos + vec2(1, 1));\n    vec2 pos3 = pos + vec2(0, 1) + rand(pos + vec2(0, 1));\n    vec2 pos4 = pos + vec2(-1, 1) + rand(pos + vec2(-1, 1));\n    vec2 pos5 = pos + vec2(-1, 0) + rand(pos + vec2(-1, 0));\n    vec2 pos6 = pos + vec2(-1, -1) + rand(pos + vec2(-1, -1));\n    vec2 pos7 = pos + vec2(0, -1) + rand(pos + vec2(0, -1));\n    vec2 pos8 = pos + vec2(1, -1) + rand(pos + vec2(1, -1));\n    \n    vec2 pix = uv * 10.0;\n    float[9] d;\n        d[0] = sqlength(pix, pos0);\n        d[1] = sqlength(pix, pos1);\n        d[2] = sqlength(pix, pos2);\n        d[3] = sqlength(pix, pos3);\n        d[4] = sqlength(pix, pos4);\n        d[5] = sqlength(pix, pos5);\n        d[6] = sqlength(pix, pos6);\n        d[7] = sqlength(pix, pos7);\n        d[8] = sqlength(pix, pos8);\n    \n    float ind = 100.0;\n    int ind0 = 0;\n    for(int i=0;i<9;++i)\n    {\n        if(ind > d[i]) {\n            ind = d[i];\n            ind0 = i;\n        }\n    }\n    ind = sqrt(ind);\n\n    //comment these out for the second type\n    fragColor = vec4(ind);\n    return;\n    //\n    \n    float val = 0.0;\n    switch (ind0) {\n    case 0:\n        val = rand(pos + vec2(0, 0));\n        break;\n    case 1:\n        val = rand(pos + vec2(1, 0));\n        break;\n    case 2:\n        val = rand(pos + vec2(1, 1));\n        break;\n    case 3:\n        val = rand(pos + vec2(0, 1));\n        break;\n    case 4:\n        val = rand(pos + vec2(-1, 1));\n        break;\n    case 5:\n        val = rand(pos + vec2(-1, 0));\n        break;\n    case 6:\n        val = rand(pos + vec2(-1, -1));\n        break;\n    case 7:\n        val = rand(pos + vec2(0, -1));\n        break;\n    case 8:\n        val = rand(pos + vec2(1, -1));\n        break;\n    }\n    \n    fragColor = vec4(val);\n}","name":"Image","description":"","type":"image"}]}