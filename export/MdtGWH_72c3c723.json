{"ver":"0.1","info":{"id":"MdtGWH","date":"1449483193","viewed":775,"name":"Deep under the ice...","username":"NegativeZero","description":"Accidentally made an ice effect.","likes":44,"published":1,"flags":0,"usePreview":0,"tags":["fractal"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[],"code":"//Based off of https://www.shadertoy.com/view/lslGWr\n\nconst int max_iterations = 32;\nconst vec3 a = vec3(-.5, -.4, -1.5);\n\nfloat field( vec3 p ) {\n    float strength = 5.0;\n    float prev = 0.;\n    float acc = 0.;\n    float tw = 0.;\n    for(int i = 0; i < max_iterations; i++) {\n        float mag = dot(p, p);\n        p = abs(p) / mag + a;\n        float w = exp(-float(i) / strength);\n        acc += w * exp(-strength * pow(abs(mag - prev), 2.));\n        tw += w;\n        prev = mag + w;\n    }   \n    return max(0., acc / tw);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = -1. + 2. * fragCoord.xy / iResolution.xy;\n    vec2 uvs = uv * iResolution.xy / max(iResolution.x, iResolution.y);\n    vec2 offset = vec2(sin(iTime), cos(iTime));\n    //vec2 offset = -1. + 2. * iMouse.xy / iResolution.xy;\n    \n    float frc = 0.;\n    for(int i = 0; i < 5; i++){\n        frc += field(vec3(uvs, frc) + vec3(2. * offset / float(i + 1), 0.));\n    }\n    \n\tfragColor = vec4(frc * frc * frc, frc * frc, frc, 1.0);\n}","name":"","description":"","type":"image"}]}