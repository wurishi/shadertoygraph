{"ver":"0.1","info":{"id":"Dd2Xz1","date":"1669917453","viewed":61,"name":"2D Implicit Curve Plotter","username":"falconXYZ","description":"Implicit plotter using a closest point algorithm with Newton's method. The distance between the closest point on the curve and the seed point is calculated, giving an SDF of the curve.\nSee https://www.wikiwand.com/en/Implicit_curve#Point_algorithm","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["implicit","plotter"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float F(vec2 P) {\n    float x = P.x;\n    float y = P.y;\n    //Enter equation here in the form 0 = F(x,y)\n    return (x*x+y*y-1.)*(sin(5.*x)-5.*y);\n}\n\nfloat Fx(vec2 P) {\n    return (F(P+vec2(0.00001,0)) - F(P)) / 0.00001;\n}\n\nfloat Fy(vec2 P) {\n    return (F(P+vec2(0,0.00001)) - F(P)) / 0.00001;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    uv -= 0.5;\n    uv *= 5.;\n    uv.y *= iResolution.y/iResolution.x;\n    \n    vec2 P = 100. * uv + 10.0;\n    vec2 P1 = uv;\n    int index = 0;\n    while (distance(P,P1) > 0.001 && index < 100) {\n        P = P1;\n        P1 = P - (F(P)/(pow(Fx(P),2.) + pow(Fy(P),2.)))*vec2(Fx(P),Fy(P));\n        index++;\n    }\n    float dist = distance(P, uv);\n    fragColor = vec4(0.0,dist,1.0,1.0);\n    \n    if (uv.x < 0.005 && uv.x > -0.005)\n        fragColor = vec4(0.7,0.7,0.7,1.0);\n    else if (uv.y < 0.005 && uv.y > -0.005)\n        fragColor = vec4(0.7,0.7,0.7,1.0);\n    else if (mod(uv.x,0.5) < 0.01)\n        fragColor = vec4(0.8,0.8,0.8,1.0);\n    else if (mod(uv.y,0.5) < 0.01)\n        fragColor = vec4(0.8,0.8,0.8,1.0);\n    else if (mod(uv.x,0.1) < 0.005)\n        fragColor = vec4(0.9,0.9,0.9,1.0);\n    else if (mod(uv.y,0.1) < 0.005)\n        fragColor = vec4(0.9,0.9,0.9,1.0);\n    else\n        fragColor = vec4(1.0,1.0,1.0,1.0);\n    if (dist < 0.01)\n        fragColor = vec4(0.0,0.0,0.0,1.0);\n}","name":"Image","description":"","type":"image"}]}