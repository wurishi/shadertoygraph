{"ver":"0.1","info":{"id":"3t2XWV","date":"1567142194","viewed":599,"name":"evankh_ScreenShake","username":"evankh","description":"Motion for screen shake.","likes":10,"published":1,"flags":0,"usePreview":1,"tags":["shake"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec2 shake_direction = normalize(vec2(0.0, 1.0));\t// Direction in which the shaking occurs\nfloat shake_freq = 8.0;\t\t// Number of shakes\nfloat shake_size = 0.02;\t// How much it shakes, as a proportion of the screen size\nfloat trans_freq = 2.0;\t\t// Number of sideways shakes\nfloat trans_size = 0.5;\t\t// How much sideways shake there is, as a proportion of the main shake\nfloat shake_often = 2.0;\t// Time between shakes, in seconds\nfloat shake_duration = 0.5;\t// Length of a shake, in seconds\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord / iResolution.xy;\n    // Zoom in slightly so that there's room to not wrap\n    uv -= 0.5;\n    uv *= (1.0 - 2.0 * max(shake_size, trans_size * shake_size));\n    uv += 0.5;\n    float t = clamp(mod(iTime, shake_often), 0.0, shake_duration) / shake_duration;\n    \n    float shake_magnitude = shake_size * sin(shake_freq * 2.0*3.14159*t) * (t+0.5)*t*t*(t-1.0)*(t-1.0)*15.5;\n    uv += shake_direction * shake_magnitude;\n    \n    // A little sideways shake, for flavor\n    vec2 shake_transverse = vec2(-shake_direction.y, shake_direction.x);\n    float trans_magnitude = trans_size * shake_size * sin(trans_freq * 2.*3.14159*t) * -t*(t-1.);\n    uv += trans_magnitude * shake_transverse;\n\n    // Time varying pixel color\n    vec4 col = texture(iChannel0, uv);\n\n    // Output to screen\n    fragColor = col;\n}","name":"Image","description":"","type":"image"}]}