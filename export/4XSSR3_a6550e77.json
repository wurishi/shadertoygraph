{"ver":"0.1","info":{"id":"4XSSR3","date":"1710845211","viewed":105,"name":"RETRO REGULAR TYPEFACE","username":"chenxianming","description":"RETRO REGULAR TYPEFACE","likes":6,"published":1,"flags":32,"usePreview":0,"tags":["truchet","typeface"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define h( a ) fract( sin( dot( a, vec2( 12.345, 54.321 ) ) ) * 9876.5432 )\n#define cu( u, a ) max( abs(u.x)-a.x, abs(u.y)-a.y )\n#define rot( a ) mat2( cos(a), sin(a), -sin(a), cos(a) )\nfloat truchetRect( vec2 u, float A ) {\n\tvec2 t = round( u / -.2 );\n\tfloat p,\n\t    r = round( fract(dot( floor(t.yxx * 2.45), sin(t.xyy+vec3(1,2,3)) / 4.5 ) ) );\n\tu -= .2 * round( u / .2 );\n\tif( r > .5 )\n\t        u.x *= -1.;\n\tp = max(\n\t        min(\n\t            ( u.x + u.y > .05 ) ? 0. : 1.,\n\t            ( u.x + u.y < -.05 ) ? 0. : 1.\n\t        ),\n\t        max(\n\t            abs(u.x),\n\t            abs(u.y)\n\t        ) - .1\n\t    );\n\tif( int((iTime*.5))%2 == 0 ) // child\n\t        p = ( r != mod( t.x + t.y, 2. ) ) ? 1. - p : p;\n\t\n\treturn smoothstep( -1e-2/A, 1e-2 / A, p );\n}\nvec3 N( float A, vec2 u, vec3 c ) {\n\tfloat p = .1;\n\tp = min(\n\t        p,\n\t        cu( (u + vec2(.25, 0.)), vec2( .05, .3 ) )\n\t    );\n\tp = min(\n\t        p,\n\t        cu( (u - vec2(.25, 0.)), vec2( .05, .3 ) )\n\t    );\n\tc = mix(\n\t        c,\n\t        vec3(1),\n\t        smoothstep( 1. / A, -1. / A, p )\n\t    );\n\treturn mix(\n\t        c,\n\t        vec3(1),\n\t        smoothstep( 2. / A, -2. / A, max( abs(u.x + .81 * u.y)-.055, abs(u.y)-.3 ) )\n\t    );\n}\nvec3 E( float A, vec2 u, vec3 c ) {\n\tfloat p = .1;\n\tp = min(\n\t        p,\n\t        cu( (u + vec2(.25, 0.)), vec2( .05, .3 ) )\n\t    );\n\tp = min(\n\t        p,\n\t        cu( (u + vec2(.0, -.25 )), vec2( .3, .05 ) )\n\t    );\n\tp = min(\n\t        p,\n\t        cu( u, vec2( .3, .05 ) )\n\t    );\n\tp = min(\n\t        p,\n\t        cu( (u + vec2(.0, .25 )), vec2( .3, .05 ) )\n\t    );\n\treturn mix(\n\t        c,\n\t        vec3(1),\n\t        smoothstep( 1. / A, -1. / A, p )\n\t    );\n}\nvec3 W( float A, vec2 u, vec3 c ) {\n\tfloat p = .1;\n\tp = min(\n\t        p,\n\t        max( abs(u.x + .2 * u.y + .2)-.05, abs(u.y)-.3 )\n\t    );\n\tp = min(\n\t        p,\n\t        max( abs(u.x - .2 * u.y - .2)-.05, abs(u.y)-.3 )\n\t    );\n\tp = min(\n\t        p,\n\t        max( abs(u.x - .2 * u.y + .06)-.04, abs(u.y)-.3 )\n\t    );\n\tp = min(\n\t        p,\n\t        max( abs(u.x + .2 * u.y - .06)-.04, abs(u.y)-.3 )\n\t    );\n\treturn mix(\n\t        c,\n\t        vec3(1),\n\t        smoothstep( 2. / A, -2. / A, p )\n\t    );\n}\nvec3 U2( float A, vec2 u, vec3 c ) {\n\tfloat p = .1;\n\tvec2 u2 = u;\n\tu2.y -= .2;\n\tp = min(\n\t        p,\n\t        max(\n\t        max(\n\t            length( u2 * vec2( 1., 1.25 * abs( u2.y ) ) ) - .3,\n\t            -( length( u2 * vec2( 1., 1.25 * abs( u2.y ) ) ) - .2 )\n\t        ),\n\t        cu( (u + vec2(.0, .1 )), vec2( .3, .2 ) )\n\t        )\n\t    );\n\tp = min(\n\t        p,\n\t        cu( (u + vec2(.25, -.175)), vec2( .05, .125 ) )\n\t    );\n\tp = min(\n\t        p,\n\t        cu( (u + vec2(-.25, -.175)), vec2( .05, .125 ) )\n\t    );\n\treturn mix(\n\t        c,\n\t        vec3(1),\n\t        smoothstep( 1.5 / A, -1.5 / A, p )\n\t    );\n}\nvec3 V2( float A, vec2 u, vec3 c ) {\n\tfloat p = .1;\n\tp = min(\n\t        p,\n\t        max( abs(u.x + .4 * u.y + .125)-.05, abs(u.y)-.3 )\n\t    );\n\tp = min(\n\t        p,\n\t        max( abs(u.x - .4 * u.y - .125)-.05, abs(u.y)-.3 )\n\t    );\n\treturn mix(\n\t        c,\n\t        vec3(1),\n\t        smoothstep( 2. / A, -2. / A, p )\n\t    );\n}\nvec3 X( float A, vec2 u, vec3 c ) {\n\tfloat p = .1;\n\tp = min(\n\t        p,\n\t        max( abs(u.x + .8 * u.y)-.06, abs(u.y)-.3 )\n\t    );\n\tp = min(\n\t        p,\n\t        max( abs(u.x - .8 * u.y)-.06, abs(u.y)-.3 )\n\t    );\n\treturn mix(\n\t        c,\n\t        vec3(1),\n\t        smoothstep( 2. / A, -2. / A, p )\n\t    );\n}\nvec3 Y( float A, vec2 u, vec3 c ) {\n\tfloat p = .1;\n\tp = min(\n\t        p,\n\t        max( abs(u.x + .8 * u.y)-.055, abs(u.y - .15)-.15 )\n\t    );\n\tp = min(\n\t        p,\n\t        max( abs(u.x - .8 * u.y)-.055, abs(u.y - .15)-.15 )\n\t    );\n\tp = min(\n\t        p,\n\t        cu( ( u + vec2( 0, .14 ) ), vec2( .055, .16 ) )\n\t    );\n\treturn mix(\n\t        c,\n\t        vec3(1),\n\t        smoothstep( 2. / A, -2. / A, p )\n\t    );\n}\nvec3 Z( float A, vec2 u, vec3 c ) {\n\tfloat p = .1;\n\tp = min(\n\t        p,\n\t        cu( (u + vec2(.0, -.25 )), vec2( .3, .05 ) )\n\t    );\n\tp = min(\n\t        p,\n\t        cu( (u + vec2(.0, .25 )), vec2( .3, .05 ) )\n\t    );\n\tp = min(\n\t        p,\n\t        max( abs(u.x - 1.1 * u.y)-.075, abs(u.y)-.205 )\n\t    );\n\treturn mix(\n\t        c,\n\t        vec3(1),\n\t        smoothstep( 1. / A, -1. / A, p )\n\t    );\n}\n#define a ( A, u, c )\n#define b case\n// fetch random value from headless buffer by iDate.w, gpu unifrom linear variable ticks\n#define z int( texelFetch( iChannel0, ivec2( mod( iDate.w * 5. * h(t), A ) ), 0 )[ int( iTime * h(t) ) % 2 ] * 123.456 ) % 8\nvec3 drawFont( float A, vec2 u, vec3 I, vec3 c, int i ) {\n\tswitch( i ) {\n\t\tb 0 :\n\t\t            return N a;\n\t\tb 1 :\n\t\t            return U2 a;\n\t\tb 2 :\n\t\t            return V2 a;\n\t\tb 3 :\n\t\t            return W a;\n\t\tb 4 :\n\t\t            return X a;\n\t\tb 5 :\n\t\t            return Y a;\n\t\tb 6 :\n\t\t            return Z a;\n\t\tb 7 :\n\t\t            return E a;\n\t}\n}\nvoid mainImage( out vec4 U, in vec2 V ) {\n\t// Normalized pixel coordinates (from 0 to 1)\n\tvec3 c, I = iResolution;\n\tfloat p, A = min( I.x, I.y ), zoom = 1.8 - cos( iTime * .2 ) * .7;\n\tvec2 u = ( V * 2. - I.xy ) / A * zoom - vec2( iTime * .2, 0. ), u2 = u, t = round( u / .7 );\n\tu -= .7 * round( u / .7 );\n\tc = mix(\n\t        mix(\n\t            vec3( truchetRect( u2, A ) ) * .15,\n\t            vec3(.1),\n\t            drawFont( A, u + .03, I, c, z )\n\t        ),\n\t        vec3(1.),\n\t        drawFont( A, u, I, c, z ) * truchetRect( u * 3., A )\n\t    );\n\t// Output to screen\n\tU = vec4(c,1.0);\n}\n","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGzn","filepath":"/media/a/0c7bf5fe9462d5bffbd11126e82908e39be3ce56220d900f633d58fb432e56f5.png","previewfilepath":"/media/ap/0c7bf5fe9462d5bffbd11126e82908e39be3ce56220d900f633d58fb432e56f5.png","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    fragColor = texture( iChannel0, fragCoord / iResolution.xy * smoothstep( .2, .7, sin( iTime * .5 ) / .5 ) );\n}","name":"Buffer A","description":"","type":"buffer"}]}