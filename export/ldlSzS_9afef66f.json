{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[{"channel":0,"type":"texture","id":"Xsf3zn","filepath":"/media/a/f735bee5b64ef98879dc618b016ecf7939a5756040c2cde21ccb15e69a6e1cfb.png","sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"}}],"code":"// use the hardware bilinear filter to do all the work, \n// but remap the uv coords to move along in a kind of 'bumpy' way to give anti-aliased point sampling\n\n// now with 3 splits: on the left, no anti-aliasing. in the middle, smoothstep ('softer'). on the right, linear ('sharper').\n\n\nvec4 AntiAliasPointSampleTexture_None(vec2 uv, vec2 texsize) {\t\n\treturn texture(iChannel0, (floor(uv+0.5)+0.5) / texsize, -99999.0);\n}\n\nvec4 AntiAliasPointSampleTexture_Smoothstep(vec2 uv, vec2 texsize) {\t\n\tvec2 w=fwidth(uv);\n\treturn texture(iChannel0, (floor(uv)+0.5+smoothstep(0.5-w,0.5+w,fract(uv))) / texsize, -99999.0);\t\n}\n\nvec4 AntiAliasPointSampleTexture_Linear(vec2 uv, vec2 texsize) {\t\n\tvec2 w=fwidth(uv);\n\treturn texture(iChannel0, (floor(uv)+0.5+clamp((fract(uv)-0.5+w)/w,0.,1.)) / texsize, -99999.0);\t\n}\n\n\t\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float split=floor(iResolution.x/3.);\n\n\tvec2 uv = fragCoord.xy;\n\tif (floor(uv.x)==split || floor(uv.x)==split*2.) { fragColor=vec4(1.); return ; }\n\t\n\t// rotate the uv with time\t\t\n\tfloat c=cos(iTime*0.01),s=sin(iTime*0.01);\n\tuv=uv*mat2(c,s,-s,c)*0.05;\t\n\t\n\t// sample the texture!\n\tfloat anisotest=1.; // if you want stretchy pixels, try change this number to 0.1 \n\tuv*=vec2(1.0,anisotest);\n\t\n\tif (fragCoord.x<split)\n\t\tfragColor = AntiAliasPointSampleTexture_None(uv,vec2(256.));\t\n\telse if (fragCoord.x<split*2.)\n\t\tfragColor = AntiAliasPointSampleTexture_Smoothstep(uv,vec2(256.));\t\n\telse\n\t\tfragColor = AntiAliasPointSampleTexture_Linear(uv,vec2(256.));\t\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"ldlSzS","date":"1403522843","viewed":3497,"name":"aa point sample via hardware","username":"mmalex","description":"inspired by https://www.shadertoy.com/view/4dlXzB, here is an alternative way to get anti-aliased point sampled magnified textures.\nin this case, we use the hardware bilinear but warp the uv coordinates to get smooth edges","likes":54,"published":1,"flags":0,"usePreview":1,"tags":["aa","pointsample","bilinear"],"hasliked":0,"parentid":"","parentname":""}}