{"ver":"0.1","info":{"id":"td2czy","date":"1586901091","viewed":126,"name":"WaldsteinSonata","username":"domgenest","description":"Sonate Waldstein.","likes":3,"published":1,"flags":8,"usePreview":0,"tags":["beethoven"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n\n    // Time varying pixel color\n    vec3 col = 0.5 + 0.5*cos(iTime+uv.xyx+vec3(0,2,4));\n\n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"float tempo = 10.0;\nfloat transpose = -9.0;\n\nstruct Note\n{\n    int i;\n    float duree;\n};\n    \nvec2 note(float debut, Note note, float t)\n{\n    float trel = (t-debut/tempo);\n    if(trel<0.0 || trel>=note.duree/tempo) return vec2(0.0,0.0);\n    float f = 440.0*pow(2.0,(float(note.i)+transpose)/12.0);\n    return vec2(sin(6.28*f*t)*exp(-5.0*trel));\n}\n\n\nvec2 mainSound( in int samp, float time )\n{\n    Note voix0[] = Note[]( \n          Note(0,1.0), Note(3,1.0), Note(7,1.0), Note(12,1.0)\n        , Note(0,1.0), Note(3,1.0), Note(7,1.0), Note(12,1.0)\n        , Note(0,1.0), Note(5,1.0), Note(8,1.0), Note(12,1.0)\n        , Note(0,1.0), Note(5,1.0), Note(8,1.0), Note(12,1.0)\n        , Note(0,1.0), Note(1,1.0), Note(5,1.0), Note(8,1.0)\n        , Note(0,1.0), Note(1,1.0), Note(5,1.0), Note(8,1.0)\n        , Note(-2,1.0), Note(1,1.0), Note(6,1.0), Note(10,1.0)\n        , Note(-2,1.0), Note(1,1.0), Note(6,1.0), Note(10,1.0)\n        , Note(-2,1.0), Note(0,1.0), Note(4,1.0), Note(7,1.0)\n        , Note(-2,1.0), Note(0,1.0), Note(4,1.0), Note(7,1.0)\n        , Note(-4,1.0), Note(0,1.0), Note(5,1.0), Note(8,1.0)\n        , Note(-4,1.0), Note(0,1.0), Note(5,1.0), Note(8,1.0)\n        , Note(-4,1.0), Note(-2,1.0), Note(2,1.0), Note(5,1.0)\n        , Note(-4,1.0), Note(-2,1.0), Note(2,1.0), Note(5,1.0)\n        , Note(-5,1.0), Note(-2,1.0), Note(3,1.0), Note(7,1.0)\n        , Note(-5,1.0), Note(-2,1.0), Note(3,1.0), Note(7,1.0)\n        , Note(-5,1.0), Note(-4,1.0), Note(0,1.0), Note(3,1.0)\n        , Note(-5,1.0), Note(-4,1.0), Note(0,1.0), Note(3,1.0)\n        , Note(-7,1.0), Note(-4,1.0), Note(1,1.0), Note(5,1.0)\n        , Note(-7,1.0), Note(-4,1.0), Note(1,1.0), Note(5,1.0)\n        , Note(-7,1.0), Note(-5,1.0), Note(-1,1.0), Note(2,1.0)\n        , Note(-7,1.0), Note(-5,1.0), Note(-1,1.0), Note(2,1.0)\n        , Note(-9,1.0), Note(-5,1.0), Note(0,1.0), Note(3,1.0)\n        , Note(-9,1.0), Note(-5,1.0), Note(0,1.0), Note(3,1.0)\n    );\n    Note voix1[] = Note[]( \n          Note(15,2.0),Note(19,1.0),Note(17,1.0),Note(15,4.0)\n        , Note(20,2.0),Note(24,1.0),Note(22,1.0),Note(20,4.0)\n        , Note(13,2.0),Note(17,1.0),Note(15,1.0),Note(13,4.0)\n        , Note(18,8.0)\n        , Note(12,2.0),Note(16,1.0),Note(14,1.0),Note(12,4.0)\n        , Note(17,2.0),Note(20,1.0),Note(19,1.0),Note(17,4.0)\n        , Note(10,2.0),Note(14,1.0),Note(12,1.0),Note(10,4.0)\n        , Note(15,8.0)\n        , Note(8,2.0),Note(12,1.0),Note(10,1.0),Note(8,4.0)\n        , Note(13,2.0),Note(17,1.0),Note(15,1.0),Note(13,4.0)\n        , Note(7,2.0),Note(11,1.0),Note(9,1.0),Note(7,4.0)\n        , Note(19,8.0)\n    );\n\tNote voix2[] = Note[]( \n          Note(-1000,48.0)\n\t);\n    vec2 s = vec2(0.0,0.0);\n    {\n        int n = voix0.length();\n        float dt = 0.0;\n    \tfor(int i=0;i<n;++i)\n        {\n        \ts += note(dt,voix0[i],time)*0.3;\n            dt += voix0[i].duree;\n        }\n    }\n    {\n        int n = voix1.length();\n        float dt = 0.0;\n    \tfor(int i=0;i<n;++i)\n        {\n        \ts += note(dt,voix1[i],time)*0.3;\n            dt += voix1[i].duree;\n        }\n    }\n    {\n        int n = voix2.length();\n        float dt = 0.0;\n    \tfor(int i=0;i<n;++i)\n        {\n        \ts += note(dt,voix2[i],time)*0.3;\n            dt += voix2[i].duree;\n        }\n    }\n    return s; \n}\n","name":"Sound","description":"","type":"sound"}]}