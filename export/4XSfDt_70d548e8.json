{"ver":"0.1","info":{"id":"4XSfDt","date":"1730344308","viewed":58,"name":"growth and decay","username":"StormOfTheVoid","description":"a","likes":3,"published":1,"flags":32,"usePreview":0,"tags":["a"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage(out vec4 fragColor, in vec2 fragCoord) {\n\n    float factor = 30.*length(fragCoord/iResolution.y-vec2(0.88,0.5));\n    //float factor=1.;\n    fragCoord.x = fragCoord.x - (mod(fragCoord.x, factor*.5));\n    fragCoord.y = fragCoord.y - (mod(fragCoord.y, factor*.5));\n\tvec2 px = fragCoord.xy / iResolution.xy;\n    \n    fragColor = 1.*texture(iChannel1, vec2(px.x, px.y));\n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"const ivec2 FS_ADDR = ivec2(0.0);\n\nconst vec4 fs_stt = vec4(1.0);\n\nuint seed = 0u;\n\nvoid setSeed(uint s) {\n    seed = s;\n}\n\nuint hash(uint s) {\n    s ^= 2747636419u;\n    s *= 2654435769u;\n    s ^= s >> 16;\n    s *= 2654435769u;\n    s ^= s >> 16;\n    s *= 2654435769u;\n    return s;\n}\n\nuint randI() {\n    seed = hash(seed);\n    return seed;\n}\n\nfloat rand() {\n    uint rn = randI();\n    rn %= 1000000000u;\n    float rs = float(rn);\n    rs /= 1000000000.0;\n    return rs;\n}\n\n#define setNSeed() setSeed(uint(iResolution.x*fragCoord.y+fragCoord.x + float(hash(uint(iTime*1000.0))%1000u)))\n\n","name":"Common","description":"","type":"common"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XdfGR8","filepath":"/media/previz/buffer03.png","previewfilepath":"/media/previz/buffer03.png","type":"buffer","channel":3,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"vec2 f(float i,vec2 h){\n//if(float(iFrame)<=200.){\n//return vec2(cos(i),sin(i));\nfloat a=-float(iFrame)/10.;\n//return vec2(sin(i-sin(i*a/100.)),cos(i-cos(a/100.*i-a/100.)));\nreturn vec2(i*cos(5.*i+a)+h.x,i*sin(5.*i+a)+h.y);\n//}else{\n//return vec2(1.+0.5*cos(i),0.5*sin(i));\n//}\n}\nfloat n=30.;\nfloat t=700.;\nvoid mainImage( out vec4 color, in vec2 uv )\n{\n    vec2 fragCoord=uv;\n    float j=sin(pow(floor(float(iFrame)/t),2.));\n    float j2=sin(pow(3.7*floor(float(iFrame)/t),2.));\n    vec4 h=vec4(1.5*j,j2,1.,1.);\n    if(mod(float(iFrame),t)==0.){\n        color=h;\n    }else{\n        float dist=10000.;\n\n        if(uv.x<=n+1. && uv.y<=n-1.){\n\n        vec2 pos =texture(iChannel0,uv/iResolution.xy).xy;\n        \n        vec2 dir=vec2(0.);\n        for(float i=0.;i<=4.*3.14159;i+=0.001){\n        \n            vec2 p=f(i,h.xy);\n            float dist2=length(pos-p);\n            if(dist2<dist){\n                dir=pos-p;\n                dist=dist2;\n            }\n        }\n        \n        setNSeed();\n        \n        vec2 update=pos+(-0.5*dir+0.0075*vec2(0.475-rand(),0.475-rand()))/pow(2.,0.5/700.*mod(float(iFrame),t));\n        \n        color=vec4(update,dist,dist);\n\n       \n        \n\n    }\n    }\n    }\n","name":"Buffer A","description":"","type":"buffer"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4sXGR8","filepath":"/media/previz/buffer02.png","previewfilepath":"/media/previz/buffer02.png","type":"buffer","channel":2,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"XsXGR8","channel":0}],"code":"float n=30.;\nfloat t=700.;\nvoid mainImage( out vec4 color, in vec2 uv )\n{\n    color=0.99*texture(iChannel1,uv/iResolution.xy);\n    for(float i=0.;i<=29.;i+=1.){\n    for(float j=0.;j<=29.;j+=1.){\n    \n    vec2 pos=texture(iChannel0,vec2(i,j)/iResolution.xy).xy;\n    float dist=texture(iChannel0,vec2(i,j)/iResolution.xy).z;\n    float b=1.*floor(float(iFrame)/t)+0.01*mod(float(iFrame),t);\n    vec4 c = vec4(0.75+0.4*cos(b),0.75+0.4*sin(b),0.75-0.4*cos(b),1.);\n    color+=0.5*c*vec4(pow(2.,-500.*length(pos-2.5*(uv/iResolution.y-vec2(0.88,0.5)))));\n    }\n    }\n    \n   \n}","name":"Buffer B","description":"","type":"buffer"},{"inputs":[{"id":"XdfGR8","filepath":"/media/previz/buffer03.png","previewfilepath":"/media/previz/buffer03.png","type":"buffer","channel":3,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"XdfGR8","channel":0}],"code":"void mainImage( out vec4 color, in vec2 uv )\n{\n    vec2 fragCoord=uv;\n    if(float(iFrame)==0.){\n        setNSeed();\n      //color=2.*vec4(0.5-rand(),0.5-rand(),0.5-rand(),1.);\n      color=vec4(1.);\n    }else{\n    color=texture(iChannel3,uv/iResolution.xy);\n          color=vec4(1.);\n\n    }\n}","name":"Buffer D","description":"","type":"buffer"}]}