{"ver":"0.1","info":{"id":"XfVyDG","date":"1732319180","viewed":194,"name":"Double for-loop vec3 bug","username":"SnoopethDuckDuck","description":"Uncommenting Z = p; seems to nullify p even though Z is unused. Defining Z in either of the loops works fine. This is on windows (ANGLE I think)\n\nMuch simpler version:\nhttps://www.shadertoy.com/view/XcVcWK","likes":12,"published":3,"flags":0,"usePreview":0,"tags":["bug"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Simpler version:\n// https://www.shadertoy.com/view/XcVcWK\n\nvoid mainImage(out vec4 o, vec2 u) \n{\n    vec2 R = iResolution.xy;\n         u = (u+u-R)/R.y;\n\n    vec3 dir = normalize(vec3(u, 3)),\n         Z;\n    \n    float d = 1.,\n          i,\n          j;         \n          \n    for (; i < 1e2 && d > 1e-3; i++) \n    {\n        vec3 p = .1 * i * dir;\n        \n        // j < 1. works (single loop) - balls visible \n        // j < 2.,3.,4. ... doesn't   - no balls visible\n        for (d = j = 0.; j < 4.; j++) \n        {\n            p += p; //Z = p;\n            \n            d += length(fract(p) - .5) - .4;\n        }\n        \n        o = p.yyyy/6. + .5;\n    }\n}","name":"Image","description":"","type":"image"}]}