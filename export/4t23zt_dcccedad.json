{"ver":"0.1","info":{"id":"4t23zt","date":"1431468209","viewed":347,"name":"Defrag","username":"SpacePrez","description":"shader to approx display of degrag program operation","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["colors"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[],"code":"\nvec4 randColor(vec2 co){\n    float x = fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n    if(x < 0.1){\n        return vec4(1.0,0.7,0.0,1.0);\n    }\n    else if(x < 0.3){\n        return vec4(1.0,0.0,0.0,1.0);\n    }\n    else if(x < 0.4){\n        return vec4(0.3,0.3,0.3,1.0);\n    }\n    else{\n        return vec4(0.0,0.85,0.1,1.0);\n    }\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    //vec2 uv = fragCoord.xy / iResolution.xy;\n\t//fragColor = vec4(uv,0.5+0.5*sin(iTime),1.0);\n    \n    int numCells = 100;\n    float floatCells = float(numCells);\n    float cells = float(numCells);\n    float cellWidth = iResolution.x / cells;\n    \n    //current cursor position\n    int index = int(iTime * 13.8);\n    float ind = float(index);\n    int cursorRow = int(index / numCells);\n    cursorRow = int(mod(float(cursorRow), floatCells));\n    float col = mod(ind, cells);\n    int cursorCol = int(col);\n    \n    //current render pixel\n    int rendRow = int(fragCoord.y / cellWidth);\n    int rendCol = int(fragCoord.x / cellWidth);\n    \n    //draw grid\n    float rendLineDist = fragCoord.y / cellWidth;\n    rendLineDist =  rendLineDist - floor(rendLineDist);\n    if(rendLineDist < 0.199){\n        fragColor = vec4(0.0,0.0,0.0,1.0);\n        return;\n    }\n    rendLineDist = fragCoord.x / cellWidth;\n    rendLineDist =  rendLineDist - floor(rendLineDist);\n    if(rendLineDist < 0.199){\n        fragColor = vec4(0.0,0.0,0.0,1.0);\n        return;\n    }\n    \n    //draw colors\n    if(rendRow == cursorRow && rendCol == cursorCol){\n        fragColor = vec4(0.0,0.0,1.0,1.0);\n    }\n    else if(rendRow == cursorRow && rendCol < cursorCol){\n        //fragColor = vec4(0.0,0.0,1.0,1.0);\n        fragColor = randColor(vec2(rendRow, rendCol));\n    }\n    else if(rendRow < cursorRow){\n        //fragColor = vec4(1.0,0.0,0.0,1.0);\n        fragColor = randColor(vec2(rendRow, rendCol));\n    }\n    else{\n        fragColor = vec4(0.3,0.3,0.3,1.0);\n    }\n    \n    //vec3 texSample \t= texture( iChannel0, uv ).rgb;\n    \n    \n    //fragColor = vec4(0.0,0.0,0.0,1.0);\n}","name":"","description":"","type":"image"}]}