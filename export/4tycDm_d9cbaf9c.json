{"ver":"0.1","info":{"id":"4tycDm","date":"1536460702","viewed":207,"name":"Dirigible 1k","username":"DSoM","description":"The shader source for my entry for the Assembly 2018 1k intro compo where it reached the 7th place out of 13.\nOnly changes made were those required to get it running in Shadertoy.\nhttp://www.pouet.net/prod.php?which=77487","likes":9,"published":1,"flags":0,"usePreview":0,"tags":["intro","1k","assembly","dirigible"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define time mod(iTime,50.)/64.\n\nfloat h(vec3 x){\n    vec3 y=vec3(7,26,3);\n    vec4 m=vec4(0,y.yz,y.y+y.z)+dot(floor(x),y);\n    x=(x-=floor(x))*x*(3.-2.*x);\n    m=mix(fract(sin(m)*437.),fract(sin(m+y.x)*437.),x.x);\n    m.xy=mix(m.xz,m.yw,x.y);\n    return mix(m.x,m.y,x.z);\n}\n\nfloat r(vec3 y){\n    float m=0.;\n    float v=1.;\n    float f=2.;\n    m+=(v/=2.)*h((f*=2.)*y);\n    m+=(v/=2.)*h((f*=2.)*y);\n    m+=(v/=2.)*h((f*=2.)*y);\n    m+=(v/=2.)*h((f*=2.)*y);\n    m+=(v/=2.)*h((f*=2.)*y);\n    return m;\n}\n\nfloat d(vec3 y){\n    return min(y.y+7.-r(y/10.)*2.-h(y.xzz*20.)/3.,\n               min(max(max(min(abs(y.y)-.01,abs(y.x)-.01),-(y.z-=time*80.)-.1),length(y)-.4),length(y.xy)+(y.z-=.8)*y.z*.4-.4));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec3 f=vec3(1,2,time*60.+1.);\n    //Originally hardcoded for 1080p\n    vec3 a=vec3(fragCoord/iResolution.y-vec2(1,1.3),1)/length(vec3(fragCoord/iResolution.y-vec2(1,1.3),1));\n    vec3 z=f+a/-a.y;\n    float l=0.;\n    while(l++<64.)f+=a*d(f)/2.;\n    while(l++<100.&&max(time*2.,0.)>(r(z/3.)-abs(z.y+.5))&&f.y<(z+=a/-a.y*(1./32.+h(z*10000.)*.03)).y)\n        fragColor.xyz=max(time*2.,0.)<(r(z/3.)-abs(z.y+.5))?vec3(((r(z/3.)-abs(z.y+.5))-(r(z/3.+.05)-abs(z.y+.5)))/.6+.6):vec3((d(f+.4)-d(f))*2.*(f.y<-1.?vec3(.4,.5,.2):vec3(.5)));\n    fragColor.x+=max(-f.y*3.-27.+time*15.,0.),fragColor+=h(f*10.-f.z*5.-time*200.)/4.*max(-f.y*3.-27.+time*15.,0.);\n}","name":"Image","description":"","type":"image"}]}