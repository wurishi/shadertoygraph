{"ver":"0.1","info":{"id":"tt2yRh","date":"1593740086","viewed":134,"name":"Complex Fibonacci","username":"Justaway","description":"Complex Fibonacci\nWanted to try out the formula after watching https://www.youtube.com/watch?v=ghxQA3vvhsk","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["math"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define N 20\n#define E 2.71828\n#define PI 3.14159\n#define PHI 1.618033988749894848204586834\n#define SQRT_5 2.2360679775\n\nvec2 cpow(vec2 z1, vec2 z2)\n{\n\tfloat a2b2 = z1.x * z1.x + z1.y * z1.y;\n\tfloat t1 = pow(a2b2, z2.x / 2.0) * exp(-z2.y * atan(z1.y, z1.x));\n\tfloat t2 = z2.x * atan(z1.y, z1.x) + 0.5 * z2.y * log(a2b2);\n\treturn vec2(t1 * cos(t2), t1 * sin(t2));\n}\n\nvec2 cdiv(vec2 z1, vec2 z2)\n{\n\treturn z1 * mat2(z2, -z2.y, z2.x) / dot(z2, z2);\n}\n\nvec2 cprod(vec2 z1, vec2 z2)\n{\n\treturn vec2(\n\t\tz1.x * z2.x - z1.y * z2.y,\n\t\tz1.x * z2.y + z1.y * z2.x);\n}\n\nvec2 alt(int x)\n{\n\tfloat[2] tbl = float[2](1.0,-1.0);\n\treturn vec2(tbl[int(mod(float(x),2.0))],0.0);\n}\n\nvec2 cexp(vec2 z)\n{\n    return cpow(vec2(E,0.0),z);\n}\n\nvec2 csin(vec2 z)\n{\n    return cprod(vec2(0.0,0.5),cexp(cprod(vec2(0.0,-1.0),z))-cexp(cprod(vec2(0.0,1.0),z)));\n}\n\nvec2 ccos(vec2 z){\n    z += vec2(PI/2.0,0.0);\n    return cprod(vec2(0.0,0.5),cexp(cprod(vec2(0.0,-1.0),z))-cexp(cprod(vec2(0.0,1.0),z)));\n}\n\nvec2 fib(vec2 s)\n{\n    return cdiv(cpow(vec2(PHI,0.0),s)-cpow(vec2(-1.0/PHI,0.0),s),vec2(SQRT_5,0.0));\n}\n\nvec4 gradient(float theta)\n{\n    vec4 color = vec4(0.0);\n    color += vec4(1.0, 0.0, 0.0, 0.0) * smoothstep(0.0, 1.0, clamp(1.0 - abs((2.0 * PI-theta) * PI / 3.0), 0.0, 1.0));\n    color += vec4(1.0, 0.0, 0.0, 0.0) * smoothstep(0.0, 1.0, clamp(1.0 - abs(-theta * PI / 3.0), 0.0, 1.0));\n    color += vec4(1.0, 1.0, 0.0, 0.0) * smoothstep(0.0, 1.0, clamp(1.0 - abs((PI / 3.0 - theta) * PI / 3.0), 0.0, 1.0));\n    color += vec4(0.0, 1.0, 0.0, 0.0) * smoothstep(0.0, 1.0, clamp(1.0 - abs((PI * 2.0 / 3.0 - theta) * PI / 3.0), 0.0, 1.0));\n    color += vec4(0.0, 1.0, 1.0, 0.0) * smoothstep(0.0, 1.0, clamp(1.0 - abs((PI - theta) * PI / 3.0), 0.0, 1.0));\n    color += vec4(0.0, 0.0, 1.0, 0.0) * smoothstep(0.0, 1.0, clamp(1.0 - abs((PI * 4.0 / 3.0 - theta) * PI / 3.0), 0.0, 1.0));\n    color += vec4(1.0, 0.0, 1.0, 0.0) * smoothstep(0.0, 1.0, clamp(1.0 - abs((PI * 5.0 / 3.0 - theta) * PI / 3.0), 0.0, 1.0));\n    return color*(fract(theta / PI * 10.0) / 2.0 + 0.5);\n}\n\nvec4 plotDomain(vec2 z)\n{\n    float theta = mod(atan(z.y, z.x), 2.0 * PI);\n    return gradient(theta) * (fract(log2(length(z))) / 2.0 + 0.5);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float ratio = iResolution.x/iResolution.y;\n    vec2 uv = vec2(\n\t\t(fragCoord.x-iResolution.x/2.0)/iResolution.x*ratio,\n\t\t(fragCoord.y-iResolution.y/2.0)/iResolution.y);\n    vec2 z = uv * 15.0;\n    fragColor = plotDomain(fib(z));\n}","name":"Image","description":"","type":"image"}]}