{"ver":"0.1","info":{"id":"7lByRd","date":"1650100746","viewed":89,"name":"Mandelbrot Domain","username":"KingHashish","description":"Mandelbrot domain colouring","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["math","complex"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.14159265358979323\n\n#define mode int(iTime)%8\n#define S(v,l) smoothstep( -.7*fwidth(v), .7*fwidth(v), abs(fract(v +.5)-.5) -  (l) / (2.*PI)/2. )\n\nvec3 hrgb (float h, float m)\n{\n    vec3 c;\n    float mm;\n    float p;\n    \n    c.r =  0.5 - 0.5 * sin(2.0 * PI * h - PI / 2.0);\n    c.g = (0.5 + 0.5 * sin(2.0 * PI * h * 1.5 - PI / 2.0)) * float(h < 0.66);\n    c.b = (0.5 + 0.5 * sin(2.0 * PI * h * 1.5 + PI / 2.0)) * float(h > 0.33);\n    \n    mm = fract(m); //mod(m * 100.0, 100.0) * 0.01;\n    p = fract(mod(h,1.0/16.0));\n     \n    c.r -= (0.35*mm + 2.5*p);\n    c.g -= (0.35*mm + 2.5*p);\n    c.b -= (0.35*mm + 2.5*p);\n    \n    \n    return c;\n}\n\nvec2 compute (vec2 r, int n)\n{\n    vec2 p0 = r;\n    vec2 r2;\n    for(int i=0;i<=n;++i) {\n        r2 = mat2(r,-r.y,r.x) * r + p0;//vec2(r.x*r.x - r.y*r.y + p0.x, 2.0*r.x*r.y + p0.y);\n        r = r2;\n    }\n    return r;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 s = iResolution.xy;\n    vec2 q = fragCoord;\n    vec2 uv, p;\n    vec2 z, w, f;\n    uv = q - s/2.;//vec2(q.x - s.x/2.0, s.y/2.0 - q.y);\n    \n    //uv *= 0.02;\n                \n    uv *= 0.005;\n    uv.x -= 0.5;\n    p = compute(uv, int(iTime)%20);\n\n    \n    float m = length(p);\n    float a = (PI + atan(p.y, p.x)) / (2.0 * PI);\n    fragColor = vec4(hrgb(a,m), 1.0);\n\n}","name":"Image","description":"","type":"image"}]}