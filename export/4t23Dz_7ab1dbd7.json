{"ver":"0.1","info":{"id":"4t23Dz","date":"1428246773","viewed":289,"name":"Spirit","username":"Eddh","description":"I made something like a spirit, inspired a bit by wisps from warcraft3. It looked totally different on my computer though. I had to change it a lot to get something half correct. It's still not as good as on my computer :(","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["coherentnoise"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[],"code":"//the code is probably a mess, sorry\n\n//noise and hash function from iq if I remember correctly\nfloat hash( vec2 p ) {\n\tfloat h = dot(p,vec2(127.1,311.7));\t\n    return fract(sin(h)*43758.5453123);\n}\nfloat noise( vec2 p ) {\n    vec2 i = floor( p );\n    vec2 f = fract( p );\t\n\tvec2 u = f*f*(3.0-2.0*f);\n    return -1.0+2.0*mix( mix( hash( i + vec2(0.0,0.0) ), \n                     hash( i + vec2(1.0,0.0) ), u.x),\n                mix( hash( i + vec2(0.0,1.0) ), \n                     hash( i + vec2(1.0,1.0) ), u.x), u.y);\n}\n\nfloat fbm(vec2 p, float gain, float lacunarity){\n\tfloat val = noise(p);\n\tfloat current;\n\tfloat f = lacunarity;\n\tfor(int i=0 ; i<7 ; i++){\n\t\tcurrent =  noise((p+vec2(0, 0.3*iTime))*f)*gain;\n\t\tval += current;\n\t\t\n\t\tf*= lacunarity;\n\t}\n\t\t\tval*=(val+1.0)*(val+1.0);\n\treturn abs(val);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ){\n\tvec2 center = vec2(iMouse.x/iResolution.x, iMouse.y/iResolution.y);\n\tfloat nX = fragCoord.x/iResolution.x;\n\tfloat nY = fragCoord.y/iResolution.y;\n\tfloat dx = abs(nX-center.x);\n\tfloat dy = abs(nY-center.y);\n\tfloat x = nX-center.x;\n\tfloat y = nY-center.y;\n\tfloat tmpy;\n\tif(y > 0.0)\n\t\ttmpy = (1.0-y)*(1.0-y);\n\telse\n\t\ttmpy = sqrt(-y+1.0);\n\t\t//tmpy = (1-y)*(1-y);\n\tfloat trueDistFromCenter = length(vec2(dx*2.0, nY-center.y-0.20));\n\tfloat distFromCenter = length(vec2( dx*tmpy*2.0,\n\t\t\t\t\t\t\t\t\t\ty*0.5))*2.0;\n\t\n\tfloat val = fbm(vec2(x*7.0*tmpy, y*2.0 + 0.6*iTime), 0.6, 1.83);\n\t//val*=val;\n\tif(val < 0.0)\n\t\tval =val*0.5;\n\t\tval/= distFromCenter*50.0;\n\tval = 0.03/(trueDistFromCenter*0.8) + 10.0*val/(trueDistFromCenter*50.0)*0.3/(trueDistFromCenter*5.0);\n\tfloat val2 = val*0.7-0.1;\n\tfloat red = 0.15*fragCoord.x/iResolution.x + 0.05*sin(iTime)+ val2*val2*val2*val2*val2*3.0-0.1;\n\tfloat green = 0.15*fragCoord.y/iResolution.y + val*val*val - 0.1;\n\tfloat blue = val*val*val*5.0 -0.1;\n\t\n\t\t\n\t\n\tfragColor = vec4(red, green , blue , 1.0);\n\t//outColor = vec4(val, 0, 0, 1);\n}","name":"","description":"","type":"image"}]}