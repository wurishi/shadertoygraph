{"ver":"0.1","renderpass":[{"outputs":[{"channel":0,"id":"4dfGRr"}],"inputs":[],"code":"const float PI = 3.141592653589793;\n\n#define aspect (iResolution.x/iResolution.y)\n    \nfloat square(in float x, in float y){\n\treturn sqrt(x*x*x*x+y*y*y*y);\n}\n\nvec4 gradient (in vec2 uv){\n\tvec2 loc = - uv * vec2(2.0,2.0) - vec2(-1.0);\n\tloc.x *= aspect;\n\treturn vec4(vec3(1.0-length(vec2(loc.x,loc.y))/4.0),1.0);\n}\n\nvec4 gear(in vec2 uv, in vec2 pos, in float r, in float n, in vec3 col){\n\t\n\tvec2 loc = (pos - uv) * vec2(2.0,2.0) - vec2(-1.0);\n\tloc.x *= aspect;\n\tfloat a = (atan(loc.x,loc.y)/PI/2.0)+0.5+iTime/n;\n\tfloat c = length(vec2(loc.x, loc.y))/r;\n\tfloat t = 4.0*square((mod(a*n,1.0)-0.5)*1.6, (c-0.5)*1.5);\n\tfloat g = min(c,t);\n\tg = max(g, 1.0-c*2.0);\n\t\n\tif (g < 0.5) return vec4(col, 1.0);\n\telse if (g < 0.6) return vec4(col*0.6, 1.0);\n\telse return vec4(0.0);\n}\n\nvec4 blend(in vec4 c1, in vec4 c2){\n\treturn vec4(c1.rgb*(1.0-c2.a)+c2.rgb*(c2.a), max(c1.a,c2.a));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n\n\tvec4 col = gradient(uv);\n\tcol = blend(col, gear(uv, vec2(0.0,0.0), 0.5, -6.0, vec3(1.0,0.9,0.1)));\n\tcol = blend(col, gear(uv, vec2(0.205,0.089), 0.5, 6.0, vec3(0.95,0.0,0.0)));\n\tcol = blend(col, gear(uv, vec2(-0.235,-0.21), 0.75, 9.0, vec3(0.1,0.2,0.9)));\n\tcol = blend(col, gear(uv, vec2(0.404,0.39), 0.75, -9.0, vec3(0.0,0.95,0.0)));\n\tcol = blend(col, gear(uv, vec2(-0.47,-0.0), 0.5, -6.0, vec3(0.95,0.0,0.0)));\n\tcol = blend(col, gear(uv, vec2(0.26,-0.18), .5/6.*4., -4.0, vec3(0.1,0.2,0.9)));\n\n\tfragColor = col;\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"Xss3zn","date":"1361525092","viewed":1304,"name":"Gears","username":"aki","description":"Just some gears spinning around...","likes":9,"published":1,"flags":0,"usePreview":0,"tags":["2d","gears","mechanics","machinery"],"hasliked":0,"parentid":"","parentname":""}}