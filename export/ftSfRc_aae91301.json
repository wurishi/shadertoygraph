{"ver":"0.1","info":{"id":"ftSfRc","date":"1670171669","viewed":47,"name":"moving colormap 2","username":"ChGrenier","description":"moving colormap decomposed by RGB channel","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["colormap","function","plotting"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.14\n\nfloat courbe(float a, float b, float c, float d, float x){\n    return a + b*cos(2.*PI * (d + c*x));\n}\n\n\n\nvec3 plot(float f_x, float y, float thickness, vec3 colour){\n    float val = f_x - y;\n    \n    bool cond = val > -thickness && val < thickness;\n    vec3 col = cond ? colour : vec3(0.);\n    \n    return col;\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n    \n    float a = 0.5;\n    float b = 0.5;\n    float c = 1.0;\n    vec3 d = vec3(0., 0.33, 0.67) + vec3(0.13, -0.09, 0.24)*iTime;\n    \n    float f_R = courbe(a, b, c, d.x, uv.x);\n    float f_G = courbe(a, b, c, d.y, uv.x);\n    float f_B = courbe(a, b, c, d.z, uv.x);\n    \n    // Funnction plotting\n    vec3 plot_R = plot(f_R, \n                       (4./3.)*uv.y - 0.33, \n                       0.01, // thickness\n                       vec3(1., 0., 0.)); // colour\n    \n    vec3 plot_G = plot(f_G, \n                       (4./3.)*uv.y - 0.33,\n                       0.01, // thickness\n                       vec3(0., 1., 0.)); // colour\n\n    vec3 plot_B = plot(f_B, \n                       (4./3.)*uv.y - 0.33,\n                       0.01, // thickness\n                       vec3(0., 0., 1.)); // colour\n                       \n    // Output to screen\n    if(uv.y<0.25){\n        fragColor = vec4(f_R, f_G, f_B, 1.0);\n    }\n    else{\n        fragColor = vec4(0.);\n        fragColor += vec4(plot_R,1.0);\n        fragColor += vec4(plot_G,1.0);\n        fragColor += vec4(plot_B,1.0);\n    }\n}","name":"Image","description":"","type":"image"}]}