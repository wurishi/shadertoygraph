{"ver":"0.1","info":{"id":"cddGRS","date":"1677463837","viewed":110,"name":"colorwheels","username":"pb","description":"nice color gradients here","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["volumetric"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//philip.bertani@gmail.com\n\nmat2 rot(float an) { float cc=cos(an),ss=sin(an); return mat2(cc,ss,-ss,cc); }\n\nvec3 wheel(vec3 p) {\n    \n    p = mod(p-1.,2.)-1.;\n    \n    vec4 q = vec4(p , 0. );  \n    \n    vec4 jc = q; \n    \n    float ww = 5.;\n    \n    float i=0.;\n    float scale = 1.17;\n    \n    \n    for (;i<9.;i++){\n        \n        if ( q.x > 1. )  q.x = 2. - q.x;\n        else if ( q.x < -1.) q.x = -2. - q.x;\n        \n        if ( q.y > 1. )  q.y = 2. - q.y;\n        else if ( q.y < -1.) q.y = -2. - q.y;\n        \n        if ( q.z > 1. )  q.z = 2. - q.z;\n        else if ( q.z < -1.) q.z = -2. - q.z;\n        \n        float lz1 = length(q.xyz);\n  \n        float lzz1;\n        \n        float tt=iTime/4.;\n        \n        if ( lz1 < .3 ) { q.xyz *= 4.; ww *= 4.; q.xz = rot( tt )*q.xz; }\n        else if ( lz1 < 1.8) { q.xyz = q.xyz/(lzz1=lz1*lz1); ww *= lzz1; q.xy = rot(-tt)*q.xy; }\n       \n \n        q = scale * q + jc/1.5;\n        \n        //ww *= scale;\n    \n      \n    }\n    \n    return q.xyz;\n    \n}\n\n\nvec3 march( vec3 ro, vec3 rd) {\n\n    float dist = .03 + min(.02,max(0.,.1*sin(iTime/2.))),  totDist=0.,  distFac=1.;\n    \n    vec3 p = ro;\n    \n    vec3 color = vec3(0);\n    \n    for (float i=0.; i<60.; i++) {\n    \n    \n        vec3 cx = wheel(ro+i*dist*rd);\n        \n        cx = 1. - exp(-cx*cx);\n        color += cx * cx*  exp(-i)  ;\n        \n    }\n    \n    return color; \n}\n\n\n\nvoid mainImage( out vec4 O, in vec2 U )\n{\n\n    U = (2.*U - iResolution.xy) / iResolution.y *3.;\n    \n    vec3 rd = normalize( vec3(U, 2.) );\n    \n    vec3 ro = vec3(0.,0., -6.);  \n    \n    vec3 color = march( ro, rd );\n        \n    O = vec4( pow(color,vec3(.4)), 1);\n\n}\n\n\n","name":"Image","description":"","type":"image"}]}