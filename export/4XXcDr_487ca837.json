{"ver":"0.1","info":{"id":"4XXcDr","date":"1726024840","viewed":57,"name":"Buffer Loading Lorenz Attractor","username":"StormOfTheVoid","description":"Now you're thinking with portals","likes":2,"published":1,"flags":32,"usePreview":0,"tags":["lorenz"],"hasliked":0,"parentid":"McBBWc","parentname":"Rainbow Road Lorenz Attractor"},"renderpass":[{"inputs":[{"id":"4sXGR8","filepath":"/media/previz/buffer02.png","previewfilepath":"/media/previz/buffer02.png","type":"buffer","channel":2,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage(out vec4 color, in vec2 coord) {\n\n    vec2 uv = coord / iResolution.xy;\n    color = texture(iChannel2, uv); \n\n\n}\n\n\n\n","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 uv )\n{\n    float sp=2.;\n    float len=50.;\n    float a=floor(float(iFrame)/(0.5));\n    float dt=0.005;\n    \n    float w=128.;\n    \n    float j=1.;\n    \n    uv=uv/iResolution.xy;\n    uv=vec2(floor(uv*iResolution.xy));\n    \n    fragColor=vec4(0.);\n\n    if(a==0.){\n        \n        vec3 col=vec3(0.);\n        float iter=0.;\n        \n        float I=0.;\n        for(float i=1.;i<=w;i+=1.){\n        \n        if(uv.y>=1.+j*(i-1.) && uv.y<=w && uv.x<=len){\n        iter=(uv.y-1.-j*(i-1.))*iResolution.x+uv.x;\n        I=i;\n        }\n        }\n        float p=8.;\n        col = 4.*vec3(sin(10.*I)+1.+mod(I-1.,p)-4.,cos(10.*I)-4.+p*min(1.,1./p*(1.+floor((I-1.)/p))),-(1.+1.*cos(10.*I)));\n\n        fragColor = vec4(col,1.0);\n\n        if(iter<=len){\n            float x=0.;\n            float y=0.;\n            float z=0.;\n            for(float i=1.;i<=iter;i+=1.){\n                x=fragColor.x;\n                y=fragColor.y;\n                z=fragColor.z;\n\n                fragColor+=dt*vec4(10.*(y-x),(x*(28.-z)-y),(x*y-8./3.*z),0.);\n            }\n        }\n\n        }else{\n\n            float iter=0.;\n            \n            float s=1.+(uv.y-mod(uv.y,j))/j;\n            float x=0.;\n            float y=0.;\n            float z=0.;\n            iter=(uv.y-1.-j*(s-1.))*iResolution.x+uv.x;\n            \n            if(uv.y<=w && uv.x<=len){\n            \n            fragColor = texture(iChannel0, (uv+0.5)/iResolution.xy); \n            }\n            \n            if(mod(a,sp)==0. && iter<=len && uv.y<=w && uv.x<=len){\n            \n                x=fragColor.x;\n                y=fragColor.y;\n                z=fragColor.z;\n                fragColor+=dt*vec4(10.*(y-x),(x*(28.-z)-y),(x*y-8./3.*z),0.);\n\n             }\n\n        } \n}\n","name":"Buffer A","description":"","type":"buffer"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"XsXGR8","channel":0}],"code":"vec3 rotx(vec3 n,float rs, float rc){\n    return vec3(n.x,rc*n.y-rs*n.z,rs*n.y+rc*n.z);\n}\n\nvec3 roty(vec3 n,float theta){\n    return vec3(cos(theta)*n.x+sin(theta)*n.z,n.y,-sin(theta)*n.x+cos(theta)*n.z);\n}\n\nvec3 rotz(vec3 n,float rs, float rc){\n    return vec3(rc*n.x-rs*n.y,rs*n.x+rc*n.y,n.z);\n}\n\n\n\nvoid mainImage( out vec4 fragColor, in vec2 uv )\n{\n\n    float sp=2.;\n    float a=floor(float(iFrame)/(0.5));\n    \n    float w=128.;\n    float len=50.;\n    \n    uv=uv/iResolution.xy;\n    uv=vec2(floor(uv*iResolution.xy));\n    \n    fragColor=vec4(0.);\n\n    float x=0.;\n    float y=0.;\n    float z=0.;\n    \n    vec3 col=vec3(0.);\n    \n    float r=0.;\n    float rs=0.;\n    float rc=0.;\n    \n    if(mod(a,sp)==0. && uv.y<=w && uv.x<=len){\n    \n        fragColor = texture(iChannel0, (uv+0.5)/iResolution.xy); \n\n        x=fragColor.x;\n        y=fragColor.y;\n        z=fragColor.z;\n\n        r=float(iFrame)/(sp*50.);\n        rc=cos(0.1*r/1.);\n        rs=sin(0.1*r/1.);\n\n        col=rotz(roty(rotx(vec3(x,y,z),rs,rc),0.5*r/1.),rs,rc);\n        fragColor = vec4(col,1.);\n        \n    }else{\n        if(uv.y<=w && uv.x<=len){\n            fragColor = texture(iChannel1, (uv+0.5)/iResolution.xy); \n        }\n    }\n}","name":"Buffer B","description":"","type":"buffer"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4sXGR8","filepath":"/media/previz/buffer02.png","previewfilepath":"/media/previz/buffer02.png","type":"buffer","channel":2,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4sXGR8","channel":0}],"code":"void mainImage(out vec4 color, in vec2 uv) {\n    float sp=2.;\n    float j=1.;\n    float w=128.;\n    float len=50.;\n    \n    float a=float(iFrame)/(0.5);\n    \n    color=vec4(0.);\n\n    if(mod(a,sp)==0.){\n    \n        a=2.*float(iFrame)/(50.*sp);\n        vec3 col=vec3(0.);\n        vec2 uv2=uv / iResolution.xy;\n\n\n        float n=(55.+35.*cos(a/4.));\n        //float n=20.;\n\n\n        uv.x = n*(uv.x-0.5*iResolution.x)/iResolution.y;\n        uv.y = n*(uv.y-0.5*iResolution.y)/iResolution.y;\n\n        float x=0.;\n        float y=0.;\n        float z=0.;\n\n        float x3=0.;\n        float y3=0.;\n        float z3=0.;\n\n        float dt=0.005;\n        float a=float(iFrame)/(sp*15.);\n        float c=15.;\n        float d=250.;\n        float p=-1.;\n\n        float rat=iResolution.x/iResolution.y;\n        float m=0.;\n\n        float a2=0.;\n        float b=0.;\n\n        float l=0.;\n        float t=0.;\n\n        vec3 diff=vec3(0.);\n        vec4 cordin=vec4(0.);\n        vec3 holder=vec3(0.);\n        vec3 colc=vec3(0.);\n\n        float c1=0.;\n        float c2=0.;\n        float c3=0.;\n\n        for(float s=1.; s<=w;s+=1.){\n\n            l=0.;\n            t=0.;\n\n            holder=texture(iChannel1, vec2(1.5,1.5+j*(s-1.))/iResolution.xy).xyz;   \n            colc=texture(iChannel0, vec2(1.5,1.5+j*(s-1.))/iResolution.xy).xyz; \n\n            c1=cos(colc.x);\n            c2=cos(colc.y);\n            c3=cos(colc.z);\n\n            while(l<=1500. && t<len){\n                \n                t+=1.;\n                a2=1.+mod(t-1.,iResolution.x);\n                b=iResolution.x*min(1.,1./iResolution.x*(1.+floor((t-1.)/iResolution.x)));\n\n                cordin=texture(iChannel1, vec2(a2+0.5,b+0.5+j*(s-1.))/iResolution.xy); \n\n\n                diff=holder-cordin.xyz;\n                holder=cordin.xyz;\n                x=holder.x;\n                y=holder.y;\n                z=holder.z;\n\n\n                x3=mod(x+n/2.*rat,n/1.*rat)-n/2.*rat;\n                y3=mod(y+n/2.,n/1.)-n/2.;\n                z3=z;    \n\n\n                m=pow(length(vec3(x3,y3,z3)-vec3(0.,0.,d)),p);\n\n                col+=pow(l/1500.,2.)*abs(diff)*c*vec3(0.5+0.5*c1,0.5+0.5*c2,0.5+0.5*c3)*pow(length(vec2(x3,y3)-uv),-1.2)*m;\n\n                l+=length(diff/dt);\n\n            }\n        }\n\n        color=vec4(col,1.);\n    }else{\n        color = texture(iChannel2, uv/iResolution.xy); \n    }\n}\n\n","name":"Buffer C","description":"","type":"buffer"}]}