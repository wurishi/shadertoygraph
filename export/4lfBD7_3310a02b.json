{"ver":"0.1","info":{"id":"4lfBD7","date":"1512235752","viewed":85,"name":"Star Organic","username":"uzpei","description":"Organic star-shaped creature","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["procedural"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"precision mediump float;\n\n#define feather 0.01\n#define PI 3.14159\n\nfloat rand(vec2 co){\n    return fract(sin(dot(co.xy, vec2(12.9898,78.233))) * 43758.5453);\n}\n\nfloat disk(vec2 p, vec2 c, float r) {\n\treturn 1.0-smoothstep(r*feather, r, dot(p-c,p-c));\n}\n\nfloat spindle(vec2 p, vec2 c, float r, float theta) {\n\tvec2 dir = 0.005*vec2(sin(theta), -cos(theta)); // arm direction\n    const int l = 150; // arm length\n\tfloat dr = 0.975; // arm growth along length\n\n    float accum = 0.0;\n\tfor (int i = 0; i < l; i++) {\n\t\taccum += disk(p, c, r);\n\t\tdir += 0.001*(-0.5+rand(c));\n\t\tc += dir;\n\t\tr = dr*r;\n\t}\n\n\treturn 0.1 * accum;\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n\n\t// Center\n\tvec2 p = (fragCoord.xy*2.-iResolution.xy)/iResolution.y + 0.01 * vec2(sin(rand(fragCoord.xy)));\n\n\t// Parameters\n\tvec2 c = vec2(0.,0.); // disk center\n    float ts = 0.2; // time stretch\n\tfloat r = 0.001 + 0.01*abs(sin(iTime * ts)) * abs(sin(1.0 + 2.0 * iTime * ts)) * abs(sin(2.0 + 3.0 * iTime * ts)); // arm radius\n    const int n = 5; // arm count\n\n    // Draw\n\tfloat d = 0.0;\n\tfor (int i = 2; i <= n + 1; i++) {\n\t\td += spindle(p, c, r, 2.0 * PI * float(i)/float(n) + 0.000001 * iTime);\n\t}\n\tfragColor = vec4(vec3(d), 1.0);\n}\n","name":"Image","description":"","type":"image"}]}