{"ver":"0.1","info":{"id":"llBBzd","date":"1517025828","viewed":221,"name":"Sketchy Gray Filter","username":"MinorityGamer","description":"Creates an ominous sketchy filter for when you're feeling edgy. ","likes":0,"published":1,"flags":2,"usePreview":0,"tags":["camerafilter"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sf3zn","filepath":"/presets/webcam.png","previewfilepath":"/presets/webcam.png","type":"webcam","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\n//kennedy HSV Conversion Code \nvec3 hsv2rgb(vec3 c) {\n  vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n  vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n  return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\nvec3 rgb2hsv(vec3 c)\n{\n vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\n vec4 p = mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g));\n vec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r));\n\n float d = q.x - min(q.w, q.y);\n float e = 1.0e-10;\n return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);\n}\n\n// Luminance/ GRAY SCALE CODE \nfloat luma(vec3 color) {\n  return dot(color, vec3(0.299, 0.587, 0.114));\n}\n\nfloat luma(vec4 color) {\n  return dot(color.rgb, vec3(0.299, 0.587, 0.114));\n}\n\n\n/*  \n\t//fragColor = vec4(uv,0.5+0.5*sin(iTime),1.0); //color \n    \n    \n    //fragColor *= length(mouseCoord - uv); // the 1.0 makes the screen darker around the mouse\n//without it, the mouse is dark\n}\n\n*/\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\t\n    vec2 mouseCoord = iMouse.xy / iResolution.xy; \n    \n    vec2 uv = fragCoord.xy / iResolution.xy;\n    \n    vec4 c = texture(iChannel0, uv); \t\t\t\t//pulls camera up\n    \n    vec3 hsv = rgb2hsv(c.xyz); \n    \n  \n    \n     hsv.y += 0.75; //.5 - sin(iTime); \n    \n   // hsv.z *= 1.5;    //brightness \n     \n    c.xyz = hsv2rgb(hsv); \n    \n    fragColor = vec4(c.xyz,1); \n    \n    fragColor = vec4(luma(c)); \t\t\t\t\t\t//creates a gray scale\n\t\n}\n\n","name":"Image","description":"","type":"image"}]}