{"ver":"0.1","info":{"id":"msX3DM","date":"1666209765","viewed":168,"name":"The Heat Equation","username":"zenzicubic","description":"The heat equation, solved using Euler integration and 5-point stencil with dt=0.1.","likes":3,"published":1,"flags":32,"usePreview":0,"tags":["physics","pde","heateqn"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage(out vec4 col, in vec2 p)\n{\n    float t = texelFetch(iChannel0, ivec2(p), 0).x;\n    col = vec4(\n        sqrt(t),\n        t * t * t,\n        max(sin(6.283 * t), 0.),\n        t\n    );\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"XdfGR8","filepath":"/media/previz/buffer03.png","previewfilepath":"/media/previz/buffer03.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"#define RAD 8.0\n\nvoid mainImage(out vec4 col, in vec2 p)\n{\n    if (distance(p, iMouse.xy) < RAD) \n    {\n        col = vec4(1.0);\n    } else {\n        // Euler integration\n        vec4 T = texelFetch(iChannel0, ivec2(p), 0);\n        vec4 iT = R * laplace(p, iChannel0);\n        \n        col = T + iT * DT;\n    }\n}","name":"Buffer A","description":"","type":"buffer"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"XsXGR8","channel":0}],"code":"void mainImage(out vec4 col, in vec2 p)\n{\n    // Euler integration\n    vec4 T = texelFetch(iChannel0, ivec2(p), 0);\n    vec4 iT = R * laplace(p, iChannel0);\n        \n    col = T + iT * DT;\n}","name":"Buffer B","description":"","type":"buffer"},{"inputs":[{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4sXGR8","channel":0}],"code":"void mainImage(out vec4 col, in vec2 p)\n{\n    // Euler integration\n    vec4 T = texelFetch(iChannel0, ivec2(p), 0);\n    vec4 iT = R * laplace(p, iChannel0);\n        \n    col = T + iT * DT;\n}","name":"Buffer C","description":"","type":"buffer"},{"inputs":[{"id":"4sXGR8","filepath":"/media/previz/buffer02.png","previewfilepath":"/media/previz/buffer02.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"XdfGR8","channel":0}],"code":"void mainImage(out vec4 col, in vec2 p)\n{\n    // Euler integration\n    vec4 T = texelFetch(iChannel0, ivec2(p), 0);\n    vec4 iT = R * laplace(p, iChannel0);\n        \n    col = T + iT * DT;\n}","name":"Buffer D","description":"","type":"buffer"},{"inputs":[],"outputs":[],"code":"#define DT 0.1\n#define R 0.5\n\nvec4 laplace(vec2 p, sampler2D sam) \n{\n    // 5-point stencil Laplacian\n    vec4 c = texelFetch(sam, ivec2(p), 0);\n    \n    vec4 lt = texelFetch(sam, ivec2(p + vec2(-1, 0)), 0);\n    vec4 rt = texelFetch(sam, ivec2(p + vec2(1, 0)), 0);\n    vec4 up = texelFetch(sam, ivec2(p + vec2(0, -1)), 0);\n    vec4 dn = texelFetch(sam, ivec2(p + vec2(0, 1)), 0);\n    \n    return lt + up + rt + dn - (4. * c);\n}\n","name":"Common","description":"","type":"common"}]}