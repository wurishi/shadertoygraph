{"ver":"0.1","info":{"id":"X3s3DM","date":"1707556431","viewed":112,"name":"More Vibes","username":"Crystalize","description":"Just some vibes. :)","likes":9,"published":1,"flags":0,"usePreview":0,"tags":["more","vibes"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const float Psym=3.;\nconst float Qsym=4.;\nconst float Rsym=3.;\n\nconst int iters=10;\n\nconst vec2 Re = vec2(1,0);\nconst vec2 Im = vec2(0,1);\nconst float TWOPI = 6.283185307179586476;\nconst float PI = 3.141592653589793238;\n\nvec2 cmul(vec2 z, vec2 c) {\n    return vec2(z.x * c.x - z.y * c.y, z.x * c.y + z.y * c.x);\n}\n\nvec2 cdiv(vec2 z, vec2 c) {\n    float r = dot(c, c);\n    return vec2(z.x * c.x + z.y * c.y, z.y * c.x - z.x * c.y) / r;\n}\n\nvec2 conj(vec2 z) {\n    return vec2(z.x, -z.y);\n}\n\nvec2 rBar(vec2 z) {\n    return vec2(-z.x, z.y);\n}\n\nvec2 recip(vec2 z) {\n    return conj(z)/dot(z,z);\n}\n\nvec2 hypershift(vec2 z, vec2 s) {\n    return cdiv(z + s, cmul(z,conj(s))+Re);\n}\n\nvec2 sphereshift(vec2 z, vec2 s) {\n    return cdiv(z + s, cmul(z,rBar(s))+Re);\n}\n\nvec2 cpow(vec2 z, vec2 p) {\n    float a = atan(z.y, z.x);\n    float lnr = 0.5 * log(dot(z,z));\n    float m = exp(p.x * lnr - p.y * a);\n    float angle = p.x * a + p.y * lnr;\n    return vec2(cos(angle), sin(angle)) * m;\n}\n\nvec2 cabs(vec2 z, vec2 c) {\n    return cpow(cpow(z,c), cdiv(Re,c));\n}\n\n\nvec2 hypertile3(vec2 z, float p, float q, float r) {\n    float pp = PI/p;\n    float pq = PI/q;\n    float spq = sin(pq);\n    float pr = PI/r;\n    float spr = sin(pr);\n    float a1 = acosh((cos(pp) + cos(pq) * cos(pr)) / (spq * spr));\n    float a2 = asinh(spq / sin(pp) * sinh(a1));\n    float sha2 = sinh(a2);\n    float a3 = asinh(spr * sha2);\n    float rcha3 = 1./cosh(a3);\n    float a4 = asinh(spr * sha2 / spq);\n    \n    float h = tanh(a3 * .5);\n    float b1 = tanh(acosh(cosh(a4) * rcha3) * .5);\n    float b2 = tanh(acosh(cosh(a2) * rcha3) * .5);\n    \n    for(int i = 0; i < iters; i++) {\n        z = hypershift(z,-b1*Re);\n        z = -cabs(-z, Re*q);\n        z = hypershift(z,b1*Re);\n        z = hypershift(z,b2*Re);\n        z = cabs(z, Re*r);\n        z = hypershift(z,-b2*Re);\n    }\n    z = z.x>0.?hypershift(z,-b1*Re)/b1:hypershift(z,b2*Re)/b2;\n    return z;\n}\n\nvec2 sphericalize(vec2 z) {\n    return (dot(z,z)>1.?-1.:1.)*cdiv(2.*z,cmul(z,rBar(z))+Re);\n}\n\nvec2 unbubble(vec2 z) {\n    return cdiv(2.*z,Re+cmul(z,conj(z)));\n}\n\nvec2 bubble(vec2 z) {\n    return cdiv(z,Re+cpow(Re-cmul(z,conj(z)),Re*0.5));\n}\n\nvec2 unsphericalize(vec2 z) {\n    return cdiv(Re-cpow(Re+cmul(z,conj(z)),Re*0.5),-z);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = 2.0 * (fragCoord.xy - 0.5*iResolution.xy) / -iResolution.y;\n    \n    float tt = tan(iTime*0.25);\n    float mn = 2.-sqrt(3.);\n    float nm = sqrt(2.)-1.;\n    uv = cdiv(uv+Re*tt,cmul(-Re*tt,uv)+Re);\n    uv = cdiv(uv+Im*tt,cmul(Im*tt,uv)+Re);\n    uv = sphereshift(uv,Im*mn);\n    uv = -cabs(-uv,Re*2.);\n    uv = sphereshift(uv,Re*nm);\n    uv = cabs(uv,Re*4.);\n    uv = sphereshift(uv,-Re*nm);\n    uv = -cabs(-uv,Re*2.);\n    uv = sphereshift(uv,Re*nm);\n    uv = sphericalize(uv);\n    uv = cabs(uv,Re*4.);\n    uv.x -= 1.;\n    uv = bubble(uv);\n    uv = hypershift(uv,Re*mn);\n    uv /= mn;\n    uv = -cabs(-uv,Re*3.);\n    uv = hypershift(uv,Re*mn);\n    vec3 col = vec3(1);\n    col = dot(uv,uv) < 1. ? col : uv.x > 0. || (uv.y > 1. || uv.y < -1.)  ? vec3(0) : col;\n    uv *= 1.5;\n    \n    col *= 0.5+0.5*cos(abs(asinh(uv.x)*sin(uv.y+PI*.5))*(4.+(cos(iTime)))+iTime+vec3(-0.5,1,2));\n\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}