{"ver":"0.1","info":{"id":"tlKcW1","date":"1611250386","viewed":114,"name":"A walk at dawn...","username":"kw","description":"Experimenting with colors and shapes.","likes":12,"published":1,"flags":0,"usePreview":0,"tags":["2d"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\n//a walk at dawn...\n\n//distance functions:\n//https://iquilezles.org/articles/distfunctions2d\n\nfloat dCircle(in vec2 pos,in float size)\n{\n    return length(pos) - size;\n}\n\nfloat dSegment(in vec2 pos,in vec2 a,in vec2 b,in float size)\n{\n    vec2 pa = pos - a;\n    vec2 ba = b - a;\n    float h = clamp(dot(pa,ba) / dot(ba,ba),0.0,1.0);\n    return length( pa - ba * h) - size;\n}\n\nfloat pAdd(in float a,in float b)\n{\n    return min(a,b);\n}\n\nfloat pAdd(in float a,in float b,in float k) \n{\n    float h = clamp(0.5 + 0.5 * (b - a) / k,0.0,1.0);\n    return mix(b,a,h) - k * h * (1.0 - h); \n}\n\nfloat pSub(in float a,in float b)\n{\n    return max(a,-b);\n}\n\nfloat pSub(in float a,in float b,in float k) \n{\n    float h = clamp(0.5 - 0.5 * (b + a) / k,0.0,1.0);\n    return mix(b,-a,h) + k * h * (1.0 - h); \n}\n\nfloat pDif(in float a,in float b)\n{\n    return max(a,b); \n}\n\nfloat pDif(in float a,in float b,in float k) \n{\n    float h = clamp(0.5 - 0.5 * (b - a) / k,0.0,1.0);\n    return mix(b,a,h) + k * h * (1.0 - h);\n}\n\nfloat pSmooth(in float val,in float factor)\n{\n    return smoothstep(factor,-(2.0 / iResolution.y),val);\n}\n\nvec3 cSky(in vec2 pos)\n{\n    vec3 color = vec3(mix(vec3(0.2,0.4,2.0),vec3(0.8,0.3,0.5),-pos.y + 0.6));\n    color = mix(color,vec3(0.2,0.2,0.6),(abs(pos.y) * 1.2) - (abs(pos.x) / 1.3));\n    color += pos.x / 10.0 + 0.2;\n    color -= pos.y * 0.4;\n    return color;\n}\n\nvec3 cTerrain(in vec2 pos)\n{\n    return vec3(exp(-pos.y + pos.x - 0.5),0.4 + (-pos.y * 1.0),1.0 + (pos.y * 0.5));\n}\n\nvec3 cPenguinBody(in vec2 pos)\n{\n    pos.y -= 0.2;//0.2 when the marked '*' line below is disabled / otherwise 0.3!\n    vec3 color = vec3(0.1,0.2,0.2);\n    color -= pos.y * 0.4 - abs(pos.y - 0.2) / 3.2;\n    //color += pos.x * 2.3 + (pos.y * 0.1);//* (optional shading)\n    return color;\n}\n\nvec3 cPenguinBeakAndFeet(in vec2 pos)\n{\n    pos.y += 0.6;\n    return vec3(1.0,0.8 - (0.2 - (0.4 - pos.y)),0.4);\n}\n\nvec3 cPenguinBellyAndEyes(in vec2 pos)\n{\n   pos.y += 0.8;\n   return vec3(1.0 - (0.1 - pos.y),1.8 - (1.0 - (pos.x - 0.5) - (pos.y / 1.2)),0.9);\n}\n\nvec4 sTerrain(in vec2 pos,in float factor)\n{\n    float sd = dCircle(pos - vec2(-0.4,-0.8),0.8);\n    sd = pAdd(sd,dCircle(pos - vec2(0.4,-0.8),0.6),0.2);\n    sd = pSmooth(sd,factor);\n    return vec4(cTerrain(pos),sd);\n}\n\nvec4 sTerrain2(in vec2 pos,in float factor)\n{\n    float sd = dCircle(pos - vec2(0.3,-0.7),0.6); \n    sd = pAdd(sd,dCircle(pos - vec2(-0.4,-0.8),0.6),0.8);\n    sd = pSmooth(sd,factor);\n    return vec4(cTerrain(pos - vec2(0.0,0.1)),sd);\n}\n\nvec4 sTerrain3(in vec2 pos,in float factor)\n{\n    float sd = dCircle(pos - vec2(-0.6,-0.8),0.6);\n    sd = pAdd(sd,dCircle(pos - vec2(0.2,-1.2),0.6),0.8);\n    sd = pSmooth(sd,factor);\n    return vec4(cTerrain(pos - vec2(0.0,-0.16)),sd);\n}\n\nvec4 sPenguinBody(in vec2 pos,in float factor)\n{\n    float sd = dCircle(pos,0.04);\n    sd = pAdd(sd,dCircle(pos - vec2(0.0,-0.06),0.064),0.06);\n    sd = pAdd(sd,dCircle(pos - vec2(0.0,0.03),0.03),0.02);\n    sd = pAdd(sd,dCircle(pos - vec2(0.02,0.06),0.040),0.012);\n    sd = pAdd(sd,dCircle(pos - vec2(-0.08,-0.08),0.01),0.04);\n    sd = pSmooth(sd,factor);\n    return vec4(cPenguinBody(pos - vec2(0.0,-0.2)),sd);\n}\n\nvec4 sPenguinArmRight(in vec2 pos,in float factor)\n{\n    float sd = dSegment(pos,vec2(0.0,0.014),vec2(0.1,-0.01),0.026 - abs(pos.x) / 7.0);\n    sd = pSmooth(sd,factor);\n    return vec4(cPenguinBody(pos - vec2(0.0,-0.2)),sd);\n}\n\nvec4 sPenguinBeakAndLegs(in vec2 pos,in float factor)\n{\n    float sd = dSegment(pos,vec2(0.048,0.062),vec2(0.058,0.055),0.01);\n    sd = pSub(sd,dSegment(pos,vec2(0.05,0.040),vec2(0.08,0.040),0.01));\n    sd = pAdd(sd,dSegment(pos,vec2(0.006,-0.114),vec2(0.04,-0.12),0.014));\n    sd = pSub(sd,dSegment(pos,vec2(0.0,-0.04),vec2(0.1,-0.2),0.01));\n    sd = pSmooth(sd,factor);\n    return vec4(cPenguinBeakAndFeet(pos),sd);\n}\n\nvec4 sPenguinBellyAndEyes(in vec2 pos,in float factor)\n{\n    float sd = dCircle(pos,0.04);\n    sd = pAdd(sd,dCircle(pos - vec2(0.0,-0.06),0.064),0.06);\n    sd = pAdd(sd,dCircle(pos - vec2(-0.006,0.03),0.04),0.01);\n    sd = pAdd(sd,dCircle(pos - vec2(0.01,0.07),0.042),0.01);\n    sd = pDif(sd,dCircle(pos - vec2(0.12,-0.036),0.1));\n    sd = pSmooth(sd,factor);\n    return vec4(cPenguinBellyAndEyes(pos),sd);\n}\n\nvec4 sPenguinBody2(in vec2 pos,in float factor)\n{\n    pos.x -= 0.10;\n    float sd = dCircle(pos,0.04);\n    sd = pAdd(sd,dCircle(pos - vec2(0.0,-0.066),0.062),0.06);\n    sd = pAdd(sd,dCircle(pos - vec2(0.05,-0.10),0.016),0.06);\n    sd = pAdd(sd,dCircle(pos - vec2(-0.018,-0.11),0.03));\n    sd = pAdd(sd,dCircle(pos - vec2(0.01,0.038),0.040),0.01);\n    sd = pAdd(sd,dSegment(pos,vec2(0.0,0.02),vec2(-0.1,-0.04),0.026 - ((abs(pos.x)) / 6.0)));\n    sd = pAdd(sd,dSegment(pos,vec2(0.02,-0.03),vec2(0.1,0.02),0.026 - ((abs(pos.x)) / 8.0)));\n    sd = pAdd(sd,dCircle(pos - vec2(-0.06,-0.1),0.01),0.02);\n    sd = pSmooth(sd,factor);\n    return vec4(cPenguinBody(pos),sd);\n}\n\nvec4 sPenguinLegs2(in vec2 pos,in float factor)\n{\n    pos.x -= 0.10;\n    float sd = dSegment(pos,vec2(0.0,-0.15),vec2(-0.026,-0.14),0.014);\n    sd = pSub(sd,dSegment(pos,vec2(-0.016,-0.1),vec2(0.04,-0.2),0.01));\n    sd = pAdd(sd,dSegment(pos,vec2(0.06,-0.12),vec2(0.08,-0.12),0.014));\n    sd = pSub(sd,dSegment(pos,vec2(0.08,-0.1),vec2(0.1,-0.12),0.01));\n    sd = pSmooth(sd,factor);\n    return vec4(cPenguinBeakAndFeet(pos),sd);\n}\n\nvec3 rDraw(in vec3 color,in vec4 obj)\n{\n    return mix(color,obj.rgb,obj.a);\n}\n\nvec2 rPixel(in vec2 pos,in vec3 resolution)\n{\n    return vec2((pos - (0.5 * resolution.xy)) / resolution.y);\n}\n\nvoid mainImage(out vec4 pixel_color,in vec2 pixel_pos)\n{\n    vec2 pixel = rPixel(pixel_pos,iResolution);\n    vec3 color = cSky(pixel);\n    float factor_terrain = 0.001;\n    float factor_penguin = 0.0001;\n    color = rDraw(color,sTerrain2(pixel,factor_terrain));\n    color = rDraw(color,sTerrain(pixel,factor_terrain));\n    color = rDraw(color,sTerrain3(pixel,factor_terrain));\n    color = rDraw(color,sPenguinBeakAndLegs(pixel,factor_penguin));    \n    color = rDraw(color,sPenguinBody(pixel,factor_penguin));\n    color = rDraw(color,sPenguinBellyAndEyes(pixel,factor_penguin));\n    color = rDraw(color,sPenguinLegs2(pixel,factor_penguin));\n    color = rDraw(color,sPenguinBody2(pixel,factor_penguin));\n    color = rDraw(color,sPenguinArmRight(pixel,factor_penguin));\n    pixel_color = vec4(color,1.0);\n}\n","name":"Image","description":"","type":"image"}]}