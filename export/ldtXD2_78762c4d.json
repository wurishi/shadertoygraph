{"ver":"0.1","info":{"id":"ldtXD2","date":"1461680875","viewed":213,"name":"JS1k 2016 winner clone","username":"BlueHeisenberg","description":"Clone of the winner of the 2016 JS1k.","likes":6,"published":1,"flags":0,"usePreview":0,"tags":["js1k2016js1k2016"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float T = 34962.0;\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\t//vec2 uv = fragCoord.xy / iResolution.xy;\n\t//fragColor = vec4(uv,0.5+0.5*sin(iTime),1.0);\n    \n    precision mediump float;\n    vec2 R, M;\n\tT += iTime;\n    \n    R.x = iResolution.x * 0.8;\n    R.y = iResolution.y * 0.8;\n    M.x = iMouse.x == 0.0 ? iTime/100.0 : iMouse.x;\n    M.y = iMouse.y == 0.0 ? iTime/100.0 : iMouse.y;\n    \n    float t = 5e-3;\n    for (float i = 0.; i < 64.; i++) {\n        vec3 p = vec3((2. * fragCoord.xy - R) / R.yy, t - 1.), b = vec3(.707, .707, 0);\n        float a = T;\n        p.xz *= mat2(cos(a), -sin(a), sin(a), cos(a));\n        for (float i = 0.; i < 20.; i++) {\n            a = (M / R * 6.).x;\n            p.xz *= mat2(cos(a), -sin(a), sin(a), cos(a));\n            a = (M / R * 6.).y;\n            p.xy *= mat2(cos(a), -sin(a), sin(a), cos(a));\n            p -= min(0., dot(p, b)) * b * 2.;\n            b = b.zxx;\n            p -= min(0., dot(p, b)) * b * 2.;\n            b = b.zxz;\n            p -= min(0., dot(p, b)) * b * 2.;\n            b = b.xxy;\n            p = p * 1.5 - .25;\n        }\n        t += length(p) / 3325.;\n        if (length(p) / 3325. < 5e-3 || t > 2.) {\n            b = vec3(1);\n            p *= .5;\n            fragColor = vec4(p / length(p) * (t < 2. ? 5. / i : i / 64.), dot(p, b));\n            break;\n        }\n    }\n}","name":"Image","description":"","type":"image"}]}