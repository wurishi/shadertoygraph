{"ver":"0.1","renderpass":[{"outputs":[{"channel":0,"id":"4dfGRr"}],"inputs":[],"code":"\nconst int traceLoops = 500;\n\nconst float yLast = 0.8;\nconst float barWidth = 0.02;\n\n//speeds controlling the 2 sine waves\nconst vec4 speedFirst = vec4( 14.0,5.0,4.3,3.4);\nconst vec4 speedSecond = vec4( 7.0,4.0,3.5,2.12);\n\n\n#define PI 3.141592654\n\n//Trace the sine for the first color to stretch\nfloat traceSine( const vec2 pos, const vec4 speeds, out float delta ) \n{\n    float yStep = 1.0 / iResolution.y;\n\tfloat last = -1.0;\n\tfloat end = min( pos.y, yLast );\n\t\n\t//Just used adds instead of multiplies?\n\tvec2 sineVal = vec2( iTime * speeds.z, iTime * speeds.w );\n\tvec2 sineAdd = speeds.xy * yStep;\n\t\n\tfor( int i = 0; i < traceLoops; i++ ) \n\t{\n\t\tfloat y = float(i) * yStep;\n\t\tif ( y > end)\n\t\t\tbreak;\n\n\t\tfloat x = 0.5;\n\t\tx += 0.3 * cos( sineVal.x );\n\t\tx += 0.15 * sin( sineVal.y );\n\t\tsineVal += sineAdd;\n\t\tfloat d = x - pos.x;\n\t\t//hitting the sine?\n\t\tif ( abs( d ) < barWidth ) {\n\t\t\tlast = y;\n\t\t\tdelta = d / barWidth;\n\t\t}\n\t}\n\treturn last;\n}\n\n\n//Make a color based on a -1 to 1 value\nvec4 makeColor( float d ) {\n\tfloat r = 0.8 + 0.2 * sin( 2.0 * PI * d ); \n\tfloat g = 0.8 + 0.2 * sin( PI * d ); \n\tfloat b = 0.8 + 0.2*d;\n\treturn vec4(r, g, b, 1.0);\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n\tuv.y = 1.0 - uv.y;\n\tfloat d0;\n\tfloat y0 = traceSine( uv, speedFirst, d0 );\n\tfloat d1;\n\tfloat y1 = traceSine( uv, speedSecond,  d1 );\n\t\n\tif ( y0 > y1)\n\t{\n\t\tfragColor = makeColor(d0);\n\t} \n\telse if( y1 > y0 ) \n\t{\n\t\tfragColor = makeColor(d1);\n\t} else if ( y1 == y0 && y0 >= 0.0 ) {\n\t\tfragColor = mix( makeColor(d0), makeColor(d1), 0.5 );\n\t}\n\t\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"Xs2Gzt","date":"1392334319","viewed":438,"name":"Kefrens Bars","username":"Harekiet","description":"Oldskool kefrens bars","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["kefrens"],"hasliked":0,"parentid":"","parentname":""}}