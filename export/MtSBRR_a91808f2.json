{"ver":"0.1","info":{"id":"MtSBRR","date":"1514192273","viewed":151,"name":"Hotline_Shader","username":"PGrad","description":"Created palm tree from this video by iq: https://www.youtube.com/watch?v=0ifChJ0nJfM\nCreated gradient by myself.","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["math","retro","iq","beach"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float palm_func(vec2 dist);\nfloat tree_func(vec2 dist);\nfloat round_to(float x, int prec);\nfloat periodic(float begin, float end);\nfloat fp_modulo(float x, float div, int scale);\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 pixel = fragCoord.xy / iResolution.xy;\n    vec2 center = vec2(0.3, 0.7);\n    vec2 dist = pixel - center;\n                       \n    vec3 color = vec3(1., 0.4, 0.1);\n                       \n    color *= palm_func(dist);\n    \n    color *= tree_func(dist) * fp_modulo(pixel.y, 1., 1);\n    \n    fragColor = vec4(color, 1.0);\n}\n\nfloat palm_func(vec2 dist){\n\tfloat radius = 0.2 + 0.1 * cos(atan(dist.y, dist.x) * 10.0 + 20.0 * dist.x + 1.0);\n    return smoothstep(radius, radius + .01, length(dist));\n}\n\nfloat tree_func(vec2 dist) {\n\tfloat radius = 0.02;\n    //Applying over operator on alpha\n    return 1. - (1. - smoothstep(radius, radius + 0.001, abs(dist.x + 0.2 * sin(dist.y * 2.)))) \n           * (1. - smoothstep(0., 0.01, dist.y));\n}\n\n//Not used\nfloat round_to(float x, int prec) {\n    int shift = int(1. * pow(10., float(prec + 1)));\n    x *= float(shift);\n    int rem = int(x) % 10;\n    return float(rem < 5 ? (int(x) / 10) : (int(x) / 10 + 1)) * (10. / float(shift));\n}\n\n//Not used\nfloat periodic(float begin, float end) {\n\treturn ((sin(iTime) + 1.) / 2.) * (end - begin) + begin;  \n}\n\nfloat fp_modulo(float x, float div, int scale) {\n    float f_scale = float(scale);\n    return float(int(x * pow(10.,f_scale)) % int(div * pow(10.,f_scale))) / pow(10.,f_scale);\n}","name":"Image","description":"","type":"image"}]}