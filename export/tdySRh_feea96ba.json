{"ver":"0.1","info":{"id":"tdySRh","date":"1573367024","viewed":161,"name":"quasicrystal wave pattern","username":"micahbro","description":"Simple illustration of the quasiperiodicity that results from interfering standing waves with n-fold rotational symmetry forbidden as a periodic lattice by the Crystallographic Restriction Theorem (i.e. anything but 1, 2, 3, 4, or 6).","likes":6,"published":1,"flags":0,"usePreview":0,"tags":["quasicrystal","standingwave"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    int n = 12; // n-fold rotational symmetry\n\n    // Screen coordinates.\n\tvec2 uv = (fragCoord.xy - iResolution.xy*.5) / iResolution.y;\n\tvec2 clickuv = (iMouse.xy - iResolution.xy*.5) / iResolution.y;\n\tfloat pixunit = 1. / iResolution.y;\n\n    float lambda = 0.01 * exp(1. + 1.5 * sin(float(iTime) * 6.28318 / 10.));    \n    float theta0 = float(iTime) * 6.28318 / 40.;\n    \n    \n    fragColor = vec4(0., 0., 0., 1.0);\n    \n    int aacount = 3;\n    for (int xd = -aacount; xd <= aacount; xd++) {\n        for (int yd = -aacount; yd <= aacount; yd++) {\n            vec2 uvoffset = uv + pixunit / 3. * vec2(xd, yd) - clickuv * float(iMouse[2] > 0.);\n\t\t    \n            float amp = 0.;\n            \n            for (int i = 0; i < n; i++) {\n                float theta = 6.28318 * float(i) / float(n) + theta0;\n                vec2 k = vec2(cos(theta), sin(theta)) * 6.28318 / lambda;\n                \n\t\t        amp += cos(dot(k, uvoffset)) / float(n * (2 * aacount) * (2 * aacount));                \n            }\n\n            fragColor += clamp(vec4(amp * 5., -amp * 5., 0., 0.), 0., 1.);\n        }        \n    }\n}","name":"Image","description":"","type":"image"}]}