{"ver":"0.1","info":{"id":"NljcDD","date":"1649716121","viewed":307,"name":"Fireworks!","username":"curiouspers","description":"https://youtu.be/xDxAnguEOn8","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["2d","sdf"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// modified from the Art of code tutorial by BIgWings https://youtu.be/xDxAnguEOn8\n\n#define NUM_EXPLOSIONS 5.\n//#define NUM_PARTICLES 50.\n\nvec2 Hash12(float t) {\n    float x = fract(sin(t*354.3)*234.2);\n    float y = fract(sin((t+x)*137.3)*159.2);\n    return vec2(x,y);\n}\nvec2 Hash12Polar(float t) {\n    float a = fract(sin(t*354.3)*234.2)*6.2832;\n    float d = fract(sin((t+a)*137.3)*263.2);\n    return vec2(sin(a), cos(a))*d;\n}\nfloat Explosion(vec2 uv, float t, float id){\n#ifndef NUM_PARTICLES\n    float NUM_PARTICLES = 5.+70.*Hash12(id).x;\n#endif\n    float col=0.;\n    for (float i=0.; i < NUM_PARTICLES; i++){\n        float rnd = Hash12(id+i).x;\n        vec2 dir = Hash12Polar(i+1.+id+NUM_PARTICLES)*.5;\n        dir *= rnd;\n        float y = 0.02*t*t+t*t*0.3*(rnd)-(sin(t)*.5+0.5)*0.5*id+0.3;\n        float d = length(uv-dir*(smoothstep(-0.5,1.,t)-0.2)+vec2(0,y));\n\n        float brightness = mix(.0005, .001, smoothstep(.05,0., t));\n        \n        //brightness += 0.0002*id;\n        brightness *= (sin(t*(15.+id*29.)+i)*.5+.5)*rnd+0.1*rnd;\n        brightness *= smoothstep(1., .15, t);\n        \n        col += brightness/d;   \n        //col = 0.01/d;\n    }\n    return col;\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord.xy-.5*iResolution.xy)/iResolution.y;\n        \n    float time = iTime/2.+44.;\n    //float NUM_EXPLOSIONS = (sin(iTime)*0.5+0.5)*5.;\n    \n    vec3 col = abs(vec3(1.-abs(dot(uv,uv)))*0.05)*vec3(0.01,0.01,1.); //bg\n    for (float i=0.; i < NUM_EXPLOSIONS; i++){\n        float t = time+i/NUM_EXPLOSIONS;\n        float ft = floor(t);\n        vec3 color = sin(3.37*vec3(.34,.65,32)*ft)*.3+.7;\n        vec2 offs = Hash12(i+1.+ft*NUM_EXPLOSIONS)-0.5;\n        offs *= vec2(iResolution.x/iResolution.y,1.);\n        //col += .00041/length(uv-offs);\n        float rnd = Hash12(i+1.+color.y*20.+color.x*20.+color.z*20.).x+0.5;\n        col += Explosion(uv-offs,fract(t), rnd)*color;\n    }\n    col *= 2.;\n        //col = vec3(Hash12(uv.x*uv.y),0.);\n\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}