{"ver":"0.1","info":{"id":"ttjSzt","date":"1566835234","viewed":104,"name":"circle of life","username":"anclin","description":"TODO:\n- target 1 frame exactly\n- test the uv shifting effect\n- draw same flower from both sides (from the center out, and from the edge in)","likes":3,"published":1,"flags":32,"usePreview":0,"tags":["circleoflife"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    fragColor = texture(iChannel0, uv);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define E 2.7182818284\n#define S01(t) sin(t) * .5 + .5\n#define C01(t) cos(t) * .5 + .5\n#define S(a,b,t)  mix(a, b, S01(t))\n#define C(a,b,t)  mix(a, b, C01(t))\n#define BPM 131.\n#define BPS BPM/60.\n\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\n    \n    float t = iTime;\n    float t01 = t/2.;\n    float t02 = t/5.;\n    float t03 = t/10.;\n    \n    float scale = 2.2;\n    float aa = scale / iResolution.y;\n    \n    vec2 uv = fragCoord/iResolution.xy;\n    vec2 uv2 = (fragCoord-.5*iResolution.xy)/iResolution.y;\n    uv2 *= scale;\n\n    vec2 uv3 = uv2 - vec2(.75,.5)*2.;\n    \n    // TODO: use this on another project\n    //uv += vec2(cos(t03/100.), sin(t03/100.))*.00005 * sin(t03*PI2);\n    \n    float l = length(uv2)*scale;\n    \n    // circle\n    vec2 p = vec2(cos(t01*PI2), sin(t01*PI2)) * mix(1.,.05,cos(t03)*.5+.5);\n    float circle = length(p-uv2)-.02;\n    circle = smoothstep(.0, -aa, circle);\n\tcircle *= step(.7,sin(t*PI2*10.+t02)*.5+.5);\n    \n    // circle2\n    t /= 2.;\n    t01 /= 2.;\n    t02 /= 2.;\n    t03 /= 2.;\n    vec2 p2 = vec2(cos(-t01*PI2), sin(-t01*PI2))*2. * mix(1.,.05,cos(t03)*.5+.5);\n    float circle2 = length(p2-uv3)-.02;\n    circle2 = smoothstep(.0, -aa, circle2);\n\tcircle2 *= step(.35,sin(t*PI2*10.+t02)*.5+.5);\n    circle2 *= clamp(1.-pow(E, 1.-l), 0., 1.);\n    \n    vec3 col = texture(iChannel0, uv).rgb;\n    col += circle + circle2;\n    col -= vec3(.5*l, .8, 1.)*.0003;\n    col = clamp(col,0.,1.);\n    \n    //col.rgb = vec3(1.-pow(E, 1.-l));\n    \n    fragColor = vec4(col, 1);\n}","name":"Buffer A","description":"","type":"buffer"}]}