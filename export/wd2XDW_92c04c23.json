{"ver":"0.1","info":{"id":"wd2XDW","date":"1553875075","viewed":64,"name":"Ray Marching OnOnOn","username":"peterparnes","description":"Just learning ray marching.... interact using mouse. ","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["raymarching"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy * 2. - 1.;\n    uv.x *= max(iResolution.x, iResolution.y) / iResolution.y;\n    uv.y *= max(iResolution.x, iResolution.y) / iResolution.x;\n    \n    float basey = iMouse.y/iResolution.y * iTime * 2.; \n    // if(basey == 0.) basey = iTime * 2.;\n    \n    float basez = iMouse.x/iResolution.x*iTime*2.0;   \n    if(basez == 0.) basez = iTime*2.0;\n    \n    vec3 base = vec3(sin(basey*2.0), basey, basez);\n    vec3 pos = mod(base + vec3(uv, 2.) + vec3(.5), 10.) - vec3(5.); \n    vec3 dir = sin(normalize((vec3(uv*1., 2.))));\n    \n    const int Steps = 100;\n    int i;\n    float mind = 10000000.;\n    float di;\n    for (i = 0, di = 0.; i < Steps; i++) {\n    \tfloat d = length(pos - vec3(0., 0., 0.1)) - 1.4;\n        di = di + step(d, 0.000001);\n        mind = min(mind, d);\n        pos = mod(pos + d * dir + vec3(5.), 10.) - vec3(5.);\n    }\n    \n    float c = di / float(Steps) * (1. - mind)*abs(sin(iTime/2.));\n    fragColor = vec4(c, 1.0-c, c, 0.) * 1.3*(di / float(Steps));\n    \n    float bgcol = abs(sin(iTime*2.))*0.25;\n    if(c==0.) fragColor=vec4(0.,0.,bgcol,1.);\n}\n","name":"Image","description":"","type":"image"}]}