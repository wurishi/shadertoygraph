{"ver":"0.1","info":{"id":"4l23zc","date":"1431022521","viewed":3685,"name":"Heartwing Angel","username":"ChristinaCoffin","description":"hacking fractals with warpy math and came across a heart/bird/flower -like shape and decided to animate it.","likes":109,"published":1,"flags":0,"usePreview":0,"tags":["procedural","fractal"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[],"code":"// @christinacoffin\n// 2015-05-07: 1st version, need to optim and do some proper AA\n\nvec3 JuliaFractal(vec2 c, vec2 c2, float animparam, float anim2 ) {\t\n\tvec2 z = c;\n    \n\tfloat ci = 0.0;\n\tfloat mean = 0.0;\n    \n\tfor(int i = 0;i < 64; i++)\n    {\n\t\tvec2 a = vec2(z.x,abs(z.y));\n\t\t\n        float b = atan(a.y*(0.99+animparam*9.0), a.x+.110765432+animparam);\n\t\t\n        if(b > 0.0) b -= 6.303431307+(animparam*3.1513);\n\t\t\n        z = vec2(log(length(a*(0.98899-(animparam*2.70*anim2)))),b) + c2;\n\n        if (i>0) mean+=length(z/a*b);\n\n        mean+=a.x-(b*77.0/length(a*b));\n\n        mean = clamp(mean, 111.0, 99999.0);\n\t}\n    \n\tmean/=131.21;\n\tci =  1.0 - fract(log2(.5*log2(mean/(0.57891895-abs(animparam*141.0)))));\n\n\treturn vec3( .5+.5*cos(6.*ci+0.0),.5+.75*cos(6.*ci + 0.14),.5+.5*cos(6.*ci +0.7) );\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float animWings = 0.004 * cos(iTime*0.5);\n    float animFlap = 0.011 * sin(iTime*1.0);    \n    float timeVal = 56.48-20.1601;\n\tvec2 uv = fragCoord.xy - iResolution.xy*.5;\n\tuv /= iResolution.x*1.5113*abs(sin(timeVal));\n    uv.y -= animWings*5.0; \n\tvec2 tuv = uv*125.0;\n\tfloat rot=3.141592654*0.5;\n  \n\tuv.x = tuv.x*cos(rot)-tuv.y*sin(rot);\n\tuv.y =1.05* tuv.x*sin(rot)+tuv.y*cos(rot);\n\tfloat juliax = tan(timeVal) * 0.011 + 0.02/(fragCoord.y*0.19531*(1.0-animFlap));\n\tfloat juliay = cos(timeVal * 0.213) * (0.022+animFlap) + 5.66752-(juliax*1.5101);//+(fragCoord.y*0.0001);// or 5.7\n    \n \n    float tapU = (1.0/ float(iResolution.x))*25.5;//*cos(animFlap);\n    float tapV = (1.0/ float(iResolution.y))*25.5;//*cos(animFlap);\n    \n  \n\tfragColor = vec4( JuliaFractal(uv+vec2(0.0,0.0), vec2(juliax, juliay), animWings, animFlap ) ,1.0);\n    \n    fragColor += vec4( JuliaFractal(uv+vec2(tapU,tapV), vec2(juliax, juliay), animWings, animFlap ) ,1.0);\n//    fragColor += vec4( JuliaFractal(uv+vec2(tapU,-tapV), vec2(juliax, juliay), animWings, animFlap ) ,1.0);\n//    fragColor += vec4( JuliaFractal(uv+vec2(-tapU,tapV), vec2(juliax, juliay), animWings, animFlap ) ,1.0);\n    fragColor += vec4( JuliaFractal(uv+vec2(-tapU,-tapV), vec2(juliax, juliay), animWings, animFlap ) ,1.0);  \n    fragColor *= 0.3333;\n    \n    fragColor.xyz = fragColor.zyx;\n\tfragColor.xyz = vec3(1)-fragColor.xyz;\n\n}","name":"","description":"","type":"image"}]}