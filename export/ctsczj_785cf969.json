{"ver":"0.1","info":{"id":"ctsczj","date":"1690953173","viewed":132,"name":"Fraction study 2","username":"ChunderFPV","description":"More visualizing of fractions.  Numerator on the left, denominator on the right.  Mouse Y zooms.  Edit line 14 to see a specific fraction.  The precision ain't great but a couple trailing digits should show the correct value.","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["grid","math","points","visual","fraction"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 C, in vec2 U )\n{\n    float s = 15., // scale\n          l = 2.,  // overlap loop (detail)\n          t = 1.+iTime/60.,\n          i = 0.,\n          f, r, d;\n    vec2 R = iResolution.xy,\n         m = iMouse.xy/R,\n         u = (U-vec2(.5, .1)*R)/R.y*s/(1.-m.y),\n         w, p, gl, gg, g;\n    vec3 c = vec3(0);\n    \n    //t = 1.8; // 9/5\n    if (u.x < 0.) t = 1./t; // invert t on left\n    \n    w = fwidth(u);    // pixel size\n    r = R.y/3e2;      // point size\n    d = sqrt(1.-m.y); // fade with zoom\n    for (; i++<l;)\n    {\n        p.x = round((u.x-i)/l)*l+i;\n        f = mod(trunc(p.x)*t, 1.);\n        if (u.y > 0.)\n            p.y = round(u.y-f)+f,\n            c = max(c, r/length((u.xy-p)/w)*vec3(.2, .4, .7)*d);\n        p.y = f;\n        c = max(c, r/length((u.xy-p)/w)*vec3(.9, .2, .4)*d*1.5);\n    }\n    c /= max(1., sqrt(abs(u.y))); // darken\n    \n    gl = max(vec2(0), 1.-abs(fract(u+.5)-.5)/fwidth(u)/1.5); // grid lines\n    gg = 1.-abs(sin(3.1416*u)); // grid glow\n    g = (gl + gg*.5) * max(vec2(0), 1.-abs(sin(3.1416*round(u)*t))*s);\n    c.gb += (g.x + g.y) * .2;\n    \n    C = vec4(c+c*c, 1);\n}","name":"Image","description":"","type":"image"}]}