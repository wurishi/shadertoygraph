{"ver":"0.1","info":{"id":"MlySD1","date":"1484163984","viewed":250,"name":"Mandelflow 3","username":"guil","description":"Another mod of Mandelflow : https://www.shadertoy.com/view/XtKSDz with some borowings from Curvature average : https://www.shadertoy.com/view/XsfXzs.\n\nI used AA to blur different bailout values.","likes":12,"published":1,"flags":0,"usePreview":0,"tags":["2d","fractal"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define AA 4\n#define time iTime\n#define ITER 256\n#define K 0.065\n\n#define csqr(z)  mat2(z,-z.y,z.x) * z \n\nfloat bailout = 1e2;\n\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec3 col = vec3(0.0);\n    for( int m=0; m<AA; m++ )\n    for( int n=0; n<AA; n++ )\n    {\n        vec2 p = -1.0 + 2.0 * (fragCoord.xy+vec2(float(m),float(n))/float(AA)) / iResolution.xy;\n        p.x *= iResolution.x/iResolution.y;\n        bailout = bailout * 4.;\n        float t = smoothstep(0.0,1.0,((-cos(time*.1+2.)+1.0)/2.0));\n        \n        float zoom = 1.0/(t*63.0+1.0);\n        \n        vec2 c = vec2(-p.y-0.5,p.x);\n        c= c/dot(c,c);\n        c -= t*vec2(-2.94,4.1)*8.0;\n        c *= zoom;\n        vec2 z = vec2(0.0);\n        \n    \tint k=0;\n        \n        \n\t    float curv = 0.;\n        float rz = 0.;\n        \n        for(int i=0; i<ITER; i++ )\n    \t{\n            z = c + csqr(z);                     \t\t\n            curv = (z.x*z.y/dot(z,z)+.35)*2.;\n\t\t\trz = K* curv +(1.-K)*rz;\n            if( dot(z,z)>bailout){k=i;break;}\n        }\n        rz = exp(-1.7*rz);\n        if(dot(z,z)>bailout)\n            col +=vec3(0.55,0.3,0.1)*(float(k)/50.0)+vec3(0.2*rz,rz,1.-2.5*rz)*0.9;\n    }\n    col /= float(AA*AA);\n    fragColor = vec4( col, 1.0 );\n}","name":"Image","description":"","type":"image"}]}