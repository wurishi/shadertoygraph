{"ver":"0.1","info":{"id":"lfdBWX","date":"1733581755","viewed":61,"name":"frame shapes -01","username":"jorge2017a2","description":"frame shapes -01","likes":9,"published":1,"flags":0,"usePreview":0,"tags":["frameshapes01"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//por jorge2017a2\n//----------------frame shapes -01------\n//--7-dic-2024--\n\n//referencia\n//https://iquilezles.org/articles/distfunctions2d\n\n#define S3(d,b) smoothstep(6./iResolution.y, 0. , d - (b) )\n#define S2(d,b) smoothstep(6./iResolution.y, 0. , d - (b) )\n#define S(d,b) smoothstep(6./iResolution.y, 0. , d - (b) )\n#define PI     3.14159265\n#define TWO_PI 6.28318530\n\nfloat Sdf_I(float distA, float distB)\n\t{ return max(distA, distB);}\nfloat Sdf_U(float distA, float distB)\n\t{ return min(distA, distB);}\nfloat Sdf_D(float distA, float distB)\n\t{ return max(distA, -distB);}\n\nvec3 DFB(vec3 pColObj, vec3 colOut, float distObj )\n{ colOut = mix(colOut,pColObj ,S3( distObj,0.0));\n  colOut = mix(colOut,vec3(0.0),S3(abs( distObj)-0.005,0.0));\n  return colOut;\n}\n\nvec3 DFS(vec3 pColObj, vec3 colOut, float distObj )\n{ colOut = mix(colOut,pColObj ,S( distObj,0.0)); return colOut;\n  return colOut;\n}\n\n\nfloat sdBox( in vec2 p, in vec2 b )\n{ vec2 d = abs(p)-b;  return length(max(d,0.0)) + min(max(d.x,d.y),0.0);  }\n\nfloat sdCircle( vec2 p, float r )\n{ return length(p) - r;}\n\n\n\n///oneshade    \nvec2 Rotate(in vec2 p, in vec2 o, in float r) \n{   float c = cos(r), s = sin(r);\n    return (p - o) * mat2(c, -s, s, c) + o;\n}\n\n\nfloat divf(float a, float b)\n{\n    //evita crash por 1/0.0 =Infinito=error, en compilar\n    if(b==0.0)\n    {b=0.00001;}\n    return a/b;\n}\n\n\nfloat sdSegment( in vec2 p, in vec2 a, in vec2 b )\n{  vec2 pa = p-a, ba = b-a;\n    float h = clamp( divf( dot(pa,ba),dot(ba,ba)), 0.0, 1.0 );\n    return length( pa - ba*h );\n}\n\n\n//https://www.shadertoy.com/view/dt2yDK  //iq\n// distance to segment\nfloat sdSegment( in vec2 p, in vec2 a, in vec2 b, in float th )\n{\n    vec2 ba = b-a;\n    vec2 pa = p-a;\n    float h = clamp( divf(dot(pa,ba),dot(ba,ba)) , 0.0, 1.0 );\n    vec2  q = pa-h*ba;\n    return length(q) - th;\n}\n\n\n\nvec3 Fig01(vec2 p, vec3 colout,vec3 colIn)\n{\nvec2 A,B, med,pr;\nfloat dfin;\nfloat  r1,ang, he ;\nvec3 c1=vec3(1.0);\nvec3 c2=vec3(1.0,0.0,0.0);\n\n// inf der\nA=vec2(0.3733333,0.8733333);\nr1=0.1266667;\nfloat d11=sdCircle(p-A,r1);\n\n//inf der\nA=vec2(0.1233333,0.63);\nr1=0.1266667;\nfloat d12=sdCircle(p-A,r1);\n\n//der sup\nA=vec2(0.86,0.63);\nr1=0.1266667;\nfloat d13=sdCircle(p-A,r1);\n\n//der sup\nA=vec2(0.63,0.8733333);\nr1=0.1266667;\nfloat d14=sdCircle(p-A,r1);\n\n\n//der inf\nA=vec2(0.6266667,0.1466667);\nr1=0.1266667;\nfloat d16=sdCircle(p-A,r1);\n\n//der inf\nA=vec2(0.86,0.37);\nr1=0.1266667;\nfloat d17=sdCircle(p-A,r1);\n\n//izq imf\nA=vec2(0.13,0.3766667);\nr1=0.1266667;\nfloat d18=sdCircle(p-A,r1);\ncolout= DFB(c1, colout, d18);\n\n//izq inf\nA=vec2(0.3733333,0.1466667);\nr1=0.1266667;\nfloat d15=sdCircle(p-A,r1);\ncolout= DFB(c1, colout, d15);\n\n//----circulo ch\nA=vec2(0.13,0.3766667);\nr1=0.03;\nfloat d19=sdCircle(p-A,r1);\ncolout= DFB(c1, colout, d19);\n\nA=vec2(0.1233333,0.6266667);\nr1=0.03;\nfloat d110=sdCircle(p-A,r1);\n\nA=vec2(0.3733333,0.8766667);\nr1=0.03;\nfloat d111=sdCircle(p-A,r1);\n\n//der sup\nA=vec2(0.63,0.8766667);\nr1=0.03;\nfloat d112=sdCircle(p-A,r1);\n\n//der sup\nA=vec2(0.86,0.6266667);\nr1=0.03;\nfloat d113=sdCircle(p-A,r1);\n\n//der inf\nA=vec2(0.86,0.37);\nr1=0.03;\nfloat d114=sdCircle(p-A,r1);\n\n//izq inf\nA=vec2(0.37,0.1466667);\nr1=0.03;\nfloat d115=sdCircle(p-A,r1);\n\n//der inf\nA=vec2(0.6266667,0.1433333);\nr1=0.03;\nfloat d116=sdCircle(p-A,r1);\n\n\n//----box\nA=vec2(0.3133333,0.7066666-0.09);\nmed=vec2(0.045,0.1916667);\nang=45.0*PI/180.0;\npr=Rotate(p-A,med/2.0,ang);\nfloat d117=sdBox(pr,med);\nd117=Sdf_U(d117,d11);\nd117=Sdf_U(d117,d12);\ncolout= DFB(c1, colout, d117);\ncolout= DFB(c1, colout, d110);\ncolout= DFB(c1, colout, d111);\n\n\n\nA=vec2(0.8033333-0.05,0.2066667+0.05);\nmed=vec2(0.045,0.1916667);\nang=45.0*PI/180.0;\npr=Rotate(p-A,med/2.0,ang);\nfloat d118=sdBox(pr,med);\nd118=Sdf_U(d118,d16);\nd118=Sdf_U(d118,d17);\ncolout= DFB(c1, colout, d118);\ncolout= DFB(c1, colout, d114);\ncolout= DFB(c1, colout, d116);\n\n\nA=vec2(0.31-0.08,0.3133333);\nmed=vec2(0.045,0.1916667);\nang=-45.0*PI/180.0;\npr=Rotate(p-A,med/2.0,ang);\nfloat d119=sdBox(pr,med);\nd119=Sdf_U(d119,d15);\nd119=Sdf_U(d119,d18);\ncolout= DFB(c1, colout, d119);\ncolout= DFB(c1, colout, d115);\ncolout= DFB(c1, colout, d19);\n\n\nA=vec2(0.6833333-0.05,0.6933333-0.025);\nmed=vec2(0.045,0.1916667);\nang=-45.0*PI/180.0;\npr=Rotate(p-A,med/2.0,ang);\nfloat d120=sdBox(pr,med);\nd120=Sdf_U(d120,d13);\nd120=Sdf_U(d120,d14);\ncolout= DFB(c1, colout, d120);\ncolout= DFB(c1, colout, d113);\ncolout= DFB(c1, colout, d112);\n\n\n\n\nA=vec2(0.23,0.6866667);\nB=vec2(0.1433333,0.61);\nfloat d122=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d122);\n\nA=vec2(0.3133333,0.7666667);\nB=vec2(0.39,0.8466667);\nfloat d123=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d123);\n\nA=vec2(0.6866667,0.76);\nB=vec2(0.5966667,0.8466667);\nfloat d124=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d124);\n\nA=vec2(0.75,0.69);\nB=vec2(0.83,0.6133333);\nfloat d125=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d125);\n\nA=vec2(0.7533333,0.3033333);\nB=vec2(0.83,0.3933333);\nfloat d126=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d126);\n\nA=vec2(0.69,0.2466667);\nB=vec2(0.6133333,0.1766667);\nfloat d127=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d127);\n\nA=vec2(0.3033333,0.26);\nB=vec2(0.39,0.17);\nfloat d128=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d128);\n\nA=vec2(0.24,0.32);\nB=vec2(0.1466667,0.4);\nfloat d129=sdSegment(p,A,B);\ncolout= DFB(vec3(0.0), colout, d129);\n\n\n    return colout;\n}\n\nvec3 truchet(vec2 uv, vec3 col, vec3 colIn)\n{    vec2 pos = uv;\n    vec2 tile = floor(uv);\n    pos = fract(uv) ;\n    float dist = 0.0;\n    float nopc=2.0;\n     \n\n        if(tile.x>-5.0 && tile.x<-3.0)\n        col=Fig01(pos,col,colIn);  \n\n        \n         if(tile.x>1.0 && tile.x<5.0)\n        col=Fig01(pos,col,colIn);  \n        \n        \n         if(tile.y>0.0 && tile.y<5.0 && tile.x>-4.0)\n        col=Fig01(pos,col,colIn);  \n        \n        \n        if(tile.y>-3. && tile.y<-1.0 && tile.x>-4.0)\n        col=Fig01(pos,col,colIn);  \n        \n \n    return col;\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float scale =2.0;\n    vec2 uv =  scale * ( 2. * fragCoord - iResolution.xy ) / iResolution.y ;\n    uv.x-=0.55;\n    vec3 col=vec3(1.0);\n   col= truchet(uv,col, vec3(0.0,0.0,0.0));\n   col=pow(col,  vec3(0.554545));  \n    fragColor = vec4(col,1.0);\n}\n\n\n","name":"Image","description":"","type":"image"}]}