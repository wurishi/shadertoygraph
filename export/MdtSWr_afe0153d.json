{"ver":"0.1","info":{"id":"MdtSWr","date":"1459788417","viewed":337,"name":" Cheshire Cat","username":"teassy000","description":"Inspired by iq's simple eye ball. mew~","likes":22,"published":1,"flags":0,"usePreview":0,"tags":["2d","noise","eyeball"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define pi 3.141592654\nmat2 m = mat2(0.6, 0.8, -0.6, 0.8);\n\nfloat hash(float n)\n{\n    return fract(sin(n)*43758.5453123);\n}\n\nfloat noise(in vec2 v)\n{\n    vec2 p = floor(v);\n    vec2 f = fract(v);\n    \n    f = f*f*(3.0-2.0*f);\n    \n    float n = p.x + p.y*57.0;\n    \n    return mix( mix(hash(n), hash(n+1.0), f.x), mix(hash(n+57.0), hash(n+58.0), f.x), f.y);\n}\n\nfloat fbm(vec2 p)\n{\n    float f = 0.0;\n    f += 0.5000*noise( p ); p*= m*2.02;\n    f += 0.2500*noise( p ); p*= m*2.02;\n    f += 0.1250*noise( p ); p*= m*2.01;\n    f += 0.0625*noise( p );\n    \n    f /= 0.9375;\n    \n    return f;\n}\n\nvec4 uplip(vec2 q)\n{\n\n    vec4 col = vec4(0.0);\n    float w = -0.15*abs(sin(q.x *4.0)) + 0.2;\n    w *=(abs(exp(abs(q.x)*1.5)));\n\t\n\tq.y += 0.4;\n    if(q.y < w && abs(q.x) < 0.8)\n    {\n        // up tooth\n        float f= w+(-0.1*(abs(sin(q.x*60.0)))*(3.5-1.5*exp(abs(q.x))));\n\n        if(q.y > f)\n        {\n            col = mix(col, vec4(1.0), 1.0);\n\n        }\n        col *= smoothstep(w, w-0.01, q.y);\n        col *= smoothstep(f, f+0.03 , q.y);   \n\n    }\n    \n    return col;\n}\n\n\nvec4 downlip(vec2 q)\n{\n    vec4 col = vec4(0.0);\n    float dlip = (1.0-abs(cos(q.x)))*exp(abs(q.x*0.9))-0.5;\n\n    q.y += 0.0;\n    if(q.y > dlip )\n    {\n        float fd = dlip+(0.1*(abs(sin(q.x*70.0))))*(1.5-2.0*abs(q.x));\n\n        if(q.y < fd)\n        {\n            col = mix(col, vec4(1.0), 1.0);\n        }\n        col *= smoothstep(dlip, dlip+0.01, q.y);\n        col *= smoothstep(fd, fd-0.02, q.y);\n    }\n    \n    return col;\n}\n\nvec4 mixcol(vec4 a, vec4 b, float f)\n{\n\tif(a.a == 0.0)\n        return b;\n    else if(b.a == 0.0)\n        return a;\n    else\n        return mix(a, b, f);\n}\n\n\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 q = fragCoord.xy / iResolution.xy;\n    vec2 p = -1.0 + 2.0*q;\n    \n    vec4 ucol = uplip(p);\n    vec4 dcol = downlip(p);\n\tdcol = mixcol(dcol, ucol, 1.0);\n    p.x *= iResolution.x/iResolution.y;\n    \n    vec2 p1 = vec2(p.x+0.5, p.y-0.3);\n    vec2 p2 = vec2(p.x-0.5, p.y-0.3);\n    \n    float r1 = sqrt(dot(p1, p1));\n    float r2 = sqrt(dot(p2, p2));\n \n    vec4 col = vec4(0.0);\n    \n    if(r1 < 0.25 || r2 < 0.25)\n    {\n        col =vec4(0.0, 0.8, 0.2, 1.0);\n        float f = fbm(20.0*p1);\n        col = mix(col, vec4(0.0, 0.3, 0.7, 1.0), f);\n        \n        float t = max(abs(sin(iTime))*0.8, 0.7);\n        \n        float e1 = -abs(cos(atan(p1.y, p1.x*2.0) + 0.0))*t*0.3 + 0.3;\n        f = 1.0 - smoothstep(e1, e1+0.1, length(p1)*1.8);\n        col = mix(col, vec4(0.0, 0.8, 0.4, 1.0), f);        \n     \n        float e2 = -abs(cos(atan(p2.y, p2.x*2.0) + 0.0))*t*0.3 + 0.3; \n        f = 1.0 - smoothstep(e2, e2+0.1, length(p2)*1.8);\n        col = mix(col, vec4(0.0, 0.8, 0.4, 1.0), f);\n\n        \n        if(r1 < 0.3)\n        {\n            float a = atan(p1.y, p1.x);\n            a += 0.05*fbm(20.0*p1);\n            f = smoothstep(0.4, 1.0,fbm(vec2(r1*25.0, a*18.0)));\n            col = mix(col, vec4(1.0), f);\n            f = smoothstep(0.15, 0.25, r1);\n            col *= 1.0 - f;\n            \n        }\n        else if(r2 < 0.3)\n        {\n            float a = atan(p2.y, p2.x);\n            a += 0.15*fbm(12.0*p2);\n            f = smoothstep(0.4, 1.0, fbm(vec2(r2*25.0, a*18.0)));\n            col = mix(col, vec4(1.0), f);\n            f = smoothstep(0.15, 0.25, r2);\n            col *= 1.0 - f;\n        }\n        \n        col *= smoothstep(e1, e1+0.02, length(p1)*1.8);\n        // left eye highlight\n        f = 1.0-smoothstep(0.0, 0.1, length(p1 - vec2(0.1, 0.06)));\n        col += vec4(f, f, f, 1.0);\n        \n        col *= smoothstep(e2, e2+0.02, length(p2)*1.8);\n        // right eye highlight\n        f = 1.0-smoothstep(0.0, 0.1, length(p2 - vec2(0.1, 0.06)));\n        col += vec4(f, f, f, 1.0);\n    }\n    \n    col = mixcol(col, dcol, 1.0);\n    \n    float anim = max(sin(iTime*0.3), 0.0);\n    col = mix(col, vec4(0.0), anim);\n    \n    fragColor = vec4(col);\n}","name":"Image","description":"","type":"image"}]}