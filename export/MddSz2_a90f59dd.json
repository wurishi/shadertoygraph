{"ver":"0.1","info":{"id":"MddSz2","date":"1460420095","viewed":215,"name":"Petalburst","username":"vrav","description":"another very messy learning exercise","likes":6,"published":1,"flags":0,"usePreview":0,"tags":["2d","abstract"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.14159265359\n\nfloat lerp(float a, float b, float t) {\n  return a + t*(b-a);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n    vec2 st = fragCoord.xy/iResolution.yy;\n    vec3 color = vec3(0.0);\n\t\n    vec2 pos = vec2(.5)-st*1.3;\n    pos.x += (sin(iTime))*.15+.2;\n    pos.y += (cos(iTime))*.15+.1;\n\t\n    float r = sqrt(dot(pos,pos));\n    float a = atan(pos.y,pos.x);\n    \n    float at = iTime*.5;\n    at = floor(at) + clamp((sin(fract(at)*PI*.55)), 0., .999);\n    a += at;\n    \n    float ct = 2.5;\n    \n    // flower\n    float f = abs(cos(a*ct))*.4+.3;\n    \n    // sun\n    float g = smoothstep(0.+fract(at),1., cos(a*ct*4.))*0.2+0.5;\n    \n    // blend the shapes\n    f = lerp(f,g,sin(iTime));\n    \n    // eggyolk\n    float e = smoothstep(.2*(abs(sin(at))+.5),.38*(abs(sin(at))+.5),r);\n    e = clamp(smoothstep(f*.8,f+.4*abs(sin(iTime)),e),0.,1.);\n    \n    // outline of f\n    float o = smoothstep(f,f+0.03, r );\n    o -= clamp(smoothstep(f,f+0.08, r ), 0.,1.);\n    \n    color = vec3(1.,.9,.8)*( f+o )*.8\n          + vec3(1.,.8,.2)*clamp(1.-e*r*.8, 0., 1.)*.8\n          + clamp(1.-r*3.*(abs(sin(at*.5)*.5+1.)), 0.,1.)*.2;\n    \n    color = mix(vec3(.0,.4,.8), color, color);\n    \n    fragColor = vec4(color, 1.0);\n}\n","name":"Image","description":"","type":"image"}]}