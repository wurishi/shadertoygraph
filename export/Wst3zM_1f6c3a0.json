{"ver":"0.1","info":{"id":"Wst3zM","date":"1568099016","viewed":235,"name":"simple rounded Rect","username":"qeas11","description":"A simple rounded rectangle, the implementation of the method is very clumsy, hope to get your advice.","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["2d"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//#-----------------------------------------------------------------------\n//#                          i'm Newbie \n//#-----------------------------------------------------------------------\n\n#define Rpos 0.2\n#define Radius Rpos*0.80\n#define Notwo 0 \n\nfloat circle(vec2 uv, vec2 pos, float rad) {\n\tfloat d = length(uv - pos ) - rad+0.0041;\n\tfloat t = smoothstep( 0.0, 0.009, d);\n\treturn 1.0-t;\n}\n\nfloat rectangle(vec2 r, vec2 topLeft, vec2 bottomRight) {\n\tfloat ret;\n\tfloat d = 0.003;\n\tret = smoothstep(topLeft.x-d, topLeft.x+d, r.x);\n\tret *= smoothstep(topLeft.y-d, topLeft.y+d, r.y);\n\tret *= 1.0 - smoothstep(bottomRight.y-d, bottomRight.y+d, r.y);\n\tret *= 1.0 - smoothstep(bottomRight.x-d, bottomRight.x+d, r.x);\n\treturn ret;\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n\t// Uv\n    vec2 uv =  2.0*vec2(fragCoord.xy - 0.5*iResolution.xy)/iResolution.y;     \n    // Background \n\tvec4 backBrush = vec4(1.0,1.0,1.0, 0.0);\n\tvec4 col = vec4(0.2,0.2,0.2,1.0);\n    // Return\n\tvec4 ret = backBrush;\n    \n\tvec2 center0 = vec2(Rpos,Rpos);\n\tvec2 center1 = vec2(Rpos,-Rpos);\n\tvec2 center2 = vec2(-Rpos,Rpos);\n\tvec2 center3 = vec2(-Rpos,-Rpos);\n\tfloat radius = Radius ;\n    \n    vec2 rectcenter0 = vec2(-Rpos-radius,-Rpos);\n    vec2 rectcenter1 = vec2(Rpos+Radius,Rpos);\n    vec2 rectcenter2 = vec2(-Rpos,-Rpos-radius);\n    vec2 rectcenter3 = vec2(Rpos,Rpos+Radius);\n    \n    \n\tret = mix(ret, col, rectangle(uv,rectcenter0 ,rectcenter1));\n\tret = mix(ret, col, rectangle(uv,rectcenter2 ,rectcenter3));\n\n    ret = mix(ret, col,circle(uv, center0, radius));\n    ret = mix(ret, col,circle(uv, center1, radius));\n    ret = mix(ret, col,circle(uv, center2, radius));\n    ret = mix(ret, col,circle(uv, center3, radius));\n\n        \n\tfragColor = ret;\n\n}","name":"Image","description":"","type":"image"}]}