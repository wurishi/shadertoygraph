{"ver":"0.1","info":{"id":"3tycDm","date":"1611110145","viewed":90,"name":"SpinningCog","username":"hitthemoney","description":"A spinning cog I made.","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["wheel","gear","cog"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.14159265359\n\nmat2 rotate2d(float angle) {\n    return mat2(cos(angle), -sin(angle), sin(angle), cos(angle));\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    vec2 aspect = vec2(iResolution.x / iResolution.y, 1.0);\n    vec2 uv = fragCoord / iResolution.xy;\n    uv *= aspect;\n    \n    vec3 col = vec3(0.0);\n    vec2 pos = (aspect * 0.5) - uv;\n    pos = rotate2d((iTime * 0.7) * PI) * pos;\n\n    float points = 7.;\n    float smoothness = 0.0075;\n\n    float c = -0.075;\n    float d = length(pos) * 2.0;\n    float a = atan(pos.y , pos.x);\n    float f = smoothstep(c - 1.75, c + 1.0, cos(a * points)) * 0.225 + 0.5;\n\n    col = vec3(1. - smoothstep(f, f + smoothness, d));\n    \n    float m = length(pos / 0.135);\n    vec3 mask = vec3(smoothstep(m + smoothness, m - smoothness, 1.0)); // circle mask\n    \n    col = mix(vec3(0.0), col, mask);\n\n    fragColor = vec4(col, 1.0);\n}","name":"Image","description":"","type":"image"}]}