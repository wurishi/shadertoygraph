{"ver":"0.1","info":{"id":"XX2GRc","date":"1708943976","viewed":130,"name":"Glowing Retro Sun","username":"Skelly","description":"Can be improved - The SDF used for the lines causes incorrect glow patterns","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["sdf"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define sun_radius .4\n#define sun_sharpness .8\n#define glow_max_brightness .4\n\n#define line_start_point .4\n#define line_count 5.\n#define line_thickness .7\n#define scroll_speed .05\n\n#define top_col vec4(1.000,0.784,0.000,1.)\n#define bottom_col vec4(0.420,0.000,0.702,1.)\n\nfloat c01 (float x)\n{\n    return clamp(x, 0., 1.);\n}\n\nfloat lrm (float x)\n{\n    return 1./(x*x + 2.*x + 1.);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.y;\n    vec2 cuv = uv - vec2(iResolution.x/iResolution.y * .5, .5);\n    \n    float circle_sdf = length(cuv) - sun_radius;\n    float oluvy = uv.y + line_start_point; // Offset line uv y\n    float soluvy = sqrt(1. - oluvy*oluvy);\n    float lines_sdf = distance(soluvy - iTime * scroll_speed, \n        round((soluvy - iTime * scroll_speed) * line_count)/line_count)\n        - mix(0., .5, line_thickness)/line_count;\n    lines_sdf *= soluvy/oluvy;\n    float sun_sdf = max(circle_sdf, lines_sdf);\n    float glow = lrm(sun_sdf) * glow_max_brightness;\n\n    float sun_v = c01(-sun_sdf * iResolution.y * sun_sharpness) + glow;\n\n    // Output to screen\n    fragColor = vec4(sun_v * mix(bottom_col, top_col, uv.y));\n}","name":"Image","description":"","type":"image"}]}