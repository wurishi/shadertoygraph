{"ver":"0.1","info":{"id":"NdSyDw","date":"1646186881","viewed":260,"name":"Liquid tunnel","username":"ferotan","description":"Just a little FBM noise experiment. WIP","likes":6,"published":1,"flags":0,"usePreview":0,"tags":["noise","fbm","rotation"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sf3Rn","filepath":"/media/a/0a40562379b63dfb89227e6d172f39fdce9022cba76623f1054a2c83d6c0ba5d.png","previewfilepath":"/media/ap/0a40562379b63dfb89227e6d172f39fdce9022cba76623f1054a2c83d6c0ba5d.png","type":"texture","channel":0,"sampler":{"filter":"linear","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//Cylindrical projected FBM noise masked with a sphere.\n\n\n#define OCTAVES 4\n\nmat2 rotate(in float theta)\n{\n    float c = cos(theta);\n    float s = sin(theta);\n    return mat2(c,-s,s,c);\n}\n\n\nfloat noise (vec2 p)\n{\n    return texture(iChannel0, p*0.2).r;\n}\n\n\nfloat fbm (in vec2 p) {\n    \n    float value = 0.0;\n    float amplitude = 0.08;\n    for (int i = 0; i < OCTAVES; i++) {\n        value += amplitude * noise(p);\n        p *= 2.;\n        amplitude /= 1.32;\n    }\n    return value;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord.xy-0.5*iResolution.xy)/iResolution.y;\n\n    uv = uv*rotate(fbm(uv*2.0));\n    \n    uv = vec2(atan(uv.y,uv.x)*3./3.1416,1.0/(length(uv)))*3.0;\n    \n    vec2 uvp = uv*3.+iTime*2.0;\n   \n    float scan = clamp(abs(sin(uvp.x))*10.-5.0,0.0,1.0);\n \n    vec2 speed = iTime * vec2(.1, 0.8);\n    \n    vec3 col = vec3(fbm(uv+speed),fbm(uv+0.02+speed),fbm(uv+0.04+speed));\n\n    fragColor = vec4(col*vec3(3.0,4.0,5.4)*fbm(uv+iTime/4.)*(uv.y*uv.y)*0.3,1.0);\n    fragColor = clamp(fragColor-(scan/8.0),0.0,1.0);\n    \n}","name":"Image","description":"","type":"image"}]}