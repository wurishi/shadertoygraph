{"ver":"0.1","info":{"id":"td2yDV","date":"1587383082","viewed":147,"name":"2020-04-20 Threading macros","username":"sinclav","description":"\nSoundCloud: https://soundcloud.com/sin_clav/rcwzxmcikbwm","likes":2,"published":1,"flags":96,"usePreview":0,"tags":["visualizer"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n    vec2 uv = fragCoord / iResolution.xy;\n    \n    vec2 ring1 = uv - vec2(0.17, 0.0);\n    float r = texture(iChannel0, ring1 + vec2(0.007, 0.0)).x;\n    float g = texture(iChannel0, ring1).y;\n    float b = texture(iChannel0, ring1 + vec2(-0.007, 0.0)).z;\n    \n   \tvec2 ring2 = uv - vec2(-0.17, 0.0);\n    float c = texture(iChannel0, ring2 + vec2(0.007, 0.0)).x;\n    float m = texture(iChannel0, ring2).y;\n    float y = texture(iChannel0, ring2 + vec2(-0.007, 0.0)).z;\n\n    vec3 col = vec3(r + c, g + m, b + y) - 1.0;\n    col = vec3(pow(col.x, 4.0), pow(col.y, 4.0), pow(col.z, 4.0));\n    fragColor = vec4(col.x, col.y, col.z, 1.0);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4tj3WD","filepath":"https://soundcloud.com/sin_clav/rcwzxmcikbwm","previewfilepath":"https://soundcloud.com/sin_clav/rcwzxmcikbwm","type":"musicstream","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":0}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"float spectrum(float freq) {\n    return texture(iChannel0, vec2(freq)).x;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n    vec2 uv = (fragCoord - 0.5 * iResolution.xy) / iResolution.y;\n\n    float x = spectrum(0.5) * 2.4;\n    float r = -0.3 + (spectrum(0.2) * 0.5);\n    float v = 1.0;\n    \n    for (float r = r; r < 0.8; r += 0.12) {\n        v *= (smoothstep(distance(uv.xy, vec2(0.0, 0.0)), r, x) +\n              smoothstep(r + 0.01, distance(uv.xy, vec2(0.0, 0.0)), x));\n    }\n\n    fragColor = vec4(v);\n}","name":"Buffer A","description":"","type":"buffer"}]}