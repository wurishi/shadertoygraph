{"ver":"0.1","info":{"id":"wl3GDn","date":"1576005635","viewed":145,"name":"line draw test","username":"stanlo","description":"space to clear","likes":6,"published":1,"flags":48,"usePreview":0,"tags":["test","line","paint","draw"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    fragColor = textureLod(iChannel0, fragCoord/iResolution.xy, 0.0);\n\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGRr","filepath":"/presets/tex00.jpg","previewfilepath":"/presets/tex00.jpg","type":"keyboard","channel":2,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    if (texelFetch(iChannel2, ivec2(32, 0), 0).x != 0.0) { fragColor = vec4(0); return; }\n        \n\t \n        \n    fragColor = textureLod(iChannel0, fragCoord/iResolution.xy, 0.0);\n    vec2 previousMouse = texelFetch(iChannel1, ivec2(0), 0).xy;\n    if (all(equal(previousMouse, vec2(0)))) {return;}\n    if (all(equal(iMouse.xy, iMouse.zw))) {return;}\n    vec2 mouse = iMouse.xy + vec2(0.5);\n    vec2 direction = mouse - previousMouse;\n    if (all(equal(direction, vec2(0)))) return;\n    \n    vec2 a = fragCoord - mouse;\n    vec2 b = previousMouse - mouse;\n  \tfloat d = clamp(dot(a, b)/dot(b,b), 0.0, 1.0 );\n  \td = length( a - b*d ) - 0.5;\n    \n    fragColor = fragColor = max(fragColor, pow( smoothstep(10.0, 8.5, d), 1./2.2 ) );\n}","name":"Buffer A","description":"","type":"buffer"},{"inputs":[{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"XsXGR8","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 previousMouse = texelFetch(iChannel0, ivec2(0), 0).xy;\n    vec2 mouse = iMouse.xy + vec2(0.5);\n    \n    if (all(equal(mouse, previousMouse))) {fragColor = vec4(0); return;}\n\tfragColor.xy = mouse;\n}","name":"Buffer B","description":"","type":"buffer"},{"inputs":[],"outputs":[{"id":"4sXGR8","channel":0}],"code":"// this doesn't do anything just leaving a message here :)\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    fragColor = vec4(0.0,0.0,1.0,1.0);\n}","name":"Buffer C","description":"","type":"buffer"}]}