{"ver":"0.1","info":{"id":"lflXRM","date":"1705226397","viewed":76,"name":"32 color palette","username":"afl_ext","description":"no ifs!!","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["color","palette","db32"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"Xdf3Rn","filepath":"/media/a/e81e818ac76a8983d746784b423178ee9f6cdcdf7f8e8d719341a6fe2d2ab303.webm","previewfilepath":"/media/ap/e81e818ac76a8983d746784b423178ee9f6cdcdf7f8e8d719341a6fe2d2ab303.webm","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec3 palette[32] = vec3[](\n    vec3(0, 0, 0),\n    vec3(0.13333333333333333, 0.12549019607843137, 0.20392156862745098),\n    vec3(0.27058823529411763, 0.1568627450980392, 0.23529411764705882),\n    vec3(0.4, 0.2235294117647059, 0.19215686274509805),\n    vec3(0.5607843137254902, 0.33725490196078434, 0.23137254901960785),\n    vec3(0.8745098039215686, 0.44313725490196076, 0.14901960784313725),\n    vec3(0.8509803921568627, 0.6274509803921569, 0.4),\n    vec3(0.9333333333333333, 0.7647058823529411, 0.6039215686274509),\n    vec3(0.984313725490196, 0.9490196078431372, 0.21176470588235294),\n    vec3(0.6, 0.8980392156862745, 0.3137254901960784),\n    vec3(0.41568627450980394, 0.7450980392156863, 0.18823529411764706),\n    vec3(0.21568627450980393, 0.5803921568627451, 0.43137254901960786),\n    vec3(0.29411764705882354, 0.4117647058823529, 0.1843137254901961),\n    vec3(0.3215686274509804, 0.29411764705882354, 0.1411764705882353),\n    vec3(0.19607843137254902, 0.23529411764705882, 0.2235294117647059),\n    vec3(0.24705882352941178, 0.24705882352941178, 0.4549019607843137),\n    vec3(0.18823529411764706, 0.3764705882352941, 0.5098039215686274),\n    vec3(0.3568627450980392, 0.43137254901960786, 0.8823529411764706),\n    vec3(0.38823529411764707, 0.6078431372549019, 1),\n    vec3(0.37254901960784315, 0.803921568627451, 0.8941176470588236),\n    vec3(0.796078431372549, 0.8588235294117647, 0.9882352941176471),\n    vec3(1, 1, 1),\n    vec3(0.6078431372549019, 0.6784313725490196, 0.7176470588235294),\n    vec3(0.5176470588235295, 0.49411764705882355, 0.5294117647058824),\n    vec3(0.4117647058823529, 0.41568627450980394, 0.41568627450980394),\n    vec3(0.34901960784313724, 0.33725490196078434, 0.3215686274509804),\n    vec3(0.4627450980392157, 0.25882352941176473, 0.5411764705882353),\n    vec3(0.6745098039215687, 0.19607843137254902, 0.19607843137254902),\n    vec3(0.8509803921568627, 0.3411764705882353, 0.38823529411764707),\n    vec3(0.8431372549019608, 0.4823529411764706, 0.7294117647058823),\n    vec3(0.5607843137254902, 0.592156862745098, 0.2901960784313726),\n    vec3(0.5411764705882353, 0.43529411764705883, 0.18823529411764706)\n);\n\nfloat rand2d(vec2 co){\n    return fract(sin(dot(co.xy,vec2(12.9898,78.233))) * 43758.5453);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    //float rd = fract(rand2d(fragCoord/iResolution.xy) + iTime);\n    \n    vec3 originalColor = texture(iChannel0, fragCoord/iResolution.xy).rgb;// + vec3(rd/16.0);\n    \n    vec3 mappedColor = vec3(0.0);\n    float minDist = 999.0;\n    for(int i=0;i<32;i++){\n        vec3 paletteColor = palette[i];\n        float dist = distance(paletteColor, originalColor);\n        float mixer = step(minDist, dist);\n        mappedColor = mix(paletteColor, mappedColor, mixer);\n        minDist = min(dist, minDist);\n    }\n    \n    fragColor = vec4(mappedColor, 1.0);\n}","name":"Image","description":"","type":"image"}]}