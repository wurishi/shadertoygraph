{"ver":"0.1","info":{"id":"dd3fW4","date":"1697147868","viewed":87,"name":"ghost faces","username":"studiobloom","description":"not sure why it glitches faces so much lol","likes":0,"published":1,"flags":2,"usePreview":0,"tags":["distortion","glitch","feedback"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sf3zn","filepath":"/presets/webcam.png","previewfilepath":"/presets/webcam.png","type":"webcam","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Impactful Parameters\nint numPasses = 12; // Number of feedback passes. Increase for more layering.\nfloat zoomVariation = 0.02; // Variation in zoom per pass.\nfloat rotationVariation = 0.02; // Variation in rotation per pass.\nfloat colorOffset = 0.13; // Offset by color for more feedback complexity.\n\n// Function to rotate coordinates by a given angle\nvec2 rotate(vec2 coords, float angle) {\n    float sin_factor = sin(angle);\n    float cos_factor = cos(angle);\n    coords = vec2((coords.x - 0.5), coords.y - 0.5) * mat2(cos_factor, sin_factor, -sin_factor, cos_factor);\n    coords += 0.5;\n    return coords;\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    vec2 res = iResolution.xy;\n    vec2 tc = fragCoord / res;\n    vec2 uv = tc;\n    \n    for(int i = 0; i < numPasses; i++) {\n        // Modulating zoom and rotation with time for the feedback effect\n        float zoomFactor = 1.0 + sin(iTime + float(i) * 0.5) * zoomVariation; // Slight variation per pass\n        float rotationFactor = sin(iTime + float(i) * 0.5) * rotationVariation; // Slight variation per pass\n        \n        // Apply zoom and rotation\n        uv *= zoomFactor;\n        uv = rotate(uv, rotationFactor);\n\n        vec4 sum = texture(iChannel0, uv);\n        uv -= sum.gb * colorOffset; // Offset by color for more feedback complexity\n        \n        if(i == numPasses - 1) { // On the last pass, save the result to fragColor\n            fragColor = sum;\n        }\n    }\n}\n","name":"Image","description":"","type":"image"}]}