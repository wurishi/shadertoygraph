{"ver":"0.1","info":{"id":"MsKyWW","date":"1522073412","viewed":117,"name":"bokeh Bokeh BOKEH","username":"thmsn1005","description":"inspired by https://www.shadertoy.com/view/MlSGzR, but more bokeh-like.\n not really happy with the result though","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["texture","bokeh"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XdXGzn","filepath":"/media/a/3083c722c0c738cad0f468383167a0d246f91af2bfa373e9c5c094fb8c8413e0.png","previewfilepath":"/media/ap/3083c722c0c738cad0f468383167a0d246f91af2bfa373e9c5c094fb8c8413e0.png","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec3 circle(vec2 p, vec2 c){\n    vec3 col = texture(iChannel0, c/64.0).rgb;\n    float r  = fract(c.x*23.4556727+c.y*56.23412)*.9+.1;//random size\n    c.y \t+= fract(c.x*5.67334576+c.y*34.32465)-.5;//random center offset\n    c.x \t+= fract(c.x*5.48557967+c.y*46.21784)-.5;\n \tvec2 f = p-c;\n    float d = f.x * f.x + f.y * f.y;\t\t\t//distance to center\n    col = col + col*d*.2;\t\t\t\t\t\t//brighter on the outside\n    if(d > r) col = vec3(0.0);\t\t\t\t\t//black if outside of circle\n    return col;\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float s = 5.0+(sin(iTime/4.0)+1.0)*5.0;//scale\n    vec2 uv = fragCoord/iResolution.x/s;\n    uv.y += iTime/100.0;//scroll\n    \n\tfloat texRes = 64.0;\n    vec2 p = uv * texRes;\t\t//uv position in texel units\n    vec2 c = p - fract(p)+.5;\t//center of the texel\n\n    vec3 col = vec3(0.0);\n    for(int i = -1; i <= 1;i += 1){\t\t//3x3 pattern\n    \tfor(int j = -1; j <= 1;j += 1){\n            vec2 diff = vec2(i,j);\n    \t\tcol = max(col,circle(p, c+diff));\n        }\n    }\n\n    fragColor = vec4(col,1.0); \n} ","name":"Image","description":"","type":"image"}]}