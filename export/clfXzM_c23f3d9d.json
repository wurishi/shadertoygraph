{"ver":"0.1","info":{"id":"clfXzM","date":"1674448687","viewed":123,"name":"Square Gears","username":"murf","description":":3","likes":7,"published":1,"flags":0,"usePreview":0,"tags":["psychedelic","tower","squares"],"hasliked":0,"parentid":"ctlSRH","parentname":"Spinny Squares"},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//lower this for performance\n#define LVLS 7e2 \n#define PAL vec3(0.5,0.5,0.5),vec3(0.5,0.5,0.5),vec3(1.0,1.0,1.0),vec3(0.0,0.33,0.67)\n\nfloat Box( vec2 p,  float b) {\n    p = abs(p)-b;\n    return length(max(p,0.)) + min(max(p.x,p.y),0.) - 0.005;\n}\n\nvec3 pal( in float t, in vec3 a, in vec3 b, in vec3 c, in vec3 d )\n{ return a + b*cos( 6.28318*(c*t+d) ); }\n\n#define rot(a) mat2(cos( a + 1.5708*vec4(0,1,-1,0) ) )\n\nvoid mainImage( out vec4 O, vec2 u )\n{\n    vec4 col; float t = sin(iTime*.5) * 6.5;\n    vec2  R = iResolution.xy,\n          U0 = abs( u - .5*R ) / R.y,\n          U = .5 * U0 - .125;\n    for( float i=1.; i<=LVLS; i++)      \n        U *= rot( i* t/ 764.),\n        col = vec4(pal( i/LVLS+i/4.+1./i*t, PAL),1.),\n        O = mix(O, col, smoothstep(.8/R.y, 0., Box(U,.5/i*5.) ) );\n}","name":"Image","description":"","type":"image"}]}