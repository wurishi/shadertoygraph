{"ver":"0.1","info":{"id":"wsByRR","date":"1585935706","viewed":132,"name":"DailyMessages","username":"Reva","description":"Ex08","likes":8,"published":1,"flags":0,"usePreview":0,"tags":["2d"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define BLUR 0.005\n#define LAYER 3.\n\nfloat window(vec2 uv, float w, float h, float circular){\n    float f = 1.0 - smoothstep(circular-BLUR,circular, 1.0 - uv.x * uv.y);\n    f *= 1.0 - smoothstep(circular-BLUR,circular, 1.0 - (w - uv.x) * uv.y);\n    f *= 1.0 - smoothstep(circular-BLUR,circular, 1.0 - (w - uv.x) * (h - uv.y));\n    f *= 1.0 - smoothstep(circular-BLUR,circular, 1.0 - uv.x * (h - uv.y));\n    return f;\n}\n\nfloat hash21(vec2 p)\n{\n    p  = fract( p*0.3183099+.1 );\n\tp *= 17.0;\n    return fract( p.x*p.y*(p.x+p.y) );\n}\n\nvec3 windowLayer(vec2 uv){\n    vec3 col = vec3(0.0);\n    \n    vec2 pos = fract(uv);\n    vec2 id = floor(uv);\n    \n    for(int y = -1; y < 1; y++){\n        for(int x = -1; x < 1; x++){\n          vec2 offset = vec2(x,y);\n          float random = hash21(id+offset);\n          vec3 c = vec3(random*0.3+0.1, fract(random*49.43)*0.6+0.4, 0.8)*(sin(iTime*random*6.28)*0.4+0.6);\n          vec2 size = vec2(random*0.5+0.8,fract(random*984.33)*0.5+0.8);\n          col += window(pos - offset-vec2(random,fract(random*39.53))*0.5,size.x,size.y,0.999)*c;\n        }\n    }\n    return col;\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord - 0.5*iResolution.xy)/iResolution.y;\n    \n    vec3 col = vec3(0.0);\n    for(float i = 0.; i < 1.; i+= 1./LAYER){\n        float depth = fract(i+iTime*0.1);\n        float scale = mix(20.,0.5,depth);\n        float fade = depth*smoothstep(1.,0.9,depth);\n        col += windowLayer(uv*scale+i*93.4+5.7)*fade;\n    }\n    \n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}