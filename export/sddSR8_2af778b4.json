{"ver":"0.1","info":{"id":"sddSR8","date":"1632653242","viewed":62,"name":"Flowers test 2","username":"1rosehip","description":"The same as https://www.shadertoy.com/view/7d3XzH but each flower has different color","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["test","rotation","flowers"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\n\n#ifdef GL_ES\nprecision mediump float;\n#endif\n\n\n/**\n * create a rotation matrix for the given angle in radians\n */\nmat2 getRotationMatrix(float angle) {\n    float s = sin(angle);\n    float c = cos(angle);\n\n    return mat2(c, -s,\n                s, c);\n}\n\n/**\n * draw the flower\n * position - gl_FragCoord.xy / uResolution.xy\n * \n */\nvec3 flower(\n        vec2 position, \n        vec2 center, \n        float amplitude, \n        float size, \n        float frequency, \n        float blur, \n        float rotation, \n        vec2 skew,\n        float index) {\n    \n    // by default, flower color will be black, and the background white\n    vec3 color = vec3(1.0, 1.0, 1.0);\n    vec2 figure = position - center;\n\n    // draw the vertical line\n    float lineSize = 0.005;\n\n    // 0.1 * sin(5.0 * figure.y) makes the line be \"wavy\"\n    // to flip horizontaly -> - 0.1 * sin(5.0 * figure.y)\n    float verticalLine = smoothstep(lineSize, lineSize + lineSize / 2.0, abs(figure.x + 0.1 * sin(5.0 * figure.y)));\n\n    // remove the 'top' part of the vertical line - strange way\n    color *= 1.0 - (1.0 - verticalLine) * (1.0 - smoothstep(0.0, 0.1, figure.y));\n\n    // animation\n    mat2 mat = getRotationMatrix(iTime * index * 2.5);\n    figure = mat * figure;\n\n    // draw the flower\n    figure += skew;\n    float r = size + amplitude * cos(atan(figure.y, figure.x) * frequency + rotation);\n    color *= smoothstep(r, r + blur, length(figure));\n\n    // apply the colors\n    return color;\n}\n\n/**\n * entry point\n */\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 position = fragCoord.xy / iResolution.y - vec2(0.5, 0.0);\n    position += 0.1 * sin(5.0 * position - iTime);\n \n    vec3 color = mix(vec3(0.098, 0.7686, 0.5882), vec3(1.0, 1.0, 1.0), position.y); \n\n    vec3 fl1 = flower(position, vec2(0.5, 0.5),  0.1,  0.1, 10.0, 0.01, 0.0, vec2(0.0), -0.6);\n    color = mix(vec3(1.0, 0.0, 0.0), color, fl1);\n\n    vec3 fl2 = flower(position, vec2(0.3, 0.9),  0.1,  0.001, 4.0,  0.01, 0.0, vec2(0.0), 0.2);\n    color = mix(vec3(0.902, 0.6471, 0.0), color, fl2);\n    \n    vec3 fl3 = flower(position, vec2(0.51, 0.83),  0.01, 0.09, 60.0, 0.01, 0.0, vec2(0.0), 0.3);\n    color = mix(vec3(0.0, 0.2353, 1.0), color, fl3);\n    \n    vec3 fl4 = flower(position, vec2(0.1, 0.2),  0.2,  0.1, 7.0,  0.01, 0.0, vec2(0.0), -0.4);\n    color = mix(vec3(0.0118, 0.549, 0.3412), color, fl4);\n\n    vec3 fl5 = flower(position, vec2(0.55, 0.1), 0.05, 0.1, 3.0,  0.01, 0.0, vec2(0.0), 0.5);\n    color = mix(vec3(0.5804, 0.2039, 0.5333), color, fl5);\n    \n    vec3 fl6 = flower(position, vec2(0.8, 0.3),  0.05, 0.1, 10.0, 0.01, 0.0, vec2(0.0), -0.6);\n    color = mix(vec3(0.8431, 0.0353, 0.6157), color, fl6);\n\n    vec3 fl7 = flower(position, vec2(0.15, 0.7), 0.01, 0.1, 10.0, 0.01, 0.0, vec2(0.0), 0.7);\n    color = mix(vec3(0.0745, 0.6431, 0.5373), color, fl7);\n    \n    vec3 fl8 = flower(position, vec2(0.8, 0.8),  0.03, 0.1, 10.0, 0.01, 0.0, vec2(0.0), 0.8);\n    color = mix(vec3(0.0745, 0.6431, 0.5373), color, fl8);\n\n    fragColor = vec4(color, 1.0);\n}","name":"Image","description":"","type":"image"}]}