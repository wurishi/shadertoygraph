{"ver":"0.1","renderpass":[{"outputs":[{"channel":0,"id":"4dfGRr"}],"inputs":[],"code":"int numRows = 20;\nint numCols = 20;\n\n#define period (2.0)\n#define halfperiod (period * 0.5)\n#define dt (mod(iTime, period))\n#define dth (mod(iTime, halfperiod))\n\n#define moveFlip (int(mod(iTime, period * 2.0) > period))\n#define moveRows (int(mod(iTime, period) > halfperiod))\n#define moveEvens (int(mod(iTime, period) > halfperiod))\n\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    int move_evens = moveEvens;\n\tif (moveFlip > 0)\n\t{\n\t\tmove_evens = 1 - moveEvens;\n\t}\n\t\n\tfloat dx = iResolution.x / float(numRows);\n\tfloat dy = iResolution.y / float(numCols);\n\t\n\tfloat x = fragCoord.x;\n\tfloat y = fragCoord.y;\n\t\n\tx *= iResolution.x/iResolution.y;\n\t\n\t\n\tint rowx = int(x / dx);\n\tint rowy = int(y / dy);\n\t\n\tint xeven = int(mod(float(rowx), 2.0));\n\tint yeven = int(mod(float(rowy), 2.0));\n\t\n\tfloat t = dth / halfperiod;\n\t\n\tfloat dtx = dx * t * 2.0;\n\tfloat dty = dy * t * 2.0;\n\t\n\tif (moveEvens == 1)\n\t{\n\t\tif (moveRows == 1 && xeven == 1)\n\t\t{\n\t\t\ty = y + dty;\n\t\t\trowy = int(y / dy);\n\t\t}\n\t\telse if (moveRows == 0 && yeven == 0)\n\t\t{\n\t\t\tx = x + dtx;\n\t\t\trowx = int(x / dx);\n\t\t}\n\t}\n\telse\n\t{\n\t\tif (moveRows == 1 && xeven == 0)\n\t\t{\n\t\t\ty = y + dty;\n\t\t\trowy = int(y / dy);\n\t\t}\n\t\telse if (moveRows == 0 && yeven == 1)\n\t\t{\n\t\t\tx = x + dtx;\n\t\t\trowx = int(x / dx);\n\t\t}\n\t}\n\n\txeven = int(mod(float(rowx), 2.0));\n\tyeven = int(mod(float(rowy), 2.0));\n\n\tif (xeven == yeven)\n\t{\n\t\tvec4 c = texture(iChannel0, fragCoord.xy / iResolution.xy);\n\t\t\n\t\tif (c.x == 0.0 && c.y == 0.0 && c.z == 0.0)\n\t\t{\n\t\t\tc = vec4(1.0, 1.0, 1.0, 1.0);\n\t\t}\n\n\t\tfragColor = c;\n\t}\n\telse\n\t{\n\t\tvec4 c = texture(iChannel1, fragCoord.xy / iResolution.xy);\n\t\tfragColor = c;\n\t\t\n\t}\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"Msl3RX","date":"1376393720","viewed":408,"name":"Moving checkerboard","username":"toothmang","description":"Alternating rows and columns shift. You can set the white checkerboard color with iChannel0 and the black checkerboard color with iChannel1","likes":13,"published":1,"flags":0,"usePreview":0,"tags":["procedural","2d","checkerboard"],"hasliked":0,"parentid":"","parentname":""}}