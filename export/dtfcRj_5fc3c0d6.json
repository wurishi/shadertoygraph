{"ver":"0.1","info":{"id":"dtfcRj","date":"1690934908","viewed":21,"name":"垂直线段的SDF","username":"Leslie","description":"垂直线段的SDF","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["2d"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec3 colorize_field(float dist, vec3 color)\n{    \n    float F = 30., freq = F*dist, aa = 1./F, C = 0.7, amp = 0.2, width = F*0.01, //0.3\n          waves_sdf = C + amp*smoothstep(8./iResolution.y, 0., (width+cos(freq)) * aa),\n          exp_raise = 1. - exp(-4.*abs(dist));\n        \n    color = 1.0 - sign(dist) * color; // Change color if dist is negative. \n    color *= exp_raise;               // Attenuate color around edges.     \n    color *= waves_sdf;               // Add waves.\n    \n    return mix(color, vec3(1.), smoothstep(8./iResolution.y, 0., abs(dist)) );\n}\n\nfloat sdfLine(vec2 p, float r)\n{\n    vec2 d=abs(p)-vec2(0., r);\n\n    return length(max(d, 0.)) + min(0., max(d.x, d.y));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec3 red=vec3(1.,0.,0.);\n    vec3 green=vec3(0.,1.,0.);\n    vec3 blue=vec3(0.,0.,1.);\n    \n    float scale=min(iResolution.x, iResolution.y);\n    vec2 res=iResolution.xy/scale;\n    vec2 p=(2.*fragCoord-iResolution.xy)/scale;\n    float r=abs(sin(iTime))*res.y;\n    float dist=sdfLine(p, r);\n    vec3 clr=colorize_field(dist, vec3(0.1, 0.4, 0.7));\n    \n    fragColor=vec4(clr, 1.);\n}\n","name":"Image","description":"","type":"image"}]}