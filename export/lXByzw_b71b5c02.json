{"ver":"0.1","info":{"id":"lXByzw","date":"1727097014","viewed":21,"name":"vertex jigsaw ","username":"HyperQuantum","description":"can customize vertices input and jigsaw them together","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["phong","barycentric","polygon","interpolation"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\nvec3 mainfunction(vec2 uv , vec3 scattered[5]){\n\n\n    vec3 ourpoint = vec3(uv.x,uv.y,0);\n    vec3 si[5];\n    float ri[5];\n    for(int i=0;i<5;i++){\n        si[i] = scattered[i] - ourpoint;\n        ri[i] = length(si[i]);\n    }\n\n    float area[4];\n    float di[4];\n\n    float radian = acos(dot(normalize(si[1]),normalize(si[2])))+acos(dot(normalize(si[3]),normalize(si[1])))+acos(dot(normalize(si[2]),normalize(si[3])));\n    if(radian <= 3.1415 * 2.0f){return vec3(0);}\n    \n    for(int i=0;i<4;i++){\n        area[i] = length(cross(si[i],si[i+1]))/2.0f;\n        di[i] = dot(si[i],si[i+1]);\n        if(ri[i]<=0.0015f){\n            return scattered[i];\n        }\n        if(area[i]<=0.0003f && di[i]<=0.00001f){\n            return (ri[i+1]*scattered[i]+ri[i]*scattered[i+1]) / (ri[i+1] + ri[i]);\n        }\n    }\n                \n    vec3 F;\n    float W;\n    \n    for(int i=1;i<=3;i++){\n        float w;\n        if(area[i-1]!=0.0f){\n            w = w + (ri[i-1]-di[i-1]/ri[i])/area[i-1];\n        }\n        if(area[i]!=0.0f){\n            w = w + (ri[i+1]-di[i]/ri[i])/area[i];\n        }\n        F = F + w * scattered[i];\n        W = W + w;\n    }\n    return F/W;\n\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    \n    vec3 receive = mainfunction(fragCoord/iResolution.xy , \n    vec3[5](\n        vec3(0.25,    0.0,    0),\n        vec3(0.85,     0.75,    0),\n        vec3(0.85,    0.09,     0),\n        vec3(0.25,    0.0,    0),\n        vec3(0.85,     0.75,    0)\n    )\n    );\n    \n    receive += mainfunction(fragCoord/iResolution.xy , \n    vec3[5](\n        vec3(0.25,    0.0,    0),\n        vec3(0.85,     0.75,    0),\n        vec3(0.25,    0.99,     0),\n        vec3(0.25,    0.0,    0),\n        vec3(0.85,     0.75,    0)\n    )\n    );\n\n    // Output to screen\n    fragColor = vec4(receive,1.0f);\n}","name":"Image","description":"","type":"image"}]}