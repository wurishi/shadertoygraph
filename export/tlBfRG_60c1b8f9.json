{"ver":"0.1","info":{"id":"tlBfRG","date":"1599585910","viewed":137,"name":"Voronoi explaind The Art of Code","username":"dub","description":"Voronoi explained The Art of Code https://www.youtube.com/watch?v=l-07BXzNdPw","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["voronoi"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsX3zn","filepath":"/media/a/94284d43be78f00eb6b298e6d78656a1b34e2b91b34940d02f1ca8b22310e8a0.png","previewfilepath":"/media/ap/94284d43be78f00eb6b298e6d78656a1b34e2b91b34940d02f1ca8b22310e8a0.png","type":"cubemap","channel":0,"sampler":{"filter":"mipmap","wrap":"clamp","vflip":"false","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.14159274101257324\n#define rot2d(a) mat2(cos(a),sin(a),-sin(a),cos(a))\n#define center_uv vec2 uv = fragCoord*2./iResolution.y - vec2(iResolution.x/iResolution.y, 1.)\n#define center_uv3 vec2 uv = (fragCoord-.5*iResolution.xy)/iResolution.y\n\nvec2 hash21(float p)\n{\n\tvec3 p3 = fract(vec3(p) * vec3(.1031, .1030, .0973));\n\tp3 += dot(p3, p3.yzx + 33.33);\n    return fract((p3.xx+p3.yz)*p3.zy);\n}\n\nvec2 hash22(vec2 p)\n{\n\tvec3 p3 = fract(vec3(p.xyx) * vec3(.1031, .1030, .0973));\n    p3 += dot(p3, p3.yzx+33.33);\n    return fract((p3.xx+p3.yz)*p3.zy);\n\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    center_uv;\n\n    vec3 col = vec3(0.);\n    \n    float md = 1000.;\n    float mi = 0.;\n    \n    vec2 fc = fragCoord;\n    vec2 UV = uv;\n    float t = iTime;\n    uv*=3.;\n    vec2 gv = fract(uv)-.5;\n    vec2 id = floor(uv);\n    vec2 c;\n    for(float y=-1.;y<=1.;y++)\n    {\n        for(float x=-1.;x<=1.;x++)\n        {\n            vec2 offs = vec2(x,y);\n            vec2 n = hash22(id+offs);\n            vec2 p = offs+sin(n*t)*.5;\n            float d = length(gv-p);\n            if(d<md)\n            {\n                md=d;\n                c=p-gv;\n            }\n        }\n    }\n    \n    float sd = sqrt(1.-md*md);\n    //float sd = smoothstep(0., 1., md);\n    vec3 n = normalize(vec3(dFdx(sd),dFdy(sd),1./iResolution.y));\n    \n    //col = vec3(c, 0.);\n    col = texture(iChannel0, vec3(c+UV, sd)).rgb;\n    vec3 colb = texture(iChannel1, vec2(fc/iResolution.xy)).rgb;\n    col = mix(colb, col, md);\n    //col = vec3(n.z);\n    //col = vec3(md);\n    //col = vec3(sd);\n\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}