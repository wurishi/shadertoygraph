{"ver":"0.1","info":{"id":"lsd3W2","date":"1452305453","viewed":391,"name":"R-pentomino","username":"RenoM","description":"Another game of life, still figuring out multipass. Trying to integrate click but the fact that even when the game is paused a click will let a few frames by is a problem. Can choose speed and size.\n","likes":14,"published":1,"flags":32,"usePreview":0,"tags":["game","automata","life","cellular","conway","multipass"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[],"code":"#define H 50.\n\nfloat pixel(vec2 p)\n{\n    vec2 q = 2. * (p - .5);\n    float s = pow(abs(q.x), 3.5) + pow(abs(q.y), 3.5);\n    return s <= 1. ? 1. - s : .0;\n}\n\nvoid mainImage( out vec4 O, in vec2 U )\n{\n    vec2 R = iResolution.xy,\n         p = U / R.y * H,\n         f = fract(p);\n    \n    p = floor(p);\n    \n    vec3 c = vec3(0);\n    if(texture(iChannel0, (p + .5) / iChannelResolution[0].xy).x == 1.)\n    {\n        float s = pixel(f) * 2.;\n        //  c = pixel(f) * vec3(.1, .9, .07);\n        c = s < 1.8 ? vec3(vec2(s / 5.4),s / 1.8) : s < 2. ? vec3(vec2(.33 + .67 * fract(5. * (s - 1.8))), 1) : vec3(1);\n    }\n    \n    O = vec4(c, 1);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"#define H 50.\n#define SPEED 7. // (is in frames per tick, i will make it framerate independant)\n\nvoid mainImage( out vec4 O, in vec2 U )\n{\n    vec2 R = iChannelResolution[0].xy;\n    \n    U = floor(U);\n    \n    float x, r = R.x / R.y;\n    vec2 h = floor(vec2(H * .5) * vec2(r, 1));\n    \n    if(U.x > r * H || U.y > H) discard;\n    else if(iFrame == 0)\n    {\n        if((U.x == h.x && U.y == h.y)\n        || (U.x == h.x && U.y == h.y + 1.)\n        || (U.x == h.x - 1. && U.y == h.y)\n        || (U.x == h.x && U.y == h.y - 1.)\n        || (U.x == h.x + 1. && U.y == h.y + 1.))\n            x = 1.;\n        else x = .0;\n    }\n    else if(mod(float(iFrame), SPEED) != .0)\n        x = texture(iChannel0, (.5 + U) / R).x;\n    else\n    {\n        x = texture(iChannel0, (.5 + U) / R).x;\n        float n = texture(iChannel0, (.5 + U + vec2(0,1)) / R).x\n                + texture(iChannel0, (.5 + U + vec2(1,0)) / R).x\n                + texture(iChannel0, (.5 + U + vec2(0,-1)) / R).x\n                + texture(iChannel0, (.5 + U + vec2(-1,0)) / R).x\n                + texture(iChannel0, (.5 + U + vec2(1)) / R).x\n                + texture(iChannel0, (.5 + U + vec2(-1)) / R).x\n                + texture(iChannel0, (.5 + U + vec2(-1,1)) / R).x\n                + texture(iChannel0, (.5 + U + vec2(1,-1)) / R).x;\n        if(n == 3. || (n == 2. && x == 1.)) x = 1.;\n        else x = .0;\n    }\n    \n    O = vec4(x,0,0, 1);\n}","name":"Buf A","description":"","type":"buffer"}]}