{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[{"channel":0,"type":"texture","id":"XdX3Rn","filepath":"/media/a/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg","sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"}},{"channel":1,"type":"texture","id":"XsXGRn","filepath":"/media/a/cd4c518bc6ef165c39d4405b347b51ba40f8d7a065ab0e8d2e4f422cbc1e8a43.jpg","sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"}},{"channel":2,"type":"texture","id":"XsX3Rn","filepath":"/media/a/92d7758c402f0927011ca8d0a7e40251439fba3a1dac26f5b8b62026323501aa.jpg","sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"}}],"code":"vec2 kaleido(vec2 uv)\n{\n\tfloat th = atan(uv.y, uv.x);\n\tfloat r = pow(length(uv), .9);\n\tfloat f = 3.14159 / 3.5;\n\n\tth = abs(mod(th + f/4.0, f) - f/2.0) / (1.0 + r);\n\t//th = sin(th * 6.283 / f);\n\n\treturn vec2(cos(th), sin(th)) * r * .1;\n}\n\nvec2 transform(vec2 at)\n{\n\tvec2 v;\n\tfloat th = .02 * iTime;\n\tv.x = at.x * cos(th) - at.y * sin(th) - .2 * sin(th);\n\tv.y = at.x * sin(th) + at.y * cos(th) + .2 * cos(th);\n\treturn v;\n}\n\nvec4 scene(vec2 at)\n{\n\tfloat x = mod(iTime / 8.0, 3.0);\n\tif (x < 1.0)\n\t\treturn texture(iChannel0, transform(at) * 5.0);\n\tif (x < 2.0)\n\t\treturn texture(iChannel1, transform(at) * 2.0);\n\tif (x < 3.0)\n\t\treturn texture(iChannel2, transform(at) * 3.0);\n\treturn texture(iChannel3, transform(at) * 2.0);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\t\n\tuv.x = mix(-1.0, 1.0, uv.x);\n\tuv.y = mix(-1.0, 1.0, uv.y);\n\tuv.y *= iResolution.y / iResolution.x;\n\tfragColor = scene(kaleido(uv));\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"4sfGzs","date":"1376450049","viewed":3327,"name":"aji's Kaleidoscope","username":"aji","description":"Listen to pretty much any song while watching this. The song instantly becomes 50x better.","likes":36,"published":1,"flags":0,"usePreview":0,"tags":["psychedelic","kaleidoscope","trippy"],"hasliked":0,"parentid":"","parentname":""}}