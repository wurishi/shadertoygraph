{"ver":"0.1","info":{"id":"ms23DD","date":"1667643969","viewed":204,"name":"TestAndiMouse","username":"CodeJUN","description":"交互性的shader","likes":1,"published":3,"flags":0,"usePreview":0,"tags":[],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define r .5+.2*sin(iTime)//运动\n\nvec2 fixUV(in vec2 c)//重置UV\n{\n    return (2.*c-iResolution.xy)/min(iResolution.x,iResolution.y);\n}\n\n\n\n\nfloat sdfCircle(in vec2 p)\n{\n    return length(p)-r;\n}\n\n\nvoid mainImage(out vec4 fragColor,in vec2 fragCoord)\n{\n    vec2 uv=fixUV(fragCoord);\n    float d=sdfCircle(uv);\n\n    vec3 color=abs(1.-sign(d)*vec3(.2,.33,.46));\n    color *=1.-exp(-3.*abs(d)); \n    color*=.8+.2*sin(100.*abs(d));\n    color =mix(color,vec3(1.), smoothstep(.005,.004,abs(d)));\n    \n    if(iMouse.z>0.)//鼠标控制\n    {\n    vec2 m=fixUV(iMouse.xy);\n    // float currentDistance=sdfCircle(m,.7);\n    float currentDistance=abs(sdfCircle(m));\n    // color=mix(color,vec3(1.,1.,0.),  length(uv-m));\n    //color=mix(color,vec3(1.,1.,0.), smoothstep(currentDistance,currentDistance-0.01, abs( length(uv-m)-currentDistance)));\n    color=mix(color,vec3(1.,1.,0.), smoothstep(0.01,0., abs( length(uv-m)-currentDistance)));\n\n    color=mix(color,vec3(0.),smoothstep(0.02,.0,length(uv-m)));\n    }\n\n\n    fragColor=vec4(color,1.);\n}","name":"Image","description":"","type":"image"}]}