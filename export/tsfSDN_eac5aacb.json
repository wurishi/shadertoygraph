{"ver":"0.1","info":{"id":"tsfSDN","date":"1551281754","viewed":447,"name":"isometric map rendering","username":"FabriceNeyret2","description":".","likes":5,"published":3,"flags":0,"usePreview":0,"tags":["isometric","fake3d","short"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// binary+nearest version: https://shadertoy.com/view/tslXDr\n\n#define H 2.  // isometric angle\n#define A 10. // amplif map z\n#define S 64. // map zoom\n\n// cell value at offset (x,y) from current\n#define T(x,y) texture(iChannel0,(S*U+vec2(x,y))/iChannelResolution[0].xy)\n#define Z(x,y) A * length(T(x,y).rgb)/1.3\n\nvoid mainImage( out vec4 O, vec2 u )\n{\n    vec2 R = iResolution.xy,\n         U =  ( 2.*u - R ) / R.y\n             * mat2(1,-H,1,H) / min(1.5,H); // isometric coordinates\n    U.y += iTime;\n\n    float hM=-99., v, h, tM;\n    for (float t=0.; t<A; t+= 8./S) {\n        v = Z(t,-t);\n        if (v+t > hM) hM=v+t, h=v, tM=t;\n    }\n    O = T(tM,-tM); \n}","name":"Image","description":"","type":"image"}]}