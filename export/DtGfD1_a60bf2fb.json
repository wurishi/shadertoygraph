{"ver":"0.1","info":{"id":"DtGfD1","date":"1702015835","viewed":21,"name":"circle_noise_repeat","username":"yufengjie","description":"repeat noise circle","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["noise","circle","repeat"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"precision mediump float;\n\nfloat PI = 3.1415926;\nfloat pix;\n\nfloat rand(float x) {\n  return fract(sin(x));\n}\n\nfloat noise(float x) {\n  float i = floor(x);\n  float f = fract(x);\n  return mix(rand(i), rand(i + 1.), smoothstep(0., 1., f));\n}\n\nvec3 palette(float t) {\n  vec3 a = vec3(1.000,0.500,0.500);\n  vec3 b = vec3(0.500,0.500,0.500);\n  vec3 c = vec3(0.750,1.000,0.667);\n  vec3 d = vec3(0.800,1.000,0.333);\n  return a + b * cos(6.28318 * (c * t + d));\n}\n\nvec3 danceCircle(vec2 st, float thetaSeed, float timeSeed, float circleSeed) {\n  float r = length(st);\n  float baseSize = 0.2;\n  float changeSize = 0.6;\n\n  float i = baseSize + changeSize * noise(sin(thetaSeed) + timeSeed);\n  float v = 1. - smoothstep(0., 10.*pix, abs(r - i));\n\n  return palette(circleSeed) * v;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n  pix = 1./iResolution.y;\n  vec2 st = (fragCoord.xy * 2. - iResolution.xy) / min(iResolution.x, iResolution.y);\n  vec3 fin_c = vec3(0.);\n\n  float theta = mod(atan(st.y, st.x), 2. * PI);\n\n  float total = 40.;\n  for(float i=0.;i<total;i++) {\n    float timeOff = (sin(iTime + i*0.1)*0.5 + 0.25);\n    float thetaOff = PI*0.5 * mod(i,4.);\n    vec3 circle = danceCircle(st, theta+thetaOff,iTime+timeOff, i*0.1);\n    fin_c += circle;\n  }\n\n  fragColor = vec4(fin_c, 1.0);\n}\n\n","name":"Image","description":"","type":"image"}]}