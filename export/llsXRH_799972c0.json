{"ver":"0.1","info":{"id":"llsXRH","date":"1434580338","viewed":372,"name":"Psychedelic Teapot","username":"vertostudio3d","description":"Used as a pure post effect example at:  http://vertostudio.com/cloud/115\nTutorial vid at :  https://www.youtube.com/watch?v=VKYUQnYhAH0","likes":7,"published":1,"flags":0,"usePreview":0,"tags":["postfx","psychedelic","vertostudio"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[],"code":"/** lame Post FX below done by Michael L Farrell  */\n//Used as a pure post effect example at:  \n//   http://vertostudio.com/cloud/115\n//Tutorial vid at :  \n//   https://www.youtube.com/watch?v=VKYUQnYhAH0\n\nvec3 rgb2hsv(vec3 c)\n{\n    vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);\n    vec4 p = mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g));\n    vec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r));\n\n    float d = q.x - min(q.w, q.y);\n    float e = 1.0e-10;\n    return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);\n}\n\nvec3 hsv2rgb(vec3 c)\n{\n    vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n    vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n    return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\nvec3 pp(vec3 color)\n{\n    float time = iTime*60.0;\n    vec2 textureCoordinates = gl_FragCoord.xy / iResolution.xy;\n    vec2 aspect = vec2(iResolution.x/iResolution.y, 1.0);\n    \n    vec2 center = vec2(0.5, 0.5);    \n    float dist = length(textureCoordinates*aspect-center*aspect);\n    \n    vec3 hsv = rgb2hsv(color.xyz);\n    \n    hsv.y /= 0.2+hsv.y;\n    hsv.y = clamp(hsv.y, 0.0, 1.0);\n    \n    hsv.x += dist*2.0-time*0.01;\n    color.xyz = hsv2rgb(hsv);\n\n    return color;\n}\n\n\n\n/* Created by Sebastien Durand - 2014 */                 #define G(a,b) for(int i=0;i<a;i+=b)\n/*     License  Creative Commons      */                     #define U(a,b) (a.x*b.y-b.x*a.y)\n/*     Attribution-NonCommercial      */                                  #define N normalize\n/*   ShareAlike 3.0 Unported License. */                                      #define F float\n                                                                               #define W vec3\n                                                                               #define V vec2\n                                       V R=V(-1.16\n                                        ,.63),Q=V \n\t\t\t                             (1,.72)\n\t\t\t              ;W L=N(W(Q,1)),Y=W(0,.4,0),E=Y*.001,\n                       P,O;V A[15];V T[4];F K;F B(V m,V n,V o){V                     q=P.xy;\n                      m-=q;n-=q;o-=q;F x=U(m,o),y=2.*U(n,m),z=2.*U                (o,n);V\n      i=o-m,j=o-n,k=n-m,s=2.*(x*i+y*j+z*k),r=m+(y*z-x*x)*V(s.y,-s.x)            /dot(s,s\n    );K=clamp((U(r,i)+2.*U(k,r))/(x+x+y+z),0.,1.);r=m+K*(k+k+K*(j-k))          ;return         \n  sqrt(           dot(r,r)+P.z*P.z);}F M(W p){P=p+O;F a=9.,r=length(P),        b=min( \n min(B           (V(-.6,.78),V(-1.16,.84),R),B(R,V(-1.2,.42),V(-.72,.24       )))-.06\n ,max(           P.y-.9,min(abs(B(V(1.16,.96),V(1.04,.9),Q)-.07)-.01,B(Q,    V( .92,\n .48),          V(.72,.42))*(1.-.75*K)-.08)));P=W(r*sin(acos(P.y/r)),P.y,  0);G(13,\n  2)a=         min(a,(B(A[i],A[i+1],A[i+2])-.02)*.8);return a<b?a:b;}void mainImage\n  (out        vec4 o,vec2 x){T[0]=V(201616.,40100.);T[1]=V(151620.2,313016.1);T[2\n   ]=V(       214.14,353432.3);T[3]=V(5.04,4040.39);G(15,1)A[i]=V(4,3)*fract(T[i/\n    4]/pow   (100.,F(i-4*(i/4))));V r=iResolution.xy,m=iMouse.xy/r,p=(2.*x-r)/r\n      .y; F s=.3,h,t=3.*(iTime+m.x);O=3.*W(cos(t),.7-m.y,sin(t)); W c=W(\n        .8-s*length(p)),w=N(Y-O),u=N(cross(w,Y)),d=N(p.x*u+p.y*cross(u,w)+w+w\n          );t=0.;G(99,1)if((t+=h=.6*M(d*t))>5.)break;if(h<E.y){O+=t*d;w=N(W\n           (M(E.yxx),M(E),M(E.xxy))-M(W(0)));G(18,1)s=min(s,M(L*(h+=.02))/\n              h);c=mix(c,mix(Y*(s>0.?3.*s+2.:2.),W(pow(max(dot(reflect(L\n                  ,w), d),0.), 99.)), .3), dot(w,-d)); } o.grb = pp(c) ;}\n\n","name":"","description":"","type":"image"}]}