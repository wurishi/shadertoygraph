{"ver":"0.1","info":{"id":"ll2Xzy","date":"1444750263","viewed":243,"name":"Scanning lines","username":"owendeery","description":".","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["2d"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sXGRn","filepath":"/media/a/95b90082f799f48677b4f206d856ad572f1d178c676269eac6347631d4447258.jpg","previewfilepath":"/media/ap/95b90082f799f48677b4f206d856ad572f1d178c676269eac6347631d4447258.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"},"published":1}],"outputs":[],"code":"const float SINESPEED = 15.0;\nconst float SINEMAGNITUDE = 0.1;\nconst float SCANREPEAT = 0.2;\nconst float SCANSPREAD = 0.1;\nconst float SCANFALLOFF = 0.20;\nconst float SCANSPEED = 0.1;\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float scanPosition = iTime*SCANSPEED;\n    \n\tvec2 uv = fragCoord.xy / iResolution.xy;\n\tfragColor = texture(iChannel0, uv);\n    \n    float sine = sin((uv.x + scanPosition) * SINESPEED) * SINEMAGNITUDE;\n\t\n\tfloat scanA = mod(scanPosition, SCANREPEAT);\n\tfloat scanB = scanA - SCANREPEAT;\n\tfloat scanC = scanA + SCANREPEAT;\n    \n\tfloat pos = mod(uv.y+sine, SCANREPEAT);\n\t\n\tfloat difference = min(min(abs(scanA - pos), abs(scanB - pos)), abs(scanC-pos));\n\t\n\tif(difference < SCANSPREAD)\n\t{\n        vec3 scanColor = vec3(1,1,1);\n\t\tvec3 boost = fragColor.rgb / (min(1.0, pow(difference / SCANSPREAD, SCANFALLOFF))/scanColor.rgb);\n\t\tfragColor.rgb = vec3(max(fragColor.r, boost.r), max(fragColor.g, boost.g), max(fragColor.b, boost.b));\n\t}\n}\n","name":"","description":"","type":"image"}]}