{"ver":"0.1","info":{"id":"tlcBR2","date":"1613056465","viewed":57,"name":"Wave sim with mouse","username":"Kuba_S","description":"interactive simulation","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["waves","interactive","physics"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//Two sources of waves\n//Points A and B\n//all values have to have a decimal point (float)\n\n//point A\nconst float aX = 0.0;   //  X value of point A\nconst float aY = 0.0;    //  Y value of point A\n\nconst float brightness = 0.85;\n\n\n\n//wave properties\nconst float speed = 10.0;    //  how quickly waves propagate forwards\nconst float wavelength = 0.4;//  wavelength \n// ALL VALUES HAVE TO HAVE A DECIMAL POINT!!!!!\n\n// red = peak\n// green = trough\n\n\nfloat getDis(float x, float y,float xA,float yA){\n    return pow(\n    (pow((x-xA),2.)+pow((y-yA),2.))\n    ,0.5);\n    }\n    \nfloat getHeight(float x, float y,float xA,float yA,float wl,float t){\n    return sin((wl*t-6.28318530718*(getDis(x,y,xA,yA)/wl)));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\n    \n \n    vec2 uv = fragCoord/iResolution.xy;\n    uv = uv * 2.0 - 1.0;\n    uv.x *= iResolution.x / iResolution.y;\n    \n    \n    vec2 uvMouse = iMouse.xy/iResolution.xy;\n    uvMouse = uvMouse * 2.0 - 1.0;\n    uvMouse.x *= iResolution.x / iResolution.y;\n    \n    float bX = uvMouse.x;\n    float bY = uvMouse.y;\n    \n    float t = iTime*speed;\n    float col = ((\n    ((\n    getHeight(uv.x,uv.y,aX,aY,wavelength,t)+\n    getHeight(uv.x,uv.y,bX,bY,wavelength,t)\n    +2.)/4.) // change from range -2 - 2 to range 0 - 1\n    \n    ));\n\n    float red;\n    float grn;\n    if(col > 0.5){\n        grn = 2.0 - (2.0 * col);\n        red = 1.0;\n    }\n    if(col <= 0.5){\n        grn = 1.0;\n        red = (2.0*col);\n    }\n    fragColor = vec4(red*brightness,grn*brightness,0.0, 1.0);        \n    \n    if(getDis(uv.x,uv.y,aX,aY)<0.02){\n        fragColor = vec4(1.,0.,1., 1.0);\n    }\n    if(getDis(uv.x,uv.y,bX,bY)<0.02){\n        fragColor = vec4(1.,0.,1., 1.0);\n    }\n    \n}","name":"Image","description":"","type":"image"}]}