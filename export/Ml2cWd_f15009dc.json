{"ver":"0.1","info":{"id":"Ml2cWd","date":"1510682495","viewed":210,"name":"[forked] Sound Experiment 2017-1","username":"nabr","description":"for educational purposes only\nttg [url] https://www.shadertoy.com/user/ttg[/url] ","likes":5,"published":1,"flags":8,"usePreview":0,"tags":["sound","zither","microtuning","clubnight","cubaseisforlosers"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGzr","filepath":"/media/a/08b42b43ae9d3c0605da11d0eac86618ea888e62cdd9518ee8b9097488b31560.png","previewfilepath":"/media/ap/08b42b43ae9d3c0605da11d0eac86618ea888e62cdd9518ee8b9097488b31560.png","type":"texture","channel":3,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// --- access to the image of ascii code c\n//#define C(c) U.x-=.5; T+= U.x<.0||U.x>1.||U.y<0.||U.y>1. ?vec4(0): texture( iChannel3, U/16. + fract( vec2(c, 15-c/16) / 16.))\n//#define C(c) U.x-=.5; T+= U.x<.0||U.x>1.||U.y<0.||U.y>1. ?vec4(0): textureLod( iChannel3, U/16. + fract( vec2(c, 15-c/16) / 16.), \\\n//                                                                               log2(length(fwidth(U/16.*iResolution.xy))) )\n  #define C(c) U.x-=.5; T+= U.x<.0||U.x>1.||U.y<0.||U.y>1. ?vec4(0): textureGrad(iChannel3, U/16. + fract( vec2(c, 15-c/16) / 16.), dFdx(U/16.),dFdy(U/16.) )\n#define initMsg vec4 T = vec4(0)\n#define endMsg  return length(T.yz)==0. ? 0. : T.x\n\nfloat message(vec2 U) { // to alter in the icon with the alter message\n    vec4 T = vec4(0);   // or: initMsg;\n    C(83);C(111);C(117);C(110);C(100);C(32);C(105);C(110); // message \"Sound in\"\n    return length(T.yz)==0. ? -1. : T.x; // or: endMsg;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n    //  if (iResolution.y<200.) to display only in the icon \n    if (iResolution.y<2000.) {float c=message((fragCoord/iResolution.y-vec2(.1,.2))*8.);if(c>=0.){fragColor=vec4(c);return;}}\n\n    \n    vec2 uv = fragCoord.xy / iResolution.xy;\n\tfragColor = vec4(uv,0.5+0.5*sin(iTime),1.0);\n\n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"/*\nSound Experiment\nCopyright 2017 Theron Tarigo\n*/\n\n// pure genius\n// https://www.shadertoy.com/view/MtjcWt\n\n\nconst float pi = 3.141592653589793;\n\nfloat pulse (float x, float mult) {\n  return ( x<0. ? 0. : sin(pi*x)*exp(-pi*x/mult) );\n}\n\nfloat note (float t, float freq, float decay) {\n    float f = 0.;\n    for (float q = 1.; q < 50.; q+=1.) {\n      float r = 1.;\n      f += 0.05*pulse( freq*t*q*r-12.8, 124./decay*pow(q, -0.4))/sqrt(q);\n    }\n    return f;\n}\n\nvec2 mainSound ( in int samp,float time) {\n  vec2 f = vec2(0.);\n  float s = .6;\n  int i = int(time*s);\n  float n0 = float[](   1.,  1.,    5./4.,   5./3.)[(i-i/16)%4];\n  float n1 = float[](3./2.,  4./3., 1.,    4./3.)[i%4];\n\n  \n  // added microtuning slightly out of tune ftw\n  f += note(mod(time-0./4./s,1./s), n0*440., 0.1);\n  f += note(mod(time-0.5/4.2/s,1./s), n1*440., 0.059);\n  f += note(mod(time-1./4./s,1./s), 2./n1*440.99, 0.1);\n  f += note(mod(time-1.5/4./s,1./s), n1*879.616346939, 0.06);// ~ 4310.1201/4.9\n  f += note(mod(time-3./4.0/s,1./s), n0*2652.194, 0.078); //~ 4310.1201/1.65\n \n  \n  //  stereo panarama && slighly clipping the output loud is good :)\n\n  f += vec2(.8,.42)*0.44*note(mod(time-1./8./s,1./s), n0*220., 0.01);\n  f += vec2(0.62,0.52)*0.44*note(mod(time-2./8./s,1./s), n1*110.99, 0.01);\n  f += vec2(.460,1.2)*0.65*note(mod(time-1./8./s,1./s/4.), n0*880.99, 0.1);\n  f += vec2(.90,.785)*0.65*note(mod(time-1.5/8./s,1./s/4.), n1*880., 0.1);\n  f +=vec2(.76,.76)*note(mod(time-2./4./s,.991/s), n0*110.9878, 0.2609);\n    \n  return vec2(f);\n}\n","name":"Sound","description":"","type":"sound"}]}