{"ver":"0.1","info":{"id":"M3BXzm","date":"1710378069","viewed":205,"name":"XYZ 3D Lines with Music Flash","username":"yyoru","description":"Learning to draw XYZ lines, and jumped to somewhere crazy","likes":7,"published":1,"flags":0,"usePreview":0,"tags":["wireframe","lines","icosahedron","dodecahedron","stellation"],"hasliked":0,"parentid":"l3BXzm","parentname":"Fork Dodeca - 3 Lines -"},"renderpass":[{"inputs":[{"id":"4dfGzn","filepath":"/media/a/ec8a6ea755d34600547a5353f21f0a453f9f55ff95514383b2d80b8d71283eda.mp3","previewfilepath":"/media/ap/ec8a6ea755d34600547a5353f21f0a453f9f55ff95514383b2d80b8d71283eda.mp3","type":"music","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float DrawLine(vec2 p, mat2 v, mat2 h, vec3 A, vec3 B)    \n{\n    A.zy *= v; // pitch\n    A.zx *= h; // yaw\n    B.zy *= v; // pitch\n    B.zx *= h; // yaw\n    \n    vec2 a = A.xy, \n         b = B.xy - a;\n    p -= a;\n    float hx = clamp(dot(p, b) / dot(b, b), 0., 1.);\n    return length(p - b*hx) + .01*mix(A.z, B.z, hx);     \n} \n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoords )\n{\n    vec2 R = iResolution.xy,\n         u = (fragCoords+fragCoords-R)/R.y*2.,\n         m = (iMouse.xy*2.-R)/R.y;\n    \n    float t = iTime/60.;   \n    vec4 tx = vec4(texture(iChannel0, fragCoords));\n    \n    if (iMouse.z < 1.) // not clicking \n        m = vec2(sin(t*6.2832)*2., sin(t*6.2832*2.)); \n    \n    mat2 v = mat2(cos((m.y*3.1416) + vec4(0, -1.5708, 1.5708, 0))), // pitch\n         h = mat2(cos((m.x*3.1416) + vec4(0, -1.5708, 1.5708, 0))); // yaw\n    \n    vec3 c = vec3(0), p, \n         k = 0.9*cos(tx.x*8.9)*cos(tx.x*8.9)*vec3(0.15, 0.25, 0.55) ; // RGB\n\n    \n    c += k/abs( DrawLine( u, v, h, vec3( 0, 0, 0), vec3( 1, 0, 0) ) + .01 );\n    c += k/abs( DrawLine( u, v, h, vec3( 0, 0, 0), vec3( 0, 1, 0) ) + .01 );\n    c += k/abs( DrawLine( u, v, h, vec3( 0, 0, 0), vec3( 0, 0, 1) ) + .01 );\n    \n    fragColor = vec4(0.8*c , 1);\n}","name":"Image","description":"","type":"image"}]}