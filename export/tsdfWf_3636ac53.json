{"ver":"0.1","info":{"id":"tsdfWf","date":"1606187744","viewed":358,"name":"Pen Patterns","username":"Kali","description":"Some fractal patterns with a pen-like drawing style.","likes":34,"published":1,"flags":0,"usePreview":0,"tags":["2d","fractal"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float n2D(vec2 p) {\n\n\tvec2 i = floor(p); p -= i; p *= p*(3. - p*2.);  \n\treturn dot(mat2(fract(sin(vec4(0, 1, 113, 114) + dot(i, vec2(1, 113)))*43758.5453))*\n               vec2(1. - p.y, p.y), vec2(1. - p.x, p.x) );\n}\n\nfloat fbm(vec2 p){ return n2D(p)*.533 + n2D(p*2.)*.267 + n2D(p*4.)*.133 + n2D(p*8.)*.067; }\n\nvoid radialFold(inout vec2 p, float cant, float offset) \n{\n    float d = 3.1416 / cant * 2.;\n    float at = atan(p.y, p.x);\n    float a = mod(at, d) - d * .5;\n    p = vec2(cos(a), sin(a)) * length(p) - vec2(offset, 0.);\n}\n\nfloat fractal(vec2 p)\n{\n    float time = iTime + 5.5;\n    float m = 100., s = 1.5, d = 1., t = mod(floor(time * .1 - .5), 6.);\n    for (float i = 0.; i < 12.; i++)\n    {\n        radialFold(p, 3. + t, 2. + t * 3.);\n        p *= s; d *= s;\n        m = min(m, (abs(p.y) + 2. *step(.5, fract(p.x * .02 - time * .1 + i * .05))) / d);\n    }\n    return exp(-250. * m);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord - iResolution.xy * .5) / iResolution.y;\n    uv -= (vec2(fbm(uv*16.), fbm(uv*16. + .5)) - .5)*.01; // mod by Shane, subtle perturbation to enhance ink pen feel\n    vec3 col = 1. - vec3(1., .7, 0) * fractal(uv * 2.5);\n    fragColor = vec4(col, 1.);\n}\n","name":"Image","description":"","type":"image"}]}