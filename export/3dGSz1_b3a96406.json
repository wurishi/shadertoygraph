{"ver":"0.1","info":{"id":"3dGSz1","date":"1573766528","viewed":119,"name":"weird spirals","username":"Jarazz","description":"moire artifacting stars get bigger and bigger with the number of spirals ","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["spiralartifacts"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec2 cartesian2polar(vec2 cartesian){\n\treturn vec2(atan(cartesian.x,cartesian.y),length(cartesian.xy));\n}\n\nvec2 polar2cartesian(vec2 polar){\n\treturn polar.y*vec2(cos(polar.x),sin(polar.x));\n}\n\n vec3 hsv2rgb(vec3 c)\n{\n    vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n    vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n    return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);\n}\n\nvec3 rgb2hsv(vec3 rgb) {\n \tfloat Cmax = max(rgb.r, max(rgb.g, rgb.b));\n \tfloat Cmin = min(rgb.r, min(rgb.g, rgb.b));\n \tfloat delta = Cmax - Cmin;\n\n \tvec3 hsv = vec3(0., 0., Cmax);\n\n \tif (Cmax > Cmin) {\n \t\thsv.y = delta / Cmax;\n\n \t\tif (rgb.r == Cmax)\n \t\t\thsv.x = (rgb.g - rgb.b) / delta;\n \t\telse {\n \t\t\tif (rgb.g == Cmax)\n \t\t\t\thsv.x = 2. + (rgb.b - rgb.r) / delta;\n \t\t\telse\n \t\t\t\thsv.x = 4. + (rgb.r - rgb.g) / delta;\n \t\t}\n \t\thsv.x = fract(hsv.x / 6.);\n \t}\n \treturn hsv;\n }\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n  \n    vec2 uv = (fragCoord-.5*iResolution.xy)/iResolution.y;\n  // uv/= 1.+  (iTime/2.)*2.;\n    vec2 uvPol = cartesian2polar(uv);\n    //vec3 col = 0.5 +.5*cos(iTime+uv.xyx+vec3(0,2,4));\n    vec3 col = vec3(0.,0.,0.);\n    \n    float result = sin(uv.y);\n    \n    float spiral = uvPol.y+uvPol.x/3.14159;\n    float spiral2 = uvPol.y-uvPol.x/3.14159;\n    \n   // if(mod(spiral,.25) <.125){ //(abs(uv.x- result) < 0.1){\n  //  col = hsv2rgb(vec3( mod(spiral2+iTime*.5, 1.),1.,1.));\n   // }\n    \n    float rim = (2. +sin(spiral*3.14159*iTime ));\n     col = rim*hsv2rgb(vec3( mod(spiral2+rim*.125 +iTime*.5, 1.),1.,1.))/3.;\n    \n    \n \n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}