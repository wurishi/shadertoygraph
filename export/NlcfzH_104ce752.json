{"ver":"0.1","info":{"id":"NlcfzH","date":"1662610982","viewed":160,"name":"The Andromeda Galaxy","username":"okro","description":"The Andromeda Galaxy (M31) and companion M110 on an extremely dark night observed with 6\" f/8 dob. \nBrightness is a bit exaggerated, but this captures the feeling for me.","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["galaxy","m31","andromeda","m110"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float random (vec2 st) {\n    return fract(sin(dot(st.xy,\n                         vec2(12.9898,78.233)))*\n        43752.5453123);\n}\n\n\n\nvec3 stars(in vec2 uv) \n{\n    float rnd = pow(random( uv ), 1000.0);\n    return vec3(rnd);\n}\n\nvec2 rotateUV(vec2 uv, float rotation)\n{\n    float mid = 0.0;\n    return vec2(\n        cos(rotation) * (uv.x - mid) + sin(rotation) * (uv.y - mid) + mid,\n        cos(rotation) * (uv.y - mid) - sin(rotation) * (uv.x - mid) + mid\n    );\n}\n\nfloat lens(in vec2 uv) \n{\n    return smoothstep(0.7, 0.58, distance(uv, vec2(0.0)));\n}\n\nvec3 core(vec2 uv) \n{\n    \n    float x = pow(1.0-distance(uv, vec2(0.0)), 25.0);\n\n    return vec3(x);\n}\n\n\nvec3 disk(vec2 uv)\n{\n    uv = rotateUV(uv, 0.4);\n\n\n    uv.y *= 2.6;\n    float f = smoothstep(1.0, 0.0, distance(uv, vec2(0.0)));\n    return vec3(f);\n}\n\nvec3 andromeda(vec2 uv) \n{\n    return 0.5 *core(uv) + 0.10 * disk(uv);\n}\n\nvec3 m110(vec2 uv) \n{\n    \n    float x = 0.04* pow(1.0-distance(uv, vec2(0.2, -.2)), 30.0);\n    return vec3(x);\n\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy - 0.5;\n    \n    uv.x *= iResolution.x/iResolution.y;\n    \n    // Time varying pixel color\n    vec3 col = andromeda(uv) + m110(uv) + stars(uv);\n\n    // Output to screen\n    fragColor = vec4(col*lens(uv), 1.0);\n}","name":"Image","description":"","type":"image"}]}