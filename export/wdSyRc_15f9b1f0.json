{"ver":"0.1","info":{"id":"wdSyRc","date":"1587052897","viewed":101,"name":"truchet flames","username":"Exca","description":"testing truchet tiling","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["truchet"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XsfGRn","filepath":"/media/a/1f7dca9c22f324751f2a5a59c9b181dfe3b5564a04b724c657732d0bf09c99db.jpg","previewfilepath":"/media/ap/1f7dca9c22f324751f2a5a59c9b181dfe3b5564a04b724c657732d0bf09c99db.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float hash21(vec2 p) \n{\n \treturn fract(sin(dot(p.xy ,vec2(1.9898,7.233))) * 4.5453);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy-0.5;\n    uv.y *= iResolution.y/iResolution.x;\n    uv *= (iMouse.x/20.)+1.;\n    float gsize = 2.+ cos(iTime*0.1)*1.;\n    uv*=gsize;\n    \n    float a = sin(iTime*0.15)*0.2;\n    float dx = uv.x * cos(a) - sin(a)*uv.y;\n    float dy = uv.x * sin(a) + cos(a)*uv.y;\n    \n    uv=vec2(dx,dy);\n    uv+=iTime*0.1+vec2(sin(iTime*.2), cos(iTime*0.3))*0.005;\n    \n    vec2 gx = floor(uv);\n    vec2 guv = fract(uv)-0.5;\n    \n    float n = hash21(gx);\n    if(n<0.5) guv.x*=-1.;\n    \n    vec2 c1 =  guv -vec2(0.5)*sign(guv.x+guv.y+0.001);\n    \n    float a1 = length(c1) -0.5;\n    float d =  abs(a1);\n    float ang1 = atan( c1.y,c1.x)*2./3.14;\n    float off = sin(ang1*3.14+iTime);\n    \n    if(mod(gx.x+gx.y,2.)>0.5)\n    {\n        if(n>=0.5)\n        {\n            a1=-a1;\n        }\n      \toff=sin(-ang1*3.14+iTime);   \n        \n    }\n    else if(n<0.5)\n    {\n       a1=-a1;\n    }\n    \n    vec3 c = texture(iChannel0, vec2(ang1,a1*(1.0+0.25*off) )).rgb*0.1/d*(0.5+0.4*off);\n    c = smoothstep(0.2, 1., c);\n    \n    fragColor = vec4(c,1.0);\n}","name":"Image","description":"","type":"image"}]}