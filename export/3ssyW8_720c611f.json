{"ver":"0.1","info":{"id":"3ssyW8","date":"1584690665","viewed":116,"name":"Goopulse","username":"lor","description":"drag it around :D","likes":8,"published":1,"flags":32,"usePreview":0,"tags":["pulse","goo"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{   \n    vec2 uv = fragCoord/iResolution.xy;\n    vec4 tex = texture(iChannel0,uv);\n    float a = tex.x;\n    \n    float a2 = texture(iChannel0,uv + vec2(0.0,0.01)).x;\n    \n    float shine = (0.2 - abs(a)) * 1000.0;\n    shine *= clamp(a2-a-0.1,0.0,1.0);\n    //shine += tex.z * (1.0-a) * 0.2;\n    \n    float n = round(a);\n    \n    vec3 col = \n        //vec3(1.0,0.3,0.5) * n + vec3(1.0,0.8,1.0) * (1.0-n);\n        //vec3(0.6,0.9,0.7) * n + vec3(1.0,0.3,0.5) * (1.0 - n);\n        vec3(0.6,0.9,0.7) * n;\n   \n    col += clamp(shine,0.0,1.0);\n    \n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4sf3Rn","filepath":"/media/a/0a40562379b63dfb89227e6d172f39fdce9022cba76623f1054a2c83d6c0ba5d.png","previewfilepath":"/media/ap/0a40562379b63dfb89227e6d172f39fdce9022cba76623f1054a2c83d6c0ba5d.png","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    float meltMap = texture(iChannel1,uv).x;\n    float meltMap2 = texture(iChannel1,uv + 0.5).x;\n    vec2 oldNormal = texture(iChannel0,uv).yz;\n    vec2 mousePos = (fragCoord - iMouse.xy)/iResolution.y;\n    \n    vec2 coords = (fragCoord/iResolution.y);\n    \n    float r = (sin(iTime * 6.0) + 6.0);\n    float a = clamp(length(mousePos) * r,0.0,1.0);\n    \n    float alerp = clamp(1.5-oldNormal.y * 10.0, 0.0, 1.0);\n    \n    a += 0.1;\n    \n    vec2 offset = (fragCoord + vec2(meltMap2 - 0.5,0.2 + meltMap * 2.0) * alerp + vec2(0,(1.0-alerp) * 0.5))/iResolution.xy;\n    \n    vec4 oldTex = texture(iChannel0,offset);\n    \n    oldNormal = oldTex.yz;\n    \n    vec2 normal = mousePos * r;\n    float lerp = clamp(1.0-a, 0.0, 1.0);\n    normal = normal * lerp + oldNormal * (0.99-lerp);\n    \n    a *= clamp(oldTex.x,0.0,1.0);\n    a += clamp(offset.y - 1.0,0.0,1.0);\n    \n    normal *= clamp(1.99999 - a,0.0,1.0);\n\n    fragColor = vec4(a,normal,1.0);\n}","name":"Buffer A","description":"","type":"buffer"}]}