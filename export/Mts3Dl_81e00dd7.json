{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[{"channel":0,"type":"texture","id":"4sf3Rn","filepath":"/media/a/0a40562379b63dfb89227e6d172f39fdce9022cba76623f1054a2c83d6c0ba5d.png","sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"}}],"code":"#define MOTION_BLUR\n\nfloat lineSegDist(vec2 uv, vec2 lineDir, vec2 linePoint, float r) {\n    vec2 ba = -lineDir * r;\n    vec2 pa = uv - linePoint + ba;\n    ba *= 2.0;\n    return length(pa - ba*clamp( dot(pa, ba)/dot(ba, ba), 0.0, 1.0));\n}\n\nfloat aa(float dist, float threshold)\n{\n    float pixelSize = 2.0 / iResolution.y;\n\treturn dist < threshold-pixelSize ? 0.0 : 1.0-(threshold-dist)/pixelSize;\n}\n\nfloat scene(vec2 uv, float t)\n{\n    vec2 p = vec2(sin(t*40.3), cos(t*10.0)*0.4);\n\n    vec2 v = normalize(vec2(sin(t*8.0), cos(t*8.0)));\n\tvec2 p2 = vec2(sin(1.0+t*50.0), cos(0.7+t*24.0)*0.4);\n\n    return clamp(min(\n        aa(length(uv-p), 0.05),\n    \taa(lineSegDist(uv, v, p2, 0.5), 0.05)\n        ), 0.0, 1.0);\n}\n\nfloat hash( vec2 v ) {\n    return texture(iChannel0, v, 0.0).r;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = vec2(iResolution.x/iResolution.y, 1.0) * (-1.0 + 2.0*fragCoord.xy / iResolution.xy);\n\t#ifdef MOTION_BLUR\n\t    fragColor = vec4(0.0);\n        for (float i=0.0; i<12.0; i++) {\n            float r = hash(mod(fragCoord+vec2(i,0.0), 64.0) / 64.0);\n            fragColor += (1.0-scene(uv, iTime+(1.0/58.5)*((i+r)/12.0))) * vec4(abs(uv)+0.3,0.5+0.5*sin(20.0*iTime),1.0);\n        }\n        fragColor /= 12.0;\n    #else\n\t\tfragColor = (1.0-scene(uv, iTime)) * vec4(abs(uv)+0.3,0.5+0.5*sin(iTime),1.0);\n    #endif\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"Mts3Dl","date":"1426298208","viewed":432,"name":"line motion blur - shadeADay","username":"kig","description":"Simple motion blur, #shadeADay for March 13 2015","likes":14,"published":1,"flags":0,"usePreview":0,"tags":["2d","motionblur","shadeaday"],"hasliked":0,"parentid":"","parentname":""}}