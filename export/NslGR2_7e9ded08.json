{"ver":"0.1","info":{"id":"NslGR2","date":"1616277407","viewed":152,"name":"sketch_029","username":"nepster","description":"something I was doing outside shadertoy some time ago and I didn't know how to get the music value here.\n\nI used a function from ABOB ( https://www.shadertoy.com/view/4ljGD1 )","likes":6,"published":1,"flags":0,"usePreview":0,"tags":["sin","sinwave","neon"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sXGRr","filepath":"/media/a/48e2d9ef22ca6673330b8c38a260c87694d2bbc94c19fec9dfa4a1222c364a99.mp3","previewfilepath":"/media/ap/48e2d9ef22ca6673330b8c38a260c87694d2bbc94c19fec9dfa4a1222c364a99.mp3","type":"music","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define amp 6.\n#define freq 4.\n#define PI 3.14159265359\n\nmat2 rot(float a) {\n    return mat2(cos(a),-sin(a),\n                sin(a),cos(a));\n}\n\n// function from https://www.shadertoy.com/view/4ljGD1\nfloat getAmp(float frequency) { return texture(iChannel0, vec2(frequency / 512.0, 0)).x; }\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord.xy / iResolution.xy * 2.-1.;\n    float t = -iTime;\n    vec3 c = vec3(0.);\n    \n    float spec = getAmp(40.);\n    \n    uv = rot(PI*.25+t*.2)*uv;\n\n    float dy = 0.;\n    for(float i=1.; i<=3.; i++) {\n        uv = abs(uv);\n        uv = rot(PI*.25)*uv;\n        float sx = amp*(amp*spec) * sin(freq * uv.x - 3.*t);\n        sx += sin(freq * uv.x * 2.1 + t)*4.;\n        sx += sin(freq * uv.x * 1.7 + t*1.26)*4.5;\n        sx += sin(freq * uv.x * 4.1 + t*.67)*5.;\n        sx += sin(freq * uv.x * 3.6 + t*4.2)*2.4;\n        uv = abs(uv);\n        uv = rot(PI*.25+t)*uv;\n        uv.y += i*.1;\n        dy = 100. / (50. * abs(30. * uv.y - sx));\n        \n        \n        c += vec3((uv.x + .27)*dy, .27*dy, dy*abs(sin(t*i)))*clamp(5.*spec, .2, 5.);\n        c = vec3(c);\n        \n    }\n    \n    //c = vec3((uv.x + .27)*dy, .27*dy, dy*abs(sin(t)))*clamp(5.*spec, .2, 5.);\n \n    //c = vec3(dy);\n \n    fragColor = vec4(c,1.0);\n}","name":"Image","description":"","type":"image"}]}