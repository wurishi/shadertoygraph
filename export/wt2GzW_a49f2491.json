{"ver":"0.1","info":{"id":"wt2GzW","date":"1558719916","viewed":697,"name":"Random Circles Gen","username":"onepride","description":"random circles generation","likes":14,"published":1,"flags":0,"usePreview":0,"tags":["noise","circle","random"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define float2 vec2\n#define float3 vec3\n#define float4 vec4\n#define lerp   mix\n#define frac   fract\n#define fmod   mod\n\nfloat  noise(float param)   { return frac(sin(param) * 43758.937545312382); }\n\nfloat2 noise2(float2 param) { return frac(sin(param) * 43758.937545312382); }\n\nfloat3 circle(float2 uv, float seed)\n{\n    float rnd = noise(seed);\n    float period = 2.0 + 2.0*rnd;\n    float age = fmod(iTime + seed, period);\n    float nAge = age / period;\n    float t = floor(iTime - age + 0.5) + seed;\n    \n    float2 n = noise2(float2(t, t + 42.34231));\n    \n    float grad = length((uv*2.0-1.0) - n);\n    \n    nAge = sqrt(nAge);\n    \n    //shape\n    float r = 1.0;\n    r *= smoothstep(0.3*nAge, 0.8*nAge, grad);\n    r *= 1.0-smoothstep(0.8*nAge, 1.0*nAge, grad);\n    \n    //opacity\n    r *= sin(nAge*3.1415);\n    //r *= 1.0-nAge*nAge;\n    \n    float3 clr = float3(1.0, 0.5, 0.3);\n    \n    float3 clrBase = float3(1.0, 0.8, 0.3);\n    float3 clrOpposite = float3(1.0) - clrBase;\n    \n    return float3(r) * mix(clrBase, clrOpposite, 0.5 + sign(n.x-0.5) * (0.5+0.5*n.y) );\n    \n    return float3(r);// * clr * (0.3+0.7*frac(100.0*float3(n.x, n.y, 1.0-n.x*n.y)));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord / iResolution.xy; \n    uv.x *= iResolution.x / iResolution.y;\n\n    float3 c = float3(0.0);\n    c.rgb  = circle(uv, 0.321517);\n    c.rgb += circle(uv, 1.454352);\n    c.rgb += circle(uv, 2.332126);\n    c.rgb += circle(uv, 3.285356);\n    c.rgb += circle(uv, 4.194621);    \n    \n    //tone mapping\n    float lum = dot(c.rgb, float3(0.3333));\n    if(c.r>1.0) c.r = 2.0 - exp(-c.r + 1.0);\n    if(c.g>1.0) c.g = 2.0 - exp(-c.g + 1.0);\n    if(c.b>1.0) c.b = 2.0 - exp(-c.b + 1.0);\n    \n    fragColor.rgb = c*0.7;\n}\n","name":"Image","description":"","type":"image"}]}