{"ver":"0.1","renderpass":[{"outputs":[{"channel":0,"id":"4dfGRr"}],"inputs":[],"code":"//#define N_IT       1025600.0\n#define N_IT       256.0\n#define R_MAX      5000.0\n#define PI         3.1415926535\n#define FACT       1000.0\n\nfloat getIterations(in vec2 c) {\n\tfloat it = 0.0;\n\tvec2 z = vec2(0.0);\n\tfor (float i=0.0; i<N_IT; i++) {\n\t\tif (length(z) < R_MAX*FACT) {\n\t\t\tz = vec2(z.x*z.x - z.y*z.y, 2.0*z.x*z.y)/FACT + c;\n\t\t\tit += 1.0;\n\t\t}\n\t}\n    it += 1.0 - log2(0.7*log2(length(z)/FACT));\n\treturn sqrt(it/70.0);\n}\n\nvec4 calcFractColor(in vec2 p) {\n\tfloat r = 2.0*PI*getIterations(p);\n\tfloat f = PI*2.0/6.0;\n\treturn 0.3+0.7*vec4(cos(r+2.0*f), cos(r+f), cos(r), 1.0);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n\tvec2 center = vec2(0.444455, 0.375305);\n\t//vec2 center = vec2(-1.37298, 0.085733);\n\tfloat zoom = 0.000002*FACT+ exp(-mod(iTime, 17.5)/1.0+log(FACT));\n\t//float zoom = 0.000002*FACT+ exp(-iTime/1.0+log(FACT));\n\t\n\tvec2 p = -1.1+2.2*fragCoord.xy / iResolution.yy;\n\tp += vec2(-1.1,0.0);\n\tp -= center;\n\tfloat rCenter = length(p);\n\tp *= zoom;\n\tp += center*FACT;\n\tfloat r = length(p)/FACT, f;\n\tvec4 col = vec4(0.0, 0.0, 0.0, 1.0);\n\t\n\tcol += calcFractColor(p);\n\t\n\tf = 1.0-0.2*smoothstep(1.0, 1.01, r)*(1.0-smoothstep(1.01, 1.02, r));\n\tcol *= f;\n\t\n\tfloat rat = 0.01;\n\tf = 0.2+0.8*smoothstep(rat, rat*1.01, rCenter);\n\tcol *= f;\n\t\n\tfragColor = col;\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"Msf3R8","date":"1362198890","viewed":989,"name":"Mandelbrot Test","username":"brimborium","description":"Mandelbrot Set with a zoom to vec2(-1.37298, 0.085733)","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["mandelbrot","zoom"],"hasliked":0,"parentid":"","parentname":""}}