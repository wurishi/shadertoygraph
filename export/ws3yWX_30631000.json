{"ver":"0.1","info":{"id":"ws3yWX","date":"1601843866","viewed":76,"name":"mandelbrot from z^0 to z^3","username":"Jinkweiq","description":"Mandelbrot in 2d from z^0 to z^3. Runs at fine at 4k an a pretty bad computer. Completes a full iteration every 20 sec.","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["mandelbrot"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define ITERS 200\n#define pi 3.14159\n\n//from https://www.shadertoy.com/view/XtlGD8\nvec2 cartToPol(vec2 z){\n\treturn vec2(length(z),atan(z.y,z.x));\n}\n\nvec2 polToCart(vec2 p){\n\treturn vec2(p.r*cos(p.g),p.r*sin(p.g));\n}\nvec2 powz(vec2 p , float power){\n    return vec2(pow(p.r,power),power*mod(p.g,2.*pi));\n}\n// from https://iquilezles.org/articles/palettes\nvec3 pal( in float t, in vec3 a, in vec3 b, in vec3 c, in vec3 d )\n{\n    return a + b*cos( 6.28318*(c*t+d) );\n}\nvec3 mandel(vec2 c) {\n    vec2 p = vec2(0.);\n    for (int i=0; i<ITERS; i++) {\n        p = polToCart(powz(cartToPol(p),sin(-iTime / 10. * pi) + 2.));\n        p += c;\n        if (length(p) > 1000.) {\n            return pal(float(i) * -.06248,vec3(0.5),vec3(0.5),vec3(2.0,1.0,0.0),vec3(0.5,0.20,0.2));\n        }\n    }\n    return vec3(0.);\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (vec2(1.5, 1.5) * (2.*fragCoord-iResolution.xy)/iResolution.y) + vec2(-.5, 0.);\n    vec3 col = mandel(uv);\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}