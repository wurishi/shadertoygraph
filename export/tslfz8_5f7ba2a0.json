{"ver":"0.1","info":{"id":"tslfz8","date":"1587712714","viewed":159,"name":"NEON SIGN","username":"os0450","description":"Day 24: NEON SIGN.","likes":9,"published":1,"flags":0,"usePreview":0,"tags":["dailycodingchallenge"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float line(vec2 p, vec2 a, vec2 b) {\n    vec2 ba = b-a, pa = p-a;\n    float h = min(1.0, max(0., dot(pa, ba)/dot(ba, ba)));\n    return length(pa - h*ba);\n}\n\nfloat rand(float p) {\n    return fract(sin(p)*1324.322432);\n}\n\nfloat rand(vec2 p) {\n    return fract(sin(dot(p, vec2(3127.3213, 89089.890)))*1324.322432);\n}\n\nmat2 rot(float a) {\n    float s = sin(a), c = cos(a);\n    return mat2(c, -s, s, c);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 p = (2.*fragCoord-iResolution.xy)/iResolution.yy;\n    vec2 q = mod(p*4.0, 1.)-0.5;\n    vec2 id = floor(p*4.0);\n\n    \n    float l;\n    float br = 0.0;\n    float cycle = floor(iTime/2.)+1.;\n    float phase = (0.25-pow(fract(iTime/2.)-0.5, 2.0))-rand(id*iTime)*0.1;\n    \n    vec4[12] dirArr = vec4[](\n        vec4(-0.35, 0.4, -0.05, 0.4),\n        vec4(0.05, 0.4, 0.35, 0.4),\n        vec4(-0.35, 0.0, -0.05, 0.0),\n        vec4(0.05, 0.0, 0.35, 0.0),\n        vec4(-0.35, -0.4, -0.05, -0.4),\n        vec4(0.05, -0.4, 0.35, -0.4),\n        vec4(-0.4, 0.35, -0.4, 0.05),\n        vec4(-0.4, -0.05, -0.4, -0.35),\n        vec4(0.0, 0.35, 0.0, 0.05),\n        vec4(0.0, -0.05, 0.0, -0.35),\n        vec4(0.4, 0.35, 0.4, 0.05),\n        vec4(0.4, -0.05, 0.4, -0.35));\n    \n    for(int i=0; i<12; i++) {\n        vec4 dir = dirArr[i];\n        l = line(q, dir.rg, dir.ba);\n        //l = line(q, vec2(-0.3, 0.0), vec2(0.3, 0.0));\n        br += 2.0*exp(-20.0*l)*smoothstep(0.0, 0.1, step(0.5, rand(id*cycle+float(i)))*phase);\n    }\n    \n    vec3 col = br*normalize(vec3(rand(cycle*3.), rand(cycle*5.), rand(cycle*7.)));\n    col *= exp(-0.8*length(p));\n\n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}