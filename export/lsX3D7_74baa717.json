{"ver":"0.1","renderpass":[{"outputs":[{"channel":0,"id":"4dfGRr"}],"inputs":[{"channel":0,"type":"texture","id":"Xsf3Rn","filepath":"/media/a/cbcbb5a6cfb55c36f8f021fbb0e3f69ac96339a39fa85cd96f2017a2192821b5.png","sampler":{"filter":"nearest","wrap":"clamp","vflip":"false","srgb":"false","internal":"byte"}},{"channel":1,"type":"texture","id":"XdXGzn","filepath":"/media/a/3083c722c0c738cad0f468383167a0d246f91af2bfa373e9c5c094fb8c8413e0.png","sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"}}],"code":"#define M_PI 3.1415926535897931\n\nconst float nyanStretch = .1;\nconst float nyanSpeed = 3.;\nconst vec2 nyanTexOffset = vec2(.25, .5);\nfloat bailout = 2.;\nconst int maxiter = 50;\n\t\nvec2 cplxmul(vec2 a, vec2 b) {\n\treturn vec2(a.x * b.x - a.y * b.y, a.x * b.y + a.y * b.x);\n}\n\nmat4 q4(vec4 q) {\n\treturn mat4(\n\t\tq.w, q.x, q.y, q.z,\n\t\t-q.x, q.w, q.z, -q.y,\n\t\t-q.y, -q.z, q.w, q.x,\n\t\t-q.z, q.y, -q.x, q.w\n\t\t);\n}\n\nvec4 rotate4(vec4 src, vec4 lq, vec4 rq) {\n\treturn (q4(lq) * q4(src) * q4(rq))[0];\n}\n\nvec4 samplef(vec2 p) {\n\t\n\tvec4 init = vec4(p, .5, .5);\n\tvec4 angle1 = texture(iChannel1, vec2(cos(.01 * iTime ), sin(.01 * iTime)));\n\tvec4 angle2 = texture(iChannel1, vec2(cos(.01 * iTime + .1), sin(.01 * iTime + .1)));\n\tinit = rotate4(init, angle1, angle2);\n\t//rotate and translate, or translate and rotate\n\tvec2 c = init.xy;\n\tvec2 z = init.zw;\n\t\n\tfloat iter = 0.;\n\tfor (int i = 0; i < maxiter; ++i) {\n\t\tz = cplxmul(z, z) + c;\n\t\tif (dot(z,z) > bailout*bailout) break;\n\t\titer += 1.;\n\t}\n\tfloat fraciter = -(log2(log(bailout)) - log2(log(length(z))));\n\t\n\titer = iter - (1. - fraciter);\n\t\n\tvec2 channelCoord = nyanTexOffset\n\t\t+ z * vec2(nyanStretch, -1.) \n\t\t+ vec2(nyanSpeed, 1.) * vec2(iTime + sin(iTime), cos(iTime * 1.1));\n\t\n\t//mag up\n\tconst float flickerMagn = 5.;\n\tchannelCoord *= step(abs(cos(1./sin(.5*M_PI + 1.5 * iTime - .5))), .9) * (1. - 1. / flickerMagn) + 1. / flickerMagn;\n\t\n\tchannelCoord = fract(channelCoord);\t//nyan cat has no wrap texparam =(\n\tvec4 color = texture(iChannel0, channelCoord);\n\t\n\t//flicker\n\tcolor *= 2.;\n\tcolor -= 1.;\n\tcolor *= step(abs(cos(1./sin(.5*M_PI + iTime))), .9) * 2. - 1.;\n\tcolor += 1.;\n\tcolor /= 2.;\n\t\n\treturn color;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n\tvec2 aspectRatio = vec2(float(iResolution.x) / float(iResolution.y), 1.);\n\tvec2 uv =(2. * fragCoord.xy / iResolution.xy - vec2(1., 1.)) * aspectRatio;\n\n\tfragColor = samplef(uv);\n\t/*\n\tvec2 duv_dx = dFdx(uv);\n\tvec2 duv_dy = dFdy(uv);\n\t\n\tfragColor = .25 * (\n\t\tsample(uv)\n\t\t+ sample(uv + duv_dx * .5)\n\t\t+ sample(uv + duv_dy * .5)\n\t\t+ sample(uv + duv_dx * .5 + duv_dy * .5)\n\t);\n\t*/\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"lsX3D7","date":"1371773160","viewed":195,"name":"MandelNyanCatBrot","username":"thenumbernine","description":"amazing","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["mandelbrot","nyancat"],"hasliked":0,"parentid":"","parentname":""}}