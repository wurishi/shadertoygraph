{"ver":"0.1","info":{"id":"7l33zf","date":"1636446308","viewed":55,"name":"faster lava lamp","username":"Moustave","description":"uwu","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["fast"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\nvec2 resolution=iResolution.xy;\nfloat time=iTime;\n\n\n\n    precision highp float;\n\n    const int         n =        15;\n    float             size =    0.1;\n    float             width =   0.6;\n    float             height =  0.9;\n    float             speed =  0.03;\n    float             len =    0.02;\n    float             blur  =  0.01;\n    float             seed =  12.9;\n    //float             clmp =   0.5;\n    float ranx;\n    float seedy;\n    float color=1.;\n    \n\n    width/=2.;\n    height/=2.;\n    vec2 uv = ( gl_FragCoord.xy / resolution.xy );\n    float ratio = resolution.x/resolution.y;\n    vec3 col = 0.9*vec3(1.,vec2(0.2,0.4) + 0.6*cos(time+uv.xy+vec2(0,3.14)));\n    float dis = 1.0;\n    vec2 pos;\n    vec2 pos2;\n    uv.x *= ratio;\n\n    for (int i=0;i<n;i++){\n\n        ranx = fract(sin(dot(vec2(float(i)+seed,float(i)+seed), vec2(12.9898, 78.233))) * 43758.5453);\n\n        pos.x=sin(float(i)+ranx)*width+0.5;\n        pos.x*=ratio;\n        pos2.x=pos.x;\n\n        //circles\n        float yoffset=len/speed;\n        float power=0.5+0.5*(float(i+1)/float(n));\n        pos.y=power*abs(pow(cos(float(i)*(ranx)+seed*pos.x+time*speed*(1.+float(i))),3.))*height*2.;\n        pos2.y=power*abs(pow(cos(float(i)*(ranx)+seed*pos.x+(time-yoffset)*speed*(1.+float(i))),3.))*height*2.;\n        dis *= smoothstep(size*(1.-blur),size*(1.+blur),length(uv-pos));\n        dis *= smoothstep(size*(1.-blur),size*(1.+blur),length(uv-pos2));\n            //rectangles\n        float mid = (0.5*(pos.y+pos2.y));\n        float stretch = abs(mid-pos.y);\n        dis *= step(1.,step(size,abs(uv.x-pos.x))+step(stretch,abs(uv.y-mid)));\n        \n        //float lenx = 1.*\n        //        abs(pos.x-uv.x);\n        //float leny = 1.*\n        //        abs(mid-uv.y);\n        //color *= 1.-((1.-smoothstep(size-blur,size+blur,\n        //    lenx))\n        //    *(1.-smoothstep(stretch-blur,stretch+blur,\n        //    leny)));\n\n        }\n//dis*=step(clmp,color);\nif(uv.y>(0.15+0.05*sin(time)+0.05*sin(time+10.*uv.x))){\n    fragColor = vec4( col, 1.0 )*(1.-dis);\n}\nelse {fragColor = vec4(col,1.);}\n\n}","name":"Image","description":"","type":"image"}]}