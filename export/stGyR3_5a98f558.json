{"ver":"0.1","info":{"id":"stGyR3","date":"1662026944","viewed":83,"name":"airship effect","username":"Wally869","description":"FF2 PR airship effect","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["displacement"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XdX3Rn","filepath":"/media/a/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg","previewfilepath":"/media/ap/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"Xsf3Rn","filepath":"/media/a/cbcbb5a6cfb55c36f8f021fbb0e3f69ac96339a39fa85cd96f2017a2192821b5.png","previewfilepath":"/media/ap/cbcbb5a6cfb55c36f8f021fbb0e3f69ac96339a39fa85cd96f2017a2192821b5.png","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n    \n    float influence = 0.5 * (sin(iTime * 0.5) + 1.0);\n    \n    vec3 sky_color = vec3(0.4, 0.4, 0.9);\n    vec3 sep_color = vec3(0.8, 0.8, 0.9);\n\n\n    float displacement = 0.5;\n\n    vec2 modified_uv = vec2(uv.x, uv.y * (1.0 + displacement * influence));\n\n    float mask = modified_uv.y < 1.0 ? 1.0 : 0.0;\n    float dist = 1.0 - abs(modified_uv.y - 1.0);\n    dist *= dist;\n    \n    modified_uv.y = pow(modified_uv.y, 1.25);\n    //modified_uv.y = 1.0 - modified_uv.y;\n    \n    \n    vec3 tex_col = texture(iChannel0, modified_uv).xyz;\n\n    vec3 col = tex_col * mask;\n    col += (1.0 - mask) * sky_color;\n    \n    col = (sep_color * dist + (1.0 - dist) * col) * influence + (1.0 - pow(influence, 0.6)) * col;\n    \n    \n    vec2 center_shadow = vec2(0.5, 0.35);\n    float dist_shadow = pow(pow(center_shadow.x - modified_uv.x, 2.0) + pow(center_shadow.y - modified_uv.y, 2.0), 0.5);\n    \n    float is_airship_shadow = dist_shadow < 0.05  ? 1.0 : 0.0;\n    col = col * (1.0 - is_airship_shadow) + is_airship_shadow * col * 0.6;\n    \n    // airship as square  \n    float is_airship = (uv.x > 0.45 && uv.x < 0.55 && uv.y > 0.45 && uv.y < 0.55) ? 1.0 : 0.0;\n    \n    vec3 tex2_col = texture(iChannel1, modified_uv).xyz;\n\n    col = is_airship * vec3(0.9, 0.2, 0.1) + (1.0 - is_airship) * col;\n    \n    // Output to screen\n    fragColor = vec4(col, 1.0);\n    \n    \n    //fragColor = vec4(tex_col * yep + (1.0 - yep) * col, 1.0);\n    //fragColor = vec4(dist, 0.0, 0.0, 1.0);\n}","name":"Image","description":"","type":"image"}]}