{"ver":"0.1","info":{"id":"Xl2cDG","date":"1509996090","viewed":144,"name":"Thue-Morse Sequence Thing","username":"Ykulvaarlck","description":"Lines of the thue-morse offset by a constant number, and the difference between the middle lines and the rest of the lines.","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["fractal"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float hw(float a)\n{\n    float c = 0.0;\n    \n    for(int i = 0; i < 64; i++)\n    {\n        a = floor(a);\n        if(a == 0.0) break;\n        c += step(0.5, mod(a, 2.0));\n        a = a / 2.0;\n    }\n    \n    return c;\n}\n\nfloat fe(float a) // todo; find exponent (largest i such that 2^i divides a)\n{\n    return 0.0;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float wr = 128.0;\n    float hr = 64.0;\n    float np = 2.0;\n    float tw = 1.0;\n    \n    float it = iTime * tw;\n    it = floor(it) + smoothstep(0.5, 1.0, mod(it, 1.0));\n    \n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    vec2 ouv = uv;\n    uv.y = 1.0 - uv.y - 0.5;\n    uv.x *= wr;\n    float bw = hw(uv.x);\n    \n    uv.x += floor(uv.y * hr) * it;\n    uv.x = hw(uv.x);\n    uv.x += bw * step(0.5, ouv.x);\n    uv.x = mod(uv.x, np);\n    uv.x /= (np - 1.0);\n\tfragColor = vec4(uv.xxx, 1.0);\n}\n","name":"Image","description":"","type":"image"}]}