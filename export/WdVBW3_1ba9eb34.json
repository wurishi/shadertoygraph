{"ver":"0.1","info":{"id":"WdVBW3","date":"1608112264","viewed":354,"name":"test sound frequency","username":"jcyuan","description":"practice, because chrome browser does not allow the music to be played automatically, so you have to click the pause button on the iChannel0, then click play button again to take effect.","likes":2,"published":3,"flags":0,"usePreview":0,"tags":["sound"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sXGzn","filepath":"/media/a/a6a1cf7a09adfed8c362492c88c30d74fb3d2f4f7ba180ba34b98556660fada1.mp3","previewfilepath":"/media/ap/a6a1cf7a09adfed8c362492c88c30d74fb3d2f4f7ba180ba34b98556660fada1.mp3","type":"music","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float bdBar(in vec2 p, in vec4 r, float s) {\n    vec4 v4 = vec4(r.xy, 1. - (r.xy + r.zw));\n    vec4 f = smoothstep(v4 - s, v4 + s, vec4(p, 1. - p));\n    return f.x * f.y * f.z * f.w;\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    vec2 uv = (2. * fragCoord - iResolution.xy) / iResolution.y;\n\n    const float st = 1. / 32.;\n    vec3 col = vec3(0.);\n    \n    for (int i = 0; i < 32; i++) {\n        float freq = clamp(pow(texture(iChannel0, vec2(float(i) / 32., 0.)).x, 1.5), 0., 1.);\n        float cst = float(i) * st;\n        float bar = bdBar(uv + .5, vec4(cst, 0., .01, freq), .002);\n        col += vec3(freq, cst, 0.) * bar;\n    }\n    \n    col = pow(col, vec3(.454545));\n    \n    fragColor = vec4(col, 1.);\n}","name":"Image","description":"","type":"image"}]}