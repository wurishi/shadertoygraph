{"ver":"0.1","info":{"id":"lsdSzS","date":"1460083888","viewed":247,"name":"A Sphere and its shadow","username":"jake","description":"No raytracing involved, haha :)","likes":11,"published":1,"flags":0,"usePreview":0,"tags":["phong","sphere"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage(out vec4 O, vec2 U)\n{\n\tvec2\n        R  = iResolution.xy,\n        uv = U / max(R.x, R.y),\n        c  = vec2(.5,.275),\n       \tq  = (uv-c)/.5,\n       \tm  = vec2(5.*cos(iTime/3.)*sin(iTime/2.), 5.*sin(iTime/11.)*cos(iTime/7.));\n\n    float\n      \tr = .2,\n        d2 = dot(q,q),\n        zd = r*r-d2,\n        mm = dot(m,m),\n        p0 = (1.+5.*pow(.5+.75*sin((iTime+1.)/5.)*cos(iTime), 2.))+mm/500.,\n      \tz = sqrt(abs(zd));\n\n\tvec3\n\t\tl      = vec3(m,8.*(.1+.3*sin(iTime))),\n\t\tp      = vec3(q,z),\n        p2l    = l-p,\n        p2ldir = normalize(p2l),\n        n      = normalize(p);\n    \n    float i    = dot(p2ldir, n),\n          j    = pow(abs(i), i>0.?p0:(1./p0));\n          j    += abs(max((.1*p0-1.0), 0.)*((j*i>0.)?pow(abs(i), 10.):0.0));\n    \n    O = vec4(j);\n}","name":"Image","description":"","type":"image"}]}