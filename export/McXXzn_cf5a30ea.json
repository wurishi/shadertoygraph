{"ver":"0.1","info":{"id":"McXXzn","date":"1704838495","viewed":123,"name":"volumetric study #2840","username":"Elsio","description":"j","likes":11,"published":1,"flags":0,"usePreview":0,"tags":["domainrepetition","red","ball"],"hasliked":0,"parentid":"XcjGWc","parentname":"domain rep study #2421"},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define box(p, d) length(max(abs(p) - d, 0.))\n#define erot(p, ax, ro) mix(dot(p, ax) * ax, p, cos(ro)) + sin(ro) * cross(ax, p)\n#define h31(v) fract(sin(dot(v, vec3(12.9898,78.233,101.233)))*43758.5453123)\n\nvec3 nearestFace(vec3 p) {\n     vec3 a = abs(p);\n     return step(a.yzx, a.xyz) * step(a.zxy, a.xyz) * sign(p);\n}\n\nvec3 id;\n\nvec2 map(vec3 p) {\n    id = floor(p) + .5;\n    float bola, me, red;\n    vec3 pos  = p - id,\n         neig = id + nearestFace(pos),\n         npos = p - neig;\n    \n    pos = erot(\n              pos, \n              normalize(vec3(cos(iTime), sin(iTime*2.), sin(iTime))), \n              h31(id) * 100.\n          );\n    \n    bola = length(npos) - .44;\n    me   = box(pos, vec3(.3, .08, .08)) - .004;\n    red  = length(pos + vec3(cos(iTime * 6.)*.2, 0, 0)) - .04;;\n    return vec2(min(me, bola), red);\n}\n\n\n\nvoid mainImage(out vec4 o, vec2 u) {\n    vec3 R = iResolution, q, p,\n         D = (vec3(u, R.y) - R/2.) / R.y;\n         \n    float d, f, i, j, t = iTime * .1;\n    vec2 s;\n    \n    o *= i; \n    D = erot(D, normalize(vec3(cos(t), sin(t*.3), sin(t))), t);\n\n    while(i++ < 64.) {\n    \n        q = p + d * D;\n        q.z += iTime;\n        s = map(q);\n        \n        s = abs(s) - .001, \n        \n        f = 2. - s.x * 1e3, \n        f > .0 \n            ? o += f / d * i / 1120. \n            : o;\n        \n        if(s.y <.045) {\n            o.r -= .4 * f / d;\n            break;\n        }\n        \n        d += max(s.x, 1e-3);\n    }\n}","name":"Image","description":"","type":"image"}]}