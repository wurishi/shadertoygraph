{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"// vincent francois - cyanux/2014\n// Creative Commons Attribution-NonCommercial-NoDerivs 3.0 Unported License (CC BY-NC-ND 3.0)\n//\n// http://glsl.heroku.com/e#18193.0\n\n#define D 5.0\n\n// hsv2rgb - iq / https://www.shadertoy.com/view/MsS3Wc\nvec3 hsv2rgb( in vec3 c ) {\n    vec3 rgb = clamp( abs(mod(c.x*6.0+vec3(0.0,4.0,2.0),6.0)-3.0)-1.0, 0.0, 1.0 );\n\treturn c.z * mix( vec3(1.0), rgb, c.y);\n}\nvec3 rX(vec3 v, float t) {\n\tfloat COS = cos(t);\n\tfloat SIN = sin(t);\n\treturn vec3(v.x,SIN*v.z+COS*v.y,COS*v.z-SIN*v.y);\n}\nvec3 rY(const vec3 v, const float t) {\n\tfloat COS = cos(t);\n\tfloat SIN = sin(t);\n\treturn vec3(COS*v.x-SIN*v.z, v.y, SIN*v.x+COS*v.z);\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n\tvec2 M = 0.05 * vec2(cos(iTime), sin(iTime)) + vec2(0.3, 0.0);\n\tvec2 ar = vec2(iResolution.x/iResolution.y, 1.0);\n\tvec2 uv = 0.3 * ar * (fragCoord.xy / iResolution.xy - 0.5);\n\tvec3 ro = -rY(rX(vec3(0.0, 0.0, D) , M.y), M.x);\n\tvec3 rd = normalize(rY(rX(vec3(uv, 1.0), M.y), M.x));\n\tvec2 z;\n\tfloat d;\n\tfloat dz;\n\tint N;\n\n\tvec2 c = 2.0 * vec2(rd.x/rd.z, rd.y/rd.z);\n\n\tfor(int n = 0; n < 32; n++)\n\t{\n\t\td = length(ro) - 0.1;\n\t\tz = vec2(ro.x/ro.z, ro.y/ro.z);\t\n\t\tfor(int n = 0; n < 32; n++)\n\t\t{\n\t\t\tz = vec2(z.x*z.x-z.y*z.y,2.0*z.x*z.y) + c;\n\t\t\tN = n;\t\t\t\n\t\t\tdz = dot(z,z); // length(z);\n\t\t\tif(dz > 2.0)\n\t\t\t\tbreak;\n\t\t}\t\t\n\t\tif(dz > 2.0)\n\t\t\tbreak;\t\n\t\tro += rd * 0.5 * d;\n\t}\t\n\tfragColor.rgb = hsv2rgb(vec3(rd.x - rd.y, (1.0 - float(N) / 32.0) + 4.0 * ro.z, 1.0 - d));\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"XsXSRf","date":"1404763133","viewed":247,"name":"JuliaTunnel","username":"cyanux","description":"Monday is cool too :) [Chrome & Firefox OK]","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["julia","tunnel"],"hasliked":0,"parentid":"","parentname":""}}