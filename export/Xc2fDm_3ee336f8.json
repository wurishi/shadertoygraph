{"ver":"0.1","info":{"id":"Xc2fDm","date":"1725035848","viewed":53,"name":"Pentagon tiling 02","username":"shadertoyjiang","description":"Animations are displayed when the mouse is on the left side of the canvas.\n\n[url=https://www.shadertoy.com/view/lcSfW1]Pentagonal radial tiling[/url]","likes":9,"published":1,"flags":0,"usePreview":0,"tags":["tiling","pentagonal"],"hasliked":0,"parentid":"Xf2BWw","parentname":"A type of pentagonal tiling"},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// 2024年8月30日\n// 第2种五边形平铺\n\n#define rot(a) mat2(cos(a), -sin(a), sin(a), cos(a))\n#define PI 3.14159265358979\n\nvec2 k = vec2(.866, 1), n = vec2(.866, .5), p = vec2(.288675, .5);\n\nvec2 cent6(vec2 u) {\n        vec2 i, f;\n        i = floor(u / k + .5);\n        i.y += step(.5, mod(i.x, 2.)) * sign(u.y - i.y) * .5;\n        i *= k;\n        f = u - i;\n        if (dot(abs(f) - p, n) > 0.) i += sign(f) * n;\n        return i;\n}\n\nfloat dist6(vec2 u) {\n        u -= cent6(u);\n        u = abs(u);\n        u -= p;\n        vec2 m = n;\n        m.x = -m.x;\n        if (dot(u, m) < 0.) u = reflect(u, m);\n        return abs(u.y);\n}\n\nvoid mainImage(out vec4 O, vec2 U) {\n        O = vec4(.5);\n        vec2 R = iResolution.xy,\n                u = 3. * (U + U +.1- R) / R.y;\n        vec2 a = vec2(.1, .4), c = vec2(0, .5), b = a + (c - a) * 2.;\n        float d = dist6(u);\n        u -= cent6(u);\n        u = u * rot(.3+  (iMouse.x<R.x*.55 ? iTime*.5 : 0.));\n        for (int i = 0; i < 3; i++) {\n                d = min(d, length(vec2(max(u.x, 0.), u.y)));\n                u = u * rot(2. * PI / 3.);\n        }\n        O = .8 - vec4(.005 / d);\n}","name":"Image","description":"","type":"image"}]}