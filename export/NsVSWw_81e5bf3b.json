{"ver":"0.1","info":{"id":"NsVSWw","date":"1634978976","viewed":356,"name":"hex tiling test","username":"drschizzo","description":"2d hex truchet\n3d truchet here : https://www.shadertoy.com/view/fsySWG","likes":16,"published":3,"flags":0,"usePreview":0,"tags":["truchet","tiling","hex"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"/*float hex(vec2 p){\n    p=abs(p);\n\n    float d=dot(p,normalize(vec2(1.,1.73)));\n    float c=max(d,p.x);\n    return c;\n}*/\n\nfloat hash21(vec2 a){\n    a+=3.44;\n    a=fract(a*vec2(47.43,1.32));\n    a+=dot(a,a+2.23);\n    return fract(a.x*a.y);\n}\n    \nvec4 hexuv(in vec2 uv,float size){\n    uv*=size;\n    vec2 r=vec2(1,1.73);\n    vec2 a=mod(uv+r*.5,r)-r*.5;\n    vec2 b=mod(uv,r)-r*.5;\n    \n    vec2 gv=dot(a,a)<dot(b,b)?a:b;\n    vec2 id=uv-gv;\n    return vec4(gv.x,gv.y,id.x,id.y);\n}\n\nfloat getLines(vec4 huv){\n    float c=length(vec2(abs(huv.x)-.9,huv.y))-.28;\n    float w=.12;\n    float blur=.02;\n    c=smoothstep(w+blur,w , abs(c-.5) );\n    float l=smoothstep(w+blur,w,abs(huv.y));    \n    return min(c+l*4.5*dot(huv.xy,huv.xy),1.);\n}\n/*\nWIP trying to figure how to maintain continuity\nvec3 getColoredLines(vec4 huv,vec2 uv){\n        float w=.12;///(pow(length(uv*2.),.5));\n\n    float c=length(vec2(huv.x-.9,huv.y))-.28;\n    c=step(abs(c-.5),w);\n    vec3 cl=vec3(1.,0,0)*c;\n    c=length(vec2(-huv.x-.9,huv.y))-.28;\n    c=step(abs(c-.5),w);;\n    vec3 cr=vec3(0,1.,0)*c;\n    \n   vec3 cc=cl+cr;\n    \n    float l=abs(huv.y)-w/2.<w/2.?1.:0.;\n     l=clamp(l*4.5*dot(huv.xy,huv.xy),0.,1.);\n    return vec3(0,0,l)+cc;\n    \n}*/\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 t=vec2(iTime/10.);\n    vec2 uv = (fragCoord-.5*iResolution.xy)/iResolution.y;\n//      vec2 m=(iMouse.xy-.5*iResolution.xy)/iResolution.y;\n  //  float d=smoothstep(0.,.5,length(m-uv))+.5;\n    vec4 huv=hexuv(uv+t,10.);\n    float shift=hash21(huv.zw+floor(iTime));\n    float angle = shift<.33 ? 3.14/3. : shift<.66 ? -3.14/3. : 0.;\n    \n    mat2 r=mat2(cos(angle),sin(angle),-sin(angle),cos(angle));\n    huv.xy=huv.xy*r;\n    \n    vec3 col=vec3(getLines(huv));\n    col*=.5+.5*sin(vec3(.54,.3,.7)*iTime);\n    \n    //vec3 col=vec3(getColoredLines(huv,uv));\n    \n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}