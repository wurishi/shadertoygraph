{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"#define PI 3.14159265358979323846264338327\n\nfloat hash( float n )\n{\n    return fract(sin(n)*43758.5453);\n}\n\nvec2 hash( vec2 p )\n{\n    p = vec2( dot(p,vec2(127.1,311.7)), dot(p,vec2(269.5,183.3)) );\n\treturn fract(sin(p)*43758.5453);\n}\n\nvec2 rotate(vec2 v, float alpha)\n{\n\tfloat vx = v.x*cos(alpha)-v.y*sin(alpha);\n\tfloat vy = v.x*sin(alpha)+v.y*cos(alpha);\n\tv.x = vx;\n\tv.y = vy;\n\treturn v;\n}\n\nfloat distancePointLine(vec2 linePoint, vec2 lineVector, vec2 point)\n{\n\tvec2 linePointToPoint = point-linePoint;\n\tfloat projectionDistance = dot(lineVector,linePointToPoint);\n\treturn length(lineVector*projectionDistance-linePointToPoint);\n}\n\nfloat sinm(float t, float vmin, float vmax)\n{\n\treturn (vmax-vmin)*0.5*sin(t)+vmin+(vmax-vmin)*0.5;\n}\n\nfloat loop(float theta, float dist)\n{\n\tfloat t = iTime;\n\tfloat radius = 0.7525;\n\tfloat thickness = 0.5;\n\t\n\ttheta = mod(theta,2.0*PI)-PI;\n\ttheta *= 0.15*(2.0*sin(2.0*t));\n\tfloat theta2 = atan(dist, theta);\n\t\n\t// theta += 0.10952*(theta2+PI);\n\tfloat dist2 = abs(radius-length(vec2(theta,dist)));\n\treturn thickness/dist2;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tfloat radius = 0.125;\n\tfloat thickness = 0.075;\n\tfloat t = iTime;\n\t\n\tfloat n = 7.0;\n\t\n    vec2 p = fragCoord.xy/iResolution.xx;\n\tvec2 c = vec2(0.5,0.5*iResolution.y/iResolution.x);\n\tvec2 pc = p-c;\n\tfloat theta = atan(pc.y, pc.x);\n\t// float dist = dot(pc.y, pc.x);\n\t\n\t// float dist = abs(radius*sinm(n*theta,0.25,sinm(10.0*t,2.5,0.75))-length(pc));\n\tfloat dist = abs(radius-length(pc));\n\t\n\t//theta /= PI;\n\tdist /= radius;\n\t// pc.x = mod(pc.x,2.0*radius)-radius;\n\tfloat dist2 = abs(radius-length(pc));\n\t// float distInv = thickness/dist2;\n\tfloat distInv = loop(n*theta,dist);\n\t// float distInv = loop(p.x,p.y);\n\tvec3 color = distInv*vec3(0.15,0.35,0.25);\n\tfragColor = vec4(0.02*color,1.0);\n}\n","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"4df3W7","date":"1371500949","viewed":272,"name":"Knots","username":"arthursw","description":"stars","likes":8,"published":1,"flags":0,"usePreview":0,"tags":["2d"],"hasliked":0,"parentid":"","parentname":""}}