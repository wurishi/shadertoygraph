{"ver":"0.1","info":{"id":"3dXfWj","date":"1589038096","viewed":303,"name":"all in Common","username":"FabriceNeyret2","description":"hack for golfing:\nmainImage is factored once for all in Common, but still knows in which Buffer it runs.\n\nNote that the [url]https://www.shadertoy.com/view/3dfBDj[/url] variant do same with really empty buffers (but 24 chars longer).","likes":0,"published":3,"flags":32,"usePreview":0,"tags":["tuto","golf"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"int B=0;\nvoid mainImage(out vec4 O, vec2 U) { mi }","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"#define R iResolution.xy//\n#define mi                               \\\n    O = texture(iChannel0,U/R);          \\\n    int y = int(3.*U.y/R.y);             \\\n    O =   B>1 ?   vec4( y>1, 0,0,0)      \\\n        : B>0 ? O+vec4(0, y>0&&y<2, 0,0) \\\n              : O+vec4(0,0, y<1, 0);","name":"Common","description":"","type":"common"},{"inputs":[],"outputs":[{"id":"4dXGR8","channel":0}],"code":"int B=2;\nvoid mainImage(out vec4 O, vec2 U) { mi }","name":"Buffer A","description":"","type":"buffer"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"XsXGR8","channel":0}],"code":"int B=1;\nvoid mainImage(out vec4 O, vec2 U) { mi }","name":"Buffer B","description":"","type":"buffer"}]}