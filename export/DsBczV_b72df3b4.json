{"ver":"0.1","info":{"id":"DsBczV","date":"1687885480","viewed":52,"name":"somekind of intersection","username":"enzzz","description":"several ways of intersection","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["practice"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define S(a, b, t) smoothstep(a, b, t)\n#define sat(x) clamp(x, 0., 1.)\n\n\nvec2 within(vec2 uv, vec4 rect)\n{\n    return (uv - rect.xy) / (rect.zw - rect.xy);\n}\n\nvec4 nice_color(vec2 uv)\n{\n    vec3 col = 0.5 + 0.5 * cos(iTime + uv.xyx + vec3(0., 2., 4.));\n    return vec4(col, 1.);\n}\n\n\nvec4 intersect1(vec2 uv)\n{\n    uv -= 0.5;\n    vec4 col = vec4(0.);\n    float blur = .22;\n    \n    float d1 = length(uv);\n    float s1 = S(.35, .35 - blur, d1);\n    float d2 = length(uv - vec2(.15, -.25) * .6);\n    float s2 = S(.4, .4 - blur, d2);\n    \n    float mask = sat(s1 - s2);\n    \n    col = mix(col, nice_color(uv), S(.2, .3, mask));\n        \n    return col;\n}\n\n\nvec4 intersect2(vec2 uv)\n{\n    uv -= .5;\n    \n    vec4 col = vec4(0.);\n    float blur = .01;\n    \n    float d1 = length(uv);\n    float s1 = S(.35, .35-blur, d1);\n    float d2 = length(uv - vec2(.1, -.2) *.7);\n    float s2 = S(.4, .4 - blur, d2);\n    \n    float mask = sat(s1- s2);\n    \n    col = mix(col, nice_color(uv), mask);\n    return col;\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    \n    uv.x *= iResolution.x / iResolution.y;\n\n    vec4 col = vec4(0.);\n    \n    vec4 c1 = intersect1(within(uv, vec4(0., 0., .5, .5)));\n    vec4 c2 = intersect2(within(uv, vec4(.5, 0., 1., .5)));\n    \n    col = mix(col, c1, c1.a);\n    col = mix(col, c2, c2.a);\n\n    fragColor = col;\n}","name":"Image","description":"","type":"image"}]}