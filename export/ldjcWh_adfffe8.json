{"ver":"0.1","info":{"id":"ldjcWh","date":"1491944625","viewed":380,"name":"STAD 0006","username":"tpen","description":"Entry six, circles strike back.\n\nBased on http://i.imgur.com/Yh35xhH.gif","likes":14,"published":1,"flags":0,"usePreview":0,"tags":["procedural","2d","circles","stad","copyagif","shadereveryday"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// https://www.shadertoy.com/view/ldjcWh\n// based on http://i.imgur.com/Yh35xhH.gif\n\nconst vec3 COLOR_FG = vec3(ivec3(77, 255, 74)) / 255.0;\nconst vec3 COLOR_BG = vec3(0.0);\n\nconst float NUMBER_OF_CIRCLES = 9.0;\nconst float SPEED_RATIO = 0.2;\n\nconst float BAR_WIDTH = 1.0 / 3.0;\nconst float BAR_MARGIN = (1.0 - BAR_WIDTH) * 0.5;\nconst float MARGIN = 30.0 / 270.0;\n\nconst float PI = 3.14159265359;\n\nfloat aastep(float threshold, float value)\n{\n    float aaf = fwidth(value) * 0.5;\n    return smoothstep(threshold-aaf, threshold+aaf, value);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = 2.0 * fragCoord.xy / iResolution.xy - vec2(1.0);\n    uv.x *= iResolution.x / iResolution.y;\n    \n    float a = 1.0-mod(0.25+0.5+atan(uv.y, uv.x)*0.5/PI,1.0);\n    float d = length(uv);\n    \n    float c = 0.0;\n    \n    if (d > MARGIN && d < (1.0 - MARGIN))\n    {\n        float dd = (d - MARGIN) / (1.0 - MARGIN * 2.0);\n        float qq = floor(dd * NUMBER_OF_CIRCLES) / NUMBER_OF_CIRCLES;\n        float qq0 = floor(dd * NUMBER_OF_CIRCLES) / (NUMBER_OF_CIRCLES-1.0);        \n        float rr = fract(dd * NUMBER_OF_CIRCLES);\n        if (rr > BAR_MARGIN && rr < (1.0-BAR_MARGIN))\n        {\n            float rrr = 1.0-abs(2.0*(rr - BAR_MARGIN)/BAR_WIDTH-1.0);\n            float speed = (11.0 - qq0*10.0) * SPEED_RATIO;\n            float aa = mod(a - iTime * speed - iTime * 0.05, 1.0); \n            if (aa > 0.5)\n            {\n        \t\tc = aastep(1.0-aa,rrr*0.5);\n            }\n        }\n    }\n    \n\tfragColor = vec4(mix(COLOR_BG, COLOR_FG, c), 1.0);\n}\n\n// version history\n// 1.0 - original version [tpen]\n// 1.1 - timing fix [void room]\n","name":"Image","description":"","type":"image"}]}