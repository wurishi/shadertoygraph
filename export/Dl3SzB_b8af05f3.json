{"ver":"0.1","info":{"id":"Dl3SzB","date":"1685515963","viewed":268,"name":"paper material","username":"lalaoopybee","description":"for a game","likes":17,"published":1,"flags":32,"usePreview":0,"tags":["texture","greenscreen","sketch","paper","composite"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.1415927\n\n#define K 6\n#define SIGMA .9\n\nfloat gaussian(vec2 pos){\n    float left=1./(2.*PI*SIGMA*SIGMA);\n    float right=exp(-dot(pos, pos)/(2.*SIGMA*SIGMA));\n    return left*right;\n}\n\nfloat hash12(vec2 p)\n{\n\tvec3 p3  = fract(vec3(p.xyx) * .1031);\n    p3 += dot(p3, p3.yzx + 33.33);\n    return fract((p3.x + p3.y) * p3.z);\n}\n\nvec2 hash22(vec2 p)\n{\n\tvec3 p3 = fract(vec3(p.xyx) * vec3(.1031, .1030, .0973));\n    p3 += dot(p3, p3.yzx+33.33);\n    return fract((p3.xx+p3.yz)*p3.zy);\n\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord){\n    fragColor=vec4(.8+.07*hash12(fragCoord));\n    \n    vec2 coord=fragCoord+hash22(fragCoord)*.5;\n    \n    vec2 uv=coord/iResolution.xy;\n    vec4 sum=vec4(0.);\n    for(int i=0;i<2*K+1;i++){\n        for(int j=0;j<2*K+1;j++){\n            vec2 offset=vec2(i-K, j-K);\n            float weight=gaussian(offset);\n            \n            vec2 offsetUV=offset/iResolution.xy;\n            vec4 col=texture(iChannel0, uv+offsetUV);\n            sum+=vec4(col.rgb, 1.)*weight;\n        }\n    }\n    fragColor.rgb*=sum.rgb/sum.a;\n    \n    float sz=30.;\n    float val=mod(fragCoord.y, 30.);\n    float ft=step(fragCoord.y, iResolution.y-2.*sz);\n    ft*=smoothstep(2.5, 0., val);\n    fragColor.rgb*=1.-vec3(.6*ft, .6*ft, .0);\n    \n    float fl=1.-smoothstep(0., 2.5, abs(fragCoord.x-3.*sz));\n    fragColor.rgb*=1.-vec3(0., .7*fl, .6*fl);\n    \n    uv*=1.-uv.yx;\n    float vig=uv.x*uv.y*22.;\n    fragColor*=pow(vig, .17);\n    \n    if(iMouse.z>0.) fragColor=texture(iChannel0, fragCoord/iResolution.xy);\n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[{"id":"4dXGR8","channel":0}],"code":"void mainImage(out vec4 fragColor, in vec2 fragCoord){\n    float dist=length(fragCoord-iMouse.xy);\n    float diff=abs(dist-45.);\n    fragColor=vec4(1., 1., step(1., diff), 1.);\n}","name":"Buffer A","description":"","type":"buffer"}]}