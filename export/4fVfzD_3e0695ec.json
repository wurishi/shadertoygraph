{"ver":"0.1","renderpass":[{"outputs":[{"channel":0,"id":"4dfGRr"}],"inputs":[],"code":"const float TURN = (2. * acos(-1.));\n#define ZIG(x) 1. - abs(1. - 2. * fract(x))\n#define HEX(x) vec3((ivec3(x) >> ivec3(16, 8, 0)) & 255) / 255.\n\n// how much to smooth the color stripes\n#define HARD_EDGES 0\n#define COLOR_SMOOTHING 0.08\n\nvec3 color(float x, float dist) {\n    const vec3 c0 = HEX(0x8040E8);\n    const vec3 c1 = HEX(0xffc000);\n    const vec3 W = vec3(1);\n    const vec3 B = HEX(0x010a31);\n    float xf = fract(x);\n    const float BW = 0.1;\n#if HARD_EDGES\n    float b0 = 0.;\n    float b1 = step(0., xf - BW);\n    float b2 = step(0., xf - 0.5);\n    float b3 = step(0., xf - 0.5 - BW);\n#else\n    float b0 = smoothstep(0., min(COLOR_SMOOTHING / dist, 0.25), xf);\n    float b1 = smoothstep(0., min(COLOR_SMOOTHING / dist, 0.25), xf - BW);\n    float b2 = smoothstep(0., min(COLOR_SMOOTHING / dist, 0.25), xf - 0.5);\n    float b3 = smoothstep(0., min(COLOR_SMOOTHING / dist, 0.25), xf - 0.5 - BW);\n#endif\n    return (\n      W  * (b0 - b1) +\n      c0 * (b1 - b2) +\n      B  * (b2 - b3) +\n      c1 * (b3 - b0 + 1.0)\n    );\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float t = fract(iTime / 30.);\n    float t1 = smoothstep(0.5, 0.55, t);\n    float t2 = smoothstep(0.97, 1.0, t);\n    // why is this not a const\n    float scale = 0.75 * min(iResolution.x, iResolution.y);\n    vec2 uv = (2. * fragCoord - iResolution.xy) / scale;\n    float dist = length(uv);\n    const float ZOOMLOOPS = 8.;\n    float lDist = 4.0 * log(dist) + ZOOMLOOPS * t1;\n    float sDist = step(ZOOMLOOPS / 2., mod(lDist, ZOOMLOOPS));\n    float angle = atan(uv.x, uv.y) / TURN;\n    \n    vec3 col = color(\n        ((-1. + 2. * sDist) * t2 * 13.) +\n        ((-1. + 2. * sDist) * 0.7) * max(0.0, \n            cos(3.8 * (0.5 - fract(\n                lDist\n            )))\n        ) + 32. * angle,\n        dist\n    );\n    col = mix(\n        vec3(0), col, step(.1, dist)\n    );\n    \n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"4fVfzD","date":"1733831461","viewed":60,"name":"swirl-illusion","username":"HaleyHalcyon","description":"Is it moving?\n\nOh yeah okay now it is","likes":9,"published":1,"flags":0,"usePreview":0,"tags":["illusion","opticalillusion","perception","visualperception"],"hasliked":0,"parentid":"","parentname":""}}