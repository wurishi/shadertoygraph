{"ver":"0.1","info":{"id":"tdVBzV","date":"1607569939","viewed":64,"name":" RandomMaze","username":"treize","description":" RandomMaze","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["2d","noise","random"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n   \tvec2 uv =  ( 2.*fragCoord - iResolution.xy ) / iResolution.y;\n    float  t = iTime * acos(-1.),a,b,c;\n    RandomMaze(uv, vec2(5.0),a,b,c);\n    fragColor = vec4(a,b,c,1.0);\n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"float random_seed1(float val)\n{\n\treturn fract(sin(val) * 43758.5453123);\n}\nfloat random_seed2(vec2 uv)\n{\n\treturn fract(sin(dot(uv.xy, vec2(12.9898, 78.233))) * 43758.5453123);\n}\nfloat random_seed3(vec3 p)\n{\n\treturn fract(sin(dot(p.xyz, vec3(12.9898, 78.233, 54.641))) * 43758.5453123);\n}\nvoid Random(vec2 uv, vec2 scale, out float iOut, out float fOut)\n{\n\tvec2 p = uv * scale;\n\tiOut = random_seed2(floor(p));\n\tfOut = random_seed2(fract(p));\n}\n\n//RandomMaze\nvec2 truchetPattern(vec2 uv, float index)\n{\n\tindex = fract(((index - 0.5) * 2.0));\n\tif (index > 0.75)\n\t{\n\t\tuv = 1.0 - uv;\n\t}\n\telse if (index > 0.5)\n\t{\n\t\tuv = vec2(1.0 - uv.x, uv.y);\n\t}\n\telse if (index > 0.25)\n\t{\n\t\tuv = 1.0 - vec2(1.0 - uv.x, uv.y);\n\t}\n\treturn uv;\n}\n\nvoid RandomMaze(vec2 uv, vec2 scale, out float Line, out float Circle, out float Truchet)\n{\n\tfloat I, F;\n\tRandom(uv, scale, I, F);\n\tvec2 p = uv * scale;\n\tvec2 tile = truchetPattern(fract(p), I);\n\tLine = smoothstep(tile.x - 0.3, tile.x, tile.y) - smoothstep(tile.x, tile.x + 0.3, tile.y);\n\tCircle = (step(length(tile), 0.6) - step(length(tile), 0.4)) + (step(length(tile - 1.0), 0.6) - step(length(tile - 1.0), 0.4));\n\tTruchet = step(tile.x, tile.y);\n}\n","name":"Common","description":"","type":"common"}]}