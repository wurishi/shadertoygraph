{"ver":"0.1","info":{"id":"XcjBWy","date":"1725459568","viewed":23,"name":"Sea and waves","username":"bogdanmikh","description":"Waves and sky","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["sea"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.1415926535  \n\nfloat plotY(vec2 st, float size, float pos){\n  return step(pos - size, st.y) -\n         step(pos + size, st.y);\n}\n\nvec3 lineAsixY(float posLine, float size, vec3 color) {\n    vec2 st = gl_FragCoord.xy / iResolution.xy;\n    float pct = plotY(st, size, posLine);\n    vec3 vColor = pct * color;\n    return vec3(vColor);\n}\n\nfloat plotX(vec2 st, float size, float pos){\n  return step(pos - size, st.x) -\n         step(pos + size, st.x);\n}\n\nvec3 lineAsixX(float posLine, float size, vec3 color) {\n    vec2 st = gl_FragCoord.xy / iResolution.xy;\n    float pct = plotX(st, size, posLine);\n    vec3 vColor = pct * color;\n    return vec3(vColor);\n}\n\nfloat plotSin(vec2 st, float sinX, float weight){\n  return step(abs(sinX - st.y), weight);\n}\n\nvec3 sinLine(float newPosLineY, float h, float w, \n  float speed, float frequency, vec3 color) {\n    vec2 st = gl_FragCoord.xy / iResolution.xy * frequency * 6.;\n    float y = sin(st.x + (iTime * speed)) * h + newPosLineY;\n    float pct = plotSin(st, y, w);\n\n    vec3 vColor = color * pct;\n    return vec3(vColor);\n}\n\nfloat plotSky(vec2 st, float size, float pos){\n  return step(pos - size, st.y) -\n         step(pos + size, st.y);\n}\n\nvec3 skyNight(float posLine, float size, vec3 color) {\n    vec2 st = gl_FragCoord.xy / iResolution.xy;\n    float pct = plotY(st, size, posLine);\n    vec3 vColor = pct * color;\n    return vec3(vColor);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord) {\n    // sky:\n    vec3 color = vec3(1.);\n    vec3 sky = skyNight(1., 0.5, color);\n    // end sky\n    \n    //waves:\n    float speed = 4.;\n    vec3 colorWave = vec3(0., 0.05, 1.0);\n    \n    float posLine1 = 5.;\n    float h1 = 2.;\n    float w1 = 0.5;\n    float frequency1 = 11.;\n    vec3 wave1 = sinLine(posLine1, h1, w1, speed, frequency1, colorWave);\n    \n    float posLine2 = 13.;\n    float h2 = 1.5;\n    float w2 = 0.4;\n    float frequency2 = 10.;\n    vec3 wave2 = sinLine(posLine2, h2, w2, speed, frequency2, colorWave);\n    \n    float posLine3 = 25.;\n    float h3 = 2.5;\n    float w3 = 0.3;\n    float frequency3 = 11.;\n    vec3 wave3 = sinLine(posLine3, h3, w3, speed, frequency3, colorWave);\n    // end wawes\n    \n    // start sea\n    vec3 colorSea = vec3(0., 0., 1.);\n    vec3 sea = lineAsixY(0.2, 0.3, colorSea);\n    // end sea\n   \n    vec3 result = vec3(mix(sky, wave1, 0.5) * 3.); \n    result = vec3(mix(result, wave2, 0.5) * 3.);\n    result = vec3(mix(result, wave3, 0.5) * 3.);\n    result =  vec3(mix(result, sea, 0.1) * 3.);\n    \n    fragColor = vec4(result, 1.);\n}\n","name":"Image","description":"","type":"image"}]}