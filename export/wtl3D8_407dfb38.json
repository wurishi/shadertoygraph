{"ver":"0.1","info":{"id":"wtl3D8","date":"1556250012","viewed":141,"name":"FinalProjectCGK2019","username":"jackysiek","description":"Blackhole (Galaxy) by David. I K (01082170024) and Jacky. S (01082170040)","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["davidhabsarahareva"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sf3Rn","filepath":"/media/a/0a40562379b63dfb89227e6d172f39fdce9022cba76623f1054a2c83d6c0ba5d.png","previewfilepath":"/media/ap/0a40562379b63dfb89227e6d172f39fdce9022cba76623f1054a2c83d6c0ba5d.png","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGzn","filepath":"/media/a/0c7bf5fe9462d5bffbd11126e82908e39be3ce56220d900f633d58fb432e56f5.png","previewfilepath":"/media/ap/0c7bf5fe9462d5bffbd11126e82908e39be3ce56220d900f633d58fb432e56f5.png","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//Changed Galaxy by David Kase & Jacky Siek\n//--Galaxy-- Informatics 2017 Universitas Pelita Harapan\n\nconst float RETICULATION = 3.;  // mengeluarkan tekstur debu, alasannya karena cocok aja\nconst float NB_ARMS = 5.;       // jumlah lengan, bagian luar blackholenya\nconst float ARM = 3.;         // kontras (bagian luar)\nconst float COMPR = .1;         // kompresi (bagian dalam)\nconst float SPEED = .2;\t\t\t// percepatan rotasi\nconst float GALAXY_R = 1./2.;\t// arah rotasi galaksi berputar\nconst float BULB_R = 1./2.5;\t// bentuk radius\nconst vec3 GALAXY_COL = vec3(5.0,.9,0.); //(1.,.8,.5); // radius galaksi\nconst vec3 BULB_COL   = vec3(1.,1.0,1.0); // warna radius\nconst float BULB_BLACK_R = 3./9.; \t\t// radius berwarna hitam\nconst vec3 BULB_BLACK_COL   = vec3(0,0,0); // warna hitam\nconst vec3 SKY_COL    = .6*vec3(.1,.3,.5); \t// efek tekstur langit\n\t\t\n#define Pi 3.1415927\n#define t iTime\n\n// --- base noise\nfloat tex(vec2 uv) // masukan tekstur\n{\n\tfloat n = texture(iChannel0,uv).r; // Abstract 1 (dibawah)\n\t\n#define MODE 3  // kind of noise texture\n#if MODE==0         // unsigned (tidak tertandatangani)\n\t#define A 2.\n\treturn n;\n#elif MODE==1       // signed (tertanda)\n\t#define A 3.\n\treturn 2.*n-1.;\n#elif MODE==2       // bulbs (lampu)\n\t#define A 3.\n\treturn abs(2.*n-1.); // mode abstrak\n#elif MODE==3       // wires (kabel)\n\t#define A 1.5\n\treturn 1.-abs(2.*n-1.); // mode abstrak (2)\n#endif\n}\n\n\n// --- perlin turbulent noise + rotation\nfloat noise(vec2 uv) //suara (tetapi tidak ada dikarenakan terjadi kesalahan)\n{\n\tfloat v=0.;\n\tfloat a=-SPEED*t,\tco=cos(a),si=sin(a);  // kecepatan arah pergerakan (jarum jam)\n\tmat2 M = mat2(co,-si,si,co);\n\tconst int L = 7;\n\tfloat s=1.;\n\tfor (int i=0; i<L; i++)\n\t{\n\t\tuv = M*uv;\n\t\tfloat b = tex(uv*s);  // tekstur\n\t\tv += 1./s* pow(b,RETICULATION); // pola atau pengaturan untuk si hole tersebut\n\t\ts *= 2.;\n\t}\n\t\n    return v/2.;\n}\n\nbool keyToggle(int ascii) // variable inputnya\n{\n\treturn (texture(iChannel2,vec2((.5+float(ascii))/256.,0.75)).x > 0.);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) // inti detailsnya\n{\n\tvec2 uv = fragCoord.xy/iResolution.y-vec2(.8,.5);\n\tvec3 col;\n\t\n\t// peregangan spiral dengan jarak\n\tfloat rho = length(uv); // koordinat kutub\n\tfloat ang = atan(uv.y,uv.x); // posisi atau letak jarak\n\tfloat shear = 2.*log(rho); // spiral logaritmik\n\tfloat c = cos(shear), s=sin(shear); // pemotongan\n\tmat2 R = mat2(c,-s,s,c);  // mekatronikanya\n\n\t// galaxy profile\n\tfloat r; // disk\n\tr = rho/GALAXY_R; float dens = exp(-r*r); // graphics panelnya\n\tr = rho/BULB_R;\t  float bulb = exp(-r*r); // bentuk radius\n\tr = rho/BULB_BLACK_R; float bulb_black = exp(-r*r); // bentuk dan warna radius\n\tfloat phase = NB_ARMS*(ang-shear); // pemotongan bagian lengan\n\t// arms = spirals compression\n\tang = ang-COMPR*cos(phase)+SPEED*t; // kompresi dan kecepatan\n\tuv = rho*vec2(cos(ang),sin(ang)); // posisi dan letak\n\t// stretched texture must be darken by d(new_ang)/d(ang)\n\tfloat spires = 1.+NB_ARMS*COMPR*sin(phase); //bagian dan kompresi\n\t// pires = mix(1.,sin(phase),ARM);\n\tdens *= .7*spires;\t\n\t\n\t// gaz texture\n\tfloat gaz = noise(.09*1.2*R*uv); // suara \n\tfloat gaz_trsp = pow((1.-gaz*dens),2.); // transpirasi\n\n\t// stars\n\t//float a=SPEED*t, co=cos(a),si=sin(a); \n\t//mat2 M = mat2(co,-si,si,co);\n\t// adapt stars size to display resolution\n\tfloat ratio = .8*iResolution.y/iChannelResolution[0].y;\n\tfloat stars1 = texture(iChannel1,ratio*uv+.5).r, // M*uv // Abstract 2 (dibawah)\n\t      stars2 = texture(iChannel0,ratio*uv+.5).r,\n\t\t  stars = pow(1.-(1.-stars1)*(1.-stars2),5.);\n//stars = pow(stars,5.);\n\t\n\t// keybord controls (numbers)\n\tif (keyToggle(49)) gaz_trsp = 1./1.7; // transpirasi\n\tif (keyToggle(50)) stars = 0.; // tekstur bintang\n\tif (keyToggle(51)) bulb = 0.; // bentuk\n\tif (keyToggle(52)) dens = .3*spires; // grafika atau dimensi\n\t\n\t// mix all\t\n\tcol = mix(SKY_COL,\n\t\t\t  gaz_trsp*(1.7*GALAXY_COL) + 1.2*stars, \n\t\t\t  dens);\n\tcol = mix(col, 2.*BULB_COL,1.2* bulb);\n\n\tcol = mix(col, 1.2*BULB_BLACK_COL, 2.0*bulb_black);\n\n\t\t\n\tfragColor = vec4(col,1.);\n}","name":"Image","description":"","type":"image"}]}