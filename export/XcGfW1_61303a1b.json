{"ver":"0.1","renderpass":[{"outputs":[{"channel":0,"id":"4dfGRr"}],"inputs":[],"code":"#define d 10.\n#define GridSize 4.\n#define StepSize  1.\n#define t clamp((2. * cos(iTime)),0.,1.)\n#define Camera vec3(0,0,cos(iTime))\nvec3 TriplexDivision(vec3 a, vec3 b){\n    \n    float r1 = length(a);\n    float theta1 = atan(a.y, a.x); \n    float phi1 = acos(a.z / r1); \n\n    \n    float r2 = length(b);\n    float theta2 = atan(b.y, b.x);\n    float phi2 = acos(b.z / r2);  \n\n  \n    float r = r1 / r2;\n    float theta = theta1 - theta2;\n    float phi = phi1 - phi2;\n\n   \n    return r * vec3(sin(phi) * cos(theta), sin(phi) * sin(theta), cos(phi));\n}\nvec2 Project(vec3 p){\n    return vec2(p.x/(d - p.z),p.y/(d-p.z)) * d;\n}\nvec2 ProjectOrtho(vec3 p){\n    return vec2(p.x,p.y);\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    \n    vec2 uv = 4.*(fragCoord + fragCoord - iResolution.xy)/iResolution.y;\n    vec2 Mouse = 4. *(iMouse.xy + iMouse.xy - iResolution.xy)/iResolution.y;\n    vec3 col = vec3(0);\n    float angle = iTime;\n    mat2 MouseX = mat2(cos(-Mouse.x),-sin(-Mouse.x),sin(-Mouse.x),cos(-Mouse.x));\n    mat2 MouseY = mat2(cos(-Mouse.y),-sin(-Mouse.y),sin(-Mouse.y),cos(-Mouse.y));\n    for(float x = -GridSize;x<=GridSize;x += StepSize){\n        for(float y = -GridSize;y<=GridSize;y+= StepSize){\n            for(float z = -GridSize;z<=GridSize;z+= StepSize){\n                vec3 p = (vec3(x,y,z));\n                vec3 TransformedVector = TriplexDivision(vec3(5,0,0),p);\n                p = mix(p,TransformedVector,t);\n                 \n                p.xz *= MouseX;\n                p.yz *= MouseY;\n                p-= Camera;\n                float a = length(Project(p)-uv) - .02;\n                if(a < 0.){\n                col = abs(vec3(cos(length(p)),.5*sin(length(p)),0));\n                col.b+= max(dot(normalize(vec3(Mouse,5.)),p),.1);\n                }\n                \n            }\n        }\n    }\n    \n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"XcGfW1","date":"1733982580","viewed":44,"name":"Triplex Experiment","username":"SnackEater","description":"fun","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["3d","fractal"],"hasliked":0,"parentid":"","parentname":""}}