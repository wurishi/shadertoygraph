{"ver":"0.1","info":{"id":"ss3fWj","date":"1664358848","viewed":166,"name":"Black Hole Renderer","username":"gcgac","description":"WARNING: MAY TRIGGER MOTION SICKNESS\nMove around a black hole...","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["raymarcher","blackhole","hole","black","spacetime"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec3 rgb;\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ){\n    float cam_tilt = sin(iTime*1.2);\n    vec3 bh_pos = vec3(0.0,0.0,0.0);\n    float bh_rad = 4.0;\n    float bh_mass = 0.0015;\n    float gravity = 9.0;\n    vec2 uv = (fragCoord-.5*iResolution.xy)/iResolution.y;\n    vec2 temp_uv = uv;\n    uv.x = cos(cam_tilt)*temp_uv.x-sin(cam_tilt)*temp_uv.y;\n    uv.y = sin(cam_tilt)*temp_uv.x+cos(cam_tilt)*temp_uv.y;\n    vec3 vel = normalize(vec3(uv,1));\n    bool acc = false;\n    float hit = 5.0;\n    int ahit = 0;\n    vec3 ray = vec3(cos(iTime*0.5)*5.0,sin(iTime)*6.0,-20.0);\n    while ((acc == false) && hit > 0.1 && (hit<18.0) && ahit == 0){\n        hit = length(ray-bh_pos)-bh_rad;\n        float r = hit*hit;\n        if (hit<6.0 && abs(ray.y)<0.05){\n            ahit = 1;\n        }\n        float force = gravity*bh_mass/r;\n        vel += (bh_pos-ray)*force;\n        vel = normalize(vel)/1.0;\n        ray += vel/4.0;\n    }\n    if (hit<0.1){\n        rgb = vec3(0,0,0);\n    }else if(ahit == 1){\n        rgb = vec3(1.0/(6.0-hit),0.2/(6.0-hit),0);\n    }else{\n        if(mod(ray.y,3.0)<1.5){\n            rgb = vec3(1,0,0);\n        }else{\n            rgb = vec3(0,0,0);\n        }\n    }\n    fragColor = vec4(rgb,1.0);\n}","name":"Image","description":"","type":"image"}]}