{"ver":"0.1","info":{"id":"WsdSR8","date":"1571424654","viewed":124,"name":"Heart function","username":"nurof3n","description":"A nice little heart ","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["heart"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float f(vec2 uv) {\n    float t = atan(uv.y, uv.x);\n    float r = length(uv);\n    if(t > .0)\n    \tt = -t;\n \treturn r - (.6 + sin(t) * sin(t + .75) + fract(sin(t*.8)) + cos(t) - .6*(pow(abs(cos(t)), 4.)));       \n}\n\nvec2 grad2(vec2 uv) {\n \tvec2 h = vec2( 0.001, 0.0 );\n    return vec2(f(uv+h.xy) - f(uv-h.xy),\n                f(uv+h.yx) - f(uv-h.yx)) / (2.0*h.x);\n}\nfloat sdf(vec2 uv, vec2 g) {\n \tfloat v = f(uv);\n    float de = v/length(g);\n    return de; \n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (2.*fragCoord - iResolution.xy)/iResolution.y;\n    uv *= 3.;\n    uv = vec2(-uv.y, uv.x);\t//90 rotation\n    uv.x += .75;\n    uv *= (abs(sin(3.*iTime)) / 15. + 1.);\n    vec3 color;\n    //color = mix( vec3(.8, .33, .3), vec3(1.), smoothstep(.0, .05, length(uv) - f(uv)) );\t//edges not properly drawn\n    \n    vec2 g = grad2(uv);\n    float de = sdf(uv, g);\n    float eps = 20. / iResolution.y;\n    color = mix(vec3(.8, .33, .3), vec3(1.), smoothstep(.0, eps, de));\t//for isosurface do smoothstep with abs(de)\n    \n    //Uncomment for many hearts!\n    /*\n    vec2 uv2 = mod(uv * 18. + vec2(.8, 1.5), vec2(3.)) - vec2(3.);\n    uv2.x += 2.;\n    uv2.y += 1.5;\n    \n    vec2 g2 = grad2(uv2);\n    float de2 = sdf(uv2, g2);\n    if(color == vec3(.8, .33, .3))\n    \tcolor = mix(vec3(.8, .33, .3), vec3(1.), smoothstep(.0, 2.*eps, de2));\n\t*/\n\t\n    \n   \tuv.x -= .75;\n    color *= (7. - pow(length(uv), .7)) * vec3(.3, .1, .2);\n    fragColor = vec4(color,1.0);\n}","name":"Image","description":"","type":"image"}]}