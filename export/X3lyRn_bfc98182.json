{"ver":"0.1","info":{"id":"X3lyRn","date":"1725730034","viewed":50,"name":"Edges effect","username":"bogdanmikh","description":"Edges effect","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["blur","edges"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    vec2 uv = fragCoord / iResolution.xy;\n    \n    vec4 originalColor = texture(iChannel0, uv);\n    \n    vec2 center = vec2(0.5);\n    float radius = 0.1; // from the edges to the center\n    float blurPower = 0.8;\n\n    bool enableAnimation = true;\n    float speedAnimation = 1.0;\n    float localIntensity = 0.5;\n    float powerAnimation = 1.5;\n    if (enableAnimation) {\n        localIntensity *= abs(sin(iTime)) * speedAnimation * powerAnimation;\n    } \n    float amount = localIntensity * 0.1;\n\n    vec2 direction;\n    float dist = length(uv - center);\n    \n    vec4 blurredColor = vec4(0.0);\n    \n    float alpha = smoothstep(radius, radius + 1. - blurPower + 0.1, dist);\n    \n    if (dist > radius) {\n        for (float x = -1.0; x <= 1.0; x += 0.1) {\n            for (float y = -1.0; y <= 1.0; y += 0.1) {\n                vec2 currentUv = uv + vec2(x, y) * 0.005;\n                direction = currentUv - center;\n                blurredColor.r += texture(iChannel0, currentUv - direction * amount).r;\n                blurredColor.g += texture(iChannel0, currentUv).g;\n                blurredColor.b += texture(iChannel0, currentUv + direction * amount).b;\n                if (enableAnimation) {\n                    blurredColor += abs(sin(iTime)) * 0.02;\n                }\n            }\n        }\n        \n        blurredColor /= 441.0;\n        fragColor = mix(originalColor, blurredColor, alpha);\n    } else {\n        fragColor = originalColor;\n    }\n}\n","name":"Image","description":"","type":"image"}]}