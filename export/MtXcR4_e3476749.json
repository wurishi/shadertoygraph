{"ver":"0.1","info":{"id":"MtXcR4","date":"1631698039","viewed":50,"name":"Tykon Terrain 1.0","username":"choephix","description":"Some terrain algo experiments","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["terrain"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\n//\n\nfloat hash(float n) { return fract(sin(n) * 1e4); }\nfloat hash(vec2 p) { return fract(1e4 * sin(17.0 * p.x + p.y * 0.1) * (0.1 + abs(sin(p.y * 13.0 + p.x)))); }\n\nfloat noiseMorganMcGuire(vec2 x) {\n\tvec2 i = floor(x);\n\tvec2 f = fract(x);\n\n\tfloat a = hash(i);\n\tfloat b = hash(i + vec2(1.0, 0.0));\n\tfloat c = hash(i + vec2(0.0, 1.0));\n\tfloat d = hash(i + vec2(1.0, 1.0));\n\t\n\tvec2 u = f * f * (3.0 - 2.0 * f);\n\treturn mix(a, b, u.x) + (c - a) * u.y * (1.0 - u.x) + (d - b) * u.x * u.y;\n}\n\n//\n\nfloat rand(float n){return fract(sin(n) * 43758.5453123);}\nfloat rand(vec2 n) {return fract(sin(dot(n, vec2(12.9898, 4.1414))) * 43758.5453);}\nfloat randp(vec2 c){return fract(sin(dot(c.xy ,vec2(12.9898,78.233))) * 43758.5453);}\n\t\nfloat noiseGeneric(vec2 n) {\n  const vec2 d = vec2(0.0, 1.0);\n  vec2 b = floor(n), f = smoothstep(vec2(0.0), vec2(1.0), fract(n));\n  return mix(mix(rand(b), rand(b + d.yx), f.x), mix(rand(b + d.xy), rand(b + d.yy), f.x), f.y);\n}\n\n//\n\nuniform float time;\nuniform vec2 resolution;\n\nfloat getElevation( vec2 p ) { \n  //return -1.0 + 2.0 * noiseMorganMcGuire( p );\n  return -1.0 + 2.0 * noiseGeneric( p );\n}\n\nvec4 getColor( float e ) {\n  return e < 0.0 ? \n    vec4( .25 + e * .1, .1 - e * .4, .4 - e * .3, 1.0 ) :\n    //vec4( .15, .2, .4, 1.0 ) :\n    vec4( .75 + e * .2, .3 + e * .6, .1 + e * .4, 1.0 );\n}\n\n//\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n  vec2 position = fragCoord.xy - iMouse.xy;\n  float elevation = 0.0;\n\televation += .600 * getElevation( position * .0051 );\n\televation += .200 * getElevation( position * .0097 );\n\televation += .100 * getElevation( position * .0143 );\n\televation += .015 * getElevation( position * .0517 ); \n\televation += .050 * getElevation( position * .0153 ); \n  fragColor = getColor( elevation );\n}\n\n\n\n","name":"Image","description":"","type":"image"}]}