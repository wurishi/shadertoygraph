{"ver":"0.1","info":{"id":"3tt3DN","date":"1576401773","viewed":137,"name":"Color Picker of Image From Mouse","username":"RhysSullivan","description":"Simple color picker than selects all similar colors of an image and sets them to be black.","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["learning"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XdfGRr","filepath":"/media/a/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm","previewfilepath":"/media/ap/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Fork of \"Color Swapper\" by RhysSullivan. https://shadertoy.com/view/WtdGDN\n// 2019-12-15 08:01:04\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 mouseCoord = iMouse.xy / iResolution.xy;\n    \n\n    vec2 uv = fragCoord.xy / iResolution.xy;\n   \t\n    vec4 image = texture(iChannel0,uv);\n    \n    vec4 mouseProjected = texture(iChannel0, mouseCoord);\n   \n    vec4 mPix = mouseProjected;\n \n    vec4 iPix = image;\n    \n     \n    float thres = 0.1;\n    \n    bool doesRedMatch =   (iPix.r >= mPix.r && iPix.r <= mPix.r + thres) || (iPix.r <= mPix.r && iPix.r >= mPix.r - thres);\n    bool doesBlueMatch =  (iPix.b >= mPix.b && iPix.b <= mPix.b + thres) || (iPix.b <= mPix.b && iPix.b >= mPix.b - thres);\n    bool doesGreenMatch = (iPix.g >= mPix.g && iPix.g <= mPix.g + thres) || (iPix.g <= mPix.g && iPix.g >= mPix.g - thres);\n    \n   \n \t\n    bool isMouseDown = iMouse.z > 0.;\n    \n          \n    if(isMouseDown)\n    {\n        if(doesRedMatch && doesBlueMatch && doesGreenMatch)\n        {\n         \timage = texture(iChannel1,uv);\n        }\n    }\n    \n\tfragColor = image;\n}","name":"Image","description":"","type":"image"}]}