{"ver":"0.1","info":{"id":"dlBfDw","date":"1694204210","viewed":108,"name":"graphing calculator thingy","username":"ThePlaneGuy45","description":"only supports y=x functions rn :/","likes":4,"published":3,"flags":0,"usePreview":0,"tags":["calculator"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"/*\n\nFUNCTION EDITOR IN COMMON TAB\n\n>>>>>>>by ThePlaneGuy45<<<<<<<<\n\ncredits to Ingo Quilez for their Segment SDF: https://www.shadertoy.com/view/3tdSDj\n\n*/\n\nfloat sdSegment( in vec2 p, in vec2 a, in vec2 b ) {\n\n    vec2 pa = p-a, ba = b-a;\n    float h = clamp( dot(pa,ba)/dot(ba,ba), 0.0, 1.0 );\n    return length( pa - ba*h );\n    \n} // From Inigo Quilez (https://www.shadertoy.com/view/3tdSDj)\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\n    fragColor = vec4(0.0, 0.0, 0.0, 1.0);\n\n    vec2 c = fragCoord - iResolution.xy/2.0;\n    c /= iResolution.x;\n    c *= 10.0;\n    vec2 m = iMouse.xy;\n    m.x -= iResolution.x/2.0;\n    m /= iResolution.y;\n    m *= vec2(10.0, 5.0);\n    \n    if(abs(mod(c.x+m.x/m.y, 1.0/m.y)) < 0.01 || abs(mod(c.y, 1.0/m.y)) < 0.01) {\n    \n        fragColor = vec4(0.3, 0.3, 0.4, 1.0);\n    \n    }\n    \n    if(abs(c.x+m.x/m.y) < 0.015) {\n    \n        fragColor = vec4(0.7, 0.5, 0.5, 1.0);\n    \n    }\n    \n    if(abs(c.y) < 0.015) {\n    \n        fragColor = vec4(0.5, 0.7, 0.5, 1.0);\n    \n    }\n\n    float dist;\n    float y;\n    float prev;\n    float close = 10000.0;\n    vec4 fc = fragColor;\n    \n    for(float x = -10.0; x < 10.0; x+=STEP) {\n    \n        y = f(x*m.y + m.x)/m.y;\n        dist = sdSegment(c, vec2(x, y), vec2(x-STEP, prev));\n        if(dist<=0.02 && dist<close){close=dist;fragColor=mix(fc, vec4(1.0), \n        \n            smoothstep(1.0, 0.0, close * 50.0)\n            \n        );}\n        prev = y;\n    \n    }\n    \n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"#if __LINE__<15\n#define iTime 0.0\n#endif\n#define STEP 0.05\n#define PI 3.141592653589793238462643383279\n\n#define EQU 3\n\nfloat f(float x) {switch(EQU) {\n\n\ncase 0:\n    x /= 2.0;\n    float xx = pow(x, x);\n    return 2.0 * abs(sin(xx) / pow(2.0, (xx - PI / 2.0) / PI));\ncase 1:\n    return (sin(PI*x)+sin(2.0*x))/2.0;\ncase 2:\n    return x*x;\ncase 3:\n    return (sin(PI*(x-iTime))+sin(2.0*(x+iTime)))/2.0;\n    \n}}","name":"Common","description":"","type":"common"}]}