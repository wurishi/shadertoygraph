{"ver":"0.1","info":{"id":"4l3GD2","date":"1485313836","viewed":2712,"name":"Sound Test by notargs","username":"notargs","description":"Test","likes":36,"published":1,"flags":8,"usePreview":0,"tags":["sound"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float rand(vec2 co)\n{\n\treturn fract(sin(dot(co, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = (fragCoord.xy - iResolution.xy / 2.0) / iResolution.y;\n    float color = 0.01 / abs(length(uv) - 0.2 - rand(vec2(iTime, floor(atan(uv.y, uv.x) * 5.0))) * (1.0 - fract(iTime * 4.0)) * 0.2);\n\tfragColor = vec4(vec3(color),1.0);\n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[{"id":"XsfGRr","channel":0}],"code":"#define PI 3.1415926535\n\nfloat rand(vec2 co)\n{\n\treturn fract(sin(dot(co, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nfloat calcHertz(float scale)\n{\n    return 440.0 * pow(2.0, scale / 12.0);\n}\n\nfloat bassDrum(float time)\n{\n    float t = mod(time, 1.0) / 3.0 * 8.0;\n    return sin(time * (440.0)) * max(0.0, 1.0 - fract(t) * 8.0);\n}\n\nfloat snereDrum(float time)\n{\n    float t = mod(time + 0.5, 1.0);\n    return rand(vec2(time * 32.0, 0.0)) * max(0.0, 1.0 - t * 4.0);\n}\n\nfloat hiHat(float time)\n{\n    float t = time * 16.0;\n    if (mod(t, 16.0) > 3.0 && mod(t, 2.0) > 1.0)\n    {\n        return 0.0;\n    }\n    return rand(vec2(time * 32.0, 0.0)) * max(0.0, 1.0 - fract(t) * 4.0);\n}\n\nfloat rect(float time)\n{\n    if (fract(time / PI / 2.0) < 0.5)\n    {\n     \treturn 1.0;  \n    }\n    else\n    {\n        return 0.0;\n    }\n}\n\nfloat strings(float time)\n{\n    float t = mod(time * 4.0, 1.0);\n    float sound = 0.0;\n    if (mod(time, 8.0) < 4.0)\n    {\n        sound += rect(time * calcHertz(24.0));\n        sound += rect(time * calcHertz(28.0));\n        sound += rect(time * calcHertz(31.0));\n        sound += rect(time * calcHertz(35.0));\n    }\n    else\n    {\n        sound += rect(time * calcHertz(23.0));\n        sound += rect(time * calcHertz(26.0));\n        sound += rect(time * calcHertz(30.0));\n        sound += rect(time * calcHertz(33.0));\n    }\n    return sound * max(0.0, (1.0 - t * 2.0));\n}\n\nfloat bass(float time)\n{\n    time = mod(time, 8.0);\n    if (time < 2.0)\n    {\n        return rect(time * calcHertz(0.0));\n    }\n    if (time > 3.0 && time < 3.5)\n    {\n        return rect(time * calcHertz(0.0));\n    }\n    if (time < 4.0)\n    {\n        return rect(time * calcHertz(12.0));\n    }\n    if (time < 6.0)\n    {\n        return rect(time * calcHertz(11.0));\n    }\n    if (time < 8.0)\n    {\n        return rect(time * calcHertz(-1.0));\n    }\n    return 0.0;\n}\n\nvec2 mainSound( in int samp,float time)\n{\n    float sound = 0.0;\n    sound += bassDrum(time) * 0.5;\n    sound += snereDrum(time) * 0.5;\n    sound += hiHat(time) * 0.5;\n    sound += strings(time) * 0.2;\n    sound += bass(time) * 0.2;\n    if (abs(sound) > 1.0) sound /= abs(sound);\n    return vec2(sound);\n}","name":"Sound","description":"","type":"sound"}]}