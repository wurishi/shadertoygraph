{"ver":"0.1","info":{"id":"Xfy3WK","date":"1713260240","viewed":62,"name":"分形f LBL 8871","username":"lbl","description":"1111111","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["122211"],"hasliked":0,"parentid":"sdyfRc","parentname":"loka练习：分形fractal"},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\nfloat LineSDF(in vec2 p, in vec2 a, in vec2 b){\n    vec2 ap = p-a;\n    vec2 ab = b-a;\n    float h = clamp(dot(ap,ab)/dot(ab,ab), 0.0, 1.0);\n    return length(ap-h*ab);   \n}\nconst float PI = 3.1415926;\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    uv=uv*2.-1.;\n    float ratio = iResolution.x/iResolution.y;\n    uv.x *= ratio;\n    float an = 3.14/6.;\n    vec2 dir = vec2(cos(an),sin(an));//(sqrt3/2, 1/2)\n    \n    float s1 = LineSDF(uv,vec2(0.), vec2(1.,0.));\n    float s2 = LineSDF(uv,vec2(0.), vec2(.5,cos(PI/6.)));\n    float s3 = LineSDF(uv,vec2(.5,cos(PI/6.)), vec2(1.,0.));\n    vec3 col = vec3(0.);\n    float x = uv.x;\n    float y = uv.y;\n    if(s1 <= s2 && s1 < s3) {\n       \n    }\n    else\n    if(s2 <= s1 && s2 <= s3) {\n        float angle =   - PI / 3.;\n        mat2 T = mat2(cos(angle),sin(angle),-sin(angle),cos(angle));\n        uv = T * uv;\n        uv.y *= -1.;\n         \n    }\n    else\n    if(s3 <= s1 && s3 <= s2){\n        float angle = - PI * 2. / 3.;\n        mat2 T = mat2(cos(angle),sin(angle),-sin(angle),cos(angle));\n        uv.x -= 1.;\n        uv = T * uv;\n    }\n    \n    for(int i=0;i<3;i++){\n        uv*=3.;\n        uv.x-=1.5;// \n        uv.x=abs(uv.x);\n        uv.x-=0.5;\n        uv -= 2. *dir*min(0.,dot(dir,uv));    \n    }\n       \n    //if(uv.y > 0. && x> 0. && x < 1. && y < cos(PI/6.)  ) col.r =1.;\n    col += vec3(0.,0.,smoothstep(0.5,0.0,LineSDF(uv,vec2(0.,0.),vec2(1.,0.))));\n\n    fragColor = vec4(col,1.0);\n}\n","name":"Image","description":"","type":"image"}]}