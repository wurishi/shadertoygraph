{"ver":"0.1","info":{"id":"wdKyDm","date":"1612439739","viewed":143,"name":"Light Attenuation Test","username":"Elieder","description":"This is a light attenuation test.\nDetails of the LightPoint equation are in:\nhttps://imdoingitwrong.wordpress.com/2011/01/31/light-attenuation/","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["attenuation","light"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec4 LightPoint( vec2 uv, vec2 pos, vec3 color, vec3 att ) {\n \tfloat dist = length ( pos - uv ) * 1.;\n    float at = 1. / (att.x + att.y * dist + att.z * dist * dist );\n    return vec4( at, at, at, 1. ) * vec4 ( color, 1. );\n}\n\nvec2 MousePosition() {\n \treturn vec2((iMouse.x / iResolution.x) - .5, (iMouse.y / iResolution.y) - .5);\n}\n\nfloat rand(vec2 co){\n    return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ){\n    vec2 uv = fragCoord / iResolution.xy;\n    uv -= .5;\n    uv.x *= iResolution.x / iResolution.y;\n    \n    vec4 color = vec4(.0);\n    // Red point with yellow glow inside\n    color += LightPoint( uv, vec2(-0.5, 0.), vec3(5.0, .9, 0.), vec3(1., 100., 1000.) );\n    \n    // Blue point\n    color += LightPoint( uv, vec2(0.5, 0.3), vec3(0.0, 0.5, 1.), vec3(.5, 40., 500.) );\n    \n    // \"Distant star\"\n    color += LightPoint( uv, vec2(0.4, -.2), vec3(1., 1., 1.), vec3(0., 900., 8000.) );\n    \n    // White point\n    color += LightPoint( uv, MousePosition(), vec3(1., 1., 1.), vec3(0., 50., 8000.) );\n    \n\tfragColor = color;\n}","name":"Image","description":"","type":"image"}]}