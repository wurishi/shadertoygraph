{"ver":"0.1","info":{"id":"lltGDs","date":"1472558013","viewed":230,"name":"Psytrance","username":"mromgwtf","description":"Just a psytrance beat lol","likes":0,"published":1,"flags":8,"usePreview":0,"tags":["music"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n\tfragColor = vec4(uv,0.5+0.5*sin(iTime),1.0);\n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[{"id":"XsfGRr","channel":0}],"code":"#define TAU 6.2831\n\n//psytrance lol\n\nfloat kick(float time, float mult)\n{\n    float length = 1.0;\n    float sampleTime = min(1.0, (time*mult) / length);\n    return sin(time*TAU*mix(50.0,200.0, exp(-16.0*sampleTime/2.0))) * exp(-1.0 * sampleTime*10.0);\n    //return sin(length*sampleTime*TAU*mix(500.0,50.0,sampleTime));// * exp(-4.0 * sampleTime);\n}\n\nfloat bass(float time, float mult)\n{\n    float length = 1.0;\n    float sampleTime = min(1.0, (time*mult) / length);\n    return (sin(time*TAU*110.0/2.0)) * exp(-1.0 * sampleTime*10.0);\n    //return sin(length*sampleTime*TAU*mix(500.0,50.0,sampleTime));// * exp(-4.0 * sampleTime);\n}\n\nfloat bass(float time, float mult, float freq)\n{\n    float length = 1.0;\n    float sampleTime = min(1.0, (time*mult) / length);\n    return (sin(time*TAU*freq)) * exp(-1.0 * sampleTime*10.0);\n    //return sin(length*sampleTime*TAU*mix(500.0,50.0,sampleTime));// * exp(-4.0 * sampleTime);\n}\n\n\n\n\n\nvec2 mainSound( in int samp, float time )\n{\n    float bpm = 158.0;\n\tfloat bpmult = bpm/60.0;\n    if(fract(time * bpmult/4.0)*4.0 > 3.0 && fract(time * bpmult/4.0)*4.0 < 4.0)\n    {\n           return vec2( kick(fract(time*bpmult)/bpmult, 2.0 ) * 1.0 \n                + bass(fract(time*bpmult + 0.25)/bpmult, 3.0) *0.5\n                + bass(fract(time*bpmult + 0.5)/bpmult, 3.0, 110.0) *0.5\n                + bass(fract(time*bpmult + 0.75)/bpmult, 3.0)*0.5 )\n        ;\n    }else{\n    return vec2( kick(fract(time*bpmult)/bpmult, 2.0 ) * 1.0 \n                + bass(fract(time*bpmult + 0.25)/bpmult, 3.0) *0.5\n                + bass(fract(time*bpmult + 0.5)/bpmult, 3.0) *0.5\n                + bass(fract(time*bpmult + 0.75)/bpmult, 3.0)*0.5 )\n        ;\n    }\n}","name":"Sound","description":"","type":"sound"}]}