{"ver":"0.1","info":{"id":"MssyDB","date":"1489783759","viewed":312,"name":"line segments","username":"ChuckNorris","description":"blend line segments from signed distance field for https://www.shadertoy.com/view/lslyWB","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["lines","linesegments"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float distance_to_line_segment(vec2 p, vec2 a, vec2 b){\n    vec2 ba = b - a;\n    float u = clamp(dot(p - a, ba)/dot(ba, ba), 0.0, 1.0);\n    vec2 q = a + u*ba;\n    return distance(p, q);\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord){\n    vec2 a = vec2(100.0, 200.0);\n    vec2 b = iMouse.xy;\n    vec2 c = vec2(300.0, 100.0);\n        \n    float line_radius = 20.0;\n    \n    float dist0 = distance_to_line_segment(fragCoord, a, b);\n    float dist1 = distance_to_line_segment(fragCoord, b, c);\n    \n    // combine distances\n    float dist = min(dist0, dist1);\n    \n    // get antialiased line segments from distance\n    float brightness = smoothstep(line_radius, line_radius - 1.7, dist);\n    \n    fragColor = vec4(brightness);\n}","name":"Image","description":"","type":"image"}]}