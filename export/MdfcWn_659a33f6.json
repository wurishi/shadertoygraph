{"ver":"0.1","info":{"id":"MdfcWn","date":"1488040326","viewed":740,"name":"Circular ring of light","username":"SalikSyed","description":"just testing a circle","likes":26,"published":1,"flags":0,"usePreview":0,"tags":["lighting"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define USE_PHYSICAL_RENDERER true\n\nfloat approx(vec2 center, vec2 uv, float r) {\nconst float PI = radians(360.);\n    float x = distance(center,uv)/r;\n    float b12 = smoothstep(.2, .25, x);\n    float b23 = smoothstep(.55, .6, x);\n    float b45 = smoothstep(5., 5.5, x);\n    float m45 = mix(5.0692 * pow(pow(x, 2.) + x * -0.96776 + 0.024713, -0.3336) + -0.60228, 2. * PI * pow(x - .0522, -1.0002) + 0.000014853, b45);\n    float m12 = mix(1. * PI + 1.1373 * x * (1.1373 * pow(x, 0.62901) * (1.1373 * pow(x, 0.6681) * (1.1373 * pow(x, -0.27152)))), 6.228 + 0.58222 * x - (0.51162 * pow(x, 2.)) + (2.8178 * pow(x, 3.)), b12);\n    float m123 = mix(m12, 2.2162 * pow(-x + .5 + 0.52855, -0.42449) + 3.8307, b23);\n    float m12345 = x<1.?m123:m45;\n    float glow = .528/r;\n    return m12345*glow/PI;\n}\n\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\t\n    vec2 uv = fragCoord / iResolution.y;\n    float aspect =  iResolution.x / iResolution.y;\n    float d = 0.0;\n    float r = 0.4;// * cos(iTime);\n    vec2 center = vec2(0.5 * aspect , 0.5);\n    \n    \n    if (USE_PHYSICAL_RENDERER) {\n        for(int i = 0; i < 528; i++) {\n            vec2 pt = vec2(r*cos(6.28 * float(i)/528.0),r*sin(6.28 * float(i)/528.0));\n            d+= 0.001 / length(uv - (pt + center));\n        }\n    } else {\n    \td = approx(center, uv, r);\n    }\n\n    vec4 mixColor = vec4(19.0/255.0, 98.0/255.0, 128.0/255.0, 1.0);\n    if (length(uv - center) <= r) {\n        mixColor =  vec4(14.0/255.0, 116.0/255.0, 132.0/255.0, 1.0);\n    }\n    \n    fragColor = mix(d * mixColor, mixColor, 0.4);\n}","name":"Image","description":"","type":"image"}]}