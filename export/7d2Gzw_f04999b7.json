{"ver":"0.1","info":{"id":"7d2Gzw","date":"1661352591","viewed":130,"name":"The Standard Solar Model","username":"romeosoft","description":"The Standard Solar Model.","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["thestandardsunmodel"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// -------------------------------------------\n// the standard solar model params\n// -------------------------------------------\n#define nm 1e-9\t\t\t\t\t// 纳米\n#define rednm 400 * nm\t\t\t// 红光\n#define redblue 700 * nm\t\t// 蓝光\n#define ke 1.38e-23\t\t\t\t// 玻尔兹曼常数\n#define G 6.672e-11\t\t\t\t// 引力常熟\n#define M 1.989E30\t\t\t\t// 太阳质量\n#define proton_m\t1.67e-27\t// 质子质量\n#define R 6.957E8\t\t\t\t// 气体常数\n\n#define TatR(r)\t (G*(M*pow(r/R, 0.75))*proton_m * (1.0/ (1.5 * ke * r)-1.0/ (1.5 * ke * R)))\n#define wein(T) 0.29 / T / 0.01\n\n#define V_R\t0.2\t\t\t\t\t// view radious\n\nvec3 HSV2RGB(vec3 c)\n{\n      vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n      vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n      return c.z * mix(K.xxx, clamp(p - K.xxx,0.0,1.0), c.y);\n}\n\n// -------------------------------------------\n// main image\n// -------------------------------------------\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord.xy/iResolution.xx-vec2(0.5,0.25);\n    float x = (uv.x);\n    float y = uv.y;\n    float r = length(uv);\n    \n    float ang = atan(-uv.y,uv.x) + r*iTime * 0.04;\n    float rr = sin(r*10.0 + iTime * 0.4)*cos(r);\n    vec3 cor = vec3(0.0,0.0,0.0);\n    if(r < V_R)\n    {\n        r = r / V_R;\n        float t = smoothstep(0.0, 0.00001, wein(TatR(r * R)));\n\n        vec3 cor0 = HSV2RGB(\n            vec3((1.-t)*0.95 + iTime * 0.1, \n                4. * smoothstep(0.05, 1.0, 1.0 / (0.0001 + r)),\n                2. * smoothstep(0.75, 3.0, 1.0 / (0.0001 + r)))\n                );\n        cor = mix(cor, cor0, 0.5 + rr * 0.5);\n        fragColor = vec4(cor, 1.0);\n        return;\n    }\n    fragColor= vec4(0.0,0.0,0.0,0.0);\n}","name":"Image","description":"","type":"image"}]}