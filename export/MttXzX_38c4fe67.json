{"ver":"0.1","info":{"id":"MttXzX","date":"1480961843","viewed":150,"name":"RogueSky","username":"dynamicsporadic","description":"FOR THE SINS","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["perlin"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float r(vec2 n)\n{\n    return fract(cos(dot(n,vec2(36.26,73.12)))*354.63);\n}\nfloat noise(vec2 n)\n{\n    vec2 fn = floor(n);\n    vec2 sn = smoothstep(vec2(0),vec2(1),fract(n));\n    \n    float h1 = mix(r(fn),r(fn+vec2(1,0)),sn.x);\n    float h2 = mix(r(fn+vec2(0,1)),r(fn+vec2(1)),sn.x);\n    return mix(h1,h2,sn.y);\n}\nfloat perlin(vec2 n)\n{\n    float total;\n    total = noise(n/32.)*0.5875+noise(n/16.)*0.2+noise(n/8.)*0.1\n            +noise(n/4.)*0.05+noise(n/2.)*0.025+noise(n)*0.0125;\n \treturn total;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord.xy / iResolution.xx;\n    vec2 m = iMouse.xy/iResolution.xy;\n    \n    vec2 stretch = fragCoord.xy;\n    \n    if (uv.x > m.x)\n    \tstretch.x = stretch.x*0.025*(1.0-uv.y) + iTime*0.5;\n    else\n    \tstretch.x = stretch.x*0.025 + iTime*0.5;\n    \n    float result = (perlin(stretch));\n    \n    if (uv.x > m.x)\n    \tresult = max(result - (0.35 - uv.y),0.0);\n    \n    float low = 0.5;\n    float mid = 0.6;\n    \n    float midValue = 0.65;\n    \n    if (result < low)\n        result = 0.0;\n    else if (result < mid)\n        result = midValue;\n    else\n        result = 1.0;\n    \n    vec3 color1 = vec3 (1.0, 0.75, 0.6);\n    vec3 color2 = vec3 (0.3, 0.15, 0.3);\n    \n    vec3 fade = color1*uv.y*2.0 + color2*(1.0-uv.y);\n    \n    vec3 cloud = vec3 (0.4, 0.4, 0.4);\n    \n    vec3 mixer = fade*(1.0-result) + cloud*result;\n    \n\tfragColor = vec4(mixer,1.0);\n}","name":"Image","description":"","type":"image"}]}