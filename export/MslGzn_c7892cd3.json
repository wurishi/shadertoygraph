{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"// Available as Mac Screensaver.  Code/Downloads here:\n// https://bitbucket.org/rallen/quasicrystalscreensaver/wiki/Home\n\nconst float PI = 3.1415926535897931;\nconst float ra = 0.0 / 3.0 * 2.0 * PI;\nconst float ga = 1.0 / 3.0 * 2.0 * PI;\nconst float ba = 2.0 / 3.0 * 2.0 * PI;\n\n// all of these can be played with\nconst float scale = 108.0;\nconst float tscale = 14.0;\nconst float xpixels = 3.0;\nconst float ypixels = 3.0;\nconst int symmetry = 7;\n\nfloat adj(float n, float m)\n{\n    return scale * ((2.0 * n / (m-1.0)) - 1.0);\n}\n\nvec2 point(vec2 src)\n{\n    return vec2(adj(src.x,ypixels), adj(src.y,ypixels));\n}\n\nfloat wave(vec2 p, float th)\n{\n    float t = fract(iTime/tscale);\n    t *= 2.0 * PI;\n    float sth = sin(th);\n    float cth = cos(th);\n    return (cos (cth*p.x + sth*p.y + t) + 1.0) / 2.0;\n}\n\nfloat combine(vec2 p)\n{\n    float sum = 0.0;\n    for (int i = 0; i < symmetry; i++)\n    {\n        sum += wave(point(p), float(i)*PI/float(symmetry));\n    }\n    return mod(floor(sum), 2.0) == 0.0 ? fract(sum) : 1.0 - fract(sum);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 vUV = (fragCoord.xy / iResolution.xy) + vec2(1.0,1.0);\n    float s = 0.0;\n    vec4 c;\n\n    s = combine(vec2(vUV.x*xpixels, vUV.y*ypixels));\n  \n     // clut select\n     if(s<=0.25) {\n         c = mix( vec4( 58.0/255.0,117.0/255.0, 78.0/255.0, 0.0), \n\t\t          vec4(175.0/255.0,207.0/255.0, 93.0/255.0, 0.0), \n                  s*4.0 );\n     } else if(s<=0.5) {\n         c = mix( vec4(175.0/255.0,207.0/255.0, 93.0/255.0, 0.0), \n                  vec4(255.0/255.0,232.0/255.0,135.0/255.0, 0.0), \n                  s*4.0-1.0 );\n     } else if(s<=0.75) {\n         c = mix( vec4(255.0/255.0,232.0/255.0,135.0/255.0, 0.0),\n                  vec4(194.0/255.0,138.0/255.0, 79.0/255.0, 0.0), \n                  s*4.0-2.0 );\n     } else {\n         c = mix( vec4(194.0/255.0,138.0/255.0, 79.0/255.0, 0.0), \n                  vec4(145.0/255.0, 70.0/255.0, 56.0/255.0, 0.0), \n                  s*4.0-3.0 );\n     }\n\n     fragColor = c; \n}\n","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"MslGzn","date":"1361857141","viewed":464,"name":"QuasiCrystal","username":"rogerallen","description":"Took this from my Mac Screensaver.  Code/Downloads here:\nhttps://bitbucket.org/rallen/quasicrystalscreensaver/wiki/Home\n","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["2d","quasicrystal"],"hasliked":0,"parentid":"","parentname":""}}