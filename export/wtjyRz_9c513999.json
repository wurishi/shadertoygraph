{"ver":"0.1","info":{"id":"wtjyRz","date":"1593626004","viewed":105,"name":"Cool and simple visualiser","username":"TrevallionJ","description":"Simple visualiser that seperates the RGB bands of the image in time to the music.\nFeel free to change the sensitivity and averageSpectrumAmplitude variables.\naverageSpectrumAmplitude is used to tweak the visualiser for different songs of different volumes","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["visualiser"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4sXGzn","filepath":"/media/a/a6a1cf7a09adfed8c362492c88c30d74fb3d2f4f7ba180ba34b98556660fada1.mp3","previewfilepath":"/media/ap/a6a1cf7a09adfed8c362492c88c30d74fb3d2f4f7ba180ba34b98556660fada1.mp3","type":"music","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//\tGets average of frequency spectrum range\nfloat average(float start, float end)\n{\n    float total = 0.0;\n    for(float i = start; i < end; i++){\n        total += texture(iChannel0, vec2(i / 512.0, 0.0))[0];\n    }\n    return total / (end - start);\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{    \n    float sensitivity = 0.1;\n    float averageSpectrumAmplitude = 0.4;\n    \n    vec2 uv = fragCoord / iResolution.xy;\n    \n    fragColor[0] = texture(iChannel1, uv + ((average(0.0, 512.0) - averageSpectrumAmplitude) * sensitivity))[0];\n    fragColor[1] = texture(iChannel1, uv)[1];\n    fragColor[2] = texture(iChannel1, uv - ((average(0.0, 512.0) - averageSpectrumAmplitude) * sensitivity))[2];\n}","name":"Image","description":"","type":"image"}]}