{"ver":"0.1","info":{"id":"XlVcWz","date":"1535813706","viewed":1276,"name":"contraption","username":"nolibab","description":"Port intro 'Contraption' by Enpera from Solskogen 2018 demo party","likes":10,"published":1,"flags":0,"usePreview":0,"tags":["gears","rotation","spheroid"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\nfloat w(vec3 p,float r)\n{\nfloat a=atan(p.x,p.z)+r;\nfloat o=pow(abs(sin(12.*a)),.1)*sign(sin(12.*a))*.15+1.;\nreturn length(p.xz)+(p.y*.75)*(o*.5);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\nfloat time_ = iTime/100.;\nvec3 o=vec3(fragCoord.xy/iResolution.xy-vec2(.5),1.);\no.x*=1.777;\nfloat v=time_*3.14159*6.;\nvec3 p=vec3(sin(v)*5.,1.5,cos(v)*5.);\nvec3 d=normalize(vec3(o.x*cos(v)+o.z*sin(v),o.y+.3,-o.x*sin(v)+o.z*cos(v))-p);\nvec3 op=p;\nif(abs(o.x)<1.)\nfragColor=vec4(0.,0.,0.,1.); \nfor(int i=0;i<120;++i)\n{\nfloat g=1000000.;\nfloat ra=time_*3.14159*30.;\nvec3 qz=vec3(p.x*0.7071+p.y*0.7071,p.y*0.7071-p.x*0.7071,p.z);\nvec3 qy=vec3(p.x*0.7071+p.z*0.7071,p.y,p.z*0.7071-p.x*0.7071);\nvec3 qx=vec3(p.x,p.y*0.7071+p.z*0.7071,p.z*0.7071-p.y*0.7071);\nfloat rb=ra+.2618;\ng=min(g,w(p,rb));\ng=min(g,w(-p,-ra));\ng=min(g,w(-p.yzx,-ra));\ng=min(g,w(p.zxy,rb));\ng=min(g,w(-p.zxy,-ra));\ng=min(g,w(qz,-rb));\ng=min(g,w(-qz,ra));\ng=min(g,w(-qy.yzx,ra));\ng=min(g,w(-qx.zyx,-rb));\ng=min(g,w(qz.yxz,ra));\ng=min(g,w(-qz.yxz,-rb));\ng=min(g,w(-qy.yxz,-rb));\ng=min(g,w(-qx.yzx,ra));\ng=min(g,w(p.yzx,rb));\ng=min(g,w(qy.yzx,-rb));\ng=min(g,w(qx.zyx,ra));\ng=min(g,w(qy.yxz,ra));\ng=min(g,w(qx.yzx,-rb));\ng=max(g,length(p)-.5);\ng=max(g,.45-length(p));\nif(g<.001)\n{\nfragColor = vec4(1.-float(i)/200.)*(dot(normalize(p),normalize(op))*.4+.6)*vec4(.9,.6,.0,1.);\nbreak;\n}\np+=d*.3*g;\nif(distance(p,op)>6.)break;\n}\n}\n","name":"Image","description":"","type":"image"}]}