{"ver":"0.1","info":{"id":"wsjBRG","date":"1590310814","viewed":379,"name":"Fireworm","username":"Reva","description":"Ex10","likes":19,"published":1,"flags":0,"usePreview":0,"tags":["2d","noise","particle"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Author: Reva 2020-05-23\n// Title: Fireworm\n\nfloat rand( vec2 c )\n{\n\treturn fract( sin( dot( c.xy, vec2( 12.9898, 78.233 ) ) ) * 43758.5453 );\n}\n\nvec2 rand2(vec2 st){\n    st = vec2( dot(st,vec2(127.1,311.7)),\n              dot(st,vec2(269.5,183.3)) );\n    return -1.0 + 2.0*fract(sin(st)*43758.5453123);\n}\n\nfloat noise (in vec2 st) {\n    vec2 i = floor(st);\n    vec2 f = fract(st);\n\n    vec2 u = f*f*(3.0-2.0*f);\n\n    return mix( mix( dot( rand2(i + vec2(0.0,0.0) ), f - vec2(0.0,0.0) ),\n                     dot( rand2(i + vec2(1.0,0.0) ), f - vec2(1.0,0.0) ), u.x),\n                mix( dot( rand2(i + vec2(0.0,1.0) ), f - vec2(0.0,1.0) ),\n                     dot( rand2(i + vec2(1.0,1.0) ), f - vec2(1.0,1.0) ), u.x), u.y);\n}\n\nfloat circle(vec2 pos, float radius, float glow){\n    float sdf = length(pos);\n    sdf = smoothstep(radius-0.700,radius,sdf);\n    float circles = 1.0 - smoothstep(0.0,1.0,sdf*10.280);\n    float glows = exp(-sdf*4.496) * glow * (1.0 - circles);\n    return circles+glows;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ){\n    vec2 st = (fragCoord - 0.5*iResolution.xy )/iResolution.y;\n    st *= 20.0;\n    vec2 uv = st;\n    float noisest = noise(vec2(uv.x - iTime,uv.y - iTime));\n    uv += noisest*0.13;\n    uv += vec2( noise(vec2(iTime)*0.2)*6.0,-iTime*2.0);\n    \n    vec3 color = vec3(0.);\n    \n    \n    vec2 pos = fract(uv)-0.5;\n    vec2 id = floor(uv);\n\n    \n    for(int y = -1; y <= 1; y++){\n        for(int x = -1; x <= 1; x++){\n            vec2 neighbour = vec2(x,y);\n            vec2 rand2 = rand2(id+neighbour);\n            float a = noise(rand2+iTime*2.8);\n            vec2 offset = 0.5*(sin(iTime + rand2*6.28))*2.2;\n            float size = rand(id+neighbour)*0.75 + a*0.15;\n            color += circle(pos-neighbour+offset,size,size*1.400)/9.0 * vec3(rand2.x*7.884,7.2,rand2.y*6.832);\n        }\n    }\n    \n    float xRange = 1.0 - abs(2.0 * st.x)*0.02;\n    vec3 ambient = smoothstep(1.0,0.0,st.y*0.05+0.9) * vec3(0.401,0.570,0.443);\n    color = max(ambient, color) * xRange;\n\n    fragColor = vec4(color,1.0);\n}","name":"Image","description":"","type":"image"}]}