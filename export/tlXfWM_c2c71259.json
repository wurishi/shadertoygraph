{"ver":"0.1","info":{"id":"tlXfWM","date":"1596841111","viewed":70,"name":"Toaster's Game of Life","username":"iamthetoaster","description":"Conway's game of life!","likes":2,"published":1,"flags":32,"usePreview":0,"tags":["gol"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"nearest","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    fragColor = vec4(texture(iChannel0, fragCoord / iResolution.xy));\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"const float SEED = 1.0;\n\nfloat rand(vec2 co){\n    return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\nvec2 normedCoords(vec2 fragCoord) {\n    return fragCoord/iResolution.xy;\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    vec3 live = vec3(0.4, 0.4, 0.45);\n    vec3 dead = vec3(0.8, 0.8, 0.85);\n    vec2 uv = normedCoords(fragCoord);\n    vec3 prev = texture(iChannel0, uv).rgb;\n    if (prev != live && prev != dead) {\n        vec3 col = (rand(uv + vec2(SEED)) > 0.5) ? live : dead;\n        fragColor = vec4(col, 1.0);\n        return;\n    }\n\n    vec2 neighbors[8] = vec2[8](\n        vec2(-1.0, -1.0),\n        vec2(-1.0, 1.0),\n        vec2(-1.0, 0.0),\n        vec2(0.0, -1.0),\n        vec2(0.0, 1.0),\n        vec2(1.0, -1.0),\n        vec2(1.0, 1.0),\n        vec2(1.0, 0.0)\n    );\n\n    int livingNeighbors = 0;\n    for (int i = 0; i < 8; i++) {\n        vec3 neighbor = texture(iChannel0,\n            normedCoords(neighbors[i] + fragCoord)).rbg;\n        if (neighbor.r < 0.5) {\n            livingNeighbors++;\n        }\n    }\n\n    vec3 col = dead;\n    if (livingNeighbors == 3 || (prev == live && livingNeighbors == 2)) col = live;\n\n    fragColor = vec4(col, 1.0);\n}","name":"Buffer A","description":"","type":"buffer"}]}