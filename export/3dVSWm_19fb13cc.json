{"ver":"0.1","info":{"id":"3dVSWm","date":"1574178383","viewed":522,"name":"Mirror effect and crop","username":"AnnaGevorgyan99","description":"Mirror effect and crop","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["mirror"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"Xdf3Rn","filepath":"/media/a/e81e818ac76a8983d746784b423178ee9f6cdcdf7f8e8d719341a6fe2d2ab303.webm","previewfilepath":"/media/ap/e81e818ac76a8983d746784b423178ee9f6cdcdf7f8e8d719341a6fe2d2ab303.webm","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\nvec4 topCrop(vec4 texColor,vec2 xy,float size)\n{\n    float l=step(size,1.-xy.y);\n    texColor*=l;\n    return texColor;\n}\nvec4 rightCrop(vec4 texColor,vec2 xy,float size)\n{\n    float l=step(size,1.-xy.x);\n    texColor*=l;\n    return texColor;\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 xy=fragCoord/iResolution.xy;\n   \n    xy*=2.;\n    \n    float l1=step(xy.x,1.);\n    float l2=step(xy.y,1.);\n    float m1=l1*l2;\n    \n     l1=step(xy.x,1.);\n     l2=step(1.,xy.y);\n    float m2=l1*l2;\n    \n    l1=step(1.,xy.x);\n     l2=step(1.,xy.y);\n    float m3=l1*l2;\n    \n    l1=step(1.,xy.x);\n    l2=step(xy.y,1.);\n    float m4=l1*l2;\n    xy.x=m1*xy.x+m2*xy.x+m3*(2.-xy.x)+m4*(2.-xy.x);\n    xy.y=m1*(1.-xy.y)+m2*(xy.y-1.)+m3*(xy.y-1.)+m4*(1.-xy.y);\n    \n    \n    vec4 texColor=texture(iChannel0,xy);\n    texColor=topCrop(texColor,xy,abs(sin(iTime/3.)))*\n        rightCrop(texColor,xy,abs(sin(iTime/3.)));\n    fragColor=texColor;\n}","name":"Image","description":"","type":"image"}]}