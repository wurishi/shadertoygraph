{"ver":"0.1","info":{"id":"XtXyzM","date":"1503923926","viewed":762,"name":"Circle of dots","username":"csaez","description":"A circle of dots, but every dot alone is just moving in a straight line.\n\nBased on https://twitter.com/scienmag/status/901630859802968064","likes":13,"published":1,"flags":0,"usePreview":0,"tags":["circles","math","optical","illusion","trigonometry"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define S(x) smoothstep(2.0/iResolution.y, 0.0, x)\n#define circle(uv, p, r) S(length(uv - p) - r)\n#define rotate2d(angle) mat2(cos(angle), -sin(angle), sin(angle), cos(angle))\n\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    const int items = 8;\n    const float speed = 2.0;\n    const float fraction = 3.14 / float(items);\n    const float diameter = 0.4;\n    const float radius = 0.03;\n\n    vec2 uv = (fragCoord.xy / iResolution.xy) - 0.5;\n    uv.x *= iResolution.x/iResolution.y;\n\n    float circles = 0.0;\n    float lines = 0.0;\n    float mask = S((diameter + radius) - length(uv));\n    \n    for (int i=0; i<items; i++) {\n        float phase = fraction * float(i);\n        vec2 coord = uv * rotate2d(phase);\n        \n        float angle = (iTime * speed) + phase;\n\t\tvec2 pos = vec2(cos(angle), 0.0) * diameter;\n        circles += circle(coord, pos, radius);\n        lines += S(abs(coord.y));\n    }\n    fragColor = vec4(circles + 0.5*lines + mask);\n}","name":"Image","description":"","type":"image"}]}