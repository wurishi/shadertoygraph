{"ver":"0.1","info":{"id":"4clGDl","date":"1703683017","viewed":53,"name":"Animated SDF Shadow","username":"driggy","description":"Shader with animated shadow.","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["sdf","shadow","signeddistancefield"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec4 composite(vec4 back, vec4 front) {\n    return mix(back, front, front.a);\n}\n\nfloat sdf_circle(vec2 center, float radius, vec2 point) {\n    return length(point - center) - radius;\n}\n\nfloat fill_factor(float dist, float softness) {\n    return smoothstep(-softness, softness, -dist);\n}\n\nvec4 apply_factor(vec4 color, float f) {\n    return vec4(color.rgb, color.a * f);\n}\n\nvoid mainImage( out vec4 color, in vec2 point )\n{\n    vec4 background = vec4(0.8, 0.9, 0.8, 0.0);\n    color = background;\n    \n    vec2 center = vec2(300.0, 200.0);\n    float radius = 140.0;\n    \n    vec4 fg_color = vec4(1.0, 0.0, 0.0, 1.0);\n    vec4 sh_color = vec4(0.0, 0.0, 0.0, 0.5);\n    vec2 sh_offset = vec2(10.0, -20);\n    float sh_softness = (cos(iTime)+1.05) * 50.0;\n    \n    {\n        // shadow\n        float dist = sdf_circle(center + sh_offset, radius, point);\n        float f = fill_factor(dist, sh_softness);\n        color = composite(color, apply_factor(sh_color, f));\n    }\n    {\n        // circle\n        float dist = sdf_circle(center, radius, point);\n        float f = fill_factor(dist, 1.0);\n        color = composite(color, apply_factor(fg_color, f));\n    }\n}","name":"Image","description":"","type":"image"}]}