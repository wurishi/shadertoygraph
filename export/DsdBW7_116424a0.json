{"ver":"0.1","info":{"id":"DsdBW7","date":"1697412296","viewed":31,"name":"guitar string","username":"vnvthedark","description":"wave","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["ave"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.141529\n\n#define BACKGROUND_COL vec4(0.)\n#define STRING_COL vec4(1., 0., 0., 1.)\n#define ENVELOPE_COL vec4(.3,.3,.3, 1.)\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float amplitude = 60.; // in px\n    float speed     = 1000; // in Hz\n    float thickness = 2.;  // in px\n    \n    vec2  uv = fragCoord/iResolution.xy;\n    float harmonic = ceil(iMouse.x / iResolution.x * 10.);\n    float envelope = sin(uv.x * PI * harmonic) * amplitude/iResolution.y;\n    float wave = envelope * cos(iTime * speed * harmonic);\n    \n    float height = (uv.y - .5) * 2.;\n    float env_dist = clamp((abs(height) - abs(envelope))*iResolution.y/2., 0., 1.);\n    float str_dist = clamp(abs(height - wave)*iResolution.y/2./thickness, 0., 1.);\n\n    fragColor = BACKGROUND_COL;    \n    fragColor = mix(ENVELOPE_COL, fragColor, env_dist);\n    fragColor = mix(STRING_COL, fragColor, str_dist);\n}","name":"Image","description":"","type":"image"}]}