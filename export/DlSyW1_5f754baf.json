{"ver":"0.1","info":{"id":"DlSyW1","date":"1703536842","viewed":19,"name":"Fork Fork color suwqymncwe 868","username":"suwqymncwec","description":"colormap 42424","likes":0,"published":1,"flags":32,"usePreview":0,"tags":["colormap","stats"],"hasliked":0,"parentid":"DdV3zR","parentname":"Fork colormap 4 ebgnpmpoiy 044"},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    fragColor = texture(iChannel0, fragCoord.xy/iResolution.xy);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"\n#define Pi 3.14159\n#define QPi Pi/4.\n#define HPi Pi/2.\n#define Blue vec3(.11, .2, .4);\n\nfloat rand(vec2 c){\n\treturn fract(sin(dot(c.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\nfloat noise(vec2 p, float freq ){\n\tfloat unit = 1./freq;\n\tvec2 ij = floor(p/unit);\n\tvec2 xy = mod(p,unit)/unit;\n\t//xy = 3.*xy*xy-2.*xy*xy*xy;\n\txy = .5*(1.-cos(Pi*xy));\n\tfloat a = rand((ij+vec2(0.,0.)));\n\tfloat b = rand((ij+vec2(1.,0.)));\n\tfloat c = rand((ij+vec2(0.,1.)));\n\tfloat d = rand((ij+vec2(1.,1.)));\n\tfloat x1 = mix(a, b, xy.x);\n\tfloat x2 = mix(c, d, xy.x);\n\treturn mix(x1, x2, xy.y);\n}\n\nfloat pNoise(vec2 p, int res){\n\tfloat persistance = .5;\n\tfloat n = 0.;\n\tfloat normK = 0.;\n\tfloat f = 4.;\n\tfloat amp = 1.;\n\tint iCount = 0;\n\tfor (int i = 0; i<50; i++){\n\t\tn+=amp*noise(p, f);\n\t\tf*=2.;\n\t\tnormK+=amp;\n\t\tamp*=persistance;\n\t\tif (iCount == res) break;\n\t\tiCount++;\n\t}\n\tfloat nf = n/normK;\n\treturn nf*nf*nf*nf;\n}\n\nvec2 rotateUV(vec2 uv, float rotation, vec2 mid) {\n    return vec2(\n      cos(rotation) * (uv.x - mid.x) + sin(rotation) * (uv.y - mid.y) + mid.x,\n      cos(rotation) * (uv.y - mid.y) - sin(rotation) * (uv.x - mid.x) + mid.y\n    );\n}\n\nfloat fractb(float x) {\n    // return mod(x*2., 2.);\n    float y = mod(x, 2.);\n    if (y > 1.) return 1.-fract(y);\n    return fract(y);\n}\n\nfloat fractC(float x) {\n    return fract(x)*HPi+QPi;\n}\n\nfloat line(float w, float h, float sm, vec2 uv) {\n    vec2 wh2 = vec2(w,h)/2.;\n    vec2 a = vec2(.5)+wh2;\n    vec2 b = vec2(.5)-wh2;\n    vec2 f = smoothstep(a, a+sm, uv)-smoothstep(b, b+sm, uv);\n    float fr = 1.-f.x*f.y;\n    return fr;\n}\n\nvec3 pal( in float t)\n{\n    vec3 a = vec3(0.023,0.500,0.004);\n    vec3 b = vec3(0.173,0.500,0.078);\n    vec3 c = vec3(2.000,0.384,0.000);\n    vec3 d = vec3(0.5,0.20,0.25);\n    return a + b*cos( 6.28318*(c*t+d) );\n}\n\nfloat colormap_red(float x) {\n      if (x < 0.09771832105856419) {\n    return 7.60263247863246E+02 * x + 1.02931623931624E+02;\n      } else if (x < 0.3017162107441106) {\n    return (-2.54380938558548E+02 * x + 4.29911571188803E+02) * x + 1.37642085716717E+02;\n      } else if (x < 0.4014205790737471) {\n    return 8.67103448276151E+01 * x + 2.18034482758611E+02;\n      } else if (x < 0.5019932233215039) {\n    return -6.15461538461498E+01 * x + 2.77547692307680E+02;\n      } else if (x < 0.5969483882550937) {\n    return -3.77588522588624E+02 * x + 4.36198819698878E+02;\n      } else if (x < 0.8046060096654594) {\n    return (-6.51345897546620E+02 * x + 2.09780968434337E+02) * x + 3.17674951640855E+02;\n      } else {\n    return -3.08431855203590E+02 * x + 3.12956742081421E+02;\n      }\n}\n\nfloat colormap_green(float x) {\n      if (x < 0.09881640500975222) {\n    return 2.41408547008547E+02 * x + 3.50427350427364E-01;\n      } else if (x < 0.5000816285610199) {\n    return ((((1.98531871433258E+04 * x - 2.64108262469187E+04) * x + 1.10991785969817E+04) * x - 1.92958444776211E+03) * x + 8.39569642882186E+02) * x - 4.82944517518776E+01;\n      } else if (x < 0.8922355473041534) {\n    return (((6.16712686949223E+03 * x - 1.59084026055125E+04) * x + 1.45172137257997E+04) * x - 5.80944127411621E+03) * x + 1.12477959061948E+03;\n      } else {\n    return -5.28313797313699E+02 * x + 5.78459299959206E+02;\n      }\n}\n\nfloat colormap_blue(float x) {\n      if (x < 0.1033699568661857) {\n    return 1.30256410256410E+02 * x + 3.08518518518519E+01;\n      } else if (x < 0.2037526071071625) {\n    return 3.38458128078815E+02 * x + 9.33004926108412E+00;\n      } else if (x < 0.2973267734050751) {\n    return (-1.06345054944861E+02 * x + 5.93327252747168E+02) * x - 3.81852747252658E+01;\n      } else if (x < 0.4029109179973602) {\n    return 6.68959706959723E+02 * x - 7.00740740740798E+01;\n      } else if (x < 0.5006715489526758) {\n    return 4.87348695652202E+02 * x + 3.09898550724286E+00;\n      } else if (x < 0.6004396902588283) {\n    return -6.85799999999829E+01 * x + 2.81436666666663E+02;\n      } else if (x < 0.702576607465744) {\n    return -1.81331701891043E+02 * x + 3.49137263626287E+02;\n      } else if (x < 0.9010407030582428) {\n    return (2.06124143164576E+02 * x - 5.78166906665595E+02) * x + 5.26198653917172E+02;\n      } else {\n    return -7.36990769230737E+02 * x + 8.36652307692262E+02;\n      }\n}\n\nvec4 colormap(float x) {\n      float r = clamp(colormap_red(x) / 255.0, 0.0, 1.0);\n      float g = clamp(colormap_green(x) / 255.0, 0.0, 1.0);\n      float b = clamp(colormap_blue(x) / 255.0, 0.0, 1.0);\n      return vec4(r, g, b, 1.0);\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n vec2 st = fragCoord/iResolution.xy;\n    // st.x *= u_resolution.x/u_resolution.y;\n\tvec2 uv = st;\n    vec2 uv_ = floor(st/.0175);\n    float rux = noise(uv_.xx, .5)/2.;\n    float u_time = iTime;\n    \n    \n    float sz = 40.;\n    uv.x = floor(uv.x*sz)/sz;\n    \n    float acc = 0.;\n    vec4 col = vec4(0.);\n    \n    float brdr = st.x/sz;\n    vec3 color = vec3(0.);\n    if (st.x > .1 && st.x < .9 && st.y > .35 && st.y < .7) {\n        float g = .2;\n        float n = noise(uv.xx+124.14379/222., 55.+u_time)*2.-1.;\n        float f = 0.;\n        if (n > 0.) {\n            float nn = n / 4.;\n            vec2 ff = step(vec2(uv.x, .5-nn/1.5), uv)-step(vec2(uv.x+1./40., .5), uv);\n            f = ff.x*ff.y;\n            col = colormap((1.-n)/2.);\n        } else {\n            float nn = (1.-n) / 8.;\n            vec2 ff = step(vec2(uv.x, .5), uv)-step(vec2(uv.x+1./40., .5+nn/1.5), uv);\n            f = ff.x*ff.y;\n            col = colormap((1.-n)/4.+.5);\n        }  \n        acc = f;\n \t\tcolor = vec3(acc)*col.xyz;\n    } else {\n    \tfloat left = 1.-line(.0025, 0.5, .0005, st-vec2(-.45, 0.));\n    \tfloat bottom = 1.-line(.8, 0.0025, .0005, st-vec2(.0, -0.35));\n        color = (left+bottom)*vec3(1.);\n    }\n    \n\n    fragColor = vec4(color,1.0);\n}\n\n\n\n\n\n\n\n\n\n\n","name":"Buffer A","description":"","type":"buffer"}]}