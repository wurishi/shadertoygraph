{"ver":"0.1","info":{"id":"tdGBWc","date":"1608076511","viewed":77,"name":"background-stripes","username":"duhaime","description":"Stripes!","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["backgroundstripes"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // detect the monitor refresh rate by snapping Shadertoy's\n    // reported framerate to the closest standard monitor\n    // refresh rate.\n    const vec4 rate = vec4(240.0,144.0,120.0,60.0);\n    vec4  d = abs(rate-iFrameRate);\n    float refresh = (d.x<d.y && d.x<d.z && d.x<d.w) ? rate.x:\n                               (d.y<d.z && d.y<d.w) ? rate.y:\n                                          (d.z<d.w) ? rate.z:\n                                                      rate.w;\n                                                      \n    // compute how many frames we should have delivered so far\n    float frame = round(iTime*refresh);\n    \n    // colors\n    vec4 a = vec4(1.0, 0.0, 0.0, 1.0);\n    vec4 b = vec4(1.0, 1.0, 0.0, 1.0);\n    \n    // stripe config\n    float repeatWidth = 50.0;\n    float stripeWidth = 15.0;\n    float speed = 0.75;\n    \n    // border config\n    float borderWidthPercent = 0.1;\n    float smallerDimension = iResolution.x > iResolution.y ? iResolution.y : iResolution.x;\n    float xBorderPercent = borderWidthPercent * smallerDimension / iResolution.x;\n    float yBorderPercent = borderWidthPercent * smallerDimension / iResolution.y;\n\n    // blank out the non-border pixels\n    if ((fragCoord.x / iResolution.x) < xBorderPercent ||\n        (fragCoord.x / iResolution.x) > 1.0 - xBorderPercent ||\n        (fragCoord.y / iResolution.y) < yBorderPercent ||\n        (fragCoord.y / iResolution.y) > 1.0 - yBorderPercent) {\n        \n        // determine whether we're on or off band\n        float s = fragCoord.x + fragCoord.y;\n        float m = mod(s + mod(frame * speed, repeatWidth), repeatWidth);\n        float band = m < stripeWidth ? 1.0 : 0.0;\n       \n        fragColor = vec4(band, 0.0, 0.0, 1.0);\n    } else {\n        fragColor = vec4(1.0, 0.0, 0.0, 1.0);\n    }   \n}","name":"Image","description":"","type":"image"}]}