{"ver":"0.1","info":{"id":"NdVXWh","date":"1634561646","viewed":228,"name":"Fork Simple Sob erfan 597","username":"erfan","description":"cool colors and overlay on top of webcam video","likes":7,"published":1,"flags":2,"usePreview":0,"tags":["edgedetection","sobelfilter"],"hasliked":0,"parentid":"MlBSWW","parentname":"Simple Sobel filter - webcamera"},"renderpass":[{"inputs":[{"id":"4sf3zn","filepath":"/presets/webcam.png","previewfilepath":"/presets/webcam.png","type":"webcam","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    vec3 col;\n    \n    /*** Sobel kernels ***/\n    // Note: GLSL's mat3 is COLUMN-major ->  mat3[col][row]\n    mat3 sobelX = mat3(-1.0, -2.0, -1.0,\n                       0.0,  0.0, 0.0,\n                       1.0,  2.0,  1.0);\n    mat3 sobelY = mat3(-1.0,  0.0,  1.0,\n                       -2.0,  0.0, 2.0,\n                       -1.0,  0.0,  1.0);  \n    \n    float sumX = 0.0;\t// x-axis change\n    float sumY = 0.0;\t// y-axis change\n    \n    for(int i = -1; i <= 1; i++)\n    {\n        for(int j = -1; j <= 1; j++)\n        {\n            // texture coordinates should be between 0.0 and 1.0\n            float x = (fragCoord.x + float(i))/iResolution.x;\t\n    \t\tfloat y =  (fragCoord.y + float(j))/iResolution.y;\n            \n            // Convolve kernels with image\n            sumX += length(texture( iChannel0, vec2(x, y) ).xyz) * float(sobelX[1+i][1+j]);\n            sumY += length(texture( iChannel0, vec2(x, y) ).xyz) * float(sobelY[1+i][1+j]);\n        }\n    }\n    \n    float g = abs(sumX * 3.0) + abs(sumY* 3.0);\n    //g = sqrt((sumX*sumX) + (sumY*sumY));\n    \n    if(g > 1.0)\n        col = vec3(1.0,1.0,1.0);\n    else\n        col = col * 0.0;\n        \n        \n    vec4 mamad = texture(iChannel0, uv);   \n        \n\n    fragColor.xyz = mamad.xyz + (col.xyz * vec3(uv.x, uv.y, 1.0f));\n\t//fragColor.xyz = col;\n}","name":"Image","description":"","type":"image"}]}