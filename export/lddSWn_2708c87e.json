{"ver":"0.1","info":{"id":"lddSWn","date":"1458933791","viewed":315,"name":"Spinning Dots","username":"vamoss","description":"original work: http://i.kinja-img.com/gawker-media/image/upload/s--vx1bMLlR--/c_fit,fl_progressive,q_80,w_636/ed1njkgybuifepqy5jzn.gif","likes":13,"published":1,"flags":0,"usePreview":0,"tags":["dots","spinning"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// a variant of FabriceNeyret's https://www.shadertoy.com/view/Xs33Wn\n// original work: http://i.kinja-img.com/gawker-media/image/upload/s--vx1bMLlR--/c_fit,fl_progressive,q_80,w_636/ed1njkgybuifepqy5jzn.gif\n\n\nfloat zoom = 11.;\nfloat qtd = 11.;\nfloat increaseRate = 4.;\n\n#define HALF_PI 1.57079632679\n#define TWO_PI 6.28318530718\n\nvec2 invtrans(vec2 v, float rot) {\n    v.x = ceil(v.y);\n    v.x += rot;\n    v.x *= TWO_PI;\n    v = v.y*sin(v.x+vec2(HALF_PI,0));\n    return v;\n}\n\nfloat circ(vec2 v, vec2 pos) {\n    const float maxQtd = 80.;\n    float curMax = ceil(v.x*increaseRate);\n    float circle = 1.;\n    float radius = 0.25+curMax/(increaseRate*100.);\n    float rot = -2./(v.x*2.);\n    if(iMouse.z>0.){\n\t    rot *= iMouse.x/iResolution.x*10.0;\n    }else{\n\t    rot *= iTime/4.;\n    }\n    for(float i=0.; i<maxQtd; i++){\n    \tif(i==curMax) break;\n    \tvec2 circlePos = pos-invtrans(floor(v+1.0)-vec2(0,.5), (rot+i/curMax));\n        circle*=smoothstep(radius-0.1,radius,length(circlePos));\n    }\n    return circle;\n}\n\nvoid mainImage( out vec4 fragColor, vec2 fragCoord )\n{\n    vec2 uv = zoom * (fragCoord*2.-iResolution.xy)/iResolution.y;\n    vec2 pos = uv;\n    uv.y = length(uv);\n    uv.x = ceil(uv.y);\n    \n    //qtd\n    uv = mod(uv,qtd);\n    \n    vec4 color = vec4(0.14, 0.5, 0.58, 1.0);\n    \n    //lines\n    //color = mix(vec4(1), color, smoothstep(.0, .1, abs(fract(uv.y)-.5)));\n    \n    //circles\n    color = mix(vec4(1), color, circ(uv, pos));\n    \n    fragColor = color;\n}","name":"Image","description":"","type":"image"}]}