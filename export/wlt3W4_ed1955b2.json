{"ver":"0.1","info":{"id":"wlt3W4","date":"1576420500","viewed":103,"name":"FancyGear","username":"changlongLi","description":"This is a moving color gear, learn the \"shader\" process codeing in the demo","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["demo","gear","moveing"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Author:changlongLi\n\n#ifdef GL_ES\nprecision mediump float;\n#endif\n\n\n#define u_time iTime\n#define u_resolution iResolution.xy\n\nvec3 hsb2rgb( in vec3 c ){\n    vec3 rgb = clamp(abs(mod(c.x*6.0+vec3(0.0,4.0,2.0),6.0)-3.0)-1.0,0.0,1.0 );\n    rgb = rgb*rgb*(3.0-2.0*rgb);\n    return c.z * mix( vec3(1.0), rgb, c.y);\n}\n\n\nvec3 createGear(vec2 pos,float scale,vec2 uv){\n    \n    vec2 dir = pos - uv;\n    float radius = length(dir)*scale;\n    float angle = atan(dir.y,dir.x);\n\t\n   \tfloat f = smoothstep(-0.484,1., cos(angle*10.0+u_time*50.))*0.080+0.372;\n   \n    vec3 col = hsb2rgb(vec3((pos.y),1.000,1.0));\n    return vec3( 1.-smoothstep(f,f+0.02,radius)) * col;\n}\n\n\n// \nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ){\n    vec2 uv = gl_FragCoord.xy/u_resolution.xy;\n    vec3 gearleLists = vec3(0.014,0.054,0.210);\n    gearleLists = vec3(0.014,0.054,0.210);\n    float spaceX = 0.;\n    float spaceY = 0.;\n\n    float speedX = 0.5;\n\t float speedY = 0.3;\n\t float size = 25.0;\n\t for(int i = 0;i<31;i ++){\n      spaceX += 0.1;\n      spaceY += 0.1;\n      vec2 pos = vec2(spaceX,spaceY);\n      pos.x =  abs(sin(speedX*u_time+spaceX));\n      pos.y =  abs(cos(speedY*u_time+spaceY));\n      vec3 gear = createGear(pos,size,uv);\n      gearleLists += gear;\n    }\n    fragColor = vec4(gearleLists , 1.0);\n}\n","name":"Image","description":"","type":"image"}]}