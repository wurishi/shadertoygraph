{"ver":"0.1","info":{"id":"MXSGDV","date":"1708948656","viewed":86,"name":"Ring sci-fi fx","username":"BitterZephyr","description":"Circular fx","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["circle","ring","fx"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float sphereMask (float a, float b, float dist)\n{\n    return 1.-abs(a - b) - (1.0 - dist);\n}\n\nfloat RingBase(vec2 uv0, float radius, float width)\n{\n    float sphere = 1.-length(uv0);\n    \n    float ringRadius = radius + 0.05*cos(iTime);\n    float ringWidth = width;\n    \n    //float circle = 1.-abs(ringRadius - sphere) - (1.-ringWidth);\n    float circle = sphereMask(sphere, ringRadius, ringWidth);\n    circle = clamp (circle,0.,1.);\n    circle *= 1./ringWidth;\n    return circle;\n}\n\nfloat RingAngleBase(vec2 uv0, float NumSectors, float offset)\n{\n    float angle = atan(uv0.y, uv0.x)/6.28;\n    angle = (angle + 0.5);\n    angle = fract(angle+iTime*0.05+offset);\n    angle = fract(angle * NumSectors);\n    return angle;\n}\n\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Output to screen\n    vec2 uv = (fragCoord * 2. -iResolution.xy)/min(iResolution.x, iResolution.y);\n\n    float NumDashes = 48.0;\n    float dashes = sphereMask(0.5, RingAngleBase(uv, NumDashes, 0.0), 0.4);\n    dashes = min(dashes,RingBase(uv, 0.15, 0.01));\n    //dashes = RingBase(uv, 0.15, 0.01) * dashes;\n    dashes = smoothstep(0.0, 0.1, dashes);\n    \n    //Highlight\n    float fracturedTime = floor(fract(iTime*0.1)*NumDashes/2.0)/NumDashes;\n    float highlight = 1.-RingAngleBase(uv, NumDashes/4.0, fracturedTime);\n    //highlight = 0.25 + smoothstep(0.25,0.75,highlight); \n    dashes *= highlight;\n\n    vec3 col1 = vec3(dashes) * vec3 (0.9, 0.3, 0.1) * 3.0;\n    vec3 col2 = vec3(dashes) * vec3 (0.0, 0.5, 0.5) * 3.0;\n    vec3 col = mix (col1, col2, (sin(iTime)+1.)/2.);\n    //col = vec3(dashes);\n    fragColor = vec4(col, 1.0);\n}","name":"Image","description":"","type":"image"}]}