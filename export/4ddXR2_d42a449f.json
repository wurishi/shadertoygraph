{"ver":"0.1","info":{"id":"4ddXR2","date":"1460338842","viewed":178,"name":"Nielmo: Julia sets","username":"Nielmo","description":"julia","likes":7,"published":1,"flags":0,"usePreview":0,"tags":["julia"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Nielmo 2016\n\nvec4 mandelbrot( vec2 p, float depth, vec2 l, vec2 r, float scale) {\n    //vec2 loc =  vec2(0.83+0.035*sin(iTime*2.717),-0.150+0.05*sin(iTime*3.333));\n    float re = -0.8+0.03*sin(iTime*0.117)+0.009*sin(iTime*0.716);\n    float im = 0.15+0.03*sin(iTime*0.073)+0.009*sin(iTime*0.332);\n    vec2 loc =  vec2(re,im);\n\n\tvec2 c = (p.xy-iResolution.xy/2.0) / iResolution.y*scale;\n\tc = vec2 (c.x*r.x-c.y*r.y,c.x*r.y+r.x*c.y)-l/1.5;\n\n    vec2 z = c; //vec2(0.0,0.0);\n    float n = 0.0;\n    for(float nn=0.0;nn<=1024.0;nn++) {\n        z = vec2 (z.x*z.x-z.y*z.y,2.0*z.x*z.y)+loc;\n        n++;\n        if(dot(z,z)>=256.0) {\n            break;\n        }\n        if(n>=depth) {\n            break;\n        }\n    }\n    if(n>=depth) {\n\t\treturn vec4(0.0,0.0,0.0,1.0);\n    }\n    n = n -log2(log2(dot(z,z)));\n    n = n*0.01;\n    n = sqrt(n);\n    float cr = 0.5+0.5*cos(n*7.0+iTime);\n    float cg = 0.5+0.5*cos(n*11.0+iTime*1.111);\n    float cb = 0.5+0.5*cos(n*13.0+iTime*2.567);\n\treturn vec4(cr,cg,cb,1.0);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n   \tbool antialias = true;\n    //antialias = fragCoord.x<iResolution.x/2.0;\n    float depth=128.0;\n\n    float sr = 0.13;\n    float scale = 0.10+0.003*sin(iTime*sr);\n    scale = 4.0*scale;\n\n    float lr = 1.57;\n    vec2 l = vec2(0.7071*sin(0.717*sin(0.17*iTime*lr)+0.017*iTime),0.7071*cos(0.717*sin(0.17*iTime*lr)+0.017*iTime));\n\n    float rr = 1.37;\n    vec2 r = vec2(0.7071*sin(0.717*sin(0.17*iTime*rr)+0.017*iTime),0.7071*cos(0.717*sin(0.17*iTime*rr)+0.017*iTime));\n    //vec2 r = vec2(0.7071*sin(0.717*iTime*rr)+0.17*sin(0.17*iTime*rr),0.7071*cos(0.717*iTime*rr)+0.17*cos(0.17*iTime*rr));\n    \n    vec4 c0 = mandelbrot(fragCoord.xy,depth,l,r,scale);\n    if(antialias) {\n        vec4 c1 = mandelbrot(fragCoord.xy+vec2(0.000,0.333),depth,l,r,scale);\n        vec4 c2 = mandelbrot(fragCoord.xy+vec2(0.000,0.666),depth,l,r,scale);\n        vec4 c3 = mandelbrot(fragCoord.xy+vec2(0.333,0.000),depth,l,r,scale);\n        vec4 c4 = mandelbrot(fragCoord.xy+vec2(0.333,0.333),depth,l,r,scale);\n        vec4 c5 = mandelbrot(fragCoord.xy+vec2(0.333,0.666),depth,l,r,scale);\n        vec4 c6 = mandelbrot(fragCoord.xy+vec2(0.666,0.000),depth,l,r,scale);\n        vec4 c7 = mandelbrot(fragCoord.xy+vec2(0.666,0.333),depth,l,r,scale);\n        vec4 c8 = mandelbrot(fragCoord.xy+vec2(0.666,0.666),depth,l,r,scale);\n        fragColor = (c0+c1+c2+c3+c4+c5+c6+c7+c8)*0.11111111;\n    }else{\n        fragColor = c0;\n    }\n    \n    //if(antialias && abs(fragCoord.x-iResolution.x/2.0)<1.0) {\n    //    fragColor = mix(fragColor, vec4(1.0,1.0,1.0,0.0), 0.5);\n    //}\n    \n}","name":"Image","description":"","type":"image"}]}