{"ver":"0.1","info":{"id":"mltfWS","date":"1701556113","viewed":29,"name":"Chroma key - g-to-rb","username":"mbeg","description":"Um shader que troca a cor do fundo (verde) para um variano de vermelho a azul","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["shader"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XdfGRr","filepath":"/media/a/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm","previewfilepath":"/media/ap/35c87bcb8d7af24c54d41122dadb619dd920646a0bd0e477e7bdc6d12876df17.webm","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Nome: Mateus Borges e Guimarães\n\n// Função que carrega o video\nvec4 loadVideo(vec2 fragCoord)\n{\n    vec2 uv = fragCoord/iResolution.xy * 1.0;\n    vec4 video = texture(iChannel0, uv);\n    return video;\n}\n\n\n// Função que recebe a coordenada do pixel e retorna a cor\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec4 video = loadVideo(fragCoord);\n    \n    float threshold = 0.3;  // o valor que o pixel deve exeder para ser verde\n    float greenBias = 1.75;\n    \n    // Adiciona um efeito de oscilação entre vermelho e azul\n    float time = iTime * 0.5;\n    vec4 red = vec4(1.0, 0.0, 0.0, 1.0); //vermelho\n    vec4 blue = vec4(0.0, 0.0, 1.0, 1.0); //verde\n    vec4 color = mix(red, blue, (sin(time) + 1.0) / 2.0); \n    \n    // sin cria uma oscilação que varia entre -1 e 1, para ter um valor que via de 1 a 0, divido o resultado\n    // por 2 tendo assim 0.5 e -0.5, agora so basta somar 0.5 ao resultado, tendo 1 ou 0 como saida final\n    // mix fica variando entre vermelho e azul com base na saida final\n    \n    if(video.g - video.r > threshold * greenBias && video.g - video.b > threshold)\n    {\n        // Se o pixel for verde, alterna entre vermelho e azul\n        fragColor = color;\n    }\n    else\n    {\n        // Caso contrário, mantenha a cor original do pixel\n        fragColor = video;\n    }\n}\n","name":"Image","description":"","type":"image"}]}