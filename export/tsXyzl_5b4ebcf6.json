{"ver":"0.1","info":{"id":"tsXyzl","date":"1585330760","viewed":134,"name":"Tiny experiment with patterns","username":"jorgemoag","description":"Tiny experiment with patternst","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["2d","pattern"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float hash(vec2 p)\n{\n    float x = dot(p, vec2(5281.386, -13.885));\n    return fract(48123.917*sin(x));\n}\n\nfloat layer(vec2 ap)\n{\n    vec2 p = fract(ap) - 0.5;\n    \n    float col = 0.;\n    for (float oy = -1.; oy <= 1.; ++oy) {\n        for (float ox = -1.; ox <= 1.; ++ox) {            \n            \n            vec2 offs = vec2(ox, oy);  \n            \n            vec2 qid = floor(ap) + offs;\n            vec2 qp = p + offs;\n            \n            float h = hash(qid);\n            \n            //thnx BigWIngs for the suggestion\n            vec2 c = offs + 0.5 * sin(6.2832 * vec2(h, fract(37.715 * h)) + iTime) - .5;\n            \n            float d = length(p - c);\n            \n            col += smoothstep(0.2, 0.15, d);\n            \n    \t}\n    }\n    return col;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 ap = (2.0 * fragCoord - iResolution.xy) / iResolution.y;    \n    ap *= 3.;\n    \n    float a = layer(ap) + 0.5 * layer(2. * ap) + .25 * layer(4. * ap) + .125 * layer(8. * ap);\n        \n    fragColor = vec4(vec3(a),1.0);\n}","name":"Image","description":"","type":"image"}]}