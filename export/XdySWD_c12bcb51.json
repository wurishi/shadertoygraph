{"ver":"0.1","info":{"id":"XdySWD","date":"1464282051","viewed":250,"name":"ColorStar v1.1","username":"tholzer","description":"swinging colorful flower variant ","likes":2,"published":1,"flags":64,"usePreview":0,"tags":["2d","sound","flower","color","star","soundcloud"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4df3W2","filepath":"https://soundcloud.com/robotaki/tron-legacy-daft-punk-derezzed","previewfilepath":"https://soundcloud.com/robotaki/tron-legacy-daft-punk-derezzed","type":"musicstream","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\n// ColorStar.glsl \n//  swinging colorful flower variant \n//  v1.0  2016-05-26\n//  v1.1  2016-05-29\n\nconst float PI = acos(-1.0);\n\nfloat hat(float x) { return (0.5 - pow(abs(x - 0.5),0.7)) * 2.0; }\n\n// flower data\n#define LEAFS 12.0\n#define r1 0.42\n#define r2 0.52\n\n#define T(u) texture(iChannel0, vec2(u, 0)).r\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 r = iResolution.xy*0.5 + iMouse.xy;\n\t// fragment position\n\tvec2 p = 2. * (fragCoord.xy * 2.0 - r) / min(r.x, r.y);\n\tfloat d = length(p);\n\tfloat angle = atan(p.y, p.x) + 0.1*iTime+0.5*T(0.0);\n\tfloat l = r2 * hat(mod(angle / (2.0 * PI) * LEAFS, 1.0)) + r1;\n\tvec3 col = mix (vec3(0.5+T(0.2)+0.6*sin(2.*d-0.3+sin(iTime)))\n                   ,vec3(0.9, 1.5-l, 0.0), sin(d*53.)+4.*(d-l));\n\tcol = mix (vec3(0.1),col, clamp(0.0, 1.0, 4.*l-d));\n\tfragColor = vec4(col, 1.0);\n}\n","name":"Image","description":"","type":"image"}]}