{"ver":"0.1","info":{"id":"DlfSz8","date":"1674238418","viewed":603,"name":"crt shader effect","username":"lalaoopybee","description":"1. curve uv with edge blur.\n2. chromatic aberration by scaling r and b components.\n3. moire effect(double scanline pattern).\nsee also:[url=https://www.shadertoy.com/view/ddK3Dz]cubemap version[/url]","likes":1,"published":1,"flags":0,"usePreview":1,"tags":["crt","scanline","aberration","curve","npr"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define CURVATURE 3.9\n\n#define BLUR .021\n\n#define CA_AMT 1.016\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord){\n    vec2 uv=fragCoord/iResolution.xy;\n    \n    //curving\n    vec2 crtUV=uv*2.-1.;\n    vec2 offset=crtUV.yx/CURVATURE;\n    crtUV+=crtUV*offset*offset;\n    crtUV=crtUV*.5+.5;\n    \n    vec2 edge=smoothstep(0., BLUR, crtUV)*(1.-smoothstep(1.-BLUR, 1., crtUV));\n    \n    //chromatic abberation\n    fragColor.rgb=vec3(\n        texture(iChannel0, (crtUV-.5)*CA_AMT+.5).r,\n        texture(iChannel0, crtUV).g,\n        texture(iChannel0, (crtUV-.5)/CA_AMT+.5).b\n    )*edge.x*edge.y;\n    \n    //lines\n    if(mod(fragCoord.y, 2.)<1.) fragColor.rgb*=.7;\n    else if(mod(fragCoord.x, 3.)<1.) fragColor.rgb*=.7;\n    else fragColor*=1.2;\n}","name":"Image","description":"","type":"image"}]}