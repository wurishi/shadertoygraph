{"ver":"0.1","info":{"id":"4dBfDW","date":"1500398254","viewed":4189,"name":"[SH17A] 2tweet fluid 2","username":"flockaroo","description":"fluid, variation of https://www.shadertoy.com/view/4sSBRm in under 2 tweets total (define mainImage).\nwith more detailed vortices. but diverges after a while...\nnow even initialized due to some extra chars from 834144373 :-)\n\n","likes":69,"published":3,"flags":32,"usePreview":0,"tags":["fluid","2tweet"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// derived from https://www.shadertoy.com/view/4sSBRm\n// with the help of fabrice and 834144373 down to 278 total\n// ...v,p,q uninitialized though\n// but the fract could be left away in image tab and initialization commented in bufA\n\nvoid mainImage(out vec4 c, vec2 f){c=fract(texelFetch(iChannel0,ivec2(f),0));}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"// derived from https://www.shadertoy.com/view/4sSBRm\n// with the help of fabrice and 834144373 down to 278 total\n// ...v,p,q uninitialized though\n// but the fract could be left away in image tab and initialization commented in bufA\n\n//now even initialized due to some extra chars from 834144373 :-)\n\n#define C(x) texture(iChannel0,(x)/iResolution.xy).xy\n#define L(b) for(vec2 a=S;a.x<-6.;b=sin(a++))\nvoid mainImage(out vec4 c, vec2 f){vec2 p,q,S=vec2(-24,31),v=p=q=S-S; L(p)L(q) v+=p*dot(C((p+q).yx*S+f),q);c.xy=C(v+f)+.02/(f-1.);}\n// the version below wont diverge - its not below 2 tweets though ;-)\n// (amplitude is limited by atan)\n//#define mainImage(c,f) vec2 p,q,S=vec2(-24,31),v=p=q=S-S; L(p)L(q) v+=p*dot(C((p+q).yx*S+f),q);c.xy=50.*atan(C(v+f)/50.)+.02/(f-1.)\n\n/*\n#define C(x) texture(iChannel0,(f+x)/iResolution.xy).xy\n#define L(b) for(vec2 a=S;a.x<-6.;b=sin(a++))\nvoid mainImage(out vec4 c, vec2 f)\n{\n    // <- uncomment this if you see garbage or nothing\n    vec2 p,q,S=vec2(-24,31),v;//=p=q=S-S;\n    L(p) L(q) v+=p*dot(C((p+q).yx*S),q);\n    c.xy=C(v)+.02/(f-1.);\n}\n*/","name":"Buffer @","description":"","type":"buffer"}]}