{"ver":"0.1","info":{"id":"Xsfcz2","date":"1488891753","viewed":261,"name":"HSV Rainbow","username":"pineapplemachine","description":"Makes everything rainbow-tastic using HSV-to-RGB conversion.","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["hsv","hue","colorspace"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"Xdf3Rn","filepath":"/media/a/e81e818ac76a8983d746784b423178ee9f6cdcdf7f8e8d719341a6fe2d2ab303.webm","previewfilepath":"/media/ap/e81e818ac76a8983d746784b423178ee9f6cdcdf7f8e8d719341a6fe2d2ab303.webm","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec4 hsvtorgb(in float h, in float s, in float v){\n    float f = h - floor(h);\n    #define p v * (1.0 - s)\n    #define q v * (1.0 - (s * f))\n    #define t v * (1.0 - (s * (1.0 - f)))\n    if(h < 0.0 || h >= 6.0){\n        return vec4(v, p, 0.0, 1.0);\n    }else if(h >= 5.0){\n        return vec4(v, p, q, 1.0);\n    }else if(h >= 4.0){\n        return vec4(t, p, v, 1.0);\n    }else if(h >= 3.0){\n        return vec4(p, q, v, 1.0);\n    }else if(h >= 2.0){\n        return vec4(p, v, t, 1.0);\n    }else if(h >= 1.0){\n        return vec4(q, v, p, 1.0);\n    }else{\n        return vec4(v, t, p, 1.0);\n    }\n}\n\nvoid mainImage(out vec4 color, in vec2 coord){\n    vec4 src = texture(iChannel0, coord.xy / iResolution.xy);\n    float hue = (coord.xy / iResolution.x).x * 6.0;\n    float sat = max(src.r, max(src.g, src.b)) - min(src.r, max(src.g, src.b));\n    float luma = src.r * 0.3 + src.g * 0.6 + src.b * 0.1;\n\tcolor = hsvtorgb(hue, min(1.0, sat + 0.1), luma);\n}\n","name":"Image","description":"","type":"image"}]}