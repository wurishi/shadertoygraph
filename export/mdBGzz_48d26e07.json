{"ver":"0.1","info":{"id":"mdBGzz","date":"1667327386","viewed":146,"name":"Circle illusion","username":"minghir","description":"Learning, playing with iTime.\n","likes":9,"published":1,"flags":0,"usePreview":0,"tags":["2d","illusion","bw"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define tt t*t*t \nconst float PI = 3.1416;\nmat2 rotationMatrix(float angle){\n\tangle *= PI / 180.0;\n    float s=sin(angle), c=cos(angle);\n    return mat2( c, -s, s, c );\n}\n\nfloat Circle(vec2 uv,vec2 pos,float r){\n   if(r == 0.) return 0.;\n   uv +=pos;   \n   float d = length(uv) - r;\n   d = smoothstep(.0,2.*2./iResolution.y,d);\n   return 1.-d;\n}\n\nfloat eCircle(vec2 uv,vec2 pos,float r){\n   if(r == 0.) return 0.;\n   uv +=pos;   \n   float d = length(uv) - r;\n   d = smoothstep(.0,2.*2./iResolution.y, abs(d));\n   return 1.-d;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\nvec2 uv = (2.*fragCoord-iResolution.xy ) / iResolution.y ;\nfloat time = 40.;\nfloat t = fract( iTime );\nfloat loop = mod(iTime,time);\nfloat s = sign(sin(iTime*PI/time));\nfloat col = s <=0. ? 1.:0.;\nfloat r_c = 0., r_max = 0., r_min = 0., r_med = 0., p = 0., ii=0., jj=0., cl = 0., angle = 0., pf = 0., ri = 0.625, rj = 1.05 ;\ncl = 1.-col;\n   if(loop <= 1.){r_c = tt*0.1; }\n   else if(loop >1. && loop <= 2.){  r_c = 0.1;  }\n   else if(loop >2. && loop <= 3.){  r_c = 0.1; p = tt*0.5; }\n   else if(loop >3. && loop <= 4.){  r_c = 0.1; p = 0.5; }\n   else if(loop >4. && loop <= 5.){  r_c = 0.1; p = 0.5; r_max = tt*4.5*0.1; r_min = tt*0.2*0.1; r_med = tt*1.4*0.1; }\n   else if(loop >5. && loop <= 8.){  r_c = 0.1; p = 0.5; r_max = 4.5 * r_c; r_min = 0.2 * r_c; r_med = 1.4 * r_c;}\n   else if(loop >8. && loop <= 9.){  r_c = 0.1; p = 0.5; r_max = 4.5 * r_c-(4.5-1.4)*r_c*tt; r_min = 0.2 * r_c; r_med = 1.4 * r_c+(4.5-1.4)*r_c*tt;  }\n   else if(loop >9. && loop <= 13.){ r_c = 0.1; p = 0.5; r_max = 1.4 * r_c; r_min = 0.2 * r_c; r_med = 4.5 * r_c;  }\n   else if(loop >13. && loop <= 14.){r_c = 0.1; p = 0.5; r_max = 1.4*r_c-1.4*r_c*tt; r_min = 0.2 * r_c; r_med = 4.5 * r_c-(4.5)*r_c*tt;}\n   else if(loop >14. && loop <= 15.){r_c = 0.1; p = 0.5;}\n   else if(loop >15. && loop <= 16.){r_c = 0.1; p = 0.5;}\n   else if(loop >16. && loop <= 17.){r_c = 0.1; p = 0.5; r_max = tt*4.5*0.1; r_min = tt*0.2*0.1; r_med = tt*1.4*0.1; ii = tt*11.; jj = tt*6.; pf = 1.; cl = (cl==1.?1.-.5/tt:0.5*tt);}\n   else if(loop >17. && loop <= 20.){r_c = 0.1; p = 0.5; r_max = 4.5*0.1; r_min = 0.2*0.1; r_med = 1.4*0.1; ii = 11.; jj = 6.; pf = 1.;cl = .5;}\n   else if(loop >20. && loop <= 21.){r_c = 0.1; p = 0.5; r_max = 4.5*0.1; r_min = 0.2*0.1; r_med = 1.4*0.1; ii = 11.; jj = 6.; pf = 1.; angle = -90.*tt;cl = .5;}\n   else if(loop >21. && loop <= 24.){r_c = 0.1; p = 0.5; r_max = 4.5*0.1; r_min = 0.2*0.1; r_med = 1.4*0.1; cl = .5; ii = 11.; jj = 6.; pf = 1.; angle = -90.;}\n   else if(loop >24. && loop <= 25.){r_c = 0.1; p = 0.5; r_max = 4.5*0.1; r_min = 0.2*0.1; r_med = 1.4*0.1; cl = .5; ii = 11.; jj = 6.; pf = 1.; angle = -90.+90.*tt;}\n   else if(loop >25. && loop <= 26.){r_c = 0.1; p = 0.5; r_max = 4.5*0.1; r_min = 0.2*0.1; r_med = 1.4*0.1; cl = .5; ii = 11.; jj = 6.; pf = 1.; }\n   \n   else if(loop >26. && loop <= 27.){r_c = 0.1; p = 0.5; r_max = 4.5*0.1; r_min = 0.2*0.1; r_med = 1.4*0.1; cl = .5; ii = 11.-11.*t; jj = 6.-6.*t; pf = 1.;}\n   \n   else if(loop >27. && loop <= 28.){r_c = 0.1; p = 0.5+tt*0.4; r_max = 4.5*0.1; r_min = 0.2*0.1; r_med = 1.4*0.1; cl = 0.5; pf = 1.; col = (1.+(uv.x)/2.)/2.*(col==1.?1./t:t);}\n   else if(loop >28. && loop <= 30.){r_c = 0.1; p = 0.9; r_max = 4.5*0.1; r_min = 0.2*0.1; r_med = 1.4*0.1; cl = .5; pf = 1.; col = (1.+uv.x/2.)/2.;}\n   else if(loop >30. && loop <= 31.){r_c = 0.1; p = 0.9; r_max = 4.5*0.1; r_min = 0.2*0.1; r_med = 1.4*0.1; cl = .5; pf = 1.; col = (1.+uv.x/2.)/2.; angle = 180.*tt;}\n   else if(loop >31. && loop <= 33.){r_c = 0.1; p = 0.9; r_max = 4.5*0.1; r_min = 0.2*0.1; r_med = 1.4*0.1; cl = .5; pf = 1.; col = (1.+uv.x/2.)/2.; angle = 180.;}\n   else if(loop >33. && loop <= 34.){r_c = 0.1; p = 0.9; r_max = 4.5*0.1; r_min = 0.2*0.1; r_med = 1.4*0.1; cl = .5; pf = 1.; col = (1.+uv.x/2.)/2.; angle = 180.-180.*tt;}\n   else if(loop >34. && loop <= 36.){r_c = 0.1; p = 0.9; r_max = 4.5*0.1; r_min = 0.2*0.1; r_med = 1.4*0.1; cl = .5; pf = 1.; col = (1.+uv.x/2.)/2.; angle = 180.;}\n   else if(loop >36. && loop <= 37.){r_c = 0.1; p = 0.9; r_max = 4.5*0.1; r_min = 0.2*0.1; r_med = 1.4*0.1; cl = (cl==1.?.5*tt:1.-.5/tt); pf = 1.; col = (col==0.?-t:t)+(1.+uv.x/2.)/2.;}\n   else if(loop >37. && loop <= 38.){r_c = 0.1; p = 0.9-tt*0.9;  }\n   else if(loop >38. && loop <= 39.){r_c = 0.1-tt*0.1; }\n   else if(loop >39. && loop <= 40.){col = (col==1.?1.-tt:tt);}   \n   uv *= rotationMatrix(angle);\n   float cCircles = Circle(uv,vec2(p,0.),r_c) +  Circle(uv,vec2(-p,0.),r_c);\n   float eCircles = eCircle(uv,vec2(p,0.),r_max)*(1.-pf) + eCircle(uv,vec2(-p,0.),r_med)*(1.-pf);\n  \n   float aCircles; \n   for(float i=1.; i<=ri*ii; i+=ri){\n         aCircles += Circle(uv,vec2(p+sin(i)/7.,cos(i)/7.),r_min)*pf;\n    }\n         \n    for(float j=1.; j<=rj*jj; j+=rj){\n         aCircles += Circle(uv,vec2(-p+sin(j)/3.,cos(j)/3.),r_med)*pf;    \n    }\n         \n    float circles =  eCircles + aCircles;\n    vec3 c =  mix(vec3(col),vec3(cl),cCircles);\n  \n    fragColor = vec4(vec3(circles)*s+c,1.0);\n}","name":"Image","description":"","type":"image"}]}