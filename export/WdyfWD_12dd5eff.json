{"ver":"0.1","info":{"id":"WdyfWD","date":"1607097278","viewed":182,"name":"anti-aliased polygon","username":"DjinnKahn","description":"anti-aliased polygon","likes":7,"published":1,"flags":0,"usePreview":0,"tags":["primitive","antialiasedpolygon"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// signed distance from p to line segment (a,b)\nfloat sdHalfPlane( vec2 p, vec2 a, vec2 b )\n{\n    // translate so \"b\" is at origin, and normalize a\n    p -= b;\n    a = normalize( a - b );\n    return p.x*a.y - a.x*p.y;\n}\n\n// approximate signed distance from p to quad (a,b,c,d)\nfloat sdQuadApprox( vec2 p, vec2 a, vec2 b, vec2 c, vec2 d )\n{    \n    return max( max( sdHalfPlane( p, a, b ), sdHalfPlane( p, b, c ) )\n              , max( sdHalfPlane( p, c, d ), sdHalfPlane( p, d, a ) ) );               \n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float dist = sdQuadApprox( fragCoord, vec2( 40, 20 ), vec2( 20, 200 ), vec2( 200, 300 ), vec2( 300, 20 ) );\n    \n    float color = .5-dist;    \n    \n    fragColor = vec4(vec3(color),1.0);\n    \n    //fragColor = vec4( dist > 0. ? .5 : 0., 0., mod(dist/20., 1.), 1.0);    \n}","name":"Image","description":"","type":"image"}]}