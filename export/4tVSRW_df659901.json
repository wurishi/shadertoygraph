{"ver":"0.1","info":{"id":"4tVSRW","date":"1487917352","viewed":240,"name":"Blinking stars","username":"gaz","description":"2d","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["2d"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\nvec3 hsv(in float h, in float s, in float v)\n{\n  return mix(vec3(1),clamp((abs(fract(h+vec3(3,2,1)/3.)*6.-3.)-1.),0.,1.),s)*v;\n}\n    \nmat2 rotate(float a)\n{\n\treturn mat2(cos(a), sin(a), -sin(a), cos(a));\t\n}\n\nfloat hash(float n){return fract(sin(n) * 43758.5453123);}\n\nfloat star(in vec2 p)\n{\n  float a = radians(72.); \n  return dot(abs(rotate(floor(0.5 + atan(p.x, p.y) /a) *a) * p), vec2(2, 1));\n}\n\nvec2 paturn( in vec2 p )\n{\n    vec2 i = floor(p);    \n    float t = iTime + hash(i.x*5. + i.y*9.)*radians(360.);\n    float f = sin(t +sin(t*2.+i.x))*0.5+0.5;\n    p = fract(p)-0.5;\n    float d = mix(length(p)+0.05, star(p)-0.1, f);\n    float n= i.x*5. + i.y*9.+floor(iTime);    \n    return vec2(d  - 0.3*mix(hash(n),hash(n+1.0),smoothstep(0.0,1.0,fract(iTime))),f);\n}\n\nfloat scene(in float w, in float s)\n{\n    float time = mod(iTime,30.0);\n    return clamp(time - w, 0.0, s) / s;  \n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float time = iTime;\n\tvec2 q = fragCoord.xy / iResolution.xy;\n    vec2 p = (2.0*fragCoord.xy-iResolution.xy) / iResolution.y;\n    \n    p *= 1.5 * pow(sin(smoothstep(0.0,20.0,mod(time,13.)) * radians(90.0)), 0.3);\n    float t = floor(time*0.5);\n    p += vec2(cos(2.*t+3.0*cos(3.0*t)),sin(2.*t+3.0*sin(3.*t))) * 1.0;\n    p = mix(vec2(inversesqrt(length(p)) * 5., atan(p.x, p.y)*3.), p, step(0.5,fract(time*0.3)));\n    \n    float s1 = scene(5.0, 10.0);\n    float r1 = mix(0.3, 10.0,s1);\n    vec2 n = paturn(p*r1+0.5);\n    vec3 col = hsv(n.y+time*0.2,0.7,0.9)*smoothstep(0.03, 0.,n.x);\n    \n    col *= smoothstep(1.5, 0.11,length(q*2.-1.));\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}