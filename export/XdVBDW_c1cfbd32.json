{"ver":"0.1","info":{"id":"XdVBDW","date":"1528890862","viewed":228,"name":"Sound Spiral","username":"lnae","description":"doodle","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["2d","sound","reactive","spiral"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGzn","filepath":"/media/a/ec8a6ea755d34600547a5353f21f0a453f9f55ff95514383b2d80b8d71283eda.mp3","previewfilepath":"/media/ap/ec8a6ea755d34600547a5353f21f0a453f9f55ff95514383b2d80b8d71283eda.mp3","type":"music","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.14159\n\nmat2 rot(float angle){\n\treturn mat2(cos(angle), -sin(angle), sin(angle), cos(angle));\n}\n\nvec3 hsv2rgb(vec3 hsv){\n\tvec3 rgb = clamp(abs(6. * fract(hsv.x + vec3(0., 0.6666, 0.3333)) - 3.) - 1., 0., 1.);\n    rgb = rgb * rgb * (3. - 2. * rgb);\n    rgb = (1. - hsv.y) + hsv.y * rgb;\n    return hsv.z * rgb;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{    \n    vec2 uv = (fragCoord - 0.5 * iResolution.xy) / iResolution.x;\n    float r = length(uv);\n    float angle = abs(atan(uv.y, uv.x) / PI);\n    \n    float wave = texture(iChannel0, vec2(angle, 0.75)).x;\n    float fft = texture(iChannel0, vec2(r + (wave / 25.), 0.25)).x;\n    \n    uv = rot(2.5 * fft + (2. * iTime) - 10. * r) * uv;\n\n    vec3 col = hsv2rgb(vec3(uv.x, 0.5 + 0.5 * (sin(iTime) + 1.), 0.3 + fft ));\n        \n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}