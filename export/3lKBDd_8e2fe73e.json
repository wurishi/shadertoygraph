{"ver":"0.1","info":{"id":"3lKBDd","date":"1615302252","viewed":150,"name":"Sunset wire","username":"gyabo","description":"Wire illuminated by the sunset.","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["2d"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const int SAMPLES = 24;\n\nfloat rand(vec2 p) {\n\treturn fract(sin(dot(p, vec2(12.9898, 4.1414)) * 41253.12356)) * 2.0 - 1.0;\n}\n\nvec3 rand3(vec2 p) {\n\treturn normalize(vec3(rand(p + 0.0), rand(p + 1.0), rand(p + 2.0))) * rand(p + 4.0);\n}\n\nvec4 getrect(vec2 pos, vec3 alb) {\n\tfloat s = 0.0125;\n\tvec4 col = vec4(1.0);\n\tfloat tm = 1.14 + iTime * 0.01;\n\tfor(int i = 0 ; i < 64; i++) {\n\t\tfloat k = float(i + 123);\n\t\tvec2 p = vec2(cos(k * 1.4 + tm), sin(2.4 * k + tm)) * vec2(1.717, 1.0);\n\t\tp -= pos;\n\t\tp *= (1.0 - dot(p * 0.18, p));\n\t\tif(abs(p.x) < s && abs(p.y) < s) {\n\t\t\tcol *= vec4(alb, 0.0);\n\t\t\tbreak;\n\t\t}\n\t\tpos = pos.yx;\n\t}\n\treturn col;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = ( 2.0 * fragCoord - iResolution.xy ) / min(iResolution.x, iResolution.y);\n\tvec3 col = vec3(0.0);\n    float v = 1.0 - abs(uv.x) * 0.125;\n    float H = 0.03;\n\tfor(int i = 0 ; i < SAMPLES; i++) {\n\t\tfloat k = (float(i) / float(SAMPLES)) * 3.141592 * 2.0;\n\t\tvec2 dir = vec2(cos(k), sin(k));\n\t\tvec2 uvs = uv + dir * 0.0075;\n\t\tvec2 uvc = uv + dir * 0.001;\n\t\tvec4 s = getrect(uvs + H * vec2(-1,1), vec3(0.0));\n\t\tvec4 c = getrect(uvc, vec3(1,2,3) * 0.3);\n\t\tif(s.w == 0.0 && c.w == 1.0)\n\t\t\tc.xyz *= 0.025;\n        col += c.xyz;\n\t}\n\tcol /= float(SAMPLES);\n\tcol *= vec3(3,2,1) * v * v * 0.5;\n    col = pow(col, vec3(1.7));\n    fragColor = vec4(col + abs(rand3(uv)) * 0.1, 1.0);\n}","name":"Image","description":"","type":"image"}]}