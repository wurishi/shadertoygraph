{"ver":"0.1","info":{"id":"MscXWj","date":"1461486461","viewed":439,"name":"not as clumsy or random","username":"hubbe","description":"Headphones recommended.","likes":5,"published":1,"flags":8,"usePreview":0,"tags":["sound","lightsaber"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define R 0.015\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = (fragCoord.xy - iResolution.xy/2.0)/ iResolution.y;\n    vec3 tip = vec3(sin(iTime/2.0) * 0.3,\n                    0.3 + sin(iTime/3.3) * 0.07,\n                    1.0);\n    vec3 base = vec3(sin(iTime / 2.0 + 0.8) * 0.1,\n                     -0.5,\n                     0.0);\n    \n    vec3 camera = vec3(0,0,-1);\n    vec3 dir = normalize(vec3(uv, 1) - camera);\n\tfloat t = 0.0;\n    vec3 blade = tip - base;\n    float bl2 = dot(blade, blade);\n    \n    fragColor = vec4(uv,0.5+0.5*sin(iTime),1.0) / 12.0;\n    \n    for (int i = 0; i < 60; i++) {\n        vec3 p = camera + dir * t;\n        vec3 x = base + blade * clamp(dot(p - base, blade)  / bl2, 0.0, 1.0);\n        float d = length(p - x) - R;\n        t += d;\n        if (d < 0.001) {\n            fragColor = vec4(1.0);\n            break;\n        }\n        fragColor += vec4(0,0,0.0005,0) / (d * d);\n    }\n    fragColor = clamp(fragColor, 0.0, 1.0);\n    fragColor = pow(fragColor, vec4(1.0/2.2));\n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[{"id":"XsfGRr","channel":0}],"code":"float pi = 3.14159265;\n\nfloat si(float x) { return sin(fract(x) * pi * 2.0); }\nfloat tri(float x) { return fract(x) * 2.0 - 1.0; }\nfloat sc(float x) { return clamp(si(x), -0.707, 0.707); }\n\nfloat buzz(float x) {\n    x = fract(x) * 10.0;\n    return sin(exp(2.5-x)-0.2);\n}\n\nfloat humm(float x) {\n    return sc(x) + si(x*2.0)/2.0;\n}\n\nfloat sound(float x) {\n    float tmp = 0.0;\n    tmp += humm(93.0 * x) / (4.0 + sin(x / pi));\n    tmp += buzz(30.0 * x) / (5.0 + sin(x));\n    return tmp;\n}\n\nvec2 mainSound( in int samp, float time )\n{\n    vec2 ret = vec2(0);\n    ret += vec2(sound(time), sound(time + sin(time/2.0)/1000.0));\n    ret += vec2(sound(time + 0.02), sound(time + 0.0021)) / 5.0;\n    return ret;                \n}","name":"Sound","description":"","type":"sound"}]}