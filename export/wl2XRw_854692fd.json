{"ver":"0.1","info":{"id":"wl2XRw","date":"1565463195","viewed":137,"name":"dancing spiral","username":"anclin","description":"dancing spiral","likes":8,"published":1,"flags":0,"usePreview":0,"tags":["dancingspiral"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define E 2.7182818284\n#define S01(t) sin(t) * .5 + .5\n#define C01(t) cos(t) * .5 + .5\n#define S(a,b,t)  mix(a, b, S01(t))\n#define C(a,b,t)  mix(a, b, C01(t))\n#define BPM 131.\n#define BPS BPM/60.\n\nfloat lineDF(vec2 a, vec2 b, vec2 p){\n    vec2 ab = b-a;\n    vec2 ap = p-a;\n    float t = dot(ap,ab)/dot(ab,ab);\n//    t = mix(clamp(t,0.,1.), t, sin(iTime*BPS*PI2/16.)*.5+.5);\n//    t = mix(clamp(t,0.,1.), t, floor(mod(iTime*BPS/16., 2.)));\n//    t = mix(clamp(t,0.,1.), t, pow(abs(sin(iTime*BPS/32.*PI)),.25) );\n\tt = clamp(t,0.,1.);\n    vec2 c = a + t*ab;\n    return length(p-c);\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    \n    vec2 uv = (fragCoord-.5*iResolution.xy)/iResolution.y;\n    float scale = 12.;\n    uv *= scale;\n    float t = iTime*BPS/4.;\n    float t2 = t * 2.;\n    float t3 = t * 1.;\n    float t4 = t * .125;\n    \n    //uv += vec2(cos(t),sin(t)) * sin(t*3.)*5.;\n    \n    float c = 9999.;\n    vec2 prev = vec2(0);\n    \n//    float p = pow(1.-abs(sin(t0*PI)),3.);//pulse\n    \n    float r = mix(.02, .1, pow(cos(t4*PI)*.5+.5, 2.) );\n    //r = .01;\n    \n\tfloat inc = PI2/3. * mix(1.+r,1.-r*.25,sin(t2*PI)*.5+.5);\n    float count = PI2*10.;\n    \n    for (float a = 0.; a < count; a += inc)\n    {\n        float a1 = a+PI/2. + t3;\n        vec2 p = vec2(cos(a1),sin(a1)) * a * .1;\n\n        if(a1 > 0.)\n            c = min(c, lineDF(prev,p,uv));\n        prev = p;\n    }\n    \n    float w = scale / iResolution.y;\n    float l = .02;\n    c = smoothstep(l+w,l-w,c);\n    vec3 col = vec3(c);\n    \n    col *= vec3(pow(E,-length(uv)*.25));\n    \n//    col = mix(col,vec3(1),mix(0.,.5,pow(sin(t0*PI2)*.5+.5,5.)));\n//    col = mix(col,vec3(1),mix(0.,.99,pow(1.-abs(sin(t0*PI)),3.)));\n\n    // Output to screen\n    uv /= scale;\n    //col = mix(col, vec3(1,0,0), step(abs(uv.y),.5/iResolution.y)*.05); // hori\n    //col = mix(col, vec3(0,1,0), step(abs(uv.x),.5/iResolution.y)*.05); // vert\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}