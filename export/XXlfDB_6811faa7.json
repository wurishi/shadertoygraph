{"ver":"0.1","info":{"id":"XXlfDB","date":"1728861526","viewed":63,"name":"Polygons - Shadetober24 #13","username":"franke333","description":"Day 13 of shadetober.\n\nI don't know what i will do for voronoi day if I already did this :(","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["shadetober"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec2 hash(vec2 p) {\n  return fract(\n      sin(vec2(dot(p, vec2(1.0, 57.0)), dot(p, vec2(53.0, 113.0)))) *(100.1517+0.057*iTime));\n}\n\nvec3 colorPallete(float t){\n    vec3 col1 = vec3(.96,.51,.22);\n    vec3 col2 = vec3(.15,.85,.95);\n    return t*col1 + (1.-t)*col2;\n}\n\n// big thanks to https://iquilezles.org/articles/voronoilines/ for this lovely solution <3\nvec3 voronoiDistance( in vec2 x )\n{\n    vec2 p = vec2(floor( x ));\n    vec2 f = fract( x );\n\n    vec2 mb;\n    vec2 mr;\n    vec2 closest;\n\n    float res = 8.0;\n    for( int j=-1; j<=1; j++ )\n    for( int i=-1; i<=1; i++ )\n    {\n        vec2 b = vec2(i, j);\n        vec2  r = vec2(b) + hash(p+b)-f;\n        float d = dot(r,r);\n\n        if( d < res )\n        {\n            res = d;\n            mr = r;\n            mb = b;\n            closest = hash(p+b)+p+f;\n        }\n    }\n\n    res = 8.0;\n    for( int j=-2; j<=2; j++ )\n    for( int i=-2; i<=2; i++ )\n    {\n        vec2 b = mb + vec2(i, j);\n        vec2  r = vec2(b) + hash(p+b) - f;\n        float d = dot(0.5*(mr+r), normalize(r-mr));\n        if(r==mr)\n            continue;\n\n        res = min( res, d );\n    }\n\n    return vec3(res,closest);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.y;\n    float size = 9.;\n    uv *= size;\n\n    // Time varying pixel color\n    vec3 res = voronoiDistance(uv);\n    float d = smoothstep(0.0,0.025,res.x);\n    vec2 p = res.yz/size;\n    \n\n    // Output to screen\n    fragColor = vec4(vec3(d)*colorPallete(p.y) ,1.0);\n}","name":"Image","description":"","type":"image"}]}