{"ver":"0.1","info":{"id":"XXfyR2","date":"1726402513","viewed":23,"name":"planes mask / cmcc","username":"Doris","description":"CC0: Starry planes\n  Revisited ye olde \"plane-marcher\".\n  A simple result that I think turned out pretty nice\n","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["stars","planes"],"hasliked":0,"parentid":"MfjyWK","parentname":"Starry planes"},"renderpass":[{"inputs":[{"id":"4dXGRn","filepath":"/media/a/10eb4fe0ac8a7dc348a2cc282ca5df1759ab8bf680117e4047728100969e7b43.jpg","previewfilepath":"/media/ap/10eb4fe0ac8a7dc348a2cc282ca5df1759ab8bf680117e4047728100969e7b43.jpg","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float hash( float n )\n{\n    return fract(sin(n)*43758.5453);\n}\n//mat2 m = mat2( 1.,  0., 0.,  1. );\nmat2 m = mat2( 0.8,  0.6, -0.6,  0.8 );\nfloat noise( in vec2 x )\n{\n    vec2 p = floor(x);\n    vec2 f = fract(x);\n\n    f = f*f*(3.0-2.0*f);\n\n    float n = p.x + p.y*57.0;\n\n    float res = mix(mix( hash(n+  0.0), hash(n+  1.0),f.x),\n                    mix( hash(n+ 57.0), hash(n+ 58.0),f.x),f.y);\n    return res;\n}\nfloat fbm(vec2 p){\n    float f = 0.;\n    f +=0.50000*abs(noise(p)-1.)*2.;p*=m*2.02;\n    f +=0.25000*abs(noise(p)-1.)*2.;p*=m*2.03;\n    f +=0.12500*abs(noise(p)-1.)*2.;p*=m*2.01;\n    f +=0.06250*abs(noise(p)-1.)*2.;p*=m*2.04;\n    f +=0.03125*abs(noise(p)-1.)*2.;\n    return f/0.96875;\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\n vec2 uv = fragCoord.xy / iResolution.xy;\n    float y = 1.0 - iMouse.y / iResolution.y;\n    \n    float safe_edges = 1.0 - pow(1.0 - sin(y * 3.1415), 14.0);\n    float time = iTime * 0.3;\n    \n    \n    float distortY = -0.2 + uv.y + 0.1 * fbm(vec2(uv * vec2(13.0, 3.0)) + vec2(time));\n    \n    float film_y = step(y * 2.0 - 1.0, distortY);\n    \n    float delta_to_y = 1.0 - max(0.0, smoothstep(y * 2.0 - 1.0, distortY, distortY - 0.1));\n\n    vec4 lit = mix(vec4(1.0), vec4(0.0,0.5,1.0,1.0), 1.0 - pow(delta_to_y, 4.0));\n    \n    vec4 col0 = texture(iChannel0, uv);\n    vec4 col1 = texture(iChannel1, uv);\n    vec4 col = mix(mix(col0, col1, film_y), lit, delta_to_y * safe_edges);\n    \n    \n    \n fragColor = vec4(col);\n}","name":"Image","description":"","type":"image"}]}