{"ver":"0.1","info":{"id":"DdtfRl","date":"1697573621","viewed":28,"name":"17. Demon","username":"Ladus","description":"Inktober 2023 Day 17. Alucard","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["demon","inktober"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.14159265359\n\nmat2 rotate(float a) {\n    a *= PI * 2.;\n    float s = sin(a);\n    float c = cos(a);\n    return mat2(c, -s, s, c);\n}\nfloat hash(vec2 i) {\n    return fract(fract(i.x*2345.234*i.y*23.23)*312.2134345+fract(((i.y+i.x)*2253.234)*2344.122));\n}\n\nfloat sdEye(vec2 p, float r, float s, float c) { // r=radius, s=width, c=centerfold\n    p = vec2(p.x, abs(p.y)+c); // mirror along x axis and remove center by\n    return length(vec2(p.x*(1.-s),p.y)) - r; // distance is further away, the further left or right\n}\nfloat sdCircle(vec2 p, float r) {\n    return length(p) - r;\n}\n\nvec4 eyeColor(vec2 p, float aa, float openness, float size) {\n    float c = 0.1;\n    float eyeSd = sdEye(p, 0.3*size,.3, c);\n    \n    float eyeMask = smoothstep(0.+aa,0.-aa,eyeSd);\n    float wave = sin((p.x-0.5)*PI)*sin((openness-.5)*3.)*c*2.1;\n    eyeMask = eyeMask * step(p.y, wave);\n    \n    float irisMask = smoothstep(0.+aa,0.-aa,sdCircle(p, 0.16*size));\n    float pupilMask = smoothstep(0.+aa,0.-aa,sdCircle(p, 0.09*size));\n    \n    float v = pupilMask;\n    \n    vec3 color = mix(vec3(1.,1.,.9), vec3(.8,.0,.2), irisMask);\n    color = mix(color, vec3(0.,0.,0.), pupilMask);\n    return vec4(color*eyeMask, eyeMask);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float loopingTime = fract(iTime/6.)*8.;\n    float aa = 0.003;\n    vec2 p = ( 2.*fragCoord - iResolution.xy )  / iResolution.y;\n    \n    // Output to screen\n    float gridScale = 3.;\n    vec2 grid = (fract(p*gridScale) * 1.3) - 1.;\n    vec2 gridId = floor((p*gridScale));\n    \n    float openness = clamp(length(gridId*.4)+1.-loopingTime,0.,1.);\n    openness += 1.-clamp(length(gridId*.4)+1.-loopingTime+2.,0.,1.);\n    vec4 color = eyeColor(grid+(hash(gridId)*0.6), aa, openness,(hash(gridId+2.)*0.3)+0.5);\n\n    fragColor = vec4(color*((1.-length(p))+.7));\n}","name":"Image","description":"","type":"image"}]}