{"ver":"0.1","info":{"id":"ll2fWD","date":"1515886776","viewed":105,"name":"simple ripple 2","username":"lhog","description":"ripple","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["ripple"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define nsin(x) sin(x) + 0.5f\n\nvec2 getRippleLinearFallCoord(in vec2 uv, in vec2 point, float mag, float waveFreq, float waveSpeed, float waveDist, in float time)\n{\n\tvec2 dir = uv - point;    \n    float dist = distance(uv, point);\n    float magMult = (1.0 - smoothstep(0.0f, waveDist, dist));\n    vec2 offset = dir * (nsin(dist * waveFreq - iTime * waveSpeed)) * mag * magMult;\n    return offset;\n}\n\nvec2 getRippleCoord(in vec2 uv, in vec2 point, float mag, float waveFreq, float waveSpeed, in float time)\n{\n\tvec2 dir = uv - point;    \n    float dist = distance(uv, point);\n    vec2 offset = dir * (nsin(dist * waveFreq - iTime * waveSpeed)) * mag ;\n    return offset;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord.xy / iResolution.xy;   \n    \n    vec2 offset = vec2(0.0);\n    \n    offset += getRippleCoord(uv, vec2(0.5, 0.5), 0.01, 15.0, 10.0, iTime);    \n    //offset += getRippleCoord(uv, vec2(0.1, 0.1), 0.01, 15.0, 10.0, iTime);\n    //offset += getRippleCoord(uv, vec2(0.1, 0.1), 0.025, 25.0, 20.0, iTime);\n    offset += getRippleLinearFallCoord(uv, vec2(0.05, 0.05), 0.5, 35.0, 30.0, 0.2, iTime);\n    offset += getRippleLinearFallCoord(uv, vec2(0.05, 0.95), 0.5, 35.0, -30.0, 0.2, iTime);\n    \n    vec2 texCoord = uv + offset;\n    vec4 diffuse = texture(iChannel0, texCoord);    \n    \n    //if (offset.x!=0.0 || offset.y!=0.0){\n        diffuse.rgb += 15.0 * length(offset);\n    //}\n    \n    \n    fragColor = diffuse;\n}","name":"Image","description":"","type":"image"}]}