{"ver":"0.1","info":{"id":"mt2yDm","date":"1691873849","viewed":110,"name":"Demodulation battle Qualificatio","username":"illus0r","description":"https://livecode.demozoo.org/performer/Ivan%2520Dianov.html","likes":13,"published":1,"flags":0,"usePreview":0,"tags":["battle"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define o fragColor\n\n#define time iTime\nuniform vec2 v2Resolution; // viewport resolution (in pixels)\nuniform float fFrameTime; // duration of the last frame, in seconds\n\n#define F float\n#define V vec2\n#define W vec3\n#define N normalize\n#define L length\n#define S(x) sin(x+2.*sin(x+4.*sin(x)))\n#define sabs(x) sqrt((x)*(x)+.1)\n#define smin(a,b) ((a+b-sabs(a-(b)))*.5)\n#define T 6.283\n#define Z(p,s) (asin(sin(p*T/s)*.9)/T*s)\n#define gyr(p,s) (dot(sin((p)*(s)),cos((p).zxy*(s)))/s*.5)\n#define rot(x) mat2(cos(x),-sin(x),sin(x),cos(x))\nF gl=0.;\n\nF sdf(W p){\n  W pI=p;\n  p.x+=S(p.z*.1+time*.3)*p.z*.1;\n  p.y+=S(p.z*.161+time*.24)*p.z*.03;\n  p.z+=time*3.5;\n  F pl=p.y+1.;\n  p=Z(p,W(15,15,4));\n  \n  F l=L(abs(p)-.1+.05*S(pI.z*.8+time*1.3))-.01;\n  \n  p.xy=V(L(p.xy)-2.+.5*S(pI.z*.4+time*.8),atan(p.y,p.x)/T*8.+S(pI.z*.3+.6*time));\n  p.y=Z(p.y,.5);\n  F sp=L(p)-.8;\n  sp=L(V(sp,gyr(p,8.)))-.1;\n  sp=L(V(sp,gyr(p,20.)))-.001;\n  //sp=L(V(sp,gyr(p,53)))-.0001;\n  \n  sp=smin(sp,pl);\n  \n  sp=min(l,sp);\n  \n  gl+=.015/l*sp;\n  if(l<.002)gl++;\n  \n  return sp*.5;\n}\n\n\nW norm(W p){\n  V e=V(0,.001); F d=sdf(p);\n  return N(W(d-sdf(p-e.yxx),d-sdf(p-e.xyx),d-sdf(p-e.xxy)));}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = vec2(gl_FragCoord.x / iResolution.x, gl_FragCoord.y / iResolution.y);\n\tuv -= 0.5;\n\tuv /= vec2(iResolution.y / iResolution.x, 1);\n\to*=0.;\n\n  F i=0.,d=0.,e=1.;\n  W p,rd=N(W(uv,1));\n  rd.xz*=rot(.2*S(time*.162));\n  rd.yz*=rot(.1*S(time*.08));\n  for(;i++<99.&&e>.0001;){\n    p=rd*d+.00001;\n    d+=e=sdf(p);\n  }\n  \n\to+=1.-i/99.;\n  W l=W(0,1,0);\n  W n=norm(p);\n  o.r+=dot(n,l)*.5+.5;\n  o.b+=dot(n,l.zxy)*.5+.5;\n  o+=pow(dot(reflect(rd,n),l)*.5+.5,40.);\n  o+=gl;\n  o=pow(o,vec4(.8));\n}","name":"Image","description":"","type":"image"}]}