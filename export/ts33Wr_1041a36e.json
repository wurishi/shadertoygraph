{"ver":"0.1","info":{"id":"ts33Wr","date":"1568206984","viewed":130,"name":"Nyan till you die","username":"matistjati","description":"Trippy visualization i decided to make while borde. Endless appolonian","likes":2,"published":1,"flags":64,"usePreview":0,"tags":["raymarching","nyan"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"Xsf3Rn","filepath":"/media/a/cbcbb5a6cfb55c36f8f021fbb0e3f69ac96339a39fa85cd96f2017a2192821b5.png","previewfilepath":"/media/ap/cbcbb5a6cfb55c36f8f021fbb0e3f69ac96339a39fa85cd96f2017a2192821b5.png","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4lf3DB","filepath":"https://soundcloud.com/obviouslyfake/nyan-cat-2","previewfilepath":"https://soundcloud.com/obviouslyfake/nyan-cat-2","type":"musicstream","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":0}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\n\nfloat DE(vec3 p)\n{\n    float s = 1.;\n\tfloat scale = 1.0;\n\n\tvec4 orb = vec4(1000.0); \n\t\n\tfor( int i=0; i<8;i++ )\n\t{\n\t\tp = -1.0 + 2.0*fract(0.5*p+0.5);\n\n\t\tfloat r2 = dot(p,p);\n\t\t\n        orb = min( orb, vec4(abs(p),r2) );\n\t\t\n\t\tfloat k = s/r2;\n\t\tp     *= k;\n\t\tscale *= k;\n\t}\n\t\n\treturn 0.25*abs(p.y)/scale;\n}\n\nvec3 trace( in vec3 ro, in vec3 rd)\n{\n\tfloat maxd = 30.0;\n    float t = 0.01;\n    for( int i=0; i<200; i++ )\n    {\n\t    float precis = 0.001 * t;\n        \n\t    float h = DE( ro+rd*t);\n        if( h<precis||t>maxd ) break;\n        t += h;\n    }\n\n    \n\n\n\tvec3 fc = vec3(texture(iChannel0,vec2((ro+rd*t).xz)));\n    return fc;\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n\tvec2 uv = (fragCoord.xy / iResolution.xy);\n\tuv = uv * 2.0 - 1.0;\n\n\tuv.x *= iResolution.x/iResolution.y;\n\n\tvec3 r = normalize(vec3(uv, 1.0));\n\t\n\tfloat the = iTime;\n\tr.xy *= mat2(cos(the), -sin(the), sin(the), cos(the));\n    float gamma = sin(iTime*2.);\n    r.xz *= mat2(cos(gamma), -sin(gamma), sin(gamma), cos(gamma));\n\n\tvec3 origin = vec3(0.5,0.4,iTime*15.);\n\n\tvec3 col = trace(origin, r);\n\n\n\n    fragColor = vec4(col, 1.0);\n}","name":"Image","description":"","type":"image"}]}