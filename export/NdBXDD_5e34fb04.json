{"ver":"0.1","info":{"id":"NdBXDD","date":"1620297141","viewed":119,"name":"dvd","username":"rockstep","description":"if you see it hit the corner directly you get to make a wish","likes":0,"published":1,"flags":0,"usePreview":1,"tags":["2d"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGzr","filepath":"/media/a/08b42b43ae9d3c0605da11d0eac86618ea888e62cdd9518ee8b9097488b31560.png","previewfilepath":"/media/ap/08b42b43ae9d3c0605da11d0eac86618ea888e62cdd9518ee8b9097488b31560.png","type":"texture","channel":3,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define SPEED 5.\n#define EPSILON 0.01\n\n// Stolen from FabriceNeyret2\n#define C(c) U.x-=.5; T+= U.x<.0||U.x>1.||U.y<0.||U.y>1. ?vec4(0): textureGrad(iChannel3, U/16. + fract( vec2(c, 15-c/16) / 16.), dFdx(U/16.),dFdy(U/16.) )\n#define initMsg vec4 T = vec4(0)\n#define endMsg  return length(T.yz)==0. ? 0. : T.x\nfloat message(vec2 U) {\n    initMsg;\n    C(68);C(86);C(68);\n    endMsg;\n}\n\nfloat pi = radians(180.);\n\nfloat triWave(float theta) {\n    return (1. / pi) * asin(sin(theta * pi));\n}\n\nfloat near(float a, float b) {\n    float diff = abs(a - b);\n    return smoothstep(2.*EPSILON, EPSILON, diff);\n}\n\nfloat annulus(vec2 uv) {\n    //return smoothstep(0.1, 0., length(uv)) - smoothstep(0.05, 0., length(uv));\n    return near(length(uv), 0.05);\n}\n\nvec3 colors[6] = vec3[6](\n    vec3(1.0, 0.1, 0.1),\n    vec3(0.1, 1.0, 0.1),\n    vec3(0.1, 0.1, 1.0),\n    vec3(1.0, 1.0, 0.1),\n    vec3(1.0, 0.1, 1.0),\n    vec3(0.1, 1.0, 1.0)\n);\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    vec2 uv = fragCoord/iResolution.xy;\n    float rand = fract(sin(iDate.x + iDate.y + iDate.z));\n    vec2 startPos = vec2(0.5);\n    vec2 startDir = vec2(.1, .1) * vec2(cos(rand), -sin(rand));\n    \n    vec2 dirIn = SPEED * iTime * startDir;\n    vec2 pos = startPos + vec2(\n        triWave(dirIn.x),\n        triWave(dirIn.y)\n    );\n    float ellipse = smoothstep(0.2, 0., length(uv.xy - pos));\n    \n    int colorIdx = int(floor(dirIn.x + .5) - floor(dirIn.y + .5)) % 6;\n    //int colorIdx = int(iTime) % 6;\n    vec3 color = colors[colorIdx];\n    vec3 col = color * vec3(ellipse);\n    col += message((uv - pos) * 8. + vec2(1.5, 0.));\n    col += annulus(uv - pos + vec2(0., 0.05));\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}