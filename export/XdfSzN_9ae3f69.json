{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[{"channel":0,"type":"texture","id":"Xdf3zn","filepath":"/media/a/85a6d68622b36995ccb98a89bbb119edf167c914660e4450d313de049320005c.png","sampler":{"filter":"nearest","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"}}],"code":"const float pi = 3.141593;\nconst float cycle = 2.0*pi;\n\nfloat usin(float x) {return 0.5+0.5*sin(x);}\nfloat ucos(float x) {return 0.5+0.5*cos(x);}\nvec3 icol(float r, float g, float b) { return vec3(r/255., g/255., b/255.);}\n\nvec3 spiral(vec2 uv) {\n\tfloat ang = atan(uv.x, uv.y);\t\n\tfloat len = length(uv);\n\tfloat s = iTime;\n\t\n\tvec3 c1 = icol(170.,59.,91.);\n\tvec3 c2 = icol(249.,249.,79.);\n\tvec3 c3 = icol(249.,167.,24.);\n\tvec3 c4 = icol(167.,232.,62.);\n\t\n\tfloat rw = len - len*0.5*usin(s)*ucos(ang*8.0 + s);\n\tfloat r = usin(rw*cycle - s*2.0);\n\t\n\t\n\tfloat g = ucos(len*24.0 - usin(s)*8.0 - s*4.0 + ang);\n\t\n\tfloat b = usin(sin(s)/len*len*8.+ang*8.0 - (ucos(len-pi*s*2.))*8.0);\n\n\tfloat si = mod(s, 4.0);\n\t\n\n\treturn r*c1 + g*c2 + b*c3;\n}\n\nvec3 bg(vec2 uv) {\n\tuv.y = 0.5*(uv.y + 1.0);\n\tvec3 c1\t= icol(230.,181.,52.);\n\tvec3 c2\t= icol(40.,72.,140.);\n\tvec3 c3 = icol(238.,238.,91.);\n\t\n\tfloat i = exp(-2.0*uv.y);\n\t\n\treturn i*c2 + (1.0-i)*c1;\n\t\n}\n\nfloat grid(vec2 uv) {\n\tfloat lin =0.001;\n\tfloat blur = 2.0;\n\tfloat ph = blur/iResolution.y;\n\t\n\tfloat square = 1.0/10.0;\n\t\n\tfloat x = mod(uv.x, square);\n\tif (abs(uv.x) < lin*4.) return 0.;\n\tif ( x < lin) return 0.;\n\tif (x < lin + ph) return x/(ph+lin);\n\t\n\tfloat y = mod(uv.y, square);\n\tif (abs(uv.y) < lin*4.) return 0.;\n\tif ( y < lin) return 0.;\n\tif (y < lin + ph) return y/(ph+lin);\n\t\n\treturn 1.0;\n}\n\nfloat line(vec2 uv, float f) {\n\tfloat wide = 0.02;\n\t\n\tvec3 col = vec3(1.,0.,0.);\n\t\n\tif (abs(f-uv.y) < wide) return 1.;\n\treturn 0.;\n}\n\nfloat vector(vec2 uv, vec2 v, vec2 p) {\n\tuv = uv - p;\n\tfloat d = length(uv - v * dot(uv, v)/dot(v,v));\t\n\tif (d > 0.02 ||\n\t   \tuv.y * v.y < 0. ||\n\t\tuv.x * v.x < 0. ||\n\t   length(uv) > length(v)) return 0.;\n\treturn 1.;\n}\n\nvec2 matrix2(vec2 uv, mat2 m, vec2 p) {\n\treturn vec2(vector(uv, m[0], p), vector(uv, m[1], p));\t\n}\nmat2 rot(float t) {\n\tmat2 r;\n\tr[0] = vec2(sin(t), cos(t));\n\tr[1] = vec2(cos(t), -sin(t));\n\treturn r;\n}\n\nvec2 distort(vec2 uv) {\n\tfloat t = iTime;\n\tvec2 polar = vec2(length(uv), atan(uv.x, uv.y));\n\tfloat th = t;;\n\t\n\tmat2 scale;\n\tfloat s = 4.0;\n\tscale[0] = vec2(s, 0.);\n\tscale[1] = vec2(0., s);\n\treturn scale * uv;\n}\n\nmat2 diag() {\n\tmat2 q, l, qt;\n\tq[0] = vec2(0.96, .28);\n\tq[1] = vec2(.28, .96);\n\n\tl[0] = vec2(5., 2.);\n\tl[1] = vec2(2., 3.);\n\n\tqt[0] = vec2(0.96, .28);\n\tqt[1] = vec2(.28, .96);\n\t\n\treturn q * l * qt;\n}\n\nconst int ev_n = 32;\nvec3 ev(vec2 uv) {\n\tfloat t = iTime;\n\tvec3 cx = vec3(1.,0.,0.);\n\tvec3 ce = vec3(0., 1., 0.);\n\tvec3 cr = vec3(0.);\n\tfloat s = 1./float(ev_n);;\n\tvec2 v;\n\tmat2 e;\n\t\n\t// this vector is used fo eigenvalues\n\te[0] = vec2(sin(t)*5., cos(0.3*t)*2.);\n\te[1] = vec2(sin(t*0.5)*2.,-cos(t*1.2)*3.);\n\t\n\tfor (int i = 0; i < ev_n; i++) {\n\t\tv = rot(float(i)*s*cycle+t)*vec2(1.,0.);\n\t\tcr += cx * vector(uv, v, vec2(0.));\n\t\tcr += ce * vector(uv, e*v, v);\n\t}\n\treturn cr;\n}\n\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tfloat t = iTime;\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n\tuv = uv*2.0 - 1.0;\n\tuv.x *= iResolution.x/iResolution.y;\n\t\n\tvec3 b = vec3(bg(uv));\n\tvec3 c1 = vec3(1.,0.,0.);\n\tvec3 c2 = vec3(0.,1.,0.);\n\t\n\tvec2 uvt = distort(uv);\n\n\tfloat g = grid(uv);\n\n\tfloat l1 = line(uvt, sin(uvt.x));\n\tfloat l2 = line(uvt, cos(uvt.x));\n\t\n\tfloat v = vector(uvt, vec2(3., 2.), vec2(0.));\n\t\n\tfragColor = vec4(b*g + ev(uvt), 1.);\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"XdfSzN","date":"1397262344","viewed":179,"name":"grid spiral","username":"zugamifk","description":"woohoo","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["linearalgebrastuff"],"hasliked":0,"parentid":"","parentname":""}}