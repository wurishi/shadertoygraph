{"ver":"0.1","info":{"id":"clfyD4","date":"1696055432","viewed":64,"name":"Fading Lissajous","username":"vec5","description":"The amplitude decreases as the curve parameter increases","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["curve","lissajous","parametric"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define STEPS 2000.\n#define PI2   6.2831853\n\nvec4 k;\n\n// ************************************************************************************\n\nfloat L0(float t, vec2 p)\n{\n    float a0 = exp(-k.w * t);\n    float b0 = cos(k.x * t + k.z);\n    float c0 = sin(k.y * t);\n    \n    vec2 f0 = a0 * vec2(b0, c0);\n    \n    return dot(p - f0, p - f0);\n}\n\nfloat L1(float t, vec2 p)\n{\n    float a0 = exp(-k.w * t);\n    float b0 = cos(k.x * t + k.z);\n    float c0 = sin(k.y * t);\n    float b1 = -k.x * sin(k.x * t + k.z);\n    float c1 =  k.y * cos(k.y * t); \n    \n    vec2 f0 = a0 * vec2(b0, c0);\n    vec2 f1 = a0 * vec2(b1 - k.w * b0, c1 - k.w * c0);\n    \n    return -2. * dot(p - f0, f1);\n}\n\nfloat L1div2(float t, vec2 p)\n{\n    float a0 = exp(-k.w * t);\n    float b0 = cos(k.x * t + k.z);\n    float c0 = sin(k.y * t);\n    float b1 = -k.x * sin(k.x * t + k.z);\n    float c1 =  k.y * cos(k.y * t); \n    float x2 = k.x * k.x;\n    float y2 = k.y * k.y;\n    float w2 = k.w * k.w;\n    float W2 = k.w * 2.;\n    \n    vec2 f0 = a0 * vec2(b0, c0);\n    vec2 f1 = a0 * vec2(b1 - k.w * b0, c1 - k.w * c0);\n    vec2 f2 = a0 * vec2(b0 * (w2 - x2) - W2 * b1, c0 * (w2 - y2) - W2 * c1);\n    \n    float l1 = -2. * dot(p - f0, f1);\n    float l2 =  2. * (dot(f1, f1) - dot(p - f0, f2));\n    \n    return l1 / l2;\n}\n\n// ************************************************************************************\n\nfloat D(vec2 p)\n{\n    float len = 1000.;\n    \n    float signA = L1(0., p);\n    float tstep = 10.0 * PI2 / STEPS;\n\n    for(float i = 1.; i <= STEPS; ++i)\n    {\n        float signB = sign(L1(i * tstep, p));\n        \n        if(signA != signB)\n        {\n            float u = (i - 0.5) * tstep;\n            \n            u -= L1div2(u, p);\n            u -= L1div2(u, p);\n            u -= L1div2(u, p);\n            \n            len = min(len, L0(max(0., u), p));\n            \n            signA = signB;\n        }\n    }\n    \n    return len;\n}\n\nvoid mainImage(out vec4 C, in vec2 P)\n{\n    vec2 R = iResolution.xy;\n    vec2 p  = (P + P - R) / R.y;\n    \n    k = vec4(2., 3., 0.5 * iTime, 0.04);\n    \n    C = vec4(0., min(1.0, 0.08 / pow(D(p), 0.2)), 0., 1.);\n}","name":"Image","description":"","type":"image"}]}