{"ver":"0.1","info":{"id":"wt3cRr","date":"1608335759","viewed":123,"name":"Recursive tile pattern maker","username":"HalbFettKaese","description":"Takes a pattern from the matchesPattern function and aplies that pattern to itself until it would become smaller than a pixel.","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["fractal","recursion"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sfGRr","filepath":"/media/a/27012b4eadd0c3ce12498b867058e4f717ce79e10a99568cca461682d84a4b04.bin","previewfilepath":"/media/ap/27012b4eadd0c3ce12498b867058e4f717ce79e10a99568cca461682d84a4b04.bin","type":"volume","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const float pattern_factor = 3.;\n\nbool matchesPattern(vec2 uv) {\n    float time = iTime / 100.;\n    vec4 tex = texture(iChannel0, vec3((floor(uv*pattern_factor) + .5)/pattern_factor + time*0.9732193, time));\n    float b = max(max(tex.r, tex.g), tex.b) * tex.a;\n    return b >= .5;\n    /*\n    uv *= pattern_factor;\n    return !(1. <= uv.x && uv.x <= pattern_factor - 1. && 1. <= uv.y && uv.y <= pattern_factor - 1.);\n    */\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord;\n    uv.xy -= iResolution.xy/2.;\n    uv /= min(iResolution.x, iResolution.y);\n    uv.xy += .5;\n\n    // Time varying pixel color\n    vec3 col = vec3(1);\n    float b = 1.;\n    vec2 recursive_uv = uv;\n    while (pattern_factor/min(iResolution.x, iResolution.y) < b) {\n        if (! matchesPattern(recursive_uv)) {\n            col = vec3(0);\n            break;\n        }\n        b /= max(pattern_factor, 1.1);\n        recursive_uv = mod(recursive_uv, 1./pattern_factor) * pattern_factor;\n    }\n    if (uv.x > 1. || uv.x < 0. || uv.y > 1. || uv.x < 0.) col = vec3(0);\n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}