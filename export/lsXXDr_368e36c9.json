{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"const float PI=3.14159;\n\nfloat saw(float x){\n\treturn abs(mod(x-1.,2.)-1.);\n}\n\n// edit this\nvec3 tex(vec2 uv){\n\tfloat m=PI*20.;\n\tfloat d = smoothstep(-0.02,0.02,sin(uv.x*m))+\n\t\t\t  smoothstep(-0.02,0.02,sin(uv.y*m));\n\td=saw(d);\n\t//d=smoothstep(00.2,0.3,d);\n\treturn vec3(d,sin(length(uv)*39.),sin(length(uv)*50.));\n}\n\nvec2 displace(vec2 uv){\n\t\n\tfloat refindex=1.3; // refraction index, change this (1.3 is glass)\n\t\n\tfloat r=0.5;\n\t\n\tfloat m=length(uv);\n\t\n\tif(m<1.)\n\t\tm = sin(asin(m)/refindex);\n\t\n\treturn normalize(uv)*m;\n}\n\nvec3 shade(vec2 uv){\n\tvec2 d=vec2(sin(iTime),cos(iTime*1.5))*0.3;\n\treturn tex(displace(uv+d)-d);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = (2.*fragCoord.xy-iResolution.xy)/iResolution.y;\n\tfragColor = vec4(shade(uv),1.0);\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"lsXXDr","date":"1399073609","viewed":196,"name":"Diffraction","username":"cafe","description":"Diffraction","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["diffraction"],"hasliked":0,"parentid":"","parentname":""}}