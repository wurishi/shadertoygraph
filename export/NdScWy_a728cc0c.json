{"ver":"0.1","info":{"id":"NdScWy","date":"1701907433","viewed":10,"name":"plane wave","username":"Lay","description":"plane wave","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["planewave"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float k = .9;\nfloat w = 4.;\nfloat CLA = 1.;\n\n//float record()\n\nvec3 vinyl(vec2 uv)\n{\n    uv.x -= 15. * iResolution.x/iResolution.y;\n    uv.y -= 20.;\n    \n    vec3 col = vec3(0.);\n    \n    col.r = smoothstep(8.1, 8., length(uv));\n    col += smoothstep(.6, .55, length(uv));\n    \n    return col;\n}\n\nfloat mic(vec2 uv)\n{\n    float bran = 0.;\n    bran += 2.* smoothstep(40.51, 40.49, uv.x + .4/CLA * clamp(sin(k * 40.5 - w * iTime), -CLA, CLA)) *\n                smoothstep(40.39, 40.41, uv.x + .4/CLA * clamp(sin(k * 40.5 - w * iTime), -CLA, CLA));\n    bran *= smoothstep(20., 19.99, uv.y);\n    return bran;\n}\n\nfloat speaker(vec2 uv)\n{\n    float sp = 0.;\n    sp += 2.* smoothstep(4.51, 4.49, uv.x + .4/CLA * clamp(sin(k * 4.5 - w * iTime), -CLA, CLA)) *\n                smoothstep(2.49, 2.51, uv.x + .4/CLA * clamp(sin(k * 4.5 - w * iTime), -CLA, CLA));\n    \n    sp -= 4. * smoothstep(2.61, 2.59, uv.x + .4/CLA * clamp(sin(k * 4.5 - w * iTime), -CLA, CLA));\n    \n    return sp;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.y;\n    \n    \n    uv *= 30.;\n    vec2 id = floor(uv) + vec2(0.5);\n    \n    float dx = .4/CLA * clamp(sin(k * id.x - w * iTime), -CLA, CLA);\n    float sp = speaker(uv);\n    float mic = mic(uv);\n    \n    vec2 loc_uv = fract(uv) - 0.5;\n    loc_uv.x += dx;\n    \n    float air = smoothstep(0.12, 0.1, length(loc_uv));\n    vec3 col = vec3(air);\n    \n    col.r += .2 * cos(k * id.x - w * iTime);\n    col.g -= .2 * cos(k * id.x - w * iTime);\n    \n    col += vec3(sp);\n    \n    col *= smoothstep(9.1, 9., uv.y);\n    \n    col += vec3(mic);\n    \n    col += vinyl(uv);\n    \n    fragColor = vec4(col,1.0);\n}\n\n","name":"Image","description":"","type":"image"}]}