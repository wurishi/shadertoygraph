{"ver":"0.1","info":{"id":"stfcRM","date":"1647923981","viewed":118,"name":"smooth game of life","username":"lil_chickehh","description":"instead of cells being dead or alive, they have a float value instead.","likes":3,"published":1,"flags":32,"usePreview":0,"tags":["gameoflife"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4sXGR8","filepath":"/media/previz/buffer02.png","previewfilepath":"/media/previz/buffer02.png","type":"buffer","channel":2,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// messed around with iq's game of life code https://www.shadertoy.com/view/XstGRf\n\n//color scale\nvec3 c1 = vec3(0.)/255.;\nvec3 c2 = vec3(210., 170., 95.)/255.;\nvec3 c3 = vec3(255., 205., 108.)/255.;\nvec3 c4 = vec3(1.,0.,1.);\n\nvec3 colorScale(vec3 a, vec3 b, vec3 c,vec3 d, float n1, float n2, float i){\n    if(i<n1){\n        return a+(b-a)*(i/n1);\n    } else if(i>=n1&&i<n2){\n        return b+(c-b)*(i-n1)/(n2-n1);\n    } else{\n        return c+(d-c)*(i-n2)/(1.-n2);\n    }\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float val = texelFetch(iChannel0, ivec2(fragCoord),0).x;\n    vec2 uv =(fragCoord.xy/iResolution.xy);\n    if(uv.y>0.975){\n        fragColor = vec4(colorScale(c1,c2,c3,c4,0.33,0.56,uv.x),1.0);\n    } else {\n    fragColor = vec4(colorScale(c1,c2,c3,c4,0.33,0.56,val),1.0);\n}\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"float Cell(ivec2 p){\n    ivec2 r = ivec2(textureSize(iChannel0,0));\n    p = (p+r)%r;\n    return texelFetch(iChannel0,p,0).x;\n}\n\nfloat hash1( float n )\n{\n    return fract(sin(n)*138.5453123);\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    ivec2 px = ivec2(fragCoord);\n    float neighbors = 0.7*Cell(px+ivec2(-1,-1)) + Cell(px+ivec2(0,-1)) + 0.7*Cell(px+ivec2(1,-1))\n            + Cell(px+ivec2(-1, 0))                        + Cell(px+ivec2(1, 0))\n            + 0.7*Cell(px+ivec2(-1, 1)) + Cell(px+ivec2(0, 1)) + 0.7*Cell(px+ivec2(1, 1));\n    float f = Cell(px);\n    vec2 uv = (fragCoord.xy/iResolution.xy); \n    if((fragCoord.xy/iResolution.xy).x>0.5 || true){\n    // nice one\n    if(neighbors<2.){\n        //less than 2 neighbors dies\n    f*=0.9;\n    } else {\n        if(neighbors<3.){\n            // lives on\n            if(f<0.0251){\n                f =1.;\n            }\n            \n        } else {\n            // more than 3 neighbors dies\n            f*=0.9;\n        }\n    }\n    } else {\n    if(neighbors<.1+3.*uv.y){\n        //less than 2 neighbors dies\n    f*=0.9;\n    } else {\n        if(neighbors<2.+3.*uv.x){\n            // lives on\n            if(f<0.0251){\n                f =1.;\n            }\n            \n        } else {\n            // more than 3 neighbors dies\n            f*=0.9;\n        }\n    }\n    }\n    \n    if( iFrame==0) f = hash1(fragCoord.x*13.0+hash1(fragCoord.y*71.1));\n    fragColor = vec4(f,f,f,1.0);\n}","name":"Buffer A","description":"","type":"buffer"}]}