{"ver":"0.1","info":{"id":"ml2BRy","date":"1694198651","viewed":74,"name":"mat3? whatever","username":"chenxianming","description":"busy for found new deals.","likes":6,"published":1,"flags":0,"usePreview":0,"tags":["golf","cements"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define I iResolution\n#define PI 3.1415926\n#define T( s ) fract( iTime * s ) * PI * 4.\n\n// smax\nfloat s(float a, float b, float c) {\n  float d = clamp(.5 + .5 * (-b + a) / c, 0., 1.);\n  return -(mix(-b, -a, d) - c * d * (1. - d));\n}\n\nmat2 rot(float a) {\n  float s = sin(a), c = cos(a);\n  return mat2(c, s, -s, c);\n}\n\nfloat cs( vec3 p ){\n    p.xy *= rot( PI * -.25 );\n    p.yz *= rot( PI * .25 );\n    p.xy *= rot( T( .025 ) );\n    p.xy *= rot( p.z * .95 );\n    \n    float d = abs( p.x ) - .2;\n    \n    d = -min( -d, -( abs( p.y ) - .2 ) );\n    \n    p.xy *= 1.5;\n    \n    float s2 = abs( p.x ) - .2;\n    s2 = min( -s2, -( abs( p.y ) - .2 ) );\n    d = max( d, s2 );\n    \n    \n    return max( d, abs( p.z ) - 11.5 );\n}\n\nfloat cd( vec3 p ){\n    p.xy *= rot( PI * -.25 );\n    p.yz *= rot( PI * .25 );\n    \n    p = mod( p, .05 ) - .025;\n    return length( p ) - .008;\n}\n\n// sdf\nfloat df(vec3 p) {\n    p.xz *= rot( T( .025 ) );\n    p.xz *= rot( PI * .25 );\n    p.xy *= rot( PI * .125 );\n    \n    p = abs( p ) - .5;\n    p.xy = abs( p.xy ) - .5;\n    \n    return clamp( s( cs( p ), -cd( p ), .11 ), 0., 1. );\n}\n// calcNormal (IQ)\nvec3 l(in vec3 b) {\n  vec2 a = vec2(1, -1) * .5773;\n  return normalize(a.xyy * df(b + a.xyy * 5e-4) + a.yyx * df(b + a.yyx * 5e-4) +\n                   a.yxy * df(b + a.yxy * 5e-4) + a.xxx * df(b + a.xxx * 5e-4));\n}\n\nvoid mainImage(out vec4 U, in vec2 V) {\n  vec2 u = ((V / I.xy) - .5) * 2.;\n  u.x *= I.x / I.y;\n\n  vec3 c, p, n, o = vec3(0., 0., -5.), r = vec3(u * .28, 1.);\n  float t, d, i, d1, d2;\n  \n  c += .2;\n\n  for (; i < 64.; i++) // raymarching\n    p = o + r * t, d = df(p), t += d;\n\n  if (d < 1e-3)\n    c += vec3( clamp(dot( l( p ) , vec3(.4, 1., -.5)), 0.0, 1.0) );\n\n  U = vec4(c, 1.0);\n}","name":"Image","description":"","type":"image"}]}