{"ver":"0.1","info":{"id":"lsXXR4","date":"1456830432","viewed":144,"name":"neurowaves","username":"cafe","description":"Specular can make anything look organic. I kind of like this one.","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["nerevawv"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const float PI=3.14159;\n\nvec3 shd(vec2 uv){\n\tfloat speedmod=0.5;\n\tfloat speed=(sin(iTime)/1000.+3.)*speedmod;\n\t\n\tfloat scol = abs(uv.y-sin(uv.x*5.)/4.);\n\t\n\tfloat t = scol*(sin(uv.x+iTime*speed/5.)*100.)*abs(uv.y);\n\t\n\tvec3 color = vec3(sin(t));\n\t\n\tfloat maxstripes=10.;\n\t\n\t\n\tfloat stripes=mod(iTime*speed+uv.x,maxstripes*2.)-maxstripes;\n\tstripes = abs(stripes);\n\t\t\n\tvec3 ncolor;\n\t\n\tncolor.r=-color.r;\n\tncolor.g=color.g*sin(uv.x);\n\tncolor.b=-ncolor.g;\n\t\n\tfloat sm=1.;\n\t\n\tfloat ml = smoothstep(PI*stripes+sm,PI*stripes-sm,abs(t));\n\t\n\tcolor = mix(color,ncolor,ml);\n\t//color = ncolor;\n\t\n\tfloat saturation=sin(uv.x*sin(uv.x*10.+iTime*speed+sin(uv.y*10.+sin(uv.x*15.))/4.)*10.+iTime*speed)+2.;\n\t\n\tcolor=color*saturation;\n\t\n\treturn color;\n}\n\n\nfloat heightmap(vec2 uv){\n\tvec3 c = shd(uv);\n\t//return (c.r+c.g+c.b)/2.;\n\t//return min(c.r,min(c.g,c.b));\n\treturn c.r*0.2126 + c.g*0.7152 + c.b*0.0722; //greyscale\n}\n\nvec3 normalmap(vec2 uv, float spread){\n\tvec3 color = vec3(0.);\n\t\n\tfloat depth=0.;\n\t\n\tfloat p[4];\n\tp[0] = heightmap(uv+vec2(-spread,-spread));\n\tp[1] = heightmap(uv+vec2( spread,-spread));\n\tp[2] = heightmap(uv+vec2(-spread, spread));\n\tp[3] = heightmap(uv+vec2( spread, spread));\n\t\n\tfloat xsl = (p[1]+p[3])/2.-(p[0]+p[2])/2.;\n\tfloat ysl = (p[0]+p[1])/2.-(p[2]+p[3])/2.;\n\t\n\tfloat saturate=0.5/length(vec3(xsl,ysl,depth));\n\t\n\tvec3 nor = normalize(vec3(xsl,ysl,spread))/2.;\n\t\n\tcolor.r=0.5+nor.x;\n\tcolor.g=0.5+nor.y;\n\tcolor.b=0.5+nor.z;\n\t\n\treturn vec3(color);\n\t\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = (2.*fragCoord.xy-iResolution.xy) / iResolution.y;\n\t\n\t\n\t//uv.y+=1.;\n\tuv.y*=0.8;\n\t//uv.x*=1.5;\n\tuv.y*=(uv.y*uv.y)+0.9;\n\t\t\n\n\tvec3 lvec = vec3(sin(iTime)/10.,cos(iTime*1.15)/10.,1.);\n\tlvec = normalize(lvec);\n\t\n\t\n\t\n\t//color=color*(floor(mod(uv.x,0.2+sin(iTime)+1.)*10.)*2.-1.);\n\t\n\tvec3 nrm = normalmap(uv,0.001);\n\t\n\tfloat ambient = clamp(dot(lvec,nrm),0.,1.);\n\t//ambient=pow(ambient/2.+0.5,5.);\n\tambient=pow(ambient,2.);\n\t\n\tvec3 color = shd(uv);\n\tcolor=color*ambient;\n\t//color = vec3(ambient);\n\t\n\tfragColor = vec4(color,1.0);\n}","name":"Image","description":"","type":"image"}]}