{"ver":"0.1","info":{"id":"WsGSRz","date":"1573222873","viewed":136,"name":"Pulse Offset","username":"amatobahn","description":"Because I'm not a math whiz","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["pulse"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const float _PULSE = 5.0;\nconst float _DELAY = 3.0;\nconst float _FRONT_FALLOFF = 1.0;\nconst float _BACK_FALLOFF = 1.0;\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\t    \n    // Screen Masking\n    float horizontalMask = 1.0 - ceil(clamp(sin(fragCoord.g / 45.0), 0.0, 1.0));\n    float verticalMask = horizontalMask * 1.0 - ceil(clamp(sin(fragCoord.r / 45.0), 0.0, 1.0));\n    \n    // Main Pulse\n    float pulse = fract(1.0-iTime/_PULSE);\n    \n    // Delay - Linear\n    float linear = clamp(pulse - (1.0 - _DELAY/_PULSE), 0.0, 1.0);\n    \n    // Delay - Fade in/out\n    float fade = smoothstep(0.0, 1.0 - _DELAY/_PULSE, 1.0 - fract(abs(fract(iTime/_PULSE) - 0.5) * 2.0));\n    \n    // Delay - Front / Back fade\n    float front = pow(fade, _FRONT_FALLOFF);\n    float back = pow(fade, _BACK_FALLOFF);\n    float combined = mix(front, back, 1.0-pulse);\n    \n    // Colorize\n    vec4 pulseColor = vec4(pulse, 0.0, 0.0, 1.0);\n    vec4 linearColor = vec4(0.0, linear, 0.0, 1.0);\n    vec4 fadeColor = vec4(0.0, 0.0, fade, 1.0);\n    vec4 fadeFrontBackColor = vec4(combined, combined, combined, 1.0);\n\n    // Output to screen\n    fragColor = mix(fadeFrontBackColor, mix(pulseColor, fadeColor, verticalMask), horizontalMask);\n}","name":"Image","description":"","type":"image"}]}