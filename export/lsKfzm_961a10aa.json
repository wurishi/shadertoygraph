{"ver":"0.1","info":{"id":"lsKfzm","date":"1528182299","viewed":139,"name":"blend with distance","username":"phi16","description":"test","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["2d"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float distR(vec2 p, vec2 c, vec2 s) {\n\tvec2 d = abs(p-c)-s/2.0;\n    return min(max(d.x,d.y),0.0) + length(max(d,0.0));\n}\nfloat distS(vec2 p, vec2 c, vec2 s) {\n    return length(p-c) - s.y;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 p1C = vec2(0.4,0.4), p1S = vec2(0.3,0.3);\n    vec2 p2C = vec2(0.6,0.6), p2S = vec2(0.6,0.4);\n    p1C = iMouse.xy / iResolution.y;\n    vec2 uv = fragCoord/iResolution.y;\n\n    vec3 col = vec3(1.0);\n    float d1 = distS(uv,p1C,p1S);\n    float d2 = distR(uv,p2C,p2S);\n    if(d1<0.) col = mix(col, vec3(1,0,1), 0.4);\n    if(d2<0.) col = mix(col, vec3(0,1,1), 0.4);\n    if(d1<0. && d2<0.) {\n        float mDist = min(abs(d1),abs(d2)) / 0.05;\n        if(false) mDist = 0.;\n        \n        float r = (-d2)/(-d1-d2);\n        float near = abs(d1-d2);\n        if(near < 0.003 && false) col = vec3(1.0);\n        else {\n            col = mix(vec3(1.0), mix(vec3(1,0,1), vec3(0,1,1), r), 0.4);\n        \tcol = mix(col, vec3(1), min(1., max(0., mDist)) * 0.3);\n        }\n    }\n    \n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}