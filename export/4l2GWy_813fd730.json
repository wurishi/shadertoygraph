{"ver":"0.1","info":{"id":"4l2GWy","date":"1432053363","viewed":420,"name":"CC Colors","username":"Yevano","description":"A quick test for converting RGB colors to a 4-bit RGBI palette and then to the color palette available in CC. Hold mouse and drag left and right for comparison. Mess around with the threshold values if the picture looks bad.","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["palette"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sX3Rn","filepath":"/media/a/c3a071ecf273428bc72fc72b2dd972671de8da420a2d4f917b75d20e1c24b34c.ogv","previewfilepath":"/media/ap/c3a071ecf273428bc72fc72b2dd972671de8da420a2d4f917b75d20e1c24b34c.ogv","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[],"code":"/*\nIn general it seems you end up trying to find a compromise between\ncolor contrast and grayscale contrast. In the google video, you\nhave to ramp up RGB thresholds to see the text on the page, but\nthe rest of the video ends up looking pretty dark and distorted.\n*/\n\n/* Generally looks ok. */\n#define R_THRESHOLD 0.5\n#define G_THRESHOLD 0.5\n#define B_THRESHOLD 0.5\n#define I_THRESHOLD 0.5\n\n/* More technically correct, but darker to white don't contrast too well. */\n/* Colors are more vibrant. */\n//#define R_THRESHOLD 1./3.\n//#define G_THRESHOLD 1./3.\n//#define B_THRESHOLD 1./3.\n//#define I_THRESHOLD 2./9.\n\n/* Get more darker colors. */\n//#define R_THRESHOLD 1./3.\n//#define G_THRESHOLD 1./3.\n//#define B_THRESHOLD 1./3.\n//#define I_THRESHOLD 8./9.\n\nvec4 palette[16];\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    palette[ 0] = vec4(0., 0., 0., 1.);\n    palette[ 1] = vec4(76./255., 76./255., 76./255., 1.);\n    palette[ 2] = vec4(37./255., 49./255., 146./255., 1.);\n    palette[ 3] = vec4(37./255., 49./255., 146./255., 1.);\n    palette[ 4] = vec4(87./255., 166./255., 78./255., 1.);\n    palette[ 5] = vec4(127./255., 204./255., 25./255., 1.);\n    palette[ 6] = vec4(76./255., 153./255., 178./255., 1.);\n    palette[ 7] = vec4(153./255., 178./255., 242./255., 1.);\n    palette[ 8] = vec4(204./255., 76./255., 76./255., 1.);\n    palette[ 9] = vec4(204./255., 76./255., 76./255., 1.);\n    palette[10] = vec4(178./255., 102./255., 229./255., 1.);\n    palette[11] = vec4(229./255., 127./255., 216./255., 1.);\n    palette[12] = vec4(127./255., 102./255., 76./255., 1.);\n    palette[13] = vec4(222./255., 222./255., 108./255., 1.);\n    palette[14] = vec4(153./255., 153./255., 153./255., 1.);\n    palette[15] = vec4(240./255., 240./255., 240./255., 1.);\n    \n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    float mousex = iMouse.x != 0. ? iMouse.x/iResolution.x : 0.5;\n    if(uv.x > mousex) {\n        fragColor = texture(iChannel0, uv);\n        return;\n    }\n\tvec3 RGB = texture(iChannel0, uv).xyz;\n    vec4 rgbi = vec4(\n        RGB.r > R_THRESHOLD,\n    \tRGB.g > G_THRESHOLD,\n    \tRGB.b > B_THRESHOLD,\n    \t(RGB.r + RGB.g + RGB.b) > I_THRESHOLD);\n    int palIdx = int(rgbi.r * 8. + rgbi.g * 4. + rgbi.b * 2. + rgbi.a);\n    if(palIdx==0)\n        fragColor = palette[0];\n    else if(palIdx==1)\n        fragColor = palette[1];\n    else if(palIdx==2)\n        fragColor = palette[2];\n    else if(palIdx==3)\n        fragColor = palette[3];\n    else if(palIdx==4)\n        fragColor = palette[4];\n    else if(palIdx==5)\n        fragColor = palette[5];\n    else if(palIdx==6)\n        fragColor = palette[6];\n    else if(palIdx==7)\n        fragColor = palette[7];\n    else if(palIdx==8)\n        fragColor = palette[8];\n    else if(palIdx==9)\n        fragColor = palette[9];\n    else if(palIdx==10)\n        fragColor = palette[10];\n    else if(palIdx==11)\n        fragColor = palette[11];\n    else if(palIdx==12)\n        fragColor = palette[12];\n    else if(palIdx==13)\n        fragColor = palette[13];\n    else if(palIdx==14)\n        fragColor = palette[14];\n    else if(palIdx==15)\n        fragColor = palette[15];\n    \n}","name":"","description":"","type":"image"}]}