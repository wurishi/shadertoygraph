{"ver":"0.1","info":{"id":"wtBSRm","date":"1565372992","viewed":141,"name":"pusling spikes","username":"anclin","description":"pusling spikes","likes":7,"published":1,"flags":0,"usePreview":0,"tags":["spikes","pusling"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI2 6.28318530718\n#define PI 3.14159265359\n#define e 2.71828182845904523536\n\nfloat lineDF(vec2 a, vec2 b, vec2 p){\n    vec2 ab = b-a;\n    vec2 ap = p-a;\n    float t = dot(ap,ab)/dot(ab,ab);\n    t = clamp(t,0.,1.);\n    vec2 c = a + t*ab;\n    return length(p-c);\n}\n\nfloat lineDFSqrd(vec2 a, vec2 b, vec2 p){\n    vec2 ab = b-a;\n    vec2 ap = p-a;\n    float t = dot(ap,ab)/dot(ab,ab);\n\tt = clamp(t,0.,1.);\n\tvec2 c = a + t*ab;\n    c = p-c;\n    return c.x*c.x+c.y*c.y;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tfloat t = iTime*3.;\n    vec2 uv = (fragCoord-.5*iResolution.xy)/iResolution.y;\n    float scale = 1.5;\n\tuv *= scale;\n\n    float t2 = t*2.;\n    float t3 = t*.1;\n    float c = 999999.;\n    float c2 = 999999.;\n    vec2 prev = vec2(0);\n    float skip = 23.;//floor(mod(t2,24.)/2.)*2.+3.;\n    float waves = floor(mod(t3,6.));\n    float f = pow(cos(t3*PI2-PI2)*.5+.5, 8.);\n\n    for (float a = 0.; a < PI2+.1; a += PI2/50.){\n        // lines\n        float a2 = a * skip + PI/2.;\n        vec2 p = vec2(cos(a2), sin(a2))*.5;\n        vec2 off = normalize(p) * mix(.0,.15,cos(a2*waves+t2)*.5+.5);\n        p += mix(off, vec2(0), f);;\n        if (a > 0.){        \n        \tfloat ci = lineDFSqrd(prev,p,uv);\n        \tc = min(c,ci);\n        }\n        prev = p;\n        \n        // circles\n        float a0 = a + PI/2.;\n        vec2 p0 = vec2(cos(a0), sin(a0))*.5;\n        vec2 off0 = normalize(p0) * mix(.0,.15,sin(a0*waves+t2)*.5+.5);\n        p0 += mix(off0, vec2(0), f);\n        float s = .005;\n        float c2i = length(p0-uv)-s;\n        c2 = min(c2,c2i);\n    }\n    \n    // combine\n    c = sqrt(c);\n    c = min(c,c2);\n    \n    // step\n    float w = 1.5*scale/iResolution.y;//*mix(1.,300.,sin(t)*.5+.5);\n    float lw = .001;\n    c = smoothstep(lw+w,lw-w, c);\n    \n    vec3 col = vec3(c);\n    col *= (0.5 + 0.5*cos(iTime+uv.xyx+vec3(0,2,4)));\n    \n    // Output to screen\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}