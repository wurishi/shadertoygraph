{"ver":"0.1","info":{"id":"4tGSRW","date":"1483062099","viewed":168,"name":"Conway Decomposers","username":"ptrgags","description":"\"The cells burst to life. And they were hungry. They began to eat everything in sight.\"\n\nBased on Íñigo Quílez's GameOfLife: https://www.shadertoy.com/view/XstGRf","likes":0,"published":1,"flags":32,"usePreview":0,"tags":["2d","texture","random","buffer","conwaysgameoflife"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XdX3Rn","filepath":"/media/a/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg","previewfilepath":"/media/ap/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.1415\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    //UV Coordinates\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    \n    //Apply a texture (and increase the brightness a little)\n    fragColor = texture(iChannel1, uv) + vec4(0.3);\n    \n    //Get the Conway texture to determine if the pixel\n    //is on or off\n    float alive = texture(iChannel0, uv).r;\n    fragColor *= alive;\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGzn","filepath":"/media/a/0c7bf5fe9462d5bffbd11126e82908e39be3ce56220d900f633d58fb432e56f5.png","previewfilepath":"/media/ap/0c7bf5fe9462d5bffbd11126e82908e39be3ce56220d900f633d58fb432e56f5.png","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"#define THRESHOLD 0.5\n\n/*\n * Conway's game of life sim. Based on Íñigo Quílez's \n * GameOfLife: https://www.shadertoy.com/view/XstGRf\n */\n\n//Get a neighbor pixel's value. this will be either 1.0 or\n//0.0 based on how the first frame is generated.\nint neighbor(vec2 pos, vec2 offset) {\n    vec2 uv = fract((pos + offset) / iChannelResolution[0].xy);\n    return int(texture(iChannel0, uv).r);\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord / iResolution.xy;\n    if (iTime < 0.5) {\n        //Tile space with randomly selected pixels\n        vec2 tex_uv = fract(fragCoord / iChannelResolution[1].xy);\n        \n        //Apply a threshold filter so we only have black and white pixels\n        float val = texture(iChannel1, tex_uv).r;\n        float threshold = step(THRESHOLD, val);\n        fragColor = vec4(threshold);\n    } else {\n        //current cell\n        bool alive = bool(texture(iChannel0, uv).r);\n        \n        //Count up live neighbors\n        int neighbor_count = 0;\n        for (int i = -1; i <= 1; i++) {\n            for (int j = -1; j <= 1; j++) {\n                //Ignore the current cell\n                if (i == 0 && j == 0)\n                    continue;\n                \n                //See if the neighbor is alive\n                vec2 offset = vec2(float(i), float(j));\n               \tneighbor_count += neighbor(fragCoord.xy, offset);\n            }\n        }\n        \n        \n        //Determine if cell lives or dies\n        if (alive && 2 <= neighbor_count && neighbor_count <= 3) {\n            fragColor = vec4(1.0);\n        } else if (!alive && neighbor_count == 3) {\n            fragColor = vec4(1.0);\n        } else {\n            fragColor = vec4(0.0);\n        }\n    }\n}","name":"Buf A","description":"","type":"buffer"}]}