{"ver":"0.1","info":{"id":"4dyyWh","date":"1521689885","viewed":348,"name":"Equalizer Bars","username":"PhobicHD","description":"Draws equalizer bars for the song playing.","likes":2,"published":1,"flags":64,"usePreview":0,"tags":["audio","equalizerbars"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"MdjXDD","filepath":"https://soundcloud.com/kuroshirooo/shiloh-i-dont-trust-nobody-xxxtentacion-type-beat-ocean-remix","previewfilepath":"https://soundcloud.com/kuroshirooo/shiloh-i-dont-trust-nobody-xxxtentacion-type-beat-ocean-remix","type":"musicstream","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":0}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec3 colorGradient(float gradient, vec3 minColor, vec3 maxColor)\n{\n    return (1.0 - gradient) * minColor + gradient * maxColor;\n}\n\nvec3 colorGradient(float gradient, vec3 minColor, vec3 midColor, vec3 maxColor)\n{\n    if (gradient <= 0.5){\n        gradient *= 2.0;\n    \treturn colorGradient(gradient, minColor, midColor);\n    }\n    else{\n        gradient = (gradient - 0.5) * 2.0;\n        return colorGradient(gradient, midColor, maxColor);\n    }\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{   \n    float numBars = 64.0;\n    \n    vec2 uv = fragCoord/iResolution.xy;    \n    \n    // discretely sample the frequencies for their volume based on the x dimension    \n    float intensity = texture(iChannel0,vec2( floor(uv.x * numBars) / numBars, 0)).x;\n    \n    // add space between bars\n    if ((uv.x * numBars) - floor(uv.x * numBars) < 0.05)\n        intensity = 0.0;\n    \n    vec3 col = colorGradient(intensity, vec3(0,0.1,0.6), vec3(0.1,0.6,0.1), vec3(0.6,0.2,0.0));\n    \n    // set height of bar based on volume \n    if (intensity * (1.0 - uv.y) > 0.1){\n    \tcol = col;\n    }\n    else{\n        col = vec3(0,0,0);\n    }\n\t\n    // Output to screen\n\tfragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}