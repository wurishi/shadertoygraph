{"ver":"0.1","info":{"id":"4dBcDw","date":"1492263440","viewed":453,"name":"Underwater metal","username":"ClySuva","description":"Very simple shader","likes":12,"published":1,"flags":0,"usePreview":0,"tags":["simple","underwater","metal","noobshader"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sXGRn","filepath":"/media/a/95b90082f799f48677b4f206d856ad572f1d178c676269eac6347631d4447258.jpg","previewfilepath":"/media/ap/95b90082f799f48677b4f206d856ad572f1d178c676269eac6347631d4447258.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"},"published":1},{"id":"4sf3Rr","filepath":"/media/a/ad56fba948dfba9ae698198c109e71f118a54d209c0ea50d77ea546abad89c57.png","previewfilepath":"/media/ap/ad56fba948dfba9ae698198c109e71f118a54d209c0ea50d77ea546abad89c57.png","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float random(vec3 scale,float seed){return fract(sin(dot(gl_FragCoord.xyz+seed,scale))*43758.5453+seed);}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    \n    uv.y += sin(iTime + uv.x * 4.0)* 0.1;\n    uv.y += sin(iTime + uv.y * 2.0)* 0.1;\n    uv.x += iTime * 0.1;\n    \n    vec2 uv2 = uv;\n    uv2.x += iTime * 0.05;\n    uv2.y += sin(iTime * 0.1);\n        \n    vec4 color=vec4(0.0);\n\tfloat total=0.0;\n    vec2 delta = vec2(uv.y * 0.01, uv.y * 0.01);\n\tfloat offset=random(vec3(12.9898,78.233,151.7182),0.0);\n\tfor(float t=-30.0;t<=30.0;t++){\n\t\tfloat percent=(t+offset-0.5)/30.0;\n\t\tfloat weight=1.0-abs(percent);\n\t\tvec4 smp = (texture(iChannel0, uv + delta * percent) * 2.0 - .5) +\n        ((1.0 - texture(iChannel1, uv2 + delta * percent).r) * 0.4);\n\t\tsmp.rgb*=smp.a;\n\t\tcolor+=smp*weight;\n\t\ttotal+=weight;\n\t}\n\t\n\tfragColor=color/total;\n    fragColor.rgb/=fragColor.a+0.00001;\n    fragColor.r -= 0.3;\n    fragColor.g -= 0.15;      \n}\n\n","name":"Image","description":"","type":"image"}]}