{"ver":"0.1","info":{"id":"7stBRM","date":"1656283171","viewed":153,"name":"True Doraemon","username":"Markitok","description":"Is doraemon","likes":5,"published":1,"flags":64,"usePreview":0,"tags":["doraemon"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XtSXRD","filepath":"https://soundcloud.com/shekhar-tyagi/doraemon-theme-song","previewfilepath":"https://soundcloud.com/shekhar-tyagi/doraemon-theme-song","type":"musicstream","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":0}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//Sorry for the mess.\n\nfloat line(vec2 p1, vec2 p2, vec2 frag_pos, float width) {\n    vec2 line_track = p2 - p1;\n    vec2 hip = frag_pos - p1;\n    float proj = clamp(dot(hip, line_track) / dot(line_track, line_track), 0.0, 1.0);\n    vec2 perp_pos = p1 + line_track * proj;\n    \n    return (1.0 - step(width, distance(perp_pos, frag_pos)));\n}\n\nvec3 doraemon(in vec2 p) {\n\n    vec3 doraemon_blue = vec3(0.0, 163.0, 218.0) / 255.0;\n    vec3 doraemon_red = vec3(191.0, 36.0, 50.0) / 255.0;\n    vec3 outline_color = vec3(0.0);\n    vec3 background = vec3(251.0, 238.0, 134.0) / 255.0;\n\n    float outline_size = 10.0;\n   \n    vec2 face_center = vec2(400.0, 320.0);\n \n    vec2 face_dir = p - face_center;\n    float face_rn = length(face_dir);\n    face_dir /= face_rn;\n    float face_size = 100.0 + (dot(face_dir, vec2(0.0, -1.0)) * 0.5 + 0.5) * 160.0;\n    \n    vec3 color = mix(background, outline_color, \n        step(face_rn, face_size + outline_size));\n        \n    color = mix(color, doraemon_blue, \n        step(face_rn, face_size));\n        \n    vec2 front_center = vec2(400.0, 280.0);\n    \n    vec2 front_dir = p - front_center;\n    float front_rn = length(front_dir);\n    front_dir /= front_rn;\n    float front_size = 60.0 + (dot(front_dir, vec2(0.0, -1.0)) * 0.5 + 0.5) * 160.0;\n    \n    outline_size = 5.0;\n    color = mix(color, outline_color,\n        step(front_rn, front_size + outline_size));\n    color = mix(color, vec3(1.0),\n        step(front_rn, front_size));\n    //eyes    \n    vec2 eye = vec2(362.5, 355.0);\n    \n    vec2 eye_dir = p - eye;\n    float eye_rn = length(eye_dir);\n    eye_dir /= eye_rn;\n    \n    float eye_size = 30.0 + max(abs(dot(eye_dir, vec2(0.0, 1.0))) * 10.0, 2.0)\n    + (dot(eye_dir, vec2(-0.77, -0.77)) * 0.5 + 0.5) * 15.0;\n    \n    color = mix(color, outline_color,\n        step(eye_rn, eye_size + outline_size));\n    color = mix(color, vec3(1.0),\n        step(eye_rn, eye_size));\n        \n    eye = vec2(438.5, 355.0);\n    \n    eye_dir = p - eye;\n    eye_rn = length(eye_dir);\n    eye_dir /= eye_rn;\n    \n    eye_size = 30.0 + max(abs(dot(eye_dir, vec2(0.0, 1.0))) * 10.0, 2.0)\n     + (dot(eye_dir, vec2(0.77, -0.77)) * 0.5 + 0.5) * 15.0;\n    \n    color = mix(color, outline_color,\n        step(eye_rn, eye_size + outline_size));\n    color = mix(color, vec3(1.0),\n        step(eye_rn, eye_size));\n        \n    vec2 eye_ball = vec2(425.0, 335.0);\n      \n    eye_dir = p - eye_ball;\n    eye_rn = length(eye_dir);\n    eye_dir /= eye_rn;\n    \n    eye_size = 2.0 + max(abs(dot(eye_dir, vec2(0.0, 1.0))) * 6.0, 2.0);\n    outline_size = 10.0;\n    color = mix(color, outline_color,\n        step(eye_rn, eye_size + outline_size));\n    color = mix(color, vec3(1.0),\n        step(eye_rn, eye_size));\n        \n    eye_ball = vec2(375.0, 335.0);\n      \n    eye_dir = p - eye_ball;\n    eye_rn = length(eye_dir);\n    eye_dir /= eye_rn;\n    \n    eye_size = 2.0 + max(abs(dot(eye_dir, vec2(0.0, 1.0))) * 6.0, 2.0);\n    outline_size = 10.0;\n    color = mix(color, outline_color,\n        step(eye_rn, eye_size + outline_size));\n    color = mix(color, vec3(1.0),\n        step(eye_rn, eye_size));\n        \n        \n    //nose\n    vec2 nose = vec2(400.0, 288.0);\n      \n    eye_dir = p - nose;\n    eye_rn = length(eye_dir);\n    eye_dir /= eye_rn;\n    \n    eye_size = 25.0;\n    outline_size = 5.0;\n    color = mix(color, outline_color,\n        step(eye_rn, eye_size + outline_size));\n    color = mix(color, doraemon_red,\n        step(eye_rn, eye_size));\n        \n    \n    vec2 nose_h = vec2(390.0, 295.0);\n      \n    eye_dir = p - nose_h;\n    eye_rn = length(eye_dir);\n    eye_dir /= eye_rn;\n    \n    eye_size = 10.0;\n    \n    color = mix(color, vec3(1.0),\n        step(eye_rn, eye_size));\n    \n    \n    //mouth\n    \n    vec2 mouth = vec2(400.0, 220.0);\n    vec2 mouth_lip = vec2(400.0, 1000.0);\n    eye_dir = p - mouth;\n    eye_rn = length(eye_dir);\n    eye_dir /= eye_rn;\n    \n    eye_size = 120.0;\n    float mouth_lip_size = 810.0;\n    float mouth_lip_d = distance(mouth_lip, p);\n    \n    float inside_mouth = step(eye_rn, eye_size) * step(mouth_lip_size, mouth_lip_d);\n    \n    color = mix(color, outline_color,\n        step(eye_rn, eye_size + outline_size)* step(mouth_lip_size - outline_size, mouth_lip_d));\n    \n    color = mix(color, doraemon_red, inside_mouth);\n    \n    vec2 smile = vec2(290.0, 230.0);\n      \n    eye_dir = p - smile;\n    eye_rn = length(eye_dir);\n    eye_dir /= eye_rn;\n    \n    eye_size = 30.0;\n    \n    color = mix(color, outline_color,\n        step(eye_rn, eye_size + outline_size) * float(p.x < 300.0));\n    \n    eye_size = 30.0;\n    \n    color = mix(color, vec3(1.0),\n        step(eye_rn, eye_size));\n        \n        \n    vec2 smile2 = vec2(510.0, 230.0);\n      \n    eye_dir = p - smile2;\n    eye_rn = length(eye_dir);\n    eye_dir /= eye_rn;\n    \n    eye_size = 30.0;\n    \n    color = mix(color, outline_color,\n        step(eye_rn, eye_size + outline_size) * float(p.x > 500.0));\n    \n    eye_size = 30.0;\n    \n    color = mix(color, vec3(1.0),\n        step(eye_rn, eye_size));\n        \n    vec2 tongue = vec2(400.0, 50.0);\n      \n    eye_dir = p - tongue;\n    eye_rn = length(eye_dir);\n    eye_dir /= eye_rn;\n    \n    eye_size = 100.0;\n    \n    color = mix(color, outline_color,\n        step(eye_rn, eye_size + outline_size) * inside_mouth);\n    \n    color = mix(color, vec3(224.0, 73.0, 42.0) / 255.0,\n        step(eye_rn, eye_size)* inside_mouth);\n    \n    //collar\n    color = mix(color, vec3(0.0),\n        line(vec2(300.0, 70.0), vec2(500.0, 70.0), p, 20.0));\n    color = mix(color, doraemon_red,\n        line(vec2(300.0, 70.0), vec2(500.0, 70.0), p, 15.0));\n        \n    color = mix(color, vec3(0.0),\n        line(vec2(400.0, 195.0), vec2(400.0, 257.0), p, 4.0));\n    //moustache\n    color = mix(color, vec3(0.0),\n        line(vec2(450.0, 260.0), vec2(545.0, 300.0), p, 2.0));\n    color = mix(color, vec3(0.0),\n        line(vec2(455.0, 240.0), vec2(560.0, 250.0), p, 2.0));\n    color = mix(color, vec3(0.0),\n        line(vec2(455.0, 220.0), vec2(555.0, 200.0), p, 2.0));\n        \n    color = mix(color, vec3(0.0),\n        line(vec2(350.0, 260.0), vec2(255.0, 300.0), p, 2.0));\n    color = mix(color, vec3(0.0),\n        line(vec2(345.0, 240.0), vec2(240.0, 250.0), p, 2.0));\n    color = mix(color, vec3(0.0),\n        line(vec2(345.0, 220.0), vec2(245.0, 200.0), p, 2.0));\n        \n    return color;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec3 final_color = doraemon(fragCoord);\n    \n    fragColor = vec4(final_color,1.0);\n}","name":"Image","description":"","type":"image"}]}