{"ver":"0.1","info":{"id":"ss3fWN","date":"1656470854","viewed":69,"name":"Buratino1","username":"Kuzmychov_Oleksandr","description":"buratino","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["buratino"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.14159265359\n#define TWO_PI 6.28318530718\n\n//Делаем условные функции для каждой нужной фигуры -  для треугольника отдельно проверяем,\n// не принадлежат ли все три точки одной линии\nbool EEllipse(vec2 p1, vec2 p2, float r, float a, float b)\n{\n    float sc = iResolution.y / iResolution.x;\n     return (p1.x-p2.x)*(p1.x-p2.x)*0.5/(a*a) + (p1.y-p2.y)*(p1.y-p2.y)*0.5*(sc*sc)/(b*b) < r*r; \n}\n\nbool CCircle(vec2 p1, vec2 p2, float r)\n{\n    float sc = iResolution.y / iResolution.x;\n     return (p1.x-p2.x)*(p1.x-p2.x) + (p1.y-p2.y)*(p1.y-p2.y)*(sc*sc) < r*r; \n}\n\nfloat Checkup(vec2 p1, vec2 p2, vec2 p3)\n{\n    return (p3.x-p1.x)*(p2.y-p1.y) - (p3.y-p1.y)*(p2.x-p1.x);\n}\n  bool OneLine(vec2 p1, vec2 p2, vec2 p3, vec2 p4) \n  {\n     return Checkup(p1, p2, p3)*Checkup(p1, p2, p4) >= 0.;\n  }\n    bool TTriangle(vec2 p1, vec2 p2, vec2 p3, vec2 p4)\n    {\n        return OneLine(p1, p2, p3, p4) && OneLine(p2, p3, p1, p4) && OneLine(p3, p1, p2, p4);\n    }\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n     uv -= vec2(0.5);\n      float x = uv.x;\n      float y = uv.y;\n    fragColor = vec4(0., 0., 0., .1);\n    vec4 Body = vec4(0.8, 0.7, 0.4, 1.0); \n        \n    //Выше мы задали цвет \"кожи\" Буратино. Дальше у нас идут:\n    //Шея\n     if(EEllipse(vec2(x,y), vec2(-0.02, -0.25), 0.15, 0.1, 0.2))\n     {\n      fragColor = vec4(0.7, 0.6, 0.3, 0.);\n     }\n     \n    //Голова и румянец\n     if(CCircle(vec2(x,y), vec2(-0.021, -0.05), 0.1))\n     {\n      fragColor = Body;\n     }\n      \n     if(CCircle(vec2(x,y), vec2(0.001, -0.1), 0.025))\n     {\n      fragColor = vec4(0.9, 0.3, 0.4, 0.4);\n     }\n     \n    //Глаз  \n     if(CCircle(vec2(x,y), vec2(0.03, -0.01), 0.02))\n     {\n      fragColor = vec4(0., 0, 0., 1.0);\n     }    \n       \n     if(CCircle(vec2(x,y), vec2(0.028, 0.0), 0.021))\n     {\n      fragColor = Body;\n     }\n     \n    //Слеза\n     if(TTriangle(vec2(0.02, -0.065), vec2(0.04, -0.065), vec2(0.03, -0.045), vec2(x, y)))\n     {\n      fragColor = vec4(0.3, 0.5, 0.9, 0.5);\n     }\n     if(CCircle(vec2(x,y), vec2(0.03, -0.07), 0.01))\n     {\n      fragColor = vec4(0.3, 0.5, 0.9, 0.5);\n     }\n     \n    //Рот\n     if(TTriangle(vec2(0.05, -0.175), vec2(0.02, -0.13), vec2(0.035, -0.17), vec2(x, y)))\n     {\n      fragColor = vec4(0.4, 0.3, 0.3, 0.0);\n     }\n     \n    //Нос и тень на его нижней части\n     if(TTriangle(vec2(0.4, -0.1), vec2(0.05, -0.12), vec2(0.05, -0.07), vec2(x, y)))\n     {\n      fragColor = Body;\n     }\n     if(TTriangle(vec2(0.4, -0.1), vec2(0.07, -0.12), vec2(0.08, -0.1), vec2(x, y)))\n     {\n      fragColor = vec4(0.6, 0.5, 0.3, 0.);\n     }\n         \n    //Шляпа с отблеском и волосами\n     if(TTriangle(vec2(-0.03, 0.4), vec2(-0.09, 0.1), vec2(0.05, 0.1), vec2(x, y)))\n     {\n      fragColor = vec4(0.9, 0.3, 0.3, 1.0); \n     }  \n     if(TTriangle(vec2(-0.026, 0.4), vec2(-0.074, 0.1), vec2(-0.05, 0.1), vec2(x, y)))\n     {\n      fragColor = vec4(0.9, 0.4, 0.4, 1.0); \n     }\n     \n     if(EEllipse(vec2(x,y), vec2(-0.02, 0.09), 0.09, 0.8, 0.16)) //Да, следующие фигуры отвечают за волосы\n     {\n      fragColor = vec4(0.8, 0.3, 0.3, 1.0);\n     }\n     if(EEllipse(vec2(x,y), vec2(-0.02, 0.069), 0.09, 0.7, 0.07))\n     {\n      fragColor = vec4(0.3, 0.25, 0.3, 1.0);\n     }\n     if(TTriangle(vec2(-0.03, 0.07), vec2(0.0, 0.02), vec2(0.05, 0.07), vec2(x, y)))\n     {\n      fragColor = vec4(0.3, 0.25, 0.3, 1.0); \n     }\n     if(TTriangle(vec2(0.02, 0.07), vec2(0.06, 0.01), vec2(0.07, 0.07), vec2(x, y)))\n     {\n      fragColor = vec4(0.3, 0.25, 0.3, 1.0); \n     }\n     if(TTriangle(vec2(-0.07, 0.07), vec2(-0.06, -0.04), vec2(-0.01, 0.07), vec2(x, y)))\n     {\n      fragColor = vec4(0.3, 0.25, 0.3, 1.0); \n     }\n     if(TTriangle(vec2(-0.11, 0.07), vec2(-0.13, -0.07), vec2(-0.01, 0.07), vec2(x, y)))\n     {\n      fragColor = vec4(0.3, 0.25, 0.3, 1.0); \n     }\n     \n     if(CCircle(vec2(x,y), vec2(-0.0287, 0.4), 0.025))\n     {\n      fragColor = vec4(0.8, 0.3, 0.3, 1.0);         \n     }    \n     \n    //Тело с руками\n     if(EEllipse(vec2(x,y), vec2(-0.02, -0.58), 0.3, 0.2, 0.4))\n     {\n      fragColor = vec4(0.8, 0.3, 0.3, 1.0);\n     }\n     \n     if(CCircle(vec2(x,y), vec2(0.034, -0.38), 0.01))\n     {\n      fragColor = vec4(1.0, 1.0, 1.0, 1.0);         \n     }\n     if(CCircle(vec2(x,y), vec2(0.05, -0.48), 0.01))\n     {\n      fragColor = vec4(1.0, 1.0, 1.0, 1.0);         \n     }\n     if(EEllipse(vec2(x,y), vec2(-0.02, -0.315), 0.15, 0.15, 0.1))\n     {\n      fragColor = vec4(1.0, 1.0, 1.0, 1.0);\n     }\n     \n     if(EEllipse(vec2(x,y), vec2(-0.01, -0.5), 0.15, 0.15, 0.4))\n     {\n      fragColor = vec4(0.9, 0.3, 0.3, 1.0);\n     }\n}","name":"Image","description":"","type":"image"}]}