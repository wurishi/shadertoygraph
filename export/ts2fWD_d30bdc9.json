{"ver":"0.1","info":{"id":"ts2fWD","date":"1590099472","viewed":130,"name":"Sucked Away","username":"creikey","description":"Sucked away","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["away","sucked"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dX3Rn","filepath":"/media/a/bd6464771e47eed832c5eb2cd85cdc0bfc697786b903bfd30f890f9d4fc36657.jpg","previewfilepath":"/media/ap/bd6464771e47eed832c5eb2cd85cdc0bfc697786b903bfd30f890f9d4fc36657.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.14159\n\nvec2 rotate(vec2 xy, float theta)\n{\n    return vec2(xy.x*cos(theta) - xy.y*sin(theta),\n               xy.x*sin(theta) + xy.y*cos(theta));\n}\n\nfloat fmod(float a, float b) { if(a<0.0) { return b - mod(abs(a), b); } return mod(a, b); }\n\nfloat atan3(vec2 st){\n    return mod(atan(st.t, st.s), 2. * PI);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float collapsing_factor = sin(iTime/4.0);\n    \n    // where 0.0 is the center\n    vec2 uv = (fragCoord-.5*iResolution.xy)/iResolution.y;\n\n    \n    uv = rotate(uv, iTime + pow(length(uv), 0.4)*collapsing_factor*5.5);\n    \n    float new_angle = atan3(uv);\n    float new_magnitude = max(0.0, length(uv) + abs(collapsing_factor*1.0));\n    uv = vec2(cos(new_angle), sin(new_angle))*new_magnitude;\n\n    // Output to screen\n    //if (new_magnitude < 1.0) {\n    //\tfragColor = texture(iChannel0, uv);\n    //} else {\n        fragColor = mix(texture(iChannel0, uv), vec4(0.0), max(0.0, pow(new_magnitude - abs(collapsing_factor)*0.1, 3.0)));\n    //}\n        \n    //fragColor = vec4(length(uv));\n}","name":"Image","description":"","type":"image"}]}