{"ver":"0.1","info":{"id":"ssKyzh","date":"1654447789","viewed":1675,"name":"Cornell [267 chars]","username":"Xor","description":"A fake cornell box that fits in a tweet","likes":72,"published":1,"flags":0,"usePreview":0,"tags":["cornell","tweet","golf"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"/*\n    \"Cornell [267 chars]\" by @XorDev\n    \n    Just a little handwritten cornell box\n\n    Tweet: twitter.com/XorDev/status/1533484050345869312\n    Twigl: t.co/cyZANgnYay\n    \n    <300 chars playlist: https://www.shadertoy.com/playlist/fXlGDN\n*/\n\nvoid mainImage(out vec4 O, vec2 I)\n{\n    //Resolution for scaling\n    vec3 r = iResolution,\n    //Camera Position (approximately vec3(0,0,2.5))\n    p = 2.5/r,\n    //Absolute position\n    a;\n    \n    //Iterate 40 times and set color\n    for(;r.z++<4e1; O = 2.+vec4(p.x,-p.x,a))\n        //Raymarch with box and sphere SDF\n        p += vec3(I+I-r.xy,-r)/r.x * min(1.-max(a=abs(p),max(a.y,-p.z)).x, length(p+.5)-.5);\n        \n    //Fun mode:\n    //O = 2.+p.x*sign(sin(iTime+vec4(0,2,4,0)));\n    //Top light\n    O = .01/length(max(a.xz/.2-p.y,0.))+\n    //Bounce lighting\n    .8/O+\n    //Wall coloring\n    3e1* min(3.-O, .01);\n    //AO and shading\n    O /= dot(p,p)+.4/dot(p+.5,p+.8);\n}","name":"Image","description":"","type":"image"}]}