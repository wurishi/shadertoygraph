{"ver":"0.1","info":{"id":"Xl2cWK","date":"1510144224","viewed":330,"name":"Swirl 2d","username":"AzazelN28","description":"Swirl fx","likes":7,"published":1,"flags":0,"usePreview":0,"tags":["2d","swirl"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dX3Rn","filepath":"/media/a/bd6464771e47eed832c5eb2cd85cdc0bfc697786b903bfd30f890f9d4fc36657.jpg","previewfilepath":"/media/ap/bd6464771e47eed832c5eb2cd85cdc0bfc697786b903bfd30f890f9d4fc36657.jpg","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XdXGzr","filepath":"/media/a/8979352a182bde7c3c651ba2b2f4e0615de819585cc37b7175bcefbca15a6683.jpg","previewfilepath":"/media/ap/8979352a182bde7c3c651ba2b2f4e0615de819585cc37b7175bcefbca15a6683.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define PI 3.14159265\n\n// @see http://www.geeks3d.com/20110428/shader-library-swirl-post-processing-filter-in-glsl/\nvec4 swirl(sampler2D tex, vec2 uv, float time)\n{\n  vec2 size = vec2(iResolution.x, iResolution.y);\n\n  vec2 center = vec2(size.x * 0.5, size.y * 0.5);\n\n  float radius = time * max(size.x,size.y);\n  float angle = time * 2.0;\n\n  vec2 texSize = vec2(size.x, size.y);\n  vec2 tc = uv * texSize;\n  tc -= center;\n  float dist = length(tc);\n  if (dist < radius) \n  {\n    float percent = (radius - dist) / radius;\n    float theta = percent * percent * angle * 8.0;\n    float s = sin(theta);\n    float c = cos(theta);\n    tc = vec2(dot(tc, vec2(c, -s)), dot(tc, vec2(s, c)));\n  }\n  tc += center;\n  vec3 color = texture(tex, tc / texSize).rgb;\n  return vec4(color, 1.0);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float progress = abs(sin(iTime));\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n\tfragColor = mix(\n        swirl(iChannel0, uv, sin(progress * PI)), \n        swirl(iChannel1, uv, sin(progress * PI)), \n        progress\n    );\n}","name":"Image","description":"","type":"image"}]}