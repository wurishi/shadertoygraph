{"ver":"0.1","info":{"id":"3tdfRS","date":"1612971549","viewed":59,"name":"002_simplex.frag","username":"jorge2017a1","description":"002_simplex.frag","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["002simplexfrag"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//https://github.com/willstall/30-days-of-shade/blob/master/assets/shaders/002_simplex.frag\n\n/*\n    daily: 002\n    author: Will Stallwood\n    insta: https://www.instagram.com/willstall/\n    \n*/\n\n\n\n#define PI 3.14159265359\n#define HALF_PI 1.57079632675\n#define TWO_PI 6.283185307\n\n\nvec3 palette(float t,vec3 a,vec3 b,vec3 c,vec3 d )\n{\n    return a + b * cos( TWO_PI * (c*t+d));\n}\n\nfloat random(float x)\n{\n    return fract(sin(x*100.00)*10000.0);\n}\n\nfloat random(vec2 st)\n{\n    return fract(\n        dot(\n            sin(st.x*100.00),\n            sin(st.y*100.00)        \n        )*10000.0);\n}\n\nfloat smoothCellRandom(float x,float scale)\n{   \n    float iPos = floor(x*scale);\n    float fPos = fract(x*scale);\n\n    return mix(random(iPos), random(iPos + 1.0), smoothstep(0.,1.,fPos));\n}\n\nfloat peakCellRandom(float x,float scale)\n{   \n    float iPos = floor(x*scale);\n    float fPos = fract(x*scale);\n\n    return mix(random(iPos), random(iPos + 1.0), fPos);\n}\n\nfloat cellRandom(float x,float scale)\n{   \n    float iPos = floor(x*scale);\n    float fPos = fract(x*scale);\n\n    return random(iPos);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{   \n    vec2 st = fragCoord.xy / iResolution.xy;\n\n    vec3 color = vec3(0.0);\n    //    color.x = abs(sin(u_time));\n    float t = iTime * .33;\n    float scale = 20.;\n\n    float cell = cellRandom(st.x+t,scale);\n    float r = floor(cell*st.y*scale);\n    float f = st.y * abs(sin( cell*100.0 + iTime));\n    r *= f;\n    r = 1.0 - step(1.0,r);\n    r += 1.0-f;\n\n    float d = smoothCellRandom(st.x+t,scale);\n    // d *= r;\n    d = r;\n\n    vec3 a = vec3(0.5,0.5,0.5);\n    vec3 b = vec3(0.5,0.5,0.5);\n    vec3 c = vec3(0.0,.1,0.2);\n\n    color = palette(d+fract(t)*2.0,vec3(0.5),a,b,c);\n    // color += d;\n\n    fragColor = vec4(color,1.0);\n}\n\n\n","name":"Image","description":"","type":"image"}]}