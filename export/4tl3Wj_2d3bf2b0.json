{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"struct polygon{\n\tvec2 A, B, C;\n};\n    \nfloat circle(vec2 coord, float size, float start, float end){\n    float angle = atan(coord.x, coord.y);\n    if(angle>start && angle<end) return 0.0;\n    return min(floor(distance(coord,vec2(0.))-size),0.);\n}\nfloat sgn(vec2 p1, vec2 p2, vec2 p3){\n  return (p1.x - p3.x) * (p2.y - p3.y) - (p2.x - p3.x) * (p1.y - p3.y);\n}\nint PointInTriangle(vec2 pt, vec2 v1, vec2 v2, vec2 v3){\n\tint b1, b2, b3;\n\n\tif(sgn(pt, v1, v2) < 0.0) b1=1;\n\tif(sgn(pt, v2, v3) < 0.0) b2=1;\n\tif(sgn(pt, v3, v1) < 0.0) b3=1;\n\tif((b1 == b2) && (b2 == b3))\n\t\treturn 1;\n\treturn 0;\n}\n\nint PointInTriangle(vec2 pt, polygon X){\n\tint b1, b2, b3;\n\n\tif(sgn(pt, X.A, X.B) < 0.0) b1=1;\n\tif(sgn(pt, X.B, X.C) < 0.0) b2=1;\n\tif(sgn(pt, X.C, X.A) < 0.0) b3=1;\n\tif((b1 == b2) && (b2 == b3))\n\t\treturn 1;\n\treturn 0;\n}\n\nfloat box(vec2 coord, vec2 pos, vec2 size){\n\tif((coord.x<(pos.x+size.x)) &&\n\t   (coord.x>(pos.x-size.x)) &&\n\t   (coord.y<(pos.y+size.y)) && \n\t   (coord.y>(pos.y-size.y)) ) \n\t\treturn 1.0;\n\treturn 0.0;\n}\nfloat sun(vec2 coord, vec2 pos, float size){\n\tif(length(coord-pos)<size)\n\t\treturn 1.0;\n\treturn 0.0;\n}\nfloat rand(vec2 co){\n    return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\n\nmat2 rotate(float Angle)\n{\n    mat2 rotation = mat2(\n        vec2( cos(Angle),  sin(Angle)),\n        vec2(-sin(Angle),  cos(Angle))\n    );\n\treturn rotation;\n}\nfloat sdCapsule( vec2 p, vec2 a, vec2 b, float r ){\n    vec2 pa = p - a, ba = b - a;\n    float h = clamp( dot(pa,ba)/dot(ba,ba), 0.0, 1.0 );\n    return min(floor(length( pa - ba*h ) - r),0.);\n}\nfloat triangle( vec2 coord, vec2 pos, float angle, float thick, float size){\n    vec2 original_coord = coord;\n    coord += pos;\n    coord *= rotate(angle);\n    float collision = 0.0;\n    collision += sdCapsule( coord, vec2( 0.0, 0.333)*size, vec2( 0.3,-0.2)*size, thick );\n    collision += sdCapsule( coord, vec2( 0.0, 0.333)*size, vec2(-0.3,-0.2)*size, thick );\n    collision += sdCapsule( coord, vec2( 0.3,-0.2)*size, vec2(-0.3,-0.2)*size, thick );\n    collision += 3.0*texture( iChannel0, original_coord * 0.6 + vec2(iTime*0.02) ).b * 0.6;\n    collision += 2.5*texture( iChannel0, original_coord * 0.1 + vec2(iTime*0.001) ).b * 0.4;\n    return -min(max(-collision,0.0),1.0);\n}\n\n\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ){\n\tvec4 tulos;\n\tvec4 lopullinentulos=vec4(1.0);\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n\tfloat aspectCorrection = (iResolution.x/iResolution.y);\n\tvec2 coordinate_entered = 2.0 * uv - 1.0;\n\tvec2 coord = vec2(aspectCorrection,1.0) *coordinate_entered;\n    vec2 ori_coord=coord;\n\tfor(float rgbare=0.0; rgbare<2.0; rgbare++){\n        coord = vec2(aspectCorrection,1.0) *coordinate_entered * 2.5;\n        coord.x*=1.0+rgbare*0.005;\n\t\tcoord*=1.0+0.2*rand(coord+iTime)/(pow(iTime,12.0)*3.0)-length(coord)*4.0/(pow(iTime*61.1,24.0));\n        coord*=1.0+0.1*sin(1.01*0.1);\n        tulos=vec4(vec3(255.0/255.0, 255.0/255.0, 255.0/255.0),1.0);\n        float beat = ceil(iTime);\n\t\tvec2 base_coord = coord;\n\t\tcoord/=(1.+iTime/3.);\n            \n        coord*=rotate(iTime/4.);\n        coord.x+=iTime/3.;\n\t\n        float s1 = max(iTime-1.,0.);\n        float s2 = max(iTime-2.,0.);\n        float s3 = max(iTime-3.,0.);\n        float s4 = max(iTime-5.,0.);\n        float s5 = max(iTime-6.,0.);\n        vec3 taikurivitunluttinen=vec3(0.);\n        if(iTime>4.){\n            taikurivitunluttinen.rb+=0.7*max(1.0-(iTime-4.)/2.,0.)*vec2(rand(floor(coord*2.))-0.5,rand(floor(coord*2.+44.))-0.5);\n            taikurivitunluttinen.rg-=0.7*max(1.0-(iTime-4.)/2.,0.)*vec2(rand(floor(coord*.9))-0.5,rand(floor(coord*.9+44.))-0.5);\n        }\n        tulos.rgb+=taikurivitunluttinen;\n        if(s2<1.){\n            if(circle(coord-vec2(-.75+s2*s2,0.), 0.1*max(min(iTime*10.,1.)*(1.+sin(10.*iTime)/(1.+iTime*50.)),0.), 0., 0.)<0.)\n                tulos.rgb -= vec3(1.2);\n            if(circle(coord-vec2(-.75+s2*s2,0.), 0.08*max(min(iTime*10.,1.)*(1.+sin(10.*iTime)/(1.+iTime*50.)),0.), 0., 0.)<0.)\n                tulos.rgb += vec3(1.2);\n        }\n        for(float i=0.; i<12.; i++){\n            vec2 tripos = vec2(-i*.1-iTime*0.1*(1.+i*.1),rand(vec2(i+213.))-iTime*0.01*(1.+i*.1));\n        \ttulos.rgb += .8*vec3(rand(vec2(i+6.)),rand(vec2(i+88.)),rand(vec2(i+66.)))*\n                          triangle( coord, vec2(-3.,-.5)+tripos, mod(iTime+i*.74722,1.)+iTime+i, min(max(s5,0.),1.)*0.03, 0.5*min(max(s5,0.),1.)*(sin(s5*5.+i)*sin(i+iTime*.53)+1.1));\n        }\n        \n        if(circle(coord-vec2(.75,0.), 0.62*max(min(s1*10.,1.)*(1.+sin(10.*s1)/(1.+s1*50.)),0.), 0., 0.)<0.)\n            tulos.rgb -= vec3(1.2);\n        if(circle(coord-vec2(.75,0.), 0.58*max(min(s1*10.,1.)*(1.+sin(10.*s1)/(1.+s1*50.)),0.), 0., 0.)<0.)\n            tulos.rgb += vec3(1.2);\n        if(circle(coord-vec2(.75,0.), 0.575*max(min(s1*10.,1.)*(1.+sin(10.*s1)/(1.+s1*50.)),0.), 0., 0.)<0.)\n            tulos.rgb += vec3(1.2);\n        if(circle(coord-vec2(1.,0.), 0.2*max(min(s1*10.,1.)*(1.+sin(10.*s1)/(1.+s1*50.)),0.), -3.14159*0.75*min(s3*22.,1.), 3.14159*0.25*min(s3*22.,1.))<0.)\n            tulos.rgb -= vec3(2.2);\n        if(circle(coord-vec2(.5,0.), 0.2*max(min(s1*10.,1.)*(1.+sin(10.*s1)/(1.+s1*50.)),0.), -3.14159*0.25*min(s3*22.,1.), 3.14159*0.75*min(s3*22.,1.))<0.)\n            tulos.rgb -= vec3(2.2);\n\n        if(circle(coord-vec2(1.,0.), 0.2*max(min(s1*10.,1.)*(1.+sin(10.*s1)/(1.+s1*50.)),0.), 0., 0.)<0.)\n            tulos.rgb -= vec3(2.2);\n        if(circle(coord-vec2(1.,0.), 0.18*max(min(s1*10.,1.)*(1.+sin(10.*s1)/(1.+s1*50.)),0.), 0., 0.)<0.)\n            tulos.rgb += vec3(2.2);\n        if(circle(coord-vec2(.5,0.), 0.2*max(min(s1*10.,1.)*(1.+sin(10.*s1)/(1.+s1*50.)),0.), 0., 0.)<0.)\n            tulos.rgb -= vec3(2.2);\n        if(circle(coord-vec2(.5,0.), 0.18*max(min(s1*10.,1.)*(1.+sin(10.*s1)/(1.+s1*50.)),0.), 0., 0.)<0.)\n            tulos.rgb += vec3(2.2);\n\n        if(circle(coord-vec2(.75,-.4), 0.2*max(min(s3*10.,1.)*(1.+sin(10.*s3)/(1.+s3*50.)),0.), 0.,0.)<0.)\n            tulos.rgb -= vec3(2.2);\n        if(circle(coord-vec2(.75,-.4), 0.18*max(min(s3*4.,1.)*(1.+sin(4.*s3)/(1.+s3*50.)),0.), 0.,0.)<0.)\n            tulos.rgb += vec3(2.2);\n\n        if(circle(coord-vec2(.75,0.), 1.8, 0.,0.)<0.)\n            tulos.rgb -= vec3(2.2);\n        if(circle(coord-vec2(.75,0.), 1.77, 0.,0.)<0.)\n            tulos.rgb += vec3(2.2);\n        if(iTime>4.)\n        for(float i=0.; i<16.; i++){\n            vec2 posi=vec2(rand(vec2(i-43.))*.6-0.5,rand(vec2(i+44.))*.5-.25);\n            if(circle(coord+posi*(1.+s4*5.)+vec2(-.75,0.), 0.1*(s4+sin(i)), 0.,0.)<0.)\n                tulos.rgb -= vec3(0.02,0.1,0.01);\n        }\n        for(float i=0.; i<8.; i++){\n            vec2 posi=vec2(rand(vec2(i))-.5,rand(vec2(i+66.))-.5);\n            posi=normalize(posi)*.6;\n            if(circle(coord-vec2(.75,0.)+posi, 0.3+sin(i+iTime)*0.1, 0., 0.)<0.)\n                tulos.rgb -= vec3(0.2,0.3,0.4)*.5;\n        }\n        tulos.xyz=tulos.xyz-vec3(min(max(-0.57+length(ori_coord)*0.32,0.0),1.0))+vec3(0.015+0.03*rand(vec2(ori_coord.x+ori_coord.y,1.01*ori_coord.y*ori_coord.x)));\n\t\t\n    if(mod(coord.y*200.+coord.x*200.,8.)<1.1){\n        tulos.xyz -= vec3(0.05);\n    }else if(mod(coord.y*200.-coord.x*200.,8.)<1.1){\n        tulos.xyz -= vec3(0.05);\n    }\n        base_coord*=rotate(floor(iTime/3.)*3.14159);\n        if(abs(base_coord.y)<0.8 && iTime>8. && floor(mod((base_coord.y+base_coord.x+iTime)*3.,2.))==0.)\n            tulos.rgb=vec3(1.4,.7,.2)*(1.+.1*sin(iTime*3.14159));\n        if(abs(base_coord.y)<0.7 && iTime>8. && floor(mod((base_coord.y+base_coord.x+iTime*.4)*3.,2.))==0.)\n            tulos.rgb=vec3(0.);\n        if(rgbare==0.0)\n            lopullinentulos.r=tulos.r;\n        if(rgbare==1.0)\n            lopullinentulos.gb=tulos.gb;\n    }\n\tlopullinentulos.xyz=lopullinentulos.xyz*(1.0-0.05*mod(fragCoord.y,2.0));\n\tfragColor = lopullinentulos;\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"4tl3Wj","date":"1425241624","viewed":152,"name":"Weird Slide","username":"Branch","description":"Weird Slide","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["weirdslide"],"hasliked":0,"parentid":"","parentname":""}}