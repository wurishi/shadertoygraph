{"ver":"0.1","info":{"id":"Mf3Xzl","date":"1714440288","viewed":39,"name":"Fork Shadertobe 01 - Ring","username":"chenxiang","description":"Inspired by Flopine I plan to do a shader each day for inktober. This is my attempt at today's theme `Ring`","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["ring","golf","inktober","backwardscaptain"],"hasliked":0,"parentid":"tdVGzm","parentname":"Shadertober 01 - Ring"},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#ifdef UNIFORM_PARAM\n\nuniform bool vertical; //[true]\n\nuniform bool autoMove; //[false] \nuniform bool fixedDir; //[true]\n\nuniform float diffusion; //[1.0,2.0,5.0]\nuniform float sizeM; //[1.0,1.0,5.0]\nuniform float sizeF; //[1.0,4.0,5.0]\n\n#else\n\nconst bool autoMove = true;\nconst bool fixedDir = true;\n\nconst float diffusion = 2.0;\nconst float sizeM = 1.0;\nconst float sizeF = 4.0;\n\n#endif\n\n\nfloat r(float p, float f)\n{\n    //return smoothstep(0.0, f, length(p) - 0.15) + smoothstep(f, 0.0, length(p) - 0.10);\n    return smoothstep(0.0, f, abs(length(p) - 0.1 - 0.025 - f / 2.0) - 0.025 + f / 2.0);\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n    vec2 R = iResolution.xy;\n    vec2 p = (2.0 * fragCoord - R) / min(R.x, R.y);\n    vec2 m = (2.0 * iMouse.xy - R) / min(R.x, R.y);\n\n    // calculate circle translation\n    vec2 dist = autoMove ? vec2(sin(iTime)) : m;\n    vec2 trans = R.x > R.y ? vec2(dist.x, 0.0) : vec2(0.0, dist.y);\n\n    // circle position\n    vec2 cp = (autoMove || fixedDir) ? trans : m;\n\n    // ring diffusion interpolation\n    float it = autoMove ? abs(cos(iTime)) : clamp(1.0 - length(trans), 0.0, 1.0);\n\n    // moved circle\n    float mc = length(p - cp);\n    float mr = r(mc / sizeM, 0.01);\n\n    // fixed circle\n    float fc = length(p);\n    float f = (0.1 + diffusion * it) * mc / 12.0;\n    float fr = r(fc / sizeF, f * fc);\n\n    vec3 col = vec3(mr * fr);\n    //col = vec3(r(fc/5.0, 0.01));\n\n    fragColor = vec4(col, 1.0);\n}\n","name":"Image","description":"","type":"image"}]}