{"ver":"0.1","info":{"id":"XlsSWN","date":"1436883887","viewed":179,"name":"pixel talk","username":"rcread","description":"up to 3x performance for tasks like this using fwidth","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["2d"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[],"code":"// Created by randy read - rcread/2015\n// License Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License.\n\nfloat sum( vec2 a ) { return a.x + a.y; }\n\nvec2 map( float t ) {\t\t//\tfrom iq https://www.shadertoy.com/view/Xlf3zl\n\treturn 0.85 * cos( t + vec2( 0, 1 ) ) * ( .6 + .4 * cos( t * 7. + vec2( 0, 1 ) ) );\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n\tvec2 modp = mod( floor( fragCoord.xy ), 2. ), p = 1.8 * ( fragCoord.xy - modp * ( 1. + 4e1 * ( 1. + sin( iTime * .5 ) ) ) - iResolution.xy / 2. ) / iResolution.y;\n\tfloat e = 0., t = 16.78 * dot( modp, vec2( 1, 2 ) ), d = length( p - map( t ) );\n\n    for( int i = 0 ; i < 17 ; i++ ) {\n        t\t\t+=\t.41 * d;\t\t\t\t\t\t//\teiffie was here\n        d\t\t=\tlength( p - map( t ) );\n\t\te\t\t=\tmax( e, 3. / d );\n    }\n\n\te\t\t\t=\tsmoothstep( 4e3, 1.5e-3, fwidth( e * ( mod( sum( modp ), 2. ) * 1.5 - .5 ) ) );\n\tfragColor\t=\tvec4( sqrt(e), e*e, e, 1.0 );\t//\teiffie was here\n}","name":"","description":"","type":"image"}]}