{"ver":"0.1","info":{"id":"Mftyzf","date":"1730989516","viewed":375,"name":"ascii arts of the ocean","username":"chenxianming","description":"retro arts of ASCII animation present to you by kklabs.","likes":25,"published":3,"flags":0,"usePreview":0,"tags":["ocean","fish","ascii","cineshader"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\n#define R iResolution.xy\n#define h( a ) fract( sin( dot( a, vec2( 12.345, 54.321 ) ) ) * 9876.5432 )\n#define cu( u, a ) max( abs(u.x)-a.x, abs(u.y)-a.y )\n\n\n// V test this line V\n// #define screenTest\n\nvec2 m;\n\nvec3 N( float A, vec2 u, vec3 c ) {\n\tfloat p = .1;\n\tp = min(\n\t        p,\n\t        cu( (u + vec2(.25, 0.)), vec2( .05, .3 ) )\n\t    );\n\tp = min(\n\t        p,\n\t        cu( (u - vec2(.25, 0.)), vec2( .05, .3 ) )\n\t    );\n\tc = mix(\n\t        c,\n\t        vec3(1),\n\t        smoothstep( 1. / A, -1. / A, p )\n\t    );\n\treturn mix(\n\t        c,\n\t        vec3(1),\n\t        smoothstep( 2. / A, -2. / A, max( abs(u.x + .81 * u.y)-.055, abs(u.y)-.3 ) )\n\t    );\n}\nvec3 E( float A, vec2 u, vec3 c ) {\n\tfloat p = .1;\n\tp = min(\n\t        p,\n\t        cu( (u + vec2(.25, 0.)), vec2( .05, .3 ) )\n\t    );\n\tp = min(\n\t        p,\n\t        cu( (u + vec2(.0, -.25 )), vec2( .3, .05 ) )\n\t    );\n\tp = min(\n\t        p,\n\t        cu( u, vec2( .3, .05 ) )\n\t    );\n\tp = min(\n\t        p,\n\t        cu( (u + vec2(.0, .25 )), vec2( .3, .05 ) )\n\t    );\n\treturn mix(\n\t        c,\n\t        vec3(1),\n\t        smoothstep( 1. / A, -1. / A, p )\n\t    );\n}\nvec3 W( float A, vec2 u, vec3 c ) {\n\tfloat p = .1;\n\tp = min(\n\t        p,\n\t        max( abs(u.x + .2 * u.y + .2)-.05, abs(u.y)-.3 )\n\t    );\n\tp = min(\n\t        p,\n\t        max( abs(u.x - .2 * u.y - .2)-.05, abs(u.y)-.3 )\n\t    );\n\tp = min(\n\t        p,\n\t        max( abs(u.x - .2 * u.y + .06)-.04, abs(u.y)-.3 )\n\t    );\n\tp = min(\n\t        p,\n\t        max( abs(u.x + .2 * u.y - .06)-.04, abs(u.y)-.3 )\n\t    );\n\treturn mix(\n\t        c,\n\t        vec3(1),\n\t        smoothstep( 2. / A, -2. / A, p )\n\t    );\n}\nvec3 U_( float A, vec2 u, vec3 c ) {\n\tfloat p = .1;\n\tvec2 u2 = u;\n\tu2.y -= .2;\n\tp = min(\n\t        p,\n\t        max(\n\t        max(\n\t            length( u2 * vec2( 1., 1.25 * abs( u2.y ) ) ) - .3,\n\t            -( length( u2 * vec2( 1., 1.25 * abs( u2.y ) ) ) - .2 )\n\t        ),\n\t        cu( (u + vec2(.0, .1 )), vec2( .3, .2 ) )\n\t        )\n\t    );\n\tp = min(\n\t        p,\n\t        cu( (u + vec2(.25, -.175)), vec2( .05, .125 ) )\n\t    );\n\tp = min(\n\t        p,\n\t        cu( (u + vec2(-.25, -.175)), vec2( .05, .125 ) )\n\t    );\n\treturn mix(\n\t        c,\n\t        vec3(1),\n\t        smoothstep( 1.5 / A, -1.5 / A, p )\n\t    );\n}\nvec3 V_( float A, vec2 u, vec3 c ) {\n\tfloat p = .1;\n\tp = min(\n\t        p,\n\t        max( abs(u.x + .4 * u.y + .125)-.05, abs(u.y)-.3 )\n\t    );\n\tp = min(\n\t        p,\n\t        max( abs(u.x - .4 * u.y - .125)-.05, abs(u.y)-.3 )\n\t    );\n\treturn mix(\n\t        c,\n\t        vec3(1),\n\t        smoothstep( 2. / A, -2. / A, p )\n\t    );\n}\nvec3 X( float A, vec2 u, vec3 c ) {\n\tfloat p = .1;\n\tp = min(\n\t        p,\n\t        max( abs(u.x + .8 * u.y)-.06, abs(u.y)-.3 )\n\t    );\n\tp = min(\n\t        p,\n\t        max( abs(u.x - .8 * u.y)-.06, abs(u.y)-.3 )\n\t    );\n\treturn mix(\n\t        c,\n\t        vec3(1),\n\t        smoothstep( 2. / A, -2. / A, p )\n\t    );\n}\nvec3 Y( float A, vec2 u, vec3 c ) {\n\tfloat p = .1;\n\tp = min(\n\t        p,\n\t        max( abs(u.x + .8 * u.y)-.055, abs(u.y - .15)-.15 )\n\t    );\n\tp = min(\n\t        p,\n\t        max( abs(u.x - .8 * u.y)-.055, abs(u.y - .15)-.15 )\n\t    );\n\tp = min(\n\t        p,\n\t        cu( ( u + vec2( 0, .14 ) ), vec2( .055, .16 ) )\n\t    );\n\treturn mix(\n\t        c,\n\t        vec3(1),\n\t        smoothstep( 2. / A, -2. / A, p )\n\t    );\n}\nvec3 Z( float A, vec2 u, vec3 c ) {\n\tfloat p = .1;\n\tp = min(\n\t        p,\n\t        cu( (u + vec2(.0, -.25 )), vec2( .3, .05 ) )\n\t    );\n\tp = min(\n\t        p,\n\t        cu( (u + vec2(.0, .25 )), vec2( .3, .05 ) )\n\t    );\n\tp = min(\n\t        p,\n\t        max( abs(u.x - 1.1 * u.y)-.075, abs(u.y)-.205 )\n\t    );\n\treturn mix(\n\t        c,\n\t        vec3(1),\n\t        smoothstep( 1. / A, -1. / A, p )\n\t    );\n}\n\nvec3 NULL( float A, vec2 u, vec3 c ) {\n    return vec3(\n      \tsmoothstep( 1. / A, -1. / A, max( abs(u.x + 1. * u.y) - .05, abs( u.y ) - 1. ) )\n    );\n}\n\nvec3 drawFont( float A, vec2 u, vec2 I, vec3 c, int i ) {\n\n  \tif( i == 0 ){\n    \treturn N( A, u, c );\n    }\n  \n \tif( i == 1 ){\n    \treturn U_( A, u, c );\n    }\n  \n \tif( i == 2 ){\n    \treturn V_( A, u, c );\n    }\n  \n \tif( i == 3 ){\n    \treturn W( A, u, c );\n    }\n  \n \tif( i == 4 ){\n    \treturn X( A, u, c );\n    }\n  \n   \tif( i == 5 ){\n    \treturn Y( A, u, c );\n    }\n  \n \tif( i == 6 ){\n    \treturn Z( A, u, c );\n    }\n  \n \tif( i == 7 ){\n    \treturn U_( A, u, c );\n    }\n  \n \tif( i == 99 ){\n    \treturn NULL( A, u, c );\n    }\n    \n    return vec3( 0 );\n}\n\n\nfloat H( vec2 a ){\n\treturn fract( fract( a.x * 1234.567 ) + sin( a.y * 654.321 ) );\n}\n\nfloat M( vec2 u, vec2 m ){\n  \tvec2 m_ = m;\n  \tfloat R_ = max( R.x, R.y ) / min( R.x, R.y );\n   \tu.y += R_;\n\tm.y += R_;\n\treturn length( u - m * fract( iTime ) * R_  ) - ( .1 + h( round( m_ / .4 ) ) * .1 );\n}\n\nfloat F( vec2 u ){\n\n    float p;\n    \n    u.y += iTime * .5;\n    \n    vec2 xy = round( u / 3. );\n    \n    if( mod(xy.y, 2.) > 0. ) u.x *= -1.;\n    u.y -= 3. * round( u.y / 3. );\n    \n    \n    u.x += iTime;\n    u.x -= 6. * round( u.x / 6. );\n    \n    u.y += cos( iTime * 5. ) * .1;\n    \n    vec2 v = u;\n    \n    if( u.x > 0. )\n    \n    p = max(\n        abs(u.x ) - .4,\n        abs(u.y) - ( 2.1 +.3 * H( xy.yy ) ) // 2.1 ~ 2.4\n        * pow( u.x, 2. )\n    );\n    \n    else\n    p = 1.;\n    \n    u = abs(u);\n    \n    p = min(\n        p,\n        u.x+u.y-(.3 + .1 * H(xy.yy) ) // .35 ~ .45\n    );\n    \n    u = v;\n    \n    p = max(\n        p,\n        -length( u + vec2( .15, -.05 ) ) + .05\n    );\n\n    return p;\n\n}\n\nfloat P( vec2 u ){\n\n    float i = round( u.x / 1. );\n    \n    u.x -= 1. * round( u.x / 1. );\n\n    float p = length( u + vec2(\n        cos( iTime * 5. - i ) * .2,\n        1.2 + fract( iTime * .6 + i ) * -(3. + i)\n    ) ) - abs( cos( iTime ) - i ) * .1;\n    \n    return p;\n}\n\n\nfloat G( vec2 u ){\n    float p;\n    \n    u.y += iTime * .5;\n    \n    vec2 xy = round( u / vec2( max(R.x, R.y) / min( R.x, R.y ), .8 ) );\n    \n    \n    if( xy.x != 0. ){\n        \n      \tif( H( ( xy.xx / xy.yy * 15. ) ) > .5 ){\n        \treturn 1.;\n        }\n      \n        float f = H( xy ) / H(xy.yx);\n    \n        if( f > .3 ){\n            float a = 15. * f;\n            \n            u.y += cos( u.x * a - iTime * 5. ) / a;\n        }else{\n            u.y += cos( u.x * 20. - iTime * 5. ) / 20.;\n        }\n    \n        u -= vec2( max(R.x, R.y) / min( R.x, R.y ), .8 ) * round( u / vec2( max(R.x, R.y) / min( R.x, R.y ), .8 ) );\n\t\n        p = max(\n            abs(u.x) - .8,\n            abs(u.y) - .04\n        );\n    }else{\n        p = 1.;\n    }\n\n    \n    return p;\n}\n\nfloat A( vec2 u ){\n\treturn mix(\n    \tsin( atan( u.y, u.x ) * 3. - log( length( u ) ) * 3. + iTime * 8. ),\n      \t1.,\n      \tabs( cos( iTime * .5 ) ) * .8\n    );\n}\n\nvoid mainImage( out vec4 U, in vec2 V )\n{\n\n    vec2 u = V+V-R.xy;\n    u /= min( R.x, R.y );\n    vec2 v = u;\n  \n    u *= 12.;\n\n    vec3 c;\n    \n    vec2 t = round( u / .8 );\n    u -= .8 * t;\n    \n    float h = h( t ),\n          h2 = h( abs( t - 20. ) );\n    \n    int ii = int(h * 8. * fract( cos(sin(iTime*.5*cos(iTime)*.25) + 123.4567 * h) * h2 ) );\n\n  \tfloat S_ = min(\n    \tF( t / 20. ),\n      \tP( t / 20. )\n    );\n  \t\n  \tS_ = min(\n    \tS_,\n      \tG( t / 20. )\n    );\n  \t\n\tS_ = min(\n    \tS_,\n\t    A( t / 20. )\n    );\n    \n    #ifdef screenTest\n    \n    S_ = length( t / 20. ) - atan( 1. );\n    \n    #endif\n\n  \tif( iMouse.z > 0. ){\n      S_ = min(\n          S_,\n          M( t / 20., ( iMouse.xy * 2. - R.xy ) / min( R.x, R.y ) )\n      );\n    }\n\n\tif( S_ < 0. )\n        c = drawFont(  min( R.x, R.y ), u, R.xy, c, ii  );\n  \telse\n        c = drawFont(  min( R.x, R.y ), u, R.xy, c, 99  ) * .3;\n  \n    U = vec4(c,1.0);\n}\n","name":"Image","description":"","type":"image"}]}