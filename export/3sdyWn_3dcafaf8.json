{"ver":"0.1","info":{"id":"3sdyWn","date":"1600741228","viewed":189,"name":"Magnify Around Cursor","username":"Dogemaster09","description":"This is a recreation of a post I saw a while back. I don't remember who's post it was, and I didn't look at any of the original code to make this.","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["texture","zoom","uv"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":0,"sampler":{"filter":"linear","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec2 zoomUv(vec2 uv, vec2 zoomPoint, float zoom) {\n    vec2 uv1 = uv;\n    uv1 += zoomPoint;\n    uv1 += zoom/2.-1.;\n    uv1 /= zoom;\n    return uv1;\n}\n\nbool drawCircle(vec2 uv, vec2 center, float radius) {\n    if(length(uv-center) < radius) {\n        return true;\n    } else {\n    \treturn false;\n    }\n}\n\nvec3 borderColor = vec3(1.0);\nfloat magnifyingSize = .3;\nfloat borderThickness = .03;\nfloat magnifyingAmount = 2.;\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    borderThickness += magnifyingSize;\n    magnifyingSize *= normalize(iMouse.w);\n    borderThickness *= normalize(iMouse.w);\n    vec2 uv = fragCoord/iResolution.xy;\n    vec2 uv1 = vec2(uv.x*(iResolution.x/iResolution.y), uv.y);\n    vec2 zoomedUv = zoomUv(uv, iMouse.xy/iResolution.xy, magnifyingAmount);\n    vec2 mouse = iMouse.xy/iResolution.xy;\n    mouse.x *= iResolution.x/iResolution.y;\n    float circle1 = float(drawCircle(uv1, mouse, magnifyingSize));\n    float circle2 = float(drawCircle(uv1, mouse, borderThickness));\n    vec2 mixedUv = vec2(mix(vec3(uv, 1.0), vec3(zoomedUv, 1.0), circle1));\n    vec4 tex = texture(iChannel0, mixedUv);\n    //Uncomment the following line to get an inverted border\n    //borderColor = 1.0-tex.xyz;\n    vec3 final = mix(tex.xyz, vec3(borderColor), circle2-circle1);\n    fragColor = vec4(final, 1.0);\n}","name":"Image","description":"","type":"image"}]}