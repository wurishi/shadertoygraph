{"ver":"0.1","info":{"id":"WllfD8","date":"1596774502","viewed":135,"name":"Mondrian Animation","username":"JackKalish","description":"Exercise from Book of Shader by  Patricio Gonzalez Vivo\nChapter 7: https://thebookofshaders.com/07/\n\n\"show off your skills by making a composition of rectangles and colors that resembles a Piet Mondrian painting.\"","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["color","painting","animation","rectangle","box","mondrian"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#ifdef GL_ES\nprecision mediump float;\n#endif\n\nvec3 white = vec3(1.,1.,.95);\nvec3 red = vec3(1., 0.3, 0.1);\nvec3 blue = vec3(0.3, 0.3, .8);\nvec3 yellow = vec3(1., 0.9, .0);\n\nuniform vec2 u_resolution;\nuniform vec2 u_mouse;\nuniform float u_time;\n\n\nfloat rect(vec2 st, vec4 r){\n    //vec2 bl = floor(st+vec2(1.)-r.xy);\n    vec2 bl = step(r.xy,st);\n    float pct = bl.x * bl.y;\n\n    // top-right\n    // vec2 tr = step(r.zw,1.0-st);\n    vec2 tr = floor(st-r.zw);\n     pct *= tr.x * tr.y;\n    \n    return pct;\n}\n\nfloat rectOutline(vec2 st, vec4 r, float w){\n    return rect(st,r)-rect(st,vec4(r.x+w, r.y+w, r.z-w, r.w-w));\n}\n\nvec3 coloredBox(vec2 st, vec3 color, vec4 r){\n        \n    float avgColor = (color.r+color.g+color.b)/3.;\n\tfloat w = (sin(iTime*avgColor*1.)+1.1)*.1;\n    color *= 1.-w*5.;\n    return vec3(rect(st, vec4(r.x+w, r.y+w, r.z-w, r.w-w)))*color;\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord){\n    vec2 st = fragCoord.xy/iResolution.xy;\n    \n    st.x *= iResolution.x/iResolution.y;\n    vec3 color = vec3(0.0); \n    \n    color += coloredBox(st, red, vec4(.0,.0,.4,.5));\n    color += coloredBox(st, white, vec4(.4,.0,.6,.5));\n    color += coloredBox(st, blue, vec4(.6,.0,1.4,.2));\n    color += coloredBox(st, yellow, vec4(.6, .2, 1.1, .8));\n    color += coloredBox(st, red,    vec4(1.1, .2, 1.4, .8));\n    color += coloredBox(st, white, vec4(.0,.5,.6,.8));\n    color += coloredBox(st, blue, vec4(.0,.8,.9,1.));\n    color += coloredBox(st, white, vec4(.9,.8,1.4,1.));\n\n    fragColor = vec4(color,1.0);\n}","name":"Image","description":"","type":"image"}]}