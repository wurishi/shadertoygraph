{"ver":"0.1","renderpass":[{"outputs":[{"channel":0,"id":"4dfGRr"}],"inputs":[],"code":"///////////////////////////////////\n///广州智子数字科技有限公司       ///\n///QQ：6363866                  ///\n///从原理上一步步的解析如何绘制一个抖动的圆环          ///\n///1.绘制外圆\n///2.绘制内圆\n///3.外圆 - 内圆 = 圆环\n///4.UV扰动生产动画效果（通过扰动函数的改变，生成不同的效果）\n//////////////////////////////////\n\nfloat drawCircle(in vec2 uv,vec2 center,float r){\n    float dist=distance(uv,center);\n    return step(dist,r);\n}\n\n//uv扰动。对x,y进行扰动，产生圆的变形效果\nvec2 uvDisturb(vec2 uv,float disfactor){\n    float xDisturbFactor = (sin(iTime*5.+disfactor))*0.05+1.;\n    float yDisturbFactor = (cos(iTime*5.+disfactor))*0.05+1.;\n    return vec2(xDisturbFactor,yDisturbFactor);                      \n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n\n    //修正拉伸\n    float aspect = iResolution.x/iResolution.y;\n    uv = uv * vec2(aspect,1.); //把坐标原点移动到画布中心,并根据画布宽高比修正为正圆\n    \n    vec3 color = vec3(0.);\n    vec2 center = vec2(0.5)* vec2(aspect,1.);\n    \n\n\n    //绘制外圆\n    vec2 disturb = uvDisturb(uv,30.);\n    uv*=disturb; //UV扰动\n\tcenter*=disturb;\n    float c1 = drawCircle(uv,center,0.2);\n    \n    float gg = 0.4/length(uv-center)*0.4;\n\n    //绘制内圆\n    disturb = uvDisturb(uv,50.);\n    uv*=disturb; //UV扰动\n\t center*=disturb;\n    float c2 = drawCircle(uv,center,0.165);\n    \n    //合成圆环\n    color = vec3(c1-c2);\n\n\n    // Output to screen\n    fragColor = vec4(color,1.0);\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"4cGBWw","date":"1734070635","viewed":64,"name":"Jiggling ring","username":"zhizi","description":"Step-by-step explanation of how to generate a wobbling ring from a principle perspective.","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["noise","wave","circle","ring"],"hasliked":0,"parentid":"","parentname":""}}