{"ver":"0.1","info":{"id":"XXd3z7","date":"1716274114","viewed":77,"name":"Flip Page立体翻页","username":"houyy","description":"Flip Page","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["flippage"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsX3Rn","filepath":"/media/a/92d7758c402f0927011ca8d0a7e40251439fba3a1dac26f5b8b62026323501aa.jpg","previewfilepath":"/media/ap/92d7758c402f0927011ca8d0a7e40251439fba3a1dac26f5b8b62026323501aa.jpg","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\nvec2 scale(vec2 uv, vec2 center, vec2 amp)\n{\n\treturn (uv - center)*amp + center;\n\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tfloat iGlobalTime = mod(iTime, 5.0) / 5.0;\n\tfloat PI = 3.141592653589793;\n\n\tvec4 fragOutColor;\n\t\n    vec2 uv=fragCoord/iResolution.xy;\n\t\n\tconst int Samples = 16;//multiple of 2\n\t\n\tif (iGlobalTime < 0.5)\n    { \t\n        iGlobalTime /= 2.0;\n\n\t\tfloat HoriSize =  pow( (3.3333333333*iGlobalTime), 7.0) * 2.0;\n\t\tfloat VertiSize = 0.3*(uv.y)*HoriSize + 1.0;\n\t\t\n\t\tvec4 color = vec4(0.0,0.0,0.0,0.0);\n\t\tvec2 amp = vec2(1.0/(1.0+(uv.y)*HoriSize), 1.0/VertiSize);\n\t\tvec2 center = vec2(0.5, 1.0);\n\t\tuv = scale(uv, center, amp);\n\t\t\n\t\tfloat bottom = 1.0;\n\t\tfloat top = (1.0 + (uv.y)*VertiSize);\n\t\tfloat tan = ((top - bottom)/2.0 + 0.000001)/HoriSize ;\n\t\tfloat H = 0.5 * bottom / tan;\n\t\tcenter =vec2(0.5, -H);\n\t\tvec2 dir = normalize(uv-center);\n\t\tfloat processMB = clamp(HoriSize*0.1, -0.05, 0.05);\n\n\t\tfor (int i = 0; i < Samples; i += 2) //operating at 2 samples for better performance\n\t\t{\n\t\t\tvec4 temCol = texture(iChannel0, mod(uv + float(i) / float(Samples)*dir*processMB + vec2(0.0), 1.0));\n\t\t\tcolor += temCol;\n\t\t\ttemCol = texture(iChannel0, mod(uv + float(i+1) / float(Samples)*dir*processMB + vec2(0.0), 1.0));\n            color += temCol;\n\t\t}\n\t\tfragColor =  color / float(Samples);\n    }\n\telse {\n        float iPro = (1.0 - iGlobalTime)/2.0;\n\n\t\tfloat HoriSize =  pow( (3.3333333333*iPro), 7.0) * 2.0;\n\t\tfloat VertiSize = 0.3*(1.0 - uv.y)*HoriSize + 1.0;\n\t\t\n\t\tvec4 color = vec4(0.0,0.0,0.0,0.0);\n\t\tvec2 amp = vec2(1.0/(1.0 + (1.0 - uv.y)*HoriSize), 1.0/VertiSize);\n\t\tvec2 center = vec2(0.5, 1.0);\n\t\tuv = scale(uv, center, amp);\n\t\t\n\t\tfloat bottom = 1.0;\n\t\tfloat top = (1.0 + (uv.y) * VertiSize);\n\t\tfloat tan = ((top - bottom)/2.0 + 0.000001) / HoriSize;\n\t\tfloat H = 0.5 * bottom / tan;\n\t\tcenter = vec2(0.5, -H);\n\t\tvec2 dir = normalize(uv - center);\n\t\tfloat processMB = clamp(HoriSize * 0.1, -0.05, 0.05);\n\n\t\tfor (int i = 0; i < Samples; i += 2)\n\t\t{\n\t\t\tvec4 temCol = texture(iChannel1, mod(uv - float(i) / float(Samples)*dir*processMB + vec2(0.0), 1.0) );\n\t\t\tcolor += temCol;\n\t\t\ttemCol = texture(iChannel1, mod(uv - float(i+1) / float(Samples)*dir*processMB + vec2(0.0), 1.0) );\n            color += temCol;\n\t\t}\n\t\tfragColor =  color / float(Samples);\n\n\t}   \n}","name":"Image","description":"","type":"image"}]}