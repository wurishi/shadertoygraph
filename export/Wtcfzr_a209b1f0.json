{"ver":"0.1","info":{"id":"Wtcfzr","date":"1612060327","viewed":52,"name":"ITPO2021","username":"Ya420","description":".","likes":0,"published":1,"flags":32,"usePreview":0,"tags":["physics"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{  \n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    fragColor = texture(iChannel0, uv);\n}\n","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"void mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n\tconst float eps = 0.02;\n\tconst float N0 = .1;\n\tif (iFrame < 10)\n\t{\n\t\tif (fragCoord.x <= 5.0)\n\t\t\tfragColor = vec4(N0*eps, N0*(1.0 - eps), 0.0, 1.0);\n\t\telse\n\t\t\tfragColor = vec4(.0, .0, .0, .0);\n\t}\n\telse\n\t{\n\t\tconst float pi = 3.1415926;\n\t\tconst float k = 0.005;\n\t\tconst float l = 1.0;\n\t\tconst float r = 0.1;\n\t\tconst float cr = 0.05;\n\t\tconst float cnr = 0.5;\n\t\tconst float R0 = 0.5;\n\t\tconst float delta = 0.05;\n\t\tfloat Rr = R0 * (1.0 - delta) - k * cr*fragCoord.x;\n\t\tfloat Rnr = R0 - k * cnr*fragCoord.x;\n\t\tfloat rom = 0.6;\n\t\tvec2 uv = fragCoord.xy / iResolution.xy;\n\t\tfloat pr = texture(iChannel0, uv).x; //texture(iChannel0, vec2(fragCoord.x/ iResolution.y,fragCoord.y / iResolution.y)).x;\n\t\tfloat pnr = texture(iChannel0, uv).y;\n\t\tfloat prxl1 = texture(iChannel0, vec2((fragCoord.x - l) / iResolution.x, fragCoord.y / iResolution.y)).x;\n\t\tfloat prxl2 = texture(iChannel0, vec2((fragCoord.x + l) / iResolution.x, fragCoord.y / iResolution.y)).x;\n\t\tfloat pnrxl1 = texture(iChannel0, vec2((fragCoord.x - l) / iResolution.x, fragCoord.y / iResolution.y)).y;\n\t\tfloat pnrxl2 = texture(iChannel0, vec2((fragCoord.x + l) / iResolution.x, fragCoord.y / iResolution.y)).y;\n\t\tfloat prdt = (.1 / pi / rom * ((Rr*(rom - pr - pnr)) + r * pnr)*pi / 2.0*(2.0*pr - (2.0*pr - prxl1 - prxl2) / l * (Rr*(rom - pr - pnr) + r * pnr)*l));\n\t\tfloat pnrdt = (.1 / pi / rom * ((Rr*(rom - pr - pnr)) - r * pnr)*pi / 2.0*(2.0*pnr - (2.0*pnr - pnrxl1 - pnrxl2) / l * (Rnr*(rom - pr - pnr) - r * pnr)*l));\n\t\tfragColor = vec4(pr + prdt, pnr + pnrdt, 0.0, 1.0);\n\t}\n}","name":"Buffer A","description":"","type":"buffer"}]}