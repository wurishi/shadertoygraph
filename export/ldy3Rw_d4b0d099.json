{"ver":"0.1","info":{"id":"ldy3Rw","date":"1453672971","viewed":1023,"name":"Falling cute bombs","username":"Emil","description":"bad little boy, that's what you're acting like.","likes":39,"published":1,"flags":40,"usePreview":0,"tags":["looping","multipass"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float rand(vec2 co){\n    return fract(sin(dot(co.xy ,vec2(12.9898*iTime,78.233))) * 43758.5453);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord.xy/iResolution.xy;\n\tfragColor = vec4(texture(iChannel0,fragCoord / iResolution.xy));\n    fragColor = clamp(fragColor,0.0,1.0);\n    fragColor += vec4(0.1,0.3,0.4,1.0)*vec4(0.3/(uv.y+0.2))*(1.2*sin(uv.x*3.141592));\n    fragColor += vec4(0.1,0.3,0.4,1.0);\n    float randval = 0.09*rand(uv);\n    fragColor += vec4(randval,randval,randval,0.0);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"float rand(vec2 co){\n    return fract(sin(dot(co.xy ,vec2(12.9898*iTime,78.233))) * 43758.5453);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    float time = iTime+20.0*sin(iTime*1.0)+0.3*sin(iTime*14.0)+0.3*sin(iTime*32.0);\n    fragColor = vec4(0.0);\n    vec2 uv = fragCoord.xy/iResolution.xy;\n    uv -= vec2(1.0+0.8*(0.04*sin(time*0.05)),fract(iTime*-0.3));\n    uv.x += fract(ceil(iTime*-0.3)*0.2)-0.1;\n    uv.x += 0.2;\n    float xadd = 0.16*sin(time*0.1*(fragCoord.x/iResolution.x*0.01));\n    float yadd = 0.16*cos(time*0.1*(fragCoord.x/iResolution.x*0.01));\n    yadd += 0.2*cos(xadd*10.0+time)-1.5;\n    \n    if(fract((iTime+0.2)*-0.3)>0.78)\n    {\n    \tfragColor+=texture(iChannel0, (vec2(fragCoord.x+xadd,fragCoord.y)/vec2(iResolution.x,iResolution.y)));\n        fragColor*= 0.85;\n    } else \n    {\n        fragColor+=texture(iChannel0, (vec2(fragCoord.x+xadd,fragCoord.y+yadd)/vec2(iResolution.x,iResolution.y)));\n    }\n    \n    if(fract((iTime+0.08)*-0.3)>0.02)\n    {\n    \tfragColor += (1.0/iResolution.x)+vec4(0.04)*0.04/length(uv*vec2(2.8,2.9));\n    } else\n    {   \n        fragColor += vec4(0.05/length(uv));\n        fragColor.z += (0.1/length(uv));\n        \n    }\n    \n    if (fragCoord.y>=iResolution.y-1.0 || fragCoord.y<=1.0)\n    {\n        fragColor = vec4(0.0);\n    }\n    /*\n    if (iMouse.z>=0.0)\n    {\n    \tfragColor += vec4(smoothstep(20.5,2.0, length(iMouse.xy-fragCoord)))*\n            vec4(sin(time*0.02)*0.5+0.5,sin(time*0.02+radians(90.0))*0.5+0.5,sin(time*0.02+radians(180.0))*0.5+0.5,1.0);\n    }*/\n    fragColor *= 0.96;\n    fragColor.yz *= 0.995;\n    fragColor.z *= 0.95;\n    \n}","name":"Buf A","description":"","type":"buffer"},{"inputs":[],"outputs":[{"id":"XsfGRr","channel":0}],"code":"float rand(vec2 co, float time){\n    return fract(sin(dot(co.xy ,vec2(12.9898*time,78.233))) * 43758.5453);\n}\n\nvec2 mainSound( in int samp, float time )\n{\n    vec2 sound = vec2(0.0,0.0);\n    float inc = (fract((time+0.2)*-0.3)-0.78);\n    \n    if(fract((time+0.2)*-0.3)>0.78)\n    {\n        // explosion\n    \tsound += 0.1*inc*vec2(sin(6.2831*620.0*inc*rand(vec2(ceil((time+0.2)*-0.3)),time)*time));\n    }\n    \n    // ambient drone\n    sound += (sin(time)*0.5+0.0)*vec2( 0.02*sin(6.2831*(60.0+30.0*sin(time*1.5))));\n    sound += (sin(time)*0.5+0.0)*vec2( 0.02*sin(6.2831*(55.0+33.0*sin((time+40.0)*3.0))));\n    sound += (sin(time)*0.5+0.0)*vec2( 0.02*sin(6.2831*(55.0+233.0*sin(1.0/inc*0.06))));\n\tsound += (0.06*sin(6.2831*4.0*time*5.0));\n    \n    //noise\n    //sound += 0.005*rand(vec2(16.0),time);\n    \n    return sound;\n}","name":"Sound","description":"","type":"sound"}]}