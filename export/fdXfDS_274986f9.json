{"ver":"0.1","info":{"id":"fdXfDS","date":"1645272836","viewed":187,"name":"Blue to Neon","username":"DosU","description":"Detect blue object and convert it to neon, idea is to paint blue lines on your face, so it becomes neon paint.","likes":0,"published":1,"flags":2,"usePreview":0,"tags":["neoncamera"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sf3zn","filepath":"/presets/webcam.png","previewfilepath":"/presets/webcam.png","type":"webcam","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float threshold = 0.3;\nfloat br = 3.0; \nint neonDis = 500;\nfloat pi = atan(1.0)*4.0;\n\nbool isNeon(vec3 clr){\n    float mx = clr.g;\n    if(clr.r > clr.g) mx = clr.r;\n    return clr.b - mx > threshold;\n}\n\n\nvec3 getNeon(vec3 clr){ \n    return clr * br;\n}\n\nvec3 getGlowClr(vec2 fragCoord){\n    vec3 clr = vec3(0.0);\n    float dis = 10000000.0;\n    int cx = int(fragCoord.x);\n    int cy = int(fragCoord.y);\n    for(int x = (cx-neonDis); x < cx+neonDis; x++){\n        for(int y = cy - neonDis; y < cy+neonDis; y++){\n            vec3 n_clr = texture(iChannel0, vec2(x, y)/iResolution.xy).rgb;\n            float mx = clr.g;\n            if(clr.r > clr.g) mx = clr.r;\n            if(clr.b - mx > threshold){\n                float d = sqrt(float((cx-x)*(cx-x) + (cy-y)*(cy-y)));\n                if(d<dis){\n                    dis = d;\n                    //clr = getNeon(n_clr);\n                }\n            }\n        }\n    }\n    return clr;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord.xy / iResolution.xy;\n\n\n    vec3 clr = texture(iChannel0, uv).rgb;\n    if(isNeon(clr)) clr = getNeon(clr);\n    else {\n        clr = getGlowClr(fragCoord);\n    }\n    fragColor = vec4(clr, 1.0);\n}","name":"Image","description":"","type":"image"}]}