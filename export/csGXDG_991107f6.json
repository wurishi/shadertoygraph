{"ver":"0.1","info":{"id":"csGXDG","date":"1681498750","viewed":65,"name":"Magic Carpet Ride 3000","username":"Mojomajor","description":"Random accident","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["carpet"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float noise(vec2 st){\n    return fract(sin(dot(vec2(12.23,74.343),st))*43254.);  \n}\n\n#define pi acos(-1.)\nfloat noise2D(vec2 st){\n  \n  //id,fract\n  vec2 id =floor(st);\n  vec2 f = fract(st);\n  \n  //nachbarn\n  float a = noise(id);\n  float b = noise(id + vec2(1.,0.));\n  float c = noise(id + vec2(0.,1.));\n  float d = noise(id + vec2(1.));\n  \n  \n  //f\n  f = smoothstep(0.,1.,f);\n  \n  //mix\n  float ab = mix(a,b,f.x);\n  float cd = mix(c,d,f.x);\n  return mix(ab,cd,f.y);\n}\n\nmat2 rot45 = mat2(0.707,-0.707,0.707,0.707);\n\nmat2 rot(float a){\n  float s = sin(a); float c = cos(a);\n  return mat2(c,-s,s,c);\n}\nfloat fbm(vec2 st, float N, float rt){\n    st*=3.;\n \n  float s = .5;\n  float ret = 0.;\n  for(float i = 0.; i < N; i++){\n     \n      ret += noise2D(st)*s; st *= 2.9; s/=2.; st *= rot((pi*(i+1.)/N)+rt*8.);\n      st.x += iTime/10.;\n  }\n  return ret;\n  \n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    vec2 uv = (fragCoord - 0.5 * iResolution.xy) / iResolution.y;\n    float zto =sin(iTime)*0.5+0.5;\n    float stripeWidth = 0.05*fbm(uv,5.,2.)+0.05;\n    uv.x=abs(uv.x);\n    // polar coordinates\n    uv = vec2(atan(uv.x,uv.y), length(uv*30.*sin(iTime)));\n    float distanceBetweenStripes =stripeWidth*2.+zto/4.;\n    float frequency = 1.0 / distanceBetweenStripes;\n    float stripeFactor = smoothstep(0.04, stripeWidth, abs(mod(uv.x, distanceBetweenStripes) - stripeWidth));\n    \n\n    \n    vec3 lightGreen = 0.49 + 0.5*cos(iTime+uv.xyx+vec3(5,3,1));//vec3(0.5, 0.8, 0.3);\n    vec3 darkGreen = 0.5 + 0.5*cos(iTime+uv.xyx+vec3(0,2,4));//vec3(0.2, 0.6, 0.1);\n    \n    vec3 grassColor = mix(lightGreen, darkGreen, stripeFactor);\n    \n    float randomFactor = fract(sin(dot(uv, vec2(12.9898, 78.233))) * 43758.5453);\n    grassColor *= 0.95 + 0.05 * randomFactor;\n    \n    fragColor = vec4(grassColor, 1.0);\n}","name":"Image","description":"","type":"image"}]}