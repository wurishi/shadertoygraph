{"ver":"0.1","info":{"id":"X3XSW8","date":"1709398390","viewed":131,"name":"perpetual Mango","username":"lijiyong","description":"perpetual mango for contribute to shader used by LJY ST.\ndraw mouse to 2d flicker or customize z axies.\n\nalso cross running on metal( shadermania ) platform.","likes":6,"published":1,"flags":0,"usePreview":0,"tags":["raymarching","simulation","mango"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"\n/*\n\n    Perpetual mango for contribute to shader used by LJY ST.\n    draw mouse to 2d flicker or customize z axies.\n\n    also cross running on metal( shadermania ) platform.\n\n    Copyright ( c ) 2024 LiJiYong studios presets.\n    www.lijiyong.com\n*/\n\n\n\nfloat t, d, i;\n#define F(u) length( abs( mod( u + vec2( cos( u.y / 3. ) * 3., cos( u.x / 3. ) * 3. ) - iTime, 3. ) - 1.5 ) )\nvec3 o, p, r;\n\nvoid mainImage( out vec4 O, in vec2 U )\n{\n    \n    vec2 I = iResolution.xy, R = U+U-I, m = iMouse.xy*2. - I, v;\n    r += 1.,\n    r.xy = R/I.yy;\n    \n    for( o.z -= 3.;\n        i<o.z/-.1;\n        i++,t += ( (d = length(p = o + r * t) - 1.5) + .2 * F( (v = o.z/-.1 * ( p.xy + d * m / I )) ) )  * .2\n    );\n    \n    O = d < 1e-3 ? vec4(.45,.35,.1,0) * dot( p, vec3( .2, .5, o.z*.6 ) ) + F(abs(v)) / 20. : vec4(0);\n}\n\n/*\n// MetalShader\n// little tiny code from @FabriceNeyret2\n\n#define w(a, b) a + cos(b / 3) * 3\n\nfloat H(float2 u, float t) {\n  u = float2(w(u.x, u.y), w(u.y, u.x)) - t;\n\n  return length(abs(u - 3 * round(u / 3)));\n}\n\nvoid mainImage(thread Data &data) {\n  float d = 0, a = 0, t = data.time, f, i = 0,\n      A = min( data.viewSize.x, data.viewSize.y );\n      \n  float2 u = (data.fragCoord.xy - data.viewSize.xy * .5) / A, q;\n  \n  float3 o = float3(0, 0, -3), c = o, p = o, r = float3(u, 1);\n\n  while (i++ < 30)\n    d = length(p = o + r * a) - 1.5, // sdf\n        q = (p.xy + d * float2(cos(t), sin(t))) * 30,\n    a += (d + .15 * (f = H(q, t))) * .3;\n\n  data.outColor =\n      (d < 1e-3) ? float4(float3(.45, .35, .1) * dot(p, float3(.2, .5, -1.8)) +\n                              f * .05,\n                          1)\n                 : float4(float3(0), 1);\n}\n*/","name":"Image","description":"","type":"image"}]}