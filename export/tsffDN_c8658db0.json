{"ver":"0.1","info":{"id":"tsffDN","date":"1588281764","viewed":49,"name":"petite maison dans la prairie","username":"samstinson","description":"La petite maison dans la prairie","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["projet"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float houseOnOff = 1.0; // On/off for house layer\nfloat chimneyOnOff = 1.0; // On/off for chimney layer\nfloat windowsOnOff = 1.0; // On/off for windows layer\nfloat porteOnOff = 1.0; // On/off for dor\nfloat someilOnOff = 1.0; // On/off for for sun\n\nvec2 hPos = vec2(0.25,0.0);\nfloat hWidth = 0.5;\nfloat hHeight = 0.3;\nvec3 hCol = vec3(0.6,0.5,0.4);\n\n\n\nvec2 cPos = vec2(0.35,0.532);\nfloat cWidth = 0.075;\nfloat cHeight = 0.05;\nvec3 cCol = vec3(0.45,0.25,0.25);\n\nvec2 w1Pos = vec2(0.45, 0.15);\nvec2 w2Pos = vec2(0.2, 0.15);\n\n\nfloat wSize = 0.10;\nvec3 wCol = vec3(0.75,0.75,0.75);\n\nvec2 pPos = vec2(0.35,0.0);\nfloat pWidth = 0.075;\nfloat pHeight = 0.1;\nvec3 pCol = vec3(0,0,0);\n\n\nvec2 poiPos = vec2(0.4,0.04);\nfloat poiWidth = 0.0075;\nfloat poiHeight = 0.01;\nvec3 poiCol = vec3(1.0,1.0,1.0);\n\n\nvec4 circle(vec2 uvv, vec2 pos, float rad, vec3 color) {\n\tfloat d = length(pos - uvv) - rad;\n\tfloat t = clamp(d, 0.0, 1.0);\n\treturn vec4(color, 1.0 - t);\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n  \n    vec2 uv = fragCoord/iResolution.xy;\n    float aspectRatio = iResolution.y/iResolution.x;\n    uv.y *= aspectRatio;\n\t\n    vec4 ciel = vec4((1.0-uv.y)*0.5, (1.0-uv.y), 1.0, 1.0);//couleur du ciel \n\tvec4 maison = vec4(0.0,0.0,0.0,0.0); //\n\tvec4 chemine = vec4(0.0,0.0,0.0,0.0);\n\tvec4 fenetre = vec4(0.0,0.0,0.0,0.0);\n    vec4 poigneporte = vec4(0.0,0.0,0.0,0.0); \n    vec4 porte = vec4(0,0,0,0);\n    \n  \n    hPos *=aspectRatio;\n    cPos *=aspectRatio;\n    maison = vec4(hCol, 1.0);\n    chemine = vec4(cCol, 1.0);\n    fenetre = vec4(wCol, 1.0);\n    \n    porte = vec4(pCol, 1.0);\n    poigneporte = vec4(poiCol,1.0);\n    \n    float hInterpX = step(hPos.x,uv.x) - step(hPos.x + hWidth, uv.x);\n    float hInterpY = step(hPos.y,uv.y) - step(hPos.y + hHeight, uv.y);\n    \n    float cInterpX = step(cPos.x,uv.x) - step(cPos.x + cWidth, uv.x);\n    float cInterpY = step(cPos.y,uv.y) - step(cPos.y + cHeight, uv.y);\n    \n    float w1InterpX = step(w1Pos.x,uv.x) - step(w1Pos.x + wSize, uv.x);\n    float w1InterpY = step(w1Pos.y,uv.y) - step(w1Pos.y + wSize, uv.y);\n    \n    float w2InterpX = step(w2Pos.x,uv.x) - step(w2Pos.x + wSize, uv.x);\n    float w2InterpY = step(w2Pos.y,uv.y) - step(w2Pos.y + wSize, uv.y);\n    \n    float pInterpX = step(pPos.x,uv.x) - step(pPos.x + pWidth, uv.x);\n    float pInterpY = step(pPos.y,uv.y) - step(pPos.y + pHeight, uv.y);\n    \n    float poiInterpX = step(poiPos.x,uv.x) - step(poiPos.x + poiWidth, uv.x);\n    float poiInterpY = step(poiPos.y,uv.y) - step(poiPos.y + poiHeight, uv.y);\n    \n    maison.a *= (hInterpX*hInterpY);\n    maison.a *= houseOnOff;\n    \n    chemine.a *= (cInterpX*cInterpY);\n    chemine.a *= chimneyOnOff;\n    \n    fenetre.a *= ((w1InterpX*w1InterpY) + (w2InterpX*w2InterpY));\n    fenetre.a *= windowsOnOff;\n    \n  \n    porte.a *= (pInterpX*pInterpY);\n    porte.a *= porteOnOff;\n    \n    poigneporte.a *= (poiInterpX*poiInterpY);\n    poigneporte.a *= porteOnOff;\n    \n    vec4 combo = mix(ciel, maison, maison.a);\n    \n    combo = mix(combo, chemine, chemine.a);\n    combo = mix(combo, fenetre, fenetre.a); \n    combo = mix(combo, porte, porte.a);\n    combo = mix(combo, poigneporte, poigneporte.a);\n   \n  \n   \n    vec2 uvv = fragCoord.xy;\n\tvec2 center = iResolution.xy * 0.95;//* 0.0;\n\tfloat radius = 0.25 * iResolution.y;\n\n    vec3 jaune = vec3(1.0, 1.0, 0.0);\n\tvec4 soleil = circle(uvv, center, radius, jaune);\n\t\n\t// Blend the two\n    combo= mix(combo, soleil, soleil.a);\n    fragColor=combo;\n\t//fragColor = mix(combo, soleil, soleil.a);\n\n    \n}\n","name":"Image","description":"","type":"image"}]}