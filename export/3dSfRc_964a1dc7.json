{"ver":"0.1","info":{"id":"3dSfRc","date":"1590485061","viewed":56,"name":"PSF Practice","username":"izhi","description":"learn the polynomial functions of shaping , reference article : http://www.flong.com/texts/code/shapers_poly/","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["shaping"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float plot(vec2 st, float pct){\n  return smoothstep( pct-0.02, pct, st.y) - smoothstep( pct, pct+0.02, st.y);\n}\n\nfloat blinnWyvillCosineApproximation(float x) {\n    float x2 = x * x;\n    float x4 = x2 * x2;\n    float x6 = x4 * x2;\n    \n    float fa = ( 4.0 / 9.0);\n    float fb = (17.0 / 9.0);\n    float fc = (22.0 / 9.0);\n    \n    float y = fa * x6 - fb * x4 + fc * x2;\n    \n    return y;\n}\n\nfloat doubleCubicSeat(float x, float a, float b) {\n  \n  float epsilon = 0.00001;\n  float min_param_a = 0.0 + epsilon;\n  float max_param_a = 1.0 - epsilon;\n  float min_param_b = 0.0;\n  float max_param_b = 1.0;\n  a = min(max_param_a, max(min_param_a, a));  \n  b = min(max_param_b, max(min_param_b, b)); \n  \n  float y = 0.0;\n  if (x <= a){\n    y = b - b * pow(1.0 - x/a, 3.0);\n  } else {\n    y = b + (1.0 - b) * pow((x-a) / (1.0 - a), 3.0);\n  }\n  return y;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n    \n    // float y = smoothstep(0.1, 0.9, uv.x);\n    \n    // float y = blinnWyvillCosineApproximation(uv.x);\n    \n    float y = doubleCubicSeat(uv.x, 0.407, 0.720);\n    \n    vec3 color = vec3(y);\n    \n    // float pct = plot(uv, y);\n    \n    // color = (1.0 - pct) * color + pct * vec3(1.0, 0.0, 0.0);\n\n    // Output to screen\n    fragColor = vec4(color,1.0);\n}","name":"Image","description":"","type":"image"}]}