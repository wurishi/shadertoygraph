{"ver":"0.1","info":{"id":"Ddl3WN","date":"1666373877","viewed":127,"name":"Fire orbs","username":"minghir","description":"Few circles moving around big one.","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["2d","light","circle"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const float PI = 3.14159265359;\n\nmat2 rotationMatrix(float angle){\n\tangle *= PI / 180.0;\n    float s=sin(angle), c=cos(angle);\n    return mat2( c, -s, s, c );\n}\n\nfloat light(vec2 uv,float p){\n    uv *= rotationMatrix(180.*cos(iTime/5.));  \n    uv +=sin(iTime/1.5)*cos(iTime/1.5)/5.;\n    float d = length(uv)-p/2.;\n    return  (length(d)*length(uv)-.0399);\n}\n\nfloat orb(vec2 uv,float rt){\n   uv *= rotationMatrix(180.*cos(iTime/3.)*rt);\n   float px = length((sin(uv.x)*cos(uv.y))-sin(iTime/2.*rt)*cos(iTime/2./rt)/.8);\n   float py = uv.y+(sin(iTime)/2.);\n   vec2 p_pos = vec2(px,py);\n   float s = 0.169/rt;\n   float p2 = smoothstep(0.,s,length(p_pos)*3.);\n   float p1 = smoothstep(0.,3.*s,p2);\nreturn p1;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    uv -= 0.5;\n    uv.x *= iResolution.x/iResolution.y;\n    float p = orb(uv,2.10)*\n            orb(uv,1.)*\n            orb(uv,1.53)*\n            orb(uv,1.03)*\n            orb(uv,1.73)*\n            orb(uv,0.9)*\n            orb(uv,0.95)*\n            orb(uv,2.065);\n    float s = light(uv,p);\n    vec3 col = mix(vec3(1.,0.75,0.),vec3(0.),(length(uv)-0.455));\n    col *=mix(vec3(0.),vec3(p-s),col);\n    \n    if(length(uv.x)*cos(iTime)*2.>= 0.)\n        col *=p;\n    else \n        col /=p;\n    \n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}