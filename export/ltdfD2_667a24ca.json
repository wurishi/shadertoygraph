{"ver":"0.1","info":{"id":"ltdfD2","date":"1541166092","viewed":749,"name":"Carpet Fractal","username":"Jamie_Pendergast","description":"Interesting!","likes":5,"published":3,"flags":0,"usePreview":0,"tags":["fractal","carpet"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//Jamie Pendergast\n#define TWOPI 6.28318530718\n#define ITERATIONS 100\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    const float fIterations = float(ITERATIONS);\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv  = -1. + 2. * fragCoord/iResolution.xy;\n    uv.x *= iResolution.x / iResolution.y;\n    // Works! V V V V V\n    //vec2 polar = vec2(atan(uv.y,uv.x) / TWOPI,length(uv));\n    //polar *= 2.;\n    //vec2 current = vec2(cos(polar.x),sin(polar.y));\n    vec2 current = uv;\n    int i;\n    for(i = 1; i < ITERATIONS; ++i)\n    {\n        vec2 new = fract(current) * 2. - 1.;\n    \tif(new.y > 0.5 || new.y < -0.5 || new.x > 0.5 || new.x < -0.5)\n        {\n            current = new;\n        } \n        else break;\n    }\n    \n    float fi = float(i);\n    float ratio = fi / fIterations;\n    fragColor = vec4(ratio * 4.4);\n    \n}\n  \t","name":"Image","description":"","type":"image"}]}