{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[{"channel":0,"type":"webcam","id":"4sf3zn","filepath":"/presets/webcam.png","sampler":{"filter":"linear","wrap":"clamp","vflip":"false","srgb":"false","internal":"byte"}}],"code":"const vec3 greyscale = vec3(.3, .6, .1);\n\n//Scharr filter\n//http://en.wikipedia.org/wiki/Sobel_operator#Alternative_operators\nvec2 calcGradient(vec2 p) {\n\tvec2 dxy = vec2(1.) / iResolution.xy;\n\tvec2 dx = vec2(dxy.x, 0.);\n\tvec2 dy = vec2(0., dxy.y);\n\t//3x3 greyscale intensity window\n\tfloat i00 = dot(texture(iChannel0, p - dxy).rgb, greyscale);\n\tfloat i10 = dot(texture(iChannel0, p - dy).rgb, greyscale);\n\tfloat i20 = dot(texture(iChannel0, p - dy + dx).rgb, greyscale);\n\tfloat i01 = dot(texture(iChannel0, p - dx).rgb, greyscale);\n\tfloat i11 = dot(texture(iChannel0, p).rgb, greyscale);\n\tfloat i21 = dot(texture(iChannel0, p + dx).rgb, greyscale);\n\tfloat i02 = dot(texture(iChannel0, p - dx + dy).rgb, greyscale);\n\tfloat i12 = dot(texture(iChannel0, p + dy).rgb, greyscale);\n\tfloat i22 = dot(texture(iChannel0, p + dxy).rgb, greyscale);\n\n\tvec2 g;\n\tg.x = 3. * i02 + 10. * i12 + 3. * i22\n\t\t\t - 3. * i00 - 10. * i10 - 3. * i20;\n\tg.y = 3. * i20 + 10. * i21 + 3. * i22\n\t\t\t - 3. * i00 - 10. * i01 - 3. * i02;\n\treturn g;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 dxy = vec2(1.) / iResolution.xy;\n\tvec2 pt = fragCoord.xy / iResolution.xy;\n\tvec2 grad = calcGradient(pt);\n\t\n\tfragColor = vec4(abs(normalize(vec3(grad, 1.))), 1.);\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":true,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"lsf3Rj","date":"1374182266","viewed":286,"name":"Scharr Filter","username":"thenumbernine","description":"Scharr Filter","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["scharrfilter"],"hasliked":0,"parentid":"","parentname":""}}