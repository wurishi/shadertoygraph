{"ver":"0.1","info":{"id":"XfSyzR","date":"1721823834","viewed":49,"name":"Image processing on sand dunes","username":"AndyCamelopardalis","description":"Slide your mouse to get the image effect","likes":4,"published":1,"flags":32,"usePreview":0,"tags":["3d"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 o, in vec2 u )\n{\n    float sh = 4.;\n    float sc = 1.;\n    if (iMouse.z > 0.){\n        sh = 8.*iMouse.x/iResolution.x;\n        sc = 7.*iMouse.y/iResolution.y;\n    }    \n    vec2 c = floor(u/sc)*sc;\n    vec2 uv = c/iResolution.xy;\n    vec4 tex = texture(iChannel0, uv);\n    vec2 shift = floor(cos(iTime*vec2(5,9))*1e4)*1.;\n    float di = 0.5;\n    vec4 col = floor(tex*sh+di)/sh;\n    col *= clamp(min(u.x, u.y)-1., 0., 1.);\n    o = col;\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4sf3Rr","filepath":"/media/a/ad56fba948dfba9ae698198c109e71f118a54d209c0ea50d77ea546abad89c57.png","previewfilepath":"/media/ap/ad56fba948dfba9ae698198c109e71f118a54d209c0ea50d77ea546abad89c57.png","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"#define D (texture(iChannel0,p.xz/8.).r+p.y)\nvoid mainImage(out vec4 O, vec2 I )\n{\n    vec3 d = vec3(I+I,0) - iResolution.xyy,\n    p = vec3(0,.2,-iTime);\n    d.zy *= mat2(.8,-.6,.6,.8);\n    for(O *= 0.; O.a++<2e2; O += max(.005-D*D*4e2,0.))\n        p += d/length(d)*D*.5;\n    p += .01;\n    O = 1.+(vec4(12,8,5,1)*D/.4-1.)*O;\n}","name":"Buffer A","description":"","type":"buffer"}]}