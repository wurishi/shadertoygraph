{"ver":"0.1","info":{"id":"3tSfRw","date":"1598476083","viewed":101,"name":"Living Rorschach Test","username":"DawCrash","description":"Find the hidden shapes xD","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["grayscale"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XdX3Rn","filepath":"/media/a/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg","previewfilepath":"/media/ap/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"vec4 average(vec4 c) {\n\tfloat avg = (c.r + c.g + c.b) / 3.0;\n    return vec4(vec3(avg), 1.0);\n}\n\nvec4 posterize(vec4 c) {\n    float amount = sin(iTime)/2.0+0.5;\n    vec4 d = vec4(vec3(step(0.25, c.r)/3.0), 1.0);\n    d += vec4(vec3(step(0.50, c.r)/3.0), 1.0);\n    d += vec4(vec3(step(0.75, c.r)/3.0), 1.0);\n\t//return vec4(vec3(step(0.5, c.r)/2.0), 1.0) + vec4(vec3(step(0.75, c.r)/2.0), 1.0);\n    return d;\n}\n\nvec4 posterizeLevels(vec4 c, float levels) {\n\tfloat increment = 1.0 / (levels + 1.0);\n    vec4 d = vec4(0.0, 0.0, 0.0, 1.0);\n    \n    for (float i=increment; i<=increment*levels; i+=increment) {\n        d += vec4(vec3(step(i, c.r) / levels), 1.0);\n    }\n    \n    return d;\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    \n    vec4 tex = vec4(0.0,0.0,0.0,1.0);\n    \n    if (uv.x < 0.5) {\n        tex = texture(iChannel0, vec2(1.0-uv.x+sin(iTime/3.0), uv.y/(0.5+1.0-uv.x)));\n    } else {\n        tex = texture(iChannel0, vec2(uv.x+sin(iTime/3.0), uv.y/(0.5+uv.x)));\n    }\n    \n    vec4 average = average(tex);\n    vec4 posterize = posterizeLevels(average, 3.0);\n    fragColor = posterize;\n}\n","name":"Image","description":"","type":"image"}]}