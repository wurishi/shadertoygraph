{"ver":"0.1","info":{"id":"4tycz3","date":"1537035152","viewed":294,"name":"two-color technicolor comparison","username":"chao_mu","description":"Attempts to mimic two-color technicolor from old films, my naive approaches on the left, dewb's more advanced approach on the right.","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["oldfilm","technicolor","rg","twocolor"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"Xdf3Rn","filepath":"/media/a/e81e818ac76a8983d746784b423178ee9f6cdcdf7f8e8d719341a6fe2d2ab303.webm","previewfilepath":"/media/ap/e81e818ac76a8983d746784b423178ee9f6cdcdf7f8e8d719341a6fe2d2ab303.webm","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Based on https://www.shadertoy.com/view/XtGyz3\n// and my discussions with the author\n\nvec3 rgb2yuv(vec3 rgb) \n{\n    vec3 yuv;\n\tyuv.x = rgb.r *  0.299 + rgb.g *  0.587 + rgb.b *  0.114;\n\tyuv.y = rgb.r * -0.169 + rgb.g * -0.331 + rgb.b *  0.5;\n\tyuv.z = rgb.r *  0.5   + rgb.g * -0.419 + rgb.b * -0.081;\n\treturn yuv; \n}\n\nvec3 yuv2rgb(vec3 yuv)\n{\n    vec3 rgb;\n    rgb.r = yuv.x * 1.0 + yuv.y *  0.0   + yuv.z *  1.4;\n\trgb.g = yuv.x * 1.0 + yuv.y * -0.343 + yuv.z * -0.711;\n\trgb.b = yuv.x * 1.0 + yuv.y *  1.765 + yuv.z *  0.0;\n    return rgb;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    vec4 col = texture(iChannel0, uv);\n\n    if (uv.x < 0.5 && uv.y > 0.5) {\n        // Top left technique\n\t\tvec3 orig_yuv = rgb2yuv(col.rgb);                                                                                                                                                                                                                                       \n        col.b = 0.;                                                                                                                                                                                                                                                   \n        vec3 new_yuv = rgb2yuv(col.rgb);                                                                                                                                                                                                                                        \n        new_yuv[0] = orig_yuv[0];\n        col.rgb = yuv2rgb(new_yuv);\n    } else if (uv.x < 0.5 && uv.y <= 0.5) {\n        // Bottom left technique\n        col.b = 0.;\n    } else {\n        // Right technique\n\t\tvec3 yuv = rgb2yuv(col.rgb);\n    \tyuv.z += yuv.y * 0.5;\n    \tyuv.y = 0.0;\n    \tcol.rgb = yuv2rgb(yuv);\n\t}\n        \n    fragColor = col;\n}","name":"Image","description":"","type":"image"}]}