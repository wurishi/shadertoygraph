{"ver":"0.1","info":{"id":"cdtcWr","date":"1694952008","viewed":33,"name":"Smiley 2023","username":"yumi","description":"Smiley","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["practise"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define S(a,b,t) smoothstep(a,b,t)\n#define sat(x) clamp(x,0.,1.)\n\nfloat remap01(float a, float b, float t){\n    return sat((t-a)/(b-a));\n}\n\nfloat remap(float a, float b, float c, float d, float t){\n    return sat((t-a)/(b-a))*(d-c)+c;\n}\n\nvec2 within(vec2 uv, vec4 rect){\n    return (uv-rect.xy)/(rect.zw-rect.xy);\n}\n\nvec4 Eye(vec2 uv){\n    vec4 col = vec4(1.);\n    float d = length(uv);\n    vec4 iriscol = vec4(.3,.5,1.,1.);\n    col = mix(col, iriscol,S(.3,.7,d)*0.7);\n    \n    col.rgb = mix (col.rgb, vec3(.0), S(.3,.29,d));\n    iriscol.rgb *= 1.+S(.3,.05,d);\n    col.rgb = mix (col.rgb, iriscol.rgb, S(.28,.25,d));\n    //col.rgb = mix (col.rgb, vec3(.1,.6,.8), S(.35,.01,d));\n    col.rgb = mix (col.rgb, vec3(.0), S(.24,.06,d));\n    col.rgb *= 1.-S(.4,.49,d)*.5*sat(uv.y+uv.x);\n    //col.rgb = mix(col.rgb,vec3(.0)*uv.y,S(.47,.49,d));\n    \n    //float highlight = length(uv-vec2(-.1,.2));\n    //hightlight += length(uv-vec2(.1,-.1))\n    float highlight = S(.2,.03,length(uv-vec2(-.1,.2)));\n    \n    highlight += S(.1,.01,length(uv-vec2(.15,-.15)));\n    \n    col.rgb = mix(col.rgb, vec3(1.), highlight);\n   \n    //col.rgb *= highlight;\n    \n    uv -= .5;\n    col.a = S(.5,.49,d);\n    return col;\n}\n\nvec4 Mouth(vec2 uv){\n    vec4 col = vec4(.7,.3,.3,1.);\n    uv -= .5;\n    uv.y -= uv.x*uv.x*2.; \n    float d = length(uv);\n    col.a = S(.4,.38,d);\n    float te= length(uv-vec2(.0,.5));\n    col.rgb = mix(col.rgb, vec3(1.),S(.4,.38,te));\n    col.rgb = mix(col.rgb, -vec3(1.)*uv.y/2.,d);\n    //col.a = S(.42,.4,d);\n    col.rgb = mix(col.rgb,vec3(.7,.3,.3),S(.34,.39,d));\n    return col;\n}\n\nvec4 Head(vec2 uv){\n    vec4 col = vec4(.9,.65,.1,1.);\n    float d = length(uv);\n    col.a = S(.5,.49,d);\n    float edgeShade = remap01(0.35,0.5,d);\n    edgeShade *= edgeShade;\n    col.rgb *= 1.-edgeShade*.3;\n    col.rgb = mix(col.rgb,vec3(0.7,.3,.1),smoothstep(0.47,.49,d));\n    float highlight=S(.41,.405,d);\n    highlight *= remap(.41, -.1, .75, 0.0, uv.y);\n    col.rgb = mix(col.rgb,vec3(1.),highlight);\n\n    d = length(uv-vec2(.25,-.2));\n    float cheek = S(.2,.0,d)*0.7;\n    col.rgb = mix(col.rgb, vec3(.8,.3,.1),cheek);\n\nreturn col;\n}\n\n\nvec4 Smiley(vec2 uv){\n    vec4 col = vec4(0.);\n    vec4 head = Head(uv);\n    vec4 eye = Eye(within(uv,vec4(.2,.1,.5,.5)));\n    vec4 mouth = Mouth(within(uv,vec4(-.35,-.4,.35,-.15)));\n    col = mix(col,head,head.a);\n    col = mix(col,eye,eye.a);\n    col = mix(col,mouth,mouth.a);\n   \n    return col;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n    uv -= .5;\n    uv.x *= iResolution.x/iResolution.y;\n    uv.x = abs(uv.x);\n   \n    \n   \n    fragColor = Smiley(uv);\n}","name":"Image","description":"","type":"image"}]}