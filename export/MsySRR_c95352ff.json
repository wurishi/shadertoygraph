{"ver":"0.1","info":{"id":"MsySRR","date":"1462417480","viewed":220,"name":"2D Grid demo","username":"cubby208","description":"This has a draggable grid.\n\nI cant get the mouse to work when it is not down","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["trial"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"bool isEven(float val)\n{\n    return bool(mod(val, 2.0));\n}\nfloat dist(vec2 p1, vec2 p2)\n{\n \treturn sqrt(abs((p2.x - p1.x)*(p2.x - p1.x) + (p2.y - p1.y)*(p2.y - p1.y)));   \n}\n\nvec4 hsv_to_rgb(float h, float s, float v, float a)\n{\n\tfloat c = v * s;\n\th = mod((h * 6.0), 6.0);\n\tfloat x = c * (1.0 - abs(mod(h, 2.0) - 1.0));\n\tvec4 color;\n\n\tif (0.0 <= h && h < 1.0) {\n\t\tcolor = vec4(c, x, 0.0, a);\n\t} else if (1.0 <= h && h < 2.0) {\n\t\tcolor = vec4(x, c, 0.0, a);\n\t} else if (2.0 <= h && h < 3.0) {\n\t\tcolor = vec4(0.0, c, x, a);\n\t} else if (3.0 <= h && h < 4.0) {\n\t\tcolor = vec4(0.0, x, c, a);\n\t} else if (4.0 <= h && h < 5.0) {\n\t\tcolor = vec4(x, 0.0, c, a);\n\t} else if (5.0 <= h && h < 6.0) {\n\t\tcolor = vec4(c, 0.0, x, a);\n\t} else {\n\t\tcolor = vec4(0.0, 0.0, 0.0, a);\n\t}\n\n\tcolor.rgb += v - c;\n\n\treturn color;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 mouse = vec2(0.0);\n    if (mouse.x == 0.0)\n    {\n     \tmouse = vec2(iMouse.x, iMouse.y);   \n    }\n    else\n    {\n        mouse = vec2(iMouse.z, iMouse.w);  \n    }\n    \n\tfloat width = 30.0;\n    float row = floor((-fragCoord.x + mouse.x) / width);\n    float col = floor((-fragCoord.y + mouse.y) / width);\n    \n   \tfloat distt = dist(fragCoord, vec2(mouse));\n    \n    \n    vec4 col1 = vec4(1.0);\n    vec4 col2 = vec4(1.0);\n    \n    if (distt < 80.0 * (abs(sin(iTime * 5.0)) + 0.1))\n    {\n     \tcol1 = vec4(1.0, 0.0, 0.0, 1.0);\n        col2 = vec4(0.0, 1.0, 0.0, 1.0);\n    }\n    else\n    {\n        col2 = vec4(1.0);\n        col1 = vec4(0.0);\n    }\n    \n    \n    \n    if ((isEven(row) && !isEven(col)) || (!isEven(row) && isEven(col)))\n    {\n        fragColor = col1;\n    }\n    else\n    {\n     \tfragColor = col2;   \n    }\n    \n    \n    fragColor += hsv_to_rgb((iTime  + ((fragCoord.x - mouse.x) / 50.0)) / 10.0, 0.6, 0.6, 0.1);\n    \n    float dist2 = dist(fragCoord, vec2(0.0));\n    fragColor -= vec4(dist2 / 1000.0);\n    fragColor -= vec4(dist2 / 1000.0);\n}\n\n","name":"Image","description":"","type":"image"}]}