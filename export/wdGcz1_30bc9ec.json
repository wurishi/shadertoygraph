{"ver":"0.1","info":{"id":"wdGcz1","date":"1602215933","viewed":85,"name":"#inktober2020 d6: subdiv mouse","username":"zaiyugi","description":"Day 6 of my Inktober challenge. Playing around with subdividing down to match the mouse position","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["interactive","subdiv","inktober"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define N 8\n#define line(e0, d, f) smoothstep( d, 0., abs(f-(e0)) )\n\nvec3 colormap(float t)\n{\n    return .5 + .5 * cos(6.28 * (t + vec3(.8, .9, .3)));\n}\n\nfloat box( in vec2 p, in vec2 b )\n{\n    vec2 d = abs(p)-b;\n    return length(max(d,0.0)) + min(max(d.x,d.y),0.0);\n}\n\nvoid mainImage( out vec4 C, in vec2 U )\n{\n    // pixel -> uv\n    vec2 p = 2.*(U/iResolution.xy-0.5);\n    vec2 m_p = 2.*(iMouse.xy/iResolution.xy-0.5);\n    float d = 1.5 / iResolution.y;\n    \n    vec3 col = vec3(0.);\n    \n    vec2 llc = vec2(-1.), urc = vec2(1.);\n    float border = 0.;\n    float c_d = 1. / float(N);\n    float c_t = iTime * .1;\n    for(int i = 0; i < N; ++i)\n\t{\n        vec2 mid = (llc+urc)*.5;\n        float f = box(p - mid, (urc-llc)*.5);\n        border += line(0., d, f);\n        c_t += mix(0., c_d, step(0., -f));\n        \n        vec2 flag = step(mid, m_p);\n        llc = mix(llc, mid, flag);\n        urc = mix(mid, urc, flag);\n    }  \n\n    col = colormap(c_t) + vec3(border);\n    \n    C = vec4(col, 1.0);\n}\n","name":"Image","description":"","type":"image"}]}