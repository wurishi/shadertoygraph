{"ver":"0.1","info":{"id":"wsdcDn","date":"1600773218","viewed":102,"name":"maze hologram on square ?","username":"danhel95","description":"working now :)  thanx Spalmer","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["test","tutorial","texture","uv","mapping","maze"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// Learning tutorial 9 \n\n// testing mazes !\n\n\n\n#define rand21(p)       fract( sin( dot( p, vec2(27.609, 57.583) ) ) * 43758.5453 )\n#define rnd( x)    fract(1000.*sin(345.2345*x))\n#define id(u)   floor(u.x) + 25. *floor(u.y)\n#define box(p,c,b,f)  ( length( max( abs(p-(c)) - b + f , 0. ) ) - (f) )\n#define rCol(p)       ( (0.25 + 0.5 * cos((1. -p.x*p.y) * 6.2831 + vec3(0.1, 2.0, 3.0) )*clamp(1.0 - 0.2 * length(p), 0.0, 1.0) ) )\n\n#define scale 15.\n\nmat2 R2(float a) {\n    float s=sin(a), c=cos(a);\n    return mat2(c, -s, s, c);\n}\n\n\nfloat maze(vec2 u) {\n    float n = id(u);  u = fract(u);\n    return smoothstep( .0, .45 , (rnd(n) > .5) ? u.x:u.y  );\n    //return smoothstep( .1, .0 , (rnd(n) > .5) ? u.x:u.y  );\n\n}\n\n\nvoid mainImage( out vec4 F, in vec2 U )\n{\n\n    \n    vec2 R = iResolution.xy;\n    U = (U-.5*R)/R.x;\n    U +=  .2*U * R2(.3*iTime) ; \n    U *= 2.;\n    vec2 b  = vec2(.5) ;\n    float f = .05;\n\tvec2 o = vec2(.0) ;\n    \n    // test mapping the maze to the box uv \n    // working thanx Spalmer !\n    \n    vec2 buv =  (U - o) /( b + .5*f) ;\n    buv = .5*buv - .5;\n    //buv *= R2(-.1*iTime) ;\n\n    float d = box(U,o,b,f);\n    float m   =  abs(maze( buv*scale ) - .2 ) + .2;\n    d = smoothstep( .01 , .0 ,  d ) ;\n    \n    m -=  d* ( .5*sin(iTime*.5) + 1.25 )  ; // texture is under :) comment this to see it   \n    \n    m *=  d  ; \n    vec3 col = vec3((m)) ;\n\tcol *= texture(iChannel0,buv).rgb;\n    \n    float lum = .35 ;\n    \n    col = mix(col, rCol(vec2(m ,d*.5)) , lum);\n    col = mix(col, rCol(vec2(1.*m,.25)) + d-.5*m , lum );\n\t\n    \n    F = vec4(col,1.0);\n    F.rgb = pow( col, vec3(1./2.2) );\n}","name":"Image","description":"","type":"image"}]}