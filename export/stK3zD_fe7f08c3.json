{"ver":"0.1","info":{"id":"stK3zD","date":"1637310508","viewed":862,"name":"float and uint conversion","username":"zznewclear13","description":"[HLSL only] min(0, iFrame) really makes difference!\n\nLeft click to show result by replacing const with COMPILE_TRICK + const.","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["encoding","uintbitstofloat","floatbitstouint"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define WHITE vec4(1.0, 1.0, 1.0, 1.0)\n#define BLACK vec4(0.0, 0.0, 0.0, 1.0)\n#define RED vec4(1.0, 0.0, 0.0, 1.0)\n\n//Thanks to FabriceNeyret2\n#define COMPILE_TRICK uint(min(0, iFrame))\n\n/*//////////////////////////////////////////////////////////////////\nLeft, use an unsigned integer directly.\nMiddle, convert iTime to unsigned integer.\nRight, assign value to an unsigned integer variable.\n\nUpper, uint to float, asign value to a float, and then to uint.\nLower, uint to float and to uint in one line.\n\nWhite, final uint is the same as input uint.\nBlack, final uint is different from input uint.\n\nLeft click to show result by replacing const with COMPILE_TRICK + const\n*//////////////////////////////////////////////////////////////////\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{   \n    if(iMouse.z > 0.0)\n    {\n        //Use COMPILE_TRICK\n        if (fragCoord.x < iResolution.x * 0.333)\n        {\n            float floatA = uintBitsToFloat(COMPILE_TRICK + 125u);\n            uint uintA = floatBitsToUint(floatA);\n            uint uintB = floatBitsToUint(uintBitsToFloat(COMPILE_TRICK + 125u));\n\n            if(fragCoord.y < iResolution.y * 0.5)\n            {\n                if(uintA == COMPILE_TRICK + 125u)\n                {\n                    fragColor = WHITE;\n                }\n                else\n                {\n                    fragColor = BLACK;\n                }        \n            }\n            else if (fragCoord.y <= iResolution.y * 0.5 + 1.0)\n            {\n                fragColor = RED;\n            }\n            else\n            {\n                if(uintB == COMPILE_TRICK + 125u)\n                {\n                    fragColor = WHITE;\n                }\n                else\n                {\n                    fragColor = BLACK;\n                }  \n            }\n        }\n        else if (fragCoord.x <= iResolution.x * 0.333 + 1.0)\n        {\n            fragColor = RED;\n        }\n        else if (fragCoord.x < iResolution.x * 0.666)\n        {\n            uint uintTime = uint(iTime);\n            float floatA = uintBitsToFloat(uintTime);\n            uint uintA = floatBitsToUint(floatA);\n            uint uintB = floatBitsToUint(uintBitsToFloat(uintTime));\n\n            if(fragCoord.y < iResolution.y * 0.5)\n            {\n                if(uintA == uintTime)\n                {\n                    fragColor = WHITE;\n                }\n                else\n                {\n                    fragColor = BLACK;\n                }        \n            }\n            else if (fragCoord.y <= iResolution.y * 0.5 + 1.0)\n            {\n                fragColor = RED;\n            }\n            else\n            {\n                if(uintB == uintTime)\n                {\n                    fragColor = WHITE;\n                }\n                else\n                {\n                    fragColor = BLACK;\n                }  \n            }\n        }\n        else if (fragCoord.x <= iResolution.x * 0.666 + 1.0)\n        {\n            fragColor = RED;\n        }\n        else\n        {\n            uint testUint = COMPILE_TRICK + 125u;\n            float floatA = uintBitsToFloat(testUint);\n            uint uintA = floatBitsToUint(floatA);\n            uint uintB = floatBitsToUint(uintBitsToFloat(testUint));\n\n            if(fragCoord.y < iResolution.y * 0.5)\n            {\n                if(uintA == testUint)\n                {\n                    fragColor = WHITE;\n                }\n                else\n                {\n                    fragColor = BLACK;\n                }        \n            }\n            else if (fragCoord.y <= iResolution.y * 0.5 + 1.0)\n            {\n                fragColor = RED;\n            }\n            else\n            {\n                if(uintB == testUint)\n                {\n                    fragColor = WHITE;\n                }\n                else\n                {\n                    fragColor = BLACK;\n                }  \n            }\n\n        }\n    }\n    else\n    {\n        if (fragCoord.x < iResolution.x * 0.333)\n        {\n            float floatA = uintBitsToFloat(125u);\n            uint uintA = floatBitsToUint(floatA);\n            uint uintB = floatBitsToUint(uintBitsToFloat(125u));\n\n            if(fragCoord.y < iResolution.y * 0.5)\n            {\n                if(uintA == 125u)\n                {\n                    fragColor = WHITE;\n                }\n                else\n                {\n                    fragColor = BLACK;\n                }        \n            }\n            else if (fragCoord.y <= iResolution.y * 0.5 + 1.0)\n            {\n                fragColor = RED;\n            }\n            else\n            {\n                if(uintB == 125u)\n                {\n                    fragColor = WHITE;\n                }\n                else\n                {\n                    fragColor = BLACK;\n                }  \n            }\n        }\n        else if (fragCoord.x <= iResolution.x * 0.333 + 1.0)\n        {\n            fragColor = RED;\n        }\n        else if (fragCoord.x < iResolution.x * 0.666)\n        {\n            uint uintTime = uint(iTime);\n            float floatA = uintBitsToFloat(uintTime);\n            uint uintA = floatBitsToUint(floatA);\n            uint uintB = floatBitsToUint(uintBitsToFloat(uintTime));\n\n            if(fragCoord.y < iResolution.y * 0.5)\n            {\n                if(uintA == uintTime)\n                {\n                    fragColor = WHITE;\n                }\n                else\n                {\n                    fragColor = BLACK;\n                }        \n            }\n            else if (fragCoord.y <= iResolution.y * 0.5 + 1.0)\n            {\n                fragColor = RED;\n            }\n            else\n            {\n                if(uintB == uintTime)\n                {\n                    fragColor = WHITE;\n                }\n                else\n                {\n                    fragColor = BLACK;\n                }  \n            }\n        }\n        else if (fragCoord.x <= iResolution.x * 0.666 + 1.0)\n        {\n            fragColor = RED;\n        }\n        else\n        {\n            uint testUint = 125u;\n            float floatA = uintBitsToFloat(testUint);\n            uint uintA = floatBitsToUint(floatA);\n            uint uintB = floatBitsToUint(uintBitsToFloat(testUint));\n\n            if(fragCoord.y < iResolution.y * 0.5)\n            {\n                if(uintA == testUint)\n                {\n                    fragColor = WHITE;\n                }\n                else\n                {\n                    fragColor = BLACK;\n                }        \n            }\n            else if (fragCoord.y <= iResolution.y * 0.5 + 1.0)\n            {\n                fragColor = RED;\n            }\n            else\n            {\n                if(uintB == testUint)\n                {\n                    fragColor = WHITE;\n                }\n                else\n                {\n                    fragColor = BLACK;\n                }  \n            }\n\n        }\n    }\n    \n    \n}","name":"Image","description":"","type":"image"}]}