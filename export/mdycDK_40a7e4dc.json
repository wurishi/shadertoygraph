{"ver":"0.1","info":{"id":"mdycDK","date":"1696608064","viewed":94,"name":"Milky Mosh","username":"s_fx","description":"Weird cream.\nR = reset, F = fade","likes":2,"published":3,"flags":48,"usePreview":0,"tags":["2d","fade","milk"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"/* (c) 2023 s.fx */\n\nvoid mainImage( out vec4 o, in vec2 c )\n{\n    o = texture(iChannel0, c / iResolution.xy);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"XdX3Rn","filepath":"/media/a/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg","previewfilepath":"/media/ap/52d2a8f514c4fd2d9866587f4d7b2a5bfa1a11a0e772077d7682deb8b3b517e5.jpg","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGRr","filepath":"/presets/tex00.jpg","previewfilepath":"/presets/tex00.jpg","type":"keyboard","channel":2,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"/* (c) 2023 s.fx */\n\nconst float S = .005; // step size\n\nvoid mainImage( out vec4 o, in vec2 c )\n{\n    vec2 uv = c / iResolution.xy;\n    vec3 col;\n    bool r = texelFetch(iChannel2, ivec2(82, 0), 0).x == 1.;\n    bool f = texelFetch(iChannel2, ivec2(70, 0), 0).x == 1.;\n    \n    if (r || iFrame <= 10)\n        col = texture(iChannel1, uv).rgb;\n    else\n    {\n        col = texture(iChannel0, uv).rgb;\n        \n        // normalize dark color to continue movement\n        if (f) col = normalize(col);\n        \n        // go top right and down left\n        //if (iFrame % 2 == 0)\n            col -= .5;\n        \n        col = texture(iChannel0, uv + normalize(col.xy) * S).rgb;\n    \n        if (f) col *= .97;\n    }\n    \n    o = vec4(col,1.0);\n}","name":"Buffer A","description":"","type":"buffer"}]}