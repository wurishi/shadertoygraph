{"ver":"0.1","info":{"id":"3sKyR1","date":"1602236028","viewed":91,"name":"Example 19 - light & shadows","username":"jt","description":"Simple lighting & shadow example (click & move mouse).","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["example","shadow","light"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGRn","filepath":"/media/a/10eb4fe0ac8a7dc348a2cc282ca5df1759ab8bf680117e4047728100969e7b43.jpg","previewfilepath":"/media/ap/10eb4fe0ac8a7dc348a2cc282ca5df1759ab8bf680117e4047728100969e7b43.jpg","type":"texture","channel":1,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"Xdf3zn","filepath":"/media/a/85a6d68622b36995ccb98a89bbb119edf167c914660e4450d313de049320005c.png","previewfilepath":"/media/ap/85a6d68622b36995ccb98a89bbb119edf167c914660e4450d313de049320005c.png","type":"texture","channel":0,"sampler":{"filter":"nearest","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 p )\n{\n    vec2 m = iMouse.xy;\n    vec2 diff = p - m;\n    vec2 dir = normalize(diff);\n    float l = length(diff);\n    float b = 1.0;\n    for(float i = 0.0; i < 1.0; i += 1.0/l)\n    //for(float i = 0.0; i < 1.0; i += 0.01)\n    {\n        vec2 q = mix(p, m, i);\n        // don't forget to disable mipmapping for obstacle texture\n\t    float Obstacle =\n\t        step(0.25, texture(iChannel0, q/iResolution.xy).x);\n        b *= Obstacle;\n    }\n    \n    //fragColor = vec4(b * (1.0 - l / 200.0));\n    fragColor = 2.0 * b * (1.0 - l / 200.0)\n        * texture(iChannel1, 10.0 * p/iResolution.xy);\n}\n","name":"Image","description":"","type":"image"}]}