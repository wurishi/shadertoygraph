{"ver":"0.1","info":{"id":"wtSyzV","date":"1594819357","viewed":108,"name":"Diamond, Circle, Square","username":"jt","description":"A unit-circle of norm 1/q\nInterpolating q from 1 to 0 results in a smooth transition from diamond (q=1) via circle (q=0.5) to square (q=0).\nInstead of taking the limit for q=0 to avoid division by zero for visualization purpose some small q is sufficient\n","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["circle","square","diamond","norm"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// 2020 by jt\n// A unit-circle of norm 1/q\n// Interpolating q from 1 to 0 results in a smooth transition from diamond (q=1) via circle (q=0.5) to square (q=0).\n// Instead of taking the limit for q=0 to avoid division by zero for visualization purpose some small q is sufficient.\n\nvoid mainImage( out vec4 o, in vec2 I )\n{\n    vec2 R = iResolution.xy;\n    I = (2. * I - R) / R.y;\n\n    //float q = .5 + .5 * cos(iTime); // exact but division-by-zero occurs \n    float q = .5 + .49 * cos(iTime); // inexact but avoids division-by-zero\n    //o = vec4(dot(pow(abs(I), vec2(1./q)), vec2(1)) < pow(1., 1./q));\n    o = vec4(dot(pow(abs(I), vec2(1./q)), vec2(1)) < 1.);\n}\n","name":"Image","description":"","type":"image"}]}