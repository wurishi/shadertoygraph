{"ver":"0.1","info":{"id":"tdBSRc","date":"1554472496","viewed":279,"name":"Dot/Line/Dither postprocess","username":"flyingrub","description":"fork of https://www.shadertoy.com/view/4sBBDK","likes":6,"published":1,"flags":0,"usePreview":0,"tags":["dotscreen"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4sX3Rn","filepath":"/media/a/c3a071ecf273428bc72fc72b2dd972671de8da420a2d4f917b75d20e1c24b34c.ogv","previewfilepath":"/media/ap/c3a071ecf273428bc72fc72b2dd972671de8da420a2d4f917b75d20e1c24b34c.ogv","type":"video","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"Xdf3zn","filepath":"/media/a/85a6d68622b36995ccb98a89bbb119edf167c914660e4450d313de049320005c.png","previewfilepath":"/media/ap/85a6d68622b36995ccb98a89bbb119edf167c914660e4450d313de049320005c.png","type":"texture","channel":1,"sampler":{"filter":"nearest","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const float angle = 20.;\nconst float scale = 1.5;\nconst float amount = 4.;\nconst float saturation = 1.2;\nconst bool greyscale = true;\n\n//#define LINE\n//#define DOT\n#define DITHER\n\nfloat greyScale(in vec3 col) {\n    return dot(col, vec3(0.2126, 0.7152, 0.0722));\n}\n\nmat2 rotate2d(float angle){\n    return mat2(cos(angle), -sin(angle), sin(angle),cos(angle));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;\n    vec3 col = texture(iChannel0, uv).rgb; \n    if (greyscale) col = vec3(greyScale(col));\n    \n    uv *= iResolution.xy;\n    vec2 p = rotate2d(angle) * uv * scale; \n    \n    float pattern;\n    #ifdef LINE\n   \tpattern = sin( p.x ) * amount;\n    col = col * 10. * saturation - 5. + pattern;\n    #endif\n\n    #ifdef DOT\n    pattern = sin( p.x ) * sin( p.y ) * amount;\n    col = col * 10. * saturation - 5. + pattern;\n    #endif\n    \n    #ifdef DITHER\n    pattern = texture(iChannel1, fragCoord / 4. * scale).r*amount/5.;\n    col = step(pattern, col*saturation/1.2); \n    #endif\n\n    fragColor = vec4( col, 1.0 );\n}","name":"Image","description":"","type":"image"}]}