{"ver":"0.1","info":{"id":"ltdGDj","date":"1471790418","viewed":165,"name":"Follow the light","username":"farious","description":"Experimenting with 2D rectangle drawing.","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["experimental"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define M_PI 3.1415926535897932384626433832795\n#define u_time s_time(1.)\n#define rect_s 0.065\n#define ss smoothstep\nfloat s_time(float f){return sin(iTime * f);}\n\nmat2 rotationMatrix(float angle)\n{ float s = sin(angle);float c = cos(angle); return mat2(c,-s,s,c); }\n\nvec3 rectangle(vec2 pos, vec2 center, float side, float t)\n{\n    vec2 p = abs(center - pos);\n    vec3 col1 = vec3(ss(-side,(p.x + p.y), side));\n    vec3 col2 = vec3(ss(-side, p.x, side) * ss(-side, p.y, side));\n    return clamp(mix(col1, col2, t), 0., 1.0);\n}\n\nvec3 rotatedRect(vec2 pos, vec2 center, float side, float t, float angle)\n{\n    mat2 rot = rotationMatrix(angle);\n    return rectangle(rot * pos, rot * center, side, t);\n}\n \n void mainImage( out vec4 fragColor, in vec2 fragCoord )\n {\n    vec2 st = fragCoord.xy/iResolution.xy, p = vec2(0.5);\n    float del = sin(u_time * .5) * 0.25;\n    vec3 c = rotatedRect(st, p + vec2(del), rect_s, u_time, M_PI * u_time);\n    \n    for(float i = 1.; i < 3.; i++)\n    {\n        vec2 rc = p + vec2(del + i * s_time(2.) * 0.1);\n    \tvec3 c1 = rotatedRect(st, rc, rect_s, u_time, M_PI * u_time);\n        c1 *= vec3(4. * i, 2. * i, 3.* i);\n        c+=c1;\n    }\n     \n    fragColor = vec4(c / 2.,1.0);\n}","name":"Image","description":"","type":"image"}]}