{"ver":"0.1","info":{"id":"XtByzR","date":"1507064218","viewed":110,"name":"Simple image transformation ","username":"CodingDuff","description":"Simple image transformation using complex  ","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["complex","similarity"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dfGRn","filepath":"/media/a/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","previewfilepath":"/media/ap/8de3a3924cb95bd0e95a443fff0326c869f9d4979cd1d5b6e94e2a01f5be53e9.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const float PI = 3.14159265359;\nconst float DegToRad = 6.28;\n\n/* Simple image transformation using complex */\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\tvec2 uv = fragCoord.xy / iResolution.xy;    \n    vec2 mv = iMouse.xy;\n    \n    if(mv.x == 0.0)\n    {\n        mv.x = sin(iTime) * iResolution.x;\n    }\n    \n    if(mv.y == 0.0)\n    {\n        mv.y = sin(iTime) * iResolution.y;\n    }\n    \n    // move pivot\n    uv -= vec2(0.5,0.5);   \n       \n    float angle = ( mv.x / iResolution.x) * 6.28;\n    float r = 1.0 - (2.0 * abs((mv.y)/ iResolution.y) - 0.5);\n        \n    // z = re^itheta - z = rcos(theta) + risin(theta)\n    vec2 z_p = vec2(r*cos(angle), r*sin(angle)); // x -> Re(z') = a' ; Im(z') = b'\n    \n    /**** \n\tz = a + ib ; z' = a' + ib' ; \n\tSimilarity -> z*z' = (aa' - bb') + i(ab' + a'b) \n\t******/ \n    \n    uv = vec2(uv.x*z_p.x-uv.y*z_p.y, uv.x*z_p.y+z_p.x*uv.y); \n    \n    // recenter pivot\n    uv += vec2(0.5,0.5);   \n\n\tfragColor = texture(iChannel0,uv);\n}","name":"Image","description":"","type":"image"}]}