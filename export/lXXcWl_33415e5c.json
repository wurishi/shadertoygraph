{"ver":"0.1","info":{"id":"lXXcWl","date":"1726763320","viewed":41,"name":"The portal to Dire Dire Docks","username":"dusthillresident","description":"The portal to Dire Dire Docks from Mario 64","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["lighting","light","portal","mario","ripple","64","mario64","dire","docks"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"float d(float x1,float y1,float x2,float y2){\n float dx = x1-x2; float dy = y1-y2;\n return sqrt(dx*dx+dy*dy);\n}\n\nfloat sgn(float x){\n if(x==0.0) return 0.0;\n if(x<0.0) return -1.0;\n return 1.0;\n}\n\nfloat lim(float x){\n if( x < -1.0) return -1.0;\n if( x >  1.0) return 1.0;\n return x;\n}\n\nvec3 cols0 = vec3( 0.0, 0.0, 0.25 );\nvec3 cols1 = vec3( 0.4, 0.4, 1.0 );\nvec3 cols2 = vec3( 0.0, 0.0, 1.0 );\nvec3 cols3 = vec3( 0.7, 0.7, 1.0 );\n\nvec3 blend( vec3 a, vec3 b, float r1 ){\n float r2 = 1.0-r1;\n return vec3( a.r * r1 + b.r * r2, a.g * r1 + b.g * r2, a.b * r1 + b.b * r2 );\n}\n\nfloat height(vec2 fragCoord,float xo, float yo){\n //return sin(-iTime*4.0+0.02*d(fragCoord.x+xo,fragCoord.y+yo,iResolution.x/2.0,iResolution.y/2.0));\n return\n sin( -(iTime * 2.58) + 0.045 * d( fragCoord.x+xo, fragCoord.y+yo, iResolution.x/2.0,iResolution.y/2.0 ) )\n ;\n}\n\nvec3 colfn(vec2 fragCoord){\n float x0y0 = height(fragCoord,0.0,0.0);\n float x1y0 = height(fragCoord,1.0,0.0);\n float x0y1 = height(fragCoord,0.0,1.0);\n float x1y1 = height(fragCoord,1.0,1.0);\n float m = 37.0;\n float cx = 0.5+0.5*lim( m  * (x0y0 + -x1y1 + -x1y0 +  x0y1) ) ;\n float cy = 0.5+0.5*lim( m  * (x0y0 + -x1y1 +  x1y0 + -x0y1) ) ;\n vec3 c =\n  blend( blend( cols0, cols2, cy ),\n         blend( cols1, cols3, cx ),\n         0.5*(cx+cy) );\n return c;\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n\n    // cemented\n    vec3 col = colfn(fragCoord);\n\n    fragColor = vec4(col,1.0);\n}","name":"Image","description":"","type":"image"}]}