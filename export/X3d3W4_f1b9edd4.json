{"ver":"0.1","info":{"id":"X3d3W4","date":"1717029981","viewed":36,"name":"2D Raymarch Example","username":"Gnufoo","description":"Learning about shaders.","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["learning"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// SDF for a rhombus (found here: https://iquilezles.org/articles/distfunctions2d/)\nfloat ndot(vec2 a, vec2 b ) { return a.x*b.x - a.y*b.y; }\nfloat sdRhombus( in vec2 p, in vec2 b ) \n{\n    p = abs(p);\n    float h = clamp( ndot(b-2.0*p,b)/dot(b,b), -1.0, 1.0 );\n    float d = length( p-0.5*b*vec2(1.0-h,1.0+h) );\n    return d * sign( p.x*b.y + p.y*b.x - b.x*b.y );\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Obtain the UV coordinates\n    vec2 uv = fragCoord / iResolution.xy;\n    \n    // Move our UV coordinates over time\n    uv -= iTime / 16.0;\n    \n    // Divide our UV into 16 sections\n    uv = fract(uv * 4.0);\n    \n    // Transform UV to clip space or (-1, -1) in the bottom left to (1, 1) in the top right\n    uv = uv * 2.0 - 1.0;\n    \n    // Multiply the x coordinate by the aspect ratio to avoid unwanted stretching\n    uv.x = uv.x * (iResolution.x / iResolution.y);\n    \n    // Declare the dimensions of the rhombus\n    vec2 dimensions = vec2(sin(iTime / 4.0) + 1.5, sin(iTime / 4.0) + 1.5);\n    \n    // Get the signed distance from the rhombus\n    float d = sdRhombus(uv, dimensions);\n    \n    // Get the absolute value of d to get the outline\n    d = abs(d);\n    \n    // Step the d value to get a sharp outline of the shape\n    d = smoothstep(0.01, 0.1, d);\n    \n    // Invert our d values to allow for painting\n    d = 1.0 - d;\n    \n    // Declare a color for our shape\n    vec3 color = vec3(sin(iTime + 1.0), sin(iTime + 2.0), sin(iTime + 3.0)) + 1.2;\n    \n    // Apply our color to the outline (effectively painting it)\n    color *= d;\n    \n    // Set the outline \n    fragColor = vec4(color, 1.0);\n}","name":"Image","description":"","type":"image"}]}