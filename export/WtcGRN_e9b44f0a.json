{"ver":"0.1","info":{"id":"WtcGRN","date":"1575689616","viewed":66,"name":"Noise, Worley","username":"dragonyhr","description":"noise, worleywwwwww","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["noise"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"/*\npotentially useful for generating mountains\nright: distorted cell tex\nbottom left: undistorted cell tex\ntop left: distortion vector\n*/\n\n#define Time iTime\n\n/*\n#define float2 vec2\n#define float3 vec3\n#define float4 vec4\n\n#define saturate(x) clamp(x, 0.0, 1.0)\n#define frac fract\n/**/\n\n#define clamp(x) clamp(x, 0.0, 1.0)\n\n\n\n\nfloat CheapHash(float v)\n{\n    return fract(sin(v) * 43758.5453) * 2.0 - 1.0;\n}\n\nfloat CheapHash(vec2 v)\n{\n\treturn CheapHash(v.y + v.x * 12.9898);\n}\n\n \t\nfloat CellTex(vec2 p)\n{\n    const float Pi = 3.14159265359;\n\tfloat d1 =64.0;\n\tvec2 p1;\n\tvec2 cv1;\n    vec2 p_i = floor(p);\n\t\n\td1 = 64.0;\n\t\n\tfor(float i = -1.0; i <= 1.0; ++i)\n\tfor(float j = -1.0; j <= 1.0; ++j)\n\t{\n\t\tvec2 cv = vec2(i, j);\t\t\n\t\tvec2 cvg = cv + p_i;\n\t\t//vec2 cid = mod(cvg, 0.1);\n\t\t\n\t\tfloat h = CheapHash(cvg * 1.36541 + 0.82477 );\n\t\tvec2 o = vec2 (cos(h*Pi), sin(h*Pi));\n\n\t\tvec2 fp = cvg + 0.5;\n\t\tfp += o * 0.437;\n\t\t\n\t\tfloat d = dot((p - fp),(p -fp));\n\n\t\tif(d < d1)\n\t\t{\n\t\t\td1 = d;\n\t\t\tp1 = fp;\n\t\t\tcv1 = cv;\n\t\t}\n\t}\n    \n    \n\tfloat dd = 64.0;\n    \n    const float n = 1.0;\n\tfor(float i = -n; i <= n; ++i)\n\tfor(float j = -n; j <= n; ++j)\n\tif(i != cv1.x || j != cv1.y)\n\t{\n\t\tvec2 cv = vec2(i, j);\t\t\n\t\tvec2 cvg = cv + p_i;\n\t\t\n\t\t\n\t\tfloat h = CheapHash(cvg * 1.36541 + 0.82477 );\n\t\tvec2 o = vec2 (cos(h*Pi), sin(h*Pi));\n\t\t\n\t\tvec2 fp = cvg + 0.5;\n\t\tfp += o * 0.437;\n\t\t\n\t    float d = dot(p - (p1 + fp) * 0.5, normalize(p1 - fp));\n\t\t//d *= 1.48;// empirically normalized\n\n\t\tdd = min(dd, d);\n\t}\n\t\n\treturn dd;\n}\n\nvoid mainImage( out vec4 Color, in vec2 Coord )\n{\n\tColor = vec4(vec3(CellTex(Coord.xy/162.0)),1.0+iTime);\n}","name":"Image","description":"","type":"image"}]}