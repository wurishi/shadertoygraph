{"ver":"0.1","info":{"id":"tdycWD","date":"1602846778","viewed":96,"name":"Example 40 - mountain (2d)","username":"jt","description":"Generate a simple 2d mountain by midpoint-displacement.","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["procedural","example","terrain","mountain","midpointdisplacement"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XdXGzn","filepath":"/media/a/3083c722c0c738cad0f468383167a0d246f91af2bfa373e9c5c094fb8c8413e0.png","previewfilepath":"/media/ap/3083c722c0c738cad0f468383167a0d246f91af2bfa373e9c5c094fb8c8413e0.png","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define N 512\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    float h[N + 1];\n    h[0] = 0.5;\n    h[N] = 0.5;\n    for(int s = N; s > 1; s /= 2)\n    {\n        for(int i = s/2; i <= N; i += s)\n        {\n            float r = 2.0 * texture(iChannel0, vec2(float(i)/float(N), iTime/100.0)).x - 1.0;\n            //float r = 2.0 * texture(iChannel0, vec2(float(i)/float(N), iMouse.x/iResolution.x)).x - 1.0;\n            h[i] = r*float(s)/float(N) + (h[i-s/2] + h[i+s/2]) / 2.0;\n        }\n    }\n\n    float b = step(h[int(uv.x * float(N))], uv.y);\n    fragColor = vec4(b);\n}\n","name":"Image","description":"","type":"image"}]}