{"ver":"0.1","info":{"id":"lljcDh","date":"1508437562","viewed":132,"name":"Grid effect","username":"Panoptics","description":"Multi-resolution grid that didn't quite work as expected. ","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["3d","grid","pseudo"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const vec4 one = vec4(1.0);\nconst vec4 ctfracs = vec4(0.0,0.125,0.250,0.375);\nconst vec4 cbfracs = vec4(0.5,0.625,0.750,0.875);\nconst vec4 gsize = vec4(0.045);\nconst vec4 chalf = (one+gsize)/2.0;\n\nvec4 make_grid(vec4 vin){\n\treturn step(fract(vin+chalf),gsize);\n}\n    \nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ){\n    vec4 t = -vec4(iTime/16.0);\n    vec2 spos = gl_FragCoord.xy-iResolution.xy*vec2(0.5);\n    vec4 ttfracs = fract(t-ctfracs);\n    vec4 tbfracs = fract(t-cbfracs);\n    vec4 tfracs = one - ttfracs;\n    vec4 bfracs = one - tbfracs;\n    ttfracs*=gsize;\n    tbfracs*=gsize;\n   \n    vec4 dd1 = tfracs + make_grid(spos.xxxx*ttfracs);\n    vec4 dd2 = tfracs * make_grid(spos.yyyy*ttfracs);\n    vec4 dd3 = bfracs * make_grid(spos.xxxx*tbfracs);\n    vec4 dd4 = bfracs + make_grid(spos.yyyy*tbfracs);\n\n    vec4 ff = vec4(dot(dd2,dd1))+(dot(dd4,dd3));\n    fragColor = vec4(ff.xy,ff.z+ff.w,1);\n}\n\n","name":"Image","description":"","type":"image"}]}