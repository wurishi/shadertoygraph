{"ver":"0.1","info":{"id":"sssBDH","date":"1653913808","viewed":120,"name":"Simple Bubbles","username":"giangm9","description":"simple","likes":4,"published":1,"flags":0,"usePreview":0,"tags":["simple","bubble"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define SCALE 4.\n#define PI 3.14\n\nfloat random (vec2 st) {\n    return fract(sin(dot(st.xy,\n                         vec2(12.9898,78.233)))*\n        43758.5453123);\n}\n\nvec2 center(vec2 st) {\n    vec2 index = floor(st);\n    vec2 center = (index + 0.5);\n    return center = center + vec2(random(index), random(index)) * sin(iTime / 5. + random(index) * 100.);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec4 top_lava_color = vec4(1., 1., 0., 1.);\n    vec4 bot_lava_color = vec4(1., .3, 0., 1.);\n    vec4 top_bubble_color = vec4(1., 0.7, 0., 1.);\n    vec4 bot_bubble_color = vec4(1., .1, 0., 1.);\n    \n    vec2 st = fragCoord;   \n    st = SCALE * fragCoord/vec2(iResolution.y);\n    st.y -= iTime * 0.5;\n    float v = 1.;\n    for (int i = -1; i < 2; i++) {\n        for (int j = -1; j < 2; j++){\n            float x = float(i);\n        \tfloat y = float(j);\n            vec2 cen = center(st + vec2(x, y));\n            vec2 index = floor(st + vec2(x, y));\n            float f = distance(st, cen);\n            float radius = step(0.252, random(index)) * random(index);\n            radius = radius * 0.332 - 0.02;\n    \t\tf = smoothstep(radius, radius + 0.02, f);\n            v = min(v, f);\n        }\n    }\n    \n    float lava_level = 1. - floor(4. * fragCoord.y / iResolution.y) / 4.;\n    \n    vec4 color = mix(top_lava_color, bot_lava_color, lava_level);\n    \n    vec3 bubble_color = mix(top_bubble_color.xyz, bot_bubble_color.xyz, \n        lava_level);\n    \n    //color.xyz += bubble_color * (1.- v) / 2.;\n    color.xyz = mix(color.xyz, bubble_color, 1. - v);\n    \n    fragColor = color;\n\n}","name":"Image","description":"","type":"image"}]}