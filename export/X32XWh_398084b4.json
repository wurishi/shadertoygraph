{"ver":"0.1","info":{"id":"X32XWh","date":"1710525587","viewed":94,"name":"Fork synthetic  mgoin 313","username":"mgoin","description":"Synthetic aperture tunes sources phase so as to concentrate interferences on a target (emit or ear)","likes":5,"published":1,"flags":0,"usePreview":0,"tags":["waves","optics","correlation","interferences","signal","speckle"],"hasliked":0,"parentid":"ldlSzX","parentname":"synthetic aperture"},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define N 23    // Number of sources\nconst float k = 2.*3.14159/.04, c = 0.1; // Wavelength and wave speed constants\n#define t iTime  // Use global time for animation\n\n// Random number generator for source placement\nfloat rnd(float i) {\n    return mod(4000.*sin(23464.345*i+45.345),1.);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord ) {\n    vec2 R = iResolution.xy, uv = (2.*fragCoord - R ) / R.y;\n    float x = -.75, y = -.7;\n    const float stp = 1.54/float(N);\n    float Phi[N], D2[N];\n\n    // Calculate source contributions\n    for (int i = 0; i < N; i++) {\n        vec2 P;\n        P = .7*vec2(sin(4.*x),-cos(4.*x));\n        //if \t\t(MODE==1) { P = vec2(x,-.9); x+= stp;}\n\t\t//else if (MODE==2) { P = vec2(x,-.9); x+= stp*(1.+srnd(float(i))); }\n\t\t//else if (MODE==3) { P = .99*vec2(sin(4.*xt),-cos(4.*xt)); xt+= stp;}\n\t\t//else if (MODE==4) { P = .99*vec2(sin(4.*xt),-cos(4.*xt)); xt+= stp*(1.+.7*srnd(float(i)));}\n        x += 1.4*sqrt(stp);\n        if (x > .7) { x = -.7; y += sqrt(1.4*stp); }\n        \n        float d = length(uv-P), phi = d - c*t;\n        Phi[i] = k*phi; // Wave attributes\n        D2[i] = pow(d,1.0); // Distance fading\n\n        if (d < 0.01) { fragColor = vec4(0,0,1,0); return; } // Source point coloring\n    }\n    \n    // Combine waves\n    float v = 0.;\n    for (int i = 0; i < N; i++) {\n        v += cos(Phi[i])/D2[i];\n    }\n\n    // Normalize and color\n    v = v*4.5/float(N);\n    fragColor = v*vec4(1,.5,.25, 1);\n}\n","name":"Image","description":"","type":"image"}]}