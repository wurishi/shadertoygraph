{"ver":"0.1","info":{"id":"7tf3Rr","date":"1621616521","viewed":388,"name":"ShaderShowDown03_Outline","username":"louis_C","description":"Visual made during the Outline's Shadershowdown 2021.","likes":19,"published":1,"flags":40,"usePreview":0,"tags":["livedcoding"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord ){\nfragColor = texture(iChannel0,fragCoord/iResolution.xy);}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"Xdf3Rn","filepath":"/media/a/e81e818ac76a8983d746784b423178ee9f6cdcdf7f8e8d719341a6fe2d2ab303.webm","previewfilepath":"/media/ap/e81e818ac76a8983d746784b423178ee9f6cdcdf7f8e8d719341a6fe2d2ab303.webm","type":"video","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"\nfloat rd(float t){ return fract(sin(dot(floor(t),45.2))*7845.236);}\nfloat no(float t){ return mix(rd(t),rd(t+1.),smoothstep(0.,1.,fract(t)));}\nfloat fl(float t){return t  - smoothstep(0.8,1.,fract(t));}\nfloat hs(vec2 uv){ return fract(sin(dot(uv,vec2(45.6,98.2)))*7845.236+iTime);}\nfloat no(vec2 p){vec2 f = floor(p); p = smoothstep(0.,1.,fract(p));\n  vec2 se = vec2(46.,95.);float tt = 7844.+iTime;\n  vec2 v1 = dot(f,se)+vec2(0.,se.y);\n  vec2 v2 = mix(fract(sin(v1)*tt),fract(sin(v1+se.x)*tt),p.x);\n  return mix(v2.x,v2.y,p.y);}\nfloat cv(vec2 uv){\n  float ta = step(0.3,rd(iTime*7.+56.));\n  float mv = 0.5+no(iTime*7.)*1.1;\n  float d1 = fl(smoothstep(0.,0.7,pow(length(uv),mv))*5.)*0.4;\n  float d2 = fl(pow(length(uv.y),mv)*5.)*0.4;\n  float df = mix(d1,d2,ta);\n  \n  df += (hs(uv)-0.5)*0.1;\n  //df *= 0.;\n // df += no(uv*5)*5.;\n  return df;}\nfloat cl(vec2 uv){\n  float ta = smoothstep(0.6,0.65,rd(iTime*2.));\n  vec2 mv = vec2(no(uv*2.),no(uv*2.+48.))-0.5;\n  vec2 e = vec2(0.01,0.);\n  float t1 = cv(uv+e.xy);\n  float t2 = cv(uv-e.xy);\n  float t3 = cv(uv+e.yx);\n  float t4 = cv(uv-e.yx);\n  float t5 = normalize(vec2(max(abs(t1-t2),abs(t3-t4)),0.5)).x;\n  t5 = max(t5,texture(iChannel0,gl_FragCoord.xy / iResolution.xy+mv*0.025).a*0.9);\n  float t6 = pow(texture(iChannel1,(uv*0.5+0.5)+(vec2(no(iTime*10.)-0.5))*0.05).x,1.5);\n  float t7 = mix(t5*mix(.8,1.2,hs(uv+45.)),t6,ta);\n  return t7;\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n float ta = smoothstep(0.6,0.65,rd(iTime*2.));\n\tvec2 uv = fragCoord/iResolution.xy;\n  vec2 un = uv;\n\tuv -= 0.5;\n  uv *= 2.;\n\tuv /= vec2(iResolution.y / iResolution.x, 1);\n  float r1 = 0.;vec2 uc = uv; vec2 ud = uv*mix(0.003,0.035*no(iTime*15.)+0.003,ta);\n  for(int  i = 0 ; i < 40 ; i++){\n    float d = float(i) /40.;\n    uc -= ud;\n    r1 = cl(uc);\n    if(d>dot(r1,1.)){break;}\n  }\n  vec2 mv = vec2(no(uv*2.),no(uv*2.+48.))-0.5;\n  vec2 e = vec2(0.01,0.);\n  un += mv*0.025;\n  float t1 = texture(iChannel0,un+e.xy).a;\n  float t2 = texture(iChannel0,un-e.xy).a;\n  float t3 = texture(iChannel0,un+e.yx).a;\n  float t4 = texture(iChannel0,un-e.yx).a;\n  float t5 = normalize(vec2(max(abs(t1-t2),abs(t3-t4)),0.5)).x;\n  r1 = max(r1,t5*(0.5+rd(iTime*5.5)*0.5)*mix(1.,0.5,ta));\n  float b = sqrt(32.);float c = 0.; float d = pow(length(uv.y),1.5)*mix(0.02,0.01,ta);\n  for(float i = -0.5 *b ; i <= 0.5 *b;  i += 1.)\n  for(float j = -0.5 *b ; j <= 0.5 *b;  j += 1.){\n    c += texture(iChannel0,gl_FragCoord.xy / iResolution.xy+vec2(i,j)*d).a;\n  }\n  c /= 32.;\n  float r2 = smoothstep(0.,0.7,c);\n  float tr = step(0.7,rd(iTime*16.));\n  vec3 c1 = mix(vec3(1.),3.*abs(1.-2.*fract(r2*0.5+0.4+0.3*tr+vec3(0.,-1./3.,1./3.)))-1.,0.2+0.4*tr)*r2;\n\tfragColor = vec4(vec3(c1),r1);\n}","name":"Buffer A","description":"","type":"buffer"},{"inputs":[],"outputs":[],"code":"float rd(float t){ return fract(sin(dot(floor(t),45.2))*7845.236);}\nfloat rd2(float t){ return (fract(sin(dot(floor(t),45.2))*7845.236)-0.5)*2.;}\nfloat no(float t){ return mix(rd2(t),rd2(t+1.),smoothstep(0.,1.,fract(t)));}\nfloat nr(float t){ return mix(rd2(t),rd2(t+1.),fract(t));}\nvec2 mainSound( int samp, float time )\n{\n    float ta = smoothstep(0.6,0.65,rd(time*2.));\n    float ta2 = mix(7.,15.,ta);\n    float ta3 = mix(0.3,1.2,ta);\n    float ta4 = mix(100.,50.,ta);  \n    vec2 s1 = vec2(0.);vec2 s2 = vec2(0.);vec2 s3 = vec2(0.);\n    float nb = 15.;\n    for(int  i = 1 ; i<int(nb) ; i++){float v = float(i);\n    vec2 mv =  mix(vec2(0.5,1.),vec2(1.,0.5),sin(time*(10.*v+1.)));\n    float fa = clamp(nr(time*16.+v*0.8)-0.7,0.,1.);\n    s1 += sin(fa*2000.)/pow(nb-v,0.7);\n    s1 *= mv;\n    float lm = no(time*ta2+v*ta3);\n    s2 += no(lm*ta4)/pow(v,0.7);\n    float t3 =  smoothstep(0.19,0.31,nr(time*7.+56.+v*0.7))*500.;\n    s3 += fract(t3)/(nb-v);\n    }s1 *=0.2;s2 *= 0.8;\n   s3 *=(1.-ta);\n\n    return vec2(s1+s2+s3);\n}","name":"Sound","description":"","type":"sound"}]}