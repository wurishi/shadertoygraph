{"ver":"0.1","info":{"id":"XlKGRR","date":"1472736209","viewed":144,"name":"Square segments","username":"dawee","description":"draw the segments of a square","likes":1,"published":1,"flags":0,"usePreview":0,"tags":["beginner"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"struct Segment {\n    vec3 vertices[2];\n    vec2 xBounds;\n    vec2 yBounds;\n    vec2 zBounds;\n};\n\nstruct Mesh {\n    Segment segments[12];\n};\n    \nMesh square;\n\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n    bool inSquare = false;\n    float pxByUnit = iResolution.y / 4.0;\n    float lineWidth = 1.0 / 25.0;\n\n    vec2 worldCoord = vec2((fragCoord.x - iResolution.x / 2.0) / pxByUnit, (fragCoord.y - iResolution.y / 2.0) / pxByUnit);\n    \n    square.segments[0].vertices[0] = vec3(-0.5, 0.5, -0.5);\n    square.segments[0].vertices[1] = vec3(0.5, 0.5, -0.5);\n\n    square.segments[1].vertices[0] = vec3(0.5, 0.5, -0.5);\n    square.segments[1].vertices[1] = vec3(0.5, -0.5, -0.5);\n\n    square.segments[2].vertices[0] = vec3(0.5, -0.5, -0.5);\n    square.segments[2].vertices[1] = vec3(-0.5, -0.5, -0.5);\n\n    square.segments[3].vertices[0] = vec3(-0.5, -0.5, -0.5);\n    square.segments[3].vertices[1] = vec3(-0.5, 0.5, -0.5);\n\n    \n    for (int segIndex = 0; segIndex < 4; ++segIndex) {\n        square.segments[segIndex].xBounds = square.segments[segIndex].vertices[0].x < square.segments[segIndex].vertices[1].x ? vec2(square.segments[segIndex].vertices[0].x, square.segments[segIndex].vertices[1].x) : vec2(square.segments[segIndex].vertices[1].x, square.segments[segIndex].vertices[0].x);\n        square.segments[segIndex].yBounds = square.segments[segIndex].vertices[0].y < square.segments[segIndex].vertices[1].y ? vec2(square.segments[segIndex].vertices[0].y, square.segments[segIndex].vertices[1].y) : vec2(square.segments[segIndex].vertices[1].y, square.segments[segIndex].vertices[0].y);\n        square.segments[segIndex].zBounds = square.segments[segIndex].vertices[0].z < square.segments[segIndex].vertices[1].z ? vec2(square.segments[segIndex].vertices[0].z, square.segments[segIndex].vertices[1].z) : vec2(square.segments[segIndex].vertices[1].z, square.segments[segIndex].vertices[0].z);\n\n        bool followX = worldCoord.x >= square.segments[segIndex].xBounds.x - lineWidth / 2.0 && worldCoord.x <= square.segments[segIndex].xBounds.y + lineWidth / 2.0;\n        bool followY = worldCoord.y >= square.segments[segIndex].yBounds.x - lineWidth / 2.0 && worldCoord.y <= square.segments[segIndex].yBounds.y + lineWidth / 2.0 ;\n\n        if (followX == true && followY == true) {\n            inSquare = true;\n        }\n    }\n    \n    fragColor = vec4(1, 1, 1, 1);\n\n    if (inSquare == true) {\n        fragColor = vec4(0, 0, 0, 1);\n    }\n}\n","name":"Image","description":"","type":"image"}]}