{"ver":"0.1","info":{"id":"MtS3Rw","date":"1427575815","viewed":382,"name":"Textured Mandelbrot","username":"purton","description":"Smooth mandelbrot with texture.","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["2d","fractal","mandelbrot","texture","smooth"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XsXGRn","filepath":"/media/a/cd4c518bc6ef165c39d4405b347b51ba40f8d7a065ab0e8d2e4f422cbc1e8a43.jpg","previewfilepath":"/media/ap/cd4c518bc6ef165c39d4405b347b51ba40f8d7a065ab0e8d2e4f422cbc1e8a43.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"false","srgb":"false","internal":"byte"},"published":1}],"outputs":[],"code":"float mandelbrot(in vec2 c)\n{\n    const int maxIter = 64;\n    vec2 z = vec2(0.0, 0.0);\n    \n    for (int i = 0; i < maxIter; i++) {\n        z = vec2(z.x*z.x - z.y*z.y, 2.0*z.x*z.y) + c;\n        \n        if (dot(z, z) > 4.0) {\n            for (int s = 0; s < 4; s++) {\n                z = vec2(z.x*z.x - z.y*z.y, 2.0*z.x*z.y) + c;\n            }\n            float smoothed = float(i) + 5.0 - log(log(length(z))) / log(2.0);\n            return smoothed / float(maxIter);\n        }\n    }\n    \n    return 1.0;\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord)\n{\n    vec2 center = vec2(0.65, 0.5 * iResolution.y / iResolution.x);\n    vec2 pos = fragCoord.xy / iResolution.x - center;\n    pos *= 4.0;\n    \n    float m = mandelbrot(pos);\n    \n    vec2 coord = vec2(m*20.0 + iTime*0.05, m*20.0*pos.y);\n    fragColor = texture(iChannel0, coord) * (1.0 - m);\n}\n","name":"Image","description":"","type":"image"}]}