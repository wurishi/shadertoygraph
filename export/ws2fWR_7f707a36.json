{"ver":"0.1","info":{"id":"ws2fWR","date":"1589863860","viewed":469,"name":"Doomfire","username":"UnderSampled","description":"A minimal implementation of the Doom Fire effect from the PSX port (https://fabiensanglard.net/doom_fire_psx)","likes":13,"published":1,"flags":32,"usePreview":0,"tags":["fire","doom","heatmap","cellularautomata","psx"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    fragColor = texelFetch(iChannel0, ivec2(fragCoord)/3 + ivec2(16, 0), 0);\n}","name":"Image","description":"","type":"image"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    bool source = fragCoord.y < 4.0;\n    \n    float rand = fract(sin(mod(dot(fragCoord.xy*float(iFrame),vec2(12.9898,78.233)), 3.14)) * 43758.5453);\n    ivec2 offset = ivec2(rand*(2.0)-1.1, -int(rand>0.7));\n    \n    float heat = texelFetch(iChannel0, ivec2(fragCoord.xy) + offset, 0).r - 0.003;\n    \n    float mixed = max(heat, 0.0) * float(!source) + float(source);\n\n    fragColor = vec4(vec3(mixed, mixed*mixed, pow(mixed, 8.0)), 1.0);\n}","name":"Buffer A","description":"","type":"buffer"}]}