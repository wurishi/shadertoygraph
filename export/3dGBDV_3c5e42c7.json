{"ver":"0.1","info":{"id":"3dGBDV","date":"1607937361","viewed":164,"name":"Living Wood","username":"mherreshoff","description":"Warps a wood texture using the animated complex polynomial.","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["2d","forest","complex","polynomialwood"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"XsfGRn","filepath":"/media/a/1f7dca9c22f324751f2a5a59c9b181dfe3b5564a04b724c657732d0bf09c99db.jpg","previewfilepath":"/media/ap/1f7dca9c22f324751f2a5a59c9b181dfe3b5564a04b724c657732d0bf09c99db.jpg","type":"texture","channel":0,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define zoom 6.\n#define pi 3.14159265\n\nvec2 cmul(in vec2 a, in vec2 b) {\n  return mat2(a, -a.y, a.x)*b;\n}\n\nvec3 complexColor(in vec2 c) {\n  vec2 uv, uv2;\n  float m = log(length(c))/10.;\n  float angle = atan(c.y, c.x)/(2.*pi);\n  uv.x = fract(angle+.05*iTime);\n  uv.y = fract(m);\n  uv2 = uv;\n  uv2.x = 1.;\n  // Blur the left and right edges of the texture together.\n  return mix(\n    texture(iChannel0, uv2).xyz,\n    texture(iChannel0, uv).xyz,\n    smoothstep(0., 0.005, uv.x*(1.-uv.x)));\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    vec2 p = (2.0*uv - 1.0)*zoom;\n    p.x *= iResolution.x/iResolution.y;\n    \n    vec2 res = p;\n    for (int i = 1; i <= 5; i++) {\n        float t = iTime*float(i)/50.;\n        vec2 z = vec2(cos(t), sin(t))*float(i);\n        res = cmul(res, p-z);\n    }\n\n    vec3 im = complexColor(res);\n    fragColor = vec4(im,1.0);\n}","name":"Image","description":"","type":"image"}]}