{"ver":"0.1","info":{"id":"3df3z8","date":"1544821684","viewed":163,"name":"Covector Field","username":"Dodecaplex","description":"Simple visualization of differential 1-forms, approximated by a discrete covector field. Click to preview the covector at the mouse location in red.","likes":6,"published":1,"flags":0,"usePreview":0,"tags":["vector","dual","differential","covector","1form"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define CELL_RES (1.0*vec2(1.0, 1.0))\n\nfloat f(vec2 d, vec2 v) {\n    // linear functional\n    vec2 w =\n        // conservative\n        //vec2(1.0, 1.0)\n        //vec2(1.0, d.y)\n        //vec2(sin(d.x), sin(d.y))\n        //vec2(exp(d.x*d.x/10.0), exp(d.y*d.y/10.0))\n        \n        // non-conservative\n        vec2(-d.y, d.x)\n    ;\n    return dot(w, v);\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 p = 4.0*(2.0*fragCoord - iResolution.xy)/iResolution.y;\n    vec2 m = 4.0*(2.0*iMouse.xy - iResolution.xy)/iResolution.y;\n    vec2 cell_res = CELL_RES;\n    vec2 cell_uv = fract(p*cell_res)-0.5;\n    \n    // covector basis { d.x, d.y }\n    vec2 d = p*cell_res;\n    \n    float k = f(round(d), cell_uv);\n    fragColor = vec4(\n        vec3(fract(k-iTime)),\n        1.0\n    );\n   \n    vec2 v = p-m;\n    if (length(v) < 0.5)\n    {\n        float k = f(d, v*cell_res);\n        fragColor = vec4(\n            fract(k-iTime),0,0,\n        1);\n    }\n\n}","name":"Image","description":"","type":"image"}]}