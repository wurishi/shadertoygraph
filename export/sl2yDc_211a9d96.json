{"ver":"0.1","info":{"id":"sl2yDc","date":"1650363894","viewed":96,"name":"Shy Emoji","username":"Eugeneupup","description":"refer tutorial : https://www.shadertoy.com/view/lsXcWn\nBrow code: https://www.shadertoy.com/view/tlS3WG\ntook me some time to figure out the mouth:using a loop(draw circle)","likes":3,"published":1,"flags":0,"usePreview":0,"tags":["2d","emoji"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"//refer tutorial : https://www.shadertoy.com/view/lsXcWn\n//Brow code: https://www.shadertoy.com/view/tlS3WG\n#define sat(x) clamp(x, 0., 1.);\n\nfloat Remap01(float a,float b,float t)\n{\n    return clamp((t-a)/(b-a),0.0,1.0);\n}\n\n\nfloat Remap(float a,float b,float c,float d,float t)\n{\n    return Remap01(a,b,t)*(d-c)+c;\n}\nvec2 within(vec2 uv,vec2 xy,vec2 zw)\n{\n    return (uv-xy)/(zw-xy);\n}\nfloat Band(float t,float start, float end, float blur){ \n    float step1=smoothstep(start-blur,start+blur,t); \n    float step2=smoothstep(end+blur,end-blur,t); \n    \n    return step1*step2; \n}\n\nfloat Rect(vec2 uv,float left, float right, float bottom, float top, float blur){ \n    float band1=Band(uv.x,left,right,blur);  \n    float band2=Band(uv.y,bottom,top,blur);\t\n    \n    return band1*band2;\n}\n\nvec4 Mouth(vec2 uv)\n{\n    vec4 col = vec4(0.5,0.18,0.05,1.0);  \n    uv -= 0.5;       \n    \n\tfloat d = length(uv);\n    col.a = smoothstep(0.5,0.2,d);\n    return col;\n}\n\nvec4 Brow(vec2 uv)\n{\n    uv.x *= 1.5;\n    uv.x -= .23;\n    uv.y -= .07;\n    \n    float blur = .1;\n    vec4 col = vec4(0.);\n    vec4 eyeCol = vec4(.57, .31, .03, 1.);\n    \n    float d1 = length(uv);\n    float s1 = smoothstep(.2, .2 - blur, d1); \n    float d2 = length(uv - vec2(0., -.08));\n    float s2 = smoothstep(.15, .15 - blur, d2);\n    \n    float eyeMask = sat(s1 - s2);\n    \n    col = mix(col, eyeCol, smoothstep(.6, .7, eyeMask));\n    \n   \n    float edgeShade1 = Remap01(.01, .15, d1);\n    edgeShade1 *= edgeShade1;\n    col.rgb *= 1. - edgeShade1 * .6;\n    float edgeShade2 = Remap01(.14, .1, d2);\n    edgeShade2 *= edgeShade2;\n    col.rgb *= 1. - edgeShade2 * .6;\n    \n    return col;\n}\nvec4 Eye(vec2 uv)\n{\n    uv -= 0.5;\n    \n    vec4 col = vec4(1.0);   \n    float d = length(uv);\n    col.a=smoothstep(.5,.49,d);\n    col.rgb = mix(col.rgb,vec3(.97, .86, .05),smoothstep(.5,.55,d));\n    col.rgb = mix(col.rgb,vec3(1.0)*0.7,smoothstep(.3,.5,d));\n    col.rgb = mix(col.rgb,vec3(0.),smoothstep(.2,.15,d));\n    \n    return col;\n}\n\nvec4 Head(vec2 uv)\n{\n    vec4 col = vec4(0.9,0.65,0.1,1.0);\n   \n    float d = length(uv);\n    col.a = smoothstep(0.5,0.49,d); \n    \n    float edgeShade = Remap01(0.35,0.5,d);\n    edgeShade *= edgeShade;\n    col.rgb *= 1.0-edgeShade*0.5;\n    \n    col.rgb = mix(col.rgb,vec3(0.6,0.3,0.1),smoothstep(0.47,0.48,d));\n    \n    float highLight = smoothstep(0.41,0.405,d);\n\thighLight *= Remap(0.41,0.2,0.75,0.0,uv.y);\n    highLight *= smoothstep(0.18,0.19,length(uv-vec2(0.21,0.075)));//（选用）（0.18,0.19）是眼睛的尺寸，(0.21,0.075)是眼睛的坐标，这个圆以内的插值系数为0，眼睛外的一圈深黄色，加深眼睛深度感\n    col.rgb = mix(col.rgb,vec3(1.0),highLight);\n    d = length(uv-vec2(0.28,-0.15));\n    float cheek = smoothstep(0.2,0.01,d)*0.6;\n    cheek *= smoothstep(0.17,0.16,d); \n    col.rgb = mix(col.rgb,vec3(1.0,0.1,0.1),cheek);\n    \n    return col;\n}\n\nvec4 Emoji(vec2 uv)\n{\n    vec4 col = vec4(0.0); \n    uv.x = abs(uv.x);\n    \n    vec4 head = Head(uv); \n    col = mix(col,head,head.a); \n    vec4 eye = Eye(within(uv,vec2(0.03,-0.1),vec2(0.37,0.25))); \n    col = mix(col,eye,eye.a);\n    for(float i=-.25;i<=.05;i+=0.0001)\n    {\n    vec4 mouth1 = Mouth(within(uv,vec2(i,-0.26),vec2(i+0.05,-0.2)));\n    col = mix(col,mouth1,mouth1.a);\n    }\n    \n    vec4 brow = Brow(within(uv,vec2(0.03,0.25),vec2(1.2,0.8))); \n    col = mix(col,brow,brow.a);\n    return col;\n}\n\nvoid mainImage(out vec4 fragColor,in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord-0.5*iResolution.xy)/iResolution.y;\n\n    fragColor = Emoji(uv);\n}","name":"Image","description":"","type":"image"}]}