{"ver":"0.1","info":{"id":"st2yz1","date":"1649210271","viewed":375,"name":"Color Branches","username":"wyatt","description":"something for a friend","likes":28,"published":3,"flags":32,"usePreview":0,"tags":["yann"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4sXGR8","filepath":"/media/previz/buffer02.png","previewfilepath":"/media/previz/buffer02.png","type":"buffer","channel":2,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dfGRr","channel":0}],"code":"Main {\n    Q = C(U);\n}","name":"Image","description":"","type":"image"},{"inputs":[],"outputs":[],"code":"#define R iResolution.xy\n#define Main void mainImage(out vec4 Q, in vec2 U)\n#define A(U) texture(iChannel0,(U)/R)\n#define B(U) texture(iChannel1,(U)/R)\n#define C(U) texture(iChannel2,(U)/R)\n#define D(U) texture(iChannel3,(U)/R)\n","name":"Common","description":"","type":"common"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4dXGR8","channel":0}],"code":"void X (inout vec4 Q, vec2 U, vec4 q) {\n    if (length(U-q.xy)<length(U-Q.xy))Q=q;\n}\n\nMain {\n    Q = A(U);\n    X(Q,U,A(U+vec2(0,1)));\n    X(Q,U,A(U+vec2(1,0)));\n    X(Q,U,A(U-vec2(0,1)));\n    X(Q,U,A(U-vec2(1,0)));\n    vec2 v = mix(Q.xy,U,.000001);\n    vec4 n = B(v+vec2(0,1));\n    vec4 e = B(v+vec2(1,0));\n    vec4 s = B(v-vec2(0,1));\n    vec4 w = B(v-vec2(1,0));\n    Q.xy -= .3*vec2(e.w-w.w,n.w-s.w);\n    if (iFrame < 1) {\n        U = ceil(U/100.)*100.;\n        Q = vec4(U,U);\n    }\n}","name":"Buffer A","description":"","type":"buffer"},{"inputs":[{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"XsXGR8","channel":0}],"code":"Main {\n    vec4 a = A(U);\n    vec4 b = B(U);\n    vec4 m = vec4(0);\n    for (float x = -2.; x <= 2.; x++)\n    for (float y = -2.; y <= 2.; y++)\n    {\n        m += 1./25.*B(U+vec2(x,y));\n    }\n    Q.x = smoothstep(2.,1.,length(U-a.xy));\n    Q.y = max(Q.x,.99*b.y);\n    Q.z = 0.;\n    Q.w = m.w*.99+Q.y;\n    \n    if (U.x<1.||U.y<1.||R.x-U.x<1.||R.y-U.y<1.)Q *= 0.;\n}","name":"Buffer B","description":"","type":"buffer"},{"inputs":[{"id":"XsX3Rn","filepath":"/media/a/92d7758c402f0927011ca8d0a7e40251439fba3a1dac26f5b8b62026323501aa.jpg","previewfilepath":"/media/ap/92d7758c402f0927011ca8d0a7e40251439fba3a1dac26f5b8b62026323501aa.jpg","type":"texture","channel":3,"sampler":{"filter":"mipmap","wrap":"repeat","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4dXGR8","filepath":"/media/previz/buffer00.png","previewfilepath":"/media/previz/buffer00.png","type":"buffer","channel":0,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"XsXGR8","filepath":"/media/previz/buffer01.png","previewfilepath":"/media/previz/buffer01.png","type":"buffer","channel":1,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1},{"id":"4sXGR8","filepath":"/media/previz/buffer02.png","previewfilepath":"/media/previz/buffer02.png","type":"buffer","channel":2,"sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"},"published":1}],"outputs":[{"id":"4sXGR8","channel":0}],"code":"Main {\n    vec4 b = B(U);\n    vec4 a = A(U);\n    vec4 c = C(U);\n    Q = b.x*D(a.zw);\n    Q = max(c*.99,Q);\n}","name":"Buffer C","description":"","type":"buffer"}]}