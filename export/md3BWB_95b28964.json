{"ver":"0.1","info":{"id":"md3BWB","date":"1697578613","viewed":309,"name":"Fractal tilings","username":"felipetovarhenao","description":"Procedural fractal tilings","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["patterns","tiling"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"/*\nAuthor: Felipe Tovar-Henao [www.felipe-tovar-henao.com]\nTitle: Fractal tilings\n*/\n\n\n#define PI 3.14159265359\n#define TWO_PI 6.28318530718\n\nmat2 rot2(in float a){\n    float c=cos(a);\n    float s=sin(a);\n    return mat2(c,-s,s,c);\n}\n\nfloat cosine(in float x,in float s){\n    float y=cos(fract(x)*PI);\n    return floor(x)+.5-(.5*pow(abs(y),1./s)*sign(y));\n}\n\nvec2 cosine(in vec2 p,in float s){\n    return vec2(cosine(p.x,s),cosine(p.y,s));\n}\n\nvec3 cosine(in vec3 p,in float s){\n    return vec3(cosine(p.xy,s),cosine(p.z,s));\n}\n\nvec4 cosine(in vec4 p,in float s){\n    return vec4(cosine(p.xy,s),cosine(p.zw,s));\n}\n\nfloat fold(in float x){\n    return abs(mod(x+1.,2.)-1.);\n}\n\nvec2 fold(in vec2 p){\n    return vec2(fold(p.x),fold(p.y));\n}\n\nvec3 fold(in vec3 p){\n    return vec3(fold(p.xy),fold(p.z));\n}\n\nvec4 fold(in vec4 p){\n    return vec4(fold(p.xy),fold(p.zw));\n}\n\nvec2 adjustViewport(in vec2 uv,in vec2 r){\n\treturn(uv*2.-r)/(r.x<r.y?r.x:r.y);\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord){\n\tvec2 uv=adjustViewport(fragCoord.xy,iResolution.xy)*.75;\n\tvec2 loc=vec2(0.);\n\tfloat t=iTime;\n\t\n\tfor(float i=-1.;i<4.;i+=1.){\n\t\tfloat idx=i;\n\t\tfloat scl=pow(2.,idx);\n\t\tuv*=scl;\n\t\tfloat x=fold(1.-uv.x);\n\t\tfloat y=fold(1.-uv.y);\n\t\tfloat amp=pow(2.,sin(idx+t*.1)*idx);\n\t\tvec2 tmp=vec2(x,y);\n\t\tvec2 layer=tmp*rot2(t*.01*scl)/amp;\n\t\tloc+=layer;\n\t}\n\t\n\tfloat a=cosine(fold(length(loc)),2.5+sin(t));\n\t\n\tvec3 col1=mix(vec3(1.,.1608,.1608),vec3(1.,.9373,.2549),fold(sin(length(loc)+t*.13)));\n\tvec3 col2=mix(vec3(.098,.3294,.8706),vec3(.0784,.0902,.0902),fold(length(loc)+t*.3));\n\tvec3 col=mix(col1,col2,a);\n\tfragColor=vec4(col,1.);\n}","name":"Image","description":"","type":"image"}]}