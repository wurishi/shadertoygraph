{"ver":"0.1","renderpass":[{"outputs":[],"inputs":[],"code":"#define AA_SIZE 2.0\n#define pi 3.141592653589793\n\nfloat star(vec2 uv) {\n\tfloat a = atan(uv.y,uv.x);\n    float r = length(uv);\n    float starR = 0.5+0.25*pow(sin(a*2.5+iTime), 2.0);\n    return r < starR ? 1.0 : 0.0;\n}\n\nfloat pointyStar(vec2 uv, float r, float rotation) {\n\tfloat a = atan(uv.y,uv.x);\n    float len = length(uv);\n    float starR = r/0.75 * (0.5+0.25*(abs(mod(a*2.5+rotation, pi)/(0.5*pi)-1.0)));\n    return len - starR;\n}\n\nfloat pointyStars(vec2 uv) {\n    uv *= 5.0;\n    float phase = floor(0.5*uv.x)-floor(0.5*uv.y)+iTime*3.14159;\n    return pointyStar(mod(uv, vec2(2.0))-1.0, 0.5+0.25*sin(phase), 2.0*cos(1.0*phase));\n}\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    fragColor = vec4(0.0);\n    for (float x=0.0; x < AA_SIZE; x++) {\n        for (float y=0.0; y < AA_SIZE; y++) {\n            vec2 aspect = vec2(iResolution.x/iResolution.y, 1.0);\n            vec2 uv = (fragCoord.xy + vec2(x,y)/AA_SIZE) / iResolution.xy;\n            uv = (2.0 * uv - 1.0) * aspect;\n            float starD = pointyStars(uv);\n            float bigStarD = pointyStar(uv+vec2(sin(iTime*2.8)*0.3 + tan(iTime*0.6) + cos(iTime*0.7), sin(iTime*0.8) + tan(iTime*0.5) + cos(iTime*1.6)*0.1), 0.8, pi*iTime);\n            vec4 stars = vec4(1.2-0.8*abs(sin(uv*3.0)),0.7+0.3*sin(iTime+3.0*uv.x*uv.y),1.0) * float(starD < 0.0);\n            vec4 glow = vec4(0.0);\n            if (starD > 0.07) {\n                glow = vec4(1.0, 1.0, 0.5, 1.0)*max(0.0, step(0.0, 0.1-starD));\n            }\n            float a = -0.3;\n            uv.y += cos(iTime+uv.x*8.0+uv.y)*0.025;\n            vec2 ruv = mat2(cos(a), sin(a), -sin(a), cos(a)) * uv * (1.0+0.25*(uv.y+1.7));\n            vec2 checkerBoard = 0.5+0.5*sign(pow(sin(ruv*8.0), vec2(20.0))-0.5);\n            vec2 checkerBoard2 = 0.5+0.5*sign(pow(sin((ruv)*8.0), vec2(8.0))-0.5);\n            float c0 = max(checkerBoard.x, checkerBoard.y);\n            float c1 = max(checkerBoard2.x, checkerBoard2.y);\n            vec4 ccol = mix(vec4(0.8, 0.2, 0.15, 1.0), vec4(0.1, 0.15, 0.25, 1.0), 1.0-c0);\n            vec4 bg = mix(vec4(0.98,0.95,0.75,1.0), ccol, max(c0, c1))*float(starD > 0.07)*float(bigStarD > 0.02);\n            vec4 bigStar = vec4(0.4, 0.5, 0.8, 1.0)*float(starD > 0.07)*float(bigStarD < 0.0); \n            bg = mix(bg, vec4(1.0, 0.78, 1.0,1.0), max(0.0, min(0.5, abs(1.5-(ruv.y*0.3+1.7)))));\n            vec4 col = bg + bigStar + stars + glow;\n            fragColor += col;\n \t\t}\n    }\n    fragColor /= AA_SIZE * AA_SIZE;\n}","name":"Image","description":"","type":"image"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":false,"mFlagMusicStream":false},"info":{"id":"Mtl3D2","date":"1425428894","viewed":384,"name":"happy stars - shadeADay","username":"kig","description":"Happy shoujo picnic stars~ #shadeADay for 2015-03-03 & 2015-03-04","likes":11,"published":1,"flags":0,"usePreview":0,"tags":["2d","shadeaday"],"hasliked":0,"parentid":"","parentname":""}}