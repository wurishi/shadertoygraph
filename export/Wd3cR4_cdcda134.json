{"ver":"0.1","info":{"id":"Wd3cR4","date":"1600551743","viewed":227,"name":"Juju The Pug","username":"Xor","description":"@jujuadams as shader","likes":11,"published":1,"flags":0,"usePreview":0,"tags":["juju"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define AA 2.0\n\nvec2 hash(vec2 p)\n{\n    return fract(cos(mat2(31,-41,59,-26)*p)*535.);\n}\nvec3 hash3(vec2 p)\n{\n    return fract(cos(mat2x3(31,-41,59,-26,53,-58)*p)*979.);\n}\nvec2 value(vec2 p)\n{\n \tvec2 f = floor(p);\n    vec2 s = p-f;\n    s *= s*(3.-2.*s);\n    \n    const vec2 o = vec2(0,1);\n    return mix(mix(hash(f+o.xx),hash(f+o.yx),s.x),\n        \t   mix(hash(f+o.xy),hash(f+o.yy),s.x),s.y);\n}\nvec3 stripe(in vec2 p)\n{\n    p = p+value(p+iTime*.01)+iTime*.1+5.;\n    vec3 o = vec3(0);\n    \n    float d = 4.;\n \tvec2 f = floor(p);\n    \n    for(float xx = -1.;xx<=1.;xx++)\n    for(float yy = -1.;yy<=1.;yy++)\n    {\n        vec2 v = hash(f+vec2(xx,yy))*1.4-p+f+vec2(xx,yy);\n        float l = length(v);\n        if (l<=d)\n        {\n            d = l;\n            o = hash3(f+vec2(xx,yy));\n        }\n    }\n    float mi = min(min(o.x,o.y),o.z);\n    float ma = max(max(o.x,o.y),o.z);\n    return smoothstep(mi,ma,o)*.75+.15;\n}\nfloat edge(float a, float b, float k)\n{\n \treturn log(exp(a*k)+exp(b*k))/k;\n}\nvec3 pug(vec2 p)\n{\n \tvec2 u = (p-iResolution.xy/2.)/iResolution.y*.8+vec2(0,.02);\n    vec2 j = (value(abs(u)*16.+iTime*.01)-.5)/32.;\n    vec2 c = pow(abs(u),vec2(1.4))+j*.2;\n\n    float d = min(length(c*vec2(1.4,1))-.22,length(c*vec2(1,1.2))-.22);\n    vec2 e = pow(abs(abs(u-vec2(0,.25))-j*.4-vec2(.2,0))*vec2(.7,1),vec2(.7));\n    d = min(d,(length(e)-.42+.6*u.y)/.8);\n    d = edge(d,.005-abs(length(c+.1*vec2(u.y,0))-.22),80.);\n    \n    vec2 m = pow(abs(u*vec2(1,1.3)+vec2(0,.03)),vec2(1.1))+j*.5;\n    d = max(d,.01+u.y*.02-abs(length(m+u.y*.6)-.098));\n    vec2 f = pow(abs(u*vec2(.9,1)-j*.1+vec2(0,.07)),vec2(1.2));\n    \n    float r = .19+.01*edge(-1.-(c.x-.06)*(c.x-.06)*5000.,edge(c.x*c.x*80.,1.,-8.)*6.-6.,1.);\n    float o = edge(length(f+u.y*.1)-.13,length(f-u.y*.16)-r,-180.);\n    d = max(d,.006-abs(o));\n    d = max(d,.004-u.y*.02-abs(length(f-.2*u.y)-.045));\n    \n    vec2 b = abs(abs(u+j*.4-vec2(0,.05))-vec2(.2,0))*vec2(.8,1);\n    b = pow(b,vec2(1.1));\n    d = max(d,.001+f.x*.08-abs(length(b)-.038));\n    return mix(stripe(u*3.),vec3(1),step(0.,d));\n}\nvoid mainImage(out vec4 color, in vec2 coord)\n{\n    vec4 col = vec4(0);\n    \n    for(float xx = -.5;xx<=.5;xx+=1./AA)\n    for(float yy = -.5;yy<=.5;yy+=1./AA)\n    {\n        col += vec4(pug(coord+vec2(xx,yy)),1);\n    }\n    color = col/col.a;\n}","name":"Image","description":"","type":"image"}]}