{"ver":"0.1","info":{"id":"DsjXWG","date":"1670815088","viewed":81,"name":"SDF toy","username":"Peanuuutz","description":"Play with various 2D signed distance functions.","likes":0,"published":1,"flags":0,"usePreview":0,"tags":["2d","sdf","signeddistancefunction"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"const vec4 BACKGROUND = vec4(0.0);\nconst vec4 SHAPE = vec4(1.0);\n\nfloat circle(vec2 p, vec2 c, float r) {\n    vec2 np = p - c;\n    float d = length(np) - r;\n    return d;\n}\n\nfloat rect(vec2 p, vec2 bl, vec2 s) {\n    vec2 hs = s / 2.0;\n    vec2 np = p - (bl + hs);\n    vec2 dv = abs(np) - hs;\n    float id = min(max(dv.x, dv.y), 0.0);\n    float od = length(max(dv, 0.0));\n    float d = id + od;\n    return d;\n}\n\nfloat roundedRect(vec2 p, vec2 bl, vec2 s, vec4 r) {\n    vec2 hs = s / 2.0;\n    vec2 np = p - (bl + hs);\n    r = min(r, min(hs.x, hs.y));\n    r.xy = np.x < 0.0 ? r.xy : r.wz;\n    r.x = np.y > 0.0 ? r.x : r.y;\n    vec2 dv = abs(np) - (hs - vec2(r.x));\n    float id = min(max(dv.x, dv.y), 0.0);\n    float od = length(max(dv, 0.0));\n    float d = id + od - r.x;\n    return d;\n}\n\nfloat roundLine(vec2 p, vec2 s, vec2 e, float th) {\n    vec2 sp = p - s, se = e - s;\n    float c = clamp(dot(se, sp) / dot(se, se), 0.0, 1.0);\n    float d = length(sp - c * se) - th / 2.0;\n    return d;\n}\n\nfloat squareLine(vec2 p, vec2 s, vec2 e, float th) {\n    float l = length(e - s);\n    vec2 n = (e - s) / l;\n    vec2 np = p - (s + e) * 0.5;\n    np = mat2(n.x, -n.y, n.y, n.x) * np;\n    np = abs(np) - vec2(l * 0.5, th * 0.5);\n    float d = length(max(np, 0.0)) + min(max(np.x, np.y), 0.0);\n    return d;\n}\n\nvoid mainImage(out vec4 fragColor, in vec2 fragCoord) {\n    mat3 m = mat3(\n        1.0, -0.0, 0.0,\n        0.0, 1.0, 0.0,\n        -200.0, -200.0, 1.0\n    );\n    \n    vec3 p = m * vec3(fragCoord, 1.0);\n    \n    float d = squareLine(\n        p.xy,\n        vec2(0.0),\n        vec2(50.0, 25.0),\n        1.0\n    );\n    \n    vec4 color = mix(SHAPE, BACKGROUND, smoothstep(-0.5, 0.5, d));\n\n    fragColor = color;\n}","name":"Image","description":"","type":"image"}]}