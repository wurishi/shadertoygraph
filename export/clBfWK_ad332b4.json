{"ver":"0.1","info":{"id":"clBfWK","date":"1694470205","viewed":98,"name":"Ok forest(GDSMBCZY)","username":"GDSMBCZY","description":"I tried following the Over the Moon tutorial from The Art Of Code. But got lazy.","likes":0,"published":3,"flags":0,"usePreview":0,"tags":["gdsmbczy"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"#define S(a, b, t) smoothstep(a,b,t)\nfloat TaperBox(vec2 p, float widthBottom, float widthTop, float yBottom, float yTop, float blur){\n    float m = S(-blur, blur, p.y-yBottom);\n    m *= S(blur, -blur, p.y-yTop);\n    \n    p.x = abs(p.x);\n    \n    float width = mix(widthBottom, widthTop, (p.y-yBottom)/(yTop-yBottom));\n    \n    m *= S(blur, -blur, p.x-width);\n    return m;\n}\n\nvec4 Tree(vec2 uv, float x, float y, vec3 col, float blur){\n    uv -= vec2(x, y);\n    \n    float m = TaperBox(uv, 0.03, 0.03, 0.0, 0.25, blur); //trunk\n    m += TaperBox(uv, 0.2, 0.1, 0.25, 0.5, blur); //canopy 1\n    m += TaperBox(uv, 0.15, 0.05, 0.5, 0.75, blur); //canopy 2\n    m += TaperBox(uv, 0.1, 0.0, 0.75, 1.0, blur); //top\n    \n    \n    float shadow = TaperBox(uv-vec2(0.25, 0.0), 0.1, 0.5, 0.15, 0.25, blur);\n    shadow += TaperBox(uv-vec2(0.25, 0.0), 0.1, 0.5, 0.45, 0.5, blur);\n    shadow += TaperBox(uv-vec2(0.25, 0.0), 0.1, 0.5, 0.70, 0.75, blur);\n    \n    col -= shadow * 0.5;\n    //m = 1.0;\n    return vec4(col, m);\n}\n\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = (fragCoord-0.5*iResolution.xy)/iResolution.y;\n    \n    uv.x += iTime/8.;\n    //uv.y += 0.5;\n    uv *= 5.0;\n    \n    vec4 col = vec4(0.0);\n    float blur = 0.001;\n    \n    //helps create multipule trees\n    float id = floor(uv.x);\n    float n = fract(sin(id*196.91)*925.72)*2.0-1.0;\n    uv.x = fract(uv.x)-0.5;\n    float x = n/5.;\n    float y = n/4.;\n    vec4 tree = Tree(uv*vec2(1.+n*.2), x, y, vec3(0.0, 0.5, 0.0), blur);\n    \n    //col.rg = uv;\n    \n    col = mix(col, tree, tree.a); //draws trees\n    \n    col += S(blur, -blur, uv.y-n/4.); //floor\n    col += vec4(0.0, 0.0, 0.3, 1.0);\n    \n    float thickness = 1.0/iResolution.y;\n    //if(abs(uv.x)<thickness){col.g=1.0;}\n    //if(abs(uv.y)<thickness){col.r=1.0;}\n    fragColor = vec4(col);\n}","name":"Image","description":"","type":"image"}]}