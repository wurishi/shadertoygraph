{"ver":"0.1","info":{"id":"MlBSzK","date":"1445105084","viewed":148,"name":"Police Light","username":"rohtie","description":"Turn your lights on!","likes":2,"published":1,"flags":0,"usePreview":0,"tags":["face","flash","police"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[],"code":"float circle(vec2 p, float radius, float e) {\n\treturn smoothstep(radius - e, radius + e, length(p));\n}\n\nfloat circle(vec2 p, float radius) {\n\treturn circle(p, radius, 0.01);\n}\n\nfloat horizontal(vec2 p, float height, float e) {\n\treturn smoothstep(height - e, height + e, p.y);\n}\n\nfloat horizontal(vec2 p, float height) {\n\treturn horizontal(p, height, 0.01);\n}\n\n\nvoid mainImage( out vec4 col, in vec2 p ) {\n    p /= iResolution.xy;\n    \n    float texture = smoothstep(0.49, 0.51, p.y + p.x * tan(iTime + p.x * 500.0));\n    \n    float move = sin(iTime) * 0.05;\n    \n    float headMask = circle(p * vec2(1.2, 1.0) - vec2(0.5 + move, 0.2 + move), 0.75);\n    \n    float eyes = min(circle(p - vec2(0.25 + move, 0.65), 0.075), circle(p - vec2(0.75 + move, 0.65), 0.075));\n    eyes = max(horizontal(p, 0.71, 0.0175), eyes);\n    eyes = max(1.0 - horizontal(p, 0.68, 0.005), eyes);\n    \n    float mouth = circle(p - 0.5 + move * 0.25, 0.1, 0.005);\n    mouth = max(horizontal(p, 0.45), mouth);\n    \n    float a = iTime * 25.0;\n    p *= mat2(cos(a), -sin(a),\n             sin(a), cos(a));    \n    \n    col.rgb = vec3(p.x * 0.2, p.y * 0.5, p.x * p.y) * headMask * (1.0 - texture * 0.1) + \n        \t  vec3(p.x * 0.3, p.y * 0.2, p.y * 0.35) * texture * (1.0 - headMask) + \n        \t  vec3(1.0 - min(eyes, mouth)) * vec3(p.y * 0.75, p.y * 0.55, p.y * 0.75) * texture +\n        \t  length(p + 1.0) * 0.15;\n}\n","name":"","description":"","type":"image"}]}