{"ver":"0.1","info":{"id":"Ds3BRN","date":"1696893956","viewed":1677,"name":"2D Liquid Fill Inside Sphere","username":"Mirza","description":"2D liquid inside 'sphere' shader.\n\nExpanded:\n> https://www.shadertoy.com/view/Ds3fRN\n\nFeel free to use this however you want.\nModify, learn from it, copy-paste, etc...\n\n- https://twitter.com/TheMirzaBeig/status/1711574005247819899","likes":32,"published":1,"flags":0,"usePreview":0,"tags":["sdf","sphere","circle","progress","liquid","fill","loader"],"hasliked":0,"parentid":"","parentname":""},"renderpass":[{"inputs":[],"outputs":[{"id":"4dfGRr","channel":0}],"code":"// 2D liquid inside 'sphere' shader.\n\n// Author: Mirza Beig\n\n// https://twitter.com/TheMirzaBeig\n// https://www.youtube.com/@MirzaBeig\n\n// Feel free to use this however you want.\n// Modify, learn from it, copy-paste, etc...\n\n// This is the compact version of:\n// > https://www.shadertoy.com/view/Ds3fRN\n\n/*\n\nINFO:\n\nsdf = gradient for circle.\nvB, vbA = vertical band, +animated.\n\nfW, bW = front waves, back waves.\n\nfA = fill animation, just a simple, constant (small) wave.\nfP = fill progress, where 0.0 = center.\n\nfV = fill value.\n\nSet as normalized and centered (-0.5 * 2.0) mouse Y (for interactivity).\nUses mix and step in place of a bool to check if mouse button is held down.\n\nfF, bF = front fill, back fill.\n\n*/\n\n#define PI 3.14\n\n// Optional anti-aliasing, as per suggestion by u/fishy:\n\n#define step(b, a) smoothstep(a, a - (fwidth(b) * 2.0), b)\n\nvoid mainImage(out vec4 col, in vec2 uv)\n{\n    vec3 r=iResolution;\n    uv=((2.*uv)-r.xy)/r.y;\n\n    float\n\t\tsdf=length(uv),c=step(sdf,.85),\n\t\t\n        vB=smoothstep(.1,.9,sin(uv.x+(PI*.5))-.3),\n\t\tvBA=vB*sin(iTime*4.)*.1,\n        \n        fW=(sin(((iTime*2.)+uv.x)*2.)*.05)+vBA,\n\t\tbW=(sin(((iTime*-2.)+uv.x)*2.+PI)*.05)-vBA,\n\t\t\n        fA=(sin(iTime*4.)*.05)*vB,\n        \n        fV=mix(-.2,((iMouse.y/r.y)-.5)*2.,step(0.,iMouse.w)),\n        fP=fV+(sin((iTime)*PI)*.1),\n\t\t\n        fF=step(uv.y,(fA+fW)+fP)*c,\n\t\tbF=step(uv.y,(-fA+bW)+fP)*c;\n\n    col =\n\t\tvec4((step(sdf,1.)-step(sdf,.9))+\n\t\t(fF+(clamp(bF-fF,0.,1.)*.8))+\n\t\tclamp(pow((sdf+.01)*\n\t\t((1.-(fF+bF))*c),5.),0.,1.));\n}","name":"Image","description":"","type":"image"}]}