{"ver":"0.1","renderpass":[{"outputs":[{"channel":0,"id":"4dfGRr"}],"inputs":[{"channel":0,"type":"buffer","id":"4dXGR8","filepath":"/media/previz/buffer00.png","sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}}],"code":"/*\nCHANGE SETTINGS IN COMMON HEADER\nyes. you can actually draw here\n\nDraw - click on preview\nchange color - go to common, change macro, then recompile shader\nreset - click on the reset time in the preview\n*/\n\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n    vec3 col = CANVAS_COLOR;\n    \n    vec4 t = texture(iChannel0, uv);\n    col = mix(col, t.rgb, t.a);\n\n    // Output to screen\n    fragColor = vec4(col, 1.0);\n}","name":"Image","description":"","type":"image"},{"outputs":[{"channel":0,"id":"4dXGR8"}],"inputs":[{"channel":0,"type":"buffer","id":"4dXGR8","filepath":"/media/previz/buffer00.png","sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}},{"channel":1,"type":"buffer","id":"XsXGR8","filepath":"/media/previz/buffer01.png","sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    vec4 old = texture(iChannel0, uv);\n    vec4 new = texture(iChannel1, uv);\n    \n    vec4 combined;\n    combined.rgb = mix(old.rgb, new.rgb, new.a);\n    combined.a = clamp(old.a + new.a, 0., 1.0);\n    \n    #ifdef ERASE\n    \n    combined.a -= new.a;\n    combined.a = clamp(combined.a, 0., 1.0);\n    \n    #endif\n    \n    fragColor = combined;\n}","name":"Buffer A","description":"","type":"buffer"},{"outputs":[{"channel":0,"id":"XsXGR8"}],"inputs":[{"channel":0,"type":"buffer","id":"XsXGR8","filepath":"/media/previz/buffer01.png","sampler":{"filter":"linear","wrap":"clamp","vflip":"true","srgb":"false","internal":"byte"}}],"code":"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    vec2 uv = fragCoord/iResolution.xy;\n    vec4 old = texture(iChannel0, uv);\n    float ratio = iResolution.x/iResolution.y;\n    uv.x *= ratio;\n    \n    vec4 cir = circle(uv, (iMouse.x/iResolution.x) * ratio, iMouse.y/iResolution.y, PEN_SIZE, PEN_COLOR);\n    cir.a *= step(0.0, iMouse.z);\n    \n    fragColor = cir;\n    \n}","name":"Buffer B","description":"","type":"buffer"},{"outputs":[],"inputs":[],"code":"#define PEN_COLOR vec3(0.0)\n#define PEN_SIZE 0.005\n#define CANVAS_COLOR vec3(1.0)\n//#define ERASE\n\nvec4 circle(in vec2 uv, float x, float y, float radius, vec3 color)\n{\n    vec2 dist = uv - vec2(x, y);\n    \n    float a = 1.-smoothstep(radius-(radius*0.01), radius + 0.001, dot(dist,dist)*4.0);.0 - step(vec2(x, y), uv);\n    \n    return vec4(color, a);\n}","name":"Common","description":"","type":"common"}],"flags":{"mFlagVR":false,"mFlagWebcam":false,"mFlagSoundInput":false,"mFlagSoundOutput":false,"mFlagKeyboard":false,"mFlagMultipass":true,"mFlagMusicStream":false},"info":{"id":"fllBRH","date":"1650537992","viewed":46,"name":"f5 canvas","username":"KoolieAid","description":"settings in common header, just change macros\n\nits school work chill","likes":1,"published":1,"flags":32,"usePreview":0,"tags":["finalexam"],"hasliked":0,"parentid":"","parentname":""}}